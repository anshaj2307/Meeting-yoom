"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@stream-io";
exports.ids = ["vendor-chunks/@stream-io"];
exports.modules = {

/***/ "(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js":
/*!***************************************************************!*\
  !*** ./node_modules/@stream-io/video-client/dist/index.es.js ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* binding */ AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* binding */ AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   AxiosError: () => (/* reexport safe */ axios__WEBPACK_IMPORTED_MODULE_1__.AxiosError),\n/* harmony export */   Browsers: () => (/* binding */ browsers),\n/* harmony export */   Call: () => (/* binding */ Call),\n/* harmony export */   CallState: () => (/* binding */ CallState),\n/* harmony export */   CallType: () => (/* binding */ CallType),\n/* harmony export */   CallTypes: () => (/* binding */ CallTypes),\n/* harmony export */   CallingState: () => (/* binding */ CallingState),\n/* harmony export */   CameraManager: () => (/* binding */ CameraManager),\n/* harmony export */   CameraManagerState: () => (/* binding */ CameraManagerState),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* binding */ CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DebounceType: () => (/* binding */ DebounceType),\n/* harmony export */   DynascaleManager: () => (/* binding */ DynascaleManager),\n/* harmony export */   ErrorFromResponse: () => (/* binding */ ErrorFromResponse),\n/* harmony export */   FrameRecordingSettingsRequestModeEnum: () => (/* binding */ FrameRecordingSettingsRequestModeEnum),\n/* harmony export */   FrameRecordingSettingsRequestQualityEnum: () => (/* binding */ FrameRecordingSettingsRequestQualityEnum),\n/* harmony export */   FrameRecordingSettingsResponseModeEnum: () => (/* binding */ FrameRecordingSettingsResponseModeEnum),\n/* harmony export */   InputMediaDeviceManager: () => (/* binding */ InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* binding */ InputMediaDeviceManagerState),\n/* harmony export */   LayoutSettingsRequestNameEnum: () => (/* binding */ LayoutSettingsRequestNameEnum),\n/* harmony export */   MicrophoneManager: () => (/* binding */ MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* binding */ MicrophoneManagerState),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* binding */ NoiseCancellationSettingsModeEnum),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   RTMPBroadcastRequestQualityEnum: () => (/* binding */ RTMPBroadcastRequestQualityEnum),\n/* harmony export */   RTMPSettingsRequestQualityEnum: () => (/* binding */ RTMPSettingsRequestQualityEnum),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* binding */ RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* binding */ RecordSettingsRequestQualityEnum),\n/* harmony export */   RxUtils: () => (/* binding */ rxUtils),\n/* harmony export */   ScreenShareManager: () => (/* binding */ ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* binding */ ScreenShareState),\n/* harmony export */   SfuEvents: () => (/* binding */ events),\n/* harmony export */   SfuModels: () => (/* binding */ models),\n/* harmony export */   SpeakerManager: () => (/* binding */ SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* binding */ SpeakerState),\n/* harmony export */   StartClosedCaptionsRequestLanguageEnum: () => (/* binding */ StartClosedCaptionsRequestLanguageEnum),\n/* harmony export */   StartTranscriptionRequestLanguageEnum: () => (/* binding */ StartTranscriptionRequestLanguageEnum),\n/* harmony export */   StreamSfuClient: () => (/* binding */ StreamSfuClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* binding */ StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* binding */ StreamVideoWriteableStateStore),\n/* harmony export */   TranscriptionSettingsRequestClosedCaptionModeEnum: () => (/* binding */ TranscriptionSettingsRequestClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsRequestLanguageEnum: () => (/* binding */ TranscriptionSettingsRequestLanguageEnum),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* binding */ TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseClosedCaptionModeEnum: () => (/* binding */ TranscriptionSettingsResponseClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsResponseLanguageEnum: () => (/* binding */ TranscriptionSettingsResponseLanguageEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* binding */ TranscriptionSettingsResponseModeEnum),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* binding */ VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* binding */ VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* binding */ ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* binding */ VisibilityState),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* binding */ checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* binding */ combineComparators),\n/* harmony export */   conditional: () => (/* binding */ conditional),\n/* harmony export */   createSoundDetector: () => (/* binding */ createSoundDetector),\n/* harmony export */   defaultSortPreset: () => (/* binding */ defaultSortPreset),\n/* harmony export */   descending: () => (/* binding */ descending),\n/* harmony export */   deviceIds$: () => (/* binding */ deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* binding */ disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* binding */ dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* binding */ getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* binding */ getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* binding */ getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* binding */ getAudioStream),\n/* harmony export */   getClientDetails: () => (/* binding */ getClientDetails),\n/* harmony export */   getDeviceState: () => (/* binding */ getDeviceState),\n/* harmony export */   getLogLevel: () => (/* binding */ getLogLevel),\n/* harmony export */   getLogger: () => (/* binding */ getLogger),\n/* harmony export */   getScreenShareStream: () => (/* binding */ getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* binding */ getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* binding */ getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* binding */ getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* binding */ getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* binding */ getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* binding */ hasAudio),\n/* harmony export */   hasScreenShare: () => (/* binding */ hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* binding */ hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* binding */ hasVideo),\n/* harmony export */   isPinned: () => (/* binding */ isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* binding */ livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* binding */ logLevels),\n/* harmony export */   logToConsole: () => (/* binding */ logToConsole),\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   noopComparator: () => (/* binding */ noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* binding */ paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* binding */ pinned),\n/* harmony export */   publishingAudio: () => (/* binding */ publishingAudio),\n/* harmony export */   publishingVideo: () => (/* binding */ publishingVideo),\n/* harmony export */   reactionType: () => (/* binding */ reactionType),\n/* harmony export */   role: () => (/* binding */ role),\n/* harmony export */   screenSharing: () => (/* binding */ screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* binding */ setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* binding */ setLogLevel),\n/* harmony export */   setLogger: () => (/* binding */ setLogger),\n/* harmony export */   setOSInfo: () => (/* binding */ setOSInfo),\n/* harmony export */   setPowerState: () => (/* binding */ setPowerState),\n/* harmony export */   setSdkInfo: () => (/* binding */ setSdkInfo),\n/* harmony export */   setThermalState: () => (/* binding */ setThermalState),\n/* harmony export */   setWebRTCInfo: () => (/* binding */ setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* binding */ speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* binding */ speaking)\n/* harmony export */ });\n/* harmony import */ var webrtc_adapter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! webrtc-adapter */ \"(ssr)/./node_modules/webrtc-adapter/src/js/adapter_core.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/message-type.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/json-typings.js\");\n/* harmony import */ var _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @protobuf-ts/runtime */ \"(ssr)/./node_modules/@protobuf-ts/runtime/build/es2015/pb-long.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/service-type.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-interceptor.js\");\n/* harmony import */ var _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @protobuf-ts/runtime-rpc */ \"(ssr)/./node_modules/@protobuf-ts/runtime-rpc/build/es2015/rpc-error.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/lib/axios.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ \"(ssr)/./node_modules/axios/index.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/./node_modules/@protobuf-ts/twirp-transport/build/es2015/twirp-transport.js\");\n/* harmony import */ var _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @protobuf-ts/twirp-transport */ \"(ssr)/./node_modules/@protobuf-ts/twirp-transport/build/es2015/twitch-twirp-error-code.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/combineLatest.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/BehaviorSubject.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/shareReplay.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/takeWhile.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilKeyChanged.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEventPattern.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/concatMap.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/operators/pairwise.js\");\n/* harmony import */ var _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! __barrel_optimize__?names=BehaviorSubject,ReplaySubject,combineLatest,concatMap,debounceTime,distinctUntilChanged,distinctUntilKeyChanged,from,fromEvent,fromEventPattern,map,merge,of,pairwise,shareReplay,startWith,takeWhile!=!rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ua-parser-js */ \"(ssr)/./node_modules/ua-parser-js/src/ua-parser.js\");\n/* harmony import */ var ua_parser_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ua_parser_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var sdp_transform__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! sdp-transform */ \"(ssr)/./node_modules/sdp-transform/lib/index.js\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! https */ \"https\");\n/* harmony import */ var https__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(https__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n\n\n\n\n\n/* tslint:disable */ /**\n * @export\n */ const AudioSettingsRequestDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const AudioSettingsResponseDefaultDeviceEnum = {\n    SPEAKER: \"speaker\",\n    EARPIECE: \"earpiece\"\n};\n/**\n * @export\n */ const CreateDeviceRequestPushProviderEnum = {\n    FIREBASE: \"firebase\",\n    APN: \"apn\",\n    HUAWEI: \"huawei\",\n    XIAOMI: \"xiaomi\"\n};\n/**\n * @export\n */ const FrameRecordingSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const FrameRecordingSettingsRequestQualityEnum = {\n    _360P: \"360p\",\n    _480P: \"480p\",\n    _720P: \"720p\",\n    _1080P: \"1080p\",\n    _1440P: \"1440p\",\n    _2160P: \"2160p\"\n};\n/**\n * @export\n */ const FrameRecordingSettingsResponseModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const LayoutSettingsRequestNameEnum = {\n    SPOTLIGHT: \"spotlight\",\n    GRID: \"grid\",\n    SINGLE_PARTICIPANT: \"single-participant\",\n    MOBILE: \"mobile\",\n    CUSTOM: \"custom\"\n};\n/**\n * @export\n */ const NoiseCancellationSettingsModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * All possibility of string to use\n * @export\n */ const OwnCapability = {\n    BLOCK_USERS: \"block-users\",\n    CHANGE_MAX_DURATION: \"change-max-duration\",\n    CREATE_CALL: \"create-call\",\n    CREATE_REACTION: \"create-reaction\",\n    ENABLE_NOISE_CANCELLATION: \"enable-noise-cancellation\",\n    END_CALL: \"end-call\",\n    JOIN_BACKSTAGE: \"join-backstage\",\n    JOIN_CALL: \"join-call\",\n    JOIN_ENDED_CALL: \"join-ended-call\",\n    MUTE_USERS: \"mute-users\",\n    PIN_FOR_EVERYONE: \"pin-for-everyone\",\n    READ_CALL: \"read-call\",\n    REMOVE_CALL_MEMBER: \"remove-call-member\",\n    SCREENSHARE: \"screenshare\",\n    SEND_AUDIO: \"send-audio\",\n    SEND_VIDEO: \"send-video\",\n    START_BROADCAST_CALL: \"start-broadcast-call\",\n    START_CLOSED_CAPTIONS_CALL: \"start-closed-captions-call\",\n    START_FRAME_RECORD_CALL: \"start-frame-record-call\",\n    START_RECORD_CALL: \"start-record-call\",\n    START_TRANSCRIPTION_CALL: \"start-transcription-call\",\n    STOP_BROADCAST_CALL: \"stop-broadcast-call\",\n    STOP_CLOSED_CAPTIONS_CALL: \"stop-closed-captions-call\",\n    STOP_FRAME_RECORD_CALL: \"stop-frame-record-call\",\n    STOP_RECORD_CALL: \"stop-record-call\",\n    STOP_TRANSCRIPTION_CALL: \"stop-transcription-call\",\n    UPDATE_CALL: \"update-call\",\n    UPDATE_CALL_MEMBER: \"update-call-member\",\n    UPDATE_CALL_PERMISSIONS: \"update-call-permissions\",\n    UPDATE_CALL_SETTINGS: \"update-call-settings\"\n};\n/**\n * @export\n */ const RTMPBroadcastRequestQualityEnum = {\n    _360P: \"360p\",\n    _480P: \"480p\",\n    _720P: \"720p\",\n    _1080P: \"1080p\",\n    _1440P: \"1440p\",\n    _2160P: \"2160p\",\n    PORTRAIT_360X640: \"portrait-360x640\",\n    PORTRAIT_480X854: \"portrait-480x854\",\n    PORTRAIT_720X1280: \"portrait-720x1280\",\n    PORTRAIT_1080X1920: \"portrait-1080x1920\",\n    PORTRAIT_1440X2560: \"portrait-1440x2560\",\n    PORTRAIT_2160X3840: \"portrait-2160x3840\"\n};\n/**\n * @export\n */ const RTMPSettingsRequestQualityEnum = {\n    _360P: \"360p\",\n    _480P: \"480p\",\n    _720P: \"720p\",\n    _1080P: \"1080p\",\n    _1440P: \"1440p\",\n    _2160P: \"2160p\",\n    PORTRAIT_360X640: \"portrait-360x640\",\n    PORTRAIT_480X854: \"portrait-480x854\",\n    PORTRAIT_720X1280: \"portrait-720x1280\",\n    PORTRAIT_1080X1920: \"portrait-1080x1920\",\n    PORTRAIT_1440X2560: \"portrait-1440x2560\",\n    PORTRAIT_2160X3840: \"portrait-2160x3840\"\n};\n/**\n * @export\n */ const RecordSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const RecordSettingsRequestQualityEnum = {\n    _360P: \"360p\",\n    _480P: \"480p\",\n    _720P: \"720p\",\n    _1080P: \"1080p\",\n    _1440P: \"1440p\",\n    _2160P: \"2160p\",\n    PORTRAIT_360X640: \"portrait-360x640\",\n    PORTRAIT_480X854: \"portrait-480x854\",\n    PORTRAIT_720X1280: \"portrait-720x1280\",\n    PORTRAIT_1080X1920: \"portrait-1080x1920\",\n    PORTRAIT_1440X2560: \"portrait-1440x2560\",\n    PORTRAIT_2160X3840: \"portrait-2160x3840\"\n};\n/**\n * @export\n */ const StartClosedCaptionsRequestLanguageEnum = {\n    AUTO: \"auto\",\n    EN: \"en\",\n    FR: \"fr\",\n    ES: \"es\",\n    DE: \"de\",\n    IT: \"it\",\n    NL: \"nl\",\n    PT: \"pt\",\n    PL: \"pl\",\n    CA: \"ca\",\n    CS: \"cs\",\n    DA: \"da\",\n    EL: \"el\",\n    FI: \"fi\",\n    ID: \"id\",\n    JA: \"ja\",\n    RU: \"ru\",\n    SV: \"sv\",\n    TA: \"ta\",\n    TH: \"th\",\n    TR: \"tr\",\n    HU: \"hu\",\n    RO: \"ro\",\n    ZH: \"zh\",\n    AR: \"ar\",\n    TL: \"tl\",\n    HE: \"he\",\n    HI: \"hi\",\n    HR: \"hr\",\n    KO: \"ko\",\n    MS: \"ms\",\n    NO: \"no\",\n    UK: \"uk\",\n    BG: \"bg\",\n    ET: \"et\",\n    SL: \"sl\",\n    SK: \"sk\"\n};\n/**\n * @export\n */ const StartTranscriptionRequestLanguageEnum = {\n    AUTO: \"auto\",\n    EN: \"en\",\n    FR: \"fr\",\n    ES: \"es\",\n    DE: \"de\",\n    IT: \"it\",\n    NL: \"nl\",\n    PT: \"pt\",\n    PL: \"pl\",\n    CA: \"ca\",\n    CS: \"cs\",\n    DA: \"da\",\n    EL: \"el\",\n    FI: \"fi\",\n    ID: \"id\",\n    JA: \"ja\",\n    RU: \"ru\",\n    SV: \"sv\",\n    TA: \"ta\",\n    TH: \"th\",\n    TR: \"tr\",\n    HU: \"hu\",\n    RO: \"ro\",\n    ZH: \"zh\",\n    AR: \"ar\",\n    TL: \"tl\",\n    HE: \"he\",\n    HI: \"hi\",\n    HR: \"hr\",\n    KO: \"ko\",\n    MS: \"ms\",\n    NO: \"no\",\n    UK: \"uk\",\n    BG: \"bg\",\n    ET: \"et\",\n    SL: \"sl\",\n    SK: \"sk\"\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestClosedCaptionModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestLanguageEnum = {\n    AUTO: \"auto\",\n    EN: \"en\",\n    FR: \"fr\",\n    ES: \"es\",\n    DE: \"de\",\n    IT: \"it\",\n    NL: \"nl\",\n    PT: \"pt\",\n    PL: \"pl\",\n    CA: \"ca\",\n    CS: \"cs\",\n    DA: \"da\",\n    EL: \"el\",\n    FI: \"fi\",\n    ID: \"id\",\n    JA: \"ja\",\n    RU: \"ru\",\n    SV: \"sv\",\n    TA: \"ta\",\n    TH: \"th\",\n    TR: \"tr\",\n    HU: \"hu\",\n    RO: \"ro\",\n    ZH: \"zh\",\n    AR: \"ar\",\n    TL: \"tl\",\n    HE: \"he\",\n    HI: \"hi\",\n    HR: \"hr\",\n    KO: \"ko\",\n    MS: \"ms\",\n    NO: \"no\",\n    UK: \"uk\",\n    BG: \"bg\",\n    ET: \"et\",\n    SL: \"sl\",\n    SK: \"sk\"\n};\n/**\n * @export\n */ const TranscriptionSettingsRequestModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseClosedCaptionModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseLanguageEnum = {\n    AUTO: \"auto\",\n    EN: \"en\",\n    FR: \"fr\",\n    ES: \"es\",\n    DE: \"de\",\n    IT: \"it\",\n    NL: \"nl\",\n    PT: \"pt\",\n    PL: \"pl\",\n    CA: \"ca\",\n    CS: \"cs\",\n    DA: \"da\",\n    EL: \"el\",\n    FI: \"fi\",\n    ID: \"id\",\n    JA: \"ja\",\n    RU: \"ru\",\n    SV: \"sv\",\n    TA: \"ta\",\n    TH: \"th\",\n    TR: \"tr\",\n    HU: \"hu\",\n    RO: \"ro\",\n    ZH: \"zh\",\n    AR: \"ar\",\n    TL: \"tl\",\n    HE: \"he\",\n    HI: \"hi\",\n    HR: \"hr\",\n    KO: \"ko\",\n    MS: \"ms\",\n    NO: \"no\",\n    UK: \"uk\",\n    BG: \"bg\",\n    ET: \"et\",\n    SL: \"sl\",\n    SK: \"sk\"\n};\n/**\n * @export\n */ const TranscriptionSettingsResponseModeEnum = {\n    AVAILABLE: \"available\",\n    DISABLED: \"disabled\",\n    AUTO_ON: \"auto-on\"\n};\n/**\n * @export\n */ const VideoSettingsRequestCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\n/**\n * @export\n */ const VideoSettingsResponseCameraFacingEnum = {\n    FRONT: \"front\",\n    BACK: \"back\",\n    EXTERNAL: \"external\"\n};\nclass ErrorFromResponse extends Error {\n    constructor({ message, code, status, response, unrecoverable }){\n        super(message);\n        this.name = \"ErrorFromResponse\";\n        this.code = code;\n        this.response = response;\n        this.status = status;\n        this.unrecoverable = unrecoverable;\n    }\n    // Vitest helper (serialized errors are too large to read)\n    // https://github.com/vitest-dev/vitest/blob/v3.1.3/packages/utils/src/error.ts#L60-L62\n    toJSON() {\n        const extra = [\n            [\n                \"status\",\n                this.status\n            ],\n            [\n                \"code\",\n                this.code\n            ],\n            [\n                \"unrecoverable\",\n                this.unrecoverable\n            ]\n        ];\n        const joinable = [];\n        for (const [key, value] of extra){\n            if (typeof value !== \"undefined\" && value !== null) {\n                joinable.push(`${key}: ${value}`);\n            }\n        }\n        return {\n            message: `(${joinable.join(\", \")}) - ${this.message}`,\n            stack: this.stack,\n            name: this.name\n        };\n    }\n}\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"google/protobuf/struct.proto\" (package \"google.protobuf\", syntax proto3)\n// tslint:disable\n//\n// Protocol Buffers - Google's data interchange format\n// Copyright 2008 Google Inc.  All rights reserved.\n// https://developers.google.com/protocol-buffers/\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//     * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n/**\n * `NullValue` is a singleton enumeration to represent the null value for the\n * `Value` type union.\n *\n *  The JSON representation for `NullValue` is JSON `null`.\n *\n * @generated from protobuf enum google.protobuf.NullValue\n */ var NullValue;\n(function(NullValue) {\n    /**\n     * Null value.\n     *\n     * @generated from protobuf enum value: NULL_VALUE = 0;\n     */ NullValue[NullValue[\"NULL_VALUE\"] = 0] = \"NULL_VALUE\";\n})(NullValue || (NullValue = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass Struct$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Struct\", [\n            {\n                no: 1,\n                name: \"fields\",\n                kind: \"map\",\n                K: 9 /*ScalarType.STRING*/ ,\n                V: {\n                    kind: \"message\",\n                    T: ()=>Value\n                }\n            }\n        ]);\n    }\n    /**\n     * Encode `Struct` to JSON object.\n     */ internalJsonWrite(message, options) {\n        let json = {};\n        for (let [k, v] of Object.entries(message.fields)){\n            json[k] = Value.toJson(v);\n        }\n        return json;\n    }\n    /**\n     * Decode `Struct` from JSON object.\n     */ internalJsonRead(json, options, target) {\n        if (!(0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.isJsonObject)(json)) throw new globalThis.Error(\"Unable to parse message \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json) + \".\");\n        if (!target) target = this.create();\n        for (let [k, v] of globalThis.Object.entries(json)){\n            target.fields[k] = Value.fromJson(v);\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Struct\n */ const Struct = new Struct$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Value$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Value\", [\n            {\n                no: 1,\n                name: \"null_value\",\n                kind: \"enum\",\n                oneof: \"kind\",\n                T: ()=>[\n                        \"google.protobuf.NullValue\",\n                        NullValue\n                    ]\n            },\n            {\n                no: 2,\n                name: \"number_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 1 /*ScalarType.DOUBLE*/ \n            },\n            {\n                no: 3,\n                name: \"string_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"bool_value\",\n                kind: \"scalar\",\n                oneof: \"kind\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 5,\n                name: \"struct_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"list_value\",\n                kind: \"message\",\n                oneof: \"kind\",\n                T: ()=>ListValue\n            }\n        ]);\n    }\n    /**\n     * Encode `Value` to JSON value.\n     */ internalJsonWrite(message, options) {\n        if (message.kind.oneofKind === undefined) throw new globalThis.Error();\n        switch(message.kind.oneofKind){\n            case undefined:\n                throw new globalThis.Error();\n            case \"boolValue\":\n                return message.kind.boolValue;\n            case \"nullValue\":\n                return null;\n            case \"numberValue\":\n                let numberValue = message.kind.numberValue;\n                if (typeof numberValue == \"number\" && !Number.isFinite(numberValue)) throw new globalThis.Error();\n                return numberValue;\n            case \"stringValue\":\n                return message.kind.stringValue;\n            case \"listValue\":\n                let listValueField = this.fields.find((f)=>f.no === 6);\n                if (listValueField?.kind !== \"message\") throw new globalThis.Error();\n                return listValueField.T().toJson(message.kind.listValue);\n            case \"structValue\":\n                let structValueField = this.fields.find((f)=>f.no === 5);\n                if (structValueField?.kind !== \"message\") throw new globalThis.Error();\n                return structValueField.T().toJson(message.kind.structValue);\n        }\n    }\n    /**\n     * Decode `Value` from JSON value.\n     */ internalJsonRead(json, options, target) {\n        if (!target) target = this.create();\n        switch(typeof json){\n            case \"number\":\n                target.kind = {\n                    oneofKind: \"numberValue\",\n                    numberValue: json\n                };\n                break;\n            case \"string\":\n                target.kind = {\n                    oneofKind: \"stringValue\",\n                    stringValue: json\n                };\n                break;\n            case \"boolean\":\n                target.kind = {\n                    oneofKind: \"boolValue\",\n                    boolValue: json\n                };\n                break;\n            case \"object\":\n                if (json === null) {\n                    target.kind = {\n                        oneofKind: \"nullValue\",\n                        nullValue: NullValue.NULL_VALUE\n                    };\n                } else if (globalThis.Array.isArray(json)) {\n                    target.kind = {\n                        oneofKind: \"listValue\",\n                        listValue: ListValue.fromJson(json)\n                    };\n                } else {\n                    target.kind = {\n                        oneofKind: \"structValue\",\n                        structValue: Struct.fromJson(json)\n                    };\n                }\n                break;\n            default:\n                throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json));\n        }\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Value\n */ const Value = new Value$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ListValue$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.ListValue\", [\n            {\n                no: 1,\n                name: \"values\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Value\n            }\n        ]);\n    }\n    /**\n     * Encode `ListValue` to JSON array.\n     */ internalJsonWrite(message, options) {\n        return message.values.map((v)=>Value.toJson(v));\n    }\n    /**\n     * Decode `ListValue` from JSON array.\n     */ internalJsonRead(json, options, target) {\n        if (!globalThis.Array.isArray(json)) throw new globalThis.Error(\"Unable to parse \" + this.typeName + \" from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json));\n        if (!target) target = this.create();\n        let values = json.map((v)=>Value.fromJson(v));\n        target.values.push(...values);\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.ListValue\n */ const ListValue = new ListValue$Type();\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"google/protobuf/timestamp.proto\" (package \"google.protobuf\", syntax proto3)\n// tslint:disable\n//\n// Protocol Buffers - Google's data interchange format\n// Copyright 2008 Google Inc.  All rights reserved.\n// https://developers.google.com/protocol-buffers/\n//\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n// notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n// copyright notice, this list of conditions and the following disclaimer\n// in the documentation and/or other materials provided with the\n// distribution.\n//     * Neither the name of Google Inc. nor the names of its\n// contributors may be used to endorse or promote products derived from\n// this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n//\n// @generated message type with reflection information, may provide speed optimized methods\nclass Timestamp$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"google.protobuf.Timestamp\", [\n            {\n                no: 1,\n                name: \"seconds\",\n                kind: \"scalar\",\n                T: 3 /*ScalarType.INT64*/ \n            },\n            {\n                no: 2,\n                name: \"nanos\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n    /**\n     * Creates a new `Timestamp` for the current time.\n     */ now() {\n        const msg = this.create();\n        const ms = Date.now();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = ms % 1000 * 1000000;\n        return msg;\n    }\n    /**\n     * Converts a `Timestamp` to a JavaScript Date.\n     */ toDate(message) {\n        return new Date(_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(message.seconds).toNumber() * 1000 + Math.ceil(message.nanos / 1000000));\n    }\n    /**\n     * Converts a JavaScript Date to a `Timestamp`.\n     */ fromDate(date) {\n        const msg = this.create();\n        const ms = date.getTime();\n        msg.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(Math.floor(ms / 1000)).toString();\n        msg.nanos = (ms % 1000 + (ms < 0 && ms % 1000 !== 0 ? 1000 : 0)) * 1000000;\n        return msg;\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonWrite(message, options) {\n        let ms = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(message.seconds).toNumber() * 1000;\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new Error(\"Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (message.nanos < 0) throw new Error(\"Unable to encode invalid Timestamp to JSON. Nanos must not be negative.\");\n        let z = \"Z\";\n        if (message.nanos > 0) {\n            let nanosStr = (message.nanos + 1000000000).toString().substring(1);\n            if (nanosStr.substring(3) === \"000000\") z = \".\" + nanosStr.substring(0, 3) + \"Z\";\n            else if (nanosStr.substring(6) === \"000\") z = \".\" + nanosStr.substring(0, 6) + \"Z\";\n            else z = \".\" + nanosStr + \"Z\";\n        }\n        return new Date(ms).toISOString().replace(\".000Z\", z);\n    }\n    /**\n     * In JSON format, the `Timestamp` type is encoded as a string\n     * in the RFC 3339 format.\n     */ internalJsonRead(json, options, target) {\n        if (typeof json !== \"string\") throw new Error(\"Unable to parse Timestamp from JSON \" + (0,_protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_6__.typeofJsonValue)(json) + \".\");\n        let matches = json.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);\n        if (!matches) throw new Error(\"Unable to parse Timestamp from JSON. Invalid format.\");\n        let ms = Date.parse(matches[1] + \"-\" + matches[2] + \"-\" + matches[3] + \"T\" + matches[4] + \":\" + matches[5] + \":\" + matches[6] + (matches[8] ? matches[8] : \"Z\"));\n        if (Number.isNaN(ms)) throw new Error(\"Unable to parse Timestamp from JSON. Invalid value.\");\n        if (ms < Date.parse(\"0001-01-01T00:00:00Z\") || ms > Date.parse(\"9999-12-31T23:59:59Z\")) throw new globalThis.Error(\"Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.\");\n        if (!target) target = this.create();\n        target.seconds = _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_7__.PbLong.from(ms / 1000).toString();\n        target.nanos = 0;\n        if (matches[7]) target.nanos = parseInt(\"1\" + matches[7] + \"0\".repeat(9 - matches[7].length)) - 1000000000;\n        return target;\n    }\n}\n/**\n * @generated MessageType for protobuf message google.protobuf.Timestamp\n */ const Timestamp = new Timestamp$Type();\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/models/models.proto\" (package \"stream.video.sfu.models\", syntax proto3)\n// tslint:disable\n/**\n * @generated from protobuf enum stream.video.sfu.models.PeerType\n */ var PeerType;\n(function(PeerType) {\n    /**\n     * todo fix me (marcelo)\n     *\n     * @generated from protobuf enum value: PEER_TYPE_PUBLISHER_UNSPECIFIED = 0;\n     */ PeerType[PeerType[\"PUBLISHER_UNSPECIFIED\"] = 0] = \"PUBLISHER_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: PEER_TYPE_SUBSCRIBER = 1;\n     */ PeerType[PeerType[\"SUBSCRIBER\"] = 1] = \"SUBSCRIBER\";\n})(PeerType || (PeerType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ConnectionQuality\n */ var ConnectionQuality;\n(function(ConnectionQuality) {\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_UNSPECIFIED = 0;\n     */ ConnectionQuality[ConnectionQuality[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_POOR = 1;\n     */ ConnectionQuality[ConnectionQuality[\"POOR\"] = 1] = \"POOR\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_GOOD = 2;\n     */ ConnectionQuality[ConnectionQuality[\"GOOD\"] = 2] = \"GOOD\";\n    /**\n     * @generated from protobuf enum value: CONNECTION_QUALITY_EXCELLENT = 3;\n     */ ConnectionQuality[ConnectionQuality[\"EXCELLENT\"] = 3] = \"EXCELLENT\";\n})(ConnectionQuality || (ConnectionQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.VideoQuality\n */ var VideoQuality;\n(function(VideoQuality) {\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_LOW_UNSPECIFIED = 0;\n     */ VideoQuality[VideoQuality[\"LOW_UNSPECIFIED\"] = 0] = \"LOW_UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_MID = 1;\n     */ VideoQuality[VideoQuality[\"MID\"] = 1] = \"MID\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_HIGH = 2;\n     */ VideoQuality[VideoQuality[\"HIGH\"] = 2] = \"HIGH\";\n    /**\n     * @generated from protobuf enum value: VIDEO_QUALITY_OFF = 3;\n     */ VideoQuality[VideoQuality[\"OFF\"] = 3] = \"OFF\";\n})(VideoQuality || (VideoQuality = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackType\n */ var TrackType;\n(function(TrackType) {\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_UNSPECIFIED = 0;\n     */ TrackType[TrackType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_AUDIO = 1;\n     */ TrackType[TrackType[\"AUDIO\"] = 1] = \"AUDIO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_VIDEO = 2;\n     */ TrackType[TrackType[\"VIDEO\"] = 2] = \"VIDEO\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE = 3;\n     */ TrackType[TrackType[\"SCREEN_SHARE\"] = 3] = \"SCREEN_SHARE\";\n    /**\n     * @generated from protobuf enum value: TRACK_TYPE_SCREEN_SHARE_AUDIO = 4;\n     */ TrackType[TrackType[\"SCREEN_SHARE_AUDIO\"] = 4] = \"SCREEN_SHARE_AUDIO\";\n})(TrackType || (TrackType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.ErrorCode\n */ var ErrorCode;\n(function(ErrorCode) {\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNSPECIFIED = 0;\n     */ ErrorCode[ErrorCode[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_NOT_FOUND = 100;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_NOT_FOUND\"] = 100] = \"PUBLISH_TRACK_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACKS_MISMATCH = 101;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACKS_MISMATCH\"] = 101] = \"PUBLISH_TRACKS_MISMATCH\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_OUT_OF_ORDER = 102;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_OUT_OF_ORDER\"] = 102] = \"PUBLISH_TRACK_OUT_OF_ORDER\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND = 103;\n     */ ErrorCode[ErrorCode[\"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\"] = 103] = \"PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_LIVE_ENDED = 104;\n     */ ErrorCode[ErrorCode[\"LIVE_ENDED\"] = 104] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_NOT_FOUND = 200;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_NOT_FOUND\"] = 200] = \"PARTICIPANT_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING_OUT = 201;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING_OUT\"] = 201] = \"PARTICIPANT_MIGRATING_OUT\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATION_FAILED = 202;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATION_FAILED\"] = 202] = \"PARTICIPANT_MIGRATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MIGRATING = 203;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MIGRATING\"] = 203] = \"PARTICIPANT_MIGRATING\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_RECONNECT_FAILED = 204;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_RECONNECT_FAILED\"] = 204] = \"PARTICIPANT_RECONNECT_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_MEDIA_TRANSPORT_FAILURE = 205;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\"] = 205] = \"PARTICIPANT_MEDIA_TRANSPORT_FAILURE\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PARTICIPANT_SIGNAL_LOST = 206;\n     */ ErrorCode[ErrorCode[\"PARTICIPANT_SIGNAL_LOST\"] = 206] = \"PARTICIPANT_SIGNAL_LOST\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_CALL_NOT_FOUND = 300;\n     */ ErrorCode[ErrorCode[\"CALL_NOT_FOUND\"] = 300] = \"CALL_NOT_FOUND\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_REQUEST_VALIDATION_FAILED = 400;\n     */ ErrorCode[ErrorCode[\"REQUEST_VALIDATION_FAILED\"] = 400] = \"REQUEST_VALIDATION_FAILED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_UNAUTHENTICATED = 401;\n     */ ErrorCode[ErrorCode[\"UNAUTHENTICATED\"] = 401] = \"UNAUTHENTICATED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_PERMISSION_DENIED = 403;\n     */ ErrorCode[ErrorCode[\"PERMISSION_DENIED\"] = 403] = \"PERMISSION_DENIED\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_TOO_MANY_REQUESTS = 429;\n     */ ErrorCode[ErrorCode[\"TOO_MANY_REQUESTS\"] = 429] = \"TOO_MANY_REQUESTS\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_INTERNAL_SERVER_ERROR = 500;\n     */ ErrorCode[ErrorCode[\"INTERNAL_SERVER_ERROR\"] = 500] = \"INTERNAL_SERVER_ERROR\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_SHUTTING_DOWN = 600;\n     */ ErrorCode[ErrorCode[\"SFU_SHUTTING_DOWN\"] = 600] = \"SFU_SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: ERROR_CODE_SFU_FULL = 700;\n     */ ErrorCode[ErrorCode[\"SFU_FULL\"] = 700] = \"SFU_FULL\";\n})(ErrorCode || (ErrorCode = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.SdkType\n */ var SdkType;\n(function(SdkType) {\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNSPECIFIED = 0;\n     */ SdkType[SdkType[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT = 1;\n     */ SdkType[SdkType[\"REACT\"] = 1] = \"REACT\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANGULAR = 2;\n     */ SdkType[SdkType[\"ANGULAR\"] = 2] = \"ANGULAR\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_ANDROID = 3;\n     */ SdkType[SdkType[\"ANDROID\"] = 3] = \"ANDROID\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_IOS = 4;\n     */ SdkType[SdkType[\"IOS\"] = 4] = \"IOS\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_FLUTTER = 5;\n     */ SdkType[SdkType[\"FLUTTER\"] = 5] = \"FLUTTER\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_REACT_NATIVE = 6;\n     */ SdkType[SdkType[\"REACT_NATIVE\"] = 6] = \"REACT_NATIVE\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_UNITY = 7;\n     */ SdkType[SdkType[\"UNITY\"] = 7] = \"UNITY\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_GO = 8;\n     */ SdkType[SdkType[\"GO\"] = 8] = \"GO\";\n    /**\n     * @generated from protobuf enum value: SDK_TYPE_PLAIN_JAVASCRIPT = 9;\n     */ SdkType[SdkType[\"PLAIN_JAVASCRIPT\"] = 9] = \"PLAIN_JAVASCRIPT\";\n})(SdkType || (SdkType = {}));\n/**\n * @generated from protobuf enum stream.video.sfu.models.TrackUnpublishReason\n */ var TrackUnpublishReason;\n(function(TrackUnpublishReason) {\n    /**\n     * Default value which is used when the specific reason\n     * for muting the track is not known.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_UNSPECIFIED = 0;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Represents user muting their tracks.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_USER_MUTED = 1;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"USER_MUTED\"] = 1] = \"USER_MUTED\";\n    /**\n     * Represents muting the track because the permission to\n     * publish the track has been revoked.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_PERMISSION_REVOKED = 2;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"PERMISSION_REVOKED\"] = 2] = \"PERMISSION_REVOKED\";\n    /**\n     * Represents muting the track due to moderation actions.\n     * This is different from permission revoked because the\n     * participant can unmute themselves here whereas in case\n     * of \"permission revoke\" it is not possible until the\n     * call permissions are updated.\n     *\n     * @generated from protobuf enum value: TRACK_UNPUBLISH_REASON_MODERATION = 3;\n     */ TrackUnpublishReason[TrackUnpublishReason[\"MODERATION\"] = 3] = \"MODERATION\";\n})(TrackUnpublishReason || (TrackUnpublishReason = {}));\n/**\n * GoAwayReason represents the reason for the SFU to\n * disconnect the client.\n *\n * @generated from protobuf enum stream.video.sfu.models.GoAwayReason\n */ var GoAwayReason;\n(function(GoAwayReason) {\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_UNSPECIFIED = 0;\n     */ GoAwayReason[GoAwayReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_SHUTTING_DOWN = 1;\n     */ GoAwayReason[GoAwayReason[\"SHUTTING_DOWN\"] = 1] = \"SHUTTING_DOWN\";\n    /**\n     * @generated from protobuf enum value: GO_AWAY_REASON_REBALANCE = 2;\n     */ GoAwayReason[GoAwayReason[\"REBALANCE\"] = 2] = \"REBALANCE\";\n})(GoAwayReason || (GoAwayReason = {}));\n/**\n * CallEndedReason represents the reason for the call to end.\n *\n * @generated from protobuf enum stream.video.sfu.models.CallEndedReason\n */ var CallEndedReason;\n(function(CallEndedReason) {\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_UNSPECIFIED = 0;\n     */ CallEndedReason[CallEndedReason[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_ENDED = 1;\n     */ CallEndedReason[CallEndedReason[\"ENDED\"] = 1] = \"ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_LIVE_ENDED = 2;\n     */ CallEndedReason[CallEndedReason[\"LIVE_ENDED\"] = 2] = \"LIVE_ENDED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_KICKED = 3;\n     */ CallEndedReason[CallEndedReason[\"KICKED\"] = 3] = \"KICKED\";\n    /**\n     * @generated from protobuf enum value: CALL_ENDED_REASON_SESSION_ENDED = 4;\n     */ CallEndedReason[CallEndedReason[\"SESSION_ENDED\"] = 4] = \"SESSION_ENDED\";\n})(CallEndedReason || (CallEndedReason = {}));\n/**\n * WebsocketReconnectStrategy defines the ws strategies available for handling reconnections.\n *\n * @generated from protobuf enum stream.video.sfu.models.WebsocketReconnectStrategy\n */ var WebsocketReconnectStrategy;\n(function(WebsocketReconnectStrategy) {\n    /**\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_UNSPECIFIED = 0;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * Sent after reaching the maximum reconnection attempts, or any other unrecoverable error leading to permanent disconnect.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_DISCONNECT = 1;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"DISCONNECT\"] = 1] = \"DISCONNECT\";\n    /**\n     * SDK should maintaining existing publisher/subscriber pc instances\n     * and establish a new WebSocket connection.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_FAST = 2;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"FAST\"] = 2] = \"FAST\";\n    /**\n     * SDK should obtain new credentials from the coordinator, drops existing pc instances, set a new session_id and initializes\n     * a completely new WebSocket connection, ensuring a comprehensive reset.\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_REJOIN = 3;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"REJOIN\"] = 3] = \"REJOIN\";\n    /**\n     * SDK should migrate to a new SFU instance\n     *\n     * @generated from protobuf enum value: WEBSOCKET_RECONNECT_STRATEGY_MIGRATE = 4;\n     */ WebsocketReconnectStrategy[WebsocketReconnectStrategy[\"MIGRATE\"] = 4] = \"MIGRATE\";\n})(WebsocketReconnectStrategy || (WebsocketReconnectStrategy = {}));\n/**\n * AndroidThermalState is reported by the Android API. The full list of values is documented here\n * https://developer.android.com/reference/android/os/PowerManager.html#getCurrentThermalStatus()\n *\n * @generated from protobuf enum stream.video.sfu.models.AndroidThermalState\n */ var AndroidThermalState;\n(function(AndroidThermalState) {\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_UNSPECIFIED = 0;\n     */ AndroidThermalState[AndroidThermalState[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_NONE = 1;\n     */ AndroidThermalState[AndroidThermalState[\"NONE\"] = 1] = \"NONE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_LIGHT = 2;\n     */ AndroidThermalState[AndroidThermalState[\"LIGHT\"] = 2] = \"LIGHT\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_MODERATE = 3;\n     */ AndroidThermalState[AndroidThermalState[\"MODERATE\"] = 3] = \"MODERATE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_SEVERE = 4;\n     */ AndroidThermalState[AndroidThermalState[\"SEVERE\"] = 4] = \"SEVERE\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_CRITICAL = 5;\n     */ AndroidThermalState[AndroidThermalState[\"CRITICAL\"] = 5] = \"CRITICAL\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_EMERGENCY = 6;\n     */ AndroidThermalState[AndroidThermalState[\"EMERGENCY\"] = 6] = \"EMERGENCY\";\n    /**\n     * @generated from protobuf enum value: ANDROID_THERMAL_STATE_SHUTDOWN = 7;\n     */ AndroidThermalState[AndroidThermalState[\"SHUTDOWN\"] = 7] = \"SHUTDOWN\";\n})(AndroidThermalState || (AndroidThermalState = {}));\n/**\n * AppleThermalState is the thermal state as reported by Apple devices when available or applicable to the platform.\n * The full list of states (enum) is available here: https://developer.apple.com/documentation/foundation/processinfo/thermalstate\n *\n * @generated from protobuf enum stream.video.sfu.models.AppleThermalState\n */ var AppleThermalState;\n(function(AppleThermalState) {\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_UNSPECIFIED = 0;\n     */ AppleThermalState[AppleThermalState[\"UNSPECIFIED\"] = 0] = \"UNSPECIFIED\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_NOMINAL = 1;\n     */ AppleThermalState[AppleThermalState[\"NOMINAL\"] = 1] = \"NOMINAL\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_FAIR = 2;\n     */ AppleThermalState[AppleThermalState[\"FAIR\"] = 2] = \"FAIR\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_SERIOUS = 3;\n     */ AppleThermalState[AppleThermalState[\"SERIOUS\"] = 3] = \"SERIOUS\";\n    /**\n     * @generated from protobuf enum value: APPLE_THERMAL_STATE_CRITICAL = 4;\n     */ AppleThermalState[AppleThermalState[\"CRITICAL\"] = 4] = \"CRITICAL\";\n})(AppleThermalState || (AppleThermalState = {}));\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallState\", [\n            {\n                no: 1,\n                name: \"participants\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Participant\n            },\n            {\n                no: 2,\n                name: \"started_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 3,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            },\n            {\n                no: 4,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallState\n */ const CallState$1 = new CallState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantCount$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ParticipantCount\", [\n            {\n                no: 1,\n                name: \"total\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"anonymous\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ParticipantCount\n */ const ParticipantCount = new ParticipantCount$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Pin$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Pin\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Pin\n */ const Pin = new Pin$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Participant$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Participant\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"published_tracks\",\n                kind: \"enum\",\n                repeat: 1 /*RepeatType.PACKED*/ ,\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"joined_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 5,\n                name: \"track_lookup_prefix\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            },\n            {\n                no: 7,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"is_dominant_speaker\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"audio_level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 10,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 11,\n                name: \"image\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 13,\n                name: \"roles\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Participant\n */ const Participant = new Participant$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StreamQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.StreamQuality\", [\n            {\n                no: 1,\n                name: \"video_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.StreamQuality\n */ const StreamQuality = new StreamQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoDimension$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoDimension\", [\n            {\n                no: 1,\n                name: \"width\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"height\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoDimension\n */ const VideoDimension = new VideoDimension$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.VideoLayer\", [\n            {\n                no: 1,\n                name: \"rid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"video_dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            },\n            {\n                no: 4,\n                name: \"bitrate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 5,\n                name: \"fps\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.VideoQuality\",\n                        VideoQuality,\n                        \"VIDEO_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.VideoLayer\n */ const VideoLayer = new VideoLayer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscribeOption$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.SubscribeOption\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"codecs\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Codec\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.SubscribeOption\n */ const SubscribeOption = new SubscribeOption$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublishOption$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.PublishOption\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"bitrate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"fps\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 5,\n                name: \"max_spatial_layers\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 6,\n                name: \"max_temporal_layers\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 7,\n                name: \"video_dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            },\n            {\n                no: 8,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 9,\n                name: \"use_single_layer\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.PublishOption\n */ const PublishOption = new PublishOption$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Codec$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Codec\", [\n            {\n                no: 16,\n                name: \"payload_type\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 10,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 14,\n                name: \"clock_rate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 15,\n                name: \"encoding_parameters\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 12,\n                name: \"fmtp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Codec\n */ const Codec = new Codec$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet ICETrickle$Type$1 = class ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ICETrickle\n */ const ICETrickle$1 = new ICETrickle$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.TrackInfo\", [\n            {\n                no: 1,\n                name: \"track_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>VideoLayer\n            },\n            {\n                no: 6,\n                name: \"mid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"dtx\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 8,\n                name: \"stereo\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 9,\n                name: \"red\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 10,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 11,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 12,\n                name: \"publish_option_id\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.TrackInfo\n */ const TrackInfo = new TrackInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nlet Error$Type$1 = class Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Error\", [\n            {\n                no: 1,\n                name: \"code\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ErrorCode\",\n                        ErrorCode,\n                        \"ERROR_CODE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"should_retry\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n};\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Error\n */ const Error$2 = new Error$Type$1();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ClientDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.ClientDetails\", [\n            {\n                no: 1,\n                name: \"sdk\",\n                kind: \"message\",\n                T: ()=>Sdk\n            },\n            {\n                no: 2,\n                name: \"os\",\n                kind: \"message\",\n                T: ()=>OS\n            },\n            {\n                no: 3,\n                name: \"browser\",\n                kind: \"message\",\n                T: ()=>Browser\n            },\n            {\n                no: 4,\n                name: \"device\",\n                kind: \"message\",\n                T: ()=>Device\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.ClientDetails\n */ const ClientDetails = new ClientDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Sdk$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Sdk\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.SdkType\",\n                        SdkType,\n                        \"SDK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"major\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"minor\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"patch\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Sdk\n */ const Sdk = new Sdk$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass OS$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.OS\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"architecture\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.OS\n */ const OS = new OS$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Browser$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Browser\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Browser\n */ const Browser = new Browser$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass RTMPIngress$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.RTMPIngress\", [\n            {\n                no: 1,\n                name: \"width\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 2,\n                name: \"height\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 3,\n                name: \"frame_rate\",\n                kind: \"scalar\",\n                T: 1 /*ScalarType.DOUBLE*/ \n            },\n            {\n                no: 4,\n                name: \"software\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"encoder\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"remote_addr\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.RTMPIngress\n */ const RTMPIngress = new RTMPIngress$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Device$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Device\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Device\n */ const Device = new Device$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Call$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.Call\", [\n            {\n                no: 1,\n                name: \"type\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"created_by_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"host_user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"custom\",\n                kind: \"message\",\n                T: ()=>Struct\n            },\n            {\n                no: 6,\n                name: \"created_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            },\n            {\n                no: 7,\n                name: \"updated_at\",\n                kind: \"message\",\n                T: ()=>Timestamp\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.Call\n */ const Call$1 = new Call$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrants$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.CallGrants\", [\n            {\n                no: 1,\n                name: \"can_publish_audio\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"can_publish_video\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"can_screenshare\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.CallGrants\n */ const CallGrants = new CallGrants$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass InputDevices$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.InputDevices\", [\n            {\n                no: 1,\n                name: \"available_devices\",\n                kind: \"scalar\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"current_device\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"is_permitted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.InputDevices\n */ const InputDevices = new InputDevices$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AndroidState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.AndroidState\", [\n            {\n                no: 1,\n                name: \"thermal_state\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.AndroidThermalState\",\n                        AndroidThermalState,\n                        \"ANDROID_THERMAL_STATE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"is_power_saver_mode\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.AndroidState\n */ const AndroidState = new AndroidState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AppleState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.AppleState\", [\n            {\n                no: 1,\n                name: \"thermal_state\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.AppleThermalState\",\n                        AppleThermalState,\n                        \"APPLE_THERMAL_STATE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"is_low_power_mode_enabled\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.AppleState\n */ const AppleState = new AppleState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PerformanceStats$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.models.PerformanceStats\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"avg_frame_time_ms\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 4,\n                name: \"avg_fps\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 5,\n                name: \"video_dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            },\n            {\n                no: 6,\n                name: \"target_bitrate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.models.PerformanceStats\n */ const PerformanceStats = new PerformanceStats$Type();\nvar models = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AndroidState: AndroidState,\n    get AndroidThermalState () {\n        return AndroidThermalState;\n    },\n    AppleState: AppleState,\n    get AppleThermalState () {\n        return AppleThermalState;\n    },\n    Browser: Browser,\n    Call: Call$1,\n    get CallEndedReason () {\n        return CallEndedReason;\n    },\n    CallGrants: CallGrants,\n    CallState: CallState$1,\n    ClientDetails: ClientDetails,\n    Codec: Codec,\n    get ConnectionQuality () {\n        return ConnectionQuality;\n    },\n    Device: Device,\n    Error: Error$2,\n    get ErrorCode () {\n        return ErrorCode;\n    },\n    get GoAwayReason () {\n        return GoAwayReason;\n    },\n    ICETrickle: ICETrickle$1,\n    InputDevices: InputDevices,\n    OS: OS,\n    Participant: Participant,\n    ParticipantCount: ParticipantCount,\n    get PeerType () {\n        return PeerType;\n    },\n    PerformanceStats: PerformanceStats,\n    Pin: Pin,\n    PublishOption: PublishOption,\n    RTMPIngress: RTMPIngress,\n    Sdk: Sdk,\n    get SdkType () {\n        return SdkType;\n    },\n    StreamQuality: StreamQuality,\n    SubscribeOption: SubscribeOption,\n    TrackInfo: TrackInfo,\n    get TrackType () {\n        return TrackType;\n    },\n    get TrackUnpublishReason () {\n        return TrackUnpublishReason;\n    },\n    VideoDimension: VideoDimension,\n    VideoLayer: VideoLayer,\n    get VideoQuality () {\n        return VideoQuality;\n    },\n    get WebsocketReconnectStrategy () {\n        return WebsocketReconnectStrategy;\n    }\n});\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/signal_rpc/signal.proto\" (package \"stream.video.sfu.signal\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationRequest\n */ const StartNoiseCancellationRequest = new StartNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StartNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StartNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StartNoiseCancellationResponse\n */ const StartNoiseCancellationResponse = new StartNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationRequest\n */ const StopNoiseCancellationRequest = new StopNoiseCancellationRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass StopNoiseCancellationResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.StopNoiseCancellationResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.StopNoiseCancellationResponse\n */ const StopNoiseCancellationResponse = new StopNoiseCancellationResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Reconnection$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.Reconnection\", [\n            {\n                no: 1,\n                name: \"time_seconds\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 2,\n                name: \"strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.Reconnection\n */ const Reconnection = new Reconnection$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Telemetry$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.Telemetry\", [\n            {\n                no: 1,\n                name: \"connection_time_seconds\",\n                kind: \"scalar\",\n                oneof: \"data\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 2,\n                name: \"reconnection\",\n                kind: \"message\",\n                oneof: \"data\",\n                T: ()=>Reconnection\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.Telemetry\n */ const Telemetry = new Telemetry$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"subscriber_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"publisher_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"webrtc_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 5,\n                name: \"sdk\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 6,\n                name: \"sdk_version\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"audio_devices\",\n                kind: \"message\",\n                T: ()=>InputDevices\n            },\n            {\n                no: 8,\n                name: \"video_devices\",\n                kind: \"message\",\n                T: ()=>InputDevices\n            },\n            {\n                no: 9,\n                name: \"android\",\n                kind: \"message\",\n                oneof: \"deviceState\",\n                T: ()=>AndroidState\n            },\n            {\n                no: 10,\n                name: \"apple\",\n                kind: \"message\",\n                oneof: \"deviceState\",\n                T: ()=>AppleState\n            },\n            {\n                no: 11,\n                name: \"telemetry\",\n                kind: \"message\",\n                T: ()=>Telemetry\n            },\n            {\n                no: 12,\n                name: \"rtmp\",\n                kind: \"message\",\n                T: ()=>RTMPIngress\n            },\n            {\n                no: 13,\n                name: \"subscriber_rtc_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 14,\n                name: \"publisher_rtc_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 15,\n                name: \"rtc_stats\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 16,\n                name: \"encode_stats\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PerformanceStats\n            },\n            {\n                no: 17,\n                name: \"decode_stats\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PerformanceStats\n            },\n            {\n                no: 18,\n                name: \"unified_session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsRequest\n */ const SendStatsRequest = new SendStatsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendStatsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendStatsResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendStatsResponse\n */ const SendStatsResponse = new SendStatsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartRequest\n */ const ICERestartRequest = new ICERestartRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestartResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICERestartResponse\", [\n            {\n                no: 1,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICERestartResponse\n */ const ICERestartResponse = new ICERestartResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"mute_states\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackMuteState\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesRequest\n */ const UpdateMuteStatesRequest = new UpdateMuteStatesRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateMuteStatesResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateMuteStatesResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateMuteStatesResponse\n */ const UpdateMuteStatesResponse = new UpdateMuteStatesResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackMuteState$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackMuteState\", [\n            {\n                no: 1,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackMuteState\n */ const TrackMuteState = new TrackMuteState$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.AudioMuteChanged\", [\n            {\n                no: 1,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.AudioMuteChanged\n */ new AudioMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoMuteChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.VideoMuteChanged\", [\n            {\n                no: 2,\n                name: \"muted\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.VideoMuteChanged\n */ new VideoMuteChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsRequest\", [\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsRequest\n */ const UpdateSubscriptionsRequest = new UpdateSubscriptionsRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass UpdateSubscriptionsResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.UpdateSubscriptionsResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.UpdateSubscriptionsResponse\n */ const UpdateSubscriptionsResponse = new UpdateSubscriptionsResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackSubscriptionDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.TrackSubscriptionDetails\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"dimension\",\n                kind: \"message\",\n                T: ()=>VideoDimension\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.TrackSubscriptionDetails\n */ const TrackSubscriptionDetails = new TrackSubscriptionDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerRequest\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerRequest\n */ const SendAnswerRequest = new SendAnswerRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SendAnswerResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SendAnswerResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SendAnswerResponse\n */ const SendAnswerResponse = new SendAnswerResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickleResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.ICETrickleResponse\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.ICETrickleResponse\n */ const ICETrickleResponse = new ICETrickleResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherRequest\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"tracks\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherRequest\n */ const SetPublisherRequest = new SetPublisherRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SetPublisherResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.signal.SetPublisherResponse\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.signal.SetPublisherResponse\n */ const SetPublisherResponse = new SetPublisherResponse$Type();\n/**\n * @generated ServiceType for protobuf service stream.video.sfu.signal.SignalServer\n */ const SignalServer = new _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_8__.ServiceType(\"stream.video.sfu.signal.SignalServer\", [\n    {\n        name: \"SetPublisher\",\n        options: {},\n        I: SetPublisherRequest,\n        O: SetPublisherResponse\n    },\n    {\n        name: \"SendAnswer\",\n        options: {},\n        I: SendAnswerRequest,\n        O: SendAnswerResponse\n    },\n    {\n        name: \"IceTrickle\",\n        options: {},\n        I: ICETrickle$1,\n        O: ICETrickleResponse\n    },\n    {\n        name: \"UpdateSubscriptions\",\n        options: {},\n        I: UpdateSubscriptionsRequest,\n        O: UpdateSubscriptionsResponse\n    },\n    {\n        name: \"UpdateMuteStates\",\n        options: {},\n        I: UpdateMuteStatesRequest,\n        O: UpdateMuteStatesResponse\n    },\n    {\n        name: \"IceRestart\",\n        options: {},\n        I: ICERestartRequest,\n        O: ICERestartResponse\n    },\n    {\n        name: \"SendStats\",\n        options: {},\n        I: SendStatsRequest,\n        O: SendStatsResponse\n    },\n    {\n        name: \"StartNoiseCancellation\",\n        options: {},\n        I: StartNoiseCancellationRequest,\n        O: StartNoiseCancellationResponse\n    },\n    {\n        name: \"StopNoiseCancellation\",\n        options: {},\n        I: StopNoiseCancellationRequest,\n        O: StopNoiseCancellationResponse\n    }\n]);\n// @generated by protobuf-ts 2.10.0 with parameter long_type_string,client_generic,server_none,eslint_disable,optimize_code_size\n// @generated from protobuf file \"video/sfu/event/events.proto\" (package \"stream.video.sfu.event\", syntax proto3)\n// tslint:disable\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuEvent$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuEvent\", [\n            {\n                no: 1,\n                name: \"subscriber_offer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>SubscriberOffer\n            },\n            {\n                no: 2,\n                name: \"publisher_answer\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PublisherAnswer\n            },\n            {\n                no: 3,\n                name: \"connection_quality_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ConnectionQualityChanged\n            },\n            {\n                no: 4,\n                name: \"audio_level_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>AudioLevelChanged\n            },\n            {\n                no: 5,\n                name: \"ice_trickle\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICETrickle$1\n            },\n            {\n                no: 6,\n                name: \"change_publish_quality\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ChangePublishQuality\n            },\n            {\n                no: 10,\n                name: \"participant_joined\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantJoined\n            },\n            {\n                no: 11,\n                name: \"participant_left\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantLeft\n            },\n            {\n                no: 12,\n                name: \"dominant_speaker_changed\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>DominantSpeakerChanged\n            },\n            {\n                no: 13,\n                name: \"join_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>JoinResponse\n            },\n            {\n                no: 14,\n                name: \"health_check_response\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>HealthCheckResponse\n            },\n            {\n                no: 16,\n                name: \"track_published\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackPublished\n            },\n            {\n                no: 17,\n                name: \"track_unpublished\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>TrackUnpublished\n            },\n            {\n                no: 18,\n                name: \"error\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>Error$1\n            },\n            {\n                no: 19,\n                name: \"call_grants_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallGrantsUpdated\n            },\n            {\n                no: 20,\n                name: \"go_away\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>GoAway\n            },\n            {\n                no: 21,\n                name: \"ice_restart\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ICERestart\n            },\n            {\n                no: 22,\n                name: \"pins_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>PinsChanged\n            },\n            {\n                no: 23,\n                name: \"call_ended\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>CallEnded\n            },\n            {\n                no: 24,\n                name: \"participant_updated\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantUpdated\n            },\n            {\n                no: 25,\n                name: \"participant_migration_complete\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ParticipantMigrationComplete\n            },\n            {\n                no: 27,\n                name: \"change_publish_options\",\n                kind: \"message\",\n                oneof: \"eventPayload\",\n                T: ()=>ChangePublishOptions\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuEvent\n */ const SfuEvent = new SfuEvent$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishOptions$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishOptions\", [\n            {\n                no: 1,\n                name: \"publish_options\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PublishOption\n            },\n            {\n                no: 2,\n                name: \"reason\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishOptions\n */ const ChangePublishOptions = new ChangePublishOptions$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishOptionsComplete$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishOptionsComplete\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishOptionsComplete\n */ const ChangePublishOptionsComplete = new ChangePublishOptionsComplete$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantMigrationComplete$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantMigrationComplete\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantMigrationComplete\n */ const ParticipantMigrationComplete = new ParticipantMigrationComplete$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PinsChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PinsChanged\", [\n            {\n                no: 1,\n                name: \"pins\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>Pin\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PinsChanged\n */ const PinsChanged = new PinsChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Error$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Error\", [\n            {\n                no: 4,\n                name: \"error\",\n                kind: \"message\",\n                T: ()=>Error$2\n            },\n            {\n                no: 5,\n                name: \"reconnect_strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Error\n */ const Error$1 = new Error$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICETrickle$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICETrickle\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            },\n            {\n                no: 2,\n                name: \"ice_candidate\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICETrickle\n */ const ICETrickle = new ICETrickle$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ICERestart$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ICERestart\", [\n            {\n                no: 1,\n                name: \"peer_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.PeerType\",\n                        PeerType,\n                        \"PEER_TYPE_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ICERestart\n */ const ICERestart = new ICERestart$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SfuRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SfuRequest\", [\n            {\n                no: 1,\n                name: \"join_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>JoinRequest\n            },\n            {\n                no: 2,\n                name: \"health_check_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>HealthCheckRequest\n            },\n            {\n                no: 3,\n                name: \"leave_call_request\",\n                kind: \"message\",\n                oneof: \"requestPayload\",\n                T: ()=>LeaveCallRequest\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SfuRequest\n */ const SfuRequest = new SfuRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass LeaveCallRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.LeaveCallRequest\", [\n            {\n                no: 1,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"reason\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.LeaveCallRequest\n */ const LeaveCallRequest = new LeaveCallRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckRequest\", []);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckRequest\n */ const HealthCheckRequest = new HealthCheckRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass HealthCheckResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.HealthCheckResponse\", [\n            {\n                no: 1,\n                name: \"participant_count\",\n                kind: \"message\",\n                T: ()=>ParticipantCount\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.HealthCheckResponse\n */ const HealthCheckResponse = new HealthCheckResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackPublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackPublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackPublished\n */ const TrackPublished = new TrackPublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass TrackUnpublished$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.TrackUnpublished\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"cause\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackUnpublishReason\",\n                        TrackUnpublishReason,\n                        \"TRACK_UNPUBLISH_REASON_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.TrackUnpublished\n */ const TrackUnpublished = new TrackUnpublished$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinRequest$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinRequest\", [\n            {\n                no: 1,\n                name: \"token\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"subscriber_sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 8,\n                name: \"publisher_sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 4,\n                name: \"client_details\",\n                kind: \"message\",\n                T: ()=>ClientDetails\n            },\n            {\n                no: 5,\n                name: \"migration\",\n                kind: \"message\",\n                T: ()=>Migration\n            },\n            {\n                no: 6,\n                name: \"fast_reconnect\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 7,\n                name: \"reconnect_details\",\n                kind: \"message\",\n                T: ()=>ReconnectDetails\n            },\n            {\n                no: 9,\n                name: \"preferred_publish_options\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PublishOption\n            },\n            {\n                no: 10,\n                name: \"preferred_subscribe_options\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>SubscribeOption\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinRequest\n */ const JoinRequest = new JoinRequest$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ReconnectDetails$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ReconnectDetails\", [\n            {\n                no: 1,\n                name: \"strategy\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.WebsocketReconnectStrategy\",\n                        WebsocketReconnectStrategy,\n                        \"WEBSOCKET_RECONNECT_STRATEGY_\"\n                    ]\n            },\n            {\n                no: 3,\n                name: \"announced_tracks\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 4,\n                name: \"subscriptions\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            },\n            {\n                no: 5,\n                name: \"reconnect_attempt\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 6,\n                name: \"from_sfu_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 7,\n                name: \"previous_session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 8,\n                name: \"reason\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ReconnectDetails\n */ const ReconnectDetails = new ReconnectDetails$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass Migration$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.Migration\", [\n            {\n                no: 1,\n                name: \"from_sfu_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"announced_tracks\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackInfo\n            },\n            {\n                no: 3,\n                name: \"subscriptions\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>TrackSubscriptionDetails\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.Migration\n */ const Migration = new Migration$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass JoinResponse$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.JoinResponse\", [\n            {\n                no: 1,\n                name: \"call_state\",\n                kind: \"message\",\n                T: ()=>CallState$1\n            },\n            {\n                no: 2,\n                name: \"reconnected\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"fast_reconnect_deadline_seconds\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"publish_options\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>PublishOption\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.JoinResponse\n */ const JoinResponse = new JoinResponse$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantJoined$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantJoined\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantJoined\n */ const ParticipantJoined = new ParticipantJoined$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantLeft$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantLeft\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantLeft\n */ const ParticipantLeft = new ParticipantLeft$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ParticipantUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ParticipantUpdated\", [\n            {\n                no: 1,\n                name: \"call_cid\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"participant\",\n                kind: \"message\",\n                T: ()=>Participant\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ParticipantUpdated\n */ const ParticipantUpdated = new ParticipantUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass SubscriberOffer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.SubscriberOffer\", [\n            {\n                no: 1,\n                name: \"ice_restart\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 2,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.SubscriberOffer\n */ const SubscriberOffer = new SubscriberOffer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass PublisherAnswer$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.PublisherAnswer\", [\n            {\n                no: 1,\n                name: \"sdp\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.PublisherAnswer\n */ const PublisherAnswer = new PublisherAnswer$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityChanged\", [\n            {\n                no: 1,\n                name: \"connection_quality_updates\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>ConnectionQualityInfo\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityChanged\n */ const ConnectionQualityChanged = new ConnectionQualityChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ConnectionQualityInfo$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ConnectionQualityInfo\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"connection_quality\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.ConnectionQuality\",\n                        ConnectionQuality,\n                        \"CONNECTION_QUALITY_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ConnectionQualityInfo\n */ const ConnectionQualityInfo = new ConnectionQualityInfo$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass DominantSpeakerChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.DominantSpeakerChanged\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.DominantSpeakerChanged\n */ const DominantSpeakerChanged = new DominantSpeakerChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevel$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevel\", [\n            {\n                no: 1,\n                name: \"user_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"session_id\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 3,\n                name: \"level\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 4,\n                name: \"is_speaking\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevel\n */ const AudioLevel = new AudioLevel$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioLevelChanged$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioLevelChanged\", [\n            {\n                no: 1,\n                name: \"audio_levels\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>AudioLevel\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioLevelChanged\n */ const AudioLevelChanged = new AudioLevelChanged$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass AudioSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.AudioSender\", [\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 4,\n                name: \"publish_option_id\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.AudioSender\n */ const AudioSender = new AudioSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoLayerSetting$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoLayerSetting\", [\n            {\n                no: 1,\n                name: \"name\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            },\n            {\n                no: 2,\n                name: \"active\",\n                kind: \"scalar\",\n                T: 8 /*ScalarType.BOOL*/ \n            },\n            {\n                no: 3,\n                name: \"max_bitrate\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            },\n            {\n                no: 4,\n                name: \"scale_resolution_down_by\",\n                kind: \"scalar\",\n                T: 2 /*ScalarType.FLOAT*/ \n            },\n            {\n                no: 6,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 7,\n                name: \"max_framerate\",\n                kind: \"scalar\",\n                T: 13 /*ScalarType.UINT32*/ \n            },\n            {\n                no: 8,\n                name: \"scalability_mode\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoLayerSetting\n */ const VideoLayerSetting = new VideoLayerSetting$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass VideoSender$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.VideoSender\", [\n            {\n                no: 2,\n                name: \"codec\",\n                kind: \"message\",\n                T: ()=>Codec\n            },\n            {\n                no: 3,\n                name: \"layers\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>VideoLayerSetting\n            },\n            {\n                no: 4,\n                name: \"track_type\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.TrackType\",\n                        TrackType,\n                        \"TRACK_TYPE_\"\n                    ]\n            },\n            {\n                no: 5,\n                name: \"publish_option_id\",\n                kind: \"scalar\",\n                T: 5 /*ScalarType.INT32*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.VideoSender\n */ const VideoSender = new VideoSender$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass ChangePublishQuality$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.ChangePublishQuality\", [\n            {\n                no: 1,\n                name: \"audio_senders\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>AudioSender\n            },\n            {\n                no: 2,\n                name: \"video_senders\",\n                kind: \"message\",\n                repeat: 2 /*RepeatType.UNPACKED*/ ,\n                T: ()=>VideoSender\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.ChangePublishQuality\n */ const ChangePublishQuality = new ChangePublishQuality$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallGrantsUpdated$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallGrantsUpdated\", [\n            {\n                no: 1,\n                name: \"current_grants\",\n                kind: \"message\",\n                T: ()=>CallGrants\n            },\n            {\n                no: 2,\n                name: \"message\",\n                kind: \"scalar\",\n                T: 9 /*ScalarType.STRING*/ \n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallGrantsUpdated\n */ const CallGrantsUpdated = new CallGrantsUpdated$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass GoAway$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.GoAway\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.GoAwayReason\",\n                        GoAwayReason,\n                        \"GO_AWAY_REASON_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.GoAway\n */ const GoAway = new GoAway$Type();\n// @generated message type with reflection information, may provide speed optimized methods\nclass CallEnded$Type extends _protobuf_ts_runtime__WEBPACK_IMPORTED_MODULE_5__.MessageType {\n    constructor(){\n        super(\"stream.video.sfu.event.CallEnded\", [\n            {\n                no: 1,\n                name: \"reason\",\n                kind: \"enum\",\n                T: ()=>[\n                        \"stream.video.sfu.models.CallEndedReason\",\n                        CallEndedReason,\n                        \"CALL_ENDED_REASON_\"\n                    ]\n            }\n        ]);\n    }\n}\n/**\n * @generated MessageType for protobuf message stream.video.sfu.event.CallEnded\n */ const CallEnded = new CallEnded$Type();\nvar events = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    AudioLevel: AudioLevel,\n    AudioLevelChanged: AudioLevelChanged,\n    AudioSender: AudioSender,\n    CallEnded: CallEnded,\n    CallGrantsUpdated: CallGrantsUpdated,\n    ChangePublishOptions: ChangePublishOptions,\n    ChangePublishOptionsComplete: ChangePublishOptionsComplete,\n    ChangePublishQuality: ChangePublishQuality,\n    ConnectionQualityChanged: ConnectionQualityChanged,\n    ConnectionQualityInfo: ConnectionQualityInfo,\n    DominantSpeakerChanged: DominantSpeakerChanged,\n    Error: Error$1,\n    GoAway: GoAway,\n    HealthCheckRequest: HealthCheckRequest,\n    HealthCheckResponse: HealthCheckResponse,\n    ICERestart: ICERestart,\n    ICETrickle: ICETrickle,\n    JoinRequest: JoinRequest,\n    JoinResponse: JoinResponse,\n    LeaveCallRequest: LeaveCallRequest,\n    Migration: Migration,\n    ParticipantJoined: ParticipantJoined,\n    ParticipantLeft: ParticipantLeft,\n    ParticipantMigrationComplete: ParticipantMigrationComplete,\n    ParticipantUpdated: ParticipantUpdated,\n    PinsChanged: PinsChanged,\n    PublisherAnswer: PublisherAnswer,\n    ReconnectDetails: ReconnectDetails,\n    SfuEvent: SfuEvent,\n    SfuRequest: SfuRequest,\n    SubscriberOffer: SubscriberOffer,\n    TrackPublished: TrackPublished,\n    TrackUnpublished: TrackUnpublished,\n    VideoLayerSetting: VideoLayerSetting,\n    VideoSender: VideoSender\n});\nvar VisibilityState;\n(function(VisibilityState) {\n    VisibilityState[\"UNKNOWN\"] = \"UNKNOWN\";\n    VisibilityState[\"VISIBLE\"] = \"VISIBLE\";\n    VisibilityState[\"INVISIBLE\"] = \"INVISIBLE\";\n})(VisibilityState || (VisibilityState = {}));\nvar DebounceType;\n(function(DebounceType) {\n    DebounceType[DebounceType[\"IMMEDIATE\"] = 20] = \"IMMEDIATE\";\n    DebounceType[DebounceType[\"FAST\"] = 100] = \"FAST\";\n    DebounceType[DebounceType[\"MEDIUM\"] = 600] = \"MEDIUM\";\n    DebounceType[DebounceType[\"SLOW\"] = 1200] = \"SLOW\";\n})(DebounceType || (DebounceType = {}));\n/**\n * @generated from protobuf service stream.video.sfu.signal.SignalServer\n */ class SignalServerClient {\n    constructor(_transport){\n        this._transport = _transport;\n        this.typeName = SignalServer.typeName;\n        this.methods = SignalServer.methods;\n        this.options = SignalServer.options;\n    }\n    /**\n     * SetPublisher sends the WebRTC offer for the peer connection used to publish A/V\n     *\n     * @generated from protobuf rpc: SetPublisher(stream.video.sfu.signal.SetPublisherRequest) returns (stream.video.sfu.signal.SetPublisherResponse);\n     */ setPublisher(input, options) {\n        const method = this.methods[0], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * answer is sent by the client to the SFU after receiving a subscriber_offer.\n     *\n     * @generated from protobuf rpc: SendAnswer(stream.video.sfu.signal.SendAnswerRequest) returns (stream.video.sfu.signal.SendAnswerResponse);\n     */ sendAnswer(input, options) {\n        const method = this.methods[1], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * SendICECandidate sends an ICE candidate to the client\n     *\n     * @generated from protobuf rpc: IceTrickle(stream.video.sfu.models.ICETrickle) returns (stream.video.sfu.signal.ICETrickleResponse);\n     */ iceTrickle(input, options) {\n        const method = this.methods[2], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * UpdateSubscribers is used to notify the SFU about the list of video subscriptions\n     * TODO: sync subscriptions based on this + update tracks using the dimension info sent by the user\n     *\n     * @generated from protobuf rpc: UpdateSubscriptions(stream.video.sfu.signal.UpdateSubscriptionsRequest) returns (stream.video.sfu.signal.UpdateSubscriptionsResponse);\n     */ updateSubscriptions(input, options) {\n        const method = this.methods[3], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: UpdateMuteStates(stream.video.sfu.signal.UpdateMuteStatesRequest) returns (stream.video.sfu.signal.UpdateMuteStatesResponse);\n     */ updateMuteStates(input, options) {\n        const method = this.methods[4], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: IceRestart(stream.video.sfu.signal.ICERestartRequest) returns (stream.video.sfu.signal.ICERestartResponse);\n     */ iceRestart(input, options) {\n        const method = this.methods[5], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: SendStats(stream.video.sfu.signal.SendStatsRequest) returns (stream.video.sfu.signal.SendStatsResponse);\n     */ sendStats(input, options) {\n        const method = this.methods[6], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StartNoiseCancellation(stream.video.sfu.signal.StartNoiseCancellationRequest) returns (stream.video.sfu.signal.StartNoiseCancellationResponse);\n     */ startNoiseCancellation(input, options) {\n        const method = this.methods[7], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n    /**\n     * @generated from protobuf rpc: StopNoiseCancellation(stream.video.sfu.signal.StopNoiseCancellationRequest) returns (stream.video.sfu.signal.StopNoiseCancellationResponse);\n     */ stopNoiseCancellation(input, options) {\n        const method = this.methods[8], opt = this._transport.mergeOptions(options);\n        return (0,_protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_9__.stackIntercept)(\"unary\", this._transport, method, opt, input);\n    }\n}\nconst defaultOptions = {\n    baseUrl: \"\",\n    sendJson: true,\n    timeout: 5 * 1000,\n    jsonOptions: {\n        ignoreUnknownFields: true\n    }\n};\nconst withHeaders = (headers)=>{\n    return {\n        interceptUnary (next, method, input, options) {\n            options.meta = {\n                ...options.meta,\n                ...headers\n            };\n            return next(method, input, options);\n        }\n    };\n};\nconst withRequestLogger = (logger, level)=>{\n    return {\n        interceptUnary: (next, method, input, options)=>{\n            const invocation = next(method, input, options);\n            logger(level, `Invoked SFU RPC method ${method.name}`, {\n                request: invocation.request,\n                headers: invocation.requestHeaders,\n                response: invocation.response\n            });\n            return invocation;\n        }\n    };\n};\nconst withRequestTracer = (trace)=>{\n    const traceError = (name, input, err)=>trace(`${name}OnFailure`, [\n            err,\n            input\n        ]);\n    const exclusions = {\n        SendStats: true\n    };\n    return {\n        interceptUnary (next, method, input, options) {\n            if (exclusions[method.name]) {\n                return next(method, input, options);\n            }\n            trace(method.name, input);\n            const unaryCall = next(method, input, options);\n            unaryCall.then((invocation)=>{\n                const err = invocation.response?.error;\n                if (err) traceError(method.name, input, err);\n            }, (err)=>traceError(method.name, input, err));\n            return unaryCall;\n        }\n    };\n};\n/**\n * Creates new SignalServerClient instance.\n *\n * @param options the twirp options.\n */ const createSignalClient = (options)=>{\n    const transport = new _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_10__.TwirpFetchTransport({\n        ...defaultOptions,\n        ...options\n    });\n    return new SignalServerClient(transport);\n};\nconst sleep = (m)=>new Promise((r)=>setTimeout(r, m));\nfunction isFunction(value) {\n    return value && (Object.prototype.toString.call(value) === \"[object Function]\" || \"function\" === typeof value || value instanceof Function);\n}\n/**\n * A map of known error codes.\n */ const KnownCodes = {\n    TOKEN_EXPIRED: 40,\n    WS_CLOSED_SUCCESS: 1000\n};\n/**\n * retryInterval - A retry interval which increases acc to number of failures\n *\n * @return {number} Duration to wait in milliseconds\n */ function retryInterval(numberOfFailures) {\n    // try to reconnect in 0.25-5 seconds (random to spread out the load from failures)\n    const max = Math.min(500 + numberOfFailures * 2000, 5000);\n    const min = Math.min(Math.max(250, (numberOfFailures - 1) * 2000), 5000);\n    return Math.floor(Math.random() * (max - min) + min);\n}\nfunction hex(bytes) {\n    let s = \"\";\n    for(let i = 0; i < bytes.length; i++){\n        s += bytes[i].toString(16).padStart(2, \"0\");\n    }\n    return s;\n}\n// https://tools.ietf.org/html/rfc4122\nfunction generateUUIDv4() {\n    const bytes = getRandomBytes(16);\n    bytes[6] = bytes[6] & 0x0f | 0x40; // version\n    bytes[8] = bytes[8] & 0xbf | 0x80; // variant\n    return [\n        hex(bytes.subarray(0, 4)),\n        hex(bytes.subarray(4, 6)),\n        hex(bytes.subarray(6, 8)),\n        hex(bytes.subarray(8, 10)),\n        hex(bytes.subarray(10, 16))\n    ].join(\"-\");\n}\nconst getRandomValues = (()=>{\n    if (typeof crypto !== \"undefined\" && crypto.getRandomValues) {\n        return crypto.getRandomValues.bind(crypto);\n    }\n    return function getRandomValuesWithMathRandom(bytes) {\n        const max = Math.pow(2, 8 * bytes.byteLength / bytes.length);\n        for(let i = 0; i < bytes.length; i++){\n            bytes[i] = Math.random() * max;\n        }\n    };\n})();\nfunction getRandomBytes(length) {\n    const bytes = new Uint8Array(length);\n    getRandomValues(bytes);\n    return bytes;\n}\n/**\n * listenForConnectionChanges - Adds an event listener fired on browser going online or offline\n */ function addConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction removeConnectionEventListeners(cb) {\n    if (false) {}\n}\nfunction isErrorResponse(res) {\n    return !res.status || res.status < 200 || 300 <= res.status;\n}\n// Type guards to check WebSocket error type\nfunction isCloseEvent(res) {\n    return res.code !== undefined;\n}\n/**\n * Checks whether we are using React Native\n */ const isReactNative = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.product?.toLowerCase() === \"reactnative\";\n};\n// log levels, sorted by verbosity\nconst logLevels = Object.freeze({\n    trace: 0,\n    debug: 1,\n    info: 2,\n    warn: 3,\n    error: 4\n});\nlet logger;\nlet level = \"info\";\nconst logToConsole = (logLevel, message, ...args)=>{\n    let logMethod;\n    switch(logLevel){\n        case \"error\":\n            if (isReactNative()) {\n                message = `ERROR: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.error;\n            break;\n        case \"warn\":\n            if (isReactNative()) {\n                message = `WARN: ${message}`;\n                logMethod = console.info;\n                break;\n            }\n            logMethod = console.warn;\n            break;\n        case \"info\":\n            logMethod = console.info;\n            break;\n        case \"trace\":\n            logMethod = console.trace;\n            break;\n        default:\n            logMethod = console.log;\n            break;\n    }\n    logMethod(message, ...args);\n};\nconst setLogger = (l, lvl)=>{\n    logger = l;\n    if (lvl) {\n        setLogLevel(lvl);\n    }\n};\nconst setLogLevel = (l)=>{\n    level = l;\n};\nconst getLogLevel = ()=>level;\nconst getLogger = (withTags)=>{\n    const loggerMethod = logger || logToConsole;\n    const tags = (withTags || []).filter(Boolean).join(\":\");\n    const result = (logLevel, message, ...args)=>{\n        if (logLevels[logLevel] >= logLevels[level]) {\n            loggerMethod(logLevel, `[${tags}]: ${message}`, ...args);\n        }\n    };\n    return result;\n};\n/**\n * Creates a closure which wraps the given RPC call and retries invoking\n * the RPC until it succeeds or the maximum number of retries is reached.\n *\n * For each retry, there would be a delay to avoid request bursts toward the SFU.\n *\n * @param rpc the closure around the RPC call to execute.\n * @param signal the signal to abort the RPC call and retries loop.\n */ const retryable = async (rpc, signal)=>{\n    let attempt = 0;\n    let result = undefined;\n    do {\n        if (attempt > 0) await sleep(retryInterval(attempt));\n        try {\n            result = await rpc();\n        } catch (err) {\n            const isRequestCancelled = err instanceof _protobuf_ts_runtime_rpc__WEBPACK_IMPORTED_MODULE_11__.RpcError && err.code === _protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__.TwirpErrorCode[_protobuf_ts_twirp_transport__WEBPACK_IMPORTED_MODULE_12__.TwirpErrorCode.cancelled];\n            const isAborted = signal?.aborted ?? false;\n            if (isRequestCancelled || isAborted) throw err;\n            getLogger([\n                \"sfu-client\",\n                \"rpc\"\n            ])(\"debug\", `rpc failed (${attempt})`, err);\n            attempt++;\n        }\n    }while (!result || result.response.error?.shouldRetry);\n    return result;\n};\n/**\n * Returns a generic SDP for the given direction.\n * We use this SDP to send it as part of our JoinRequest so that the SFU\n * can use it to determine the client's codec capabilities.\n *\n * @param direction the direction of the transceiver.\n */ const getGenericSdp = async (direction)=>{\n    const tempPc = new RTCPeerConnection();\n    tempPc.addTransceiver(\"video\", {\n        direction\n    });\n    tempPc.addTransceiver(\"audio\", {\n        direction\n    });\n    const offer = await tempPc.createOffer();\n    const sdp = offer.sdp ?? \"\";\n    tempPc.getTransceivers().forEach((t)=>{\n        t.stop?.();\n    });\n    tempPc.close();\n    return sdp;\n};\n/**\n * Returns whether the codec is an SVC codec.\n *\n * @param codecOrMimeType the codec to check.\n */ const isSvcCodec = (codecOrMimeType)=>{\n    if (!codecOrMimeType) return false;\n    codecOrMimeType = codecOrMimeType.toLowerCase();\n    return codecOrMimeType === \"vp9\" || codecOrMimeType === \"av1\" || codecOrMimeType === \"video/vp9\" || codecOrMimeType === \"video/av1\";\n};\nconst sfuEventKinds = {\n    subscriberOffer: undefined,\n    publisherAnswer: undefined,\n    connectionQualityChanged: undefined,\n    audioLevelChanged: undefined,\n    iceTrickle: undefined,\n    changePublishQuality: undefined,\n    participantJoined: undefined,\n    participantLeft: undefined,\n    dominantSpeakerChanged: undefined,\n    joinResponse: undefined,\n    healthCheckResponse: undefined,\n    trackPublished: undefined,\n    trackUnpublished: undefined,\n    error: undefined,\n    callGrantsUpdated: undefined,\n    goAway: undefined,\n    iceRestart: undefined,\n    pinsUpdated: undefined,\n    callEnded: undefined,\n    participantUpdated: undefined,\n    participantMigrationComplete: undefined,\n    changePublishOptions: undefined\n};\nconst isSfuEvent = (eventName)=>{\n    return Object.prototype.hasOwnProperty.call(sfuEventKinds, eventName);\n};\nclass Dispatcher {\n    constructor(){\n        this.logger = getLogger([\n            \"Dispatcher\"\n        ]);\n        this.subscribers = {};\n        this.dispatch = (message, logTag = \"0\")=>{\n            const eventKind = message.eventPayload.oneofKind;\n            if (!eventKind) return;\n            const payload = message.eventPayload[eventKind];\n            this.logger(\"debug\", `Dispatching ${eventKind}, tag=${logTag}`, payload);\n            const listeners = this.subscribers[eventKind];\n            if (!listeners) return;\n            for (const fn of listeners){\n                try {\n                    fn(payload);\n                } catch (e) {\n                    this.logger(\"warn\", \"Listener failed with error\", e);\n                }\n            }\n        };\n        this.on = (eventName, fn)=>{\n            var _a;\n            ((_a = this.subscribers)[eventName] ?? (_a[eventName] = [])).push(fn);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        this.off = (eventName, fn)=>{\n            this.subscribers[eventName] = (this.subscribers[eventName] || []).filter((f)=>f !== fn);\n        };\n    }\n}\n/**\n * A buffer for ICE Candidates. Used for ICE Trickle:\n * - https://bloggeek.me/webrtcglossary/trickle-ice/\n */ class IceTrickleBuffer {\n    constructor(){\n        this.subscriberCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_13__.ReplaySubject();\n        this.publisherCandidates = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_13__.ReplaySubject();\n        this.push = (iceTrickle)=>{\n            const iceCandidate = toIceCandidate(iceTrickle);\n            if (!iceCandidate) return;\n            if (iceTrickle.peerType === PeerType.SUBSCRIBER) {\n                this.subscriberCandidates.next(iceCandidate);\n            } else if (iceTrickle.peerType === PeerType.PUBLISHER_UNSPECIFIED) {\n                this.publisherCandidates.next(iceCandidate);\n            } else {\n                const logger = getLogger([\n                    \"sfu-client\"\n                ]);\n                logger(\"warn\", `ICETrickle, Unknown peer type`, iceTrickle);\n            }\n        };\n        this.dispose = ()=>{\n            this.subscriberCandidates.complete();\n            this.publisherCandidates.complete();\n        };\n    }\n}\nconst toIceCandidate = (iceTrickle)=>{\n    try {\n        return JSON.parse(iceTrickle.iceCandidate);\n    } catch (e) {\n        const logger = getLogger([\n            \"sfu-client\"\n        ]);\n        logger(\"error\", `Failed to parse ICE Trickle`, e, iceTrickle);\n        return undefined;\n    }\n};\n/**\n * Runs async functions serially. Useful for wrapping async actions that\n * should never run simultaneously: if marked with the same tag, functions\n * will run one after another.\n *\n * @param tag Async functions with the same tag will run serially. Async functions\n * with different tags can run in parallel.\n * @param cb Async function to run.\n * @returns Promise that resolves when async functions returns.\n */ const withoutConcurrency = createRunner(wrapWithContinuationTracking);\n/**\n * Runs async functions serially, and cancels all other actions with the same tag\n * when a new action is scheduled. Useful for wrapping async actions that override\n * each other (e.g. enabling and disabling camera).\n *\n * If an async function hasn't started yet and was canceled, it will never run.\n * If an async function is already running and was canceled, it will be notified\n * via an abort signal passed as an argument.\n *\n * @param tag Async functions with the same tag will run serially and are canceled\n * when a new action with the same tag is scheduled.\n * @param cb Async function to run. Receives AbortSignal as the only argument.\n * @returns Promise that resolves when async functions returns. If the function didn't\n * start and was canceled, will resolve with 'canceled'. If the function started to run,\n * it's up to the function to decide how to react to cancelation.\n */ const withCancellation = createRunner(wrapWithCancellation);\nconst pendingPromises = new Map();\nfunction hasPending(tag) {\n    return pendingPromises.has(tag);\n}\nasync function settled(tag) {\n    let pending;\n    while(pending = pendingPromises.get(tag)){\n        await pending.promise;\n    }\n}\n/**\n * Implements common functionality of running async functions serially, by chaining\n * their promises one after another.\n *\n * Before running, async function is \"wrapped\" using the provided wrapper. This wrapper\n * can add additional steps to run before or after the function.\n *\n * When async function is scheduled to run, the previous function is notified\n * by calling the associated onContinued callback. This behavior of this callback\n * is defined by the wrapper.\n */ function createRunner(wrapper) {\n    return function run(tag, cb) {\n        const { cb: wrapped, onContinued } = wrapper(tag, cb);\n        const pending = pendingPromises.get(tag);\n        pending?.onContinued();\n        const promise = pending ? pending.promise.then(wrapped, wrapped) : wrapped();\n        pendingPromises.set(tag, {\n            promise,\n            onContinued\n        });\n        return promise;\n    };\n}\n/**\n * Wraps an async function with an additional step run after the function:\n * if the function is the last in the queue, it cleans up the whole chain\n * of promises after finishing.\n */ function wrapWithContinuationTracking(tag, cb) {\n    let hasContinuation = false;\n    const wrapped = ()=>cb().finally(()=>{\n            if (!hasContinuation) {\n                pendingPromises.delete(tag);\n            }\n        });\n    const onContinued = ()=>hasContinuation = true;\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Wraps an async function with additional functionalilty:\n * 1. Associates an abort signal with every function, that is passed to it\n *    as an argument. When a new function is scheduled to run after the current\n *    one, current signal is aborted.\n * 2. If current function didn't start and was aborted, in will never start.\n * 3. If the function is the last in the queue, it cleans up the whole chain\n *    of promises after finishing.\n */ function wrapWithCancellation(tag, cb) {\n    const ac = new AbortController();\n    const wrapped = ()=>{\n        if (ac.signal.aborted) {\n            return Promise.resolve(\"canceled\");\n        }\n        return cb(ac.signal).finally(()=>{\n            if (!ac.signal.aborted) {\n                pendingPromises.delete(tag);\n            }\n        });\n    };\n    const onContinued = ()=>ac.abort();\n    return {\n        cb: wrapped,\n        onContinued\n    };\n}\n/**\n * Checks if the provided update is a function patch.\n *\n * @param update the value to check.\n */ const isFunctionPatch = (update)=>typeof update === \"function\";\n/**\n * Gets the current value of an observable, or undefined if the observable has\n * not emitted a value yet.\n *\n * @param observable$ the observable to get the value from.\n */ const getCurrentValue = (observable$)=>{\n    let value;\n    let err = undefined;\n    (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n        observable$\n    ]).subscribe({\n        next: ([v])=>{\n            value = v;\n        },\n        error: (e)=>{\n            err = e;\n        }\n    }).unsubscribe();\n    if (err) throw err;\n    return value;\n};\n/**\n * Updates the value of the provided Subject.\n * An `update` can either be a new value or a function which takes\n * the current value and returns a new value.\n *\n * @param subject the subject to update.\n * @param update the update to apply to the subject.\n * @return the updated value.\n */ const setCurrentValue = (subject, update)=>{\n    const next = isFunctionPatch(update) ? update(getCurrentValue(subject)) : update;\n    subject.next(next);\n    return next;\n};\n/**\n * Updates the value of the provided Subject and returns the previous value\n * and a function to roll back the update.\n * This is useful when you want to optimistically update a value\n * and roll back the update if an error occurs.\n *\n * @param subject the subject to update.\n * @param update the update to apply to the subject.\n */ const updateValue = (subject, update)=>{\n    const lastValue = subject.getValue();\n    const value = setCurrentValue(subject, update);\n    return {\n        lastValue,\n        value,\n        rollback: ()=>setCurrentValue(subject, lastValue)\n    };\n};\n/**\n * Creates a subscription and returns a function to unsubscribe.\n *\n * @param observable the observable to subscribe to.\n * @param handler the handler to call when the observable emits a value.\n * @param onError an optional error handler.\n */ const createSubscription = (observable, handler, onError = (error)=>getLogger([\n        \"RxUtils\"\n    ])(\"warn\", \"An observable emitted an error\", error))=>{\n    const subscription = observable.subscribe({\n        next: handler,\n        error: onError\n    });\n    return ()=>{\n        subscription.unsubscribe();\n    };\n};\n/**\n * Creates a subscription and returns a function to unsubscribe. Makes sure that\n * only one async handler runs at the same time. If updates come in quicker than\n * it takes for the current handler to finish, other handlers will wait.\n *\n * @param observable the observable to subscribe to.\n * @param handler the async handler to call when the observable emits a value.\n */ const createSafeAsyncSubscription = (observable, handler)=>{\n    const tag = Symbol();\n    return createSubscription(observable, (value)=>{\n        withoutConcurrency(tag, ()=>handler(value));\n    });\n};\nvar rxUtils = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    createSafeAsyncSubscription: createSafeAsyncSubscription,\n    createSubscription: createSubscription,\n    getCurrentValue: getCurrentValue,\n    setCurrentValue: setCurrentValue,\n    updateValue: updateValue\n});\n/**\n * Represents the state of the current call.\n */ var CallingState;\n(function(CallingState) {\n    /**\n     * The call is in an unknown state.\n     */ CallingState[\"UNKNOWN\"] = \"unknown\";\n    /**\n     * The call is in an idle state.\n     */ CallingState[\"IDLE\"] = \"idle\";\n    /**\n     * The call is in the process of ringing.\n     * (User hasn't accepted nor rejected the call yet.)\n     */ CallingState[\"RINGING\"] = \"ringing\";\n    /**\n     * The call is in the process of joining.\n     */ CallingState[\"JOINING\"] = \"joining\";\n    /**\n     * The call is currently active.\n     */ CallingState[\"JOINED\"] = \"joined\";\n    /**\n     * The call has been left.\n     */ CallingState[\"LEFT\"] = \"left\";\n    /**\n     * The call is in the process of reconnecting.\n     */ CallingState[\"RECONNECTING\"] = \"reconnecting\";\n    /**\n     * The call is in the process of migrating from one node to another.\n     */ CallingState[\"MIGRATING\"] = \"migrating\";\n    /**\n     * The call has failed to reconnect.\n     */ CallingState[\"RECONNECTING_FAILED\"] = \"reconnecting-failed\";\n    /**\n     * The call is in offline mode.\n     */ CallingState[\"OFFLINE\"] = \"offline\";\n})(CallingState || (CallingState = {}));\nclass StreamVideoWriteableStateStore {\n    constructor(){\n        /**\n         * A store keeping data of a successfully connected user over WS to the coordinator server.\n         */ this.connectedUserSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        /**\n         * A list of {@link Call} objects created/tracked by this client.\n         */ this.callsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        /**\n         * Sets the currently connected user.\n         *\n         * @internal\n         * @param user the user to set as connected.\n         */ this.setConnectedUser = (user)=>{\n            return setCurrentValue(this.connectedUserSubject, user);\n        };\n        /**\n         * Sets the list of {@link Call} objects created/tracked by this client.\n         * @param calls\n         */ this.setCalls = (calls)=>{\n            return setCurrentValue(this.callsSubject, calls);\n        };\n        /**\n         * Adds a {@link Call} object to the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to add.\n         */ this.registerCall = (call)=>{\n            if (!this.calls.find((c)=>c.cid === call.cid)) {\n                this.setCalls((calls)=>[\n                        ...calls,\n                        call\n                    ]);\n            }\n        };\n        /**\n         * Removes a {@link Call} object from the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param call the call to remove\n         */ this.unregisterCall = (call)=>{\n            const logger = getLogger([\n                \"client-state\"\n            ]);\n            logger(\"trace\", `Unregistering call: ${call.cid}`);\n            return this.setCalls((calls)=>calls.filter((c)=>c !== call));\n        };\n        /**\n         * Finds a {@link Call} object in the list of {@link Call} objects created/tracked by this client.\n         *\n         * @param type the type of call to find.\n         * @param id the id of the call to find.\n         */ this.findCall = (type, id)=>{\n            return this.calls.find((c)=>c.type === type && c.id === id);\n        };\n        this.connectedUserSubject.subscribe(async (user)=>{\n            // leave all calls when the user disconnects.\n            if (!user) {\n                const logger = getLogger([\n                    \"client-state\"\n                ]);\n                for (const call of this.calls){\n                    if (call.state.callingState === CallingState.LEFT) continue;\n                    logger(\"info\", `User disconnected, leaving call: ${call.cid}`);\n                    await call.leave({\n                        message: \"client.disconnectUser() called\"\n                    }).catch((err)=>{\n                        logger(\"error\", `Error leaving call: ${call.cid}`, err);\n                    });\n                }\n            }\n        });\n    }\n    /**\n     * The currently connected user.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUserSubject);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.callsSubject);\n    }\n}\n/**\n * A reactive store that exposes state variables in a reactive manner.\n * You can subscribe to changes of the different state variables.\n * This central store contains all the state variables related to [`StreamVideoClient`](./StreamVideClient.md) and [`Call`](./Call.md).\n */ class StreamVideoReadOnlyStateStore {\n    constructor(store){\n        /**\n         * This method allows you the get the current value of a state variable.\n         *\n         * @param observable the observable to get the current value of.\n         * @returns the current value of the observable.\n         */ this.getCurrentValue = getCurrentValue;\n        // convert and expose subjects as observables\n        this.connectedUser$ = store.connectedUserSubject.asObservable();\n        this.calls$ = store.callsSubject.asObservable();\n    }\n    /**\n     * The current user connected over WS to the backend.\n     */ get connectedUser() {\n        return getCurrentValue(this.connectedUser$);\n    }\n    /**\n     * A list of {@link Call} objects created/tracked by this client.\n     */ get calls() {\n        return getCurrentValue(this.calls$);\n    }\n}\n/**\n * Creates a new combined {@link Comparator<T>} which sorts items by the given comparators.\n * The comparators are applied in the order they are given (left -> right).\n *\n * @param comparators the comparators to use for sorting.\n * @returns a combined {@link Comparator<T>}.\n */ const combineComparators = (...comparators)=>{\n    return (a, b)=>{\n        for (const comparator of comparators){\n            const result = comparator(a, b);\n            if (result !== 0) return result;\n        }\n        return 0;\n    };\n};\n/**\n * Creates a new comparator which sorts items in descending order.\n *\n * @example\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const byValueDesc = descending(byValue);\n *\n * @param comparator the comparator to wrap.\n */ const descending = (comparator)=>{\n    return (a, b)=>comparator(b, a);\n};\n/**\n * Creates a new comparator which conditionally applies the given comparator.\n *\n * @example\n * const shouldSortByValue = (a, b) => a % 2 === 0; // return false to turn it off\n * const byValue = (a, b) => a < b ? - 1 : a > b ? 1 : 0;\n * const comparator = conditional(shouldSortByValue)(byValue);\n *\n * @param predicate the predicate to use for determining whether to apply the comparator.\n */ const conditional = (predicate)=>{\n    return (comparator)=>{\n        return (a, b)=>{\n            if (!predicate(a, b)) return 0;\n            return comparator(a, b);\n        };\n    };\n};\n/**\n * A no-op comparator which always returns 0.\n */ const noopComparator = ()=>{\n    return ()=>0;\n};\n/**\n * Check if a participant has a video.\n *\n * @param p the participant to check.\n */ const hasVideo = (p)=>p.publishedTracks.includes(TrackType.VIDEO);\n/**\n * Check if a participant has audio.\n *\n * @param p the participant to check.\n */ const hasAudio = (p)=>p.publishedTracks.includes(TrackType.AUDIO);\n/**\n * Check if a participant is screen sharing.\n *\n * @param p the participant to check.\n */ const hasScreenShare = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE);\n/**\n * Check if a participant is screen sharing audio.\n *\n * @param p the participant to check.\n */ const hasScreenShareAudio = (p)=>p.publishedTracks.includes(TrackType.SCREEN_SHARE_AUDIO);\n/**\n * Check if the participant is pinned.\n *\n * @param p the participant.\n */ const isPinned = (p)=>!!p.pin && (p.pin.isLocalPin || p.pin.pinnedAt > 0);\n/**\n * A comparator which sorts participants by the fact that they are the dominant speaker or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const dominantSpeaker = (a, b)=>{\n    if (a.isDominantSpeaker && !b.isDominantSpeaker) return -1;\n    if (!a.isDominantSpeaker && b.isDominantSpeaker) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by the fact that they are speaking or not.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const speaking = (a, b)=>{\n    if (a.isSpeaking && !b.isSpeaking) return -1;\n    if (!a.isSpeaking && b.isSpeaking) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by screen sharing status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const screenSharing = (a, b)=>{\n    if (hasScreenShare(a) && !hasScreenShare(b)) return -1;\n    if (!hasScreenShare(a) && hasScreenShare(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by video status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingVideo = (a, b)=>{\n    if (hasVideo(a) && !hasVideo(b)) return -1;\n    if (!hasVideo(a) && hasVideo(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which sorts participants by audio status.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const publishingAudio = (a, b)=>{\n    if (hasAudio(a) && !hasAudio(b)) return -1;\n    if (!hasAudio(a) && hasAudio(b)) return 1;\n    return 0;\n};\n/**\n * A comparator which prioritizes participants who are pinned.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const pinned = (a, b)=>{\n    if (a.pin && b.pin) {\n        if (!a.pin.isLocalPin && b.pin.isLocalPin) return -1;\n        if (a.pin.isLocalPin && !b.pin.isLocalPin) return 1;\n        if (a.pin.pinnedAt > b.pin.pinnedAt) return -1;\n        if (a.pin.pinnedAt < b.pin.pinnedAt) return 1;\n    }\n    if (a.pin && !b.pin) return -1;\n    if (!a.pin && b.pin) return 1;\n    return 0;\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific reaction.\n *\n * @param type the reaction type.\n */ const reactionType = (type)=>{\n    return (a, b)=>{\n        if (a.reaction?.type === type && b.reaction?.type !== type) return -1;\n        if (a.reaction?.type !== type && b.reaction?.type === type) return 1;\n        return 0;\n    };\n};\n/**\n * A comparator creator which will set up a comparator which prioritizes\n * participants who have a specific role.\n *\n * @param roles the roles to prioritize.\n */ const role = (...roles)=>(a, b)=>{\n        if (hasAnyRole(a, roles) && !hasAnyRole(b, roles)) return -1;\n        if (!hasAnyRole(a, roles) && hasAnyRole(b, roles)) return 1;\n        return 0;\n    };\n/**\n * A comparator which sorts participants by name.\n *\n * @param a the first participant.\n * @param b the second participant.\n */ const name = (a, b)=>{\n    if (a.name < b.name) return -1;\n    if (a.name > b.name) return 1;\n    return 0;\n};\nconst hasAnyRole = (p, roles)=>(p.roles || []).some((r)=>roles.includes(r));\n// a comparator decorator which applies the decorated comparator only if the\n// participant is invisible.\n// This ensures stable sorting when all participants are visible.\nconst ifInvisibleBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE);\n/**\n * A comparator that applies the decorated comparator when a participant is\n * either invisible or its visibility state isn't known.\n * For visible participants, it ensures stable sorting.\n */ const ifInvisibleOrUnknownBy = conditional((a, b)=>a.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || a.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN || b.viewportVisibilityState?.videoTrack === VisibilityState.INVISIBLE || b.viewportVisibilityState?.videoTrack === VisibilityState.UNKNOWN);\n/**\n * The default sorting preset.\n */ const defaultSortPreset = combineComparators(pinned, screenSharing, ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for speaker layout.\n */ const speakerLayoutSortPreset = combineComparators(pinned, screenSharing, dominantSpeaker, ifInvisibleBy(combineComparators(speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for layouts that don't render all participants but\n * instead, render them in pages.\n */ const paginatedLayoutSortPreset = combineComparators(pinned, ifInvisibleOrUnknownBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)));\n/**\n * The sorting preset for livestreams and audio rooms.\n */ const livestreamOrAudioRoomSortPreset = combineComparators(ifInvisibleBy(combineComparators(dominantSpeaker, speaking, reactionType(\"raised-hand\"), publishingVideo, publishingAudio)), role(\"admin\", \"host\", \"speaker\"));\n/**\n * Returns the default egress object - when no egress data is available.\n */ const defaultEgress = {\n    broadcasting: false,\n    hls: {\n        playlist_url: \"\",\n        status: \"\"\n    },\n    rtmps: []\n};\n/**\n * Holds the state of the current call.\n * @react You don't have to use this class directly, as we are exposing the state through Hooks.\n */ class CallState {\n    /**\n     * Creates a new instance of the CallState class.\n     *\n     */ constructor(){\n        this.backstageSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(true);\n        this.blockedUserIdsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.createdAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(new Date());\n        this.endedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.startsAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.updatedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(new Date());\n        this.createdBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.customSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject({});\n        this.egressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.ingressSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.recordingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.sessionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.transcribingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.captioningSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.endedBySubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.thumbnailsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.membersSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.ownCapabilitiesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.callingStateSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(CallingState.UNKNOWN);\n        this.startedAtSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.participantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(0);\n        this.anonymousParticipantCountSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(0);\n        this.participantsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        this.callStatsReportSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.closedCaptionsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject([]);\n        // These are tracks that were delivered to the Subscriber's onTrack event\n        // that we couldn't associate with a participant yet.\n        // This happens when the participantJoined event hasn't been received yet.\n        // We keep these tracks around until we can associate them with a participant.\n        this.orphanedTracks = [];\n        this.logger = getLogger([\n            \"CallState\"\n        ]);\n        /**\n         * A list of comparators that are used to sort the participants.\n         */ this.sortParticipantsBy = defaultSortPreset;\n        this.closedCaptionsTasks = new Map();\n        /**\n         * Runs the cleanup tasks.\n         */ this.dispose = ()=>{\n            for (const [ccKey, taskId] of this.closedCaptionsTasks.entries()){\n                clearTimeout(taskId);\n                this.closedCaptionsTasks.delete(ccKey);\n            }\n        };\n        /**\n         * Sets the list of criteria that are used to sort the participants.\n         * To disable sorting, you can pass `noopComparator()`.\n         *\n         * @param comparator the comparator to use to sort the participants.\n         */ this.setSortParticipantsBy = (comparator)=>{\n            this.sortParticipantsBy = comparator;\n            // trigger re-sorting of participants\n            this.setCurrentValue(this.participantsSubject, (ps)=>ps);\n        };\n        /**\n         * Gets the current value of an observable, or undefined if the observable has\n         * not emitted a value yet.\n         *\n         * @param observable$ the observable to get the value from.\n         */ this.getCurrentValue = getCurrentValue;\n        /**\n         * Updates the value of the provided Subject.\n         * An `update` can either be a new value or a function which takes\n         * the current value and returns a new value.\n         *\n         * @internal\n         *\n         * @param subject the subject to update.\n         * @param update the update to apply to the subject.\n         * @return the updated value.\n         */ this.setCurrentValue = setCurrentValue;\n        /**\n         * Sets the number of participants in the current call.\n         *\n         * @internal\n         * @param count the number of participants.\n         */ this.setParticipantCount = (count)=>{\n            return this.setCurrentValue(this.participantCountSubject, count);\n        };\n        /**\n         * Sets the time the call session actually started.\n         *\n         * @internal\n         * @param startedAt the time the call session actually started.\n         */ this.setStartedAt = (startedAt)=>{\n            return this.setCurrentValue(this.startedAtSubject, startedAt);\n        };\n        /**\n         * Sets the closed captioning state of the current call.\n         *\n         * @internal\n         * @param captioning the closed captioning state.\n         */ this.setCaptioning = (captioning)=>{\n            return updateValue(this.captioningSubject, captioning);\n        };\n        /**\n         * Sets the number of anonymous participants in the current call.\n         *\n         * @internal\n         * @param count the number of anonymous participants.\n         */ this.setAnonymousParticipantCount = (count)=>{\n            return this.setCurrentValue(this.anonymousParticipantCountSubject, count);\n        };\n        /**\n         * Sets the list of participants in the current call.\n         *\n         * @internal\n         *\n         * @param participants the list of participants.\n         */ this.setParticipants = (participants)=>{\n            return this.setCurrentValue(this.participantsSubject, participants);\n        };\n        /**\n         * Sets the calling state.\n         *\n         * @internal\n         * @param state the new calling state.\n         */ this.setCallingState = (state)=>{\n            return this.setCurrentValue(this.callingStateSubject, state);\n        };\n        /**\n         * Sets the call stats report.\n         *\n         * @internal\n         * @param report the report to set.\n         */ this.setCallStatsReport = (report)=>{\n            return this.setCurrentValue(this.callStatsReportSubject, report);\n        };\n        /**\n         * Sets the members of the current call.\n         *\n         * @internal\n         * @param members the members to set.\n         */ this.setMembers = (members)=>{\n            this.setCurrentValue(this.membersSubject, members);\n        };\n        /**\n         * Sets the own capabilities.\n         *\n         * @internal\n         * @param capabilities the capabilities to set.\n         */ this.setOwnCapabilities = (capabilities)=>{\n            return this.setCurrentValue(this.ownCapabilitiesSubject, capabilities);\n        };\n        /**\n         * Sets the backstage state.\n         * @param backstage the backstage state.\n         */ this.setBackstage = (backstage)=>{\n            return this.setCurrentValue(this.backstageSubject, backstage);\n        };\n        /**\n         * Sets the time when this call has been ended.\n         * @param endedAt the time when this call has been ended.\n         */ this.setEndedAt = (endedAt)=>{\n            return this.setCurrentValue(this.endedAtSubject, endedAt);\n        };\n        /**\n         * Will try to find the participant with the given sessionId in the current call.\n         *\n         * @param sessionId the sessionId of the participant to find.\n         * @returns the participant with the given sessionId or undefined if not found.\n         */ this.findParticipantBySessionId = (sessionId)=>{\n            return this.participants.find((p)=>p.sessionId === sessionId);\n        };\n        /**\n         * Returns a new lookup table of participants indexed by their session ID.\n         */ this.getParticipantLookupBySessionId = ()=>{\n            return this.participants.reduce((lookupTable, participant)=>{\n                lookupTable[participant.sessionId] = participant;\n                return lookupTable;\n            }, {});\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If the participant can't be found, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param patch the patch to apply to the participant.\n         * @returns the updated participant or `undefined` if the participant couldn't be found.\n         */ this.updateParticipant = (sessionId, patch)=>{\n            const participant = this.findParticipantBySessionId(sessionId);\n            if (!participant) {\n                this.logger(\"warn\", `Participant with sessionId ${sessionId} not found`);\n                return;\n            }\n            const thePatch = typeof patch === \"function\" ? patch(participant) : patch;\n            const updatedParticipant = {\n                ...participant,\n                ...thePatch\n            };\n            return this.setParticipants((participants)=>participants.map((p)=>p.sessionId === sessionId ? updatedParticipant : p));\n        };\n        /**\n         * Updates a participant in the current call identified by the given `sessionId`.\n         * If a participant with matching `sessionId` can't be found, the provided\n         * `participant` is added to the list of participants.\n         *\n         * @param sessionId the session ID of the participant to update.\n         * @param participant the participant to update or add.\n         */ this.updateOrAddParticipant = (sessionId, participant)=>{\n            return this.setParticipants((participants)=>{\n                let add = true;\n                const nextParticipants = participants.map((p)=>{\n                    if (p.sessionId === sessionId) {\n                        add = false;\n                        return {\n                            ...p,\n                            ...participant\n                        };\n                    }\n                    return p;\n                });\n                if (add) nextParticipants.push(participant);\n                return nextParticipants;\n            });\n        };\n        /**\n         * Updates all participants in the current call whose session ID is in the given `sessionIds`.\n         * If no patches are provided, this operation is no-op.\n         *\n         * @internal\n         *\n         * @param patch the patch to apply to the participants.\n         * @returns all participants, with all patch applied.\n         */ this.updateParticipants = (patch)=>{\n            if (Object.keys(patch).length === 0) return this.participants;\n            return this.setParticipants((participants)=>participants.map((p)=>{\n                    const thePatch = patch[p.sessionId];\n                    if (thePatch) {\n                        return {\n                            ...p,\n                            ...thePatch\n                        };\n                    }\n                    return p;\n                }));\n        };\n        /**\n         * Update track subscription configuration for one or more participants.\n         * You have to create a subscription for each participant for all the different kinds of tracks you want to receive.\n         * You can only subscribe for tracks after the participant started publishing the given kind of track.\n         *\n         * @param trackType the kind of subscription to update.\n         * @param changes the list of subscription changes to do.\n         */ this.updateParticipantTracks = (trackType, changes)=>{\n            return this.updateParticipants(Object.entries(changes).reduce((acc, [sessionId, change])=>{\n                if (change.dimension) {\n                    change.dimension.height = Math.ceil(change.dimension.height);\n                    change.dimension.width = Math.ceil(change.dimension.width);\n                }\n                const prop = trackType === \"videoTrack\" ? \"videoDimension\" : trackType === \"screenShareTrack\" ? \"screenShareDimension\" : undefined;\n                if (prop) {\n                    acc[sessionId] = {\n                        [prop]: change.dimension\n                    };\n                }\n                return acc;\n            }, {}));\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param event the video event that our backend sent us.\n         */ this.updateFromEvent = (event)=>{\n            const update = this.eventHandlers[event.type];\n            if (update) {\n                update(event);\n            }\n        };\n        /**\n         * Updates the participant pinned state with server side pinning data.\n         *\n         * @param pins the latest pins from the server.\n         */ this.setServerSidePins = (pins)=>{\n            const pinsLookup = pins.reduce((lookup, pin)=>{\n                lookup[pin.sessionId] = Date.now();\n                return lookup;\n            }, {});\n            return this.setParticipants((participants)=>participants.map((participant)=>{\n                    const serverSidePinnedAt = pinsLookup[participant.sessionId];\n                    // the participant is newly pinned\n                    if (serverSidePinnedAt) {\n                        return {\n                            ...participant,\n                            pin: {\n                                isLocalPin: false,\n                                pinnedAt: serverSidePinnedAt\n                            }\n                        };\n                    }\n                    // the participant is no longer pinned server side\n                    // we need to reset the pin\n                    if (participant.pin && !participant.pin.isLocalPin) {\n                        return {\n                            ...participant,\n                            pin: undefined\n                        };\n                    }\n                    // no changes to be applied\n                    return participant;\n                }));\n        };\n        /**\n         * Adds an orphaned track to the call state.\n         *\n         * @internal\n         *\n         * @param orphanedTrack the orphaned track to add.\n         */ this.registerOrphanedTrack = (orphanedTrack)=>{\n            this.orphanedTracks.push(orphanedTrack);\n        };\n        /**\n         * Removes an orphaned track from the call state.\n         *\n         * @internal\n         *\n         * @param id the ID of the orphaned track to remove.\n         */ this.removeOrphanedTrack = (id)=>{\n            this.orphanedTracks = this.orphanedTracks.filter((o)=>o.id !== id);\n        };\n        /**\n         * Takes all orphaned tracks with the given track lookup prefix.\n         * All orphaned tracks with the given track lookup prefix are removed from the call state.\n         *\n         * @internal\n         *\n         * @param trackLookupPrefix the track lookup prefix to match the orphaned tracks by.\n         */ this.takeOrphanedTracks = (trackLookupPrefix)=>{\n            const orphans = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix === trackLookupPrefix);\n            if (orphans.length > 0) {\n                this.orphanedTracks = this.orphanedTracks.filter((orphan)=>orphan.trackLookupPrefix !== trackLookupPrefix);\n            }\n            return orphans;\n        };\n        /**\n         * Updates the closed captions settings.\n         *\n         * @param config the new closed captions settings.\n         */ this.updateClosedCaptionSettings = (config)=>{\n            this.closedCaptionsSettings = {\n                ...this.closedCaptionsSettings,\n                ...config\n            };\n        };\n        /**\n         * Updates the call state with the data received from the server.\n         *\n         * @internal\n         *\n         * @param call the call response from the server.\n         */ this.updateFromCallResponse = (call)=>{\n            this.setBackstage(call.backstage);\n            this.setCurrentValue(this.blockedUserIdsSubject, call.blocked_user_ids);\n            this.setCurrentValue(this.createdAtSubject, new Date(call.created_at));\n            this.setCurrentValue(this.updatedAtSubject, new Date(call.updated_at));\n            this.setCurrentValue(this.startsAtSubject, call.starts_at ? new Date(call.starts_at) : undefined);\n            this.setEndedAt(call.ended_at ? new Date(call.ended_at) : undefined);\n            this.setCurrentValue(this.createdBySubject, call.created_by);\n            this.setCurrentValue(this.customSubject, call.custom);\n            this.setCurrentValue(this.egressSubject, call.egress);\n            this.setCurrentValue(this.ingressSubject, call.ingress);\n            this.setCurrentValue(this.recordingSubject, call.recording);\n            const s = this.setCurrentValue(this.sessionSubject, call.session);\n            this.updateParticipantCountFromSession(s);\n            this.setCurrentValue(this.settingsSubject, call.settings);\n            this.setCurrentValue(this.transcribingSubject, call.transcribing);\n            this.setCurrentValue(this.captioningSubject, call.captioning);\n            this.setCurrentValue(this.thumbnailsSubject, call.thumbnails);\n        };\n        /**\n         * Updates the call state with the data received from the SFU server.\n         *\n         * @internal\n         *\n         * @param callState the call state from the SFU server.\n         * @param currentSessionId the session ID of the current user.\n         * @param reconnectDetails optional reconnect details.\n         */ this.updateFromSfuCallState = (callState, currentSessionId, reconnectDetails)=>{\n            const { participants, participantCount, startedAt, pins } = callState;\n            const localPublishedTracks = reconnectDetails?.announcedTracks.map((t)=>t.trackType) ?? [];\n            this.setParticipants(()=>{\n                const participantLookup = this.getParticipantLookupBySessionId();\n                return participants.map((p)=>{\n                    // We need to preserve the local state of the participant\n                    // (e.g. videoDimension, visibilityState, pinnedAt, etc.)\n                    // as it doesn't exist on the server.\n                    const existingParticipant = participantLookup[p.sessionId];\n                    const isLocalParticipant = p.sessionId === currentSessionId;\n                    return Object.assign({}, existingParticipant, p, {\n                        isLocalParticipant,\n                        publishedTracks: isLocalParticipant ? localPublishedTracks : p.publishedTracks,\n                        viewportVisibilityState: existingParticipant?.viewportVisibilityState ?? {\n                            videoTrack: VisibilityState.UNKNOWN,\n                            screenShareTrack: VisibilityState.UNKNOWN\n                        }\n                    });\n                });\n            });\n            this.setParticipantCount(participantCount?.total || 0);\n            this.setAnonymousParticipantCount(participantCount?.anonymous || 0);\n            this.setStartedAt(startedAt ? Timestamp.toDate(startedAt) : new Date());\n            this.setServerSidePins(pins);\n        };\n        this.updateFromMemberRemoved = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.filter((m)=>event.members.indexOf(m.user_id) === -1));\n        };\n        this.updateFromMemberAdded = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>[\n                    ...members,\n                    ...event.members\n                ]);\n        };\n        this.updateFromHLSBroadcastStopped = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false,\n                    hls: {\n                        ...egress.hls,\n                        status: \"\"\n                    }\n                }));\n        };\n        this.updateFromHLSBroadcastingFailed = ()=>{\n            this.setCurrentValue(this.egressSubject, (egress = defaultEgress)=>({\n                    ...egress,\n                    broadcasting: false,\n                    hls: {\n                        ...egress.hls,\n                        status: \"\"\n                    }\n                }));\n        };\n        this.updateParticipantCountFromSession = (session)=>{\n            // when in JOINED state, we should use the participant count coming through\n            // the SFU healthcheck event, as it's more accurate.\n            if (!session || this.callingState === CallingState.JOINED) return;\n            const byRoleCount = Object.values(session.participants_count_by_role).reduce((total, countByRole)=>total + countByRole, 0);\n            const participantCount = Math.max(byRoleCount, session.participants.length);\n            this.setParticipantCount(participantCount);\n            this.setAnonymousParticipantCount(session.anonymous_participant_count || 0);\n        };\n        this.updateFromSessionParticipantCountUpdate = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                return {\n                    ...session,\n                    anonymous_participant_count: event.anonymous_participant_count,\n                    participants_count_by_role: event.participants_count_by_role\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantLeft = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                return {\n                    ...session,\n                    participants: participants.filter((p)=>p.user_session_id !== user_session_id),\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: Math.max(0, (participants_count_by_role[user.role] || 0) - 1)\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateFromSessionParticipantJoined = (event)=>{\n            const s = this.setCurrentValue(this.sessionSubject, (session)=>{\n                if (!session) return session;\n                const { participants, participants_count_by_role } = session;\n                const { user, user_session_id } = event.participant;\n                // It could happen that the backend delivers the same participant more than once.\n                // Once with the call.session_started event and once again with the\n                // call.session_participant_joined event. In this case,\n                // we should update the existing participant and prevent duplicating it.\n                let shouldInsertParticipant = true;\n                const updatedParticipants = participants.map((p)=>{\n                    if (p.user_session_id === user_session_id) {\n                        shouldInsertParticipant = false;\n                        return event.participant;\n                    }\n                    return p;\n                });\n                if (shouldInsertParticipant) {\n                    // this is a new array, we can safely push the new participant\n                    updatedParticipants.push(event.participant);\n                }\n                // If we are updating an existing participant, we don't want to increment\n                // the participant_by_role count.\n                const increment = shouldInsertParticipant ? 1 : 0;\n                return {\n                    ...session,\n                    participants: updatedParticipants,\n                    participants_count_by_role: {\n                        ...participants_count_by_role,\n                        [user.role]: (participants_count_by_role[user.role] || 0) + increment\n                    }\n                };\n            });\n            this.updateParticipantCountFromSession(s);\n        };\n        this.updateMembers = (event)=>{\n            this.updateFromCallResponse(event.call);\n            this.setCurrentValue(this.membersSubject, (members)=>members.map((member)=>{\n                    const memberUpdate = event.members.find((m)=>m.user_id === member.user_id);\n                    return memberUpdate ? memberUpdate : member;\n                }));\n        };\n        this.updateParticipantReaction = (event)=>{\n            const { user, custom, type, emoji_code } = event.reaction;\n            this.setParticipants((participants)=>{\n                return participants.map((p)=>{\n                    // skip if the reaction is not for this participant\n                    if (p.userId !== user.id) return p;\n                    // update the participant with the new reaction\n                    return {\n                        ...p,\n                        reaction: {\n                            type,\n                            emoji_code,\n                            custom\n                        }\n                    };\n                });\n            });\n        };\n        this.unblockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>{\n                if (!current) return current;\n                return current.filter((id)=>id !== event.user.id);\n            });\n        };\n        this.blockUser = (event)=>{\n            this.setCurrentValue(this.blockedUserIdsSubject, (current)=>[\n                    ...current || [],\n                    event.user.id\n                ]);\n        };\n        this.updateOwnCapabilities = (event)=>{\n            if (event.user.id === this.localParticipant?.userId) {\n                this.setCurrentValue(this.ownCapabilitiesSubject, event.own_capabilities);\n            }\n        };\n        this.updateFromClosedCaptions = (event)=>{\n            this.setCurrentValue(this.closedCaptionsSubject, (queue)=>{\n                const { closed_caption } = event;\n                const keyOf = (c)=>`${c.speaker_id}/${c.start_time}`;\n                const currentKey = keyOf(closed_caption);\n                const duplicate = queue.some((caption)=>keyOf(caption) === currentKey);\n                if (duplicate) return queue;\n                const nextQueue = [\n                    ...queue,\n                    closed_caption\n                ];\n                const { visibilityDurationMs = 2700, maxVisibleCaptions = 2 } = this.closedCaptionsSettings || {};\n                // schedule the removal of the closed caption after the retention time\n                if (visibilityDurationMs > 0) {\n                    const taskId = setTimeout(()=>{\n                        this.setCurrentValue(this.closedCaptionsSubject, (captions)=>captions.filter((caption)=>caption !== closed_caption));\n                        this.closedCaptionsTasks.delete(currentKey);\n                    }, visibilityDurationMs);\n                    this.closedCaptionsTasks.set(currentKey, taskId);\n                    // cancel the cleanup tasks for the closed captions that are no longer in the queue\n                    for(let i = 0; i < nextQueue.length - maxVisibleCaptions; i++){\n                        const key = keyOf(nextQueue[i]);\n                        const task = this.closedCaptionsTasks.get(key);\n                        clearTimeout(task);\n                        this.closedCaptionsTasks.delete(key);\n                    }\n                }\n                // trim the queue\n                return nextQueue.slice(-maxVisibleCaptions);\n            });\n        };\n        this.rawParticipants$ = this.participantsSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.participants$ = this.participantsSubject.asObservable().pipe(// maintain stable-sort by mutating the participants stored\n        // in the original subject\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((ps)=>ps.sort(this.sortParticipantsBy)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.localParticipant$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((participants)=>participants.find((p)=>p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.remoteParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((participants)=>participants.filter((p)=>!p.isLocalParticipant)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.pinnedParticipants$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((participants)=>participants.filter((p)=>!!p.pin)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.dominantSpeaker$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((participants)=>participants.find((p)=>p.isDominantSpeaker)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        this.hasOngoingScreenShare$ = this.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((participants)=>participants.some((p)=>hasScreenShare(p))), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)({\n            bufferSize: 1,\n            refCount: true\n        }));\n        // dates\n        this.createdAt$ = this.createdAtSubject.asObservable();\n        this.endedAt$ = this.endedAtSubject.asObservable();\n        this.startsAt$ = this.startsAtSubject.asObservable();\n        this.startedAt$ = this.startedAtSubject.asObservable();\n        this.updatedAt$ = this.updatedAtSubject.asObservable();\n        this.callStatsReport$ = this.callStatsReportSubject.asObservable();\n        this.members$ = this.membersSubject.asObservable();\n        // complex objects should work as streams of data\n        this.createdBy$ = this.createdBySubject.asObservable();\n        this.custom$ = this.customSubject.asObservable();\n        this.egress$ = this.egressSubject.asObservable();\n        this.ingress$ = this.ingressSubject.asObservable();\n        this.session$ = this.sessionSubject.asObservable();\n        this.settings$ = this.settingsSubject.asObservable();\n        this.endedBy$ = this.endedBySubject.asObservable();\n        this.thumbnails$ = this.thumbnailsSubject.asObservable();\n        this.closedCaptions$ = this.closedCaptionsSubject.asObservable();\n        /**\n         * Performs shallow comparison of two arrays.\n         * Expects primitive values: [1, 2, 3] is equal to [2, 1, 3].\n         */ const isShallowEqual = (a, b)=>{\n            if (a.length !== b.length) return false;\n            for (const item of a)if (!b.includes(item)) return false;\n            for (const item of b)if (!a.includes(item)) return false;\n            return true;\n        };\n        /**\n         * Creates an Observable from the given subject by piping to the\n         * `distinctUntilChanged()` operator.\n         */ const duc = (subject, comparator)=>subject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(comparator));\n        // primitive values should only emit once the value they hold changes\n        this.anonymousParticipantCount$ = duc(this.anonymousParticipantCountSubject);\n        this.blockedUserIds$ = duc(this.blockedUserIdsSubject, isShallowEqual);\n        this.backstage$ = duc(this.backstageSubject);\n        this.callingState$ = duc(this.callingStateSubject);\n        this.ownCapabilities$ = duc(this.ownCapabilitiesSubject, isShallowEqual);\n        this.participantCount$ = duc(this.participantCountSubject);\n        this.recording$ = duc(this.recordingSubject);\n        this.transcribing$ = duc(this.transcribingSubject);\n        this.captioning$ = duc(this.captioningSubject);\n        this.eventHandlers = {\n            // these events are not updating the call state:\n            \"call.frame_recording_ready\": undefined,\n            \"call.moderation_blur\": undefined,\n            \"call.moderation_warning\": undefined,\n            \"call.permission_request\": undefined,\n            \"call.recording_ready\": undefined,\n            \"call.rtmp_broadcast_failed\": undefined,\n            \"call.rtmp_broadcast_started\": undefined,\n            \"call.rtmp_broadcast_stopped\": undefined,\n            \"call.stats_report_ready\": undefined,\n            \"call.transcription_ready\": undefined,\n            \"call.user_muted\": undefined,\n            \"connection.error\": undefined,\n            \"connection.ok\": undefined,\n            \"health.check\": undefined,\n            \"user.updated\": undefined,\n            custom: undefined,\n            // events that update call state:\n            \"call.accepted\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.blocked_user\": this.blockUser,\n            \"call.closed_caption\": this.updateFromClosedCaptions,\n            \"call.closed_captions_failed\": ()=>{\n                this.setCurrentValue(this.captioningSubject, false);\n            },\n            \"call.closed_captions_started\": ()=>{\n                this.setCurrentValue(this.captioningSubject, true);\n            },\n            \"call.closed_captions_stopped\": ()=>{\n                this.setCurrentValue(this.captioningSubject, false);\n            },\n            \"call.created\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.deleted\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ended\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setCurrentValue(this.endedBySubject, e.user);\n            },\n            \"call.frame_recording_failed\": (e)=>{\n                this.updateFromCallResponse(e.call);\n            },\n            \"call.frame_recording_started\": (e)=>{\n                this.updateFromCallResponse(e.call);\n            },\n            \"call.frame_recording_stopped\": (e)=>{\n                this.updateFromCallResponse(e.call);\n            },\n            \"call.hls_broadcasting_failed\": this.updateFromHLSBroadcastingFailed,\n            \"call.hls_broadcasting_started\": (e)=>{\n                this.updateFromCallResponse(e.call);\n            },\n            \"call.hls_broadcasting_stopped\": this.updateFromHLSBroadcastStopped,\n            \"call.live_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.member_added\": this.updateFromMemberAdded,\n            \"call.member_removed\": this.updateFromMemberRemoved,\n            \"call.member_updated_permission\": this.updateMembers,\n            \"call.member_updated\": this.updateMembers,\n            \"call.notification\": (e)=>{\n                this.updateFromCallResponse(e.call);\n                this.setMembers(e.members);\n            },\n            \"call.permissions_updated\": this.updateOwnCapabilities,\n            \"call.reaction_new\": this.updateParticipantReaction,\n            \"call.recording_started\": ()=>this.setCurrentValue(this.recordingSubject, true),\n            \"call.recording_stopped\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.recording_failed\": ()=>this.setCurrentValue(this.recordingSubject, false),\n            \"call.rejected\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.ring\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.missed\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_ended\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.session_participant_count_updated\": this.updateFromSessionParticipantCountUpdate,\n            \"call.session_participant_joined\": this.updateFromSessionParticipantJoined,\n            \"call.session_participant_left\": this.updateFromSessionParticipantLeft,\n            \"call.session_started\": (e)=>this.updateFromCallResponse(e.call),\n            \"call.transcription_started\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, true);\n            },\n            \"call.transcription_stopped\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.transcription_failed\": ()=>{\n                this.setCurrentValue(this.transcribingSubject, false);\n            },\n            \"call.unblocked_user\": this.unblockUser,\n            \"call.updated\": (e)=>this.updateFromCallResponse(e.call)\n        };\n    }\n    /**\n     * The server-side counted number of participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get participantCount() {\n        return this.getCurrentValue(this.participantCount$);\n    }\n    /**\n     * The time the call session actually started.\n     * Useful for displaying the call duration.\n     */ get startedAt() {\n        return this.getCurrentValue(this.startedAt$);\n    }\n    /**\n     * Returns whether closed captions are enabled in the current call.\n     */ get captioning() {\n        return this.getCurrentValue(this.captioning$);\n    }\n    /**\n     * The server-side counted number of anonymous participants connected to the current call.\n     * This number includes the anonymous participants as well.\n     */ get anonymousParticipantCount() {\n        return this.getCurrentValue(this.anonymousParticipantCount$);\n    }\n    /**\n     * The list of participants in the current call.\n     */ get participants() {\n        return this.getCurrentValue(this.participants$);\n    }\n    /**\n     * The stable list of participants in the current call, unsorted.\n     */ get rawParticipants() {\n        return this.getCurrentValue(this.rawParticipants$);\n    }\n    /**\n     * The local participant in the current call.\n     */ get localParticipant() {\n        return this.getCurrentValue(this.localParticipant$);\n    }\n    /**\n     * The list of remote participants in the current call.\n     */ get remoteParticipants() {\n        return this.getCurrentValue(this.remoteParticipants$);\n    }\n    /**\n     * The dominant speaker in the current call.\n     */ get dominantSpeaker() {\n        return this.getCurrentValue(this.dominantSpeaker$);\n    }\n    /**\n     * The list of pinned participants in the current call.\n     */ get pinnedParticipants() {\n        return this.getCurrentValue(this.pinnedParticipants$);\n    }\n    /**\n     * Tell if there is an ongoing screen share in this call.\n     */ get hasOngoingScreenShare() {\n        return this.getCurrentValue(this.hasOngoingScreenShare$);\n    }\n    /**\n     * The calling state.\n     */ get callingState() {\n        return this.getCurrentValue(this.callingState$);\n    }\n    /**\n     * The call stats report.\n     */ get callStatsReport() {\n        return this.getCurrentValue(this.callStatsReport$);\n    }\n    /**\n     * Returns whether the call stats report is being observed or not.\n     * @internal\n     */ get isCallStatsReportObserved() {\n        return this.callStatsReportSubject.observed;\n    }\n    /**\n     * The members of the current call.\n     */ get members() {\n        return this.getCurrentValue(this.members$);\n    }\n    /**\n     * The capabilities of the current user for the current call.\n     */ get ownCapabilities() {\n        return this.getCurrentValue(this.ownCapabilities$);\n    }\n    /**\n     * The backstage state.\n     */ get backstage() {\n        return this.getCurrentValue(this.backstage$);\n    }\n    /**\n     * Will provide the list of blocked user IDs.\n     */ get blockedUserIds() {\n        return this.getCurrentValue(this.blockedUserIds$);\n    }\n    /**\n     * Will provide the time when this call has been created.\n     */ get createdAt() {\n        return this.getCurrentValue(this.createdAt$);\n    }\n    /**\n     * Will provide the time when this call has been ended.\n     */ get endedAt() {\n        return this.getCurrentValue(this.endedAt$);\n    }\n    /**\n     * Will provide the time when this call has been scheduled to start.\n     */ get startsAt() {\n        return this.getCurrentValue(this.startsAt$);\n    }\n    /**\n     * Will provide the time when this call has been updated.\n     */ get updatedAt() {\n        return this.getCurrentValue(this.updatedAt$);\n    }\n    /**\n     * Will provide the user who created this call.\n     */ get createdBy() {\n        return this.getCurrentValue(this.createdBy$);\n    }\n    /**\n     * Will provide the custom data of this call.\n     */ get custom() {\n        return this.getCurrentValue(this.custom$);\n    }\n    /**\n     * Will provide the egress data of this call.\n     */ get egress() {\n        return this.getCurrentValue(this.egress$);\n    }\n    /**\n     * Will provide the ingress data of this call.\n     */ get ingress() {\n        return this.getCurrentValue(this.ingress$);\n    }\n    /**\n     * Will provide the recording state of this call.\n     */ get recording() {\n        return this.getCurrentValue(this.recording$);\n    }\n    /**\n     * Will provide the session data of this call.\n     */ get session() {\n        return this.getCurrentValue(this.session$);\n    }\n    /**\n     * Will provide the settings of this call.\n     */ get settings() {\n        return this.getCurrentValue(this.settings$);\n    }\n    /**\n     * Will provide the transcribing state of this call.\n     */ get transcribing() {\n        return this.getCurrentValue(this.transcribing$);\n    }\n    /**\n     * Will provide the user who ended this call.\n     */ get endedBy() {\n        return this.getCurrentValue(this.endedBy$);\n    }\n    /**\n     * Will provide the thumbnails of this call, if enabled in the call settings.\n     */ get thumbnails() {\n        return this.getCurrentValue(this.thumbnails$);\n    }\n    /**\n     * Returns the current queue of closed captions.\n     */ get closedCaptions() {\n        return this.getCurrentValue(this.closedCaptions$);\n    }\n}\n/**\n * NegotiationError is thrown when there is an error during the negotiation process.\n * It extends the built-in Error class and includes an SfuError object for more details.\n */ class NegotiationError extends Error {\n    /**\n     * Creates an instance of NegotiationError.\n     */ constructor(error){\n        super(error.message);\n        this.name = \"NegotiationError\";\n        this.error = error;\n    }\n}\n/**\n * Flatten the stats report into an array of stats objects.\n *\n * @param report the report to flatten.\n */ const flatten = (report)=>{\n    const stats = [];\n    report.forEach((s)=>{\n        stats.push(s);\n    });\n    return stats;\n};\n/**\n * Dump the provided MediaStream into a JSON object.\n */ const dumpStream = (stream)=>({\n        id: stream.id,\n        tracks: stream.getTracks().map((track)=>({\n                id: track.id,\n                kind: track.kind,\n                label: track.label,\n                enabled: track.enabled,\n                muted: track.muted,\n                readyState: track.readyState\n            }))\n    });\nconst getSdkSignature = (clientDetails)=>{\n    const { sdk, ...platform } = clientDetails;\n    const sdkName = getSdkName(sdk);\n    const sdkVersion = getSdkVersion(sdk);\n    return {\n        sdkName,\n        sdkVersion,\n        ...platform\n    };\n};\nconst getSdkName = (sdk)=>{\n    return sdk && sdk.type === SdkType.REACT ? \"stream-react\" : sdk && sdk.type === SdkType.REACT_NATIVE ? \"stream-react-native\" : \"stream-js\";\n};\nconst getSdkVersion = (sdk)=>{\n    return sdk ? `${sdk.major}.${sdk.minor}.${sdk.patch}` : \"0.0.0-development\";\n};\n/**\n * Checks whether the current browser is Safari.\n */ const isSafari = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return /^((?!chrome|android).)*safari/i.test(navigator.userAgent || \"\");\n};\n/**\n * Checks whether the current browser is Firefox.\n */ const isFirefox = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Firefox\");\n};\n/**\n * Checks whether the current browser is Google Chrome.\n */ const isChrome = ()=>{\n    if (typeof navigator === \"undefined\") return false;\n    return navigator.userAgent?.includes(\"Chrome\");\n};\nvar browsers = /*#__PURE__*/ Object.freeze({\n    __proto__: null,\n    isChrome: isChrome,\n    isFirefox: isFirefox,\n    isSafari: isSafari\n});\n/**\n * Creates a new StatsReporter instance that collects metrics about the ongoing call and reports them to the state store\n */ const createStatsReporter = ({ subscriber, publisher, state, datacenter, pollingIntervalInMs = 2000 })=>{\n    const logger = getLogger([\n        \"stats\"\n    ]);\n    const getRawStatsForTrack = async (kind, selector)=>{\n        if (kind === \"subscriber\" && subscriber) {\n            return subscriber.getStats(selector);\n        } else if (kind === \"publisher\" && publisher) {\n            return publisher.getStats(selector);\n        } else {\n            return undefined;\n        }\n    };\n    const getStatsForStream = async (kind, tracks)=>{\n        const pc = kind === \"subscriber\" ? subscriber : publisher;\n        if (!pc) return [];\n        const statsForStream = [];\n        for (const track of tracks){\n            const report = await pc.getStats(track);\n            const stats = transform(report, {\n                trackKind: track.kind,\n                kind,\n                publisher: undefined\n            });\n            statsForStream.push(stats);\n        }\n        return statsForStream;\n    };\n    const startReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.add(sessionId);\n        void run();\n    };\n    const stopReportingStatsFor = (sessionId)=>{\n        sessionIdsToTrack.delete(sessionId);\n        void run();\n    };\n    const sessionIdsToTrack = new Set();\n    /**\n     * The main stats reporting loop.\n     */ const run = async ()=>{\n        const participantStats = {};\n        if (sessionIdsToTrack.size > 0) {\n            const sessionIds = new Set(sessionIdsToTrack);\n            for (const participant of state.participants){\n                if (!sessionIds.has(participant.sessionId)) continue;\n                const { audioStream, isLocalParticipant, sessionId, userId, videoStream } = participant;\n                const kind = isLocalParticipant ? \"publisher\" : \"subscriber\";\n                try {\n                    const tracks = isLocalParticipant ? publisher?.getPublishedTracks() || [] : [\n                        ...videoStream?.getVideoTracks() || [],\n                        ...audioStream?.getAudioTracks() || []\n                    ];\n                    participantStats[sessionId] = await getStatsForStream(kind, tracks);\n                } catch (e) {\n                    logger(\"warn\", `Failed to collect ${kind} stats for ${userId}`, e);\n                }\n            }\n        }\n        const [subscriberRawStats, publisherRawStats] = await Promise.all([\n            getRawStatsForTrack(\"subscriber\"),\n            publisher ? getRawStatsForTrack(\"publisher\") : undefined\n        ]);\n        const process = (report, kind)=>aggregate(transform(report, {\n                kind,\n                trackKind: \"video\",\n                publisher\n            }));\n        const subscriberStats = subscriberRawStats ? process(subscriberRawStats, \"subscriber\") : getEmptyStats();\n        const publisherStats = publisherRawStats ? process(publisherRawStats, \"publisher\") : getEmptyStats();\n        state.setCallStatsReport({\n            datacenter,\n            publisherStats,\n            subscriberStats,\n            subscriberRawStats,\n            publisherRawStats,\n            participants: participantStats,\n            timestamp: Date.now()\n        });\n    };\n    let timeoutId;\n    if (pollingIntervalInMs > 0) {\n        const loop = async ()=>{\n            // bail out of the loop as we don't want to collect stats\n            // (they are expensive) if no one is listening to them\n            if (state.isCallStatsReportObserved) {\n                await run().catch((e)=>{\n                    logger(\"debug\", \"Failed to collect stats\", e);\n                });\n            }\n            timeoutId = setTimeout(loop, pollingIntervalInMs);\n        };\n        void loop();\n    }\n    const stop = ()=>{\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n    };\n    return {\n        getRawStatsForTrack,\n        getStatsForStream,\n        startReportingStatsFor,\n        stopReportingStatsFor,\n        stop\n    };\n};\n/**\n * Transforms raw RTC stats into a slimmer and uniform across browsers format.\n *\n * @param report the report to transform.\n * @param opts the transform options.\n */ const transform = (report, opts)=>{\n    const { trackKind, kind, publisher } = opts;\n    const direction = kind === \"subscriber\" ? \"inbound-rtp\" : \"outbound-rtp\";\n    const stats = flatten(report);\n    const streams = stats.filter((stat)=>stat.type === direction && stat.kind === trackKind).map((stat)=>{\n        const rtcStreamStats = stat;\n        const codec = stats.find((s)=>s.type === \"codec\" && s.id === rtcStreamStats.codecId);\n        const transport = stats.find((s)=>s.type === \"transport\" && s.id === rtcStreamStats.transportId);\n        let roundTripTime;\n        if (transport && transport.dtlsState === \"connected\") {\n            const candidatePair = stats.find((s)=>s.type === \"candidate-pair\" && s.id === transport.selectedCandidatePairId);\n            roundTripTime = candidatePair?.currentRoundTripTime;\n        }\n        let trackType;\n        if (kind === \"publisher\" && publisher) {\n            const firefox = isFirefox();\n            const mediaSource = stats.find((s)=>s.type === \"media-source\" && // Firefox doesn't have mediaSourceId, so we need to guess the media source\n                (firefox ? true : s.id === rtcStreamStats.mediaSourceId));\n            if (mediaSource) {\n                trackType = publisher.getTrackType(mediaSource.trackIdentifier);\n            }\n        }\n        return {\n            bytesSent: rtcStreamStats.bytesSent,\n            bytesReceived: rtcStreamStats.bytesReceived,\n            codec: codec?.mimeType,\n            currentRoundTripTime: roundTripTime,\n            frameHeight: rtcStreamStats.frameHeight,\n            frameWidth: rtcStreamStats.frameWidth,\n            framesPerSecond: rtcStreamStats.framesPerSecond,\n            jitter: rtcStreamStats.jitter,\n            kind: rtcStreamStats.kind,\n            mediaSourceId: rtcStreamStats.mediaSourceId,\n            qualityLimitationReason: rtcStreamStats.qualityLimitationReason,\n            rid: rtcStreamStats.rid,\n            ssrc: rtcStreamStats.ssrc,\n            trackType\n        };\n    });\n    return {\n        rawStats: report,\n        streams,\n        timestamp: Date.now()\n    };\n};\nconst getEmptyStats = (stats)=>{\n    return {\n        rawReport: stats ?? {\n            streams: [],\n            timestamp: Date.now()\n        },\n        totalBytesSent: 0,\n        totalBytesReceived: 0,\n        averageJitterInMs: 0,\n        averageRoundTripTimeInMs: 0,\n        qualityLimitationReasons: \"none\",\n        highestFrameWidth: 0,\n        highestFrameHeight: 0,\n        highestFramesPerSecond: 0,\n        codec: \"\",\n        codecPerTrackType: {},\n        timestamp: Date.now()\n    };\n};\n/**\n * Aggregates generic stats.\n *\n * @param stats the stats to aggregate.\n */ const aggregate = (stats)=>{\n    const aggregatedStats = getEmptyStats(stats);\n    let maxArea = -1;\n    const area = (w, h)=>w * h;\n    const qualityLimitationReasons = new Set();\n    const streams = stats.streams;\n    const report = streams.reduce((acc, stream)=>{\n        acc.totalBytesSent += stream.bytesSent || 0;\n        acc.totalBytesReceived += stream.bytesReceived || 0;\n        acc.averageJitterInMs += stream.jitter || 0;\n        acc.averageRoundTripTimeInMs += stream.currentRoundTripTime || 0;\n        // naive calculation of the highest resolution\n        const streamArea = area(stream.frameWidth || 0, stream.frameHeight || 0);\n        if (streamArea > maxArea) {\n            acc.highestFrameWidth = stream.frameWidth || 0;\n            acc.highestFrameHeight = stream.frameHeight || 0;\n            acc.highestFramesPerSecond = stream.framesPerSecond || 0;\n            maxArea = streamArea;\n        }\n        qualityLimitationReasons.add(stream.qualityLimitationReason || \"\");\n        return acc;\n    }, aggregatedStats);\n    if (streams.length > 0) {\n        report.averageJitterInMs = Math.round(report.averageJitterInMs / streams.length * 1000);\n        report.averageRoundTripTimeInMs = Math.round(report.averageRoundTripTimeInMs / streams.length * 1000);\n        // we take the first codec we find, as it should be the same for all streams\n        report.codec = streams[0].codec || \"\";\n        report.codecPerTrackType = streams.reduce((acc, stream)=>{\n            if (stream.trackType) {\n                acc[stream.trackType] = stream.codec || \"\";\n            }\n            return acc;\n        }, {});\n    }\n    const qualityLimitationReason = [\n        qualityLimitationReasons.has(\"cpu\") && \"cpu\",\n        qualityLimitationReasons.has(\"bandwidth\") && \"bandwidth\",\n        qualityLimitationReasons.has(\"other\") && \"other\"\n    ].filter(Boolean).join(\", \");\n    if (qualityLimitationReason) {\n        report.qualityLimitationReasons = qualityLimitationReason;\n    }\n    return report;\n};\nconst version = \"1.25.0\";\nconst [major, minor, patch] = version.split(\".\");\nlet sdkInfo = {\n    type: SdkType.PLAIN_JAVASCRIPT,\n    major,\n    minor,\n    patch\n};\nlet osInfo;\nlet deviceInfo;\nlet webRtcInfo;\nlet deviceState = {\n    oneofKind: undefined\n};\nconst setSdkInfo = (info)=>{\n    sdkInfo = info;\n};\nconst getSdkInfo = ()=>{\n    return sdkInfo;\n};\nconst setOSInfo = (info)=>{\n    osInfo = info;\n};\nconst setDeviceInfo = (info)=>{\n    deviceInfo = info;\n};\nconst getWebRTCInfo = ()=>{\n    return webRtcInfo;\n};\nconst setWebRTCInfo = (info)=>{\n    webRtcInfo = info;\n};\nconst setThermalState = (state)=>{\n    if (!osInfo) {\n        deviceState = {\n            oneofKind: undefined\n        };\n        return;\n    }\n    if (osInfo.name === \"android\") {\n        const thermalState = AndroidThermalState[state] || AndroidThermalState.UNSPECIFIED;\n        deviceState = {\n            oneofKind: \"android\",\n            android: {\n                thermalState,\n                isPowerSaverMode: deviceState?.oneofKind === \"android\" && deviceState.android.isPowerSaverMode\n            }\n        };\n    }\n    if (osInfo.name.toLowerCase() === \"ios\") {\n        const thermalState = AppleThermalState[state] || AppleThermalState.UNSPECIFIED;\n        deviceState = {\n            oneofKind: \"apple\",\n            apple: {\n                thermalState,\n                isLowPowerModeEnabled: deviceState?.oneofKind === \"apple\" && deviceState.apple.isLowPowerModeEnabled\n            }\n        };\n    }\n};\nconst setPowerState = (powerMode)=>{\n    if (!osInfo) {\n        deviceState = {\n            oneofKind: undefined\n        };\n        return;\n    }\n    if (osInfo.name === \"android\") {\n        deviceState = {\n            oneofKind: \"android\",\n            android: {\n                thermalState: deviceState?.oneofKind === \"android\" ? deviceState.android.thermalState : AndroidThermalState.UNSPECIFIED,\n                isPowerSaverMode: powerMode\n            }\n        };\n    }\n    if (osInfo.name.toLowerCase() === \"ios\") {\n        deviceState = {\n            oneofKind: \"apple\",\n            apple: {\n                thermalState: deviceState?.oneofKind === \"apple\" ? deviceState.apple.thermalState : AppleThermalState.UNSPECIFIED,\n                isLowPowerModeEnabled: powerMode\n            }\n        };\n    }\n};\nconst getDeviceState = ()=>{\n    return deviceState;\n};\nconst getClientDetails = async ()=>{\n    if (isReactNative()) {\n        // Since RN doesn't support web, sharing browser info is not required\n        return {\n            sdk: sdkInfo,\n            os: osInfo,\n            device: deviceInfo\n        };\n    }\n    // @ts-expect-error - userAgentData is not yet in the TS types\n    const userAgentDataApi = navigator.userAgentData;\n    let userAgentData;\n    if (userAgentDataApi && userAgentDataApi.getHighEntropyValues) {\n        try {\n            userAgentData = await userAgentDataApi.getHighEntropyValues([\n                \"platform\",\n                \"platformVersion\"\n            ]);\n        } catch  {\n        // Ignore the error\n        }\n    }\n    const userAgent = new ua_parser_js__WEBPACK_IMPORTED_MODULE_2__.UAParser(navigator.userAgent);\n    const { browser, os, device, cpu } = userAgent.getResult();\n    return {\n        sdk: sdkInfo,\n        browser: {\n            name: browser.name || navigator.userAgent,\n            version: browser.version || \"\"\n        },\n        os: {\n            name: userAgentData?.platform || os.name || \"\",\n            version: userAgentData?.platformVersion || os.version || \"\",\n            architecture: cpu.architecture || \"\"\n        },\n        device: {\n            name: [\n                device.vendor,\n                device.model,\n                device.type\n            ].filter(Boolean).join(\" \"),\n            version: \"\"\n        }\n    };\n};\nclass SfuStatsReporter {\n    constructor(sfuClient, { options, clientDetails, subscriber, publisher, microphone, camera, state, tracer, unifiedSessionId }){\n        this.logger = getLogger([\n            \"SfuStatsReporter\"\n        ]);\n        this.inputDevices = new Map();\n        this.observeDevice = (device, kind)=>{\n            const { browserPermissionState$ } = device.state;\n            this.unsubscribeDevicePermissionsSubscription?.();\n            this.unsubscribeDevicePermissionsSubscription = createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                browserPermissionState$,\n                this.state.ownCapabilities$\n            ]), ([browserPermissionState, ownCapabilities])=>{\n                // cleanup the previous listDevices() subscription in case\n                // permissions or capabilities have changed.\n                // we will subscribe again if everything is in order.\n                this.unsubscribeListDevicesSubscription?.();\n                const hasCapability = kind === \"mic\" ? ownCapabilities.includes(OwnCapability.SEND_AUDIO) : ownCapabilities.includes(OwnCapability.SEND_VIDEO);\n                if (browserPermissionState !== \"granted\" || !hasCapability) {\n                    this.inputDevices.set(kind, {\n                        currentDevice: \"\",\n                        availableDevices: [],\n                        isPermitted: false\n                    });\n                    return;\n                }\n                this.unsubscribeListDevicesSubscription = createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                    device.listDevices(),\n                    device.state.selectedDevice$\n                ]), ([devices, deviceId])=>{\n                    const selected = devices.find((d)=>d.deviceId === deviceId);\n                    this.inputDevices.set(kind, {\n                        currentDevice: selected?.label || deviceId || \"\",\n                        availableDevices: devices.map((d)=>d.label),\n                        isPermitted: true\n                    });\n                });\n            });\n        };\n        this.sendConnectionTime = (connectionTimeSeconds)=>{\n            this.sendTelemetryData({\n                data: {\n                    oneofKind: \"connectionTimeSeconds\",\n                    connectionTimeSeconds\n                }\n            });\n        };\n        this.sendReconnectionTime = (strategy, timeSeconds)=>{\n            this.sendTelemetryData({\n                data: {\n                    oneofKind: \"reconnection\",\n                    reconnection: {\n                        strategy,\n                        timeSeconds\n                    }\n                }\n            });\n        };\n        this.sendTelemetryData = (telemetryData)=>{\n            // intentionally not awaiting the promise here\n            // to avoid impeding with the ongoing actions.\n            this.run(telemetryData).catch((err)=>{\n                this.logger(\"warn\", \"Failed to send telemetry data\", err);\n            });\n        };\n        this.run = async (telemetry)=>{\n            const [subscriberStats, publisherStats] = await Promise.all([\n                this.subscriber.stats.get(),\n                this.publisher?.stats.get()\n            ]);\n            this.subscriber.tracer?.trace(\"getstats\", subscriberStats.delta);\n            if (publisherStats) {\n                this.publisher?.tracer?.trace(\"getstats\", publisherStats.delta);\n            }\n            const subscriberTrace = this.subscriber.tracer?.take();\n            const publisherTrace = this.publisher?.tracer?.take();\n            const tracer = this.tracer.take();\n            const sfuTrace = this.sfuClient.getTrace();\n            const traces = [\n                ...tracer.snapshot,\n                ...sfuTrace?.snapshot ?? [],\n                ...publisherTrace?.snapshot ?? [],\n                ...subscriberTrace?.snapshot ?? []\n            ];\n            try {\n                await this.sfuClient.sendStats({\n                    sdk: this.sdkName,\n                    sdkVersion: this.sdkVersion,\n                    webrtcVersion: this.webRTCVersion,\n                    subscriberStats: JSON.stringify(flatten(subscriberStats.stats)),\n                    publisherStats: publisherStats ? JSON.stringify(flatten(publisherStats.stats)) : \"[]\",\n                    subscriberRtcStats: \"\",\n                    publisherRtcStats: \"\",\n                    rtcStats: JSON.stringify(traces),\n                    encodeStats: publisherStats?.performanceStats ?? [],\n                    decodeStats: subscriberStats.performanceStats,\n                    audioDevices: this.inputDevices.get(\"mic\"),\n                    videoDevices: this.inputDevices.get(\"camera\"),\n                    unifiedSessionId: this.unifiedSessionId,\n                    deviceState: getDeviceState(),\n                    telemetry\n                });\n            } catch (err) {\n                publisherTrace?.rollback();\n                subscriberTrace?.rollback();\n                tracer.rollback();\n                sfuTrace?.rollback();\n                throw err;\n            }\n        };\n        this.start = ()=>{\n            if (this.options.reporting_interval_ms <= 0) return;\n            this.observeDevice(this.microphone, \"mic\");\n            this.observeDevice(this.camera, \"camera\");\n            clearInterval(this.intervalId);\n            this.intervalId = setInterval(()=>{\n                this.run().catch((err)=>{\n                    this.logger(\"warn\", \"Failed to report stats\", err);\n                });\n            }, this.options.reporting_interval_ms);\n        };\n        this.stop = ()=>{\n            this.unsubscribeDevicePermissionsSubscription?.();\n            this.unsubscribeDevicePermissionsSubscription = undefined;\n            this.unsubscribeListDevicesSubscription?.();\n            this.unsubscribeListDevicesSubscription = undefined;\n            this.inputDevices.clear();\n            clearInterval(this.intervalId);\n            this.intervalId = undefined;\n            clearTimeout(this.timeoutId);\n            this.timeoutId = undefined;\n        };\n        this.flush = ()=>{\n            this.run().catch((err)=>{\n                this.logger(\"warn\", \"Failed to flush report stats\", err);\n            });\n        };\n        this.scheduleOne = (timeout)=>{\n            clearTimeout(this.timeoutId);\n            this.timeoutId = setTimeout(()=>{\n                this.run().catch((err)=>{\n                    this.logger(\"warn\", \"Failed to report stats\", err);\n                });\n            }, timeout);\n        };\n        this.sfuClient = sfuClient;\n        this.options = options;\n        this.subscriber = subscriber;\n        this.publisher = publisher;\n        this.microphone = microphone;\n        this.camera = camera;\n        this.state = state;\n        this.tracer = tracer;\n        this.unifiedSessionId = unifiedSessionId;\n        const { sdk, browser } = clientDetails;\n        this.sdkName = getSdkName(sdk);\n        this.sdkVersion = getSdkVersion(sdk);\n        // use the WebRTC version if set by the SDK (React Native) otherwise,\n        // use the browser version as a fallback\n        const webRTCInfo = getWebRTCInfo();\n        this.webRTCVersion = webRTCInfo?.version || `${browser?.name || \"\"}-${browser?.version || \"\"}` || \"N/A\";\n    }\n}\nconst traceRTCPeerConnection = (pc, trace)=>{\n    pc.addEventListener(\"icecandidate\", (e)=>{\n        trace(\"onicecandidate\", e.candidate);\n    });\n    pc.addEventListener(\"track\", (e)=>{\n        const streams = e.streams.map((stream)=>`stream:${stream.id}`);\n        trace(\"ontrack\", `${e.track.kind}:${e.track.id} ${streams}`);\n    });\n    pc.addEventListener(\"signalingstatechange\", ()=>{\n        trace(\"signalingstatechange\", pc.signalingState);\n    });\n    pc.addEventListener(\"iceconnectionstatechange\", ()=>{\n        trace(\"iceconnectionstatechange\", pc.iceConnectionState);\n    });\n    pc.addEventListener(\"icegatheringstatechange\", ()=>{\n        trace(\"icegatheringstatechange\", pc.iceGatheringState);\n    });\n    pc.addEventListener(\"connectionstatechange\", ()=>{\n        trace(\"connectionstatechange\", pc.connectionState);\n    });\n    pc.addEventListener(\"negotiationneeded\", ()=>{\n        trace(\"negotiationneeded\", undefined);\n    });\n    pc.addEventListener(\"datachannel\", ({ channel })=>{\n        trace(\"datachannel\", [\n            channel.id,\n            channel.label\n        ]);\n    });\n    const origClose = pc.close;\n    pc.close = function tracedClose() {\n        trace(\"close\", undefined);\n        return origClose.call(this);\n    };\n    for (const method of [\n        \"createOffer\",\n        \"createAnswer\",\n        \"setLocalDescription\",\n        \"setRemoteDescription\",\n        \"addIceCandidate\"\n    ]){\n        const original = pc[method];\n        if (!original) continue;\n        // @ts-expect-error we don't use deprecated APIs\n        pc[method] = async function tracedMethod(...args) {\n            try {\n                trace(method, args);\n                // @ts-expect-error improper types\n                const result = await original.apply(this, args);\n                trace(`${method}OnSuccess`, result);\n                return result;\n            } catch (err) {\n                trace(`${method}OnFailure`, err.toString());\n                throw err;\n            }\n        };\n    }\n};\n/**\n * StatsTracer is a class that collects and processes WebRTC stats.\n * It is used to track the performance of the WebRTC connection\n * and to provide information about the media streams.\n * It is used by both the Publisher and Subscriber classes.\n *\n * @internal\n */ class StatsTracer {\n    /**\n     * Creates a new StatsTracer instance.\n     */ constructor(pc, peerType, trackIdToTrackType){\n        this.previousStats = {};\n        this.frameTimeHistory = [];\n        this.fpsHistory = [];\n        /**\n         * Get the stats from the RTCPeerConnection.\n         * When called, it will return the stats for the current connection.\n         * It will also return the delta between the current stats and the previous stats.\n         * This is used to track the performance of the connection.\n         *\n         * @internal\n         */ this.get = async ()=>{\n            const stats = await this.pc.getStats();\n            const currentStats = toObject(stats);\n            const performanceStats = this.withOverrides(this.peerType === PeerType.SUBSCRIBER ? this.getDecodeStats(currentStats) : this.getEncodeStats(currentStats));\n            const delta = deltaCompression(this.previousStats, currentStats);\n            // store the current data for the next iteration\n            this.previousStats = currentStats;\n            this.frameTimeHistory = this.frameTimeHistory.slice(-2);\n            this.fpsHistory = this.fpsHistory.slice(-2);\n            return {\n                performanceStats,\n                delta,\n                stats\n            };\n        };\n        /**\n         * Collects encode stats from the RTCPeerConnection.\n         */ this.getEncodeStats = (currentStats)=>{\n            const encodeStats = [];\n            for (const rtp of Object.values(currentStats)){\n                if (rtp.type !== \"outbound-rtp\") continue;\n                const { codecId, framesSent = 0, kind, id, totalEncodeTime = 0, framesPerSecond = 0, frameHeight = 0, frameWidth = 0, targetBitrate = 0, mediaSourceId } = rtp;\n                if (kind === \"audio\" || !this.previousStats[id]) continue;\n                const prevRtp = this.previousStats[id];\n                const deltaTotalEncodeTime = totalEncodeTime - (prevRtp.totalEncodeTime || 0);\n                const deltaFramesSent = framesSent - (prevRtp.framesSent || 0);\n                const framesEncodeTime = deltaFramesSent > 0 ? deltaTotalEncodeTime / deltaFramesSent * 1000 : 0;\n                this.frameTimeHistory.push(framesEncodeTime);\n                this.fpsHistory.push(framesPerSecond);\n                let trackType = TrackType.VIDEO;\n                if (mediaSourceId && currentStats[mediaSourceId]) {\n                    const mediaSource = currentStats[mediaSourceId];\n                    trackType = this.trackIdToTrackType.get(mediaSource.trackIdentifier) || trackType;\n                }\n                encodeStats.push({\n                    trackType,\n                    codec: getCodecFromStats(currentStats, codecId),\n                    avgFrameTimeMs: average(this.frameTimeHistory),\n                    avgFps: average(this.fpsHistory),\n                    targetBitrate: Math.round(targetBitrate),\n                    videoDimension: {\n                        width: frameWidth,\n                        height: frameHeight\n                    }\n                });\n            }\n            return encodeStats;\n        };\n        /**\n         * Collects decode stats from the RTCPeerConnection.\n         */ this.getDecodeStats = (currentStats)=>{\n            let rtp = undefined;\n            let max = 0;\n            for (const item of Object.values(currentStats)){\n                if (item.type !== \"inbound-rtp\") continue;\n                const rtpItem = item;\n                const { kind, frameWidth = 0, frameHeight = 0 } = rtpItem;\n                const area = frameWidth * frameHeight;\n                if (kind === \"video\" && area > max) {\n                    rtp = rtpItem;\n                    max = area;\n                }\n            }\n            if (!rtp || !this.previousStats[rtp.id]) return [];\n            const prevRtp = this.previousStats[rtp.id];\n            const { framesDecoded = 0, framesPerSecond = 0, totalDecodeTime = 0, trackIdentifier } = rtp;\n            const deltaTotalDecodeTime = totalDecodeTime - (prevRtp.totalDecodeTime || 0);\n            const deltaFramesDecoded = framesDecoded - (prevRtp.framesDecoded || 0);\n            const framesDecodeTime = deltaFramesDecoded > 0 ? deltaTotalDecodeTime / deltaFramesDecoded * 1000 : 0;\n            this.frameTimeHistory.push(framesDecodeTime);\n            this.fpsHistory.push(framesPerSecond);\n            const trackType = this.trackIdToTrackType.get(trackIdentifier) || TrackType.VIDEO;\n            return [\n                PerformanceStats.create({\n                    trackType,\n                    codec: getCodecFromStats(currentStats, rtp.codecId),\n                    avgFrameTimeMs: average(this.frameTimeHistory),\n                    avgFps: average(this.fpsHistory),\n                    videoDimension: {\n                        width: rtp.frameWidth,\n                        height: rtp.frameHeight\n                    }\n                })\n            ];\n        };\n        /**\n         * Applies cost overrides to the performance stats.\n         * This is used to override the default encode/decode times with custom values.\n         * This is useful for testing and debugging purposes, and it shouldn't be used in production.\n         */ this.withOverrides = (performanceStats)=>{\n            if (this.costOverrides) {\n                for (const s of performanceStats){\n                    const override = this.costOverrides.get(s.trackType);\n                    if (override !== undefined) {\n                        // override the average encode/decode time with the provided cost.\n                        // format: [override].[original-frame-time]\n                        s.avgFrameTimeMs = override + (s.avgFrameTimeMs || 0) / 1000;\n                    }\n                }\n            }\n            return performanceStats;\n        };\n        /**\n         * Set the encode/decode cost for a specific track type.\n         * This is used to override the default encode/decode times with custom values.\n         * This is useful for testing and debugging purposes, and it shouldn't be used in production.\n         *\n         * @internal\n         */ this.setCost = (cost, trackType = TrackType.VIDEO)=>{\n            if (!this.costOverrides) this.costOverrides = new Map();\n            this.costOverrides.set(trackType, cost);\n        };\n        this.pc = pc;\n        this.peerType = peerType;\n        this.trackIdToTrackType = trackIdToTrackType;\n    }\n}\n/**\n * Convert the stat report to an object.\n *\n * @param report the stat report to convert.\n */ const toObject = (report)=>{\n    const obj = {};\n    report.forEach((v, k)=>{\n        obj[k] = v;\n    });\n    return obj;\n};\n/**\n * Apply delta compression to the stats report.\n * Reduces size by ~90%.\n * To reduce further, report keys could be compressed.\n */ const deltaCompression = (oldStats, newStats)=>{\n    newStats = JSON.parse(JSON.stringify(newStats));\n    for (const [id, report] of Object.entries(newStats)){\n        delete report.id;\n        if (!oldStats[id]) continue;\n        for (const [name, value] of Object.entries(report)){\n            if (value === oldStats[id][name]) {\n                delete report[name];\n            }\n        }\n    }\n    let timestamp = -Infinity;\n    const values = Object.values(newStats);\n    for (const report of values){\n        if (report.timestamp > timestamp) {\n            timestamp = report.timestamp;\n        }\n    }\n    for (const report of values){\n        if (report.timestamp === timestamp) {\n            report.timestamp = 0;\n        }\n    }\n    newStats.timestamp = timestamp;\n    return newStats;\n};\n/**\n * Calculates an average value.\n */ const average = (arr)=>arr.reduce((a, b)=>a + b, 0) / arr.length;\n/**\n * Create a Codec object from the codec stats.\n *\n * @param stats the stats report.\n * @param codecId the codec ID to look for.\n */ const getCodecFromStats = (stats, codecId)=>{\n    if (!codecId || !stats[codecId]) return;\n    const codecStats = stats[codecId];\n    return Codec.create({\n        name: codecStats.mimeType.split(\"/\").pop(),\n        clockRate: codecStats.clockRate,\n        payloadType: codecStats.payloadType,\n        fmtp: codecStats.sdpFmtpLine\n    });\n};\nclass Tracer {\n    constructor(id){\n        this.buffer = [];\n        this.enabled = true;\n        this.setEnabled = (enabled)=>{\n            if (this.enabled === enabled) return;\n            this.enabled = enabled;\n            this.buffer = [];\n        };\n        this.trace = (tag, data)=>{\n            if (!this.enabled) return;\n            this.buffer.push([\n                tag,\n                this.id,\n                data,\n                Date.now()\n            ]);\n        };\n        this.take = ()=>{\n            const snapshot = this.buffer;\n            this.buffer = [];\n            return {\n                snapshot,\n                rollback: ()=>{\n                    this.buffer.unshift(...snapshot);\n                }\n            };\n        };\n        this.dispose = ()=>{\n            this.buffer = [];\n        };\n        this.id = id;\n    }\n}\n/**\n * A base class for the `Publisher` and `Subscriber` classes.\n * @internal\n */ class BasePeerConnection {\n    /**\n     * Constructs a new `BasePeerConnection` instance.\n     */ constructor(peerType, { sfuClient, connectionConfig, state, dispatcher, onReconnectionNeeded, logTag, enableTracing, iceRestartDelay = 2500 }){\n        this.isIceRestarting = false;\n        this.isDisposed = false;\n        this.trackIdToTrackType = new Map();\n        this.subscriptions = [];\n        this.lock = Math.random().toString(36).slice(2);\n        this.createPeerConnection = (connectionConfig)=>{\n            const pc = new RTCPeerConnection(connectionConfig);\n            pc.addEventListener(\"icecandidate\", this.onIceCandidate);\n            pc.addEventListener(\"icecandidateerror\", this.onIceCandidateError);\n            pc.addEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n            pc.addEventListener(\"icegatheringstatechange\", this.onIceGatherChange);\n            pc.addEventListener(\"signalingstatechange\", this.onSignalingChange);\n            pc.addEventListener(\"connectionstatechange\", this.onConnectionStateChange);\n            return pc;\n        };\n        /**\n         * Attempts to restart ICE on the `RTCPeerConnection`.\n         * This method intentionally doesn't await the `restartIce()` method,\n         * allowing it to run in the background and handle any errors that may occur.\n         */ this.tryRestartIce = ()=>{\n            this.restartIce().catch((e)=>{\n                const reason = \"restartICE() failed, initiating reconnect\";\n                this.logger(\"error\", reason, e);\n                const strategy = e instanceof NegotiationError && e.error.code === ErrorCode.PARTICIPANT_SIGNAL_LOST ? WebsocketReconnectStrategy.FAST : WebsocketReconnectStrategy.REJOIN;\n                this.onReconnectionNeeded?.(strategy, reason);\n            });\n        };\n        /**\n         * Handles events synchronously.\n         * Consecutive events are queued and executed one after the other.\n         */ this.on = (event, fn)=>{\n            this.subscriptions.push(this.dispatcher.on(event, (e)=>{\n                const lockKey = `pc.${this.lock}.${event}`;\n                withoutConcurrency(lockKey, async ()=>fn(e)).catch((err)=>{\n                    if (this.isDisposed) return;\n                    this.logger(\"warn\", `Error handling ${event}`, err);\n                });\n            }));\n        };\n        /**\n         * Appends the trickled ICE candidates to the `RTCPeerConnection`.\n         */ this.addTrickledIceCandidates = ()=>{\n            const { iceTrickleBuffer } = this.sfuClient;\n            const observable = this.peerType === PeerType.SUBSCRIBER ? iceTrickleBuffer.subscriberCandidates : iceTrickleBuffer.publisherCandidates;\n            this.unsubscribeIceTrickle?.();\n            this.unsubscribeIceTrickle = createSafeAsyncSubscription(observable, async (candidate)=>{\n                return this.pc.addIceCandidate(candidate).catch((e)=>{\n                    if (this.isDisposed) return;\n                    this.logger(\"warn\", `ICE candidate error`, e, candidate);\n                });\n            });\n        };\n        /**\n         * Sets the SFU client to use.\n         *\n         * @param sfuClient the SFU client to use.\n         */ this.setSfuClient = (sfuClient)=>{\n            this.sfuClient = sfuClient;\n        };\n        /**\n         * Returns the result of the `RTCPeerConnection.getStats()` method\n         * @param selector an optional `MediaStreamTrack` to get the stats for.\n         */ this.getStats = (selector)=>{\n            return this.pc.getStats(selector);\n        };\n        /**\n         * Maps the given track ID to the corresponding track type.\n         */ this.getTrackType = (trackId)=>{\n            return this.trackIdToTrackType.get(trackId);\n        };\n        /**\n         * Checks if the `RTCPeerConnection` is healthy.\n         * It checks the ICE connection state and the peer connection state.\n         * If either state is `failed`, `disconnected`, or `closed`,\n         * it returns `false`, otherwise it returns `true`.\n         */ this.isHealthy = ()=>{\n            const failedStates = new Set([\n                \"failed\",\n                \"closed\"\n            ]);\n            const iceState = this.pc.iceConnectionState;\n            const connectionState = this.pc.connectionState;\n            return !failedStates.has(iceState) && !failedStates.has(connectionState);\n        };\n        /**\n         * Handles the ICECandidate event and\n         * Initiates an ICE Trickle process with the SFU.\n         */ this.onIceCandidate = (e)=>{\n            const { candidate } = e;\n            if (!candidate) {\n                this.logger(\"debug\", \"null ice candidate\");\n                return;\n            }\n            const iceCandidate = this.asJSON(candidate);\n            this.sfuClient.iceTrickle({\n                peerType: this.peerType,\n                iceCandidate\n            }).catch((err)=>{\n                if (this.isDisposed) return;\n                this.logger(\"warn\", `ICETrickle failed`, err);\n            });\n        };\n        /**\n         * Converts the ICE candidate to a JSON string.\n         */ this.asJSON = (candidate)=>{\n            if (!candidate.usernameFragment) {\n                // react-native-webrtc doesn't include usernameFragment in the candidate\n                const segments = candidate.candidate.split(\" \");\n                const ufragIndex = segments.findIndex((s)=>s === \"ufrag\") + 1;\n                const usernameFragment = segments[ufragIndex];\n                return JSON.stringify({\n                    ...candidate,\n                    usernameFragment\n                });\n            }\n            return JSON.stringify(candidate.toJSON());\n        };\n        /**\n         * Handles the ConnectionStateChange event.\n         */ this.onConnectionStateChange = async ()=>{\n            const state = this.pc.connectionState;\n            this.logger(\"debug\", `Connection state changed`, state);\n            if (this.tracer && (state === \"connected\" || state === \"failed\")) {\n                try {\n                    const stats = await this.stats.get();\n                    this.tracer.trace(\"getstats\", stats.delta);\n                } catch (err) {\n                    this.tracer.trace(\"getstatsOnFailure\", err.toString());\n                }\n            }\n            // we can't recover from a failed connection state (contrary to ICE)\n            if (state === \"failed\") {\n                this.onReconnectionNeeded?.(WebsocketReconnectStrategy.REJOIN, \"Connection failed\");\n                return;\n            }\n            this.handleConnectionStateUpdate(state);\n        };\n        /**\n         * Handles the ICE connection state change event.\n         */ this.onIceConnectionStateChange = ()=>{\n            const state = this.pc.iceConnectionState;\n            this.logger(\"debug\", `ICE connection state changed`, state);\n            this.handleConnectionStateUpdate(state);\n        };\n        this.handleConnectionStateUpdate = (state)=>{\n            const { callingState } = this.state;\n            if (callingState === CallingState.OFFLINE) return;\n            if (callingState === CallingState.RECONNECTING) return;\n            // do nothing when ICE is restarting\n            if (this.isIceRestarting) return;\n            switch(state){\n                case \"failed\":\n                    // in the `failed` state, we try to restart ICE immediately\n                    this.logger(\"info\", \"restartICE due to failed connection\");\n                    this.tryRestartIce();\n                    break;\n                case \"disconnected\":\n                    // in the `disconnected` state, we schedule a restartICE() after a delay\n                    // as the browser might recover the connection in the meantime\n                    this.logger(\"info\", \"disconnected connection, scheduling restartICE\");\n                    clearTimeout(this.iceRestartTimeout);\n                    this.iceRestartTimeout = setTimeout(()=>{\n                        const currentState = this.pc.iceConnectionState;\n                        if (currentState === \"disconnected\" || currentState === \"failed\") {\n                            this.tryRestartIce();\n                        }\n                    }, this.iceRestartDelay);\n                    break;\n                case \"connected\":\n                    // in the `connected` state, we clear the ice restart timeout if it exists\n                    if (this.iceRestartTimeout) {\n                        this.logger(\"info\", \"connected connection, canceling restartICE\");\n                        clearTimeout(this.iceRestartTimeout);\n                        this.iceRestartTimeout = undefined;\n                    }\n                    break;\n            }\n        };\n        /**\n         * Handles the ICE candidate error event.\n         */ this.onIceCandidateError = (e)=>{\n            const errorMessage = e instanceof RTCPeerConnectionIceErrorEvent ? `${e.errorCode}: ${e.errorText}` : e;\n            this.logger(\"debug\", \"ICE Candidate error\", errorMessage);\n        };\n        /**\n         * Handles the ICE gathering state change event.\n         */ this.onIceGatherChange = ()=>{\n            this.logger(\"debug\", `ICE Gathering State`, this.pc.iceGatheringState);\n        };\n        /**\n         * Handles the signaling state change event.\n         */ this.onSignalingChange = ()=>{\n            this.logger(\"debug\", `Signaling state changed`, this.pc.signalingState);\n        };\n        this.peerType = peerType;\n        this.sfuClient = sfuClient;\n        this.state = state;\n        this.dispatcher = dispatcher;\n        this.iceRestartDelay = iceRestartDelay;\n        this.onReconnectionNeeded = onReconnectionNeeded;\n        this.logger = getLogger([\n            peerType === PeerType.SUBSCRIBER ? \"Subscriber\" : \"Publisher\",\n            logTag\n        ]);\n        this.pc = this.createPeerConnection(connectionConfig);\n        this.stats = new StatsTracer(this.pc, peerType, this.trackIdToTrackType);\n        if (enableTracing) {\n            const tag = `${logTag}-${peerType === PeerType.SUBSCRIBER ? \"sub\" : \"pub\"}`;\n            this.tracer = new Tracer(tag);\n            this.tracer.trace(\"create\", {\n                url: sfuClient.edgeName,\n                ...connectionConfig\n            });\n            traceRTCPeerConnection(this.pc, this.tracer.trace);\n        }\n    }\n    /**\n     * Disposes the `RTCPeerConnection` instance.\n     */ dispose() {\n        clearTimeout(this.iceRestartTimeout);\n        this.iceRestartTimeout = undefined;\n        this.onReconnectionNeeded = undefined;\n        this.isDisposed = true;\n        this.detachEventHandlers();\n        this.pc.close();\n        this.tracer?.dispose();\n    }\n    /**\n     * Detaches the event handlers from the `RTCPeerConnection`.\n     */ detachEventHandlers() {\n        const pc = this.pc;\n        pc.removeEventListener(\"icecandidate\", this.onIceCandidate);\n        pc.removeEventListener(\"icecandidateerror\", this.onIceCandidateError);\n        pc.removeEventListener(\"signalingstatechange\", this.onSignalingChange);\n        pc.removeEventListener(\"iceconnectionstatechange\", this.onIceConnectionStateChange);\n        pc.removeEventListener(\"icegatheringstatechange\", this.onIceGatherChange);\n        this.unsubscribeIceTrickle?.();\n        this.subscriptions.forEach((unsubscribe)=>unsubscribe());\n    }\n}\nclass TransceiverCache {\n    constructor(){\n        this.cache = [];\n        this.layers = [];\n        /**\n         * An array maintaining the order how transceivers were added to the peer connection.\n         * This is needed because some browsers (Firefox) don't reliably report\n         * trackId and `mid` parameters.\n         */ this.transceiverOrder = [];\n        /**\n         * Adds a transceiver to the cache.\n         */ this.add = (publishOption, transceiver)=>{\n            this.cache.push({\n                publishOption,\n                transceiver\n            });\n            this.transceiverOrder.push(transceiver);\n        };\n        /**\n         * Gets the transceiver for the given publish option.\n         */ this.get = (publishOption)=>{\n            return this.findTransceiver(publishOption)?.transceiver;\n        };\n        /**\n         * Checks if the cache has the given publish option.\n         */ this.has = (publishOption)=>{\n            return !!this.get(publishOption);\n        };\n        /**\n         * Finds the first transceiver that satisfies the given predicate.\n         */ this.find = (predicate)=>{\n            return this.cache.find(predicate);\n        };\n        /**\n         * Provides all the items in the cache.\n         */ this.items = ()=>{\n            return this.cache;\n        };\n        /**\n         * Init index of the transceiver in the cache.\n         */ this.indexOf = (transceiver)=>{\n            return this.transceiverOrder.indexOf(transceiver);\n        };\n        /**\n         * Gets cached video layers for the given track.\n         */ this.getLayers = (publishOption)=>{\n            const entry = this.layers.find((item)=>item.publishOption.id === publishOption.id && item.publishOption.trackType === publishOption.trackType);\n            return entry?.layers;\n        };\n        /**\n         * Sets the video layers for the given track.\n         */ this.setLayers = (publishOption, layers = [])=>{\n            const entry = this.findLayer(publishOption);\n            if (entry) {\n                entry.layers = layers;\n            } else {\n                this.layers.push({\n                    publishOption,\n                    layers\n                });\n            }\n        };\n        this.findTransceiver = (publishOption)=>{\n            return this.cache.find((item)=>item.publishOption.id === publishOption.id && item.publishOption.trackType === publishOption.trackType);\n        };\n        this.findLayer = (publishOption)=>{\n            return this.layers.find((item)=>item.publishOption.id === publishOption.id && item.publishOption.trackType === publishOption.trackType);\n        };\n    }\n}\nconst ensureExhausted = (x, message)=>{\n    getLogger([\n        \"helpers\"\n    ])(\"warn\", message, x);\n};\nconst trackTypeToParticipantStreamKey = (trackType)=>{\n    switch(trackType){\n        case TrackType.SCREEN_SHARE:\n            return \"screenShareStream\";\n        case TrackType.SCREEN_SHARE_AUDIO:\n            return \"screenShareAudioStream\";\n        case TrackType.VIDEO:\n            return \"videoStream\";\n        case TrackType.AUDIO:\n            return \"audioStream\";\n        case TrackType.UNSPECIFIED:\n            throw new Error(\"Track type is unspecified\");\n        default:\n            ensureExhausted(trackType, \"Unknown track type\");\n    }\n};\nconst muteTypeToTrackType = (muteType)=>{\n    switch(muteType){\n        case \"audio\":\n            return TrackType.AUDIO;\n        case \"video\":\n            return TrackType.VIDEO;\n        case \"screenshare\":\n            return TrackType.SCREEN_SHARE;\n        case \"screenshare_audio\":\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            ensureExhausted(muteType, \"Unknown mute type\");\n    }\n};\nconst toTrackType = (trackType)=>{\n    switch(trackType){\n        case \"TRACK_TYPE_AUDIO\":\n            return TrackType.AUDIO;\n        case \"TRACK_TYPE_VIDEO\":\n            return TrackType.VIDEO;\n        case \"TRACK_TYPE_SCREEN_SHARE\":\n            return TrackType.SCREEN_SHARE;\n        case \"TRACK_TYPE_SCREEN_SHARE_AUDIO\":\n            return TrackType.SCREEN_SHARE_AUDIO;\n        default:\n            return undefined;\n    }\n};\nconst isAudioTrackType = (trackType)=>trackType === TrackType.AUDIO || trackType === TrackType.SCREEN_SHARE_AUDIO;\nconst defaultBitratePerRid = {\n    q: 300000,\n    h: 750000,\n    f: 1250000\n};\n/**\n * In SVC, we need to send only one video encoding (layer).\n * this layer will have the additional spatial and temporal layers\n * defined via the scalabilityMode property.\n *\n * @param layers the layers to process.\n */ const toSvcEncodings = (layers)=>{\n    if (!layers) return;\n    // we take the highest quality layer, and we assign it to `q` encoder.\n    const withRid = (rid)=>(l)=>l.rid === rid;\n    const highestLayer = layers.find(withRid(\"f\")) || layers.find(withRid(\"h\")) || layers.find(withRid(\"q\"));\n    return [\n        {\n            ...highestLayer,\n            rid: \"q\"\n        }\n    ];\n};\n/**\n * Converts the rid to a video quality.\n */ const ridToVideoQuality = (rid)=>{\n    return rid === \"q\" ? VideoQuality.LOW_UNSPECIFIED : rid === \"h\" ? VideoQuality.MID : VideoQuality.HIGH; // default to HIGH\n};\n/**\n * Converts the given video layers to SFU video layers.\n */ const toVideoLayers = (layers = [])=>{\n    return layers.map((layer)=>({\n            rid: layer.rid || \"\",\n            bitrate: layer.maxBitrate || 0,\n            fps: layer.maxFramerate || 0,\n            quality: ridToVideoQuality(layer.rid || \"\"),\n            videoDimension: {\n                width: layer.width,\n                height: layer.height\n            }\n        }));\n};\n/**\n * Converts the spatial and temporal layers to a scalability mode.\n */ const toScalabilityMode = (spatialLayers, temporalLayers)=>`L${spatialLayers}T${temporalLayers}${spatialLayers > 1 ? \"_KEY\" : \"\"}`;\n/**\n * Determines the most optimal video layers for the given track.\n *\n * @param videoTrack the video track to find optimal layers for.\n * @param publishOption the publish options for the track.\n */ const computeVideoLayers = (videoTrack, publishOption)=>{\n    if (isAudioTrackType(publishOption.trackType)) return;\n    const optimalVideoLayers = [];\n    const settings = videoTrack.getSettings();\n    const { width = 0, height = 0 } = settings;\n    const { bitrate, codec, fps, maxSpatialLayers = 3, maxTemporalLayers = 3, videoDimension = {\n        width: 1280,\n        height: 720\n    }, useSingleLayer } = publishOption;\n    const maxBitrate = getComputedMaxBitrate(videoDimension, width, height, bitrate);\n    let downscaleFactor = 1;\n    let bitrateFactor = 1;\n    const svcCodec = isSvcCodec(codec?.name);\n    for (const rid of [\n        \"f\",\n        \"h\",\n        \"q\"\n    ].slice(0, maxSpatialLayers)){\n        const layer = {\n            active: true,\n            rid,\n            width: Math.round(width / downscaleFactor),\n            height: Math.round(height / downscaleFactor),\n            maxBitrate: Math.round(maxBitrate / bitrateFactor) || defaultBitratePerRid[rid],\n            maxFramerate: fps\n        };\n        if (svcCodec) {\n            // for SVC codecs, we need to set the scalability mode, and the\n            // codec will handle the rest (layers, temporal layers, etc.)\n            layer.scalabilityMode = toScalabilityMode(useSingleLayer ? 1 : maxSpatialLayers, maxTemporalLayers);\n        } else {\n            // for non-SVC codecs, we need to downscale proportionally (simulcast)\n            layer.scaleResolutionDownBy = downscaleFactor;\n        }\n        downscaleFactor *= 2;\n        bitrateFactor *= 2;\n        // Reversing the order [f, h, q] to [q, h, f] as Chrome uses encoding index\n        // when deciding which layer to disable when CPU or bandwidth is constrained.\n        // Encodings should be ordered in increasing spatial resolution order.\n        optimalVideoLayers.unshift(layer);\n    }\n    // for simplicity, we start with all layers enabled, then this function\n    // will clear/reassign the layers that are not needed\n    return withSimulcastConstraints(settings, optimalVideoLayers, useSingleLayer);\n};\n/**\n * Computes the maximum bitrate for a given resolution.\n * If the current resolution is lower than the target resolution,\n * we want to proportionally reduce the target bitrate.\n * If the current resolution is higher than the target resolution,\n * we want to use the target bitrate.\n *\n * @param targetResolution the target resolution.\n * @param currentWidth the current width of the track.\n * @param currentHeight the current height of the track.\n * @param bitrate the target bitrate.\n */ const getComputedMaxBitrate = (targetResolution, currentWidth, currentHeight, bitrate)=>{\n    // if the current resolution is lower than the target resolution,\n    // we want to proportionally reduce the target bitrate\n    const { width: targetWidth, height: targetHeight } = targetResolution;\n    if (currentWidth < targetWidth || currentHeight < targetHeight) {\n        const currentPixels = currentWidth * currentHeight;\n        const targetPixels = targetWidth * targetHeight;\n        const reductionFactor = currentPixels / targetPixels;\n        return Math.round(bitrate * reductionFactor);\n    }\n    return bitrate;\n};\n/**\n * Browsers have different simulcast constraints for different video resolutions.\n *\n * This function modifies the provided list of video layers according to the\n * current implementation of simulcast constraints in the Chromium based browsers.\n *\n * https://chromium.googlesource.com/external/webrtc/+/refs/heads/main/media/engine/simulcast.cc#90\n */ const withSimulcastConstraints = (settings, optimalVideoLayers, useSingleLayer)=>{\n    let layers;\n    const size = Math.max(settings.width || 0, settings.height || 0);\n    if (size <= 320) {\n        // provide only one layer 320x240 (f), the one with the highest quality\n        layers = optimalVideoLayers.filter((layer)=>layer.rid === \"f\");\n    } else if (size <= 640) {\n        // provide two layers, 320x240 (h) and 640x480 (f)\n        layers = optimalVideoLayers.filter((layer)=>layer.rid !== \"q\");\n    } else {\n        // provide three layers for sizes > 640x480\n        layers = optimalVideoLayers;\n    }\n    // we might have removed some layers, so we need to reassign the rid\n    // to match the expected order of [q, h, f] for simulcast\n    const ridMapping = [\n        \"q\",\n        \"h\",\n        \"f\"\n    ];\n    return layers.map((layer, index, arr)=>({\n            ...layer,\n            rid: ridMapping[index],\n            active: useSingleLayer && index < arr.length - 1 ? false : layer.active\n        }));\n};\n/**\n * Extracts the mid from the transceiver or the SDP.\n *\n * @param transceiver the transceiver.\n * @param transceiverInitIndex the index of the transceiver in the transceiver's init array.\n * @param sdp the SDP.\n */ const extractMid = (transceiver, transceiverInitIndex, sdp)=>{\n    if (transceiver.mid) return transceiver.mid;\n    if (!sdp) return String(transceiverInitIndex);\n    const track = transceiver.sender.track;\n    const parsedSdp = (0,sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse)(sdp);\n    const media = parsedSdp.media.find((m)=>{\n        return m.type === track.kind && // if `msid` is not present, we assume that the track is the first one\n        (m.msid?.includes(track.id) ?? true);\n    });\n    if (typeof media?.mid !== \"undefined\") return String(media.mid);\n    if (transceiverInitIndex < 0) return \"\";\n    return String(transceiverInitIndex);\n};\n/**\n * Enables stereo in the answer SDP based on the offered stereo in the offer SDP.\n *\n * @param offerSdp the offer SDP containing the stereo configuration.\n * @param answerSdp the answer SDP to be modified.\n */ const enableStereo = (offerSdp, answerSdp)=>{\n    const offeredStereoMids = new Set();\n    const parsedOfferSdp = (0,sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse)(offerSdp);\n    for (const media of parsedOfferSdp.media){\n        if (media.type !== \"audio\") continue;\n        const opus = media.rtp.find((r)=>r.codec === \"opus\");\n        if (!opus) continue;\n        for (const fmtp of media.fmtp){\n            if (fmtp.payload === opus.payload && fmtp.config.includes(\"stereo=1\")) {\n                offeredStereoMids.add(media.mid);\n            }\n        }\n    }\n    // No stereo offered, return the original answerSdp\n    if (offeredStereoMids.size === 0) return answerSdp;\n    const parsedAnswerSdp = (0,sdp_transform__WEBPACK_IMPORTED_MODULE_3__.parse)(answerSdp);\n    for (const media of parsedAnswerSdp.media){\n        if (media.type !== \"audio\" || !offeredStereoMids.has(media.mid)) continue;\n        const opus = media.rtp.find((r)=>r.codec === \"opus\");\n        if (!opus) continue;\n        for (const fmtp of media.fmtp){\n            if (fmtp.payload === opus.payload && !fmtp.config.includes(\"stereo=1\")) {\n                fmtp.config += \";stereo=1\";\n            }\n        }\n    }\n    return (0,sdp_transform__WEBPACK_IMPORTED_MODULE_3__.write)(parsedAnswerSdp);\n};\n/**\n * The `Publisher` is responsible for publishing/unpublishing media streams to/from the SFU\n *\n * @internal\n */ class Publisher extends BasePeerConnection {\n    /**\n     * Constructs a new `Publisher` instance.\n     */ constructor({ publishOptions, ...baseOptions }){\n        super(PeerType.PUBLISHER_UNSPECIFIED, baseOptions);\n        this.transceiverCache = new TransceiverCache();\n        this.clonedTracks = new Set();\n        /**\n         * Starts publishing the given track of the given media stream.\n         *\n         * Consecutive calls to this method will replace the stream.\n         * The previous stream will be stopped.\n         *\n         * @param track the track to publish.\n         * @param trackType the track type to publish.\n         */ this.publish = async (track, trackType)=>{\n            if (!this.publishOptions.some((o)=>o.trackType === trackType)) {\n                throw new Error(`No publish options found for ${TrackType[trackType]}`);\n            }\n            for (const publishOption of this.publishOptions){\n                if (publishOption.trackType !== trackType) continue;\n                // create a clone of the track as otherwise the same trackId will\n                // appear in the SDP in multiple transceivers\n                const trackToPublish = this.cloneTrack(track);\n                const transceiver = this.transceiverCache.get(publishOption);\n                if (!transceiver) {\n                    await this.addTransceiver(trackToPublish, publishOption);\n                } else {\n                    const previousTrack = transceiver.sender.track;\n                    await this.updateTransceiver(transceiver, trackToPublish, trackType);\n                    if (!isReactNative()) {\n                        this.stopTrack(previousTrack);\n                    }\n                }\n            }\n        };\n        /**\n         * Adds a new transceiver carrying the given track to the peer connection.\n         */ this.addTransceiver = async (track, publishOption)=>{\n            const videoEncodings = computeVideoLayers(track, publishOption);\n            const sendEncodings = isSvcCodec(publishOption.codec?.name) ? toSvcEncodings(videoEncodings) : videoEncodings;\n            const transceiver = this.pc.addTransceiver(track, {\n                direction: \"sendonly\",\n                sendEncodings\n            });\n            const params = transceiver.sender.getParameters();\n            params.degradationPreference = \"maintain-framerate\";\n            await transceiver.sender.setParameters(params);\n            const trackType = publishOption.trackType;\n            this.logger(\"debug\", `Added ${TrackType[trackType]} transceiver`);\n            this.transceiverCache.add(publishOption, transceiver);\n            this.trackIdToTrackType.set(track.id, trackType);\n            await this.negotiate();\n        };\n        /**\n         * Updates the transceiver with the given track and track type.\n         */ this.updateTransceiver = async (transceiver, track, trackType)=>{\n            const sender = transceiver.sender;\n            if (sender.track) this.trackIdToTrackType.delete(sender.track.id);\n            await sender.replaceTrack(track);\n            if (track) this.trackIdToTrackType.set(track.id, trackType);\n        };\n        /**\n         * Synchronizes the current Publisher state with the provided publish options.\n         */ this.syncPublishOptions = async ()=>{\n            // enable publishing with new options -> [av1, vp9]\n            for (const publishOption of this.publishOptions){\n                const { trackType } = publishOption;\n                if (!this.isPublishing(trackType)) continue;\n                if (this.transceiverCache.has(publishOption)) continue;\n                const item = this.transceiverCache.find((i)=>!!i.transceiver.sender.track && i.publishOption.trackType === trackType);\n                if (!item || !item.transceiver) continue;\n                // take the track from the existing transceiver for the same track type,\n                // clone it and publish it with the new publish options\n                const track = this.cloneTrack(item.transceiver.sender.track);\n                await this.addTransceiver(track, publishOption);\n            }\n            // stop publishing with options not required anymore -> [vp9]\n            for (const item of this.transceiverCache.items()){\n                const { publishOption, transceiver } = item;\n                const hasPublishOption = this.publishOptions.some((option)=>option.id === publishOption.id && option.trackType === publishOption.trackType);\n                if (hasPublishOption) continue;\n                // it is safe to stop the track here, it is a clone\n                this.stopTrack(transceiver.sender.track);\n                await this.updateTransceiver(transceiver, null, publishOption.trackType);\n            }\n        };\n        /**\n         * Returns true if the given track type is currently being published to the SFU.\n         *\n         * @param trackType the track type to check. If omitted, checks if any track is being published.\n         */ this.isPublishing = (trackType)=>{\n            for (const item of this.transceiverCache.items()){\n                if (trackType && item.publishOption.trackType !== trackType) continue;\n                const track = item.transceiver.sender.track;\n                if (!track) continue;\n                if (track.readyState === \"live\" && track.enabled) return true;\n            }\n            return false;\n        };\n        /**\n         * Stops the cloned track that is being published to the SFU.\n         */ this.stopTracks = (...trackTypes)=>{\n            for (const item of this.transceiverCache.items()){\n                const { publishOption, transceiver } = item;\n                if (!trackTypes.includes(publishOption.trackType)) continue;\n                this.stopTrack(transceiver.sender.track);\n            }\n        };\n        /**\n         * Stops all the cloned tracks that are being published to the SFU.\n         */ this.stopAllTracks = ()=>{\n            for (const { transceiver } of this.transceiverCache.items()){\n                this.stopTrack(transceiver.sender.track);\n            }\n            for (const track of this.clonedTracks){\n                this.stopTrack(track);\n            }\n        };\n        this.changePublishQuality = async (videoSender)=>{\n            const { trackType, layers, publishOptionId } = videoSender;\n            const enabledLayers = layers.filter((l)=>l.active);\n            const tag = \"Update publish quality:\";\n            this.logger(\"info\", `${tag} requested layers by SFU:`, enabledLayers);\n            const transceiverId = this.transceiverCache.find((t)=>t.publishOption.id === publishOptionId && t.publishOption.trackType === trackType);\n            const sender = transceiverId?.transceiver.sender;\n            if (!sender) {\n                return this.logger(\"warn\", `${tag} no video sender found.`);\n            }\n            const params = sender.getParameters();\n            if (params.encodings.length === 0) {\n                return this.logger(\"warn\", `${tag} there are no encodings set.`);\n            }\n            const codecInUse = transceiverId?.publishOption.codec?.name;\n            const usesSvcCodec = codecInUse && isSvcCodec(codecInUse);\n            let changed = false;\n            for (const encoder of params.encodings){\n                const layer = usesSvcCodec ? enabledLayers[0] : enabledLayers.find((l)=>l.name === encoder.rid) ?? (params.encodings.length === 1 ? enabledLayers[0] : undefined);\n                // flip 'active' flag only when necessary\n                const shouldActivate = !!layer?.active;\n                if (shouldActivate !== encoder.active) {\n                    encoder.active = shouldActivate;\n                    changed = true;\n                }\n                // skip the rest of the settings if the layer is disabled or not found\n                if (!layer) continue;\n                const { maxFramerate, scaleResolutionDownBy, maxBitrate, scalabilityMode } = layer;\n                if (scaleResolutionDownBy >= 1 && scaleResolutionDownBy !== encoder.scaleResolutionDownBy) {\n                    encoder.scaleResolutionDownBy = scaleResolutionDownBy;\n                    changed = true;\n                }\n                if (maxBitrate > 0 && maxBitrate !== encoder.maxBitrate) {\n                    encoder.maxBitrate = maxBitrate;\n                    changed = true;\n                }\n                if (maxFramerate > 0 && maxFramerate !== encoder.maxFramerate) {\n                    encoder.maxFramerate = maxFramerate;\n                    changed = true;\n                }\n                // @ts-expect-error scalabilityMode is not in the typedefs yet\n                if (scalabilityMode && scalabilityMode !== encoder.scalabilityMode) {\n                    // @ts-expect-error scalabilityMode is not in the typedefs yet\n                    encoder.scalabilityMode = scalabilityMode;\n                    changed = true;\n                }\n            }\n            const activeEncoders = params.encodings.filter((e)=>e.active);\n            if (!changed) {\n                return this.logger(\"info\", `${tag} no change:`, activeEncoders);\n            }\n            await sender.setParameters(params);\n            this.logger(\"info\", `${tag} enabled rids:`, activeEncoders);\n        };\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger(\"debug\", \"Restarting ICE connection\");\n            const signalingState = this.pc.signalingState;\n            if (this.isIceRestarting || signalingState === \"have-local-offer\") {\n                this.logger(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            await this.negotiate({\n                iceRestart: true\n            });\n        };\n        /**\n         * Initiates a new offer/answer exchange with the currently connected SFU.\n         *\n         * @param options the optional offer options to use.\n         */ this.negotiate = async (options)=>{\n            return withoutConcurrency(`publisher.negotiate.${this.lock}`, async ()=>{\n                const offer = await this.pc.createOffer(options);\n                const tracks = this.getAnnouncedTracks(offer.sdp);\n                if (!tracks.length) throw new Error(`Can't negotiate without any tracks`);\n                try {\n                    this.isIceRestarting = options?.iceRestart ?? false;\n                    await this.pc.setLocalDescription(offer);\n                    const { sdp = \"\" } = offer;\n                    const { response } = await this.sfuClient.setPublisher({\n                        sdp,\n                        tracks\n                    });\n                    if (response.error) throw new NegotiationError(response.error);\n                    const { sdp: answerSdp } = response;\n                    await this.pc.setRemoteDescription({\n                        type: \"answer\",\n                        sdp: answerSdp\n                    });\n                } catch (err) {\n                    // negotiation failed, rollback to the previous state\n                    if (this.pc.signalingState === \"have-local-offer\") {\n                        await this.pc.setLocalDescription({\n                            type: \"rollback\"\n                        });\n                    }\n                    throw err;\n                } finally{\n                    this.isIceRestarting = false;\n                }\n                this.addTrickledIceCandidates();\n            });\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         */ this.getPublishedTracks = ()=>{\n            const tracks = [];\n            for (const { transceiver } of this.transceiverCache.items()){\n                const track = transceiver.sender.track;\n                if (track && track.readyState === \"live\") tracks.push(track);\n            }\n            return tracks;\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         * @param sdp an optional SDP to extract the `mid` from.\n         */ this.getAnnouncedTracks = (sdp)=>{\n            const trackInfos = [];\n            for (const bundle of this.transceiverCache.items()){\n                const { transceiver, publishOption } = bundle;\n                const track = transceiver.sender.track;\n                if (!track) continue;\n                trackInfos.push(this.toTrackInfo(transceiver, publishOption, sdp));\n            }\n            return trackInfos;\n        };\n        /**\n         * Returns a list of tracks that are currently being published.\n         * This method shall be used for the reconnection flow.\n         * There we shouldn't announce the tracks that have been stopped due to a codec switch.\n         */ this.getAnnouncedTracksForReconnect = ()=>{\n            const sdp = this.pc.localDescription?.sdp;\n            const trackInfos = [];\n            for (const publishOption of this.publishOptions){\n                const transceiver = this.transceiverCache.get(publishOption);\n                if (!transceiver || !transceiver.sender.track) continue;\n                trackInfos.push(this.toTrackInfo(transceiver, publishOption, sdp));\n            }\n            return trackInfos;\n        };\n        /**\n         * Converts the given transceiver to a `TrackInfo` object.\n         */ this.toTrackInfo = (transceiver, publishOption, sdp)=>{\n            const track = transceiver.sender.track;\n            const isTrackLive = track.readyState === \"live\";\n            const layers = isTrackLive ? computeVideoLayers(track, publishOption) : this.transceiverCache.getLayers(publishOption);\n            this.transceiverCache.setLayers(publishOption, layers);\n            const isAudioTrack = isAudioTrackType(publishOption.trackType);\n            const isStereo = isAudioTrack && track.getSettings().channelCount === 2;\n            const transceiverIndex = this.transceiverCache.indexOf(transceiver);\n            const audioSettings = this.state.settings?.audio;\n            return {\n                trackId: track.id,\n                layers: toVideoLayers(layers),\n                trackType: publishOption.trackType,\n                mid: extractMid(transceiver, transceiverIndex, sdp),\n                stereo: isStereo,\n                dtx: isAudioTrack && !!audioSettings?.opus_dtx_enabled,\n                red: isAudioTrack && !!audioSettings?.redundant_coding_enabled,\n                muted: !isTrackLive,\n                codec: publishOption.codec,\n                publishOptionId: publishOption.id\n            };\n        };\n        this.cloneTrack = (track)=>{\n            const clone = track.clone();\n            this.clonedTracks.add(clone);\n            return clone;\n        };\n        this.stopTrack = (track)=>{\n            if (!track) return;\n            track.stop();\n            this.clonedTracks.delete(track);\n        };\n        this.publishOptions = publishOptions;\n        this.on(\"iceRestart\", (iceRestart)=>{\n            if (iceRestart.peerType !== PeerType.PUBLISHER_UNSPECIFIED) return;\n            this.tryRestartIce();\n        });\n        this.on(\"changePublishQuality\", async (event)=>{\n            for (const videoSender of event.videoSenders){\n                await this.changePublishQuality(videoSender);\n            }\n        });\n        this.on(\"changePublishOptions\", (event)=>{\n            this.publishOptions = event.publishOptions;\n            return this.syncPublishOptions();\n        });\n    }\n    /**\n     * Disposes this Publisher instance.\n     */ dispose() {\n        super.dispose();\n        this.stopAllTracks();\n        this.clonedTracks.clear();\n    }\n}\n/**\n * A wrapper around the `RTCPeerConnection` that handles the incoming\n * media streams from the SFU.\n *\n * @internal\n */ class Subscriber extends BasePeerConnection {\n    /**\n     * Constructs a new `Subscriber` instance.\n     */ constructor(opts){\n        super(PeerType.SUBSCRIBER, opts);\n        /**\n         * Restarts the ICE connection and renegotiates with the SFU.\n         */ this.restartIce = async ()=>{\n            this.logger(\"debug\", \"Restarting ICE connection\");\n            if (this.pc.signalingState === \"have-remote-offer\") {\n                this.logger(\"debug\", \"ICE restart is already in progress\");\n                return;\n            }\n            if (this.pc.connectionState === \"new\") {\n                this.logger(\"debug\", `ICE connection is not yet established, skipping restart.`);\n                return;\n            }\n            const previousIsIceRestarting = this.isIceRestarting;\n            this.isIceRestarting = true;\n            try {\n                const { response } = await this.sfuClient.iceRestart({\n                    peerType: PeerType.SUBSCRIBER\n                });\n                if (response.error) throw new NegotiationError(response.error);\n            } catch (e) {\n                // restore the previous state, as our intent for restarting ICE failed\n                this.isIceRestarting = previousIsIceRestarting;\n                throw e;\n            }\n        };\n        this.handleOnTrack = (e)=>{\n            const [primaryStream] = e.streams;\n            // example: `e3f6aaf8-b03d-4911-be36-83f47d37a76a:TRACK_TYPE_VIDEO`\n            const [trackId, rawTrackType] = primaryStream.id.split(\":\");\n            const participantToUpdate = this.state.participants.find((p)=>p.trackLookupPrefix === trackId);\n            this.logger(\"debug\", `[onTrack]: Got remote ${rawTrackType} track for userId: ${participantToUpdate?.userId}`, e.track.id, e.track);\n            const trackDebugInfo = `${participantToUpdate?.userId} ${rawTrackType}:${trackId}`;\n            e.track.addEventListener(\"mute\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track muted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"unmute\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track unmuted: ${trackDebugInfo}`);\n            });\n            e.track.addEventListener(\"ended\", ()=>{\n                this.logger(\"info\", `[onTrack]: Track ended: ${trackDebugInfo}`);\n                this.state.removeOrphanedTrack(primaryStream.id);\n            });\n            const trackType = toTrackType(rawTrackType);\n            if (!trackType) {\n                return this.logger(\"error\", `Unknown track type: ${rawTrackType}`);\n            }\n            this.trackIdToTrackType.set(e.track.id, trackType);\n            if (!participantToUpdate) {\n                this.logger(\"warn\", `[onTrack]: Received track for unknown participant: ${trackId}`, e);\n                this.state.registerOrphanedTrack({\n                    id: primaryStream.id,\n                    trackLookupPrefix: trackId,\n                    track: primaryStream,\n                    trackType\n                });\n                return;\n            }\n            const streamKindProp = trackTypeToParticipantStreamKey(trackType);\n            if (!streamKindProp) {\n                this.logger(\"error\", `Unknown track type: ${rawTrackType}`);\n                return;\n            }\n            // get the previous stream to dispose it later\n            // usually this happens during migration, when the stream is replaced\n            // with a new one but the old one is still in the state\n            const previousStream = participantToUpdate[streamKindProp];\n            // replace the previous stream with the new one, prevents flickering\n            this.state.updateParticipant(participantToUpdate.sessionId, {\n                [streamKindProp]: primaryStream\n            });\n            // now, dispose the previous stream if it exists\n            if (previousStream) {\n                this.logger(\"info\", `[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${participantToUpdate.userId}`);\n                previousStream.getTracks().forEach((t)=>{\n                    t.stop();\n                    previousStream.removeTrack(t);\n                });\n            }\n        };\n        this.negotiate = async (subscriberOffer)=>{\n            await this.pc.setRemoteDescription({\n                type: \"offer\",\n                sdp: subscriberOffer.sdp\n            });\n            this.addTrickledIceCandidates();\n            const answer = await this.pc.createAnswer();\n            if (answer.sdp) {\n                answer.sdp = enableStereo(subscriberOffer.sdp, answer.sdp);\n            }\n            await this.pc.setLocalDescription(answer);\n            await this.sfuClient.sendAnswer({\n                peerType: PeerType.SUBSCRIBER,\n                sdp: answer.sdp || \"\"\n            });\n            this.isIceRestarting = false;\n        };\n        this.pc.addEventListener(\"track\", this.handleOnTrack);\n        this.on(\"subscriberOffer\", async (subscriberOffer)=>{\n            return this.negotiate(subscriberOffer).catch((err)=>{\n                this.logger(\"error\", `Negotiation failed.`, err);\n            });\n        });\n    }\n    /**\n     * Detaches the event handlers from the `RTCPeerConnection`.\n     * This is useful when we want to replace the `RTCPeerConnection`\n     * instance with a new one (in case of migration).\n     */ detachEventHandlers() {\n        super.detachEventHandlers();\n        this.pc.removeEventListener(\"track\", this.handleOnTrack);\n    }\n}\nconst createWebSocketSignalChannel = (opts)=>{\n    const { endpoint, onMessage, logTag } = opts;\n    const logger = getLogger([\n        \"SfuClientWS\",\n        logTag\n    ]);\n    logger(\"debug\", \"Creating signaling WS channel:\", endpoint);\n    const ws = new WebSocket(endpoint);\n    ws.binaryType = \"arraybuffer\"; // do we need this?\n    ws.addEventListener(\"error\", (e)=>{\n        logger(\"error\", \"Signaling WS channel error\", e);\n    });\n    ws.addEventListener(\"close\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is closed\", e);\n    });\n    ws.addEventListener(\"open\", (e)=>{\n        logger(\"info\", \"Signaling WS channel is open\", e);\n    });\n    ws.addEventListener(\"message\", (e)=>{\n        try {\n            const message = e.data instanceof ArrayBuffer ? SfuEvent.fromBinary(new Uint8Array(e.data)) : SfuEvent.fromJsonString(e.data.toString());\n            onMessage(message);\n        } catch (err) {\n            logger(\"error\", \"Failed to decode a message. Check whether the Proto models match.\", {\n                event: e,\n                error: err\n            });\n        }\n    });\n    return ws;\n};\nconst toRtcConfiguration = (config)=>{\n    return {\n        bundlePolicy: \"max-bundle\",\n        iceServers: config.map((ice)=>({\n                urls: ice.urls,\n                username: ice.username,\n                credential: ice.password\n            }))\n    };\n};\n/**\n * Saving a long-lived reference to a promise that can reject can be unsafe,\n * since rejecting the promise causes an unhandled rejection error (even if the\n * rejection is handled everywhere promise result is expected).\n *\n * To avoid that, we add both resolution and rejection handlers to the promise.\n * That way, the saved promise never rejects. A callback is provided as return\n * value to build a *new* promise, that resolves and rejects along with\n * the original promise.\n * @param promise Promise to wrap, which possibly rejects\n * @returns Callback to build a new promise, which resolves and rejects along\n * with the original promise\n */ function makeSafePromise(promise) {\n    let isPending = true;\n    const safePromise = promise.then((result)=>({\n            status: \"resolved\",\n            result\n        }), (error)=>({\n            status: \"rejected\",\n            error\n        })).finally(()=>isPending = false);\n    const unwrapPromise = ()=>safePromise.then((fulfillment)=>{\n            if (fulfillment.status === \"rejected\") throw fulfillment.error;\n            return fulfillment.result;\n        });\n    unwrapPromise.checkPending = ()=>isPending;\n    return unwrapPromise;\n}\n/**\n * Creates a new promise with resolvers.\n *\n * Based on:\n * - https://github.com/tc39/proposal-promise-with-resolvers/blob/main/polyfills.js\n */ const promiseWithResolvers = ()=>{\n    let resolve;\n    let reject;\n    const promise = new Promise((_resolve, _reject)=>{\n        resolve = _resolve;\n        reject = _reject;\n    });\n    let isResolved = false;\n    let isRejected = false;\n    const resolver = (value)=>{\n        isResolved = true;\n        resolve(value);\n    };\n    const rejecter = (reason)=>{\n        isRejected = true;\n        reject(reason);\n    };\n    return {\n        promise,\n        resolve: resolver,\n        reject: rejecter,\n        isResolved: ()=>isResolved,\n        isRejected: ()=>isRejected\n    };\n};\nconst uninitialized = Symbol(\"uninitialized\");\n/**\n * Lazily creates a value using a provided factory\n */ function lazy(factory) {\n    let value = uninitialized;\n    return ()=>{\n        if (value === uninitialized) {\n            value = factory();\n        }\n        return value;\n    };\n}\n// Do not modify this file manually. Instead, edit worker.ts\n// and the run ./generate-timer-worker.sh\nconst timerWorker = {\n    src: `const timerIdMapping = new Map();\nself.addEventListener('message', (event) => {\n    const request = event.data;\n    switch (request.type) {\n        case 'setTimeout':\n        case 'setInterval':\n            timerIdMapping.set(request.id, (request.type === 'setTimeout' ? setTimeout : setInterval)(() => {\n                tick(request.id);\n                if (request.type === 'setTimeout') {\n                    timerIdMapping.delete(request.id);\n                }\n            }, request.timeout));\n            break;\n        case 'clearTimeout':\n        case 'clearInterval':\n            (request.type === 'clearTimeout' ? clearTimeout : clearInterval)(timerIdMapping.get(request.id));\n            timerIdMapping.delete(request.id);\n            break;\n    }\n});\nfunction tick(id) {\n    const message = { type: 'tick', id };\n    self.postMessage(message);\n}`\n};\nclass TimerWorker {\n    constructor(){\n        this.currentTimerId = 1;\n        this.callbacks = new Map();\n        this.fallback = false;\n    }\n    setup({ useTimerWorker = true } = {}) {\n        if (!useTimerWorker) {\n            this.fallback = true;\n            return;\n        }\n        try {\n            const source = timerWorker.src;\n            const blob = new Blob([\n                source\n            ], {\n                type: \"application/javascript; charset=utf-8\"\n            });\n            const script = URL.createObjectURL(blob);\n            this.worker = new Worker(script, {\n                name: \"str-timer-worker\"\n            });\n            this.worker.addEventListener(\"message\", (event)=>{\n                const { type, id } = event.data;\n                if (type === \"tick\") {\n                    this.callbacks.get(id)?.();\n                }\n            });\n        } catch (err) {\n            getLogger([\n                \"timer-worker\"\n            ])(\"error\", err);\n            this.fallback = true;\n        }\n    }\n    destroy() {\n        this.callbacks.clear();\n        this.worker?.terminate();\n        this.worker = undefined;\n        this.fallback = false;\n    }\n    get ready() {\n        return this.fallback || Boolean(this.worker);\n    }\n    setInterval(callback, timeout) {\n        return this.setTimer(\"setInterval\", callback, timeout);\n    }\n    clearInterval(id) {\n        this.clearTimer(\"clearInterval\", id);\n    }\n    setTimeout(callback, timeout) {\n        return this.setTimer(\"setTimeout\", callback, timeout);\n    }\n    clearTimeout(id) {\n        this.clearTimer(\"clearTimeout\", id);\n    }\n    setTimer(type, callback, timeout) {\n        if (!this.ready) {\n            this.setup();\n        }\n        if (this.fallback) {\n            return (type === \"setTimeout\" ? setTimeout : setInterval)(callback, timeout);\n        }\n        const id = this.getTimerId();\n        this.callbacks.set(id, ()=>{\n            callback();\n            // Timeouts are one-off operations, so no need to keep callback reference\n            // after timer has fired\n            if (type === \"setTimeout\") {\n                this.callbacks.delete(id);\n            }\n        });\n        this.sendMessage({\n            type,\n            id,\n            timeout\n        });\n        return id;\n    }\n    clearTimer(type, id) {\n        if (!id) {\n            return;\n        }\n        if (!this.ready) {\n            this.setup();\n        }\n        if (this.fallback) {\n            (type === \"clearTimeout\" ? clearTimeout : clearInterval)(id);\n            return;\n        }\n        this.callbacks.delete(id);\n        this.sendMessage({\n            type,\n            id\n        });\n    }\n    getTimerId() {\n        return this.currentTimerId++;\n    }\n    sendMessage(message) {\n        if (!this.worker) {\n            throw new Error(\"Cannot use timer worker before it's set up\");\n        }\n        this.worker.postMessage(message);\n    }\n}\nlet timerWorkerEnabled = false;\nconst enableTimerWorker = ()=>{\n    timerWorkerEnabled = true;\n};\nconst getTimers = lazy(()=>{\n    const instance = new TimerWorker();\n    instance.setup({\n        useTimerWorker: timerWorkerEnabled\n    });\n    return instance;\n});\n/**\n * The client used for exchanging information with the SFU.\n */ class StreamSfuClient {\n    /**\n     * Constructs a new SFU client.\n     */ constructor({ dispatcher, credentials, sessionId, logTag, joinResponseTimeout = 5000, onSignalClose, streamClient, enableTracing }){\n        /**\n         * A buffer for ICE Candidates that are received before\n         * the Publisher and Subscriber Peer Connections are ready to handle them.\n         */ this.iceTrickleBuffer = new IceTrickleBuffer();\n        /**\n         * Flag to indicate if the client is in the process of leaving the call.\n         * This is set to `true` when the user initiates the leave process.\n         */ this.isLeaving = false;\n        /**\n         * Flag to indicate if the client is in the process of clean closing the connection.\n         * When set to `true`, the client will not attempt to reconnect\n         * and will close the WebSocket connection gracefully.\n         * Otherwise, it will close the connection with an error code and\n         * trigger a reconnection attempt.\n         */ this.isClosingClean = false;\n        this.pingIntervalInMs = 5 * 1000;\n        this.unhealthyTimeoutInMs = 15 * 1000;\n        /**\n         * Promise that resolves when the JoinResponse is received.\n         * Rejects after a certain threshold if the response is not received.\n         */ this.joinResponseTask = promiseWithResolvers();\n        /**\n         * A controller to abort the current requests.\n         */ this.abortController = new AbortController();\n        this.createWebSocket = ()=>{\n            const eventsToTrace = {\n                callEnded: true,\n                changePublishQuality: true,\n                changePublishOptions: true,\n                connectionQualityChanged: true,\n                error: true,\n                goAway: true\n            };\n            this.signalWs = createWebSocketSignalChannel({\n                logTag: this.logTag,\n                endpoint: `${this.credentials.server.ws_endpoint}?tag=${this.logTag}`,\n                onMessage: (message)=>{\n                    this.lastMessageTimestamp = new Date();\n                    this.scheduleConnectionCheck();\n                    const eventKind = message.eventPayload.oneofKind;\n                    if (eventsToTrace[eventKind]) {\n                        this.tracer?.trace(eventKind, message);\n                    }\n                    this.dispatcher.dispatch(message, this.logTag);\n                }\n            });\n            this.signalReady = makeSafePromise(Promise.race([\n                new Promise((resolve, reject)=>{\n                    const onOpen = ()=>{\n                        this.signalWs.removeEventListener(\"open\", onOpen);\n                        resolve(this.signalWs);\n                    };\n                    this.signalWs.addEventListener(\"open\", onOpen);\n                    this.signalWs.addEventListener(\"close\", (e)=>{\n                        this.handleWebSocketClose(e);\n                        // Normally, this shouldn't have any effect, because WS should never emit 'close'\n                        // before emitting 'open'. However, strager things have happened, and we don't\n                        // want to leave signalReady in pending state.\n                        reject(new Error(`SFU WS closed or connection can't be established`));\n                    });\n                }),\n                new Promise((resolve, reject)=>{\n                    setTimeout(()=>reject(new Error(\"SFU WS connection timed out\")), this.joinResponseTimeout);\n                })\n            ]));\n        };\n        this.cleanUpWebSocket = ()=>{\n            this.signalWs.removeEventListener(\"close\", this.handleWebSocketClose);\n        };\n        this.handleWebSocketClose = (e)=>{\n            this.signalWs.removeEventListener(\"close\", this.handleWebSocketClose);\n            getTimers().clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            this.onSignalClose?.(`${e.code} ${e.reason}`);\n        };\n        this.close = (code = StreamSfuClient.NORMAL_CLOSURE, reason)=>{\n            this.isClosingClean = code !== StreamSfuClient.ERROR_CONNECTION_UNHEALTHY;\n            if (this.signalWs.readyState === WebSocket.OPEN) {\n                this.logger(\"debug\", `Closing SFU WS connection: ${code} - ${reason}`);\n                this.signalWs.close(code, `js-client: ${reason}`);\n                this.cleanUpWebSocket();\n            }\n            this.dispose();\n        };\n        this.dispose = ()=>{\n            this.logger(\"debug\", \"Disposing SFU client\");\n            this.unsubscribeIceTrickle();\n            this.unsubscribeNetworkChanged();\n            clearInterval(this.keepAliveInterval);\n            clearTimeout(this.connectionCheckTimeout);\n            clearTimeout(this.migrateAwayTimeout);\n            this.abortController.abort();\n            this.migrationTask?.resolve();\n            this.iceTrickleBuffer.dispose();\n        };\n        this.getTrace = ()=>{\n            return this.tracer?.take();\n        };\n        this.leaveAndClose = async (reason)=>{\n            await this.joinTask;\n            try {\n                this.isLeaving = true;\n                await this.notifyLeave(reason);\n            } catch (err) {\n                this.logger(\"debug\", \"Error notifying SFU about leaving call\", err);\n            }\n            this.close(StreamSfuClient.NORMAL_CLOSURE, reason.substring(0, 115));\n        };\n        this.updateSubscriptions = async (tracks)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateSubscriptions({\n                    sessionId: this.sessionId,\n                    tracks\n                }), this.abortController.signal);\n        };\n        this.setPublisher = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.setPublisher({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendAnswer = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.sendAnswer({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceTrickle = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceTrickle({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.iceRestart = async (data)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.iceRestart({\n                    ...data,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.updateMuteStates = async (muteStates)=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.updateMuteStates({\n                    muteStates,\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.sendStats = async (stats)=>{\n            await this.joinTask;\n            // NOTE: we don't retry sending stats\n            return this.rpc.sendStats({\n                ...stats,\n                sessionId: this.sessionId\n            });\n        };\n        this.startNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.startNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.stopNoiseCancellation = async ()=>{\n            await this.joinTask;\n            return retryable(()=>this.rpc.stopNoiseCancellation({\n                    sessionId: this.sessionId\n                }), this.abortController.signal);\n        };\n        this.enterMigration = async (opts = {})=>{\n            this.isLeaving = true;\n            const { timeout = 7 * 1000 } = opts;\n            this.migrationTask?.reject(new Error(\"Cancelled previous migration\"));\n            const task = this.migrationTask = promiseWithResolvers();\n            const unsubscribe = this.dispatcher.on(\"participantMigrationComplete\", ()=>{\n                unsubscribe();\n                clearTimeout(this.migrateAwayTimeout);\n                task.resolve();\n            });\n            this.migrateAwayTimeout = setTimeout(()=>{\n                unsubscribe();\n                task.reject(new Error(`Migration (${this.logTag}) failed to complete in ${timeout}ms`));\n            }, timeout);\n            return task.promise;\n        };\n        this.join = async (data)=>{\n            // wait for the signal web socket to be ready before sending \"joinRequest\"\n            await this.signalReady();\n            if (this.joinResponseTask.isResolved() || this.joinResponseTask.isRejected()) {\n                // we need to lock the RPC requests until we receive a JoinResponse.\n                // that's why we have this primitive lock mechanism.\n                // the client starts with already initialized joinResponseTask,\n                // and this code creates a new one for the next join request.\n                this.joinResponseTask = promiseWithResolvers();\n            }\n            // capture a reference to the current joinResponseTask as it might\n            // be replaced with a new one in case a second join request is made\n            const current = this.joinResponseTask;\n            let timeoutId = undefined;\n            const unsubscribe = this.dispatcher.on(\"joinResponse\", (joinResponse)=>{\n                this.logger(\"debug\", \"Received joinResponse\", joinResponse);\n                clearTimeout(timeoutId);\n                unsubscribe();\n                this.keepAlive();\n                current.resolve(joinResponse);\n            });\n            timeoutId = setTimeout(()=>{\n                unsubscribe();\n                current.reject(new Error('Waiting for \"joinResponse\" has timed out'));\n            }, this.joinResponseTimeout);\n            const joinRequest = SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"joinRequest\",\n                    joinRequest: JoinRequest.create({\n                        ...data,\n                        sessionId: this.sessionId,\n                        token: this.credentials.token\n                    })\n                }\n            });\n            this.tracer?.trace(\"joinRequest\", joinRequest);\n            await this.send(joinRequest);\n            return current.promise;\n        };\n        this.ping = async ()=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"healthCheckRequest\",\n                    healthCheckRequest: {}\n                }\n            }));\n        };\n        this.notifyLeave = async (reason)=>{\n            return this.send(SfuRequest.create({\n                requestPayload: {\n                    oneofKind: \"leaveCallRequest\",\n                    leaveCallRequest: {\n                        sessionId: this.sessionId,\n                        reason\n                    }\n                }\n            }));\n        };\n        this.send = async (message)=>{\n            await this.signalReady(); // wait for the signal ws to be open\n            const msgJson = SfuRequest.toJson(message);\n            if (this.signalWs.readyState !== WebSocket.OPEN) {\n                this.logger(\"debug\", \"Signal WS is not open. Skipping message\", msgJson);\n                return;\n            }\n            this.logger(\"debug\", `Sending message to: ${this.edgeName}`, msgJson);\n            this.signalWs.send(SfuRequest.toBinary(message));\n        };\n        this.keepAlive = ()=>{\n            const timers = getTimers();\n            timers.clearInterval(this.keepAliveInterval);\n            this.keepAliveInterval = timers.setInterval(()=>{\n                this.ping().catch((e)=>{\n                    this.logger(\"error\", \"Error sending healthCheckRequest to SFU\", e);\n                });\n            }, this.pingIntervalInMs);\n        };\n        this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeout);\n            this.connectionCheckTimeout = setTimeout(()=>{\n                if (this.lastMessageTimestamp) {\n                    const timeSinceLastMessage = new Date().getTime() - this.lastMessageTimestamp.getTime();\n                    if (timeSinceLastMessage > this.unhealthyTimeoutInMs) {\n                        this.close(StreamSfuClient.ERROR_CONNECTION_UNHEALTHY, `SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`);\n                    }\n                }\n            }, this.unhealthyTimeoutInMs);\n        };\n        this.dispatcher = dispatcher;\n        this.sessionId = sessionId || generateUUIDv4();\n        this.onSignalClose = onSignalClose;\n        this.credentials = credentials;\n        const { server, token } = credentials;\n        this.edgeName = server.edge_name;\n        this.joinResponseTimeout = joinResponseTimeout;\n        this.logTag = logTag;\n        this.logger = getLogger([\n            \"SfuClient\",\n            logTag\n        ]);\n        this.tracer = enableTracing ? new Tracer(`${logTag}-${this.edgeName}`) : undefined;\n        this.rpc = createSignalClient({\n            baseUrl: server.url,\n            interceptors: [\n                withHeaders({\n                    Authorization: `Bearer ${token}`\n                }),\n                this.tracer && withRequestTracer(this.tracer.trace),\n                getLogLevel() === \"trace\" && withRequestLogger(this.logger, \"trace\")\n            ].filter((v)=>!!v)\n        });\n        // Special handling for the ICETrickle kind of events.\n        // The SFU might trigger these events before the initial RTC\n        // connection is established or \"JoinResponse\" received.\n        // In that case, those events (ICE candidates) need to be buffered\n        // and later added to the appropriate PeerConnection\n        // once the remoteDescription is known and set.\n        this.unsubscribeIceTrickle = dispatcher.on(\"iceTrickle\", (iceTrickle)=>{\n            this.iceTrickleBuffer.push(iceTrickle);\n        });\n        // listen to network changes to handle offline state\n        // we shouldn't attempt to recover websocket connection when offline\n        this.unsubscribeNetworkChanged = streamClient.on(\"network.changed\", (e)=>{\n            if (!e.online) {\n                this.networkAvailableTask = promiseWithResolvers();\n            } else {\n                this.networkAvailableTask?.resolve();\n            }\n        });\n        this.createWebSocket();\n    }\n    get isHealthy() {\n        return this.signalWs.readyState === WebSocket.OPEN && this.joinResponseTask.isResolved();\n    }\n    get joinTask() {\n        return this.joinResponseTask.promise;\n    }\n}\n/**\n * The normal closure code. Used for controlled shutdowns.\n */ StreamSfuClient.NORMAL_CLOSURE = 1000;\n/**\n * The error code used when the SFU connection is unhealthy.\n * Usually, this means that no message has been received from the SFU for\n * a certain amount of time (`connectionCheckTimeout`).\n */ StreamSfuClient.ERROR_CONNECTION_UNHEALTHY = 4001;\n/**\n * The error code used when the SFU connection is disposed because a new\n * connection is established or is about to be established.\n * Here, we don't use 1000 (normal closure) because we don't want the\n * SFU to clean up the resources associated with the current participant.\n */ StreamSfuClient.DISPOSE_OLD_SOCKET = 4100;\n/**\n * The close code used when the client fails to join the call (on the SFU).\n */ StreamSfuClient.JOIN_FAILED = 4101;\n/**\n * Event handler that watched the delivery of `call.accepted`.\n * Once the event is received, the call is joined.\n */ const watchCallAccepted = (call)=>{\n    return async function onCallAccepted(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { state } = call;\n        if (event.call.created_by.id === call.currentUserId && state.callingState === CallingState.RINGING) {\n            await call.join();\n        }\n    };\n};\n/**\n * Event handler that watches delivery of `call.rejected` Websocket event.\n * Once the event is received, the call is left.\n */ const watchCallRejected = (call)=>{\n    return async function onCallRejected(event) {\n        // We want to discard the event if it's from the current user\n        if (event.user.id === call.currentUserId) return;\n        const { call: eventCall } = event;\n        const { session: callSession } = eventCall;\n        if (!callSession) {\n            call.logger(\"warn\", \"No call session provided. Ignoring call.rejected event.\", event);\n            return;\n        }\n        const rejectedBy = callSession.rejected_by;\n        const { members, callingState } = call.state;\n        if (callingState !== CallingState.RINGING) {\n            call.logger(\"info\", \"Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.\", event);\n            return;\n        }\n        if (call.isCreatedByMe) {\n            const everyoneElseRejected = members.filter((m)=>m.user_id !== call.currentUserId).every((m)=>rejectedBy[m.user_id]);\n            if (everyoneElseRejected) {\n                call.logger(\"info\", \"everyone rejected, leaving the call\");\n                await call.leave({\n                    reject: true,\n                    reason: \"cancel\",\n                    message: \"ring: everyone rejected\"\n                });\n            }\n        } else {\n            if (rejectedBy[eventCall.created_by.id]) {\n                call.logger(\"info\", \"call creator rejected, leaving call\");\n                await call.leave({\n                    message: \"ring: creator rejected\"\n                });\n            }\n        }\n    };\n};\n/**\n * Event handler that watches the delivery of `call.ended` Websocket event.\n */ const watchCallEnded = (call)=>{\n    return function onCallEnded() {\n        const { callingState } = call.state;\n        if (callingState !== CallingState.IDLE && callingState !== CallingState.LEFT) {\n            call.leave({\n                message: \"call.ended event received\",\n                reject: false\n            }).catch((err)=>{\n                call.logger(\"error\", \"Failed to leave call after call.ended \", err);\n            });\n        }\n    };\n};\n/**\n * Watches for `callEnded` events.\n */ const watchSfuCallEnded = (call)=>{\n    return call.on(\"callEnded\", async (e)=>{\n        if (call.state.callingState === CallingState.LEFT) return;\n        try {\n            if (e.reason === CallEndedReason.LIVE_ENDED) {\n                call.state.setBackstage(true);\n                // don't leave the call if the user has permission to join backstage\n                const { hasPermission } = call.permissionsContext;\n                if (hasPermission(OwnCapability.JOIN_BACKSTAGE)) return;\n            }\n            // `call.ended` event arrived after the call is already left\n            // and all event handlers are detached. We need to manually\n            // update the call state to reflect the call has ended.\n            call.state.setEndedAt(new Date());\n            const reason = CallEndedReason[e.reason];\n            await call.leave({\n                message: `callEnded received: ${reason}`\n            });\n        } catch (err) {\n            call.logger(\"error\", \"Failed to leave call after being ended by the SFU\", err);\n        }\n    });\n};\n/**\n * Event handler that watches for `callGrantsUpdated` events.\n *\n * @param state the call state to update.\n */ const watchCallGrantsUpdated = (state)=>{\n    return function onCallGrantsUpdated(event) {\n        const { currentGrants } = event;\n        if (currentGrants) {\n            const { canPublishAudio, canPublishVideo, canScreenshare } = currentGrants;\n            const update = {\n                [OwnCapability.SEND_AUDIO]: canPublishAudio,\n                [OwnCapability.SEND_VIDEO]: canPublishVideo,\n                [OwnCapability.SCREENSHARE]: canScreenshare\n            };\n            const nextCapabilities = state.ownCapabilities.filter((capability)=>update[capability] !== false);\n            Object.entries(update).forEach(([capability, value])=>{\n                if (value && !nextCapabilities.includes(capability)) {\n                    nextCapabilities.push(capability);\n                }\n            });\n            state.setOwnCapabilities(nextCapabilities);\n        }\n    };\n};\nconst watchConnectionQualityChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"connectionQualityChanged\", (e)=>{\n        const { connectionQualityUpdates } = e;\n        if (!connectionQualityUpdates) return;\n        state.updateParticipants(connectionQualityUpdates.reduce((patches, update)=>{\n            const { sessionId, connectionQuality } = update;\n            patches[sessionId] = {\n                connectionQuality\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Updates the approximate number of participants in the call by peeking at the\n * health check events that our SFU sends.\n */ const watchParticipantCountChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"healthCheckResponse\", (e)=>{\n        const { participantCount } = e;\n        if (participantCount) {\n            state.setParticipantCount(participantCount.total);\n            state.setAnonymousParticipantCount(participantCount.anonymous);\n        }\n    });\n};\nconst watchLiveEnded = (dispatcher, call)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (e.error && e.error.code !== ErrorCode.LIVE_ENDED) return;\n        call.state.setBackstage(true);\n        if (!call.permissionsContext.hasPermission(OwnCapability.JOIN_BACKSTAGE)) {\n            call.leave({\n                message: \"live ended\"\n            }).catch((err)=>{\n                call.logger(\"error\", \"Failed to leave call after live ended\", err);\n            });\n        }\n    });\n};\n/**\n * Watches and logs the errors reported by the currently connected SFU.\n */ const watchSfuErrorReports = (dispatcher)=>{\n    return dispatcher.on(\"error\", (e)=>{\n        if (!e.error) return;\n        const logger = getLogger([\n            \"SfuClient\"\n        ]);\n        const { error, reconnectStrategy } = e;\n        logger(\"error\", \"SFU reported error\", {\n            code: ErrorCode[error.code],\n            reconnectStrategy: WebsocketReconnectStrategy[reconnectStrategy],\n            message: error.message,\n            shouldRetry: error.shouldRetry\n        });\n    });\n};\n/**\n * Watches for `pinsUpdated` events and updates the pinned state of participants\n * in the call.\n */ const watchPinsUpdated = (state)=>{\n    return function onPinsUpdated(e) {\n        const { pins } = e;\n        state.setServerSidePins(pins);\n    };\n};\n/**\n * An event handler that handles soft mutes.\n *\n * @param call the call.\n */ const handleRemoteSoftMute = (call)=>{\n    return call.on(\"trackUnpublished\", async (event)=>{\n        const { cause, type, sessionId } = event;\n        const { localParticipant } = call.state;\n        if (cause === TrackUnpublishReason.MODERATION && sessionId === localParticipant?.sessionId) {\n            const logger = call.logger;\n            logger(\"info\", `Local participant's ${TrackType[type]} track is muted remotely`);\n            try {\n                if (type === TrackType.VIDEO) {\n                    await call.camera.disable();\n                } else if (type === TrackType.AUDIO) {\n                    await call.microphone.disable();\n                } else if (type === TrackType.SCREEN_SHARE || type === TrackType.SCREEN_SHARE_AUDIO) {\n                    await call.screenShare.disable();\n                } else {\n                    logger(\"warn\", \"Unsupported track type to soft mute\", TrackType[type]);\n                }\n            } catch (error) {\n                logger(\"error\", \"Failed to stop publishing\", error);\n            }\n        }\n    });\n};\n/**\n * Adds unique values to an array.\n *\n * @param arr the array to add to.\n * @param values the values to add.\n */ const pushToIfMissing = (arr, ...values)=>{\n    for (const v of values){\n        if (!arr.includes(v)) {\n            arr.push(v);\n        }\n    }\n    return arr;\n};\n/**\n * An event responder which handles the `participantJoined` event.\n */ const watchParticipantJoined = (state)=>{\n    return function onParticipantJoined(e) {\n        const { participant } = e;\n        if (!participant) return;\n        // `state.updateOrAddParticipant` acts as a safeguard against\n        // potential duplicate events from the SFU.\n        //\n        // Although the SFU should not send duplicate events, we have seen\n        // some race conditions in the past during the `join-flow`.\n        // The SFU would send participant info as part of the `join`\n        // response and then follow up with a `participantJoined` event for\n        // already announced participants.\n        const orphanedTracks = reconcileOrphanedTracks(state, participant);\n        state.updateOrAddParticipant(participant.sessionId, Object.assign(participant, orphanedTracks, {\n            viewportVisibilityState: {\n                videoTrack: VisibilityState.UNKNOWN,\n                screenShareTrack: VisibilityState.UNKNOWN\n            }\n        }));\n    };\n};\n/**\n * An event responder which handles the `participantLeft` event.\n */ const watchParticipantLeft = (state)=>{\n    return function onParticipantLeft(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.setParticipants((participants)=>participants.filter((p)=>p.sessionId !== participant.sessionId));\n    };\n};\n/**\n * An event responder which handles the `participantUpdated` event.\n */ const watchParticipantUpdated = (state)=>{\n    return function onParticipantUpdated(e) {\n        const { participant } = e;\n        if (!participant) return;\n        state.updateParticipant(participant.sessionId, participant);\n    };\n};\n/**\n * An event responder which handles the `trackPublished` event.\n * The SFU will send this event when a participant publishes a track.\n */ const watchTrackPublished = (state)=>{\n    return function onTrackPublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls.\n        // After a certain threshold, the SFU would stop emitting `participantJoined`\n        // events, and instead, it would only provide the participant's information\n        // once they start publishing a track.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: pushToIfMissing([\n                        ...p.publishedTracks\n                    ], type)\n                }));\n        }\n    };\n};\n/**\n * An event responder which handles the `trackUnpublished` event.\n * The SFU will send this event when a participant unpublishes a track.\n */ const watchTrackUnpublished = (state)=>{\n    return function onTrackUnpublished(e) {\n        const { type, sessionId } = e;\n        // An optimization for large calls. See `watchTrackPublished`.\n        if (e.participant) {\n            const orphanedTracks = reconcileOrphanedTracks(state, e.participant);\n            const participant = Object.assign(e.participant, orphanedTracks);\n            state.updateOrAddParticipant(sessionId, participant);\n        } else {\n            state.updateParticipant(sessionId, (p)=>({\n                    publishedTracks: p.publishedTracks.filter((t)=>t !== type)\n                }));\n        }\n    };\n};\n/**\n * Reconciles orphaned tracks (if any) for the given participant.\n *\n * @param state the call state.\n * @param participant the participant.\n */ const reconcileOrphanedTracks = (state, participant)=>{\n    const orphanTracks = state.takeOrphanedTracks(participant.trackLookupPrefix);\n    if (!orphanTracks.length) return;\n    const reconciledTracks = {};\n    for (const orphan of orphanTracks){\n        const key = trackTypeToParticipantStreamKey(orphan.trackType);\n        if (!key) continue;\n        reconciledTracks[key] = orphan.track;\n    }\n    return reconciledTracks;\n};\n/**\n * Watches for `dominantSpeakerChanged` events.\n */ const watchDominantSpeakerChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"dominantSpeakerChanged\", (e)=>{\n        const { sessionId } = e;\n        if (sessionId === state.dominantSpeaker?.sessionId) return;\n        state.setParticipants((participants)=>participants.map((participant)=>{\n                // mark the new dominant speaker\n                if (participant.sessionId === sessionId) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: true\n                    };\n                }\n                // unmark the old dominant speaker\n                if (participant.isDominantSpeaker) {\n                    return {\n                        ...participant,\n                        isDominantSpeaker: false\n                    };\n                }\n                return participant; // no change\n            }));\n    });\n};\n/**\n * Watches for `audioLevelChanged` events.\n */ const watchAudioLevelChanged = (dispatcher, state)=>{\n    return dispatcher.on(\"audioLevelChanged\", (e)=>{\n        const { audioLevels } = e;\n        state.updateParticipants(audioLevels.reduce((patches, current)=>{\n            patches[current.sessionId] = {\n                audioLevel: current.level,\n                isSpeaking: current.isSpeaking\n            };\n            return patches;\n        }, {}));\n    });\n};\n/**\n * Registers the default event handlers for a call during its lifecycle.\n *\n * @param call the call to register event handlers for.\n * @param dispatcher the dispatcher.\n */ const registerEventHandlers = (call, dispatcher)=>{\n    const state = call.state;\n    const eventHandlers = [\n        call.on(\"call.ended\", watchCallEnded(call)),\n        watchSfuCallEnded(call),\n        watchLiveEnded(dispatcher, call),\n        watchSfuErrorReports(dispatcher),\n        watchConnectionQualityChanged(dispatcher, state),\n        watchParticipantCountChanged(dispatcher, state),\n        call.on(\"participantJoined\", watchParticipantJoined(state)),\n        call.on(\"participantLeft\", watchParticipantLeft(state)),\n        call.on(\"participantUpdated\", watchParticipantUpdated(state)),\n        call.on(\"trackPublished\", watchTrackPublished(state)),\n        call.on(\"trackUnpublished\", watchTrackUnpublished(state)),\n        watchAudioLevelChanged(dispatcher, state),\n        watchDominantSpeakerChanged(dispatcher, state),\n        call.on(\"callGrantsUpdated\", watchCallGrantsUpdated(state)),\n        call.on(\"pinsUpdated\", watchPinsUpdated(state)),\n        handleRemoteSoftMute(call)\n    ];\n    if (call.ringing) {\n        // these events are only relevant when the call is ringing\n        eventHandlers.push(registerRingingCallEventHandlers(call));\n    }\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\n/**\n * Registers event handlers for a call that is of ringing type.\n *\n * @param call the call to register event handlers for.\n */ const registerRingingCallEventHandlers = (call)=>{\n    const coordinatorRingEvents = {\n        \"call.accepted\": watchCallAccepted(call),\n        \"call.rejected\": watchCallRejected(call)\n    };\n    const eventHandlers = Object.keys(coordinatorRingEvents).map((event)=>{\n        const eventName = event;\n        return call.on(eventName, coordinatorRingEvents[eventName]);\n    });\n    return ()=>{\n        eventHandlers.forEach((unsubscribe)=>unsubscribe());\n    };\n};\nconst DEFAULT_THRESHOLD = 0.35;\nclass ViewportTracker {\n    constructor(){\n        /**\n         * @private\n         */ this.elementHandlerMap = new Map();\n        /**\n         * @private\n         */ this.observer = null;\n        // in React children render before viewport is set, add\n        // them to the queue and observe them once the observer is ready\n        /**\n         * @private\n         */ this.queueSet = new Set();\n        /**\n         * Method to set scrollable viewport as root for the IntersectionObserver, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param viewportElement\n         * @param options\n         * @returns Unobserve\n         */ this.setViewport = (viewportElement, options)=>{\n            const cleanup = ()=>{\n                this.observer?.disconnect();\n                this.observer = null;\n                this.elementHandlerMap.clear();\n            };\n            this.observer = new IntersectionObserver((entries)=>{\n                entries.forEach((entry)=>{\n                    const handler = this.elementHandlerMap.get(entry.target);\n                    handler?.(entry);\n                });\n            }, {\n                root: viewportElement,\n                ...options,\n                threshold: options?.threshold ?? DEFAULT_THRESHOLD\n            });\n            if (this.queueSet.size) {\n                this.queueSet.forEach(([queueElement, queueHandler])=>{\n                    // check if element which requested observation is\n                    // a child of a viewport element, skip if isn't\n                    if (!viewportElement.contains(queueElement)) return;\n                    this.observer.observe(queueElement);\n                    this.elementHandlerMap.set(queueElement, queueHandler);\n                });\n                this.queueSet.clear();\n            }\n            return cleanup;\n        };\n        /**\n         * Method to set element to observe and handler to be triggered whenever IntersectionObserver\n         * detects a possible change in element's visibility within specified viewport, returns\n         * cleanup function to be invoked upon disposing of the DOM element to prevent memory leaks\n         *\n         * @param element\n         * @param handler\n         * @returns Unobserve\n         */ this.observe = (element, handler)=>{\n            const queueItem = [\n                element,\n                handler\n            ];\n            const cleanup = ()=>{\n                this.elementHandlerMap.delete(element);\n                this.observer?.unobserve(element);\n                this.queueSet.delete(queueItem);\n            };\n            if (this.elementHandlerMap.has(element)) return cleanup;\n            if (!this.observer) {\n                this.queueSet.add(queueItem);\n                return cleanup;\n            }\n            if (this.observer.root.contains(element)) {\n                this.elementHandlerMap.set(element, handler);\n                this.observer.observe(element);\n            }\n            return cleanup;\n        };\n    }\n}\nconst DEFAULT_VIEWPORT_VISIBILITY_STATE = {\n    videoTrack: VisibilityState.UNKNOWN,\n    screenShareTrack: VisibilityState.UNKNOWN\n};\nconst globalOverrideKey = Symbol(\"globalOverrideKey\");\n/**\n * A manager class that handles dynascale related tasks like:\n *\n * - binding video elements to session ids\n * - binding audio elements to session ids\n * - tracking element visibility\n * - updating subscriptions based on viewport visibility\n * - updating subscriptions based on video element dimensions\n * - updating subscriptions based on published tracks\n */ class DynascaleManager {\n    /**\n     * Creates a new DynascaleManager instance.\n     */ constructor(callState, speaker){\n        /**\n         * The viewport tracker instance.\n         */ this.viewportTracker = new ViewportTracker();\n        this.logger = getLogger([\n            \"DynascaleManager\"\n        ]);\n        this.pendingSubscriptionsUpdate = null;\n        this.videoTrackSubscriptionOverridesSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject({});\n        this.videoTrackSubscriptionOverrides$ = this.videoTrackSubscriptionOverridesSubject.asObservable();\n        this.incomingVideoSettings$ = this.videoTrackSubscriptionOverrides$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((overrides)=>{\n            const { [globalOverrideKey]: globalSettings, ...participants } = overrides;\n            return {\n                enabled: globalSettings?.enabled !== false,\n                preferredResolution: globalSettings?.enabled ? globalSettings.dimension : undefined,\n                participants: Object.fromEntries(Object.entries(participants).map(([sessionId, participantOverride])=>[\n                        sessionId,\n                        {\n                            enabled: participantOverride?.enabled !== false,\n                            preferredResolution: participantOverride?.enabled ? participantOverride.dimension : undefined\n                        }\n                    ])),\n                isParticipantVideoEnabled: (sessionId)=>overrides[sessionId]?.enabled ?? overrides[globalOverrideKey]?.enabled ?? true\n            };\n        }), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)(1));\n        /**\n         * Disposes the allocated resources and closes the audio context if it was created.\n         */ this.dispose = async ()=>{\n            if (this.pendingSubscriptionsUpdate) {\n                clearTimeout(this.pendingSubscriptionsUpdate);\n            }\n            const context = this.getOrCreateAudioContext();\n            if (context && context.state !== \"closed\") {\n                document.removeEventListener(\"click\", this.resumeAudioContext);\n                await context.close();\n                this.audioContext = undefined;\n            }\n        };\n        this.setVideoTrackSubscriptionOverrides = (override, sessionIds)=>{\n            if (!sessionIds) {\n                return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, override ? {\n                    [globalOverrideKey]: override\n                } : {});\n            }\n            return setCurrentValue(this.videoTrackSubscriptionOverridesSubject, (overrides)=>({\n                    ...overrides,\n                    ...Object.fromEntries(sessionIds.map((id)=>[\n                            id,\n                            override\n                        ]))\n                }));\n        };\n        this.applyTrackSubscriptions = (debounceType = DebounceType.SLOW)=>{\n            if (this.pendingSubscriptionsUpdate) {\n                clearTimeout(this.pendingSubscriptionsUpdate);\n            }\n            const updateSubscriptions = ()=>{\n                this.pendingSubscriptionsUpdate = null;\n                this.sfuClient?.updateSubscriptions(this.trackSubscriptions).catch((err)=>{\n                    this.logger(\"debug\", `Failed to update track subscriptions`, err);\n                });\n            };\n            if (debounceType) {\n                this.pendingSubscriptionsUpdate = setTimeout(updateSubscriptions, debounceType);\n            } else {\n                updateSubscriptions();\n            }\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         * @returns Untrack.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            const cleanup = this.viewportTracker.observe(element, (entry)=>{\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    // observer triggers when the element is \"moved\" to be a fullscreen element\n                    // keep it VISIBLE if that happens to prevent fullscreen with placeholder\n                    const isVisible = entry.isIntersecting || document.fullscreenElement === element ? VisibilityState.VISIBLE : VisibilityState.INVISIBLE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: isVisible\n                        }\n                    };\n                });\n            });\n            return ()=>{\n                cleanup();\n                // reset visibility state to UNKNOWN upon cleanup\n                // so that the layouts that are not actively observed\n                // can still function normally (runtime layout switching)\n                this.callState.updateParticipant(sessionId, (participant)=>{\n                    const previousVisibilityState = participant.viewportVisibilityState ?? DEFAULT_VIEWPORT_VISIBILITY_STATE;\n                    return {\n                        ...participant,\n                        viewportVisibilityState: {\n                            ...previousVisibilityState,\n                            [trackType]: VisibilityState.UNKNOWN\n                        }\n                    };\n                });\n            };\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.viewportTracker.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const boundParticipant = this.callState.findParticipantBySessionId(sessionId);\n            if (!boundParticipant) return;\n            const requestTrackWithDimensions = (debounceType, dimension)=>{\n                if (dimension && (dimension.width === 0 || dimension.height === 0)) {\n                    // ignore 0x0 dimensions. this can happen when the video element\n                    // is not visible (e.g., has display: none).\n                    // we treat this as \"unsubscription\" as we don't want to keep\n                    // consuming bandwidth for a video that is not visible on the screen.\n                    this.logger(\"debug\", `Ignoring 0x0 dimension`, boundParticipant);\n                    dimension = undefined;\n                }\n                this.callState.updateParticipantTracks(trackType, {\n                    [sessionId]: {\n                        dimension\n                    }\n                });\n                this.applyTrackSubscriptions(debounceType);\n            };\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((ps)=>ps.find((p)=>p.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.takeWhile)((participant)=>!!participant), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            /**\n             * Since the video elements are now being removed from the DOM (React SDK) upon\n             * visibility change, this subscription is not in use an stays here only for the\n             * plain JS integrations where integrators might choose not to remove the video\n             * elements from the DOM.\n             */ // keep copy for resize observer handler\n            let viewportVisibilityState;\n            const viewportVisibilityStateSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((p)=>p.viewportVisibilityState?.[trackType]), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)()).subscribe((nextViewportVisibilityState)=>{\n                // skip initial trigger\n                if (!viewportVisibilityState) {\n                    viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                    return;\n                }\n                viewportVisibilityState = nextViewportVisibilityState ?? VisibilityState.UNKNOWN;\n                if (nextViewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return requestTrackWithDimensions(DebounceType.MEDIUM, undefined);\n                }\n                requestTrackWithDimensions(DebounceType.MEDIUM, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n            });\n            let lastDimensions;\n            const resizeObserver = boundParticipant.isLocalParticipant ? null : new ResizeObserver(()=>{\n                const currentDimensions = {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                };\n                // skip initial trigger\n                if (!lastDimensions) {\n                    lastDimensions = currentDimensions;\n                    return;\n                }\n                if (lastDimensions.width === currentDimensions.width && lastDimensions.height === currentDimensions.height || viewportVisibilityState === VisibilityState.INVISIBLE) {\n                    return;\n                }\n                const relativeDelta = Math.max(currentDimensions.width / lastDimensions.width, currentDimensions.height / lastDimensions.height);\n                // Low quality video in an upscaled video element is very noticable.\n                // We try to upscale faster, and downscale slower. We also update debounce\n                // more if the size change is not significant, gurading against fast-firing\n                // resize events.\n                const debounceType = relativeDelta > 1.2 ? DebounceType.IMMEDIATE : DebounceType.MEDIUM;\n                requestTrackWithDimensions(debounceType, {\n                    width: videoElement.clientWidth,\n                    height: videoElement.clientHeight\n                });\n                lastDimensions = currentDimensions;\n            });\n            resizeObserver?.observe(videoElement);\n            // element renders and gets bound - track subscription gets\n            // triggered first other ones get skipped on initial subscriptions\n            const publishedTracksSubscription = boundParticipant.isLocalParticipant ? null : participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(\"publishedTracks\"), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((p)=>trackType === \"videoTrack\" ? hasVideo(p) : hasScreenShare(p)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)()).subscribe((isPublishing)=>{\n                if (isPublishing) {\n                    // the participant just started to publish a track\n                    requestTrackWithDimensions(DebounceType.IMMEDIATE, {\n                        width: videoElement.clientWidth,\n                        height: videoElement.clientHeight\n                    });\n                } else {\n                    // the participant just stopped publishing a track\n                    requestTrackWithDimensions(DebounceType.FAST, undefined);\n                }\n            });\n            videoElement.autoplay = true;\n            videoElement.playsInline = true;\n            // explicitly marking the element as muted will allow autoplay to work\n            // without prior user interaction:\n            // https://developer.mozilla.org/en-US/docs/Web/Media/Autoplay_guide\n            videoElement.muted = true;\n            const streamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(trackType === \"videoTrack\" ? \"videoStream\" : \"screenShareStream\")).subscribe((p)=>{\n                const source = trackType === \"videoTrack\" ? p.videoStream : p.screenShareStream;\n                if (videoElement.srcObject === source) return;\n                videoElement.srcObject = source ?? null;\n                if (isSafari() || isFirefox()) {\n                    setTimeout(()=>{\n                        videoElement.srcObject = source ?? null;\n                        videoElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play stream`, e);\n                        });\n                    // we add extra delay until we attempt to force-play\n                    // the participant's media stream in Firefox and Safari,\n                    // as they seem to have some timing issues\n                    }, 25);\n                }\n            });\n            return ()=>{\n                requestTrackWithDimensions(DebounceType.FAST, undefined);\n                viewportVisibilityStateSubscription?.unsubscribe();\n                publishedTracksSubscription?.unsubscribe();\n                streamSubscription.unsubscribe();\n                resizeObserver?.disconnect();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         * @returns a cleanup function that will unbind the audio element.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType)=>{\n            const participant = this.callState.findParticipantBySessionId(sessionId);\n            if (!participant || participant.isLocalParticipant) return;\n            const participant$ = this.callState.participants$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((ps)=>ps.find((p)=>p.sessionId === sessionId)), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.takeWhile)((p)=>!!p), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)(), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)({\n                bufferSize: 1,\n                refCount: true\n            }));\n            const updateSinkId = (deviceId, audioContext)=>{\n                if (!deviceId) return;\n                if (\"setSinkId\" in audioElement) {\n                    audioElement.setSinkId(deviceId).catch((e)=>{\n                        this.logger(\"warn\", `Can't to set AudioElement sinkId`, e);\n                    });\n                }\n                if (audioContext && \"setSinkId\" in audioContext) {\n                    // @ts-expect-error setSinkId is not available in all browsers\n                    audioContext.setSinkId(deviceId).catch((e)=>{\n                        this.logger(\"warn\", `Can't to set AudioContext sinkId`, e);\n                    });\n                }\n            };\n            let sourceNode = undefined;\n            let gainNode = undefined;\n            const updateMediaStreamSubscription = participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(trackType === \"screenShareAudioTrack\" ? \"screenShareAudioStream\" : \"audioStream\")).subscribe((p)=>{\n                const source = trackType === \"screenShareAudioTrack\" ? p.screenShareAudioStream : p.audioStream;\n                if (audioElement.srcObject === source) return;\n                setTimeout(()=>{\n                    audioElement.srcObject = source ?? null;\n                    if (!source) return;\n                    // Safari has a special quirk that prevents playing audio until the user\n                    // interacts with the page or focuses on the tab where the call happens.\n                    // This is a workaround for the issue where:\n                    // - A and B are in a call\n                    // - A switches to another tab\n                    // - B mutes their microphone and unmutes it\n                    // - A does not hear B's unmuted audio until they focus the tab\n                    const audioContext = this.getOrCreateAudioContext();\n                    if (audioContext) {\n                        // we will play audio through the audio context in Safari\n                        audioElement.muted = true;\n                        sourceNode?.disconnect();\n                        sourceNode = audioContext.createMediaStreamSource(source);\n                        gainNode ?? (gainNode = audioContext.createGain());\n                        gainNode.gain.value = p.audioVolume ?? this.speaker.state.volume;\n                        sourceNode.connect(gainNode).connect(audioContext.destination);\n                        this.resumeAudioContext();\n                    } else {\n                        // we will play audio directly through the audio element in other browsers\n                        audioElement.muted = false;\n                        audioElement.play().catch((e)=>{\n                            this.logger(\"warn\", `Failed to play audio stream`, e);\n                        });\n                    }\n                    const { selectedDevice } = this.speaker.state;\n                    if (selectedDevice) updateSinkId(selectedDevice, audioContext);\n                });\n            });\n            const sinkIdSubscription = !(\"setSinkId\" in audioElement) ? null : this.speaker.state.selectedDevice$.subscribe((deviceId)=>{\n                const audioContext = this.getOrCreateAudioContext();\n                updateSinkId(deviceId, audioContext);\n            });\n            const volumeSubscription = (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                this.speaker.state.volume$,\n                participant$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_20__.distinctUntilKeyChanged)(\"audioVolume\"))\n            ]).subscribe(([volume, p])=>{\n                const participantVolume = p.audioVolume ?? volume;\n                audioElement.volume = participantVolume;\n                if (gainNode) gainNode.gain.value = participantVolume;\n            });\n            audioElement.autoplay = true;\n            return ()=>{\n                sinkIdSubscription?.unsubscribe();\n                volumeSubscription.unsubscribe();\n                updateMediaStreamSubscription.unsubscribe();\n                audioElement.srcObject = null;\n                sourceNode?.disconnect();\n                gainNode?.disconnect();\n            };\n        };\n        this.getOrCreateAudioContext = ()=>{\n            if (this.audioContext || !isSafari()) return this.audioContext;\n            const context = new AudioContext();\n            if (context.state === \"suspended\") {\n                document.addEventListener(\"click\", this.resumeAudioContext);\n            }\n            return this.audioContext = context;\n        };\n        this.resumeAudioContext = ()=>{\n            if (this.audioContext?.state === \"suspended\") {\n                this.audioContext.resume().catch((err)=>this.logger(\"warn\", `Can't resume audio context`, err)).then(()=>{\n                    document.removeEventListener(\"click\", this.resumeAudioContext);\n                });\n            }\n        };\n        this.callState = callState;\n        this.speaker = speaker;\n    }\n    setSfuClient(sfuClient) {\n        this.sfuClient = sfuClient;\n    }\n    get trackSubscriptions() {\n        const subscriptions = [];\n        for (const p of this.callState.remoteParticipants){\n            // NOTE: audio tracks don't have to be requested explicitly\n            // as the SFU will implicitly subscribe us to all of them,\n            // once they become available.\n            if (p.videoDimension && hasVideo(p)) {\n                const override = this.videoTrackSubscriptionOverrides[p.sessionId] ?? this.videoTrackSubscriptionOverrides[globalOverrideKey];\n                if (override?.enabled !== false) {\n                    subscriptions.push({\n                        userId: p.userId,\n                        sessionId: p.sessionId,\n                        trackType: TrackType.VIDEO,\n                        dimension: override?.dimension ?? p.videoDimension\n                    });\n                }\n            }\n            if (p.screenShareDimension && hasScreenShare(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE,\n                    dimension: p.screenShareDimension\n                });\n            }\n            if (hasScreenShareAudio(p)) {\n                subscriptions.push({\n                    userId: p.userId,\n                    sessionId: p.sessionId,\n                    trackType: TrackType.SCREEN_SHARE_AUDIO\n                });\n            }\n        }\n        return subscriptions;\n    }\n    get videoTrackSubscriptionOverrides() {\n        return getCurrentValue(this.videoTrackSubscriptionOverrides$);\n    }\n}\n/**\n * Stores the permissions for the current user and exposes\n * a few helper methods which make it easier to work with permissions.\n *\n * This is an internal class meant to be used in combination with\n * a {@link Call} instance.\n *\n * @internal\n */ class PermissionsContext {\n    constructor(){\n        this.permissions = [];\n        /**\n         * Sets the permissions for the current user.\n         *\n         * @param permissions the permissions to set.\n         */ this.setPermissions = (permissions)=>{\n            this.permissions = permissions || [];\n        };\n        /**\n         * Sets the settings for the bound call.\n         * @param settings\n         */ this.setCallSettings = (settings)=>{\n            this.settings = settings;\n        };\n        /**\n         * Checks if the current user has a specific permission.\n         *\n         * @param permission the permission to check for.\n         */ this.hasPermission = (permission)=>{\n            return this.permissions.includes(permission);\n        };\n        /**\n         * Helper method that checks whether the current user has the permission\n         * to publish the given track type.\n         */ this.canPublish = (trackType)=>{\n            switch(trackType){\n                case TrackType.AUDIO:\n                    return this.hasPermission(OwnCapability.SEND_AUDIO);\n                case TrackType.VIDEO:\n                    return this.hasPermission(OwnCapability.SEND_VIDEO);\n                case TrackType.SCREEN_SHARE:\n                case TrackType.SCREEN_SHARE_AUDIO:\n                    return this.hasPermission(OwnCapability.SCREENSHARE);\n                case TrackType.UNSPECIFIED:\n                    return false;\n                default:\n                    ensureExhausted(trackType, \"Unknown track type\");\n            }\n        };\n        /**\n         * Checks if the current user can request a specific permission\n         * within the call.\n         *\n         * @param permission the permission to check for.\n         * @param settings the call settings to check against (optional).\n         */ this.canRequest = (permission, settings = this.settings)=>{\n            if (!settings) return false;\n            const { audio, video, screensharing } = settings;\n            switch(permission){\n                case OwnCapability.SEND_AUDIO:\n                    return audio.access_request_enabled;\n                case OwnCapability.SEND_VIDEO:\n                    return video.access_request_enabled;\n                case OwnCapability.SCREENSHARE:\n                    return screensharing.access_request_enabled;\n                default:\n                    return false;\n            }\n        };\n    }\n}\n/**\n * Represents a call type.\n */ class CallType {\n    /**\n     * Constructs a new CallType.\n     *\n     * @param name the name of the call type.\n     * @param options the options for the call type.\n     */ constructor(name, options = {\n        sortParticipantsBy: defaultSortPreset\n    }){\n        this.name = name;\n        this.options = options;\n    }\n}\n/**\n * A registry of {@link CallType}s.\n * You can register and unregister call types.\n */ class CallTypesRegistry {\n    /**\n     * Constructs a new CallTypesRegistry.\n     *\n     * @param callTypes the initial call types to register.\n     */ constructor(callTypes){\n        /**\n         * Registers a new call type.\n         *\n         * @param callType the call type to register.\n         */ this.register = (callType)=>{\n            this.callTypes[callType.name] = callType;\n        };\n        /**\n         * Unregisters a call type.\n         *\n         * @param name the name of the call type to unregister.\n         */ this.unregister = (name)=>{\n            delete this.callTypes[name];\n        };\n        /**\n         * Gets a call type by name.\n         *\n         * @param name the name of the call type to get.\n         */ this.get = (name)=>{\n            if (!this.callTypes[name]) {\n                this.register(new CallType(name));\n            }\n            return this.callTypes[name];\n        };\n        this.callTypes = callTypes.reduce((acc, callType)=>{\n            acc[callType.name] = callType;\n            return acc;\n        }, {});\n    }\n}\n/**\n * The default call types registry.\n * You can use this instance to dynamically register and unregister call types.\n */ const CallTypes = new CallTypesRegistry([\n    new CallType(\"default\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"development\", {\n        sortParticipantsBy: defaultSortPreset\n    }),\n    new CallType(\"livestream\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    }),\n    new CallType(\"audio_room\", {\n        sortParticipantsBy: livestreamOrAudioRoomSortPreset\n    })\n]);\nclass BrowserPermission {\n    constructor(permission){\n        this.permission = permission;\n        this.disposeController = new AbortController();\n        this.wasPrompted = false;\n        this.listeners = new Set();\n        this.logger = getLogger([\n            \"permissions\"\n        ]);\n        const signal = this.disposeController.signal;\n        this.ready = (async ()=>{\n            const assumeGranted = ()=>{\n                if (isReactNative()) {\n                    this.setState(\"granted\");\n                } else {\n                    this.setState(\"prompt\");\n                }\n            };\n            if (!canQueryPermissions()) {\n                return assumeGranted();\n            }\n            try {\n                const status = await navigator.permissions.query({\n                    name: permission.queryName\n                });\n                if (!signal.aborted) {\n                    this.setState(status.state);\n                    status.addEventListener(\"change\", ()=>this.setState(status.state), {\n                        signal\n                    });\n                }\n            } catch (err) {\n                this.logger(\"debug\", \"Failed to query permission status\", err);\n                assumeGranted();\n            }\n        })();\n    }\n    dispose() {\n        this.state = undefined;\n        this.disposeController.abort();\n    }\n    async getState() {\n        await this.ready;\n        if (!this.state) {\n            throw new Error(\"BrowserPermission instance possibly disposed\");\n        }\n        return this.state;\n    }\n    async prompt({ forcePrompt = false, throwOnNotAllowed = false } = {}) {\n        return await withoutConcurrency(`permission-prompt-${this.permission.queryName}`, async ()=>{\n            if (await this.getState() !== \"prompt\" || this.wasPrompted && !forcePrompt) {\n                const isGranted = this.state === \"granted\";\n                if (!isGranted && throwOnNotAllowed) {\n                    throw new Error(\"Permission was not granted previously, and prompting again is not allowed\");\n                }\n                return isGranted;\n            }\n            try {\n                this.wasPrompted = true;\n                this.setState(\"prompting\");\n                const stream = await navigator.mediaDevices.getUserMedia(this.permission.constraints);\n                disposeOfMediaStream(stream);\n                this.setState(\"granted\");\n                return true;\n            } catch (e) {\n                if (e && typeof e === \"object\" && \"name\" in e && (e.name === \"NotAllowedError\" || e.name === \"SecurityError\")) {\n                    this.logger(\"info\", \"Browser permission was not granted\", {\n                        permission: this.permission\n                    });\n                    this.setState(\"denied\");\n                    if (throwOnNotAllowed) {\n                        throw e;\n                    }\n                    return false;\n                }\n                this.logger(\"error\", `Failed to getUserMedia`, {\n                    error: e,\n                    permission: this.permission\n                });\n                this.setState(\"prompt\");\n                throw e;\n            }\n        });\n    }\n    listen(cb) {\n        this.listeners.add(cb);\n        if (this.state) cb(this.state);\n        return ()=>this.listeners.delete(cb);\n    }\n    asObservable() {\n        return this.getStateObservable().pipe(// In some browsers, the 'change' event doesn't reliably emit and hence,\n        // permissionState stays in 'prompt' state forever.\n        // Typically, this happens when a user grants one-time permission.\n        // Instead of checking if a permission is granted, we check if it isn't denied\n        (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((state)=>state !== \"denied\"));\n    }\n    asStateObservable() {\n        return this.getStateObservable();\n    }\n    getIsPromptingObservable() {\n        return this.getStateObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)((state)=>state === \"prompting\"));\n    }\n    getStateObservable() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_21__.fromEventPattern)((handler)=>this.listen(handler), (handler, unlisten)=>unlisten());\n    }\n    setState(state) {\n        if (this.state !== state) {\n            this.state = state;\n            this.listeners.forEach((listener)=>listener(state));\n        }\n    }\n}\nfunction canQueryPermissions() {\n    return !isReactNative() && typeof navigator !== \"undefined\" && !!navigator.permissions?.query;\n}\n/**\n * Returns an Observable that emits the list of available devices\n * that meet the given constraints.\n *\n * @param permission a BrowserPermission instance.\n * @param kind the kind of devices to enumerate.\n */ const getDevices = (permission, kind)=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.from)((async ()=>{\n        let devices = await navigator.mediaDevices.enumerateDevices();\n        // for privacy reasons, most browsers don't give you device labels\n        // unless you have a corresponding camera or microphone permission\n        const shouldPromptForBrowserPermission = devices.some((device)=>device.kind === kind && device.label === \"\");\n        if (shouldPromptForBrowserPermission && await permission.prompt()) {\n            devices = await navigator.mediaDevices.enumerateDevices();\n        }\n        return devices.filter((device)=>device.kind === kind && device.label !== \"\" && device.deviceId !== \"default\");\n    })());\n};\n/**\n * Tells if the browser supports audio output change on 'audio' elements,\n * see https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId.\n */ const checkIfAudioOutputChangeSupported = ()=>{\n    if (typeof document === \"undefined\") return false;\n    const element = document.createElement(\"audio\");\n    return \"setSinkId\" in element;\n};\n/**\n * The default constraints used to request audio devices.\n */ const audioDeviceConstraints = {\n    audio: {\n        autoGainControl: true,\n        noiseSuppression: true,\n        echoCancellation: true\n    }\n};\n/**\n * The default constraints used to request video devices.\n */ const videoDeviceConstraints = {\n    video: {\n        width: 1280,\n        height: 720\n    }\n};\n/**\n * Keeps track of the browser permission to use microphone. This permission also\n * affects an ability to enumerate audio devices.\n */ const getAudioBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: audioDeviceConstraints,\n        queryName: \"microphone\"\n    }));\n/**\n * Keeps track of the browser permission to use camera. This permission also\n * affects an ability to enumerate video devices.\n */ const getVideoBrowserPermission = lazy(()=>new BrowserPermission({\n        constraints: videoDeviceConstraints,\n        queryName: \"camera\"\n    }));\nconst getDeviceChangeObserver = lazy(()=>{\n    // 'addEventListener' is not available in React Native, returning\n    // an observable that will never fire\n    if (!navigator.mediaDevices.addEventListener) return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_22__.from)([]);\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_23__.fromEvent)(navigator.mediaDevices, \"devicechange\").pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_17__.map)(()=>undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_24__.debounceTime)(500));\n});\n/**\n * Prompts the user for a permission to use audio devices (if not already granted\n * and was not prompted before) and lists the available 'audioinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audioinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'videoinput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getVideoDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(getDeviceChangeObserver(), getVideoBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>getDevices(getVideoBrowserPermission(), \"videoinput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)(1));\n});\n/**\n * Prompts the user for a permission to use video devices (if not already granted\n * and was not prompted before) and lists the available 'audiooutput' devices,\n * if devices are added/removed the list is updated, and if the permission is revoked,\n * the observable errors.\n */ const getAudioOutputDevices = lazy(()=>{\n    return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_25__.merge)(getDeviceChangeObserver(), getAudioBrowserPermission().asObservable()).pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>getDevices(getAudioBrowserPermission(), \"audiooutput\")), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)(1));\n});\nlet getUserMediaExecId = 0;\nconst getStream = async (constraints, tracer)=>{\n    const tag = `navigator.mediaDevices.getUserMedia.${getUserMediaExecId++}.`;\n    try {\n        tracer?.trace(tag, constraints);\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\n        tracer?.trace(`${tag}OnSuccess`, dumpStream(stream));\n        if (isFirefox()) {\n            // When enumerating devices, Firefox will hide device labels unless there's been\n            // an active user media stream on the page. So we force device list updates after\n            // every successful getUserMedia call.\n            navigator.mediaDevices.dispatchEvent(new Event(\"devicechange\"));\n        }\n        if (constraints.video) {\n            const [videoTrack] = stream.getVideoTracks();\n            if (videoTrack) {\n                const { width, height } = videoTrack.getSettings();\n                const target = constraints.video;\n                if (width !== target.width || height !== target.height) {\n                    tracer?.trace(`${tag}Warn`, `Requested resolution ${target.width}x${target.height} but got ${width}x${height}`);\n                }\n            }\n        }\n        return stream;\n    } catch (error) {\n        tracer?.trace(`${tag}OnFailure`, error.name);\n        throw error;\n    }\n};\nfunction isNotFoundOrOverconstrainedError(error) {\n    if (!error || typeof error !== \"object\") {\n        return false;\n    }\n    if (\"name\" in error && typeof error.name === \"string\") {\n        const name = error.name;\n        if ([\n            \"OverconstrainedError\",\n            \"NotFoundError\"\n        ].includes(name)) {\n            return true;\n        }\n    }\n    if (\"message\" in error && typeof error.message === \"string\") {\n        const message = error.message;\n        if (message.startsWith(\"OverconstrainedError\")) {\n            return true;\n        }\n    }\n    return false;\n}\n/**\n * Returns an audio media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @param trackConstraints the constraints to use when requesting the stream.\n * @param tracer the tracer to use for tracing the stream creation.\n * @returns a new `MediaStream` fulfilling the given constraints.\n */ const getAudioStream = async (trackConstraints, tracer)=>{\n    const constraints = {\n        audio: {\n            ...audioDeviceConstraints.audio,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getAudioBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return await getStream(constraints, tracer);\n    } catch (error) {\n        if (isNotFoundOrOverconstrainedError(error) && trackConstraints?.deviceId) {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { deviceId, ...relaxedConstraints } = trackConstraints;\n            getLogger([\n                \"devices\"\n            ])(\"warn\", \"Failed to get audio stream, will try again with relaxed constraints\", {\n                error,\n                constraints,\n                relaxedConstraints\n            });\n            return getAudioStream(relaxedConstraints);\n        }\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get audio stream\", {\n            error,\n            constraints\n        });\n        throw error;\n    }\n};\n/**\n * Returns a video media stream that fulfills the given constraints.\n * If no constraints are provided, it uses the browser's default ones.\n *\n * @param trackConstraints the constraints to use when requesting the stream.\n * @param tracer the tracer to use for tracing the stream creation.\n * @returns a new `MediaStream` fulfilling the given constraints.\n */ const getVideoStream = async (trackConstraints, tracer)=>{\n    const constraints = {\n        video: {\n            ...videoDeviceConstraints.video,\n            ...trackConstraints\n        }\n    };\n    try {\n        await getVideoBrowserPermission().prompt({\n            throwOnNotAllowed: true,\n            forcePrompt: true\n        });\n        return await getStream(constraints, tracer);\n    } catch (error) {\n        if (isNotFoundOrOverconstrainedError(error) && trackConstraints?.deviceId) {\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            const { deviceId, ...relaxedConstraints } = trackConstraints;\n            getLogger([\n                \"devices\"\n            ])(\"warn\", \"Failed to get video stream, will try again with relaxed constraints\", {\n                error,\n                constraints,\n                relaxedConstraints\n            });\n            return getVideoStream(relaxedConstraints);\n        }\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get video stream\", {\n            error,\n            constraints\n        });\n        throw error;\n    }\n};\nlet getDisplayMediaExecId = 0;\n/**\n * Prompts the user for a permission to share a screen.\n * If the user grants the permission, a screen sharing stream is returned. Throws otherwise.\n *\n * The callers of this API are responsible to handle the possible errors.\n *\n * @param options any additional options to pass to the [`getDisplayMedia`](https://developer.mozilla.org/en-US/docs/Web/API/MediaDevices/getDisplayMedia) API.\n * @param tracer the tracer to use for tracing the stream creation.\n */ const getScreenShareStream = async (options, tracer)=>{\n    const tag = `navigator.mediaDevices.getDisplayMedia.${getDisplayMediaExecId++}.`;\n    try {\n        const constraints = {\n            // @ts-expect-error - not present in types yet\n            systemAudio: \"include\",\n            ...options,\n            video: typeof options?.video === \"boolean\" ? options.video // must be 'true'\n             : {\n                width: {\n                    max: 2560\n                },\n                height: {\n                    max: 1440\n                },\n                frameRate: {\n                    ideal: 30\n                },\n                ...options?.video\n            },\n            audio: typeof options?.audio === \"boolean\" ? options.audio : {\n                channelCount: {\n                    ideal: 2\n                },\n                echoCancellation: false,\n                autoGainControl: false,\n                noiseSuppression: false,\n                ...options?.audio\n            }\n        };\n        tracer?.trace(tag, constraints);\n        const stream = await navigator.mediaDevices.getDisplayMedia(constraints);\n        tracer?.trace(`${tag}OnSuccess`, dumpStream(stream));\n        return stream;\n    } catch (e) {\n        tracer?.trace(`${tag}OnFailure`, e.name);\n        getLogger([\n            \"devices\"\n        ])(\"error\", \"Failed to get screen share stream\", e);\n        throw e;\n    }\n};\nconst deviceIds$ = typeof navigator !== \"undefined\" && typeof navigator.mediaDevices !== \"undefined\" ? getDeviceChangeObserver().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_26__.startWith)(undefined), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_27__.concatMap)(()=>navigator.mediaDevices.enumerateDevices()), (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)(1)) : undefined;\n/**\n * Deactivates MediaStream (stops and removes tracks) to be later garbage collected\n *\n * @param stream MediaStream\n * @returns void\n */ const disposeOfMediaStream = (stream)=>{\n    if (!stream.active) return;\n    stream.getTracks().forEach((track)=>{\n        track.stop();\n    });\n    // @ts-expect-error release() is present in react-native-webrtc and must be called to dispose the stream\n    if (typeof stream.release === \"function\") {\n        // @ts-expect-error - release() is present in react-native-webrtc\n        stream.release();\n    }\n};\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */ const isMobile = ()=>/Mobi/i.test(navigator.userAgent);\nclass InputMediaDeviceManager {\n    constructor(call, state, trackType){\n        /**\n         * if true, stops the media stream when call is left\n         */ this.stopOnLeave = true;\n        this.subscriptions = [];\n        this.isTrackStoppedDueToTrackEnd = false;\n        this.filters = [];\n        this.statusChangeConcurrencyTag = Symbol(\"statusChangeConcurrencyTag\");\n        this.filterRegistrationConcurrencyTag = Symbol(\"filterRegistrationConcurrencyTag\");\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s());\n        };\n        this.call = call;\n        this.state = state;\n        this.trackType = trackType;\n        this.logger = getLogger([\n            `${TrackType[trackType].toLowerCase()} manager`\n        ]);\n        if (deviceIds$ && !isReactNative() && (this.trackType === TrackType.AUDIO || this.trackType === TrackType.VIDEO)) {\n            this.handleDisconnectedOrReplacedDevices();\n        }\n    }\n    /**\n     * Lists the available audio/video devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        return this.getDevices();\n    }\n    /**\n     * Returns `true` when this device is in enabled state.\n     */ get enabled() {\n        return this.state.status === \"enabled\";\n    }\n    /**\n     * Starts stream.\n     */ async enable() {\n        this.state.prevStatus = this.state.optimisticStatus;\n        if (this.state.optimisticStatus === \"enabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"enabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                await this.unmuteStream();\n                this.state.setStatus(\"enabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Stops or pauses the stream based on state.disableMode\n     * @param {boolean} [forceStop=false] when true, stops the tracks regardless of the state.disableMode\n     */ async disable(forceStop = false) {\n        this.state.prevStatus = this.state.optimisticStatus;\n        if (!forceStop && this.state.optimisticStatus === \"disabled\") {\n            return;\n        }\n        this.state.setPendingStatus(\"disabled\");\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            try {\n                const stopTracks = forceStop || this.state.disableMode === \"stop-tracks\";\n                await this.muteStream(stopTracks);\n                this.state.setStatus(\"disabled\");\n            } finally{\n                if (!signal.aborted) {\n                    this.state.setPendingStatus(this.state.status);\n                }\n            }\n        });\n    }\n    /**\n     * Returns a promise that resolves when all pe\n     */ async statusChangeSettled() {\n        await settled(this.statusChangeConcurrencyTag);\n    }\n    /**\n     * If status was previously enabled, it will re-enable the device.\n     */ async resume() {\n        if (this.state.prevStatus === \"enabled\" && this.state.status !== \"enabled\") {\n            await this.enable();\n        }\n    }\n    /**\n     * If the current device status is disabled, it will enable the device,\n     * else it will disable it.\n     */ async toggle() {\n        if (this.state.optimisticStatus === \"enabled\") {\n            return await this.disable();\n        } else {\n            return await this.enable();\n        }\n    }\n    /**\n     * Registers a filter that will be applied to the stream.\n     *\n     * The registered filter will get the existing stream, and it should return\n     * a new stream with the applied filter.\n     *\n     * @param filter the filter to register.\n     * @returns MediaStreamFilterRegistrationResult\n     */ registerFilter(filter) {\n        const entry = {\n            start: filter,\n            stop: undefined\n        };\n        this.call.tracer.trace(`registerFilter.${TrackType[this.trackType]}`, null);\n        const registered = withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n            await settled(this.statusChangeConcurrencyTag);\n            this.filters.push(entry);\n            await this.applySettingsToStream();\n        });\n        return {\n            registered,\n            unregister: ()=>withoutConcurrency(this.filterRegistrationConcurrencyTag, async ()=>{\n                    await settled(this.statusChangeConcurrencyTag);\n                    entry.stop?.();\n                    this.filters = this.filters.filter((f)=>f !== entry);\n                    await this.applySettingsToStream();\n                })\n        };\n    }\n    /**\n     * Will set the default constraints for the device.\n     *\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        this.state.setDefaultConstraints(constraints);\n    }\n    /**\n     * Selects a device.\n     *\n     * Note: This method is not supported in React Native\n     * @param deviceId the device id to select.\n     */ async select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.\");\n        }\n        const prevDeviceId = this.state.selectedDevice;\n        if (deviceId === prevDeviceId) {\n            return;\n        }\n        try {\n            this.state.setDevice(deviceId);\n            await this.applySettingsToStream();\n        } catch (error) {\n            this.state.setDevice(prevDeviceId);\n            throw error;\n        }\n    }\n    async applySettingsToStream() {\n        await withCancellation(this.statusChangeConcurrencyTag, async (signal)=>{\n            if (this.enabled) {\n                try {\n                    await this.muteStream();\n                    this.state.setStatus(\"disabled\");\n                    if (signal.aborted) {\n                        return;\n                    }\n                    await this.unmuteStream();\n                    this.state.setStatus(\"enabled\");\n                } finally{\n                    if (!signal.aborted) {\n                        this.state.setPendingStatus(this.state.status);\n                    }\n                }\n            }\n        });\n    }\n    publishStream(stream) {\n        return this.call.publish(stream, this.trackType);\n    }\n    stopPublishStream() {\n        return this.call.stopPublish(this.trackType);\n    }\n    getTracks() {\n        return this.state.mediaStream?.getTracks() ?? [];\n    }\n    async muteStream(stopTracks = true) {\n        const mediaStream = this.state.mediaStream;\n        if (!mediaStream) return;\n        this.logger(\"debug\", `${stopTracks ? \"Stopping\" : \"Disabling\"} stream`);\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.stopPublishStream();\n        }\n        this.muteLocalStream(stopTracks);\n        const allEnded = this.getTracks().every((t)=>t.readyState === \"ended\");\n        if (allEnded) {\n            // @ts-expect-error release() is present in react-native-webrtc\n            if (typeof mediaStream.release === \"function\") {\n                // @ts-expect-error called to dispose the stream in RN\n                mediaStream.release();\n            }\n            this.state.setMediaStream(undefined, undefined);\n            this.filters.forEach((entry)=>entry.stop?.());\n        }\n    }\n    disableTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.enabled) track.enabled = false;\n        });\n    }\n    enableTracks() {\n        this.getTracks().forEach((track)=>{\n            if (!track.enabled) track.enabled = true;\n        });\n    }\n    stopTracks() {\n        this.getTracks().forEach((track)=>{\n            if (track.readyState === \"live\") track.stop();\n        });\n    }\n    muteLocalStream(stopTracks) {\n        if (!this.state.mediaStream) {\n            return;\n        }\n        if (stopTracks) {\n            this.stopTracks();\n        } else {\n            this.disableTracks();\n        }\n    }\n    async unmuteStream() {\n        this.logger(\"debug\", \"Starting stream\");\n        let stream;\n        let rootStream;\n        if (this.state.mediaStream && this.getTracks().every((t)=>t.readyState === \"live\")) {\n            stream = this.state.mediaStream;\n            this.enableTracks();\n        } else {\n            const defaultConstraints = this.state.defaultConstraints;\n            const constraints = {\n                ...defaultConstraints,\n                deviceId: this.state.selectedDevice ? {\n                    exact: this.state.selectedDevice\n                } : undefined\n            };\n            /**\n             * Chains two media streams together.\n             *\n             * In our case, filters MediaStreams are derived from their parent MediaStream.\n             * However, once a child filter's track is stopped,\n             * the tracks of the parent MediaStream aren't automatically stopped.\n             * This leads to a situation where the camera indicator light is still on\n             * even though the user stopped publishing video.\n             *\n             * This function works around this issue by stopping the parent MediaStream's tracks\n             * as well once the child filter's tracks are stopped.\n             *\n             * It works by patching the stop() method of the child filter's tracks to also stop\n             * the parent MediaStream's tracks of the same type. Here we assume that\n             * the parent MediaStream has only one track of each type.\n             *\n             * @param parentStream the parent MediaStream. Omit for the root stream.\n             */ const chainWith = (parentStream)=>async (filterStream)=>{\n                    if (!parentStream) return filterStream;\n                    // TODO OL: take care of track.enabled property as well\n                    const parent = await parentStream;\n                    filterStream.getTracks().forEach((track)=>{\n                        const originalStop = track.stop;\n                        track.stop = function stop() {\n                            originalStop.call(track);\n                            parent.getTracks().forEach((parentTrack)=>{\n                                if (parentTrack.kind === track.kind) {\n                                    parentTrack.stop();\n                                }\n                            });\n                        };\n                    });\n                    parent.getTracks().forEach((parentTrack)=>{\n                        // When the parent stream abruptly ends, we propagate the event\n                        // to the filter stream.\n                        // This usually happens when the camera/microphone permissions\n                        // are revoked or when the device is disconnected.\n                        const handleParentTrackEnded = ()=>{\n                            filterStream.getTracks().forEach((track)=>{\n                                if (parentTrack.kind !== track.kind) return;\n                                track.stop();\n                                track.dispatchEvent(new Event(\"ended\")); // propagate the event\n                            });\n                        };\n                        parentTrack.addEventListener(\"ended\", handleParentTrackEnded);\n                        this.subscriptions.push(()=>{\n                            parentTrack.removeEventListener(\"ended\", handleParentTrackEnded);\n                        });\n                    });\n                    return filterStream;\n                };\n            // the rootStream represents the stream coming from the actual device\n            // e.g. camera or microphone stream\n            rootStream = this.getStream(constraints);\n            // we publish the last MediaStream of the chain\n            stream = await this.filters.reduce((parent, entry)=>parent.then((inputStream)=>{\n                    const { stop, output } = entry.start(inputStream);\n                    entry.stop = stop;\n                    return output;\n                }).then(chainWith(parent), (error)=>{\n                    this.logger(\"warn\", \"Filter failed to start and will be ignored\", error);\n                    return parent;\n                }), rootStream);\n        }\n        if (this.call.state.callingState === CallingState.JOINED) {\n            await this.publishStream(stream);\n        }\n        if (this.state.mediaStream !== stream) {\n            this.state.setMediaStream(stream, await rootStream);\n            const handleTrackEnded = async ()=>{\n                await this.statusChangeSettled();\n                if (this.enabled) {\n                    this.isTrackStoppedDueToTrackEnd = true;\n                    setTimeout(()=>{\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    }, 2000);\n                    await this.disable();\n                }\n            };\n            const createTrackMuteHandler = (muted)=>()=>{\n                    if (!isMobile() || this.trackType !== TrackType.VIDEO) return;\n                    this.call.notifyTrackMuteState(muted, this.trackType).catch((err)=>{\n                        this.logger(\"warn\", \"Error while notifying track mute state\", err);\n                    });\n                };\n            stream.getTracks().forEach((track)=>{\n                const muteHandler = createTrackMuteHandler(true);\n                const unmuteHandler = createTrackMuteHandler(false);\n                track.addEventListener(\"mute\", muteHandler);\n                track.addEventListener(\"unmute\", unmuteHandler);\n                track.addEventListener(\"ended\", handleTrackEnded);\n                this.subscriptions.push(()=>{\n                    track.removeEventListener(\"mute\", muteHandler);\n                    track.removeEventListener(\"unmute\", unmuteHandler);\n                    track.removeEventListener(\"ended\", handleTrackEnded);\n                });\n            });\n        }\n    }\n    get mediaDeviceKind() {\n        if (this.trackType === TrackType.AUDIO) {\n            return \"audioinput\";\n        }\n        if (this.trackType === TrackType.VIDEO) {\n            return \"videoinput\";\n        }\n        return \"\";\n    }\n    handleDisconnectedOrReplacedDevices() {\n        this.subscriptions.push(createSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n            deviceIds$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_28__.pairwise)()),\n            this.state.selectedDevice$\n        ]), async ([[prevDevices, currentDevices], deviceId])=>{\n            try {\n                if (!deviceId) return;\n                await this.statusChangeSettled();\n                let isDeviceDisconnected = false;\n                let isDeviceReplaced = false;\n                const currentDevice = this.findDevice(currentDevices, deviceId);\n                const prevDevice = this.findDevice(prevDevices, deviceId);\n                if (!currentDevice && prevDevice) {\n                    isDeviceDisconnected = true;\n                } else if (currentDevice && prevDevice && currentDevice.deviceId === prevDevice.deviceId && currentDevice.groupId !== prevDevice.groupId) {\n                    isDeviceReplaced = true;\n                }\n                if (isDeviceDisconnected) {\n                    await this.disable();\n                    await this.select(undefined);\n                }\n                if (isDeviceReplaced) {\n                    if (this.isTrackStoppedDueToTrackEnd && this.state.status === \"disabled\") {\n                        await this.enable();\n                        this.isTrackStoppedDueToTrackEnd = false;\n                    } else {\n                        await this.applySettingsToStream();\n                    }\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Unexpected error while handling disconnected or replaced device\", err);\n            }\n        }));\n    }\n    findDevice(devices, deviceId) {\n        const kind = this.mediaDeviceKind;\n        return devices.find((d)=>d.deviceId === deviceId && d.kind === kind);\n    }\n}\nclass InputMediaDeviceManagerState {\n    /**\n     * Constructs new InputMediaDeviceManagerState instance.\n     *\n     * @param disableMode the disable mode to use.\n     * @param permission the BrowserPermission to use for querying.\n     * `undefined` means no permission is required.\n     */ constructor(disableMode = \"stop-tracks\", permission){\n        this.disableMode = disableMode;\n        this.statusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.optimisticStatusSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.mediaStreamSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.defaultConstraintsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current media stream, or `undefined` if the device is currently disabled.\n         *\n         */ this.mediaStream$ = this.mediaStreamSubject.asObservable();\n        /**\n         * An Observable that emits the currently selected device\n         */ this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the device status\n         */ this.status$ = this.statusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * An Observable the reflects the requested device status. Useful for optimistic UIs\n         */ this.optimisticStatus$ = this.optimisticStatusSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * The default constraints for the device.\n         */ this.defaultConstraints$ = this.defaultConstraintsSubject.asObservable();\n        this.hasBrowserPermission$ = permission ? permission.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.of)(true);\n        this.browserPermissionState$ = permission ? permission.asStateObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.of)(\"prompt\");\n        this.isPromptingPermission$ = permission ? permission.getIsPromptingObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_16__.shareReplay)(1)) : (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.of)(false);\n    }\n    /**\n     * The device status\n     */ get status() {\n        return getCurrentValue(this.status$);\n    }\n    /**\n     * The requested device status. Useful for optimistic UIs\n     */ get optimisticStatus() {\n        return getCurrentValue(this.optimisticStatus$);\n    }\n    /**\n     * The currently selected device\n     */ get selectedDevice() {\n        return getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The current media stream, or `undefined` if the device is currently disabled.\n     */ get mediaStream() {\n        return getCurrentValue(this.mediaStream$);\n    }\n    /**\n     * @internal\n     * @param status\n     */ setStatus(status) {\n        setCurrentValue(this.statusSubject, status);\n    }\n    /**\n     * @internal\n     * @param pendingStatus\n     */ setPendingStatus(pendingStatus) {\n        setCurrentValue(this.optimisticStatusSubject, pendingStatus);\n    }\n    /**\n     * Updates the `mediaStream` state variable.\n     *\n     * @internal\n     * @param stream the stream to set.\n     * @param rootStream the root stream, applicable when filters are used\n     * as this is the stream that holds the actual deviceId information.\n     */ setMediaStream(stream, rootStream) {\n        setCurrentValue(this.mediaStreamSubject, stream);\n        if (rootStream) {\n            this.setDevice(this.getDeviceIdFromStream(rootStream));\n        }\n    }\n    /**\n     * @internal\n     * @param deviceId the device id to set.\n     */ setDevice(deviceId) {\n        setCurrentValue(this.selectedDeviceSubject, deviceId);\n    }\n    /**\n     * Gets the default constraints for the device.\n     */ get defaultConstraints() {\n        return getCurrentValue(this.defaultConstraints$);\n    }\n    /**\n     * Sets the default constraints for the device.\n     *\n     * @internal\n     * @param constraints the constraints to set.\n     */ setDefaultConstraints(constraints) {\n        setCurrentValue(this.defaultConstraintsSubject, constraints);\n    }\n}\nclass CameraManagerState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(\"stop-tracks\", getVideoBrowserPermission());\n        this.directionSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        this.direction$ = this.directionSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n    }\n    /**\n     * The preferred camera direction\n     * front - means the camera facing the user\n     * back - means the camera facing the environment\n     */ get direction() {\n        return getCurrentValue(this.direction$);\n    }\n    /**\n     * @internal\n     */ setDirection(direction) {\n        setCurrentValue(this.directionSubject, direction);\n    }\n    /**\n     * @internal\n     */ setMediaStream(stream, rootStream) {\n        super.setMediaStream(stream, rootStream);\n        if (stream) {\n            // RN getSettings() doesn't return facingMode, so we don't verify camera direction\n            const direction = isReactNative() ? this.direction : stream.getVideoTracks()[0]?.getSettings().facingMode === \"environment\" ? \"back\" : \"front\";\n            this.setDirection(direction);\n        }\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getVideoTracks();\n        return track?.getSettings().deviceId;\n    }\n}\nclass CameraManager extends InputMediaDeviceManager {\n    /**\n     * Constructs a new CameraManager.\n     *\n     * @param call the call instance.\n     */ constructor(call){\n        super(call, new CameraManagerState(), TrackType.VIDEO);\n        this.targetResolution = {\n            width: 1280,\n            height: 720\n        };\n    }\n    isDirectionSupportedByDevice() {\n        return isReactNative() || isMobile();\n    }\n    /**\n     * Select the camera direction.\n     *\n     * @param direction the direction of the camera to select.\n     */ async selectDirection(direction) {\n        if (!this.isDirectionSupportedByDevice()) {\n            this.logger(\"warn\", \"Setting direction is not supported on this device\");\n            return;\n        }\n        // providing both device id and direction doesn't work, so we deselect the device\n        this.state.setDirection(direction);\n        this.state.setDevice(undefined);\n        if (isReactNative()) {\n            const videoTrack = this.getTracks()[0];\n            await videoTrack?.applyConstraints({\n                facingMode: direction === \"front\" ? \"user\" : \"environment\"\n            });\n            return;\n        }\n        this.getTracks().forEach((track)=>track.stop());\n        try {\n            await this.unmuteStream();\n        } catch (error) {\n            if (error instanceof Error && error.name === \"NotReadableError\") {\n                // the camera is already in use, and the device can't use it unless it's released.\n                // in that case, we need to stop the stream and start it again.\n                await this.muteStream();\n                await this.unmuteStream();\n            }\n            throw error;\n        }\n    }\n    /**\n     * Flips the camera direction: if it's front it will change to back, if it's back, it will change to front.\n     *\n     * Note: if there is no available camera with the desired direction, this method will do nothing.\n     * @returns\n     */ async flip() {\n        const newDirection = this.state.direction === \"front\" ? \"back\" : \"front\";\n        await this.selectDirection(newDirection);\n    }\n    /**\n     * @internal\n     */ async selectTargetResolution(resolution) {\n        this.targetResolution.height = resolution.height;\n        this.targetResolution.width = resolution.width;\n        if (this.state.optimisticStatus === \"enabled\") {\n            try {\n                await this.statusChangeSettled();\n            } catch (error) {\n                // couldn't enable device, target resolution will be applied the next time user attempts to start the device\n                this.logger(\"warn\", \"could not apply target resolution\", error);\n            }\n        }\n        if (this.enabled && this.state.mediaStream) {\n            const [videoTrack] = this.state.mediaStream.getVideoTracks();\n            if (!videoTrack) return;\n            const { width, height } = videoTrack.getSettings();\n            if (width !== this.targetResolution.width || height !== this.targetResolution.height) {\n                await this.applySettingsToStream();\n                this.logger(\"debug\", `${width}x${height} target resolution applied to media stream`);\n            }\n        }\n    }\n    /**\n     * Applies the video settings to the camera.\n     *\n     * @param settings the video settings to apply.\n     * @param publish whether to publish the stream after applying the settings.\n     */ async apply(settings, publish) {\n        const hasPublishedVideo = !!this.call.state.localParticipant?.videoStream;\n        const hasPermission = this.call.permissionsContext.hasPermission(OwnCapability.SEND_AUDIO);\n        if (hasPublishedVideo || !hasPermission) return;\n        // Wait for any in progress camera operation\n        await this.statusChangeSettled();\n        const { target_resolution, camera_facing, camera_default_on } = settings;\n        // normalize target resolution to landscape format.\n        // on mobile devices, the device itself adjusts the resolution to portrait or landscape\n        // depending on the orientation of the device. using portrait resolution\n        // will result in falling back to the default resolution (640x480).\n        let { width, height } = target_resolution;\n        if (width < height) [width, height] = [\n            height,\n            width\n        ];\n        await this.selectTargetResolution({\n            width,\n            height\n        });\n        // Set camera direction if it's not yet set\n        if (!this.state.direction && !this.state.selectedDevice) {\n            this.state.setDirection(camera_facing === \"front\" ? \"front\" : \"back\");\n        }\n        if (!publish) return;\n        const { mediaStream } = this.state;\n        if (this.enabled && mediaStream) {\n            // The camera is already enabled (e.g. lobby screen). Publish the stream\n            await this.publishStream(mediaStream);\n        } else if (this.state.status === undefined && camera_default_on) {\n            // Start camera if backend config specifies, and there is no local setting\n            await this.enable();\n        }\n    }\n    getDevices() {\n        return getVideoDevices();\n    }\n    getStream(constraints) {\n        constraints.width = this.targetResolution.width;\n        constraints.height = this.targetResolution.height;\n        // We can't set both device id and facing mode\n        // Device id has higher priority\n        if (!constraints.deviceId && this.state.direction && this.isDirectionSupportedByDevice()) {\n            constraints.facingMode = this.state.direction === \"front\" ? \"user\" : \"environment\";\n        }\n        return getVideoStream(constraints, this.call.tracer);\n    }\n}\nclass MicrophoneManagerState extends InputMediaDeviceManagerState {\n    constructor(disableMode){\n        super(disableMode, getAudioBrowserPermission());\n        this.speakingWhileMutedSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(false);\n        this.speakingWhileMuted$ = this.speakingWhileMutedSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n    }\n    /**\n     * `true` if the user's microphone is muted but they'are speaking.\n     *\n     * This feature is not available in the React Native SDK.\n     */ get speakingWhileMuted() {\n        return getCurrentValue(this.speakingWhileMuted$);\n    }\n    /**\n     * @internal\n     */ setSpeakingWhileMuted(isSpeaking) {\n        setCurrentValue(this.speakingWhileMutedSubject, isSpeaking);\n    }\n    getDeviceIdFromStream(stream) {\n        const [track] = stream.getAudioTracks();\n        return track?.getSettings().deviceId;\n    }\n}\nconst DETECTION_FREQUENCY_IN_MS = 500;\nconst AUDIO_LEVEL_THRESHOLD = 150;\nconst FFT_SIZE = 128;\n/**\n * Creates a new sound detector.\n *\n * @param audioStream the audio stream to observe. Depending on the provided configuration, this stream might be destroyed when the sound detector is stopped.\n * @param onSoundDetectedStateChanged a callback which is called when the sound state changes.\n * @param options custom options for the sound detector.\n * @returns a clean-up function which once invoked stops the sound detector.\n */ const createSoundDetector = (audioStream, onSoundDetectedStateChanged, options = {})=>{\n    const { detectionFrequencyInMs = DETECTION_FREQUENCY_IN_MS, audioLevelThreshold = AUDIO_LEVEL_THRESHOLD, fftSize = FFT_SIZE, destroyStreamOnStop = true } = options;\n    const audioContext = new AudioContext();\n    const analyser = audioContext.createAnalyser();\n    analyser.fftSize = fftSize;\n    const microphone = audioContext.createMediaStreamSource(audioStream);\n    microphone.connect(analyser);\n    const intervalId = setInterval(()=>{\n        const data = new Uint8Array(analyser.frequencyBinCount);\n        analyser.getByteFrequencyData(data);\n        const isSoundDetected = data.some((value)=>value >= audioLevelThreshold);\n        const averagedDataValue = data.reduce((pv, cv)=>pv + cv, 0) / data.length;\n        const percentage = averagedDataValue > audioLevelThreshold ? 100 : Math.round(averagedDataValue / audioLevelThreshold * 100);\n        // When the track is disabled, it takes time for the buffer to empty\n        // This check will ensure that we don't send anything if the track is disabled\n        if (audioStream.getAudioTracks()[0]?.enabled) {\n            onSoundDetectedStateChanged({\n                isSoundDetected,\n                audioLevel: percentage\n            });\n        } else {\n            onSoundDetectedStateChanged({\n                isSoundDetected: false,\n                audioLevel: 0\n            });\n        }\n    }, detectionFrequencyInMs);\n    return async function stop() {\n        clearInterval(intervalId);\n        // clean-up the AudioContext elements\n        microphone.disconnect();\n        analyser.disconnect();\n        if (audioContext.state !== \"closed\") {\n            await audioContext.close();\n        }\n        // stop the stream\n        if (destroyStreamOnStop) {\n            audioStream.getTracks().forEach((track)=>{\n                track.stop();\n                audioStream.removeTrack(track);\n            });\n        }\n    };\n};\nclass RNSpeechDetector {\n    constructor(){\n        this.pc1 = new RTCPeerConnection({});\n        this.pc2 = new RTCPeerConnection({});\n    }\n    /**\n     * Starts the speech detection.\n     */ async start(onSoundDetectedStateChanged) {\n        try {\n            this.cleanupAudioStream();\n            const audioStream = await navigator.mediaDevices.getUserMedia({\n                audio: true\n            });\n            this.audioStream = audioStream;\n            this.pc1.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc2.addIceCandidate(e.candidate);\n            });\n            this.pc2.addEventListener(\"icecandidate\", async (e)=>{\n                await this.pc1.addIceCandidate(e.candidate);\n            });\n            this.pc2.addEventListener(\"track\", (e)=>{\n                e.streams[0].getTracks().forEach((track)=>{\n                    // In RN, the remote track is automatically added to the audio output device\n                    // so we need to mute it to avoid hearing the audio back\n                    // @ts-expect-error _setVolume is a private method in react-native-webrtc\n                    track._setVolume(0);\n                });\n            });\n            audioStream.getTracks().forEach((track)=>this.pc1.addTrack(track, audioStream));\n            const offer = await this.pc1.createOffer({});\n            await this.pc2.setRemoteDescription(offer);\n            await this.pc1.setLocalDescription(offer);\n            const answer = await this.pc2.createAnswer();\n            await this.pc1.setRemoteDescription(answer);\n            await this.pc2.setLocalDescription(answer);\n            const unsub = this.onSpeakingDetectedStateChange(onSoundDetectedStateChanged);\n            return ()=>{\n                unsub();\n                this.stop();\n            };\n        } catch (error) {\n            const logger = getLogger([\n                \"RNSpeechDetector\"\n            ]);\n            logger(\"error\", \"error handling permissions: \", error);\n            return ()=>{};\n        }\n    }\n    /**\n     * Stops the speech detection and releases all allocated resources.\n     */ stop() {\n        this.pc1.close();\n        this.pc2.close();\n        this.cleanupAudioStream();\n    }\n    /**\n     * Public method that detects the audio levels and returns the status.\n     */ onSpeakingDetectedStateChange(onSoundDetectedStateChanged) {\n        const initialBaselineNoiseLevel = 0.13;\n        let baselineNoiseLevel = initialBaselineNoiseLevel;\n        let speechDetected = false;\n        let speechTimer;\n        let silenceTimer;\n        const audioLevelHistory = []; // Store recent audio levels for smoother detection\n        const historyLength = 10;\n        const silenceThreshold = 1.1;\n        const resetThreshold = 0.9;\n        const speechTimeout = 500; // Speech is set to true after 500ms of audio detection\n        const silenceTimeout = 5000; // Reset baseline after 5 seconds of silence\n        const checkAudioLevel = async ()=>{\n            try {\n                const stats = await this.pc1.getStats();\n                const report = flatten(stats);\n                // Audio levels are present inside stats of type `media-source` and of kind `audio`\n                const audioMediaSourceStats = report.find((stat)=>stat.type === \"media-source\" && stat.kind === \"audio\");\n                if (audioMediaSourceStats) {\n                    const { audioLevel } = audioMediaSourceStats;\n                    if (audioLevel) {\n                        // Update audio level history (with max historyLength sized array)\n                        audioLevelHistory.push(audioLevel);\n                        if (audioLevelHistory.length > historyLength) {\n                            audioLevelHistory.shift();\n                        }\n                        // Calculate average audio level\n                        const avgAudioLevel = audioLevelHistory.reduce((a, b)=>a + b, 0) / audioLevelHistory.length;\n                        // Update baseline (if necessary) based on silence detection\n                        if (avgAudioLevel < baselineNoiseLevel * silenceThreshold) {\n                            if (!silenceTimer) {\n                                silenceTimer = setTimeout(()=>{\n                                    baselineNoiseLevel = Math.min(avgAudioLevel * resetThreshold, initialBaselineNoiseLevel);\n                                }, silenceTimeout);\n                            }\n                        } else {\n                            clearTimeout(silenceTimer);\n                            silenceTimer = undefined;\n                        }\n                        // Speech detection with hysteresis\n                        if (avgAudioLevel > baselineNoiseLevel * 1.5) {\n                            if (!speechDetected) {\n                                speechDetected = true;\n                                onSoundDetectedStateChanged({\n                                    isSoundDetected: true,\n                                    audioLevel\n                                });\n                            }\n                            clearTimeout(speechTimer);\n                            speechTimer = setTimeout(()=>{\n                                speechDetected = false;\n                                onSoundDetectedStateChanged({\n                                    isSoundDetected: false,\n                                    audioLevel: 0\n                                });\n                            }, speechTimeout);\n                        }\n                    }\n                }\n            } catch (error) {\n                const logger = getLogger([\n                    \"RNSpeechDetector\"\n                ]);\n                logger(\"error\", \"error checking audio level from stats\", error);\n            }\n        };\n        // Call checkAudioLevel periodically (every 100ms)\n        const intervalId = setInterval(checkAudioLevel, 100);\n        return ()=>{\n            clearInterval(intervalId);\n            clearTimeout(speechTimer);\n            clearTimeout(silenceTimer);\n        };\n    }\n    cleanupAudioStream() {\n        if (!this.audioStream) {\n            return;\n        }\n        this.audioStream.getTracks().forEach((track)=>track.stop());\n        if (// @ts-expect-error release() is present in react-native-webrtc\n        typeof this.audioStream.release === \"function\") {\n            // @ts-expect-error called to dispose the stream in RN\n            this.audioStream.release();\n        }\n    }\n}\nclass MicrophoneManager extends InputMediaDeviceManager {\n    constructor(call, disableMode = \"stop-tracks\"){\n        super(call, new MicrophoneManagerState(disableMode), TrackType.AUDIO);\n        this.speakingWhileMutedNotificationEnabled = true;\n        this.soundDetectorConcurrencyTag = Symbol(\"soundDetectorConcurrencyTag\");\n        this.subscriptions.push(createSafeAsyncSubscription((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n            this.call.state.callingState$,\n            this.call.state.ownCapabilities$,\n            this.state.selectedDevice$,\n            this.state.status$\n        ]), async ([callingState, ownCapabilities, deviceId, status])=>{\n            try {\n                if (callingState === CallingState.LEFT) {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n                if (callingState !== CallingState.JOINED) return;\n                if (!this.speakingWhileMutedNotificationEnabled) return;\n                if (ownCapabilities.includes(OwnCapability.SEND_AUDIO)) {\n                    if (status === \"disabled\") {\n                        await this.startSpeakingWhileMutedDetection(deviceId);\n                    } else {\n                        await this.stopSpeakingWhileMutedDetection();\n                    }\n                } else {\n                    await this.stopSpeakingWhileMutedDetection();\n                }\n            } catch (err) {\n                this.logger(\"warn\", \"Could not enable speaking while muted\", err);\n            }\n        }));\n        this.subscriptions.push(createSubscription(this.call.state.callingState$, (callingState)=>{\n            // do nothing when noise filtering isn't turned on\n            if (!this.noiseCancellationRegistration || !this.noiseCancellation) return;\n            const autoOn = this.call.state.settings?.audio.noise_cancellation?.mode === NoiseCancellationSettingsModeEnum.AUTO_ON;\n            if (autoOn && callingState === CallingState.JOINED) {\n                this.noiseCancellationRegistration.then(()=>{\n                    if (this.noiseCancellation?.canAutoEnable) {\n                        return this.noiseCancellation.canAutoEnable();\n                    }\n                    return true;\n                }).then((canAutoEnable)=>{\n                    if (canAutoEnable) {\n                        this.noiseCancellation?.enable();\n                    }\n                }).catch((err)=>{\n                    this.logger(\"warn\", `Failed to enable noise cancellation`, err);\n                    return this.call.notifyNoiseCancellationStopped();\n                });\n            } else if (callingState === CallingState.LEFT) {\n                this.noiseCancellationRegistration.then(()=>this.noiseCancellation?.disable()).catch((err)=>{\n                    this.logger(\"warn\", `Failed to disable noise cancellation`, err);\n                });\n            }\n        }));\n    }\n    /**\n     * Enables noise cancellation for the microphone.\n     *\n     * @param noiseCancellation - a noise cancellation instance to use.\n     */ async enableNoiseCancellation(noiseCancellation) {\n        const { ownCapabilities, settings } = this.call.state;\n        const hasNoiseCancellationCapability = ownCapabilities.includes(OwnCapability.ENABLE_NOISE_CANCELLATION);\n        if (!hasNoiseCancellationCapability) {\n            throw new Error(\"Noise cancellation is not available.\");\n        }\n        const noiseCancellationSettings = settings?.audio.noise_cancellation;\n        if (!noiseCancellationSettings || noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.DISABLED) {\n            throw new Error(\"Noise cancellation is disabled for this call type.\");\n        }\n        try {\n            this.noiseCancellation = noiseCancellation;\n            // listen for change events and notify the SFU\n            this.noiseCancellationChangeUnsubscribe = this.noiseCancellation.on(\"change\", (enabled)=>{\n                this.call.tracer.trace(\"noiseCancellation.enabled\", enabled);\n                if (enabled) {\n                    this.call.notifyNoiseCancellationStarting().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStart failed`, err);\n                    });\n                } else {\n                    this.call.notifyNoiseCancellationStopped().catch((err)=>{\n                        this.logger(\"warn\", `notifyNoiseCancellationStop failed`, err);\n                    });\n                }\n            });\n            if (isReactNative()) {\n                // no filter registration in React Native, its done in the native code on app init\n                this.noiseCancellationRegistration = Promise.resolve();\n            } else {\n                const registrationResult = this.registerFilter(noiseCancellation.toFilter());\n                this.noiseCancellationRegistration = registrationResult.registered;\n                this.unregisterNoiseCancellation = registrationResult.unregister;\n                await this.noiseCancellationRegistration;\n            }\n            // handles an edge case where a noise cancellation is enabled after\n            // the participant as joined the call -> we immediately enable NC\n            if (noiseCancellationSettings.mode === NoiseCancellationSettingsModeEnum.AUTO_ON && this.call.state.callingState === CallingState.JOINED) {\n                let canAutoEnable = true;\n                if (noiseCancellation.canAutoEnable) {\n                    canAutoEnable = await noiseCancellation.canAutoEnable();\n                }\n                if (canAutoEnable) {\n                    noiseCancellation.enable();\n                }\n            }\n        } catch (e) {\n            this.logger(\"warn\", \"Failed to enable noise cancellation\", e);\n            await this.disableNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to disable noise cancellation\", err);\n            });\n            throw e;\n        }\n    }\n    /**\n     * Disables noise cancellation for the microphone.\n     */ async disableNoiseCancellation() {\n        await (this.unregisterNoiseCancellation?.() ?? Promise.resolve()).then(()=>this.noiseCancellation?.disable()).then(()=>this.noiseCancellationChangeUnsubscribe?.()).catch((err)=>{\n            this.logger(\"warn\", \"Failed to unregister noise cancellation\", err);\n        });\n        await this.call.notifyNoiseCancellationStopped();\n    }\n    /**\n     * Enables speaking while muted notification.\n     */ async enableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = true;\n        if (this.state.status === \"disabled\") {\n            await this.startSpeakingWhileMutedDetection(this.state.selectedDevice);\n        }\n    }\n    /**\n     * Disables speaking while muted notification.\n     */ async disableSpeakingWhileMutedNotification() {\n        this.speakingWhileMutedNotificationEnabled = false;\n        await this.stopSpeakingWhileMutedDetection();\n    }\n    /**\n     * Applies the audio settings to the microphone.\n     * @param settings the audio settings to apply.\n     * @param publish whether to publish the stream after applying the settings.\n     */ async apply(settings, publish) {\n        if (!publish) return;\n        const hasPublishedAudio = !!this.call.state.localParticipant?.audioStream;\n        const hasPermission = this.call.permissionsContext.hasPermission(OwnCapability.SEND_AUDIO);\n        if (hasPublishedAudio || !hasPermission) return;\n        // Wait for any in progress mic operation\n        await this.statusChangeSettled();\n        // Publish media stream that was set before we joined\n        const { mediaStream } = this.state;\n        if (this.enabled && mediaStream) {\n            // The mic is already enabled (e.g. lobby screen). Publish the stream\n            await this.publishStream(mediaStream);\n        } else if (this.state.status === undefined && settings.mic_default_on) {\n            // Start mic if backend config specifies, and there is no local setting\n            await this.enable();\n        }\n    }\n    getDevices() {\n        return getAudioDevices();\n    }\n    getStream(constraints) {\n        return getAudioStream(constraints, this.call.tracer);\n    }\n    async startSpeakingWhileMutedDetection(deviceId) {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            await this.stopSpeakingWhileMutedDetection();\n            if (isReactNative()) {\n                this.rnSpeechDetector = new RNSpeechDetector();\n                const unsubscribe = await this.rnSpeechDetector.start((event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n                this.soundDetectorCleanup = ()=>{\n                    unsubscribe();\n                    this.rnSpeechDetector = undefined;\n                };\n            } else {\n                // Need to start a new stream that's not connected to publisher\n                const stream = await this.getStream({\n                    deviceId: {\n                        exact: deviceId\n                    }\n                });\n                this.soundDetectorCleanup = createSoundDetector(stream, (event)=>{\n                    this.state.setSpeakingWhileMuted(event.isSoundDetected);\n                });\n            }\n        });\n    }\n    async stopSpeakingWhileMutedDetection() {\n        await withoutConcurrency(this.soundDetectorConcurrencyTag, async ()=>{\n            if (!this.soundDetectorCleanup) return;\n            const soundDetectorCleanup = this.soundDetectorCleanup;\n            this.soundDetectorCleanup = undefined;\n            this.state.setSpeakingWhileMuted(false);\n            await soundDetectorCleanup();\n        });\n    }\n}\nclass ScreenShareState extends InputMediaDeviceManagerState {\n    constructor(){\n        super(...arguments);\n        this.audioEnabledSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(true);\n        this.settingsSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(undefined);\n        /**\n         * An Observable that emits the current screen share audio status.\n         */ this.audioEnabled$ = this.audioEnabledSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        /**\n         * An Observable that emits the current screen share settings.\n         */ this.settings$ = this.settingsSubject.asObservable();\n        /**\n         * @internal\n         */ this.getDeviceIdFromStream = (stream)=>{\n            const [track] = stream.getTracks();\n            return track?.getSettings().deviceId;\n        };\n    }\n    /**\n     * The current screen share audio status.\n     */ get audioEnabled() {\n        return getCurrentValue(this.audioEnabled$);\n    }\n    /**\n     * Set the current screen share audio status.\n     */ setAudioEnabled(isEnabled) {\n        setCurrentValue(this.audioEnabledSubject, isEnabled);\n    }\n    /**\n     * The current screen share settings.\n     */ get settings() {\n        return getCurrentValue(this.settings$);\n    }\n    /**\n     * Set the current screen share settings.\n     *\n     * @param settings the screen share settings to set.\n     */ setSettings(settings) {\n        setCurrentValue(this.settingsSubject, settings);\n    }\n}\nclass ScreenShareManager extends InputMediaDeviceManager {\n    constructor(call){\n        super(call, new ScreenShareState(), TrackType.SCREEN_SHARE);\n        this.subscriptions.push(createSubscription(call.state.settings$, (settings)=>{\n            const maybeTargetResolution = settings?.screensharing.target_resolution;\n            if (maybeTargetResolution) {\n                this.setDefaultConstraints({\n                    video: {\n                        width: maybeTargetResolution.width,\n                        height: maybeTargetResolution.height\n                    }\n                });\n            }\n        }));\n    }\n    /**\n     * Will enable screen share audio options on supported platforms.\n     *\n     * Note: for ongoing screen share, audio won't be enabled until you\n     * re-publish the screen share stream.\n     */ enableScreenShareAudio() {\n        this.state.setAudioEnabled(true);\n    }\n    /**\n     * Will disable screen share audio options on supported platforms.\n     */ async disableScreenShareAudio() {\n        this.state.setAudioEnabled(false);\n        if (this.call.publisher?.isPublishing(TrackType.SCREEN_SHARE_AUDIO)) {\n            await this.call.stopPublish(TrackType.SCREEN_SHARE_AUDIO);\n        }\n    }\n    /**\n     * Returns the current screen share settings.\n     */ getSettings() {\n        return this.state.settings;\n    }\n    /**\n     * Sets the current screen share settings.\n     *\n     * @param settings the settings to set.\n     */ setSettings(settings) {\n        this.state.setSettings(settings);\n    }\n    getDevices() {\n        return (0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_29__.of)([]); // there are no devices to be listed for Screen Share\n    }\n    async getStream(constraints) {\n        if (!this.state.audioEnabled) {\n            constraints.audio = false;\n        }\n        const stream = await getScreenShareStream(constraints, this.call.tracer);\n        const [track] = stream.getVideoTracks();\n        const { contentHint } = this.state.settings || {};\n        if (typeof contentHint !== \"undefined\" && track && \"contentHint\" in track) {\n            this.call.tracer.trace(\"navigator.mediaDevices.getDisplayMedia.contentHint\", contentHint);\n            track.contentHint = contentHint;\n        }\n        return stream;\n    }\n    async stopPublishStream() {\n        return this.call.stopPublish(TrackType.SCREEN_SHARE, TrackType.SCREEN_SHARE_AUDIO);\n    }\n    /**\n     * Overrides the default `select` method to throw an error.\n     */ async select() {\n        throw new Error(\"Not supported\");\n    }\n}\nclass SpeakerState {\n    constructor(tracer){\n        this.selectedDeviceSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(\"\");\n        this.volumeSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(1);\n        /**\n         * [Tells if the browser supports audio output change on 'audio' elements](https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/setSinkId).\n         */ this.isDeviceSelectionSupported = checkIfAudioOutputChangeSupported();\n        this.tracer = tracer;\n        this.selectedDevice$ = this.selectedDeviceSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n        this.volume$ = this.volumeSubject.asObservable().pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_18__.distinctUntilChanged)());\n    }\n    /**\n     * The currently selected device\n     *\n     * Note: this feature is not supported in React Native\n     */ get selectedDevice() {\n        return getCurrentValue(this.selectedDevice$);\n    }\n    /**\n     * The currently selected volume\n     *\n     * Note: this feature is not supported in React Native\n     */ get volume() {\n        return getCurrentValue(this.volume$);\n    }\n    /**\n     * @internal\n     * @param deviceId\n     */ setDevice(deviceId) {\n        setCurrentValue(this.selectedDeviceSubject, deviceId);\n        this.tracer.trace(\"navigator.mediaDevices.setSinkId\", deviceId);\n    }\n    /**\n     * @internal\n     * @param volume\n     */ setVolume(volume) {\n        setCurrentValue(this.volumeSubject, volume);\n    }\n}\nclass SpeakerManager {\n    constructor(call){\n        this.subscriptions = [];\n        /**\n         * Disposes the manager.\n         *\n         * @internal\n         */ this.dispose = ()=>{\n            this.subscriptions.forEach((s)=>s.unsubscribe());\n        };\n        this.call = call;\n        this.state = new SpeakerState(call.tracer);\n        if (deviceIds$ && !isReactNative()) {\n            this.subscriptions.push((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_14__.combineLatest)([\n                deviceIds$,\n                this.state.selectedDevice$\n            ]).subscribe(([devices, deviceId])=>{\n                if (!deviceId) {\n                    return;\n                }\n                const device = devices.find((d)=>d.deviceId === deviceId && d.kind === \"audiooutput\");\n                if (!device) {\n                    this.select(\"\");\n                }\n            }));\n        }\n    }\n    /**\n     * Lists the available audio output devices\n     *\n     * Note: It prompts the user for a permission to use devices (if not already granted)\n     * Note: This method is not supported in React Native\n     *\n     * @returns an Observable that will be updated if a device is connected or disconnected\n     */ listDevices() {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        return getAudioOutputDevices();\n    }\n    /**\n     * Select a device.\n     *\n     * Note: This method is not supported in React Native\n     *\n     * @param deviceId empty string means the system default\n     */ select(deviceId) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        this.state.setDevice(deviceId);\n    }\n    /**\n     * Set the volume of the audio elements\n     * @param volume a number between 0 and 1.\n     *\n     * Note: This method is not supported in React Native\n     */ setVolume(volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1\");\n        }\n        this.state.setVolume(volume);\n    }\n    /**\n     * Set the volume of a participant.\n     *\n     * Note: This method is not supported in React Native.\n     *\n     * @param sessionId the participant's session id.\n     * @param volume a number between 0 and 1. Set it to `undefined` to use the default volume.\n     */ setParticipantVolume(sessionId, volume) {\n        if (isReactNative()) {\n            throw new Error(\"This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details\");\n        }\n        if (volume && (volume < 0 || volume > 1)) {\n            throw new Error(\"Volume must be between 0 and 1, or undefined\");\n        }\n        this.call.state.updateParticipant(sessionId, {\n            audioVolume: volume\n        });\n    }\n}\n/**\n * An object representation of a `Call`.\n */ class Call {\n    /**\n     * Constructs a new `Call` instance.\n     *\n     * NOTE: Don't call the constructor directly, instead\n     * Use the [`StreamVideoClient.call`](./StreamVideoClient.md/#call)\n     * method to construct a `Call` instance.\n     */ constructor({ type, id, streamClient, members, ownCapabilities, sortParticipantsBy, clientStore, ringing = false, watching = false }){\n        /**\n         * The state of this call.\n         */ this.state = new CallState();\n        /**\n         * The permissions context of this call.\n         */ this.permissionsContext = new PermissionsContext();\n        this.tracer = new Tracer(null);\n        /**\n         * The event dispatcher instance dedicated to this Call instance.\n         * @private\n         */ this.dispatcher = new Dispatcher();\n        this.statsReportingIntervalInMs = 2000;\n        this.sfuClientTag = 0;\n        this.reconnectConcurrencyTag = Symbol(\"reconnectConcurrencyTag\");\n        this.reconnectAttempts = 0;\n        this.reconnectStrategy = WebsocketReconnectStrategy.UNSPECIFIED;\n        this.reconnectReason = \"\";\n        this.fastReconnectDeadlineSeconds = 0;\n        this.disconnectionTimeoutSeconds = 0;\n        this.lastOfflineTimestamp = 0;\n        // maintain the order of publishing tracks to restore them after a reconnection\n        // it shouldn't contain duplicates\n        this.trackPublishOrder = [];\n        this.hasJoinedOnce = false;\n        this.deviceSettingsAppliedOnce = false;\n        this.initialized = false;\n        this.joinLeaveConcurrencyTag = Symbol(\"joinLeaveConcurrencyTag\");\n        /**\n         * A list hooks/functions to invoke when the call is left.\n         * A typical use case is to clean up some global event handlers.\n         * @private\n         */ this.leaveCallHooks = new Set();\n        this.streamClientEventHandlers = new Map();\n        /**\n         * Sets up the call instance.\n         *\n         * @internal an internal method and should not be used outside the SDK.\n         */ this.setup = async ()=>{\n            await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n                if (this.initialized) return;\n                this.leaveCallHooks.add(this.on(\"all\", (event)=>{\n                    // update state with the latest event data\n                    this.state.updateFromEvent(event);\n                }));\n                this.leaveCallHooks.add(this.on(\"changePublishOptions\", (event)=>{\n                    this.currentPublishOptions = event.publishOptions;\n                }));\n                this.leaveCallHooks.add(registerEventHandlers(this, this.dispatcher));\n                this.registerEffects();\n                this.registerReconnectHandlers();\n                if (this.state.callingState === CallingState.LEFT) {\n                    this.state.setCallingState(CallingState.IDLE);\n                }\n                this.initialized = true;\n            });\n        };\n        this.registerEffects = ()=>{\n            this.leaveCallHooks.add(// handles updating the permissions context when the settings change.\n            createSubscription(this.state.settings$, (settings)=>{\n                if (!settings) return;\n                this.permissionsContext.setCallSettings(settings);\n            }));\n            this.leaveCallHooks.add(// handle the case when the user permissions are modified.\n            createSafeAsyncSubscription(this.state.ownCapabilities$, this.handleOwnCapabilitiesUpdated));\n            this.leaveCallHooks.add(// handles the case when the user is blocked by the call owner.\n            createSubscription(this.state.blockedUserIds$, async (blockedUserIds)=>{\n                if (!blockedUserIds || blockedUserIds.length === 0) return;\n                const currentUserId = this.currentUserId;\n                if (currentUserId && blockedUserIds.includes(currentUserId)) {\n                    this.logger(\"info\", \"Leaving call because of being blocked\");\n                    await this.leave({\n                        message: \"user blocked\"\n                    }).catch((err)=>{\n                        this.logger(\"error\", \"Error leaving call after being blocked\", err);\n                    });\n                }\n            }));\n            this.leaveCallHooks.add(// cancel auto-drop when call is accepted or rejected\n            createSubscription(this.state.session$, (session)=>{\n                if (!this.ringing) return;\n                const receiverId = this.clientStore.connectedUser?.id;\n                if (!receiverId) return;\n                const isAcceptedByMe = Boolean(session?.accepted_by[receiverId]);\n                const isRejectedByMe = Boolean(session?.rejected_by[receiverId]);\n                if (isAcceptedByMe || isRejectedByMe) {\n                    this.cancelAutoDrop();\n                }\n                const isAcceptedElsewhere = isAcceptedByMe && this.state.callingState === CallingState.RINGING;\n                if ((isAcceptedElsewhere || isRejectedByMe) && !hasPending(this.joinLeaveConcurrencyTag)) {\n                    this.leave().catch(()=>{\n                        this.logger(\"error\", \"Could not leave a call that was accepted or rejected elsewhere\");\n                    });\n                }\n            }));\n            this.leaveCallHooks.add(// \"ringing\" mode effects and event handlers\n            createSubscription(this.ringingSubject, (isRinging)=>{\n                if (!isRinging) return;\n                const callSession = this.state.session;\n                const receiver_id = this.clientStore.connectedUser?.id;\n                const ended_at = callSession?.ended_at;\n                const created_by_id = this.state.createdBy?.id;\n                const rejected_by = callSession?.rejected_by;\n                const accepted_by = callSession?.accepted_by;\n                let leaveCallIdle = false;\n                if (ended_at) {\n                    // call was ended before it was accepted or rejected so we should leave it to idle\n                    leaveCallIdle = true;\n                } else if (created_by_id && rejected_by) {\n                    if (rejected_by[created_by_id]) {\n                        // call was cancelled by the caller\n                        leaveCallIdle = true;\n                    }\n                } else if (receiver_id && rejected_by) {\n                    if (rejected_by[receiver_id]) {\n                        // call was rejected by the receiver in some other device\n                        leaveCallIdle = true;\n                    }\n                } else if (receiver_id && accepted_by) {\n                    if (accepted_by[receiver_id]) {\n                        // call was accepted by the receiver in some other device\n                        leaveCallIdle = true;\n                    }\n                }\n                if (leaveCallIdle) {\n                    if (this.state.callingState !== CallingState.IDLE) {\n                        this.state.setCallingState(CallingState.IDLE);\n                    }\n                } else {\n                    if (this.state.callingState === CallingState.IDLE) {\n                        this.state.setCallingState(CallingState.RINGING);\n                    }\n                    this.scheduleAutoDrop();\n                    this.leaveCallHooks.add(registerRingingCallEventHandlers(this));\n                }\n            }));\n        };\n        this.handleOwnCapabilitiesUpdated = async (ownCapabilities)=>{\n            // update the permission context.\n            this.permissionsContext.setPermissions(ownCapabilities);\n            if (!this.publisher) return;\n            // check if the user still has publishing permissions and stop publishing if not.\n            const permissionToTrackType = {\n                [OwnCapability.SEND_AUDIO]: TrackType.AUDIO,\n                [OwnCapability.SEND_VIDEO]: TrackType.VIDEO,\n                [OwnCapability.SCREENSHARE]: TrackType.SCREEN_SHARE\n            };\n            for (const [permission, trackType] of Object.entries(permissionToTrackType)){\n                const hasPermission = this.permissionsContext.hasPermission(permission);\n                if (hasPermission) continue;\n                try {\n                    switch(trackType){\n                        case TrackType.AUDIO:\n                            if (this.microphone.enabled) await this.microphone.disable();\n                            break;\n                        case TrackType.VIDEO:\n                            if (this.camera.enabled) await this.camera.disable();\n                            break;\n                        case TrackType.SCREEN_SHARE:\n                            if (this.screenShare.enabled) await this.screenShare.disable();\n                            break;\n                    }\n                } catch (err) {\n                    this.logger(\"error\", `Can't disable mic/camera/screenshare after revoked permissions`, err);\n                }\n            }\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API. To remove a subscription, call the `off` method.\n         * Please note that subscribing to WebSocket events is an advanced use-case.\n         * For most use-cases, it should be enough to watch for state changes.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.on = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.on(eventName, fn);\n            }\n            const offHandler = this.streamClient.on(eventName, (e)=>{\n                const event = e;\n                if (event.call_cid && event.call_cid === this.cid) {\n                    fn(event);\n                }\n            });\n            // keep the 'off' reference returned by the stream client\n            this.streamClientEventHandlers.set(fn, offHandler);\n            return ()=>{\n                this.off(eventName, fn);\n            };\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param fn the event handler.\n         */ this.off = (eventName, fn)=>{\n            if (isSfuEvent(eventName)) {\n                return this.dispatcher.off(eventName, fn);\n            }\n            // unsubscribe from the stream client event by using the 'off' reference\n            const registeredOffHandler = this.streamClientEventHandlers.get(fn);\n            if (registeredOffHandler) {\n                registeredOffHandler();\n            }\n        };\n        /**\n         * Leave the call and stop the media streams that were published by the call.\n         */ this.leave = async ({ reject, reason, message } = {})=>{\n            if (this.state.callingState === CallingState.LEFT) {\n                throw new Error(\"Cannot leave call that has already been left.\");\n            }\n            await withoutConcurrency(this.joinLeaveConcurrencyTag, async ()=>{\n                const callingState = this.state.callingState;\n                if (callingState === CallingState.LEFT) {\n                    return;\n                }\n                if (callingState === CallingState.JOINING) {\n                    const waitUntilCallJoined = ()=>{\n                        return new Promise((resolve)=>{\n                            this.state.callingState$.pipe((0,_barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_19__.takeWhile)((state)=>state !== CallingState.JOINED, true)).subscribe(()=>resolve());\n                        });\n                    };\n                    await waitUntilCallJoined();\n                }\n                if (callingState === CallingState.RINGING && reject !== false) {\n                    if (reject) {\n                        await this.reject(reason ?? \"decline\");\n                    } else {\n                        // if reject was undefined, we still have to cancel the call automatically\n                        // when I am the creator and everyone else left the call\n                        const hasOtherParticipants = this.state.remoteParticipants.length > 0;\n                        if (this.isCreatedByMe && !hasOtherParticipants) {\n                            await this.reject(\"cancel\");\n                        }\n                    }\n                }\n                this.statsReporter?.stop();\n                this.statsReporter = undefined;\n                this.sfuStatsReporter?.flush();\n                this.sfuStatsReporter?.stop();\n                this.sfuStatsReporter = undefined;\n                this.subscriber?.dispose();\n                this.subscriber = undefined;\n                this.publisher?.dispose();\n                this.publisher = undefined;\n                await this.sfuClient?.leaveAndClose(message ?? reason ?? \"user is leaving the call\");\n                this.sfuClient = undefined;\n                this.dynascaleManager.setSfuClient(undefined);\n                await this.dynascaleManager.dispose();\n                this.state.setCallingState(CallingState.LEFT);\n                this.state.setParticipants([]);\n                this.state.dispose();\n                // Call all leave call hooks, e.g. to clean up global event handlers\n                this.leaveCallHooks.forEach((hook)=>hook());\n                this.initialized = false;\n                this.hasJoinedOnce = false;\n                this.unifiedSessionId = undefined;\n                this.ringingSubject.next(false);\n                this.cancelAutoDrop();\n                this.clientStore.unregisterCall(this);\n                this.camera.dispose();\n                this.microphone.dispose();\n                this.screenShare.dispose();\n                this.speaker.dispose();\n                const stopOnLeavePromises = [];\n                if (this.camera.stopOnLeave) {\n                    stopOnLeavePromises.push(this.camera.disable(true));\n                }\n                if (this.microphone.stopOnLeave) {\n                    stopOnLeavePromises.push(this.microphone.disable(true));\n                }\n                if (this.screenShare.stopOnLeave) {\n                    stopOnLeavePromises.push(this.screenShare.disable(true));\n                }\n                await Promise.all(stopOnLeavePromises);\n            });\n        };\n        /**\n         * Update from the call response from the \"call.ring\" event\n         * @internal\n         */ this.updateFromRingingEvent = async (event)=>{\n            await this.setup();\n            // call.ring event excludes the call creator in the members list\n            // as the creator does not get the ring event\n            // so update the member list accordingly\n            const { created_by, settings } = event.call;\n            const creator = this.state.members.find((m)=>m.user.id === created_by.id);\n            if (!creator) {\n                this.state.setMembers(event.members);\n            } else {\n                this.state.setMembers([\n                    creator,\n                    ...event.members\n                ]);\n            }\n            // update the call state with the latest event data\n            this.state.updateFromCallResponse(event.call);\n            this.watching = true;\n            this.ringingSubject.next(true);\n            // we remove the instance from the calls list to enable the following filter in useCalls hook\n            // const calls = useCalls().filter((c) => c.ringing);\n            const calls = this.clientStore.calls.filter((c)=>c.cid !== this.cid);\n            this.clientStore.setCalls([\n                this,\n                ...calls\n            ]);\n            await this.applyDeviceConfig(settings, false);\n        };\n        /**\n         * Loads the information about the call.\n         *\n         * @param params.ring if set to true, a `call.ring` event will be sent to the call members.\n         * @param params.notify if set to true, a `call.notification` event will be sent to the call members.\n         * @param params.members_limit the total number of members to return as part of the response.\n         */ this.get = async (params)=>{\n            await this.setup();\n            const response = await this.streamClient.get(this.streamClientBasePath, params);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (params?.ring) {\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(response.call.settings, false);\n            return response;\n        };\n        /**\n         * Loads the information about the call and creates it if it doesn't exist.\n         *\n         * @param data the data to create the call with.\n         */ this.getOrCreate = async (data)=>{\n            await this.setup();\n            const response = await this.streamClient.post(this.streamClientBasePath, data);\n            this.state.updateFromCallResponse(response.call);\n            this.state.setMembers(response.members);\n            this.state.setOwnCapabilities(response.own_capabilities);\n            if (data?.ring) {\n                this.ringingSubject.next(true);\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            await this.applyDeviceConfig(response.call.settings, false);\n            return response;\n        };\n        /**\n         * Creates a call\n         *\n         * @param data the data to create the call with.\n         */ this.create = async (data)=>{\n            return this.getOrCreate(data);\n        };\n        /**\n         * Deletes the call.\n         */ this.delete = async (data = {})=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/delete`, data);\n        };\n        /**\n         * A shortcut for {@link Call.get} with `ring` parameter set to `true`.\n         * Will send a `call.ring` event to the call members.\n         */ this.ring = async ()=>{\n            return await this.get({\n                ring: true\n            });\n        };\n        /**\n         * A shortcut for {@link Call.get} with `notify` parameter set to `true`.\n         * Will send a `call.notification` event to the call members.\n         */ this.notify = async ()=>{\n            return await this.get({\n                notify: true\n            });\n        };\n        /**\n         * Marks the incoming call as accepted.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.join} invokes this method automatically for you when joining a call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         */ this.accept = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/accept`);\n        };\n        /**\n         * Marks the incoming call as rejected.\n         *\n         * This method should be used only for \"ringing\" call flows.\n         * {@link Call.leave} invokes this method automatically for you when you leave or reject this call.\n         * Unless you are implementing a custom \"ringing\" flow, you should not use this method.\n         *\n         * @param reason the reason for rejecting the call.\n         */ this.reject = async (reason = \"decline\")=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reject`, {\n                reason: reason\n            });\n        };\n        /**\n         * Will start to watch for call related WebSocket events and initiate a call session with the server.\n         *\n         * @returns a promise which resolves once the call join-flow has finished.\n         */ this.join = async ({ maxJoinRetries = 3, ...data } = {})=>{\n            await this.setup();\n            const callingState = this.state.callingState;\n            if ([\n                CallingState.JOINED,\n                CallingState.JOINING\n            ].includes(callingState)) {\n                throw new Error(`Illegal State: call.join() shall be called only once`);\n            }\n            this.state.setCallingState(CallingState.JOINING);\n            maxJoinRetries = Math.max(maxJoinRetries, 1);\n            for(let attempt = 0; attempt < maxJoinRetries; attempt++){\n                try {\n                    this.logger(\"trace\", `Joining call (${attempt})`, this.cid);\n                    return await this.doJoin(data);\n                } catch (err) {\n                    this.logger(\"warn\", `Failed to join call (${attempt})`, this.cid);\n                    if (attempt === maxJoinRetries - 1) {\n                        // restore the previous call state if the join-flow fails\n                        this.state.setCallingState(callingState);\n                        throw err;\n                    }\n                }\n                await sleep(retryInterval(attempt));\n            }\n        };\n        /**\n         * Will make a single attempt to watch for call related WebSocket events\n         * and initiate a call session with the server.\n         *\n         * @returns a promise which resolves once the call join-flow has finished.\n         */ this.doJoin = async (data)=>{\n            const connectStartTime = Date.now();\n            const callingState = this.state.callingState;\n            this.joinCallData = data;\n            this.logger(\"debug\", \"Starting join flow\");\n            this.state.setCallingState(CallingState.JOINING);\n            const performingMigration = this.reconnectStrategy === WebsocketReconnectStrategy.MIGRATE;\n            const performingRejoin = this.reconnectStrategy === WebsocketReconnectStrategy.REJOIN;\n            const performingFastReconnect = this.reconnectStrategy === WebsocketReconnectStrategy.FAST;\n            let statsOptions = this.sfuStatsReporter?.options;\n            if (!this.credentials || !statsOptions || performingRejoin || performingMigration) {\n                try {\n                    const joinResponse = await this.doJoinRequest(data);\n                    this.credentials = joinResponse.credentials;\n                    statsOptions = joinResponse.stats_options;\n                } catch (error) {\n                    // prevent triggering reconnect flow if the state is OFFLINE\n                    const avoidRestoreState = this.state.callingState === CallingState.OFFLINE;\n                    if (!avoidRestoreState) {\n                        // restore the previous call state if the join-flow fails\n                        this.state.setCallingState(callingState);\n                    }\n                    throw error;\n                }\n            }\n            const previousSfuClient = this.sfuClient;\n            const previousSessionId = previousSfuClient?.sessionId;\n            const isWsHealthy = !!previousSfuClient?.isHealthy;\n            const sfuClient = performingRejoin || performingMigration || !isWsHealthy ? new StreamSfuClient({\n                logTag: String(++this.sfuClientTag),\n                dispatcher: this.dispatcher,\n                credentials: this.credentials,\n                streamClient: this.streamClient,\n                enableTracing: statsOptions.enable_rtc_stats,\n                // a new session_id is necessary for the REJOIN strategy.\n                // we use the previous session_id if available\n                sessionId: performingRejoin ? undefined : previousSessionId,\n                onSignalClose: (reason)=>this.handleSfuSignalClose(sfuClient, reason)\n            }) : previousSfuClient;\n            this.sfuClient = sfuClient;\n            this.dynascaleManager.setSfuClient(sfuClient);\n            const clientDetails = await getClientDetails();\n            // we don't need to send JoinRequest if we are re-using an existing healthy SFU client\n            if (previousSfuClient !== sfuClient) {\n                // prepare a generic SDP and send it to the SFU.\n                // these are throw-away SDPs that the SFU will use to determine\n                // the capabilities of the client (codec support, etc.)\n                const [subscriberSdp, publisherSdp] = await Promise.all([\n                    getGenericSdp(\"recvonly\"),\n                    getGenericSdp(\"sendonly\")\n                ]);\n                const isReconnecting = this.reconnectStrategy !== WebsocketReconnectStrategy.UNSPECIFIED;\n                const reconnectDetails = isReconnecting ? this.getReconnectDetails(data?.migrating_from, previousSessionId) : undefined;\n                const preferredPublishOptions = !isReconnecting ? this.getPreferredPublishOptions() : this.currentPublishOptions || [];\n                const preferredSubscribeOptions = !isReconnecting ? this.getPreferredSubscribeOptions() : [];\n                try {\n                    const { callState, fastReconnectDeadlineSeconds, publishOptions } = await sfuClient.join({\n                        subscriberSdp,\n                        publisherSdp,\n                        clientDetails,\n                        fastReconnect: performingFastReconnect,\n                        reconnectDetails,\n                        preferredPublishOptions,\n                        preferredSubscribeOptions\n                    });\n                    this.currentPublishOptions = publishOptions;\n                    this.fastReconnectDeadlineSeconds = fastReconnectDeadlineSeconds;\n                    if (callState) {\n                        this.state.updateFromSfuCallState(callState, sfuClient.sessionId, reconnectDetails);\n                    }\n                } catch (error) {\n                    this.logger(\"warn\", \"Join SFU request failed\", error);\n                    sfuClient.close(StreamSfuClient.JOIN_FAILED, \"Join request failed, connection considered unhealthy\");\n                    // restore the previous call state if the join-flow fails\n                    this.state.setCallingState(callingState);\n                    throw error;\n                }\n            }\n            if (!performingMigration) {\n                // in MIGRATION, `JOINED` state is set in `this.reconnectMigrate()`\n                this.state.setCallingState(CallingState.JOINED);\n            }\n            this.hasJoinedOnce = true;\n            // when performing fast reconnect, or when we reuse the same SFU client,\n            // (ws remained healthy), we just need to restore the ICE connection\n            if (performingFastReconnect) {\n                // the SFU automatically issues an ICE restart on the subscriber\n                // we don't have to do it ourselves\n                await this.restoreICE(sfuClient, {\n                    includeSubscriber: false\n                });\n            } else {\n                const connectionConfig = toRtcConfiguration(this.credentials.ice_servers);\n                this.initPublisherAndSubscriber({\n                    sfuClient,\n                    connectionConfig,\n                    clientDetails,\n                    statsOptions,\n                    publishOptions: this.currentPublishOptions || [],\n                    closePreviousInstances: !performingMigration\n                });\n            }\n            // make sure we only track connection timing if we are not calling this method as part of a reconnection flow\n            if (!performingRejoin && !performingFastReconnect && !performingMigration) {\n                this.sfuStatsReporter?.sendConnectionTime((Date.now() - connectStartTime) / 1000);\n            }\n            if (performingRejoin && isWsHealthy) {\n                const strategy = WebsocketReconnectStrategy[this.reconnectStrategy];\n                await previousSfuClient?.leaveAndClose(`Closing previous WS after reconnect with strategy: ${strategy}`);\n            } else if (!isWsHealthy) {\n                previousSfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, \"Closing unhealthy WS after reconnect\");\n            }\n            // device settings should be applied only once, we don't have to\n            // re-apply them on later reconnections or server-side data fetches\n            if (!this.deviceSettingsAppliedOnce && this.state.settings) {\n                await this.applyDeviceConfig(this.state.settings, true);\n                this.deviceSettingsAppliedOnce = true;\n            }\n            // We shouldn't persist the `ring` and `notify` state after joining the call\n            // as it's a one-time event and clashes with the potential reconnection attempts.\n            // When reconnecting, if provided with `ring: true` or `notify: true`,\n            // we will spam the other participants with push notifications and `call.ring` events.\n            delete this.joinCallData?.ring;\n            delete this.joinCallData?.notify;\n            // reset the reconnect strategy to unspecified after a successful reconnection\n            this.reconnectStrategy = WebsocketReconnectStrategy.UNSPECIFIED;\n            this.reconnectReason = \"\";\n            this.logger(\"info\", `Joined call ${this.cid}`);\n        };\n        /**\n         * Prepares Reconnect Details object.\n         * @internal\n         */ this.getReconnectDetails = (migratingFromSfuId, previousSessionId)=>{\n            const strategy = this.reconnectStrategy;\n            const performingRejoin = strategy === WebsocketReconnectStrategy.REJOIN;\n            const announcedTracks = this.publisher?.getAnnouncedTracksForReconnect() || [];\n            return {\n                strategy,\n                announcedTracks,\n                subscriptions: this.dynascaleManager.trackSubscriptions,\n                reconnectAttempt: this.reconnectAttempts,\n                fromSfuId: migratingFromSfuId || \"\",\n                previousSessionId: performingRejoin ? previousSessionId || \"\" : \"\",\n                reason: this.reconnectReason\n            };\n        };\n        /**\n         * Prepares the preferred codec for the call.\n         * This is an experimental client feature and subject to change.\n         * @internal\n         */ this.getPreferredPublishOptions = ()=>{\n            const { preferredCodec, fmtpLine, preferredBitrate, maxSimulcastLayers } = this.clientPublishOptions || {};\n            if (!preferredCodec && !preferredBitrate && !maxSimulcastLayers) return [];\n            const codec = preferredCodec ? Codec.create({\n                name: preferredCodec.split(\"/\").pop(),\n                fmtp: fmtpLine\n            }) : undefined;\n            const preferredPublishOptions = [\n                PublishOption.create({\n                    trackType: TrackType.VIDEO,\n                    codec,\n                    bitrate: preferredBitrate,\n                    maxSpatialLayers: maxSimulcastLayers\n                })\n            ];\n            const screenShareSettings = this.screenShare.getSettings();\n            if (screenShareSettings) {\n                preferredPublishOptions.push(PublishOption.create({\n                    trackType: TrackType.SCREEN_SHARE,\n                    fps: screenShareSettings.maxFramerate,\n                    bitrate: screenShareSettings.maxBitrate\n                }));\n            }\n            return preferredPublishOptions;\n        };\n        /**\n         * Prepares the preferred options for subscribing to tracks.\n         * This is an experimental client feature and subject to change.\n         * @internal\n         */ this.getPreferredSubscribeOptions = ()=>{\n            const { subscriberCodec, subscriberFmtpLine } = this.clientPublishOptions || {};\n            if (!subscriberCodec || !subscriberFmtpLine) return [];\n            return [\n                SubscribeOption.create({\n                    trackType: TrackType.VIDEO,\n                    codecs: [\n                        {\n                            name: subscriberCodec.split(\"/\").pop(),\n                            fmtp: subscriberFmtpLine\n                        }\n                    ]\n                })\n            ];\n        };\n        /**\n         * Performs an ICE restart on both the Publisher and Subscriber Peer Connections.\n         * Uses the provided SFU client to restore the ICE connection.\n         *\n         * This method can throw an error if the ICE restart fails.\n         * This error should be handled by the reconnect loop,\n         * and a new reconnection shall be attempted.\n         *\n         * @internal\n         */ this.restoreICE = async (nextSfuClient, opts = {})=>{\n            const { includeSubscriber = true, includePublisher = true } = opts;\n            if (this.subscriber) {\n                this.subscriber.setSfuClient(nextSfuClient);\n                if (includeSubscriber) {\n                    await this.subscriber.restartIce();\n                }\n            }\n            if (this.publisher) {\n                this.publisher.setSfuClient(nextSfuClient);\n                if (includePublisher && this.publisher.isPublishing()) {\n                    await this.publisher.restartIce();\n                }\n            }\n        };\n        /**\n         * Initializes the Publisher and Subscriber Peer Connections.\n         * @internal\n         */ this.initPublisherAndSubscriber = (opts)=>{\n            const { sfuClient, connectionConfig, clientDetails, statsOptions, publishOptions, closePreviousInstances } = opts;\n            const { enable_rtc_stats: enableTracing } = statsOptions;\n            if (closePreviousInstances && this.subscriber) {\n                this.subscriber.dispose();\n            }\n            this.subscriber = new Subscriber({\n                sfuClient,\n                dispatcher: this.dispatcher,\n                state: this.state,\n                connectionConfig,\n                logTag: String(this.sfuClientTag),\n                enableTracing,\n                onReconnectionNeeded: (kind, reason)=>{\n                    this.reconnect(kind, reason).catch((err)=>{\n                        const message = `[Reconnect] Error reconnecting after a subscriber error: ${reason}`;\n                        this.logger(\"warn\", message, err);\n                    });\n                }\n            });\n            // anonymous users can't publish anything hence, there is no need\n            // to create Publisher Peer Connection for them\n            const isAnonymous = this.streamClient.user?.type === \"anonymous\";\n            if (!isAnonymous) {\n                if (closePreviousInstances && this.publisher) {\n                    this.publisher.dispose();\n                }\n                this.publisher = new Publisher({\n                    sfuClient,\n                    dispatcher: this.dispatcher,\n                    state: this.state,\n                    connectionConfig,\n                    publishOptions,\n                    logTag: String(this.sfuClientTag),\n                    enableTracing,\n                    onReconnectionNeeded: (kind, reason)=>{\n                        this.reconnect(kind, reason).catch((err)=>{\n                            const message = `[Reconnect] Error reconnecting after a publisher error: ${reason}`;\n                            this.logger(\"warn\", message, err);\n                        });\n                    }\n                });\n            }\n            this.statsReporter?.stop();\n            if (this.statsReportingIntervalInMs > 0) {\n                this.statsReporter = createStatsReporter({\n                    subscriber: this.subscriber,\n                    publisher: this.publisher,\n                    state: this.state,\n                    datacenter: sfuClient.edgeName,\n                    pollingIntervalInMs: this.statsReportingIntervalInMs\n                });\n            }\n            this.tracer.setEnabled(enableTracing);\n            this.sfuStatsReporter?.stop();\n            if (statsOptions?.reporting_interval_ms > 0) {\n                this.unifiedSessionId ?? (this.unifiedSessionId = sfuClient.sessionId);\n                this.sfuStatsReporter = new SfuStatsReporter(sfuClient, {\n                    clientDetails,\n                    options: statsOptions,\n                    subscriber: this.subscriber,\n                    publisher: this.publisher,\n                    microphone: this.microphone,\n                    camera: this.camera,\n                    state: this.state,\n                    tracer: this.tracer,\n                    unifiedSessionId: this.unifiedSessionId\n                });\n                this.sfuStatsReporter.start();\n            }\n        };\n        /**\n         * Retrieves credentials for joining the call.\n         *\n         * @internal\n         *\n         * @param data the join call data.\n         */ this.doJoinRequest = async (data)=>{\n            const location = await this.streamClient.getLocationHint();\n            const request = {\n                ...data,\n                location\n            };\n            const joinResponse = await this.streamClient.post(`${this.streamClientBasePath}/join`, request);\n            this.state.updateFromCallResponse(joinResponse.call);\n            this.state.setMembers(joinResponse.members);\n            this.state.setOwnCapabilities(joinResponse.own_capabilities);\n            if (data?.ring) {\n                this.ringingSubject.next(true);\n            }\n            const isReconnecting = this.reconnectStrategy !== WebsocketReconnectStrategy.UNSPECIFIED;\n            if (!isReconnecting && this.ringing && !this.isCreatedByMe) {\n                // signals other users that I have accepted the incoming call.\n                await this.accept();\n            }\n            if (this.streamClient._hasConnectionID()) {\n                this.watching = true;\n                this.clientStore.registerCall(this);\n            }\n            return joinResponse;\n        };\n        /**\n         * Handles the closing of the SFU signal connection.\n         *\n         * @internal\n         * @param sfuClient the SFU client instance that was closed.\n         * @param reason the reason for the closure.\n         */ this.handleSfuSignalClose = (sfuClient, reason)=>{\n            this.logger(\"debug\", \"[Reconnect] SFU signal connection closed\");\n            const { callingState } = this.state;\n            if (// SFU WS closed before we finished current join,\n            // no need to schedule reconnecting\n            callingState === CallingState.JOINING || // we are already in the process of reconnecting,\n            // no need to schedule another one\n            callingState === CallingState.RECONNECTING || // SFU WS closed as a result of unsuccessful join,\n            // and no further retries need to be made\n            callingState === CallingState.IDLE || callingState === CallingState.LEFT) return;\n            // normal close, no need to reconnect\n            if (sfuClient.isLeaving || sfuClient.isClosingClean) return;\n            const strategy = this.publisher?.isHealthy() && this.subscriber?.isHealthy() ? WebsocketReconnectStrategy.FAST : WebsocketReconnectStrategy.REJOIN;\n            this.reconnect(strategy, reason).catch((err)=>{\n                this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n            });\n        };\n        /**\n         * Handles the reconnection flow.\n         *\n         * @internal\n         *\n         * @param strategy the reconnection strategy to use.\n         * @param reason the reason for the reconnection.\n         */ this.reconnect = async (strategy, reason)=>{\n            if (this.state.callingState === CallingState.RECONNECTING || this.state.callingState === CallingState.MIGRATING || this.state.callingState === CallingState.RECONNECTING_FAILED) return;\n            return withoutConcurrency(this.reconnectConcurrencyTag, async ()=>{\n                const reconnectStartTime = Date.now();\n                this.reconnectStrategy = strategy;\n                this.reconnectReason = reason;\n                let attempt = 0;\n                do {\n                    const reconnectingTime = Date.now() - reconnectStartTime;\n                    const shouldGiveUpReconnecting = this.disconnectionTimeoutSeconds > 0 && reconnectingTime / 1000 > this.disconnectionTimeoutSeconds;\n                    if (shouldGiveUpReconnecting) {\n                        this.logger(\"warn\", \"[Reconnect] Stopping reconnection attempts after reaching disconnection timeout\");\n                        this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                        return;\n                    }\n                    // we don't increment reconnect attempts for the FAST strategy.\n                    if (this.reconnectStrategy !== WebsocketReconnectStrategy.FAST) {\n                        this.reconnectAttempts++;\n                    }\n                    const currentStrategy = WebsocketReconnectStrategy[this.reconnectStrategy];\n                    try {\n                        // wait until the network is available\n                        await this.networkAvailableTask?.promise;\n                        this.logger(\"info\", `[Reconnect] Reconnecting with strategy ${WebsocketReconnectStrategy[this.reconnectStrategy]}`);\n                        switch(this.reconnectStrategy){\n                            case WebsocketReconnectStrategy.UNSPECIFIED:\n                            case WebsocketReconnectStrategy.DISCONNECT:\n                                this.logger(\"debug\", `[Reconnect] No-op strategy ${currentStrategy}`);\n                                break;\n                            case WebsocketReconnectStrategy.FAST:\n                                await this.reconnectFast();\n                                break;\n                            case WebsocketReconnectStrategy.REJOIN:\n                                await this.reconnectRejoin();\n                                break;\n                            case WebsocketReconnectStrategy.MIGRATE:\n                                await this.reconnectMigrate();\n                                break;\n                            default:\n                                ensureExhausted(this.reconnectStrategy, \"Unknown reconnection strategy\");\n                                break;\n                        }\n                        break; // do-while loop, reconnection worked, exit the loop\n                    } catch (error) {\n                        if (this.state.callingState === CallingState.OFFLINE) {\n                            this.logger(\"debug\", `[Reconnect] Can't reconnect while offline, stopping reconnection attempts`);\n                            break;\n                        // we don't need to handle the error if the call is offline\n                        // network change event will trigger the reconnection\n                        }\n                        if (error instanceof ErrorFromResponse && error.unrecoverable) {\n                            this.logger(\"warn\", `[Reconnect] Can't reconnect due to coordinator unrecoverable error`, error);\n                            this.state.setCallingState(CallingState.RECONNECTING_FAILED);\n                            return;\n                        }\n                        await sleep(500);\n                        const wasMigrating = this.reconnectStrategy === WebsocketReconnectStrategy.MIGRATE;\n                        const mustPerformRejoin = (Date.now() - reconnectStartTime) / 1000 > this.fastReconnectDeadlineSeconds;\n                        // don't immediately switch to the REJOIN strategy, but instead attempt\n                        // to reconnect with the FAST strategy for a few times before switching.\n                        // in some cases, we immediately switch to the REJOIN strategy.\n                        const shouldRejoin = mustPerformRejoin || // if we are past the fast reconnect deadline\n                        wasMigrating || // if we were migrating, but the migration failed\n                        attempt >= 3 || // after 3 failed attempts\n                        !(this.publisher?.isHealthy() ?? true) || // if the publisher is not healthy\n                        !(this.subscriber?.isHealthy() ?? true); // if the subscriber is not healthy\n                        attempt++;\n                        const nextStrategy = shouldRejoin ? WebsocketReconnectStrategy.REJOIN : WebsocketReconnectStrategy.FAST;\n                        this.reconnectStrategy = nextStrategy;\n                        this.logger(\"info\", `[Reconnect] ${currentStrategy} (${this.reconnectAttempts}) failed. Attempting with ${WebsocketReconnectStrategy[nextStrategy]}`, error);\n                    }\n                }while (this.state.callingState !== CallingState.JOINED && this.state.callingState !== CallingState.RECONNECTING_FAILED && this.state.callingState !== CallingState.LEFT);\n                this.logger(\"info\", \"[Reconnect] Reconnection flow finished\");\n            });\n        };\n        /**\n         * Initiates the reconnection flow with the \"fast\" strategy.\n         * @internal\n         */ this.reconnectFast = async ()=>{\n            const reconnectStartTime = Date.now();\n            this.reconnectStrategy = WebsocketReconnectStrategy.FAST;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            await this.doJoin(this.joinCallData);\n            this.sfuStatsReporter?.sendReconnectionTime(WebsocketReconnectStrategy.FAST, (Date.now() - reconnectStartTime) / 1000);\n        };\n        /**\n         * Initiates the reconnection flow with the \"rejoin\" strategy.\n         * @internal\n         */ this.reconnectRejoin = async ()=>{\n            const reconnectStartTime = Date.now();\n            this.reconnectStrategy = WebsocketReconnectStrategy.REJOIN;\n            this.state.setCallingState(CallingState.RECONNECTING);\n            await this.doJoin(this.joinCallData);\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n            this.sfuStatsReporter?.sendReconnectionTime(WebsocketReconnectStrategy.REJOIN, (Date.now() - reconnectStartTime) / 1000);\n        };\n        /**\n         * Initiates the reconnection flow with the \"migrate\" strategy.\n         * @internal\n         */ this.reconnectMigrate = async ()=>{\n            const reconnectStartTime = Date.now();\n            const currentSfuClient = this.sfuClient;\n            if (!currentSfuClient) {\n                throw new Error(\"Cannot migrate without an active SFU client\");\n            }\n            this.reconnectStrategy = WebsocketReconnectStrategy.MIGRATE;\n            this.state.setCallingState(CallingState.MIGRATING);\n            const currentSubscriber = this.subscriber;\n            const currentPublisher = this.publisher;\n            currentSubscriber?.detachEventHandlers();\n            currentPublisher?.detachEventHandlers();\n            const migrationTask = makeSafePromise(currentSfuClient.enterMigration());\n            try {\n                const currentSfu = currentSfuClient.edgeName;\n                await this.doJoin({\n                    ...this.joinCallData,\n                    migrating_from: currentSfu\n                });\n            } finally{\n                // cleanup the migration_from field after the migration is complete or failed\n                // as we don't want to keep dirty data in the join call data\n                delete this.joinCallData?.migrating_from;\n            }\n            await this.restorePublishedTracks();\n            this.restoreSubscribedTracks();\n            try {\n                // Wait for the migration to complete, then close the previous SFU client\n                // and the peer connection instances. In case of failure, the migration\n                // task would throw an error and REJOIN would be attempted.\n                await migrationTask();\n                // in MIGRATE, we can consider the call as joined only after\n                // `participantMigrationComplete` event is received, signaled by\n                // the `migrationTask`\n                this.state.setCallingState(CallingState.JOINED);\n            } finally{\n                currentSubscriber?.dispose();\n                currentPublisher?.dispose();\n                // and close the previous SFU client, without specifying close code\n                currentSfuClient.close(StreamSfuClient.NORMAL_CLOSURE, \"Migrating away\");\n            }\n            this.sfuStatsReporter?.sendReconnectionTime(WebsocketReconnectStrategy.MIGRATE, (Date.now() - reconnectStartTime) / 1000);\n        };\n        /**\n         * Registers the various event handlers for reconnection.\n         *\n         * @internal\n         */ this.registerReconnectHandlers = ()=>{\n            // handles the legacy \"goAway\" event\n            const unregisterGoAway = this.on(\"goAway\", ()=>{\n                this.reconnect(WebsocketReconnectStrategy.MIGRATE, \"goAway\").catch((err)=>this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err));\n            });\n            // handles the \"error\" event, through which the SFU can request a reconnect\n            const unregisterOnError = this.on(\"error\", (e)=>{\n                const { reconnectStrategy: strategy, error } = e;\n                if (strategy === WebsocketReconnectStrategy.UNSPECIFIED) return;\n                if (strategy === WebsocketReconnectStrategy.DISCONNECT) {\n                    this.leave({\n                        message: \"SFU instructed to disconnect\"\n                    }).catch((err)=>{\n                        this.logger(\"warn\", `Can't leave call after disconnect request`, err);\n                    });\n                } else {\n                    this.reconnect(strategy, error?.message || \"SFU Error\").catch((err)=>{\n                        this.logger(\"warn\", \"[Reconnect] Error reconnecting\", err);\n                    });\n                }\n            });\n            const unregisterNetworkChanged = this.streamClient.on(\"network.changed\", (e)=>{\n                this.tracer.trace(\"network.changed\", e);\n                if (!e.online) {\n                    this.logger(\"debug\", \"[Reconnect] Going offline\");\n                    if (!this.hasJoinedOnce) return;\n                    this.lastOfflineTimestamp = Date.now();\n                    // create a new task that would resolve when the network is available\n                    const networkAvailableTask = promiseWithResolvers();\n                    networkAvailableTask.promise.then(()=>{\n                        let strategy = WebsocketReconnectStrategy.FAST;\n                        if (this.lastOfflineTimestamp) {\n                            const offline = (Date.now() - this.lastOfflineTimestamp) / 1000;\n                            if (offline > this.fastReconnectDeadlineSeconds) {\n                                // We shouldn't attempt FAST if we have exceeded the deadline.\n                                // The SFU would have already wiped out the session.\n                                strategy = WebsocketReconnectStrategy.REJOIN;\n                            }\n                        }\n                        this.reconnect(strategy, \"Going online\").catch((err)=>{\n                            this.logger(\"warn\", \"[Reconnect] Error reconnecting after going online\", err);\n                        });\n                    });\n                    this.networkAvailableTask = networkAvailableTask;\n                    this.sfuStatsReporter?.stop();\n                    this.state.setCallingState(CallingState.OFFLINE);\n                } else {\n                    this.logger(\"debug\", \"[Reconnect] Going online\");\n                    this.sfuClient?.close(StreamSfuClient.DISPOSE_OLD_SOCKET, \"Closing WS to reconnect after going online\");\n                    // we went online, release the previous waiters and reset the state\n                    this.networkAvailableTask?.resolve();\n                    this.networkAvailableTask = undefined;\n                    this.sfuStatsReporter?.start();\n                }\n            });\n            this.leaveCallHooks.add(unregisterGoAway).add(unregisterOnError).add(unregisterNetworkChanged);\n        };\n        /**\n         * Restores the published tracks after a reconnection.\n         * @internal\n         */ this.restorePublishedTracks = async ()=>{\n            // the tracks need to be restored in their original order of publishing\n            // otherwise, we might get `m-lines order mismatch` errors\n            for (const trackType of this.trackPublishOrder){\n                let mediaStream;\n                switch(trackType){\n                    case TrackType.AUDIO:\n                        mediaStream = this.microphone.state.mediaStream;\n                        break;\n                    case TrackType.VIDEO:\n                        mediaStream = this.camera.state.mediaStream;\n                        break;\n                    case TrackType.SCREEN_SHARE:\n                        mediaStream = this.screenShare.state.mediaStream;\n                        break;\n                    // screen share audio can't exist without a screen share, so we handle it there\n                    case TrackType.SCREEN_SHARE_AUDIO:\n                    case TrackType.UNSPECIFIED:\n                        break;\n                    default:\n                        ensureExhausted(trackType, \"Unknown track type\");\n                        break;\n                }\n                if (mediaStream) await this.publish(mediaStream, trackType);\n            }\n        };\n        /**\n         * Restores the subscribed tracks after a reconnection.\n         * @internal\n         */ this.restoreSubscribedTracks = ()=>{\n            const { remoteParticipants } = this.state;\n            if (remoteParticipants.length <= 0) return;\n            this.dynascaleManager.applyTrackSubscriptions(undefined);\n        };\n        /**\n         * Starts publishing the given video stream to the call.\n         * @deprecated use `call.publish()`.\n         */ this.publishVideoStream = async (videoStream)=>{\n            await this.publish(videoStream, TrackType.VIDEO);\n        };\n        /**\n         * Starts publishing the given audio stream to the call.\n         * @deprecated use `call.publish()`\n         */ this.publishAudioStream = async (audioStream)=>{\n            await this.publish(audioStream, TrackType.AUDIO);\n        };\n        /**\n         * Starts publishing the given screen-share stream to the call.\n         * @deprecated use `call.publish()`\n         */ this.publishScreenShareStream = async (screenShareStream)=>{\n            await this.publish(screenShareStream, TrackType.SCREEN_SHARE);\n        };\n        /**\n         * Publishes the given media stream.\n         *\n         * @param mediaStream the media stream to publish.\n         * @param trackType the type of the track to announce.\n         */ this.publish = async (mediaStream, trackType)=>{\n            if (!this.sfuClient) throw new Error(`Call not joined yet.`);\n            // joining is in progress, and we should wait until the client is ready\n            await this.sfuClient.joinTask;\n            if (!this.permissionsContext.canPublish(trackType)) {\n                throw new Error(`No permission to publish ${TrackType[trackType]}`);\n            }\n            if (!this.publisher) throw new Error(\"Publisher is not initialized\");\n            const [track] = isAudioTrackType(trackType) ? mediaStream.getAudioTracks() : mediaStream.getVideoTracks();\n            if (!track) {\n                throw new Error(`There is no ${TrackType[trackType]} track in the stream`);\n            }\n            if (track.readyState === \"ended\") {\n                throw new Error(`Can't publish ended tracks.`);\n            }\n            pushToIfMissing(this.trackPublishOrder, trackType);\n            await this.publisher.publish(track, trackType);\n            const trackTypes = [\n                trackType\n            ];\n            if (trackType === TrackType.SCREEN_SHARE) {\n                const [audioTrack] = mediaStream.getAudioTracks();\n                if (audioTrack) {\n                    pushToIfMissing(this.trackPublishOrder, TrackType.SCREEN_SHARE_AUDIO);\n                    await this.publisher.publish(audioTrack, TrackType.SCREEN_SHARE_AUDIO);\n                    trackTypes.push(TrackType.SCREEN_SHARE_AUDIO);\n                }\n            }\n            if (track.kind === \"video\") {\n                // schedules calibration report - the SFU will use the performance stats\n                // to adjust the quality thresholds as early as possible\n                this.sfuStatsReporter?.scheduleOne(3000);\n            }\n            await this.updateLocalStreamState(mediaStream, ...trackTypes);\n        };\n        /**\n         * Stops publishing the given track type to the call, if it is currently being published.\n         *\n         * @param trackTypes the track types to stop publishing.\n         */ this.stopPublish = async (...trackTypes)=>{\n            if (!this.sfuClient || !this.publisher) return;\n            this.publisher.stopTracks(...trackTypes);\n            await this.updateLocalStreamState(undefined, ...trackTypes);\n        };\n        /**\n         * Updates the call state with the new stream.\n         *\n         * @param mediaStream the new stream to update the call state with.\n         * If undefined, the stream will be removed from the call state.\n         * @param trackTypes the track types to update the call state with.\n         */ this.updateLocalStreamState = async (mediaStream, ...trackTypes)=>{\n            if (!this.sfuClient || !this.sfuClient.sessionId) return;\n            await this.notifyTrackMuteState(!mediaStream, ...trackTypes);\n            const { sessionId } = this.sfuClient;\n            for (const trackType of trackTypes){\n                const streamStateProp = trackTypeToParticipantStreamKey(trackType);\n                if (!streamStateProp) continue;\n                this.state.updateParticipant(sessionId, (p)=>({\n                        publishedTracks: mediaStream ? pushToIfMissing([\n                            ...p.publishedTracks\n                        ], trackType) : p.publishedTracks.filter((t)=>t !== trackType),\n                        [streamStateProp]: mediaStream\n                    }));\n            }\n        };\n        /**\n         * Updates the preferred publishing options\n         *\n         * @internal\n         * @param options the options to use.\n         */ this.updatePublishOptions = (options)=>{\n            this.logger(\"warn\", \"[call.updatePublishOptions]: You are manually overriding the publish options for this call. \" + \"This is not recommended, and it can cause call stability/compatibility issues. Use with caution.\");\n            if (this.state.callingState === CallingState.JOINED) {\n                this.logger(\"warn\", \"Updating publish options after joining the call does not have an effect\");\n            }\n            this.clientPublishOptions = {\n                ...this.clientPublishOptions,\n                ...options\n            };\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has started.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStarting = async ()=>{\n            return this.sfuClient?.startNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify start of noise cancellation\", err);\n            });\n        };\n        /**\n         * Notifies the SFU that a noise cancellation process has stopped.\n         *\n         * @internal\n         */ this.notifyNoiseCancellationStopped = async ()=>{\n            return this.sfuClient?.stopNoiseCancellation().catch((err)=>{\n                this.logger(\"warn\", \"Failed to notify stop of noise cancellation\", err);\n            });\n        };\n        /**\n         * Notifies the SFU about the mute state of the given track types.\n         * @internal\n         */ this.notifyTrackMuteState = async (muted, ...trackTypes)=>{\n            if (!this.sfuClient) return;\n            await this.sfuClient.updateMuteStates(trackTypes.map((trackType)=>({\n                    trackType,\n                    muted\n                })));\n        };\n        /**\n         * Will enhance the reported stats with additional participant-specific information (`callStatsReport$` state [store variable](./StreamVideoClient.md/#readonlystatestore)).\n         * This is usually helpful when detailed stats for a specific participant are needed.\n         *\n         * @param sessionId the sessionId to start reporting for.\n         */ this.startReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.startReportingStatsFor(sessionId);\n        };\n        /**\n         * Opposite of `startReportingStatsFor`.\n         * Will turn off stats reporting for a specific participant.\n         *\n         * @param sessionId the sessionId to stop reporting for.\n         */ this.stopReportingStatsFor = (sessionId)=>{\n            return this.statsReporter?.stopReportingStatsFor(sessionId);\n        };\n        /**\n         * Sets the frequency of the call stats reporting.\n         *\n         * @param intervalInMs the interval in milliseconds to report the stats.\n         */ this.setStatsReportingIntervalInMs = (intervalInMs)=>{\n            this.statsReportingIntervalInMs = intervalInMs;\n        };\n        /**\n         * Resets the last sent reaction for the user holding the given `sessionId`. This is a local action, it won't reset the reaction on the backend.\n         *\n         * @param sessionId the session id.\n         */ this.resetReaction = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                reaction: undefined\n            });\n        };\n        /**\n         * Sets the list of criteria to sort the participants by.\n         *\n         * @param criteria the list of criteria to sort the participants by.\n         */ this.setSortParticipantsBy = (criteria)=>{\n            return this.state.setSortParticipantsBy(criteria);\n        };\n        /**\n         * Sends a reaction to the other call participants.\n         *\n         * @param reaction the reaction to send.\n         */ this.sendReaction = async (reaction)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/reaction`, reaction);\n        };\n        /**\n         * Blocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to block.\n         */ this.blockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/block`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Unblocks the user with the given `userId`.\n         *\n         * @param userId the id of the user to unblock.\n         */ this.unblockUser = async (userId)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unblock`, {\n                user_id: userId\n            });\n        };\n        /**\n         * Mutes the current user.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteSelf = (type)=>{\n            const myUserId = this.currentUserId;\n            if (myUserId) {\n                return this.muteUser(myUserId, type);\n            }\n        };\n        /**\n         * Mutes all the other participants.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteOthers = (type)=>{\n            const trackType = muteTypeToTrackType(type);\n            if (!trackType) return;\n            const userIdsToMute = [];\n            for (const participant of this.state.remoteParticipants){\n                if (participant.publishedTracks.includes(trackType)) {\n                    userIdsToMute.push(participant.userId);\n                }\n            }\n            if (userIdsToMute.length > 0) {\n                return this.muteUser(userIdsToMute, type);\n            }\n        };\n        /**\n         * Mutes the user with the given `userId`.\n         *\n         * @param userId the id of the user to mute.\n         * @param type the type of the mute operation.\n         */ this.muteUser = (userId, type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                user_ids: Array.isArray(userId) ? userId : [\n                    userId\n                ],\n                [type]: true\n            });\n        };\n        /**\n         * Will mute all users in the call.\n         *\n         * @param type the type of the mute operation.\n         */ this.muteAllUsers = (type)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mute_users`, {\n                mute_all_users: true,\n                [type]: true\n            });\n        };\n        /**\n         * Starts recording the call\n         */ this.startRecording = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_recording`, request ? request : {});\n        };\n        /**\n         * Stops recording the call\n         */ this.stopRecording = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_recording`, {});\n        };\n        /**\n         * Starts the transcription of the call.\n         *\n         * @param request the request data.\n         */ this.startTranscription = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_transcription`, request);\n        };\n        /**\n         * Stops the transcription of the call.\n         */ this.stopTranscription = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`);\n        };\n        /**\n         * Starts the closed captions of the call.\n         */ this.startClosedCaptions = async (options)=>{\n            const trx = this.state.setCaptioning(true); // optimistic update\n            try {\n                return await this.streamClient.post(`${this.streamClientBasePath}/start_closed_captions`, options);\n            } catch (err) {\n                trx.rollback(); // revert the optimistic update\n                throw err;\n            }\n        };\n        /**\n         * Stops the closed captions of the call.\n         */ this.stopClosedCaptions = async (options)=>{\n            const trx = this.state.setCaptioning(false); // optimistic update\n            try {\n                return await this.streamClient.post(`${this.streamClientBasePath}/stop_closed_captions`, options);\n            } catch (err) {\n                trx.rollback(); // revert the optimistic update\n                throw err;\n            }\n        };\n        /**\n         * Updates the closed caption settings.\n         *\n         * @param config the closed caption settings to apply\n         */ this.updateClosedCaptionSettings = (config)=>{\n            this.state.updateClosedCaptionSettings(config);\n        };\n        /**\n         * Sends a `call.permission_request` event to all users connected to the call.\n         * The call settings object contains information about which permissions can be requested during a call\n         * (for example, a user might be allowed to request permission to publish audio, but not video).\n         */ this.requestPermissions = async (data)=>{\n            const { permissions } = data;\n            const canRequestPermissions = permissions.every((permission)=>this.permissionsContext.canRequest(permission));\n            if (!canRequestPermissions) {\n                throw new Error(`You are not allowed to request permissions: ${permissions.join(\", \")}`);\n            }\n            return this.streamClient.post(`${this.streamClientBasePath}/request_permission`, data);\n        };\n        /**\n         * Allows you to grant certain permissions to a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be granted are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to grant permissions to.\n         * @param permissions the permissions to grant.\n         */ this.grantPermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                grant_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to revoke certain permissions from a user in a call.\n         * The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * Supported permissions that can be revoked are:\n         * - `send-audio`\n         * - `send-video`\n         * - `screenshare`\n         *\n         * @param userId the id of the user to revoke permissions from.\n         * @param permissions the permissions to revoke.\n         */ this.revokePermissions = async (userId, permissions)=>{\n            return this.updateUserPermissions({\n                user_id: userId,\n                revoke_permissions: permissions\n            });\n        };\n        /**\n         * Allows you to grant or revoke a specific permission to a user in a call. The permissions are specific to the call experience and do not survive the call itself.\n         *\n         * When revoking a permission, this endpoint will also mute the relevant track from the user. This is similar to muting a user with the difference that the user will not be able to unmute afterwards.\n         *\n         * Supported permissions that can be granted or revoked: `send-audio`, `send-video` and `screenshare`.\n         *\n         * `call.permissions_updated` event is sent to all members of the call.\n         *\n         */ this.updateUserPermissions = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/user_permissions`, data);\n        };\n        /**\n         * Starts the livestreaming of the call.\n         *\n         * @param data the request data.\n         * @param params the request params.\n         */ this.goLive = async (data = {}, params)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/go_live`, data, params);\n        };\n        /**\n         * Stops the livestreaming of the call.\n         */ this.stopLive = async (data = {})=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_live`, data);\n        };\n        /**\n         * Starts the broadcasting of the call.\n         */ this.startHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`, {});\n        };\n        /**\n         * Stops the broadcasting of the call.\n         */ this.stopHLS = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`, {});\n        };\n        /**\n         * Starts the RTMP-out broadcasting of the call.\n         */ this.startRTMPBroadcasts = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts`, data);\n        };\n        /**\n         * Stops all RTMP-out broadcasting of the call.\n         */ this.stopAllRTMPBroadcasts = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/stop`);\n        };\n        /**\n         * Stops the RTMP-out broadcasting of the call specified by it's name.\n         */ this.stopRTMPBroadcast = async (name)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/${name}/stop`);\n        };\n        /**\n         * Starts frame by frame recording.\n         * Sends call.frame_recording_started events\n         */ this.startFrameRecording = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/start_frame_recording`, data);\n        };\n        /**\n         * Stops frame recording.\n         */ this.stopFrameRecording = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/stop_frame_recording`);\n        };\n        /**\n         * Updates the call settings or custom data.\n         *\n         * @param updates the updates to apply to the call.\n         */ this.update = async (updates)=>{\n            const response = await this.streamClient.patch(`${this.streamClientBasePath}`, updates);\n            const { call, members, own_capabilities } = response;\n            this.state.updateFromCallResponse(call);\n            this.state.setMembers(members);\n            this.state.setOwnCapabilities(own_capabilities);\n            return response;\n        };\n        /**\n         * Ends the call. Once the call is ended, it cannot be re-joined.\n         */ this.endCall = async ()=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/mark_ended`);\n        };\n        /**\n         * Pins the given session to the top of the participants list.\n         *\n         * @param sessionId the sessionId to pin.\n         */ this.pin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: {\n                    isLocalPin: true,\n                    pinnedAt: Date.now()\n                }\n            });\n        };\n        /**\n         * Unpins the given session from the top of the participants list.\n         *\n         * @param sessionId the sessionId to unpin.\n         */ this.unpin = (sessionId)=>{\n            this.state.updateParticipant(sessionId, {\n                pin: undefined\n            });\n        };\n        /**\n         * Pins the given session to the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.pinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/pin`, request);\n        };\n        /**\n         * Unpins the given session from the top of the participants list for everyone\n         * in the call.\n         * You can execute this method only if you have the `pin-for-everyone` capability.\n         *\n         * @param request the request object.\n         */ this.unpinForEveryone = async (request)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/unpin`, request);\n        };\n        /**\n         * Query call members with filter query. The result won't be stored in call state.\n         * @param request\n         * @returns\n         */ this.queryMembers = (request)=>{\n            return this.streamClient.post(\"/call/members\", {\n                ...request || {},\n                id: this.id,\n                type: this.type\n            });\n        };\n        /**\n         * Will update the call members.\n         *\n         * @param data the request data.\n         */ this.updateCallMembers = async (data)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/members`, data);\n        };\n        /**\n         * Schedules an auto-drop timeout based on the call settings.\n         * Applicable only for ringing calls.\n         */ this.scheduleAutoDrop = ()=>{\n            this.cancelAutoDrop();\n            const settings = this.state.settings;\n            if (!settings) return;\n            // ignore if the call is not ringing\n            if (this.state.callingState !== CallingState.RINGING) return;\n            const timeoutInMs = this.isCreatedByMe ? settings.ring.auto_cancel_timeout_ms : settings.ring.incoming_call_timeout_ms;\n            // 0 means no auto-drop\n            if (timeoutInMs <= 0) return;\n            this.dropTimeout = setTimeout(()=>{\n                // the call might have stopped ringing by this point,\n                // e.g. it was already accepted and joined\n                if (this.state.callingState !== CallingState.RINGING) return;\n                this.leave({\n                    reject: true,\n                    reason: \"timeout\",\n                    message: `ringing timeout - ${this.isCreatedByMe ? \"no one accepted\" : `user didn't interact with incoming call screen`}`\n                }).catch((err)=>{\n                    this.logger(\"error\", \"Failed to drop call\", err);\n                });\n            }, timeoutInMs);\n        };\n        /**\n         * Cancels a scheduled auto-drop timeout.\n         */ this.cancelAutoDrop = ()=>{\n            clearTimeout(this.dropTimeout);\n            this.dropTimeout = undefined;\n        };\n        /**\n         * Retrieves the list of recordings for the current call or call session.\n         *\n         * If `callSessionId` is provided, it will return the recordings for that call session.\n         * Otherwise, all recordings for the current call will be returned.\n         *\n         * @param callSessionId the call session id to retrieve recordings for.\n         */ this.queryRecordings = async (callSessionId)=>{\n            let endpoint = this.streamClientBasePath;\n            if (callSessionId) {\n                endpoint = `${endpoint}/${callSessionId}`;\n            }\n            return this.streamClient.get(`${endpoint}/recordings`);\n        };\n        /**\n         * Retrieves the list of transcriptions for the current call.\n         *\n         * @returns the list of transcriptions.\n         */ this.queryTranscriptions = async ()=>{\n            return this.streamClient.get(`${this.streamClientBasePath}/transcriptions`);\n        };\n        /**\n         * Retrieve call statistics for a particular call session (historical).\n         * Here `callSessionID` is mandatory.\n         *\n         * @param callSessionID the call session ID to retrieve statistics for.\n         * @returns The call stats.\n         * @deprecated use `call.getCallReport` instead.\n         * @internal\n         */ this.getCallStats = async (callSessionID)=>{\n            const endpoint = `${this.streamClientBasePath}/stats/${callSessionID}`;\n            return this.streamClient.get(endpoint);\n        };\n        /**\n         * Retrieve call report. If the `callSessionID` is not specified, then the\n         * report for the latest call session is retrieved. If it is specified, then\n         * the report for that particular session is retrieved if it exists.\n         *\n         * @param callSessionID the optional call session ID to retrieve statistics for\n         * @returns the call report\n         */ this.getCallReport = async (callSessionID = \"\")=>{\n            const endpoint = `${this.streamClientBasePath}/report`;\n            const params = callSessionID !== \"\" ? {\n                session_id: callSessionID\n            } : {};\n            return this.streamClient.get(endpoint, params);\n        };\n        /**\n         * Submit user feedback for the call\n         *\n         * @param rating Rating between 1 and 5 denoting the experience of the user in the call\n         * @param reason The reason/description for the rating\n         * @param custom Custom data\n         */ this.submitFeedback = async (rating, { reason, custom } = {})=>{\n            const { sdkName, sdkVersion, ...platform } = getSdkSignature(await getClientDetails());\n            return this.streamClient.post(`${this.streamClientBasePath}/feedback`, {\n                rating,\n                reason,\n                user_session_id: this.sfuClient?.sessionId,\n                sdk: sdkName,\n                sdk_version: sdkVersion,\n                custom: {\n                    ...custom,\n                    \"x-stream-platform-data\": platform\n                }\n            });\n        };\n        /**\n         * Sends a custom event to all call participants.\n         *\n         * @param payload the payload to send.\n         */ this.sendCustomEvent = async (payload)=>{\n            return this.streamClient.post(`${this.streamClientBasePath}/event`, {\n                custom: payload\n            });\n        };\n        /**\n         * Applies the device configuration from the backend.\n         *\n         * @internal\n         */ this.applyDeviceConfig = async (settings, publish)=>{\n            await this.camera.apply(settings.video, publish).catch((err)=>{\n                this.logger(\"warn\", \"Camera init failed\", err);\n            });\n            await this.microphone.apply(settings.audio, publish).catch((err)=>{\n                this.logger(\"warn\", \"Mic init failed\", err);\n            });\n        };\n        /**\n         * Will begin tracking the given element for visibility changes within the\n         * configured viewport element (`call.setViewport`).\n         *\n         * @param element the element to track.\n         * @param sessionId the session id.\n         * @param trackType the video mode.\n         */ this.trackElementVisibility = (element, sessionId, trackType)=>{\n            return this.dynascaleManager.trackElementVisibility(element, sessionId, trackType);\n        };\n        /**\n         * Sets the viewport element to track bound video elements for visibility.\n         *\n         * @param element the viewport element.\n         */ this.setViewport = (element)=>{\n            return this.dynascaleManager.setViewport(element);\n        };\n        /**\n         * Binds a DOM <video> element to the given session id.\n         * This method will make sure that the video element will play\n         * the correct video stream for the given session id.\n         *\n         * Under the hood, it would also keep track of the video element dimensions\n         * and update the subscription accordingly in order to optimize the bandwidth.\n         *\n         * If a \"viewport\" is configured, the video element will be automatically\n         * tracked for visibility and the subscription will be updated accordingly.\n         *\n         * @param videoElement the video element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of video.\n         */ this.bindVideoElement = (videoElement, sessionId, trackType)=>{\n            const unbind = this.dynascaleManager.bindVideoElement(videoElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <audio> element to the given session id.\n         *\n         * This method will make sure that the audio element will\n         * play the correct audio stream for the given session id.\n         *\n         * @param audioElement the audio element to bind to.\n         * @param sessionId the session id.\n         * @param trackType the kind of audio.\n         */ this.bindAudioElement = (audioElement, sessionId, trackType = \"audioTrack\")=>{\n            const unbind = this.dynascaleManager.bindAudioElement(audioElement, sessionId, trackType);\n            if (!unbind) return;\n            this.leaveCallHooks.add(unbind);\n            return ()=>{\n                this.leaveCallHooks.delete(unbind);\n                unbind();\n            };\n        };\n        /**\n         * Binds a DOM <img> element to this call's thumbnail (if enabled in settings).\n         *\n         * @param imageElement the image element to bind to.\n         * @param opts options for the binding.\n         */ this.bindCallThumbnailElement = (imageElement, opts = {})=>{\n            const handleError = ()=>{\n                imageElement.src = opts.fallbackImageSource || \"https://getstream.io/random_svg/?name=x&id=x\";\n            };\n            const unsubscribe = createSubscription(this.state.thumbnails$, (thumbnails)=>{\n                if (!thumbnails) return;\n                imageElement.addEventListener(\"error\", handleError);\n                const thumbnailUrl = new URL(thumbnails.image_url);\n                thumbnailUrl.searchParams.set(\"w\", String(imageElement.clientWidth));\n                thumbnailUrl.searchParams.set(\"h\", String(imageElement.clientHeight));\n                imageElement.src = thumbnailUrl.toString();\n            });\n            return ()=>{\n                unsubscribe();\n                imageElement.removeEventListener(\"error\", handleError);\n            };\n        };\n        /**\n         * Specify preference for incoming video resolution. The preference will\n         * be matched as close as possible, but actual resolution will depend\n         * on the video source quality and client network conditions. Will enable\n         * incoming video, if previously disabled.\n         *\n         * @param resolution preferred resolution, or `undefined` to clear preference\n         * @param sessionIds optionally specify session ids of the participants this\n         * preference has effect on. Affects all participants by default.\n         */ this.setPreferredIncomingVideoResolution = (resolution, sessionIds)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(resolution ? {\n                enabled: true,\n                dimension: resolution\n            } : undefined, sessionIds);\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        /**\n         * Enables or disables incoming video from all remote call participants,\n         * and removes any preference for preferred resolution.\n         */ this.setIncomingVideoEnabled = (enabled)=>{\n            this.dynascaleManager.setVideoTrackSubscriptionOverrides(enabled ? undefined : {\n                enabled: false\n            });\n            this.dynascaleManager.applyTrackSubscriptions();\n        };\n        /**\n         * Sets the maximum amount of time a user can remain waiting for a reconnect\n         * after a network disruption\n         * @param timeoutSeconds Timeout in seconds, or 0 to keep reconnecting indefinetely\n         */ this.setDisconnectionTimeout = (timeoutSeconds)=>{\n            this.disconnectionTimeoutSeconds = timeoutSeconds;\n        };\n        this.type = type;\n        this.id = id;\n        this.cid = `${type}:${id}`;\n        this.ringingSubject = new _barrel_optimize_names_BehaviorSubject_ReplaySubject_combineLatest_concatMap_debounceTime_distinctUntilChanged_distinctUntilKeyChanged_from_fromEvent_fromEventPattern_map_merge_of_pairwise_shareReplay_startWith_takeWhile_rxjs__WEBPACK_IMPORTED_MODULE_15__.BehaviorSubject(ringing);\n        this.watching = watching;\n        this.streamClient = streamClient;\n        this.clientStore = clientStore;\n        this.streamClientBasePath = `/call/${this.type}/${this.id}`;\n        this.logger = getLogger([\n            \"Call\"\n        ]);\n        const callTypeConfig = CallTypes.get(type);\n        const participantSorter = sortParticipantsBy || callTypeConfig.options.sortParticipantsBy;\n        if (participantSorter) {\n            this.state.setSortParticipantsBy(participantSorter);\n        }\n        this.state.setMembers(members || []);\n        this.state.setOwnCapabilities(ownCapabilities || []);\n        this.state.setCallingState(ringing ? CallingState.RINGING : CallingState.IDLE);\n        this.camera = new CameraManager(this);\n        this.microphone = new MicrophoneManager(this);\n        this.speaker = new SpeakerManager(this);\n        this.screenShare = new ScreenShareManager(this);\n        this.dynascaleManager = new DynascaleManager(this.state, this.speaker);\n    }\n    /**\n     * A flag indicating whether the call is \"ringing\" type of call.\n     */ get ringing() {\n        return getCurrentValue(this.ringingSubject);\n    }\n    /**\n     * Retrieves the current user ID.\n     */ get currentUserId() {\n        return this.clientStore.connectedUser?.id;\n    }\n    /**\n     * A flag indicating whether the call was created by the current user.\n     */ get isCreatedByMe() {\n        return this.state.createdBy?.id === this.currentUserId;\n    }\n}\nconst APIErrorCodes = {\n    [-1]: \"InternalSystemError\",\n    2: \"AccessKeyError\",\n    3: \"AuthenticationFailedError\",\n    4: \"InputError\",\n    5: \"AuthenticationError\",\n    6: \"DuplicateUsernameError\",\n    9: \"RateLimitError\",\n    16: \"DoesNotExistError\",\n    17: \"NotAllowedError\",\n    18: \"EventNotSupportedError\",\n    19: \"ChannelFeatureNotSupportedError\",\n    20: \"MessageTooLongError\",\n    21: \"MultipleNestingLevelError\",\n    22: \"PayloadTooBigError\",\n    23: \"RequestTimeoutError\",\n    24: \"MaxHeaderSizeExceededError\",\n    40: \"AuthErrorTokenExpired\",\n    41: \"AuthErrorTokenNotValidYet\",\n    42: \"AuthErrorTokenUsedBeforeIssuedAt\",\n    43: \"AuthErrorTokenSignatureInvalid\",\n    44: \"CustomCommandEndpointMissingError\",\n    45: \"CustomCommandEndpointCallError\",\n    46: \"ConnectionIDNotFoundError\",\n    60: \"CoolDownError\",\n    69: \"ErrWrongRegion\",\n    70: \"ErrQueryChannelPermissions\",\n    71: \"ErrTooManyConnections\",\n    73: \"MessageModerationFailedError\",\n    99: \"AppSuspendedError\"\n};\n/**\n * StableWSConnection - A WS connection that reconnects upon failure.\n * - the browser will sometimes report that you're online or offline\n * - the WS connection can break and fail (there is a 30s health check)\n * - sometimes your WS connection will seem to work while the user is in fact offline\n * - to speed up online/offline detection you can use the window.addEventListener('offline');\n *\n * There are 4 ways in which a connection can become unhealthy:\n * - websocket.onerror is called\n * - websocket.onclose is called\n * - the health check fails and no event is received for ~40 seconds\n * - the browser indicates the connection is now offline\n *\n * There are 2 assumptions we make about the server:\n * - state can be recovered by querying the channel again\n * - if the servers fails to publish a message to the client, the WS connection is destroyed\n */ class StableWSConnection {\n    constructor(client){\n        this._log = (msg, extra = {}, level = \"info\")=>{\n            this.client.logger(level, `connection:${msg}`, extra);\n        };\n        this.setClient = (client)=>{\n            this.client = client;\n        };\n        /**\n         * Builds and returns the url for websocket.\n         * @private\n         * @returns url string\n         */ this._buildUrl = ()=>{\n            const params = new URLSearchParams();\n            params.set(\"api_key\", this.client.key);\n            params.set(\"stream-auth-type\", this.client.getAuthType());\n            params.set(\"X-Stream-Client\", this.client.getUserAgent());\n            return `${this.client.wsBaseURL}/connect?${params.toString()}`;\n        };\n        /**\n         * onlineStatusChanged - this function is called when the browser connects or disconnects from the internet.\n         *\n         * @param {Event} event Event with type online or offline\n         *\n         */ this.onlineStatusChanged = (event)=>{\n            if (event.type === \"offline\") {\n                // mark the connection as down\n                this._log(\"onlineStatusChanged() - Status changing to offline\");\n                // we know that the app is offline so dispatch the unhealthy connection event immediately\n                this._setHealth(false, true);\n            } else if (event.type === \"online\") {\n                // retry right now...\n                // We check this.isHealthy, not sure if it's always\n                // smart to create a new WS connection if the old one is still up and running.\n                // it's possible we didn't miss any messages, so this process is just expensive and not needed.\n                this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`);\n                if (!this.isHealthy) {\n                    this._reconnect({\n                        interval: 10\n                    });\n                }\n            }\n        };\n        this.onopen = (wsID)=>{\n            if (this.wsID !== wsID) return;\n            const user = this.client.user;\n            if (!user) {\n                this.client.logger(\"error\", `User not set, can't connect to WS`);\n                return;\n            }\n            const token = this.client._getToken();\n            if (!token) {\n                this.client.logger(\"error\", `Token not set, can't connect authenticate`);\n                return;\n            }\n            const authMessage = JSON.stringify({\n                token,\n                user_details: {\n                    id: user.id,\n                    name: user.name,\n                    image: user.image,\n                    custom: user.custom\n                }\n            });\n            this._log(`onopen() - Sending auth message ${authMessage}`, {}, \"trace\");\n            this.ws?.send(authMessage);\n            this._log(\"onopen() - onopen callback\", {\n                wsID\n            });\n        };\n        this.onmessage = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onmessage() - onmessage callback\", {\n                event,\n                wsID\n            });\n            const data = typeof event.data === \"string\" ? JSON.parse(event.data) : null;\n            // we wait till the first message before we consider the connection open.\n            // the reason for this is that auth errors and similar errors trigger a ws.onopen and immediately\n            // after that a ws.onclose.\n            if (!this.isConnectionOpenResolved && data && data.type === \"connection.error\") {\n                this.isConnectionOpenResolved = true;\n                if (data.error) {\n                    this.rejectConnectionOpen?.(this._errorFromWSEvent(data, false));\n                    return;\n                }\n            }\n            // trigger the event..\n            this.lastEvent = new Date();\n            if (data && (data.type === \"health.check\" || data.type === \"connection.ok\")) {\n                // the initial health-check should come from the client\n                this.scheduleNextPing();\n            }\n            if (data && data.type === \"connection.ok\") {\n                this.resolveConnectionOpen?.(data);\n                this._setHealth(true);\n            }\n            if (data && data.type === \"connection.error\" && data.error) {\n                const { code } = data.error;\n                this.isHealthy = false;\n                this.isConnecting = false;\n                this.consecutiveFailures += 1;\n                if (code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                    clearTimeout(this.connectionCheckTimeoutRef);\n                    this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                    this._reconnect({\n                        refreshToken: true\n                    });\n                }\n            }\n            if (data) {\n                data.received_at = new Date();\n                this.client.dispatchEvent(data);\n            }\n            this.scheduleConnectionCheck();\n        };\n        this.onclose = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this._log(\"onclose() - onclose callback - \" + event.code, {\n                event,\n                wsID\n            });\n            if (event.code === KnownCodes.WS_CLOSED_SUCCESS) {\n                // this is a permanent error raised by stream..\n                // usually caused by invalid auth details\n                const error = new Error(`WS connection reject with error ${event.reason}`);\n                // @ts-expect-error type issue\n                error.reason = event.reason;\n                // @ts-expect-error type issue\n                error.code = event.code;\n                // @ts-expect-error type issue\n                error.wasClean = event.wasClean;\n                // @ts-expect-error type issue\n                error.target = event.target;\n                this.rejectConnectionOpen?.(error);\n                this._log(`onclose() - WS connection reject with error ${event.reason}`, {\n                    event\n                });\n            } else {\n                this.consecutiveFailures += 1;\n                this.totalFailures += 1;\n                this._setHealth(false);\n                this.isConnecting = false;\n                this.rejectConnectionOpen?.(this._errorFromWSEvent(event));\n                this._log(`onclose() - WS connection closed. Calling reconnect ...`, {\n                    event\n                });\n                // reconnect if its an abnormal failure\n                this._reconnect();\n            }\n        };\n        this.onerror = (wsID, event)=>{\n            if (this.wsID !== wsID) return;\n            this.consecutiveFailures += 1;\n            this.totalFailures += 1;\n            this._setHealth(false);\n            this.isConnecting = false;\n            this.rejectConnectionOpen?.(new Error(`WebSocket error: ${event}`));\n            this._log(`onerror() - WS connection resulted into error`, {\n                event\n            });\n            this._reconnect();\n        };\n        /**\n         * _setHealth - Sets the connection to healthy or unhealthy.\n         * Broadcasts an event in case the connection status changed.\n         *\n         * @param {boolean} healthy boolean indicating if the connection is healthy or not\n         * @param {boolean} dispatchImmediately boolean indicating to dispatch event immediately even if the connection is unhealthy\n         */ this._setHealth = (healthy, dispatchImmediately = false)=>{\n            if (healthy === this.isHealthy) return;\n            this.isHealthy = healthy;\n            if (this.isHealthy || dispatchImmediately) {\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n                return;\n            }\n            // we're offline, wait few seconds and fire and event if still offline\n            setTimeout(()=>{\n                if (this.isHealthy) return;\n                this.client.dispatchEvent({\n                    type: \"connection.changed\",\n                    online: this.isHealthy\n                });\n            }, 5000);\n        };\n        /**\n         * _errorFromWSEvent - Creates an error object for the WS event\n         */ this._errorFromWSEvent = (event, isWSFailure = true)=>{\n            let code;\n            let statusCode;\n            let message;\n            if (isCloseEvent(event)) {\n                code = event.code;\n                message = event.reason;\n                statusCode = 0;\n            } else {\n                const { error } = event;\n                code = error.code;\n                message = error.message;\n                statusCode = error.StatusCode;\n            }\n            const msg = `WS failed with code: ${code}: ${APIErrorCodes[code] || code} and reason: ${message}`;\n            this._log(msg, {\n                event\n            }, \"warn\");\n            const error = new Error(msg);\n            error.code = code;\n            /**\n             * StatusCode does not exist on any event types but has been left\n             * as is to preserve JS functionality during the TS implementation\n             */ error.StatusCode = statusCode;\n            error.isWSFailure = isWSFailure;\n            return error;\n        };\n        /**\n         * _setupPromise - sets up the this.connectOpen promise\n         */ this._setupConnectionPromise = ()=>{\n            this.isConnectionOpenResolved = false;\n            /** a promise that is resolved once ws.open is called */ this.connectionOpenSafe = makeSafePromise(new Promise((resolve, reject)=>{\n                this.resolveConnectionOpen = resolve;\n                this.rejectConnectionOpen = reject;\n            }));\n        };\n        /**\n         * Schedules a next health check ping for websocket.\n         */ this.scheduleNextPing = ()=>{\n            const timers = getTimers();\n            if (this.healthCheckTimeoutRef) {\n                timers.clearTimeout(this.healthCheckTimeoutRef);\n            }\n            // 30 seconds is the recommended interval (messenger uses this)\n            this.healthCheckTimeoutRef = timers.setTimeout(()=>{\n                // send the healthcheck..., server replies with a health check event\n                const data = [\n                    {\n                        type: \"health.check\",\n                        client_id: this.client.clientID\n                    }\n                ];\n                // try to send on the connection\n                try {\n                    this.ws?.send(JSON.stringify(data));\n                } catch  {\n                // error will already be detected elsewhere\n                }\n            }, this.pingInterval);\n        };\n        /**\n         * scheduleConnectionCheck - schedules a check for time difference between last received event and now.\n         * If the difference is more than 35 seconds, it means our health check logic has failed and websocket needs\n         * to be reconnected.\n         */ this.scheduleConnectionCheck = ()=>{\n            clearTimeout(this.connectionCheckTimeoutRef);\n            this.connectionCheckTimeoutRef = setTimeout(()=>{\n                const now = new Date();\n                if (this.lastEvent && now.getTime() - this.lastEvent.getTime() > this.connectionCheckTimeout) {\n                    this._log(\"scheduleConnectionCheck - going to reconnect\");\n                    this._setHealth(false);\n                    this._reconnect();\n                }\n            }, this.connectionCheckTimeout);\n        };\n        this.client = client;\n        /** consecutive failures influence the duration of the timeout */ this.consecutiveFailures = 0;\n        /** keep track of the total number of failures */ this.totalFailures = 0;\n        /** We only make 1 attempt to reconnect at the same time.. */ this.isConnecting = false;\n        /** To avoid reconnect if client is disconnected */ this.isDisconnected = false;\n        /** Boolean that indicates if the connection promise is resolved */ this.isConnectionOpenResolved = false;\n        /** Boolean that indicates if we have a working connection to the server */ this.isHealthy = false;\n        /** Incremented when a new WS connection is made */ this.wsID = 1;\n        /** Store the last event time for health checks */ this.lastEvent = null;\n        /** Send a health check message every 25 seconds */ this.pingInterval = 25 * 1000;\n        this.connectionCheckTimeout = this.pingInterval + 10 * 1000;\n        addConnectionEventListeners(this.onlineStatusChanged);\n    }\n    /**\n     * connect - Connect to the WS URL\n     * the default 15s timeout allows between 2~3 tries\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async connect(timeout = 15000) {\n        if (this.isConnecting) {\n            throw Error(`You've called connect twice, can only attempt 1 connection at the time`);\n        }\n        this.isDisconnected = false;\n        try {\n            const healthCheck = await this._connect();\n            this.consecutiveFailures = 0;\n            this._log(`connect() - Established ws connection with healthcheck: ${healthCheck}`);\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (// @ts-expect-error type issue\n            error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"connect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                this._reconnect({\n                    refreshToken: true\n                });\n            } else {\n                // @ts-expect-error type issue\n                if (!error.isWSFailure) {\n                    // API rejected the connection and we should not retry\n                    throw new Error(JSON.stringify({\n                        // @ts-expect-error type issue\n                        code: error.code,\n                        // @ts-expect-error type issue\n                        StatusCode: error.StatusCode,\n                        // @ts-expect-error type issue\n                        message: error.message,\n                        // @ts-expect-error type issue\n                        isWSFailure: error.isWSFailure\n                    }));\n                }\n            }\n        }\n        return await this._waitForHealthy(timeout);\n    }\n    /**\n     * _waitForHealthy polls the promise connection to see if its resolved until it times out\n     * the default 15s timeout allows between 2~3 tries\n     * @param timeout duration(ms)\n     */ async _waitForHealthy(timeout = 15000) {\n        return Promise.race([\n            (async ()=>{\n                const interval = 50; // ms\n                for(let i = 0; i <= timeout; i += interval){\n                    try {\n                        return await this.connectionOpen;\n                    } catch (error) {\n                        if (i === timeout) {\n                            throw new Error(JSON.stringify({\n                                code: error.code,\n                                StatusCode: error.StatusCode,\n                                message: error.message,\n                                isWSFailure: error.isWSFailure\n                            }));\n                        }\n                        await sleep(interval);\n                    }\n                }\n            })(),\n            (async ()=>{\n                await sleep(timeout);\n                this.isConnecting = false;\n                throw new Error(JSON.stringify({\n                    code: \"\",\n                    StatusCode: \"\",\n                    message: \"initial WS connection could not be established\",\n                    isWSFailure: true\n                }));\n            })()\n        ]);\n    }\n    /**\n     * disconnect - Disconnect the connection and doesn't recover...\n     *\n     */ disconnect(timeout) {\n        this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`);\n        this.wsID += 1;\n        this.isConnecting = false;\n        this.isDisconnected = true;\n        // start by removing all the listeners\n        if (this.healthCheckTimeoutRef) {\n            getTimers().clearInterval(this.healthCheckTimeoutRef);\n        }\n        if (this.connectionCheckTimeoutRef) {\n            clearInterval(this.connectionCheckTimeoutRef);\n        }\n        removeConnectionEventListeners(this.onlineStatusChanged);\n        this.isHealthy = false;\n        let isClosedPromise;\n        // and finally close...\n        // Assigning to local here because we will remove it from this before the\n        // promise resolves.\n        const { ws } = this;\n        if (ws && ws.close && ws.readyState === ws.OPEN) {\n            isClosedPromise = new Promise((resolve)=>{\n                const onclose = (event)=>{\n                    this._log(`disconnect() - resolving isClosedPromise ${event ? \"with\" : \"without\"} close frame`, {\n                        event\n                    });\n                    resolve();\n                };\n                ws.onclose = onclose;\n                // In case we don't receive close frame websocket server in time,\n                // lets not wait for more than 1 second.\n                setTimeout(onclose, timeout != null ? timeout : 1000);\n            });\n            this._log(`disconnect() - Manually closed connection by calling client.disconnect()`);\n            ws.close(KnownCodes.WS_CLOSED_SUCCESS, \"Manually closed connection by calling client.disconnect()\");\n        } else {\n            this._log(`disconnect() - ws connection doesn't exist or it is already closed.`);\n            isClosedPromise = Promise.resolve();\n        }\n        delete this.ws;\n        return isClosedPromise;\n    }\n    /**\n     * _connect - Connect to the WS endpoint\n     *\n     * @return {ConnectAPIResponse<ConnectedEvent>} Promise that completes once the first health check message is received\n     */ async _connect() {\n        if (this.isConnecting) return; // ignore _connect if it's currently trying to connect\n        this.isConnecting = true;\n        let isTokenReady = false;\n        try {\n            this._log(`_connect() - waiting for token`);\n            await this.client.tokenManager.tokenReady();\n            isTokenReady = true;\n        } catch  {\n        // token provider has failed before, so try again\n        }\n        try {\n            if (!isTokenReady) {\n                this._log(`_connect() - tokenProvider failed before, so going to retry`);\n                await this.client.tokenManager.loadToken();\n            }\n            if (!this.client.isConnectionIsPromisePending) {\n                this.client._setupConnectionIdPromise();\n            }\n            this._setupConnectionPromise();\n            const wsURL = this._buildUrl();\n            this._log(`_connect() - Connecting to ${wsURL}`);\n            const WS = this.client.options.WebSocketImpl ?? WebSocket;\n            this.ws = new WS(wsURL);\n            this.ws.onopen = this.onopen.bind(this, this.wsID);\n            this.ws.onclose = this.onclose.bind(this, this.wsID);\n            this.ws.onerror = this.onerror.bind(this, this.wsID);\n            this.ws.onmessage = this.onmessage.bind(this, this.wsID);\n            const response = await this.connectionOpen;\n            this.isConnecting = false;\n            if (response) {\n                this.connectionID = response.connection_id;\n                this.client.resolveConnectionId?.(this.connectionID);\n                return response;\n            }\n        } catch (err) {\n            this.client._setupConnectionIdPromise();\n            this.isConnecting = false;\n            // @ts-expect-error type issue\n            this._log(`_connect() - Error - `, err);\n            this.client.rejectConnectionId?.(err);\n            throw err;\n        }\n    }\n    /**\n     * _reconnect - Retry the connection to WS endpoint\n     *\n     * @param {{ interval?: number; refreshToken?: boolean }} options Following options are available\n     *\n     * - `interval`\t{int}\t\t\tnumber of ms that function should wait before reconnecting\n     * - `refreshToken` {boolean}\treload/refresh user token be refreshed before attempting reconnection.\n     */ async _reconnect(options = {}) {\n        this._log(\"_reconnect() - Initiating the reconnect\");\n        // only allow 1 connection at the time\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (1) since already connecting or healthy\");\n            return;\n        }\n        // reconnect in case of on error or on close\n        // also reconnect if the health check cycle fails\n        let interval = options.interval;\n        if (!interval) {\n            interval = retryInterval(this.consecutiveFailures);\n        }\n        // reconnect, or try again after a little while...\n        await sleep(interval);\n        // Check once again if by some other call to _reconnect is active or connection is\n        // already restored, then no need to proceed.\n        if (this.isConnecting || this.isHealthy) {\n            this._log(\"_reconnect() - Abort (2) since already connecting or healthy\");\n            return;\n        }\n        if (this.isDisconnected) {\n            this._log(\"_reconnect() - Abort (3) since disconnect() is called\");\n            return;\n        }\n        this._log(\"_reconnect() - Destroying current WS connection\");\n        // cleanup the old connection\n        this._destroyCurrentWSConnection();\n        if (options.refreshToken) {\n            await this.client.tokenManager.loadToken();\n        }\n        try {\n            await this._connect();\n            this._log(\"_reconnect() - Waiting for recoverCallBack\");\n            // await this.client.recoverState();\n            this._log(\"_reconnect() - Finished recoverCallBack\");\n            this.consecutiveFailures = 0;\n        } catch (error) {\n            this.isHealthy = false;\n            this.consecutiveFailures += 1;\n            if (error.code === KnownCodes.TOKEN_EXPIRED && !this.client.tokenManager.isStatic()) {\n                this._log(\"_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect\");\n                return this._reconnect({\n                    refreshToken: true\n                });\n            }\n            // reconnect on WS failures, don't reconnect if there is a code bug\n            if (error.isWSFailure) {\n                this._log(\"_reconnect() - WS failure, so going to try to reconnect\");\n                this._reconnect();\n            }\n        }\n        this._log(\"_reconnect() - == END ==\");\n    }\n    /**\n     * _destroyCurrentWSConnection - Removes the current WS connection\n     *\n     */ _destroyCurrentWSConnection() {\n        // increment the ID, meaning we will ignore all messages from the old\n        // ws connection from now on.\n        this.wsID += 1;\n        try {\n            this?.ws?.close();\n        } catch  {\n        // we don't care\n        }\n    }\n    get connectionOpen() {\n        return this.connectionOpenSafe?.();\n    }\n}\nfunction getUserFromToken(token) {\n    const fragments = token.split(\".\");\n    if (fragments.length !== 3) {\n        return \"\";\n    }\n    const b64Payload = fragments[1];\n    const payload = decodeBase64(b64Payload);\n    const data = JSON.parse(payload);\n    return data.user_id;\n}\n// base-64 decoder throws exception if encoded string is not padded by '=' to make string length\n// in multiples of 4. So gonna use our own method for this purpose to keep backwards compatibility\n// https://github.com/beatgammit/base64-js/blob/master/index.js#L26\nconst decodeBase64 = (s)=>{\n    const e = {}, w = String.fromCharCode, L = s.length;\n    let i, b = 0, c, x, l = 0, a, r = \"\";\n    const A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    for(i = 0; i < 64; i++){\n        e[A.charAt(i)] = i;\n    }\n    for(x = 0; x < L; x++){\n        c = e[s.charAt(x)];\n        b = (b << 6) + c;\n        l += 6;\n        while(l >= 8){\n            if ((a = b >>> (l -= 8) & 0xff) || x < L - 2) r += w(a);\n        }\n    }\n    return r;\n};\n/**\n * TokenManager\n *\n * Handles all the operations around user token.\n */ class TokenManager {\n    constructor(secret){\n        this.loadTokenPromise = null;\n        this.type = \"static\";\n        /**\n         * Set the static string token or token provider.\n         * Token provider should return a token string or a promise which resolves to string token.\n         *\n         * @param {TokenOrProvider} tokenOrProvider - the token or token provider.\n         * @param {UserResponse} user - the user object.\n         * @param {boolean} isAnonymous - whether the user is anonymous or not.\n         */ this.setTokenOrProvider = async (tokenOrProvider, user, isAnonymous)=>{\n            this.user = user;\n            this.isAnonymous = isAnonymous;\n            this.validateToken(tokenOrProvider);\n            if (isFunction(tokenOrProvider)) {\n                this.tokenProvider = tokenOrProvider;\n                this.type = \"provider\";\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                this.token = tokenOrProvider;\n                this.type = \"static\";\n            }\n            await this.loadToken();\n        };\n        /**\n         * Resets the token manager.\n         * Useful for client disconnection or switching user.\n         */ this.reset = ()=>{\n            this.token = undefined;\n            this.tokenProvider = undefined;\n            this.type = \"static\";\n            this.user = undefined;\n            this.loadTokenPromise = null;\n        };\n        // Validates the user token.\n        this.validateToken = (tokenOrProvider)=>{\n            // allow empty token for anon user\n            if (this.user && this.isAnonymous && !tokenOrProvider) return;\n            // Don't allow empty token for non-server side client.\n            if (!this.secret && !tokenOrProvider) {\n                throw new Error(\"User token can not be empty\");\n            }\n            if (typeof tokenOrProvider !== \"string\" && !isFunction(tokenOrProvider)) {\n                throw new Error(\"User token should either be a string or a function\");\n            }\n            if (typeof tokenOrProvider === \"string\") {\n                // Allow empty token for anonymous users\n                if (this.isAnonymous && tokenOrProvider === \"\") return;\n                const tokenUserId = getUserFromToken(tokenOrProvider);\n                if (tokenOrProvider != null && (tokenUserId == null || tokenUserId === \"\" || !this.isAnonymous && tokenUserId !== this.user.id)) {\n                    throw new Error(\"userToken does not have a user_id or is not matching with user.id\");\n                }\n            }\n        };\n        // Resolves when token is ready. This function is simply to check if loadToken is in progress, in which\n        // case a function should wait.\n        this.tokenReady = ()=>this.loadTokenPromise;\n        // Fetches a token from tokenProvider function and sets in tokenManager.\n        // In case of static token, it will simply resolve to static token.\n        this.loadToken = ()=>{\n            this.loadTokenPromise = new Promise(async (resolve, reject)=>{\n                if (this.type === \"static\") {\n                    return resolve(this.token);\n                }\n                if (this.tokenProvider && typeof this.tokenProvider !== \"string\") {\n                    try {\n                        const token = await this.tokenProvider();\n                        this.validateToken(token);\n                        this.token = token;\n                    } catch (e) {\n                        return reject(new Error(`Call to tokenProvider failed with message: ${e}`, {\n                            cause: e\n                        }));\n                    }\n                    resolve(this.token);\n                }\n            });\n            return this.loadTokenPromise;\n        };\n        // Returns a current token\n        this.getToken = ()=>{\n            if (this.token) {\n                return this.token;\n            }\n            if (this.user && !this.token) {\n                return this.token;\n            }\n            throw new Error(`User token is not set. Either client.connectUser wasn't called or client.disconnect was called`);\n        };\n        this.isStatic = ()=>this.type === \"static\";\n        this.secret = secret;\n    }\n}\nconst getLocationHint = async (hintUrl = `https://hint.stream-io-video.com/`, timeout = 2000, maxAttempts = 3)=>{\n    const logger = getLogger([\n        \"location-hint\"\n    ]);\n    let attempt = 0;\n    let locationHint = \"ERR\";\n    do {\n        const abortController = new AbortController();\n        const timeoutId = setTimeout(()=>abortController.abort(), timeout);\n        try {\n            const response = await fetch(hintUrl, {\n                method: \"HEAD\",\n                signal: abortController.signal\n            });\n            const awsPop = response.headers.get(\"x-amz-cf-pop\") || \"ERR\";\n            logger(\"debug\", `Location header: ${awsPop}`);\n            locationHint = awsPop.substring(0, 3); // AMS1-P2 -> AMS\n        } catch (e) {\n            logger(\"warn\", `Failed to get location hint from ${hintUrl}`, e);\n            locationHint = \"ERR\";\n        } finally{\n            clearTimeout(timeoutId);\n        }\n    }while (locationHint === \"ERR\" && ++attempt < maxAttempts);\n    return locationHint;\n};\nclass StreamClient {\n    /**\n     * Initialize a client.\n     *\n     * @param {string} key - the api key\n     * @param {StreamClientOptions} [options] - additional options, here you can pass custom options to axios instance\n     * @param {string} [options.secret] - the api secret\n     * @param {boolean} [options.browser] - enforce the client to be in browser mode\n     * @param {boolean} [options.warmUp] - default to false, if true, client will open a connection as soon as possible to speed up following requests\n     * @param {Logger} [options.Logger] - custom logger\n     * @param {number} [options.timeout] - default to 3000\n     * @param {httpsAgent} [options.httpsAgent] - custom httpsAgent, in node it's default to https.agent()\n     */ constructor(key, options){\n        this.listeners = {};\n        this.getAuthType = ()=>{\n            return this.anonymous ? \"anonymous\" : \"jwt\";\n        };\n        this.setBaseURL = (baseURL)=>{\n            this.baseURL = baseURL;\n            this.wsBaseURL = this.baseURL.replace(\"http\", \"ws\").replace(\":3030\", \":8800\");\n        };\n        this.getLocationHint = async (hintUrl, timeout)=>{\n            const hint = await this.locationHint;\n            if (!hint || hint === \"ERR\") {\n                this.locationHint = getLocationHint(hintUrl ?? this.options.locationHintUrl, timeout ?? this.options.locationHintTimeout);\n                return this.locationHint;\n            }\n            return hint;\n        };\n        this._getConnectionID = ()=>this.wsConnection?.connectionID;\n        this._hasConnectionID = ()=>Boolean(this._getConnectionID());\n        /**\n         * connectUser - Set the current user and open a WebSocket connection\n         *\n         * @param user Data about this user. IE {name: \"john\"}\n         * @param {TokenOrProvider} tokenOrProvider Token or provider\n         *\n         * @return {ConnectAPIResponse} Returns a promise that resolves when the connection is setup\n         */ this.connectUser = async (user, tokenOrProvider)=>{\n            if (!user.id) {\n                throw new Error('The \"id\" field on the user is missing');\n            }\n            /**\n             * Calling connectUser multiple times is potentially the result of a  bad integration, however,\n             * If the user id remains the same we don't throw error\n             */ if (this.userID === user.id && this.connectUserTask) {\n                this.logger(\"warn\", \"Consecutive calls to connectUser is detected, ideally you should only call this function once in your app.\");\n                return this.connectUserTask;\n            }\n            if (this.userID) {\n                throw new Error(\"Use client.disconnect() before trying to connect as a different user. connectUser was called twice.\");\n            }\n            if ((this.secret || this.node) && !this.options.allowServerSideConnect) {\n                this.logger(\"warn\", \"Please do not use connectUser server side. Use our @stream-io/node-sdk instead: https://getstream.io/video/docs/api/\");\n            }\n            // we generate the client id client side\n            this.userID = user.id;\n            this.anonymous = false;\n            await this.tokenManager.setTokenOrProvider(tokenOrProvider, user, false);\n            this._setUser(user);\n            this.connectUserTask = this.openConnection();\n            try {\n                addConnectionEventListeners(this.updateNetworkConnectionStatus);\n                return await this.connectUserTask;\n            } catch (err) {\n                if (this.persistUserOnConnectionFailure) {\n                    // cleanup client to allow the user to retry connectUser again\n                    await this.closeConnection();\n                } else {\n                    await this.disconnectUser();\n                }\n                throw err;\n            }\n        };\n        this._setUser = (user)=>{\n            /**\n             * This one is used by the frontend. This is a copy of the current user object stored on backend.\n             * It contains reserved properties and own user properties which are not present in `this._user`.\n             */ this.user = user;\n            this.userID = user.id;\n            // this one is actually used for requests. This is a copy of current user provided to `connectUser` function.\n            this._user = {\n                ...user\n            };\n        };\n        /**\n         * Disconnects the websocket connection, without removing the user set on client.\n         * client.closeConnection will not trigger default auto-retry mechanism for reconnection. You need\n         * to call client.openConnection to reconnect to websocket.\n         *\n         * This is mainly useful on mobile side. You can only receive push notifications\n         * if you don't have active websocket connection.\n         * So when your app goes to background, you can call `client.closeConnection`.\n         * And when app comes back to foreground, call `client.openConnection`.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming succesful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.closeConnection = async (timeout)=>{\n            await this.wsConnection?.disconnect(timeout);\n        };\n        /**\n         * Creates a new WebSocket connection with the current user. Returns empty promise, if there is an active connection\n         */ this.openConnection = async ()=>{\n            if (!this.userID) {\n                throw Error(\"UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead\");\n            }\n            const wsPromise = this.wsPromiseSafe?.();\n            if (this.wsConnection?.isConnecting && wsPromise) {\n                this.logger(\"info\", \"client:openConnection() - connection already in progress\");\n                return await wsPromise;\n            }\n            if (this.wsConnection?.isHealthy && this._hasConnectionID()) {\n                this.logger(\"info\", \"client:openConnection() - openConnection called twice, healthy connection already exists\");\n                return;\n            }\n            this._setupConnectionIdPromise();\n            this.clientID = `${this.userID}--${generateUUIDv4()}`;\n            const newWsPromise = this.connect();\n            this.wsPromiseSafe = makeSafePromise(newWsPromise);\n            return await newWsPromise;\n        };\n        /**\n         * Disconnects the websocket and removes the user from client.\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            this.logger(\"info\", \"client:disconnect() - Disconnecting the client\");\n            // remove the user specific fields\n            delete this.user;\n            delete this._user;\n            delete this.userID;\n            this.anonymous = false;\n            await this.closeConnection(timeout);\n            removeConnectionEventListeners(this.updateNetworkConnectionStatus);\n            this.tokenManager.reset();\n            this.connectionIdPromiseSafe = undefined;\n            this.rejectConnectionId = undefined;\n            this.resolveConnectionId = undefined;\n        };\n        this.connectGuestUser = async (user)=>{\n            this.guestUserCreatePromise = this.doAxiosRequest(\"post\", \"/guest\", {\n                user\n            }, {\n                publicEndpoint: true\n            });\n            const response = await this.guestUserCreatePromise;\n            this.guestUserCreatePromise.finally(()=>this.guestUserCreatePromise = undefined);\n            return this.connectUser(response.user, response.access_token);\n        };\n        /**\n         * connectAnonymousUser - Set an anonymous user and open a WebSocket connection\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            addConnectionEventListeners(this.updateNetworkConnectionStatus);\n            this._setupConnectionIdPromise();\n            this.anonymous = true;\n            await this.tokenManager.setTokenOrProvider(tokenOrProvider, user, true);\n            this._setUser(user);\n            // some endpoints require a connection_id to be resolved.\n            // as anonymous users aren't allowed to open WS connections, we just\n            // resolve the connection_id here.\n            this.resolveConnectionId?.();\n        };\n        /**\n         * on - Listen to events on all channels and users your watching\n         *\n         * client.on('message.new', event => {console.log(\"my new message\", event, channel.state.messages)})\n         *\n         * @param eventName The event type to listen for (optional)\n         * @param callback The callback to call\n         *\n         * @return  Returns a function which, when called, unsubscribes the event handler.\n         */ this.on = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Adding listener for ${eventName} event`);\n            this.listeners[eventName]?.push(callback);\n            return ()=>{\n                this.off(eventName, callback);\n            };\n        };\n        /**\n         * off - Remove the event handler\n         */ this.off = (eventName, callback)=>{\n            if (!this.listeners[eventName]) {\n                this.listeners[eventName] = [];\n            }\n            this.logger(\"debug\", `Removing listener for ${eventName} event`);\n            this.listeners[eventName] = this.listeners[eventName]?.filter((value)=>value !== callback);\n        };\n        /**\n         * sets up the this.connectionIdPromise\n         */ this._setupConnectionIdPromise = ()=>{\n            /** a promise that is resolved once connection id is set */ this.connectionIdPromiseSafe = makeSafePromise(new Promise((resolve, reject)=>{\n                this.resolveConnectionId = resolve;\n                this.rejectConnectionId = reject;\n            }));\n        };\n        this._logApiRequest = (type, url, data, config)=>{\n            if (getLogLevel() !== \"trace\") return;\n            this.logger(\"trace\", `client: ${type} - Request - ${url}`, {\n                payload: data,\n                config\n            });\n        };\n        this._logApiResponse = (type, url, response)=>{\n            if (getLogLevel() !== \"trace\") return;\n            this.logger(\"trace\", `client:${type} - Response - url: ${url} > status ${response.status}`, {\n                response\n            });\n        };\n        this._logApiError = (type, url, error)=>{\n            this.logger(\"error\", `client:${type} - Error - url: ${url}`, {\n                url,\n                error\n            });\n        };\n        this.doAxiosRequest = async (type, url, data, options = {})=>{\n            if (!options.publicEndpoint) {\n                await Promise.all([\n                    this.tokenManager.tokenReady(),\n                    this.guestUserCreatePromise\n                ]);\n                // we need to wait for presence of connection id before making requests\n                try {\n                    await this.connectionIdPromise;\n                } catch  {\n                    // in case connection id was rejected\n                    // reconnection maybe in progress\n                    // we can wait for healthy connection to resolve, which rejects when 15s timeout is reached\n                    await this.wsConnection?._waitForHealthy();\n                    await this.connectionIdPromise;\n                }\n            }\n            const requestConfig = this._enrichAxiosOptions(options);\n            try {\n                let response;\n                this._logApiRequest(type, url, data, requestConfig);\n                switch(type){\n                    case \"get\":\n                        response = await this.axiosInstance.get(url, requestConfig);\n                        break;\n                    case \"delete\":\n                        response = await this.axiosInstance.delete(url, requestConfig);\n                        break;\n                    case \"post\":\n                        response = await this.axiosInstance.post(url, data, requestConfig);\n                        break;\n                    case \"put\":\n                        response = await this.axiosInstance.put(url, data, requestConfig);\n                        break;\n                    case \"patch\":\n                        response = await this.axiosInstance.patch(url, data, requestConfig);\n                        break;\n                    case \"options\":\n                        response = await this.axiosInstance.options(url, requestConfig);\n                        break;\n                    default:\n                        throw new Error(\"Invalid request type\");\n                }\n                this._logApiResponse(type, url, response);\n                this.consecutiveFailures = 0;\n                return this.handleResponse(response);\n            } catch (e /**TODO: generalize error types  */ ) {\n                e.client_request_id = requestConfig.headers?.[\"x-client-request-id\"];\n                this.consecutiveFailures += 1;\n                if (e.response) {\n                    this._logApiError(type, url, e.response);\n                    /** connection_fallback depends on this token expiration logic */ if (e.response.data.code === KnownCodes.TOKEN_EXPIRED && !this.tokenManager.isStatic()) {\n                        if (this.consecutiveFailures > 1) {\n                            await sleep(retryInterval(this.consecutiveFailures));\n                        }\n                        await this.tokenManager.loadToken();\n                        return await this.doAxiosRequest(type, url, data, options);\n                    }\n                    return this.handleResponse(e.response);\n                } else {\n                    this._logApiError(type, url, e);\n                    throw e;\n                }\n            }\n        };\n        this.get = (url, params)=>{\n            return this.doAxiosRequest(\"get\", url, null, {\n                params\n            });\n        };\n        this.put = (url, data, params)=>{\n            return this.doAxiosRequest(\"put\", url, data, {\n                params\n            });\n        };\n        this.post = (url, data, params)=>{\n            return this.doAxiosRequest(\"post\", url, data, {\n                params\n            });\n        };\n        this.patch = (url, data, params)=>{\n            return this.doAxiosRequest(\"patch\", url, data, {\n                params\n            });\n        };\n        this.delete = (url, params)=>{\n            return this.doAxiosRequest(\"delete\", url, null, {\n                params\n            });\n        };\n        this.errorFromResponse = (response)=>{\n            const { data, status } = response;\n            return new ErrorFromResponse({\n                message: `Stream error code ${data.code}: ${data.message}`,\n                code: data.code ?? null,\n                unrecoverable: data.unrecoverable ?? null,\n                response: response,\n                status: status\n            });\n        };\n        this.handleResponse = (response)=>{\n            const data = response.data;\n            if (isErrorResponse(response)) {\n                throw this.errorFromResponse(response);\n            }\n            return data;\n        };\n        this.dispatchEvent = (event)=>{\n            this.logger(\"debug\", `Dispatching event: ${event.type}`, event);\n            if (!this.listeners) return;\n            // call generic listeners\n            for (const listener of this.listeners.all || []){\n                listener(event);\n            }\n            // call type specific listeners\n            for (const listener of this.listeners[event.type] || []){\n                listener(event);\n            }\n        };\n        /**\n         * @private\n         */ this.connect = async ()=>{\n            if (!this.userID || !this._user) {\n                throw Error(\"Call connectUser or connectAnonymousUser before starting the connection\");\n            }\n            if (!this.wsBaseURL) throw Error(\"Websocket base url not set\");\n            if (!this.clientID) throw Error(\"clientID is not set\");\n            // The StableWSConnection handles all the reconnection logic.\n            this.wsConnection = new StableWSConnection(this);\n            this.logger(\"info\", \"StreamClient.connect: this.wsConnection.connect()\");\n            return await this.wsConnection.connect(this.defaultWSTimeout);\n        };\n        this.getUserAgent = ()=>{\n            if (!this.cachedUserAgent) {\n                const { clientAppIdentifier = {} } = this.options;\n                const { sdkName = \"js\", sdkVersion = \"1.25.0\", ...extras } = clientAppIdentifier;\n                this.cachedUserAgent = [\n                    `stream-video-${sdkName}-v${sdkVersion}`,\n                    ...Object.entries(extras).map(([key, value])=>`${key}=${value}`),\n                    `client_bundle=${\"node-esm\"}`\n                ].join(\"|\");\n            }\n            return this.cachedUserAgent;\n        };\n        this._enrichAxiosOptions = (options = {\n            params: {},\n            headers: {},\n            config: {}\n        })=>{\n            const token = options.publicEndpoint && !this.user ? undefined : this._getToken();\n            const authorization = token ? {\n                Authorization: token\n            } : undefined;\n            if (!options.headers?.[\"x-client-request-id\"]) {\n                options.headers = {\n                    ...options.headers,\n                    \"x-client-request-id\": generateUUIDv4()\n                };\n            }\n            return {\n                params: {\n                    user_id: this.userID,\n                    connection_id: this._getConnectionID(),\n                    api_key: this.key,\n                    ...options.params\n                },\n                headers: {\n                    ...authorization,\n                    \"stream-auth-type\": options.publicEndpoint && !this.user ? \"anonymous\" : this.getAuthType(),\n                    \"X-Stream-Client\": this.getUserAgent(),\n                    ...options.headers\n                },\n                ...options.config,\n                ...this.options.axiosRequestConfig\n            };\n        };\n        this._getToken = ()=>{\n            if (!this.tokenManager) return null;\n            return this.tokenManager.getToken();\n        };\n        this.updateNetworkConnectionStatus = (event)=>{\n            if (event.type === \"offline\") {\n                this.logger(\"debug\", \"device went offline\");\n                this.dispatchEvent({\n                    type: \"network.changed\",\n                    online: false\n                });\n            } else if (event.type === \"online\") {\n                this.logger(\"debug\", \"device went online\");\n                this.dispatchEvent({\n                    type: \"network.changed\",\n                    online: true\n                });\n            }\n        };\n        // set the key\n        this.key = key;\n        // set the secret\n        this.secret = options?.secret;\n        // set the options... and figure out defaults...\n        const inputOptions = options ? options : {\n            browser: \"undefined\" !== \"undefined\"\n        };\n        this.browser = inputOptions.browser || \"undefined\" !== \"undefined\";\n        this.node = !this.browser;\n        if (this.browser) {\n            this.locationHint = getLocationHint(options?.locationHintUrl, options?.locationHintTimeout, options?.locationHintMaxAttempts);\n        }\n        this.options = {\n            timeout: 5000,\n            withCredentials: false,\n            ...inputOptions\n        };\n        if (this.node && !this.options.httpsAgent) {\n            this.options.httpsAgent = new (https__WEBPACK_IMPORTED_MODULE_4___default().Agent)({\n                keepAlive: true,\n                keepAliveMsecs: 3000\n            });\n        }\n        this.setBaseURL(this.options.baseURL || \"https://video.stream-io-api.com/video\");\n        this.axiosInstance = axios__WEBPACK_IMPORTED_MODULE_30__[\"default\"].create({\n            ...this.options,\n            baseURL: this.baseURL\n        });\n        // WS connection is initialized when setUser is called\n        this.wsConnection = null;\n        this.wsPromiseSafe = null;\n        this.connectUserTask = null;\n        // mapping between channel groups and configs\n        this.anonymous = false;\n        this.persistUserOnConnectionFailure = this.options?.persistUserOnConnectionFailure;\n        // If it is a server-side client, then lets initialize the tokenManager, since token will be\n        // generated from secret.\n        this.tokenManager = new TokenManager(this.secret);\n        this.consecutiveFailures = 0;\n        this.defaultWSTimeout = this.options.defaultWsTimeout ?? 15000;\n        this.logger = isFunction(inputOptions.logger) ? inputOptions.logger : ()=>null;\n    }\n    get connectionIdPromise() {\n        return this.connectionIdPromiseSafe?.();\n    }\n    get isConnectionIsPromisePending() {\n        return this.connectionIdPromiseSafe?.checkPending() ?? false;\n    }\n    get wsPromise() {\n        return this.wsPromiseSafe?.();\n    }\n}\n/**\n * Utility function to get the instance key.\n */ const getInstanceKey = (apiKey, user)=>{\n    return `${apiKey}/${user.id}`;\n};\n/**\n * Utility function to get the client app identifier.\n */ const getClientAppIdentifier = (options)=>{\n    const appId = options?.clientAppIdentifier || {};\n    const sdkInfo = getSdkInfo();\n    if (sdkInfo) {\n        // ensure the sdk name and version are set correctly,\n        // overriding any user-provided values\n        appId.sdkName = SdkType[sdkInfo.type].toLowerCase();\n        appId.sdkVersion = `${sdkInfo.major}.${sdkInfo.minor}.${sdkInfo.patch}`;\n    }\n    return appId;\n};\n/**\n * Creates a coordinator client.\n */ const createCoordinatorClient = (apiKey, options)=>{\n    const clientAppIdentifier = getClientAppIdentifier(options);\n    const coordinatorLogger = getLogger([\n        \"coordinator\"\n    ]);\n    return new StreamClient(apiKey, {\n        persistUserOnConnectionFailure: true,\n        ...options,\n        clientAppIdentifier,\n        logger: coordinatorLogger\n    });\n};\n/**\n * Creates a token provider and allows integrators to provide\n * a static token and a token provider at the same time.\n *\n * When both of them are provided, this function will create an internal\n * token provider that will use the static token on the first invocation\n * and the token provider on the later invocations.\n */ const createTokenOrProvider = (options)=>{\n    const { token, tokenProvider } = options;\n    if (token && tokenProvider) {\n        let initialTokenUsed = false;\n        return async function wrappedTokenProvider() {\n            if (!initialTokenUsed) {\n                initialTokenUsed = true;\n                return token;\n            }\n            return tokenProvider();\n        };\n    }\n    return token || tokenProvider;\n};\n/**\n * A `StreamVideoClient` instance lets you communicate with our API, and authenticate users.\n */ class StreamVideoClient {\n    constructor(apiKeyOrArgs, opts){\n        this.effectsRegistered = false;\n        this.eventHandlersToUnregister = [];\n        this.connectionConcurrencyTag = Symbol(\"connectionConcurrencyTag\");\n        this.registerClientInstance = (apiKey, user)=>{\n            const instanceKey = getInstanceKey(apiKey, user);\n            if (StreamVideoClient._instances.has(instanceKey)) {\n                this.logger(\"warn\", `A StreamVideoClient already exists for ${user.id}; Prefer using getOrCreateInstance method`);\n            }\n            StreamVideoClient._instances.set(instanceKey, this);\n        };\n        this.registerEffects = ()=>{\n            if (this.effectsRegistered) return;\n            this.eventHandlersToUnregister.push(this.on(\"connection.changed\", (event)=>{\n                if (!event.online) return;\n                const callsToReWatch = this.writeableStateStore.calls.filter((call)=>call.watching).map((call)=>call.cid);\n                if (callsToReWatch.length <= 0) return;\n                this.logger(\"info\", `Rewatching calls ${callsToReWatch.join(\", \")}`);\n                this.queryCalls({\n                    watch: true,\n                    filter_conditions: {\n                        cid: {\n                            $in: callsToReWatch\n                        }\n                    },\n                    sort: [\n                        {\n                            field: \"cid\",\n                            direction: 1\n                        }\n                    ]\n                }).catch((err)=>{\n                    this.logger(\"error\", \"Failed to re-watch calls\", err);\n                });\n            }));\n            this.eventHandlersToUnregister.push(this.on(\"call.created\", (event)=>{\n                const { call, members } = event;\n                if (this.state.connectedUser?.id === call.created_by.id) {\n                    this.logger(\"warn\", \"Received `call.created` sent by the current user\");\n                    return;\n                }\n                this.logger(\"info\", `New call created and registered: ${call.cid}`);\n                const newCall = new Call({\n                    streamClient: this.streamClient,\n                    type: call.type,\n                    id: call.id,\n                    members,\n                    clientStore: this.writeableStateStore\n                });\n                newCall.state.updateFromCallResponse(call);\n                this.writeableStateStore.registerCall(newCall);\n            }));\n            this.eventHandlersToUnregister.push(this.on(\"call.ring\", async (event)=>{\n                const { call, members } = event;\n                if (this.state.connectedUser?.id === call.created_by.id) {\n                    this.logger(\"debug\", \"Received `call.ring` sent by the current user so ignoring the event\");\n                    return;\n                }\n                // if `call.created` was received before `call.ring`.\n                // the client already has the call instance and we just need to update the state\n                const theCall = this.writeableStateStore.findCall(call.type, call.id);\n                if (theCall) {\n                    await theCall.updateFromRingingEvent(event);\n                } else {\n                    // if client doesn't have the call instance, create the instance and fetch the latest state\n                    // Note: related - we also have onRingingCall method to handle this case from push notifications\n                    const newCallInstance = new Call({\n                        streamClient: this.streamClient,\n                        type: call.type,\n                        id: call.id,\n                        members,\n                        clientStore: this.writeableStateStore,\n                        ringing: true\n                    });\n                    await newCallInstance.get();\n                }\n            }));\n            this.effectsRegistered = true;\n        };\n        /**\n         * Connects the given user to the client.\n         * Only one user can connect at a time, if you want to change users, call `disconnectUser` before connecting a new user.\n         * If the connection is successful, the connected user [state variable](#readonlystatestore) will be updated accordingly.\n         *\n         * @param user the user to connect.\n         * @param tokenOrProvider a token or a function that returns a token.\n         */ this.connectUser = async (user, tokenOrProvider)=>{\n            if (user.type === \"anonymous\") {\n                user.id = \"!anon\";\n                return this.connectAnonymousUser(user, tokenOrProvider);\n            }\n            const connectUserResponse = await withoutConcurrency(this.connectionConcurrencyTag, async ()=>{\n                const client = this.streamClient;\n                const { onConnectUserError, persistUserOnConnectionFailure } = client.options;\n                let { maxConnectUserRetries = 5 } = client.options;\n                maxConnectUserRetries = Math.max(maxConnectUserRetries, 1);\n                const errorQueue = [];\n                for(let attempt = 0; attempt < maxConnectUserRetries; attempt++){\n                    try {\n                        this.logger(\"trace\", `Connecting user (${attempt})`, user);\n                        return user.type === \"guest\" ? await client.connectGuestUser(user) : await client.connectUser(user, tokenOrProvider);\n                    } catch (err) {\n                        this.logger(\"warn\", `Failed to connect a user (${attempt})`, err);\n                        errorQueue.push(err);\n                        if (attempt === maxConnectUserRetries - 1) {\n                            onConnectUserError?.(err, errorQueue);\n                            throw err;\n                        }\n                        // we need to force to disconnect the user if the client is\n                        // configured to persist the user on connection failure\n                        if (persistUserOnConnectionFailure) {\n                            await client.disconnectUser();\n                        }\n                        await sleep(retryInterval(attempt));\n                    }\n                }\n            });\n            // connectUserResponse will be void if connectUser called twice for the same user\n            if (connectUserResponse?.me) {\n                this.writeableStateStore.setConnectedUser(connectUserResponse.me);\n            }\n            this.registerEffects();\n            return connectUserResponse;\n        };\n        /**\n         * Disconnects the currently connected user from the client.\n         *\n         * If the connection is successfully disconnected, the connected user [state variable](#readonlystatestore) will be updated accordingly\n         *\n         * @param timeout Max number of ms, to wait for close event of websocket, before forcefully assuming successful disconnection.\n         *                https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\n         */ this.disconnectUser = async (timeout)=>{\n            await withoutConcurrency(this.connectionConcurrencyTag, async ()=>{\n                const { user, key } = this.streamClient;\n                if (!user) return;\n                await this.streamClient.disconnectUser(timeout);\n                if (user.id) {\n                    StreamVideoClient._instances.delete(getInstanceKey(key, user));\n                }\n                this.eventHandlersToUnregister.forEach((unregister)=>unregister());\n                this.eventHandlersToUnregister = [];\n                this.effectsRegistered = false;\n                this.writeableStateStore.setConnectedUser(undefined);\n            });\n        };\n        /**\n         * You can subscribe to WebSocket events provided by the API.\n         * To remove a subscription, call the `off` method or, execute the returned unsubscribe function.\n         * Please note that subscribing to WebSocket events is an advanced use-case, for most use-cases it should be enough to watch for changes in the reactive [state store](#readonlystatestore).\n         *\n         * @param eventName the event name or 'all'.\n         * @param callback the callback which will be called when the event is emitted.\n         * @returns an unsubscribe function.\n         */ this.on = (eventName, callback)=>{\n            return this.streamClient.on(eventName, callback);\n        };\n        /**\n         * Remove subscription for WebSocket events that were created by the `on` method.\n         *\n         * @param eventName the event name.\n         * @param callback the callback which was passed to the `on` method.\n         */ this.off = (eventName, callback)=>{\n            return this.streamClient.off(eventName, callback);\n        };\n        /**\n         * Creates a new call.\n         *\n         * @param type the type of the call.\n         * @param id the id of the call.\n         */ this.call = (type, id, options = {})=>{\n            const call = options.reuseInstance ? this.writeableStateStore.findCall(type, id) : undefined;\n            return call ?? new Call({\n                streamClient: this.streamClient,\n                id: id,\n                type: type,\n                clientStore: this.writeableStateStore\n            });\n        };\n        /**\n         * Creates a new guest user with the given data.\n         *\n         * @param data the data for the guest user.\n         */ this.createGuestUser = async (data)=>{\n            return this.streamClient.doAxiosRequest(\"post\", \"/guest\", data, {\n                publicEndpoint: true\n            });\n        };\n        /**\n         * Will query the API for calls matching the given filters.\n         *\n         * @param data the query data.\n         */ this.queryCalls = async (data = {})=>{\n            const response = await this.streamClient.post(\"/calls\", data);\n            const calls = [];\n            for (const c of response.calls){\n                const call = new Call({\n                    streamClient: this.streamClient,\n                    id: c.call.id,\n                    type: c.call.type,\n                    members: c.members,\n                    ownCapabilities: c.own_capabilities,\n                    watching: data.watch,\n                    clientStore: this.writeableStateStore\n                });\n                call.state.updateFromCallResponse(c.call);\n                await call.applyDeviceConfig(c.call.settings, false);\n                if (data.watch) {\n                    await call.setup();\n                    this.writeableStateStore.registerCall(call);\n                }\n                calls.push(call);\n            }\n            return {\n                ...response,\n                calls: calls\n            };\n        };\n        /**\n         * Retrieve the list of available call statistics reports matching a particular condition.\n         *\n         * @param data Filter and sort conditions for retrieving available call report summaries.\n         * @returns List with summary of available call reports matching the condition.\n         */ this.queryCallStats = async (data = {})=>{\n            return this.streamClient.post(`/call/stats`, data);\n        };\n        /**\n         * Retrieve the list of available reports aggregated from the call stats.\n         *\n         * @param data Specify filter conditions like from and to (within last 30 days) and the report types\n         * @returns Requested reports with (mostly) raw daily data for each report type requested\n         */ this.queryAggregateCallStats = async (data = {})=>{\n            return this.streamClient.post(`/stats`, data);\n        };\n        /**\n         * Returns a list of available data centers available for hosting calls.\n         */ this.edges = async ()=>{\n            return this.streamClient.get(`/edges`);\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         * @param {boolean} [voip_token] enables use of VoIP token for push notifications on iOS platform\n         */ this.addDevice = async (id, push_provider, push_provider_name, userID, voip_token)=>{\n            return await this.streamClient.post(\"/devices\", {\n                id,\n                push_provider,\n                voip_token,\n                ...userID != null ? {\n                    user_id: userID\n                } : {},\n                ...push_provider_name != null ? {\n                    push_provider_name\n                } : {}\n            });\n        };\n        /**\n         * addDevice - Adds a push device for a user.\n         *\n         * @param {string} id the device id\n         * @param {string} push_provider the push provider name (eg. apn, firebase)\n         * @param {string} push_provider_name user provided push provider name\n         * @param {string} [userID] the user id (defaults to current user)\n         */ this.addVoipDevice = async (id, push_provider, push_provider_name, userID)=>{\n            return await this.addDevice(id, push_provider, push_provider_name, userID, true);\n        };\n        /**\n         * getDevices - Returns the devices associated with a current user\n         * @param {string} [userID] User ID. Only works on serverside\n         */ this.getDevices = async (userID)=>{\n            return await this.streamClient.get(\"/devices\", userID ? {\n                user_id: userID\n            } : {});\n        };\n        /**\n         * removeDevice - Removes the device with the given id.\n         *\n         * @param {string} id The device id\n         * @param {string} [userID] The user id. Only specify this for serverside requests\n         */ this.removeDevice = async (id, userID)=>{\n            return await this.streamClient.delete(\"/devices\", {\n                id,\n                ...userID ? {\n                    user_id: userID\n                } : {}\n            });\n        };\n        /**\n         * A callback that can be used to create ringing calls from push notifications. If the call already exists, it will do nothing.\n         * @param call_cid\n         * @returns\n         */ this.onRingingCall = async (call_cid)=>{\n            // if we find the call and is already ringing, we don't need to create a new call\n            // as client would have received the call.ring state because the app had WS alive when receiving push notifications\n            let call = this.state.calls.find((c)=>c.cid === call_cid && c.ringing);\n            if (!call) {\n                // if not it means that WS is not alive when receiving the push notifications and we need to fetch the call\n                const [callType, callId] = call_cid.split(\":\");\n                call = new Call({\n                    streamClient: this.streamClient,\n                    type: callType,\n                    id: callId,\n                    clientStore: this.writeableStateStore,\n                    ringing: true\n                });\n                await call.get();\n            }\n            return call;\n        };\n        /**\n         * Connects the given anonymous user to the client.\n         *\n         * @param user the user to connect.\n         * @param tokenOrProvider a token or a function that returns a token.\n         */ this.connectAnonymousUser = async (user, tokenOrProvider)=>{\n            return withoutConcurrency(this.connectionConcurrencyTag, ()=>this.streamClient.connectAnonymousUser(user, tokenOrProvider));\n        };\n        const apiKey = typeof apiKeyOrArgs === \"string\" ? apiKeyOrArgs : apiKeyOrArgs.apiKey;\n        const clientOptions = typeof apiKeyOrArgs === \"string\" ? opts : apiKeyOrArgs.options;\n        if (clientOptions?.enableTimerWorker) enableTimerWorker();\n        const rootLogger = clientOptions?.logger || logToConsole;\n        setLogger(rootLogger, clientOptions?.logLevel || \"warn\");\n        this.logger = getLogger([\n            \"client\"\n        ]);\n        this.streamClient = createCoordinatorClient(apiKey, clientOptions);\n        this.writeableStateStore = new StreamVideoWriteableStateStore();\n        this.readOnlyStateStore = new StreamVideoReadOnlyStateStore(this.writeableStateStore);\n        if (typeof apiKeyOrArgs !== \"string\" && apiKeyOrArgs.user) {\n            const user = apiKeyOrArgs.user;\n            if (user.type === \"anonymous\") user.id = \"!anon\";\n            if (user.id) this.registerClientInstance(apiKey, user);\n            const tokenOrProvider = createTokenOrProvider(apiKeyOrArgs);\n            this.connectUser(user, tokenOrProvider).catch((err)=>{\n                this.logger(\"error\", \"Failed to connect\", err);\n            });\n        }\n    }\n    /**\n     * Gets or creates a StreamVideoClient instance based on the given options.\n     */ static getOrCreateInstance(args) {\n        const { apiKey, user, token, tokenProvider } = args;\n        if (!user.id && user.type !== \"anonymous\") {\n            throw new Error(\"user.id is required for a non-anonymous user\");\n        }\n        if (!token && !tokenProvider && user.type !== \"anonymous\" && user.type !== \"guest\") {\n            throw new Error(\"tokenProvider or token is required for a authenticated users\");\n        }\n        return StreamVideoClient._instances.get(getInstanceKey(apiKey, user)) || new StreamVideoClient(args);\n    }\n    /**\n     * Return the reactive state store, use this if you want to be notified about changes to the client state\n     */ get state() {\n        return this.readOnlyStateStore;\n    }\n}\nStreamVideoClient._instances = new Map();\n //# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1jbGllbnQvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEscUJBd0hBOztDQUVHLEdBQ1UsTUFBQUEsd0NBQXdDO0lBQ25EQyxTQUFTO0lBQ1RDLFVBQVU7O0FBdURaOztDQUVHLEdBQ1UsTUFBQUMseUNBQXlDO0lBQ3BERixTQUFTO0lBQ1RDLFVBQVU7O0FBd3lGWjs7Q0FFRyxHQUNVLE1BQUFFLHNDQUFzQztJQUNqREMsVUFBVTtJQUNWQyxLQUFLO0lBQ0xDLFFBQVE7SUFDUkMsUUFBUTs7QUEwaEJWOztDQUVHLEdBQ1UsTUFBQUMsd0NBQXdDO0lBQ25EQyxXQUFXO0lBQ1hDLFVBQVU7SUFDVkMsU0FBUzs7QUFLWDs7Q0FFRyxHQUNVLE1BQUFDLDJDQUEyQztJQUN0REMsT0FBTztJQUNQQyxPQUFPO0lBQ1BDLE9BQU87SUFDUEMsUUFBUTtJQUNSQyxRQUFRO0lBQ1JDLFFBQVE7O0FBK0JWOztDQUVHLEdBQ1UsTUFBQUMseUNBQXlDO0lBQ3BEVixXQUFXO0lBQ1hDLFVBQVU7SUFDVkMsU0FBUzs7QUF1aUJYOztDQUVHLEdBQ1UsTUFBQVMsZ0NBQWdDO0lBQzNDQyxXQUFXO0lBQ1hDLE1BQU07SUFDTkMsb0JBQW9CO0lBQ3BCQyxRQUFRO0lBQ1JDLFFBQVE7O0FBZ1NWOztDQUVHLEdBQ1UsTUFBQUMsb0NBQW9DO0lBQy9DakIsV0FBVztJQUNYQyxVQUFVO0lBQ1ZDLFNBQVM7O0FBS1g7OztDQUdHLEdBQ1UsTUFBQWdCLGdCQUFnQjtJQUMzQkMsYUFBYTtJQUNiQyxxQkFBcUI7SUFDckJDLGFBQWE7SUFDYkMsaUJBQWlCO0lBQ2pCQywyQkFBMkI7SUFDM0JDLFVBQVU7SUFDVkMsZ0JBQWdCO0lBQ2hCQyxXQUFXO0lBQ1hDLGlCQUFpQjtJQUNqQkMsWUFBWTtJQUNaQyxrQkFBa0I7SUFDbEJDLFdBQVc7SUFDWEMsb0JBQW9CO0lBQ3BCQyxhQUFhO0lBQ2JDLFlBQVk7SUFDWkMsWUFBWTtJQUNaQyxzQkFBc0I7SUFDdEJDLDRCQUE0QjtJQUM1QkMseUJBQXlCO0lBQ3pCQyxtQkFBbUI7SUFDbkJDLDBCQUEwQjtJQUMxQkMscUJBQXFCO0lBQ3JCQywyQkFBMkI7SUFDM0JDLHdCQUF3QjtJQUN4QkMsa0JBQWtCO0lBQ2xCQyx5QkFBeUI7SUFDekJDLGFBQWE7SUFDYkMsb0JBQW9CO0lBQ3BCQyx5QkFBeUI7SUFDekJDLHNCQUFzQjs7QUFteUJ4Qjs7Q0FFRyxHQUNVLE1BQUFDLGtDQUFrQztJQUM3QzdDLE9BQU87SUFDUEMsT0FBTztJQUNQQyxPQUFPO0lBQ1BDLFFBQVE7SUFDUkMsUUFBUTtJQUNSQyxRQUFRO0lBQ1J5QyxrQkFBa0I7SUFDbEJDLGtCQUFrQjtJQUNsQkMsbUJBQW1CO0lBQ25CQyxvQkFBb0I7SUFDcEJDLG9CQUFvQjtJQUNwQkMsb0JBQW9COztBQXNDdEI7O0NBRUcsR0FDVSxNQUFBQyxpQ0FBaUM7SUFDNUNwRCxPQUFPO0lBQ1BDLE9BQU87SUFDUEMsT0FBTztJQUNQQyxRQUFRO0lBQ1JDLFFBQVE7SUFDUkMsUUFBUTtJQUNSeUMsa0JBQWtCO0lBQ2xCQyxrQkFBa0I7SUFDbEJDLG1CQUFtQjtJQUNuQkMsb0JBQW9CO0lBQ3BCQyxvQkFBb0I7SUFDcEJDLG9CQUFvQjs7QUFpRnRCOztDQUVHLEdBQ1UsTUFBQUUsZ0NBQWdDO0lBQzNDekQsV0FBVztJQUNYQyxVQUFVO0lBQ1ZDLFNBQVM7O0FBS1g7O0NBRUcsR0FDVSxNQUFBd0QsbUNBQW1DO0lBQzlDdEQsT0FBTztJQUNQQyxPQUFPO0lBQ1BDLE9BQU87SUFDUEMsUUFBUTtJQUNSQyxRQUFRO0lBQ1JDLFFBQVE7SUFDUnlDLGtCQUFrQjtJQUNsQkMsa0JBQWtCO0lBQ2xCQyxtQkFBbUI7SUFDbkJDLG9CQUFvQjtJQUNwQkMsb0JBQW9CO0lBQ3BCQyxvQkFBb0I7O0FBaWN0Qjs7Q0FFRyxHQUNVLE1BQUFJLHlDQUF5QztJQUNwREMsTUFBTTtJQUNOQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTs7QUE2SU47O0NBRUcsR0FDVSxNQUFBQyx3Q0FBd0M7SUFDbkRyQyxNQUFNO0lBQ05DLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJOztBQXdWTjs7Q0FFRyxHQUNVLE1BQUFFLG9EQUFvRDtJQUMvRGxHLFdBQVc7SUFDWEMsVUFBVTtJQUNWQyxTQUFTOztBQUtYOztDQUVHLEdBQ1UsTUFBQWlHLDJDQUEyQztJQUN0RHZDLE1BQU07SUFDTkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7O0FBS047O0NBRUcsR0FDVSxNQUFBSSx1Q0FBdUM7SUFDbERwRyxXQUFXO0lBQ1hDLFVBQVU7SUFDVkMsU0FBUzs7QUErQlg7O0NBRUcsR0FDVSxNQUFBbUcscURBQXFEO0lBQ2hFckcsV0FBVztJQUNYQyxVQUFVO0lBQ1ZDLFNBQVM7O0FBS1g7O0NBRUcsR0FDVSxNQUFBb0csNENBQTRDO0lBQ3ZEMUMsTUFBTTtJQUNOQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTtJQUNKQyxJQUFJO0lBQ0pDLElBQUk7SUFDSkMsSUFBSTs7QUFLTjs7Q0FFRyxHQUNVLE1BQUFPLHdDQUF3QztJQUNuRHZHLFdBQVc7SUFDWEMsVUFBVTtJQUNWQyxTQUFTOztBQW92Qlg7O0NBRUcsR0FDVSxNQUFBc0csdUNBQXVDO0lBQ2xEQyxPQUFPO0lBQ1BDLE1BQU07SUFDTkMsVUFBVTs7QUEyQ1o7O0NBRUcsR0FDVSxNQUFBQyx3Q0FBd0M7SUFDbkRILE9BQU87SUFDUEMsTUFBTTtJQUNOQyxVQUFVOztBQzF4T04sTUFBT0UsMEJBQTZCQztJQU94Q0MsWUFBWSxFQUNWQyxPQUFPLEVBQ1BDLElBQUksRUFDSkMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JDLGFBQWEsRUFJZDtRQUNDLEtBQUssQ0FBQ0o7UUFiRCxJQUFJLENBQUFLLElBQUEsR0FBRztRQWNaLElBQUksQ0FBQ0osSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ0UsUUFBUSxHQUFHQTtRQUNoQixJQUFJLENBQUNELE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNFLGFBQWEsR0FBR0E7Ozs7SUFLaEJFLFNBQU07UUFDWCxNQUFNQyxRQUFRO1lBQ1o7Z0JBQUM7Z0JBQVUsSUFBSSxDQUFDTCxNQUFNO2FBQUM7WUFDdkI7Z0JBQUM7Z0JBQVEsSUFBSSxDQUFDRCxJQUFJO2FBQUM7WUFDbkI7Z0JBQUM7Z0JBQWlCLElBQUksQ0FBQ0csYUFBYTthQUFDO1NBQzdCO1FBRVYsTUFBTUksV0FBVyxFQUFFO1FBRW5CLEtBQUssTUFBTSxDQUFDQyxLQUFLQyxNQUFNLElBQUlILE1BQU87WUFDaEMsSUFBSSxPQUFPRyxVQUFVLGVBQWVBLFVBQVUsTUFBTTtnQkFDbERGLFNBQVNHLElBQUksQ0FBQyxHQUFHRixJQUFRLElBQUFDLE1BQU87OztRQUlwQyxPQUFPO1lBQ0xWLFNBQVMsSUFBSVEsU0FBU0ksSUFBSSxDQUFDLE1BQVksVUFBSSxDQUFDWixPQUFPLENBQUU7WUFDckRhLE9BQU8sSUFBSSxDQUFDQSxLQUFLO1lBQ2pCUixNQUFNLElBQUksQ0FBQ0EsSUFBSTs7O0FBR3BCO0FDbkZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcUhBOzs7Ozs7O0NBT0csR0FDSCxJQUFZUztBQUFaLFVBQVlBLFNBQVM7SUFDbkI7Ozs7S0FJRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7QUFDRixHQVBZQSxhQUFBQSxDQUFBQSxZQU9YO0FBQ0Q7QUFDQSxNQUFNQyxvQkFBb0JDLDZEQUFXQTtJQUNuQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsMEJBQTBCO1lBQzlCO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkMsR0FBRyxFQUFDO2dCQUNKQyxHQUFHO29CQUFFRixNQUFNO29CQUFXRyxHQUFHLElBQU1DO2dCQUFLO1lBQ3JDO1NBQ0Y7O0lBRUg7O0tBRUcsR0FDSEMsa0JBQWtCdkIsT0FBZSxFQUFFd0IsT0FBeUI7UUFDMUQsSUFBSUMsT0FBbUI7UUFDdkIsS0FBSyxJQUFJLENBQUNDLEdBQUdDLEVBQUUsSUFBSUMsT0FBT0MsT0FBTyxDQUFDN0IsUUFBUThCLE1BQU0sRUFBRztZQUNqREwsSUFBSSxDQUFDQyxFQUFFLEdBQUdKLE1BQU1TLE1BQU0sQ0FBQ0o7O1FBRXpCLE9BQU9GOztJQUVUOztLQUVHLEdBQ0hPLGlCQUNFUCxJQUFlLEVBQ2ZELE9BQXdCLEVBQ3hCUyxNQUFlO1FBRWYsSUFBSSxDQUFDQyxrRUFBWUEsQ0FBQ1QsT0FDaEIsTUFBTSxJQUFJVSxXQUFXckMsS0FBSyxDQUN4Qiw2QkFDRSxJQUFJLENBQUNzQyxRQUFRLEdBQ2IsZ0JBQ0FDLHFFQUFlQSxDQUFDWixRQUNoQjtRQUVOLElBQUksQ0FBQ1EsUUFBUUEsU0FBUyxJQUFJLENBQUNLLE1BQU07UUFDakMsS0FBSyxJQUFJLENBQUNaLEdBQUdDLEVBQUUsSUFBSVEsV0FBV1AsTUFBTSxDQUFDQyxPQUFPLENBQUNKLE1BQU87WUFDbERRLE9BQU9ILE1BQU0sQ0FBQ0osRUFBRSxHQUFHSixNQUFNaUIsUUFBUSxDQUFDWjs7UUFFcEMsT0FBT007O0FBRVY7QUFDRDs7Q0FFRyxHQUNJLE1BQU1PLFNBQVMsSUFBSXpCO0FBQzFCO0FBQ0EsTUFBTTBCLG1CQUFtQnpCLDZEQUFXQTtJQUNsQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMseUJBQXlCO1lBQzdCO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU07d0JBQUM7d0JBQTZCUDtxQkFBVTtZQUNsRDtZQUNEO2dCQUNFRyxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTW1CO1lBQ1Y7WUFDRDtnQkFDRXZCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNc0I7WUFDVjtTQUNGOztJQUVIOztLQUVHLEdBQ0hwQixrQkFBa0J2QixPQUFjLEVBQUV3QixPQUF5QjtRQUN6RCxJQUFJeEIsUUFBUWtCLElBQUksQ0FBQzBCLFNBQVMsS0FBS0MsV0FBVyxNQUFNLElBQUlWLFdBQVdyQyxLQUFLO1FBQ3BFLE9BQVFFLFFBQVFrQixJQUFJLENBQUMwQixTQUFTO1lBQzVCLEtBQUtDO2dCQUNILE1BQU0sSUFBSVYsV0FBV3JDLEtBQUs7WUFDNUIsS0FBSztnQkFDSCxPQUFPRSxRQUFRa0IsSUFBSSxDQUFDNEIsU0FBUztZQUMvQixLQUFLO2dCQUNILE9BQU87WUFDVCxLQUFLO2dCQUNILElBQUlDLGNBQWMvQyxRQUFRa0IsSUFBSSxDQUFDNkIsV0FBVztnQkFDMUMsSUFBSSxPQUFPQSxlQUFlLFlBQVksQ0FBQ0MsT0FBT0MsUUFBUSxDQUFDRixjQUNyRCxNQUFNLElBQUlaLFdBQVdyQyxLQUFLO2dCQUM1QixPQUFPaUQ7WUFDVCxLQUFLO2dCQUNILE9BQU8vQyxRQUFRa0IsSUFBSSxDQUFDZ0MsV0FBVztZQUNqQyxLQUFLO2dCQUNILElBQUlDLGlCQUFpQixJQUFJLENBQUNyQixNQUFNLENBQUNzQixJQUFJLENBQUMsQ0FBQ0MsSUFBTUEsRUFBRXBDLEVBQUUsS0FBSztnQkFDdEQsSUFBSWtDLGdCQUFnQmpDLFNBQVMsV0FBVyxNQUFNLElBQUlpQixXQUFXckMsS0FBSztnQkFDbEUsT0FBT3FELGVBQWU5QixDQUFDLEdBQUdVLE1BQU0sQ0FBQy9CLFFBQVFrQixJQUFJLENBQUNvQyxTQUFTO1lBQ3pELEtBQUs7Z0JBQ0gsSUFBSUMsbUJBQW1CLElBQUksQ0FBQ3pCLE1BQU0sQ0FBQ3NCLElBQUksQ0FBQyxDQUFDQyxJQUFNQSxFQUFFcEMsRUFBRSxLQUFLO2dCQUN4RCxJQUFJc0Msa0JBQWtCckMsU0FBUyxXQUFXLE1BQU0sSUFBSWlCLFdBQVdyQyxLQUFLO2dCQUNwRSxPQUFPeUQsaUJBQWlCbEMsQ0FBQyxHQUFHVSxNQUFNLENBQUMvQixRQUFRa0IsSUFBSSxDQUFDc0MsV0FBVzs7O0lBR2pFOztLQUVHLEdBQ0h4QixpQkFDRVAsSUFBZSxFQUNmRCxPQUF3QixFQUN4QlMsTUFBYztRQUVkLElBQUksQ0FBQ0EsUUFBUUEsU0FBUyxJQUFJLENBQUNLLE1BQU07UUFDakMsT0FBUSxPQUFPYjtZQUNiLEtBQUs7Z0JBQ0hRLE9BQU9mLElBQUksR0FBRztvQkFBRTBCLFdBQVc7b0JBQWVHLGFBQWF0QjtnQkFBSTtnQkFDM0Q7WUFDRixLQUFLO2dCQUNIUSxPQUFPZixJQUFJLEdBQUc7b0JBQUUwQixXQUFXO29CQUFlTSxhQUFhekI7Z0JBQUk7Z0JBQzNEO1lBQ0YsS0FBSztnQkFDSFEsT0FBT2YsSUFBSSxHQUFHO29CQUFFMEIsV0FBVztvQkFBYUUsV0FBV3JCO2dCQUFJO2dCQUN2RDtZQUNGLEtBQUs7Z0JBQ0gsSUFBSUEsU0FBUyxNQUFNO29CQUNqQlEsT0FBT2YsSUFBSSxHQUFHO3dCQUNaMEIsV0FBVzt3QkFDWGEsV0FBVzNDLFVBQVU0QyxVQUFVOzt1QkFFNUIsSUFBSXZCLFdBQVd3QixLQUFLLENBQUNDLE9BQU8sQ0FBQ25DLE9BQU87b0JBQ3pDUSxPQUFPZixJQUFJLEdBQUc7d0JBQ1owQixXQUFXO3dCQUNYVSxXQUFXWCxVQUFVSixRQUFRLENBQUNkOzt1QkFFM0I7b0JBQ0xRLE9BQU9mLElBQUksR0FBRzt3QkFDWjBCLFdBQVc7d0JBQ1hZLGFBQWFoQixPQUFPRCxRQUFRLENBQUNkOzs7Z0JBR2pDO1lBQ0Y7Z0JBQ0UsTUFBTSxJQUFJVSxXQUFXckMsS0FBSyxDQUN4QixxQkFDRSxJQUFJLENBQUNzQyxRQUFRLEdBQ2IsZ0JBQ0FDLHFFQUFlQSxDQUFDWjs7UUFHeEIsT0FBT1E7O0FBRVY7QUFDRDs7Q0FFRyxHQUNJLE1BQU1YLFFBQVEsSUFBSW1CO0FBQ3pCO0FBQ0EsTUFBTW9CLHVCQUF1QjdDLDZEQUFXQTtJQUN0Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsNkJBQTZCO1lBQ2pDO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTjRDLFFBQVEsRUFBQztnQkFDVHpDLEdBQUcsSUFBTUM7WUFDVjtTQUNGOztJQUVIOztLQUVHLEdBQ0hDLGtCQUFrQnZCLE9BQWtCLEVBQUV3QixPQUF5QjtRQUM3RCxPQUFPeEIsUUFBUStELE1BQU0sQ0FBQ0MsR0FBRyxDQUFDLENBQUNyQyxJQUFNTCxNQUFNUyxNQUFNLENBQUNKOztJQUVoRDs7S0FFRyxHQUNISyxpQkFDRVAsSUFBZSxFQUNmRCxPQUF3QixFQUN4QlMsTUFBa0I7UUFFbEIsSUFBSSxDQUFDRSxXQUFXd0IsS0FBSyxDQUFDQyxPQUFPLENBQUNuQyxPQUM1QixNQUFNLElBQUlVLFdBQVdyQyxLQUFLLENBQ3hCLHFCQUNFLElBQUksQ0FBQ3NDLFFBQVEsR0FDYixnQkFDQUMscUVBQWVBLENBQUNaO1FBRXRCLElBQUksQ0FBQ1EsUUFBUUEsU0FBUyxJQUFJLENBQUNLLE1BQU07UUFDakMsSUFBSXlCLFNBQVN0QyxLQUFLdUMsR0FBRyxDQUFDLENBQUNyQyxJQUFNTCxNQUFNaUIsUUFBUSxDQUFDWjtRQUM1Q00sT0FBTzhCLE1BQU0sQ0FBQ3BELElBQUksSUFBSW9EO1FBQ3RCLE9BQU85Qjs7QUFFVjtBQUNEOztDQUVHLEdBQ0ksTUFBTVUsWUFBWSxJQUFJa0I7QUNyWTdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdUhBO0FBQ0EsTUFBTUksdUJBQXVCakQsNkRBQVdBO0lBQ3RDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyw2QkFBNkI7WUFDakM7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDN0M7O0lBRUg7O0tBRUcsR0FDSDZDLE1BQUc7UUFDRCxNQUFNQyxNQUFNLElBQUksQ0FBQzdCLE1BQU07UUFDdkIsTUFBTThCLEtBQUtDLEtBQUtILEdBQUc7UUFDbkJDLElBQUlHLE9BQU8sR0FBR0Msd0RBQU1BLENBQUNDLElBQUksQ0FBQ0MsS0FBS0MsS0FBSyxDQUFDTixLQUFLLE9BQU9PLFFBQVE7UUFDekRSLElBQUlTLEtBQUssR0FBRyxLQUFNLE9BQVE7UUFDMUIsT0FBT1Q7O0lBRVQ7O0tBRUcsR0FDSFUsT0FBTzdFLE9BQWtCO1FBQ3ZCLE9BQU8sSUFBSXFFLEtBQ1RFLHdEQUFNQSxDQUFDQyxJQUFJLENBQUN4RSxRQUFRc0UsT0FBTyxFQUFFUSxRQUFRLEtBQUssT0FDeENMLEtBQUtNLElBQUksQ0FBQy9FLFFBQVE0RSxLQUFLLEdBQUc7O0lBR2hDOztLQUVHLEdBQ0hJLFNBQVNDLElBQVU7UUFDakIsTUFBTWQsTUFBTSxJQUFJLENBQUM3QixNQUFNO1FBQ3ZCLE1BQU04QixLQUFLYSxLQUFLQyxPQUFPO1FBQ3ZCZixJQUFJRyxPQUFPLEdBQUdDLHdEQUFNQSxDQUFDQyxJQUFJLENBQUNDLEtBQUtDLEtBQUssQ0FBQ04sS0FBSyxPQUFPTyxRQUFRO1FBQ3pEUixJQUFJUyxLQUFLLEdBQ1AsQ0FBQyxLQUFNLE9BQVNSLENBQUFBLEtBQUssS0FBS0EsS0FBSyxTQUFTLElBQUksT0FBTyxFQUFDLElBQUs7UUFDM0QsT0FBT0Q7O0lBRVQ7OztLQUdHLEdBQ0g1QyxrQkFBa0J2QixPQUFrQixFQUFFd0IsT0FBeUI7UUFDN0QsSUFBSTRDLEtBQUtHLHdEQUFNQSxDQUFDQyxJQUFJLENBQUN4RSxRQUFRc0UsT0FBTyxFQUFFUSxRQUFRLEtBQUs7UUFDbkQsSUFDRVYsS0FBS0MsS0FBS2MsS0FBSyxDQUFDLDJCQUNoQmYsS0FBS0MsS0FBS2MsS0FBSyxDQUFDLHlCQUVoQixNQUFNLElBQUlyRixNQUNSO1FBRUosSUFBSUUsUUFBUTRFLEtBQUssR0FBRyxHQUNsQixNQUFNLElBQUk5RSxNQUNSO1FBRUosSUFBSXNGLElBQUk7UUFDUixJQUFJcEYsUUFBUTRFLEtBQUssR0FBRyxHQUFHO1lBQ3JCLElBQUlTLFdBQVcsQ0FBQ3JGLFFBQVE0RSxLQUFLLEdBQUcsWUFBWUQsUUFBUSxHQUFHVyxTQUFTLENBQUM7WUFDakUsSUFBSUQsU0FBU0MsU0FBUyxDQUFDLE9BQU8sVUFDNUJGLElBQUksTUFBTUMsU0FBU0MsU0FBUyxDQUFDLEdBQUcsS0FBSztpQkFDbEMsSUFBSUQsU0FBU0MsU0FBUyxDQUFDLE9BQU8sT0FDakNGLElBQUksTUFBTUMsU0FBU0MsU0FBUyxDQUFDLEdBQUcsS0FBSztpQkFDbENGLElBQUksTUFBTUMsV0FBVzs7UUFFNUIsT0FBTyxJQUFJaEIsS0FBS0QsSUFBSW1CLFdBQVcsR0FBR0MsT0FBTyxDQUFDLFNBQVNKOztJQUVyRDs7O0tBR0csR0FDSHBELGlCQUNFUCxJQUFlLEVBQ2ZELE9BQXdCLEVBQ3hCUyxNQUFrQjtRQUVsQixJQUFJLE9BQU9SLFNBQVMsVUFDbEIsTUFBTSxJQUFJM0IsTUFDUix5Q0FBeUN1QyxxRUFBZUEsQ0FBQ1osUUFBUTtRQUVyRSxJQUFJZ0UsVUFBVWhFLEtBQUtpRSxLQUFLLENBQ3RCO1FBRUYsSUFBSSxDQUFDRCxTQUNILE1BQU0sSUFBSTNGLE1BQU07UUFDbEIsSUFBSXNFLEtBQUtDLEtBQUtjLEtBQUssQ0FDakJNLE9BQU8sQ0FBQyxFQUFFLEdBQ1IsTUFDQUEsT0FBTyxDQUFDLEVBQUUsR0FDVixNQUNBQSxPQUFPLENBQUMsRUFBRSxHQUNWLE1BQ0FBLE9BQU8sQ0FBQyxFQUFFLEdBQ1YsTUFDQUEsT0FBTyxDQUFDLEVBQUUsR0FDVixNQUNBQSxPQUFPLENBQUMsRUFBRSxHQUNUQSxDQUFBQSxPQUFPLENBQUMsRUFBRSxHQUFHQSxPQUFPLENBQUMsRUFBRSxHQUFHO1FBRS9CLElBQUl6QyxPQUFPMkMsS0FBSyxDQUFDdkIsS0FDZixNQUFNLElBQUl0RSxNQUFNO1FBQ2xCLElBQ0VzRSxLQUFLQyxLQUFLYyxLQUFLLENBQUMsMkJBQ2hCZixLQUFLQyxLQUFLYyxLQUFLLENBQUMseUJBRWhCLE1BQU0sSUFBSWhELFdBQVdyQyxLQUFLLENBQ3hCO1FBRUosSUFBSSxDQUFDbUMsUUFBUUEsU0FBUyxJQUFJLENBQUNLLE1BQU07UUFDakNMLE9BQU9xQyxPQUFPLEdBQUdDLHdEQUFNQSxDQUFDQyxJQUFJLENBQUNKLEtBQUssTUFBTU8sUUFBUTtRQUNoRDFDLE9BQU8yQyxLQUFLLEdBQUc7UUFDZixJQUFJYSxPQUFPLENBQUMsRUFBRSxFQUNaeEQsT0FBTzJDLEtBQUssR0FDVmdCLFNBQVMsTUFBTUgsT0FBTyxDQUFDLEVBQUUsR0FBRyxJQUFJM0IsTUFBTSxDQUFDLElBQUkyQixPQUFPLENBQUMsRUFBRSxDQUFDSSxNQUFNLEtBQzVEO1FBQ0osT0FBTzVEOztBQUVWO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNNkQsWUFBWSxJQUFJN0I7QUN0UjdCO0FBQ0E7QUFDQTtBQXFxQkE7O0NBRUcsR0FDSCxJQUFZOEI7QUFBWixVQUFZQSxRQUFRO0lBQ2xCOzs7O0tBSUcsR0FDSEEsUUFBQSxDQUFBQSxRQUFBO0lBQ0E7O0tBRUcsR0FDSEEsUUFBQSxDQUFBQSxRQUFBO0FBQ0YsR0FYWUEsWUFBQUEsQ0FBQUEsV0FXWDtBQUNEOztDQUVHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxpQkFBaUI7SUFDM0I7O0tBRUcsR0FDSEEsaUJBQUEsQ0FBQUEsaUJBQUE7SUFDQTs7S0FFRyxHQUNIQSxpQkFBQSxDQUFBQSxpQkFBQTtJQUNBOztLQUVHLEdBQ0hBLGlCQUFBLENBQUFBLGlCQUFBO0lBQ0E7O0tBRUcsR0FDSEEsaUJBQUEsQ0FBQUEsaUJBQUE7QUFDRixHQWpCWUEscUJBQUFBLENBQUFBLG9CQWlCWDtBQUNEOztDQUVHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxZQUFZO0lBQ3RCOztLQUVHLEdBQ0hBLFlBQUEsQ0FBQUEsWUFBQTtJQUNBOztLQUVHLEdBQ0hBLFlBQUEsQ0FBQUEsWUFBQTtJQUNBOztLQUVHLEdBQ0hBLFlBQUEsQ0FBQUEsWUFBQTtJQUNBOztLQUVHLEdBQ0hBLFlBQUEsQ0FBQUEsWUFBQTtBQUNGLEdBakJZQSxnQkFBQUEsQ0FBQUEsZUFpQlg7QUFDRDs7Q0FFRyxHQUNILElBQVlDO0FBQVosVUFBWUEsU0FBUztJQUNuQjs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7QUFDRixHQXJCWUEsYUFBQUEsQ0FBQUEsWUFxQlg7QUFDRDs7Q0FFRyxHQUNILElBQVlDO0FBQVosVUFBWUEsU0FBUztJQUNuQjs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7SUFDQTs7S0FFRyxHQUNIQSxTQUFBLENBQUFBLFNBQUE7QUFDRixHQXJGWUEsYUFBQUEsQ0FBQUEsWUFxRlg7QUFDRDs7Q0FFRyxHQUNILElBQVlDO0FBQVosVUFBWUEsT0FBTztJQUNqQjs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7SUFDQTs7S0FFRyxHQUNIQSxPQUFBLENBQUFBLE9BQUE7QUFDRixHQXpDWUEsV0FBQUEsQ0FBQUEsVUF5Q1g7QUFDRDs7Q0FFRyxHQUNILElBQVlDO0FBQVosVUFBWUEsb0JBQW9CO0lBQzlCOzs7OztLQUtHLEdBQ0hBLG9CQUFBLENBQUFBLG9CQUFBO0lBQ0E7Ozs7S0FJRyxHQUNIQSxvQkFBQSxDQUFBQSxvQkFBQTtJQUNBOzs7OztLQUtHLEdBQ0hBLG9CQUFBLENBQUFBLG9CQUFBO0lBQ0E7Ozs7Ozs7O0tBUUcsR0FDSEEsb0JBQUEsQ0FBQUEsb0JBQUE7QUFDRixHQS9CWUEsd0JBQUFBLENBQUFBLHVCQStCWDtBQUNEOzs7OztDQUtHLEdBQ0gsSUFBWUM7QUFBWixVQUFZQSxZQUFZO0lBQ3RCOztLQUVHLEdBQ0hBLFlBQUEsQ0FBQUEsWUFBQTtJQUNBOztLQUVHLEdBQ0hBLFlBQUEsQ0FBQUEsWUFBQTtJQUNBOztLQUVHLEdBQ0hBLFlBQUEsQ0FBQUEsWUFBQTtBQUNGLEdBYllBLGdCQUFBQSxDQUFBQSxlQWFYO0FBQ0Q7Ozs7Q0FJRyxHQUNILElBQVlDO0FBQVosVUFBWUEsZUFBZTtJQUN6Qjs7S0FFRyxHQUNIQSxlQUFBLENBQUFBLGVBQUE7SUFDQTs7S0FFRyxHQUNIQSxlQUFBLENBQUFBLGVBQUE7SUFDQTs7S0FFRyxHQUNIQSxlQUFBLENBQUFBLGVBQUE7SUFDQTs7S0FFRyxHQUNIQSxlQUFBLENBQUFBLGVBQUE7SUFDQTs7S0FFRyxHQUNIQSxlQUFBLENBQUFBLGVBQUE7QUFDRixHQXJCWUEsbUJBQUFBLENBQUFBLGtCQXFCWDtBQUNEOzs7O0NBSUcsR0FDSCxJQUFZQztBQUFaLFVBQVlBLDBCQUEwQjtJQUNwQzs7S0FFRyxHQUNIQSwwQkFBQSxDQUFBQSwwQkFBQTtJQUNBOzs7O0tBSUcsR0FDSEEsMEJBQUEsQ0FBQUEsMEJBQUE7SUFDQTs7Ozs7S0FLRyxHQUNIQSwwQkFBQSxDQUFBQSwwQkFBQTtJQUNBOzs7OztLQUtHLEdBQ0hBLDBCQUFBLENBQUFBLDBCQUFBO0lBQ0E7Ozs7S0FJRyxHQUNIQSwwQkFBQSxDQUFBQSwwQkFBQTtBQUNGLEdBL0JZQSw4QkFBQUEsQ0FBQUEsNkJBK0JYO0FBQ0Q7Ozs7O0NBS0csR0FDSCxJQUFZQztBQUFaLFVBQVlBLG1CQUFtQjtJQUM3Qjs7S0FFRyxHQUNIQSxtQkFBQSxDQUFBQSxtQkFBQTtJQUNBOztLQUVHLEdBQ0hBLG1CQUFBLENBQUFBLG1CQUFBO0lBQ0E7O0tBRUcsR0FDSEEsbUJBQUEsQ0FBQUEsbUJBQUE7SUFDQTs7S0FFRyxHQUNIQSxtQkFBQSxDQUFBQSxtQkFBQTtJQUNBOztLQUVHLEdBQ0hBLG1CQUFBLENBQUFBLG1CQUFBO0lBQ0E7O0tBRUcsR0FDSEEsbUJBQUEsQ0FBQUEsbUJBQUE7SUFDQTs7S0FFRyxHQUNIQSxtQkFBQSxDQUFBQSxtQkFBQTtJQUNBOztLQUVHLEdBQ0hBLG1CQUFBLENBQUFBLG1CQUFBO0FBQ0YsR0FqQ1lBLHVCQUFBQSxDQUFBQSxzQkFpQ1g7QUFDRDs7Ozs7Q0FLRyxHQUNILElBQVlDO0FBQVosVUFBWUEsaUJBQWlCO0lBQzNCOztLQUVHLEdBQ0hBLGlCQUFBLENBQUFBLGlCQUFBO0lBQ0E7O0tBRUcsR0FDSEEsaUJBQUEsQ0FBQUEsaUJBQUE7SUFDQTs7S0FFRyxHQUNIQSxpQkFBQSxDQUFBQSxpQkFBQTtJQUNBOztLQUVHLEdBQ0hBLGlCQUFBLENBQUFBLGlCQUFBO0lBQ0E7O0tBRUcsR0FDSEEsaUJBQUEsQ0FBQUEsaUJBQUE7QUFDRixHQXJCWUEscUJBQUFBLENBQUFBLG9CQXFCWDtBQUNEO0FBQ0EsTUFBTUMsdUJBQXVCM0YsNkRBQVdBO0lBQ3RDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxxQ0FBcUM7WUFDekM7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNdUY7WUFDVjtZQUNEO2dCQUFFM0YsSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNeUU7WUFBUztZQUNoRTtnQkFDRTdFLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTXdGO1lBQ1Y7WUFDRDtnQkFDRTVGLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ040QyxRQUFRLEVBQUM7Z0JBQ1R6QyxHQUFHLElBQU15RjtZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLGNBQVksSUFBSUo7QUFDN0I7QUFDQSxNQUFNSyw4QkFBOEJoRyw2REFBV0E7SUFDN0NqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDRDQUE0QztZQUNoRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVVHLEdBQUcsR0FBRTtZQUFBO1lBQzdDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFhYSxNQUFNO2dCQUFVRyxHQUFHLEdBQUU7WUFBQTtTQUNsRDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXdGLG1CQUFtQixJQUFJRztBQUNwQztBQUNBLE1BQU1DLGlCQUFpQmpHLDZEQUFXQTtJQUNoQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsK0JBQStCO1lBQ25DO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBV2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDOUM7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQ2xEOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNeUYsTUFBTSxJQUFJRztBQUN2QjtBQUNBLE1BQU1DLHlCQUF5QmxHLDZEQUFXQTtJQUN4Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsdUNBQXVDO1lBQzNDO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBV2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDOUM7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2pEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNO3dCQUNQO3dCQUNBNkU7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUFFakYsSUFBSTtnQkFBR1osTUFBTTtnQkFBYWEsTUFBTTtnQkFBV0csR0FBRyxJQUFNeUU7WUFBUztZQUMvRDtnQkFDRTdFLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQTJFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFBRS9FLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWVhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2xEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFlYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNsRDtnQkFBRUosSUFBSTtnQkFBSVosTUFBTTtnQkFBUWEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDNUM7Z0JBQUVKLElBQUk7Z0JBQUlaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzdDO2dCQUFFSixJQUFJO2dCQUFJWixNQUFNO2dCQUFVYSxNQUFNO2dCQUFXRyxHQUFHLElBQU1tQjtZQUFNO1lBQzFEO2dCQUNFdkIsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTjRDLFFBQVEsRUFBQztnQkFDVHpDLEdBQUcsRUFBQztZQUNMO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU11RixjQUFjLElBQUlNO0FBQy9CO0FBQ0EsTUFBTUMsMkJBQTJCbkcsNkRBQVdBO0lBQzFDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyx5Q0FBeUM7WUFDN0M7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0E0RTt3QkFDQTtxQkFDRDtZQUNGO1lBQ0Q7Z0JBQUVoRixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUMvQzs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTStGLGdCQUFnQixJQUFJRDtBQUNqQztBQUNBLE1BQU1FLDRCQUE0QnJHLDZEQUFXQTtJQUMzQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsMENBQTBDO1lBQzlDO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBVUcsR0FBRyxHQUFFO1lBQUE7WUFDN0M7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVVhLE1BQU07Z0JBQVVHLEdBQUcsR0FBRTtZQUFBO1NBQy9DOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNaUcsaUJBQWlCLElBQUlEO0FBQ2xDO0FBQ0EsTUFBTUUsd0JBQXdCdkcsNkRBQVdBO0lBQ3ZDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxzQ0FBc0M7WUFDMUM7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFPYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMxQztnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNaUc7WUFDVjtZQUNEO2dCQUFFckcsSUFBSTtnQkFBR1osTUFBTTtnQkFBV2EsTUFBTTtnQkFBVUcsR0FBRyxHQUFFO1lBQUE7WUFDL0M7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQU9hLE1BQU07Z0JBQVVHLEdBQUcsR0FBRTtZQUFBO1lBQzNDO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0E0RTt3QkFDQTtxQkFDRDtZQUNGO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU11QixhQUFhLElBQUlEO0FBQzlCO0FBQ0EsTUFBTUUsNkJBQTZCekcsNkRBQVdBO0lBQzVDakIsYUFBQTtRQUNFLEtBQUssQ0FBQywyQ0FBMkM7WUFDL0M7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0E2RTt3QkFDQTtxQkFDRDtZQUNGO1lBQ0Q7Z0JBQ0VqRixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNcUc7WUFDVjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNQyxrQkFBa0IsSUFBSUY7QUFDbkM7QUFDQSxNQUFNRywyQkFBMkI1Ryw2REFBV0E7SUFDMUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHlDQUF5QztZQUM3QztnQkFDRWtCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQTZFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFBRWpGLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXFHO1lBQUs7WUFDdkQ7Z0JBQUV6RyxJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBT2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDMUM7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTWlHO1lBQ1Y7WUFDRDtnQkFBRXJHLElBQUk7Z0JBQUdaLE1BQU07Z0JBQU1hLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ3pDO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNd0csZ0JBQWdCLElBQUlEO0FBQ2pDO0FBQ0EsTUFBTUUsbUJBQW1COUcsNkRBQVdBO0lBQ2xDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxpQ0FBaUM7WUFDckM7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEdBQUU7WUFDTjtZQUNEO2dCQUFFSixJQUFJO2dCQUFJWixNQUFNO2dCQUFRYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM1QztnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxHQUFFO1lBQ047WUFDRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFBRUosSUFBSTtnQkFBSVosTUFBTTtnQkFBUWEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDN0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1xRyxRQUFRLElBQUlJO0FBQ3pCO3dCQUNBLE1BQU1DLHdCQUF3Qi9HLDZEQUFXQTtJQUN2Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsc0NBQXNDO1lBQzFDO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUFDO3dCQUFvQzBFO3dCQUFVO3FCQUFhO1lBQ3RFO1lBQ0Q7Z0JBQ0U5RSxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFjYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUNsRDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTTJHLGVBQWEsSUFBSUQ7QUFDOUI7QUFDQSxNQUFNRSx1QkFBdUJqSCw2REFBV0E7SUFDdENqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHFDQUFxQztZQUN6QztnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVlhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQy9DO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0E2RTt3QkFDQTtxQkFDRDtZQUNGO1lBQ0Q7Z0JBQ0VqRixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNbUc7WUFDVjtZQUNEO2dCQUFFdkcsSUFBSTtnQkFBR1osTUFBTTtnQkFBT2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDMUM7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQU9hLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzFDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFVYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM3QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBT2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDMUM7Z0JBQUVKLElBQUk7Z0JBQUlaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzdDO2dCQUFFSixJQUFJO2dCQUFJWixNQUFNO2dCQUFTYSxNQUFNO2dCQUFXRyxHQUFHLElBQU1xRztZQUFLO1lBQ3hEO2dCQUNFekcsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTTZHLFlBQVksSUFBSUQ7QUFDN0I7bUJBQ0EsTUFBTUUsbUJBQW1CbkgsNkRBQVdBO0lBQ2xDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxpQ0FBaUM7WUFDckM7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0E4RTt3QkFDQTtxQkFDRDtZQUNGO1lBQ0Q7Z0JBQUVsRixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBZ0JhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQ3BEOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNdkIsVUFBUSxJQUFJcUk7QUFDekI7QUFDQSxNQUFNQywyQkFBMkJwSCw2REFBV0E7SUFDMUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHlDQUF5QztZQUM3QztnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQU9hLE1BQU07Z0JBQVdHLEdBQUcsSUFBTWdIO1lBQUc7WUFDbkQ7Z0JBQUVwSCxJQUFJO2dCQUFHWixNQUFNO2dCQUFNYSxNQUFNO2dCQUFXRyxHQUFHLElBQU1pSDtZQUFFO1lBQ2pEO2dCQUFFckgsSUFBSTtnQkFBR1osTUFBTTtnQkFBV2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNa0g7WUFBTztZQUMzRDtnQkFBRXRILElBQUk7Z0JBQUdaLE1BQU07Z0JBQVVhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTW1IO1lBQU07U0FDMUQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLGdCQUFnQixJQUFJTDtBQUNqQztBQUNBLE1BQU1NLGlCQUFpQjFILDZEQUFXQTtJQUNoQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsK0JBQStCO1lBQ25DO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUFDO3dCQUFtQytFO3dCQUFTO3FCQUFZO1lBQ25FO1lBQ0Q7Z0JBQUVuRixJQUFJO2dCQUFHWixNQUFNO2dCQUFTYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM1QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDNUM7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQzdDOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNZ0gsTUFBTSxJQUFJSztBQUN2QjtBQUNBLE1BQU1DLGdCQUFnQjNILDZEQUFXQTtJQUMvQmpCLGFBQUE7UUFDRSxLQUFLLENBQUMsOEJBQThCO1lBQ2xDO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBUWEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDM0M7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVdhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzlDO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNaUgsS0FBSyxJQUFJSztBQUN0QjtBQUNBLE1BQU1DLHFCQUFxQjVILDZEQUFXQTtJQUNwQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsbUNBQW1DO1lBQ3ZDO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBUWEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDM0M7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVdhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQy9DOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNa0gsVUFBVSxJQUFJSztBQUMzQjtBQUNBLE1BQU1DLHlCQUF5QjdILDZEQUFXQTtJQUN4Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsdUNBQXVDO1lBQzNDO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBVUcsR0FBRyxHQUFFO1lBQUE7WUFDN0M7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVVhLE1BQU07Z0JBQVVHLEdBQUcsR0FBRTtZQUFBO1lBQzlDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFjYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBWWEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDL0M7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVdhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzlDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXlILGNBQWMsSUFBSUQ7QUFDL0I7QUFDQSxNQUFNRSxvQkFBb0IvSCw2REFBV0E7SUFDbkNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLGtDQUFrQztZQUN0QztnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVFhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzNDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUMvQzs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTW1ILFNBQVMsSUFBSU87QUFDMUI7QUFDQSxNQUFNQyxrQkFBa0JoSSw2REFBV0E7SUFDakNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLGdDQUFnQztZQUNwQztnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVFhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzNDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFNYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUN6QztnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBVWEsTUFBTTtnQkFBV0csR0FBRyxJQUFNbUI7WUFBTTtZQUN6RDtnQkFBRXZCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWNhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXlFO1lBQVM7WUFDaEU7Z0JBQUU3RSxJQUFJO2dCQUFHWixNQUFNO2dCQUFjYSxNQUFNO2dCQUFXRyxHQUFHLElBQU15RTtZQUFTO1NBQ2pFOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNbUQsU0FBTyxJQUFJRDtBQUN4QjtBQUNBLE1BQU1FLHdCQUF3QmxJLDZEQUFXQTtJQUN2Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsc0NBQXNDO1lBQzFDO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTThILGFBQWEsSUFBSUQ7QUFDOUI7QUFDQSxNQUFNRSwwQkFBMEJwSSw2REFBV0E7SUFDekNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHdDQUF3QztZQUM1QztnQkFDRWtCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ040QyxRQUFRLEVBQUM7Z0JBQ1R6QyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFnQmEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDcEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1nSSxlQUFlLElBQUlEO0FBQ2hDO0FBQ0EsTUFBTUUsMEJBQTBCdEksNkRBQVdBO0lBQ3pDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyx3Q0FBd0M7WUFDNUM7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0FvRjt3QkFDQTtxQkFDRDtZQUNGO1lBQ0Q7Z0JBQ0V4RixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNa0ksZUFBZSxJQUFJRDtBQUNoQztBQUNBLE1BQU1FLHdCQUF3QnhJLDZEQUFXQTtJQUN2Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsc0NBQXNDO1lBQzFDO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBcUY7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUNFekYsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTW9JLGFBQWEsSUFBSUQ7QUFDOUI7QUFDQSxNQUFNRSw4QkFBOEIxSSw2REFBV0E7SUFDN0NqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDRDQUE0QztZQUNoRDtnQkFDRWtCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQTZFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFBRWpGLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXFHO1lBQUs7WUFDdkQ7Z0JBQ0V6RyxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNaUc7WUFDVjtZQUNEO2dCQUNFckcsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXNJLG1CQUFtQixJQUFJRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzc0RwQztBQUNBO0FBQ0E7QUE2WUE7QUFDQSxNQUFNRSwyQ0FBMkM1SSw2REFBV0E7SUFDMURqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHlEQUF5RDtZQUM3RDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQ2xEOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNd0ksZ0NBQ1gsSUFBSUQ7QUFDTjtBQUNBLE1BQU1FLDRDQUE0QzlJLDZEQUFXQTtJQUMzRGpCLGFBQUE7UUFDRSxLQUFLLENBQUMsMERBQTBEO1lBQzlEO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNdkI7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTWlLLGlDQUNYLElBQUlEO0FBQ047QUFDQSxNQUFNRSwwQ0FBMENoSiw2REFBV0E7SUFDekRqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHdEQUF3RDtZQUM1RDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQ2xEOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNNEksK0JBQ1gsSUFBSUQ7QUFDTjtBQUNBLE1BQU1FLDJDQUEyQ2xKLDZEQUFXQTtJQUMxRGpCLGFBQUE7UUFDRSxLQUFLLENBQUMseURBQXlEO1lBQzdEO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNdkI7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXFLLGdDQUNYLElBQUlEO0FBQ047QUFDQSxNQUFNRSwwQkFBMEJwSiw2REFBV0E7SUFDekNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHdDQUF3QztZQUM1QztnQkFDRWtCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQW1GO3dCQUNBO3FCQUNEO1lBQ0Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTTZELGVBQWUsSUFBSUQ7QUFDaEM7QUFDQSxNQUFNRSx1QkFBdUJ0Siw2REFBV0E7SUFDdENqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHFDQUFxQztZQUN6QztnQkFDRWtCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU1nSjtZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1FLFlBQVksSUFBSUQ7QUFDN0I7QUFDQSxNQUFNRSw4QkFBOEJ4Siw2REFBV0E7SUFDN0NqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDRDQUE0QztZQUNoRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2pEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFPYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMxQztnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBaUJhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTWdJO1lBQVk7WUFDdEU7Z0JBQUVwSSxJQUFJO2dCQUFHWixNQUFNO2dCQUFpQmEsTUFBTTtnQkFBV0csR0FBRyxJQUFNZ0k7WUFBWTtZQUN0RTtnQkFDRXBJLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNa0k7WUFDVjtZQUNEO2dCQUNFdEksSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU1vSTtZQUNWO1lBQ0Q7Z0JBQUV4SSxJQUFJO2dCQUFJWixNQUFNO2dCQUFhYSxNQUFNO2dCQUFXRyxHQUFHLElBQU1rSjtZQUFTO1lBQ2hFO2dCQUFFdEosSUFBSTtnQkFBSVosTUFBTTtnQkFBUWEsTUFBTTtnQkFBV0csR0FBRyxJQUFNeUg7WUFBVztZQUM3RDtnQkFDRTdILElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQUVKLElBQUk7Z0JBQUlaLE1BQU07Z0JBQWFhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2pEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNc0k7WUFDVjtZQUNEO2dCQUNFMUksSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTjRDLFFBQVEsRUFBQztnQkFDVHpDLEdBQUcsSUFBTXNJO1lBQ1Y7WUFDRDtnQkFDRTFJLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1vSixtQkFBbUIsSUFBSUQ7QUFDcEM7QUFDQSxNQUFNRSwrQkFBK0IxSiw2REFBV0E7SUFDOUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDZDQUE2QztZQUNqRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXZCO1lBQUs7U0FDeEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU02SyxvQkFBb0IsSUFBSUQ7QUFDckM7QUFDQSxNQUFNRSwrQkFBK0I1Siw2REFBV0E7SUFDOUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDZDQUE2QztZQUNqRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2pEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQUM7d0JBQW9DMEU7d0JBQVU7cUJBQWE7WUFDdEU7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTThFLG9CQUFvQixJQUFJRDtBQUNyQztBQUNBLE1BQU1FLGdDQUFnQzlKLDZEQUFXQTtJQUMvQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsOENBQThDO1lBQ2xEO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNdkI7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTWlMLHFCQUFxQixJQUFJRDtBQUN0QztBQUNBLE1BQU1FLHFDQUFxQ2hLLDZEQUFXQTtJQUNwRGpCLGFBQUE7UUFDRSxLQUFLLENBQUMsbURBQW1EO1lBQ3ZEO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ040QyxRQUFRLEVBQUM7Z0JBQ1R6QyxHQUFHLElBQU00SjtZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLDBCQUEwQixJQUFJRjtBQUMzQztBQUNBLE1BQU1HLHNDQUFzQ25LLDZEQUFXQTtJQUNyRGpCLGFBQUE7UUFDRSxLQUFLLENBQUMsb0RBQW9EO1lBQ3hEO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNdkI7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXNMLDJCQUEyQixJQUFJRDtBQUM1QztBQUNBLE1BQU1FLDRCQUE0QnJLLDZEQUFXQTtJQUMzQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsMENBQTBDO1lBQzlDO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBNkU7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUFFakYsSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDN0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU00SixpQkFBaUIsSUFBSUk7QUFDbEM7QUFDQSxNQUFNQyw4QkFBOEJ0Syw2REFBV0E7SUFDN0NqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDRDQUE0QztZQUNoRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQzdDOztBQUVKO0FBQ0Q7O0NBRUcsR0FDNkIsSUFBSWlLO0FBQ3BDO0FBQ0EsTUFBTUMsOEJBQThCdkssNkRBQVdBO0lBQzdDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyw0Q0FBNEM7WUFDaEQ7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFTYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUM3Qzs7QUFFSjtBQUNEOztDQUVHLEdBQzZCLElBQUlrSztBQUNwQztBQUNBLE1BQU1DLHdDQUF3Q3hLLDZEQUFXQTtJQUN2RGpCLGFBQUE7UUFDRSxLQUFLLENBQUMsc0RBQXNEO1lBQzFEO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ040QyxRQUFRLEVBQUM7Z0JBQ1R6QyxHQUFHLElBQU1vSztZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLDZCQUE2QixJQUFJRjtBQUM5QztBQUNBLE1BQU1HLHlDQUF5QzNLLDZEQUFXQTtJQUN4RGpCLGFBQUE7UUFDRSxLQUFLLENBQUMsdURBQXVEO1lBQzNEO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNdkI7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTThMLDhCQUNYLElBQUlEO0FBQ047QUFDQSxNQUFNRSxzQ0FBc0M3Syw2REFBV0E7SUFDckRqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLG9EQUFvRDtZQUN4RDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVdhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzlDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFjYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBNkU7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUFFakYsSUFBSTtnQkFBR1osTUFBTTtnQkFBYWEsTUFBTTtnQkFBV0csR0FBRyxJQUFNaUc7WUFBYztTQUNyRTs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTW1FLDJCQUEyQixJQUFJSTtBQUM1QztBQUNBLE1BQU1DLCtCQUErQjlLLDZEQUFXQTtJQUM5Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsNkNBQTZDO1lBQ2pEO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUFDO3dCQUFvQzBFO3dCQUFVO3FCQUFhO1lBQ3RFO1lBQ0Q7Z0JBQUU5RSxJQUFJO2dCQUFHWixNQUFNO2dCQUFPYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMxQztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDbEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0wSyxvQkFBb0IsSUFBSUQ7QUFDckM7QUFDQSxNQUFNRSxnQ0FBZ0NoTCw2REFBV0E7SUFDL0NqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDhDQUE4QztZQUNsRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXZCO1lBQUs7U0FDeEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1tTSxxQkFBcUIsSUFBSUQ7QUFDdEM7QUFDQSxNQUFNRSxnQ0FBZ0NsTCw2REFBV0E7SUFDL0NqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDhDQUE4QztZQUNsRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXZCO1lBQUs7U0FDeEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1xTSxxQkFBcUIsSUFBSUQ7QUFDdEM7QUFDQSxNQUFNRSxpQ0FBaUNwTCw2REFBV0E7SUFDaERqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLCtDQUErQztZQUNuRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQU9hLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzFDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFjYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTjRDLFFBQVEsRUFBQztnQkFDVHpDLEdBQUcsSUFBTTZHO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTW1FLHNCQUFzQixJQUFJRDtBQUN2QztBQUNBLE1BQU1FLGtDQUFrQ3RMLDZEQUFXQTtJQUNqRGpCLGFBQUE7UUFDRSxLQUFLLENBQUMsZ0RBQWdEO1lBQ3BEO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBT2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDMUM7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2pEO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFlYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNsRDtnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNdkI7WUFBSztTQUN4RDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXlNLHVCQUF1QixJQUFJRDtBQUN4Qzs7Q0FFRyxHQUNJLE1BQU1FLGVBQWUsSUFBSUMsaUVBQVdBLENBQ3pDLHdDQUNBO0lBQ0U7UUFDRXBNLE1BQU07UUFDTm1CLFNBQVM7UUFDVGtMLEdBQUdMO1FBQ0hNLEdBQUdKO0lBQ0o7SUFDRDtRQUNFbE0sTUFBTTtRQUNObUIsU0FBUztRQUNUa0wsR0FBR1g7UUFDSFksR0FBR1Y7SUFDSjtJQUNEO1FBQUU1TCxNQUFNO1FBQWNtQixTQUFTO1FBQUlrTCxHQUFHMUU7UUFBWTJFLEdBQUdSO0lBQWtCO0lBQ3ZFO1FBQ0U5TCxNQUFNO1FBQ05tQixTQUFTO1FBQ1RrTCxHQUFHaEI7UUFDSGlCLEdBQUdmO0lBQ0o7SUFDRDtRQUNFdkwsTUFBTTtRQUNObUIsU0FBUztRQUNUa0wsR0FBR3hCO1FBQ0h5QixHQUFHdkI7SUFDSjtJQUNEO1FBQ0UvSyxNQUFNO1FBQ05tQixTQUFTO1FBQ1RrTCxHQUFHN0I7UUFDSDhCLEdBQUc1QjtJQUNKO0lBQ0Q7UUFDRTFLLE1BQU07UUFDTm1CLFNBQVM7UUFDVGtMLEdBQUdqQztRQUNIa0MsR0FBR2hDO0lBQ0o7SUFDRDtRQUNFdEssTUFBTTtRQUNObUIsU0FBUztRQUNUa0wsR0FBRzdDO1FBQ0g4QyxHQUFHNUM7SUFDSjtJQUNEO1FBQ0UxSixNQUFNO1FBQ05tQixTQUFTO1FBQ1RrTCxHQUFHekM7UUFDSDBDLEdBQUd4QztJQUNKO0NBQ0Y7QUNuNEJIO0FBQ0E7QUFDQTtBQTIyQkE7QUFDQSxNQUFNeUMsc0JBQXNCNUwsNkRBQVdBO0lBQ3JDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxtQ0FBbUM7WUFDdkM7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTXdMO1lBQ1Y7WUFDRDtnQkFDRTVMLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNeUw7WUFDVjtZQUNEO2dCQUNFN0wsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU0wTDtZQUNWO1lBQ0Q7Z0JBQ0U5TCxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTTJMO1lBQ1Y7WUFDRDtnQkFDRS9MLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNNEw7WUFDVjtZQUNEO2dCQUNFaE0sSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU02TDtZQUNWO1lBQ0Q7Z0JBQ0VqTSxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTThMO1lBQ1Y7WUFDRDtnQkFDRWxNLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNK0w7WUFDVjtZQUNEO2dCQUNFbk0sSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU1nTTtZQUNWO1lBQ0Q7Z0JBQ0VwTSxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTWlNO1lBQ1Y7WUFDRDtnQkFDRXJNLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNa007WUFDVjtZQUNEO2dCQUNFdE0sSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU1tTTtZQUNWO1lBQ0Q7Z0JBQ0V2TSxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTW9NO1lBQ1Y7WUFDRDtnQkFDRXhNLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNdkI7WUFDVjtZQUNEO2dCQUNFbUIsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU1xTTtZQUNWO1lBQ0Q7Z0JBQ0V6TSxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTXNNO1lBQ1Y7WUFDRDtnQkFDRTFNLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNdU07WUFDVjtZQUNEO2dCQUNFM00sSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU13TTtZQUNWO1lBQ0Q7Z0JBQ0U1TSxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTXlNO1lBQ1Y7WUFDRDtnQkFDRTdNLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNME07WUFDVjtZQUNEO2dCQUNFOU0sSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU0yTTtZQUNWO1lBQ0Q7Z0JBQ0UvTSxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTTRNO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTUMsV0FBVyxJQUFJdEI7QUFDNUI7QUFDQSxNQUFNdUIsa0NBQWtDbk4sNkRBQVdBO0lBQ2pEakIsYUFBQTtRQUNFLEtBQUssQ0FBQywrQ0FBK0M7WUFDbkQ7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNd0c7WUFDVjtZQUNEO2dCQUFFNUcsSUFBSTtnQkFBR1osTUFBTTtnQkFBVWEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDOUM7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU00TSx1QkFBdUIsSUFBSUU7QUFDeEM7QUFDQSxNQUFNQywwQ0FBMENwTiw2REFBV0E7SUFDekRqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHVEQUF1RCxFQUFFOztBQUVsRTtBQUNEOztDQUVHLEdBQ0ksTUFBTXNPLCtCQUNYLElBQUlEO0FBQ047QUFDQSxNQUFNRSwwQ0FBMEN0Tiw2REFBV0E7SUFDekRqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHVEQUF1RCxFQUFFOztBQUVsRTtBQUNEOztDQUVHLEdBQ0ksTUFBTWlPLCtCQUNYLElBQUlNO0FBQ047QUFDQSxNQUFNQyx5QkFBeUJ2Tiw2REFBV0E7SUFDeENqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLHNDQUFzQztZQUMxQztnQkFDRWtCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ040QyxRQUFRLEVBQUM7Z0JBQ1R6QyxHQUFHLElBQU15RjtZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0rRyxjQUFjLElBQUlVO0FBQy9CO0FBQ0EsTUFBTXBHLG1CQUFtQm5ILDZEQUFXQTtJQUNsQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsZ0NBQWdDO1lBQ3BDO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBU2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNbU47WUFBTTtZQUN4RDtnQkFDRXZOLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQW1GO3dCQUNBO3FCQUNEO1lBQ0Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTTFHLFVBQVEsSUFBSXFJO0FBQ3pCO0FBQ0EsTUFBTUosd0JBQXdCL0csNkRBQVdBO0lBQ3ZDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxxQ0FBcUM7WUFDekM7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQUM7d0JBQW9DMEU7d0JBQVU7cUJBQWE7WUFDdEU7WUFDRDtnQkFDRTlFLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0yRyxhQUFhLElBQUlEO0FBQzlCO0FBQ0EsTUFBTTBHLHdCQUF3QnpOLDZEQUFXQTtJQUN2Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMscUNBQXFDO1lBQ3pDO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUFDO3dCQUFvQzBFO3dCQUFVO3FCQUFhO1lBQ3RFO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU02SCxhQUFhLElBQUlhO0FBQzlCO0FBQ0EsTUFBTUMsd0JBQXdCMU4sNkRBQVdBO0lBQ3ZDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxxQ0FBcUM7WUFDekM7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNOd0IsT0FBTztnQkFDUHJCLEdBQUcsSUFBTXNOO1lBQ1Y7WUFDRDtnQkFDRTFOLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ053QixPQUFPO2dCQUNQckIsR0FBRyxJQUFNdU47WUFDVjtZQUNEO2dCQUNFM04sSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTndCLE9BQU87Z0JBQ1ByQixHQUFHLElBQU13TjtZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1DLGFBQWEsSUFBSUo7QUFDOUI7QUFDQSxNQUFNSyw4QkFBOEIvTiw2REFBV0E7SUFDN0NqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDJDQUEyQztZQUMvQztnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2pEO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFVYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUM5Qzs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXdOLG1CQUFtQixJQUFJRTtBQUNwQztBQUNBLE1BQU1DLGdDQUFnQ2hPLDZEQUFXQTtJQUMvQ2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsNkNBQTZDLEVBQUU7O0FBRXhEO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNNk8scUJBQXFCLElBQUlJO0FBQ3RDO0FBQ0EsTUFBTUMsaUNBQWlDak8sNkRBQVdBO0lBQ2hEakIsYUFBQTtRQUNFLEtBQUssQ0FBQyw4Q0FBOEM7WUFDbEQ7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU13RjtZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU0wRyxzQkFBc0IsSUFBSTBCO0FBQ3ZDO0FBQ0EsTUFBTUMsNEJBQTRCbE8sNkRBQVdBO0lBQzNDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyx5Q0FBeUM7WUFDN0M7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQTZFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFBRWpGLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWVhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXVGO1lBQVc7U0FDcEU7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU00RyxpQkFBaUIsSUFBSTBCO0FBQ2xDO0FBQ0EsTUFBTUMsOEJBQThCbk8sNkRBQVdBO0lBQzdDakIsYUFBQTtRQUNFLEtBQUssQ0FBQywyQ0FBMkM7WUFDL0M7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQTZFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFDRWpGLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQWdGO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFBRXBGLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWVhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXVGO1lBQVc7U0FDcEU7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU02RyxtQkFBbUIsSUFBSTBCO0FBQ3BDO0FBQ0EsTUFBTUMseUJBQXlCcE8sNkRBQVdBO0lBQ3hDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxzQ0FBc0M7WUFDMUM7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFTYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM1QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTW9IO1lBQ1Y7WUFDRDtnQkFBRXhILElBQUk7Z0JBQUdaLE1BQU07Z0JBQWFhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTWdPO1lBQVM7WUFDL0Q7Z0JBQ0VwTyxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU1pTztZQUNWO1lBQ0Q7Z0JBQ0VyTyxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNd0c7WUFDVjtZQUNEO2dCQUNFNUcsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTjRDLFFBQVEsRUFBQztnQkFDVHpDLEdBQUcsSUFBTXNHO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTWdILGNBQWMsSUFBSVM7QUFDL0I7QUFDQSxNQUFNRyw4QkFBOEJ2Tyw2REFBV0E7SUFDN0NqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDJDQUEyQztZQUMvQztnQkFDRWtCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQW1GO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFDRXZGLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ040QyxRQUFRLEVBQUM7Z0JBQ1R6QyxHQUFHLElBQU02RztZQUNWO1lBQ0Q7Z0JBQ0VqSCxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNb0s7WUFDVjtZQUNEO2dCQUNFeEssSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxHQUFFO1lBQ047WUFDRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7WUFDRDtnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBVWEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDOUM7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1pTyxtQkFBbUIsSUFBSUM7QUFDcEM7QUFDQSxNQUFNQyx1QkFBdUJ4Tyw2REFBV0E7SUFDdENqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLG9DQUFvQztZQUN4QztnQkFDRWtCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ040QyxRQUFRLEVBQUM7Z0JBQ1R6QyxHQUFHLElBQU02RztZQUNWO1lBQ0Q7Z0JBQ0VqSCxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNb0s7WUFDVjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNNEQsWUFBWSxJQUFJRztBQUM3QjtBQUNBLE1BQU1DLDBCQUEwQnpPLDZEQUFXQTtJQUN6Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsdUNBQXVDO1lBQzNDO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBV0csR0FBRyxJQUFNMEY7WUFBUztZQUNoRTtnQkFBRTlGLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWVhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2xEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtZQUNEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNd0c7WUFDVjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNeUYsZUFBZSxJQUFJbUM7QUFDaEM7QUFDQSxNQUFNQywrQkFBK0IxTyw2REFBV0E7SUFDOUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDRDQUE0QztZQUNoRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVlhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQy9DO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFlYSxNQUFNO2dCQUFXRyxHQUFHLElBQU11RjtZQUFXO1NBQ3BFOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNdUcsb0JBQW9CLElBQUl1QztBQUNyQztBQUNBLE1BQU1DLDZCQUE2QjNPLDZEQUFXQTtJQUM1Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsMENBQTBDO1lBQzlDO2dCQUFFa0IsSUFBSTtnQkFBR1osTUFBTTtnQkFBWWEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDL0M7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWVhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXVGO1lBQVc7U0FDcEU7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU13RyxrQkFBa0IsSUFBSXVDO0FBQ25DO0FBQ0EsTUFBTUMsZ0NBQWdDNU8sNkRBQVdBO0lBQy9DakIsYUFBQTtRQUNFLEtBQUssQ0FBQyw2Q0FBNkM7WUFDakQ7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFZYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUMvQztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBZWEsTUFBTTtnQkFBV0csR0FBRyxJQUFNdUY7WUFBVztTQUNwRTs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTW1ILHFCQUFxQixJQUFJNkI7QUFDdEM7QUFDQSxNQUFNQyw2QkFBNkI3Tyw2REFBV0E7SUFDNUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQztZQUM5QztnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWVhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQ2xEO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFPYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUMzQzs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXdMLGtCQUFrQixJQUFJZ0Q7QUFDbkM7QUFDQSxNQUFNQyw2QkFBNkI5Tyw2REFBV0E7SUFDNUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDBDQUEwQztZQUM5QztnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQU9hLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1NBQzNDOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNeUwsa0JBQWtCLElBQUlnRDtBQUNuQztBQUNBLE1BQU1DLHNDQUFzQy9PLDZEQUFXQTtJQUNyRGpCLGFBQUE7UUFDRSxLQUFLLENBQUMsbURBQW1EO1lBQ3ZEO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTjRDLFFBQVEsRUFBQztnQkFDVHpDLEdBQUcsSUFBTTJPO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTWpELDJCQUEyQixJQUFJZ0Q7QUFDNUM7QUFDQSxNQUFNRSxtQ0FBbUNqUCw2REFBV0E7SUFDbERqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLGdEQUFnRDtZQUNwRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVdhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzlDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFjYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUNqRDtnQkFDRUosSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBMkU7d0JBQ0E7cUJBQ0Q7WUFDRjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNZ0ssd0JBQXdCLElBQUlDO0FBQ3pDO0FBQ0EsTUFBTUMsb0NBQW9DbFAsNkRBQVdBO0lBQ25EakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxpREFBaUQ7WUFDckQ7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDbEQ7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1nTSx5QkFBeUIsSUFBSTZDO0FBQzFDO0FBQ0EsTUFBTUMsd0JBQXdCblAsNkRBQVdBO0lBQ3ZDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxxQ0FBcUM7WUFDekM7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFXYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM5QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBY2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDakQ7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzVDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFlYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtTQUNuRDs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTStPLGFBQWEsSUFBSUQ7QUFDOUI7QUFDQSxNQUFNRSwrQkFBK0JyUCw2REFBV0E7SUFDOUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDRDQUE0QztZQUNoRDtnQkFDRWtCLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ040QyxRQUFRLEVBQUM7Z0JBQ1R6QyxHQUFHLElBQU0rTztZQUNWO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1wRCxvQkFBb0IsSUFBSXFEO0FBQ3JDO0FBQ0EsTUFBTUMseUJBQXlCdFAsNkRBQVdBO0lBQ3hDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxzQ0FBc0M7WUFDMUM7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFTYSxNQUFNO2dCQUFXRyxHQUFHLElBQU1xRztZQUFLO1lBQ3ZEO2dCQUNFekcsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBNkU7d0JBQ0E7cUJBQ0Q7WUFDRjtZQUNEO2dCQUNFakYsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxFQUFDO1lBQ0w7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTWtQLGNBQWMsSUFBSUQ7QUFDL0I7QUFDQSxNQUFNRSwrQkFBK0J4UCw2REFBV0E7SUFDOUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDRDQUE0QztZQUNoRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVFhLE1BQU07Z0JBQVVHLEdBQUcsRUFBQztZQUFBO1lBQzNDO2dCQUFFSixJQUFJO2dCQUFHWixNQUFNO2dCQUFVYSxNQUFNO2dCQUFVRyxHQUFHLEVBQUM7WUFBQTtZQUM3QztnQkFBRUosSUFBSTtnQkFBR1osTUFBTTtnQkFBZWEsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7WUFDbEQ7Z0JBQ0VKLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1lBQ0Q7Z0JBQUVKLElBQUk7Z0JBQUdaLE1BQU07Z0JBQVNhLE1BQU07Z0JBQVdHLEdBQUcsSUFBTXFHO1lBQUs7WUFDdkQ7Z0JBQ0V6RyxJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEdBQUU7WUFDTjtZQUNEO2dCQUNFSixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLEVBQUM7WUFDTDtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNb1Asb0JBQW9CLElBQUlEO0FBQ3JDO0FBQ0EsTUFBTUUseUJBQXlCMVAsNkRBQVdBO0lBQ3hDakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxzQ0FBc0M7WUFDMUM7Z0JBQUVrQixJQUFJO2dCQUFHWixNQUFNO2dCQUFTYSxNQUFNO2dCQUFXRyxHQUFHLElBQU1xRztZQUFLO1lBQ3ZEO2dCQUNFekcsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTjRDLFFBQVEsRUFBQztnQkFDVHpDLEdBQUcsSUFBTW9QO1lBQ1Y7WUFDRDtnQkFDRXhQLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsSUFBTTt3QkFDUDt3QkFDQTZFO3dCQUNBO3FCQUNEO1lBQ0Y7WUFDRDtnQkFDRWpGLElBQUk7Z0JBQ0paLE1BQU07Z0JBQ05hLE1BQU07Z0JBQ05HLEdBQUcsRUFBQztZQUNMO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1zUCxjQUFjLElBQUlEO0FBQy9CO0FBQ0EsTUFBTUUsa0NBQWtDNVAsNkRBQVdBO0lBQ2pEakIsYUFBQTtRQUNFLEtBQUssQ0FBQywrQ0FBK0M7WUFDbkQ7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNONEMsUUFBUSxFQUFDO2dCQUNUekMsR0FBRyxJQUFNa1A7WUFDVjtZQUNEO2dCQUNFdFAsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTjRDLFFBQVEsRUFBQztnQkFDVHpDLEdBQUcsSUFBTXNQO1lBQ1Y7U0FDRjs7QUFFSjtBQUNEOztDQUVHLEdBQ0ksTUFBTXpELHVCQUF1QixJQUFJMEQ7QUFDeEM7QUFDQSxNQUFNQywrQkFBK0I3UCw2REFBV0E7SUFDOUNqQixhQUFBO1FBQ0UsS0FBSyxDQUFDLDRDQUE0QztZQUNoRDtnQkFBRWtCLElBQUk7Z0JBQUdaLE1BQU07Z0JBQWtCYSxNQUFNO2dCQUFXRyxHQUFHLElBQU04SDtZQUFVO1lBQ3JFO2dCQUFFbEksSUFBSTtnQkFBR1osTUFBTTtnQkFBV2EsTUFBTTtnQkFBVUcsR0FBRyxFQUFDO1lBQUE7U0FDL0M7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1xTSxvQkFBb0IsSUFBSW1EO0FBQ3JDO0FBQ0EsTUFBTUMsb0JBQW9COVAsNkRBQVdBO0lBQ25DakIsYUFBQTtRQUNFLEtBQUssQ0FBQyxpQ0FBaUM7WUFDckM7Z0JBQ0VrQixJQUFJO2dCQUNKWixNQUFNO2dCQUNOYSxNQUFNO2dCQUNORyxHQUFHLElBQU07d0JBQ1A7d0JBQ0FpRjt3QkFDQTtxQkFDRDtZQUNGO1NBQ0Y7O0FBRUo7QUFDRDs7Q0FFRyxHQUNJLE1BQU1xSCxTQUFTLElBQUltRDtBQUMxQjtBQUNBLE1BQU1DLHVCQUF1Qi9QLDZEQUFXQTtJQUN0Q2pCLGFBQUE7UUFDRSxLQUFLLENBQUMsb0NBQW9DO1lBQ3hDO2dCQUNFa0IsSUFBSTtnQkFDSlosTUFBTTtnQkFDTmEsTUFBTTtnQkFDTkcsR0FBRyxJQUFNO3dCQUNQO3dCQUNBa0Y7d0JBQ0E7cUJBQ0Q7WUFDRjtTQUNGOztBQUVKO0FBQ0Q7O0NBRUcsR0FDSSxNQUFNdUgsWUFBWSxJQUFJaUQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQ3Z1RGpCQztBQUFaLFVBQVlBLGVBQWU7SUFDekJBLGVBQUE7SUFDQUEsZUFBQTtJQUNBQSxlQUFBO0FBQ0YsR0FKWUEsbUJBQUFBLENBQUFBLGtCQUlYO0lBRVdDO0FBQVosVUFBWUEsWUFBWTtJQUN0QkEsWUFBQSxDQUFBQSxZQUFBO0lBQ0FBLFlBQUEsQ0FBQUEsWUFBQTtJQUNBQSxZQUFBLENBQUFBLFlBQUE7SUFDQUEsWUFBQSxDQUFBQSxZQUFBO0FBQ0YsR0FMWUEsZ0JBQUFBLENBQUFBLGVBS1g7QUM2RUQ7O0NBRUcsU0FDVUM7SUFJWG5SLFlBQTZCb1IsVUFBd0I7UUFBeEIsSUFBVSxDQUFBQSxVQUFBLEdBQVZBO1FBSDdCLEtBQUEvTyxRQUFRLEdBQUdvSyxhQUFhcEssUUFBUTtRQUNoQyxLQUFBZ1AsT0FBTyxHQUFHNUUsYUFBYTRFLE9BQU87UUFDOUIsS0FBQTVQLE9BQU8sR0FBR2dMLGFBQWFoTCxPQUFPOztJQUU5Qjs7OztLQUlHLEdBQ0g2UCxhQUNFQyxLQUEwQixFQUMxQjlQLE9BQW9CO1FBRXBCLE1BQU0rUCxTQUFTLElBQUksQ0FBQ0gsT0FBTyxDQUFDLEVBQUUsRUFDNUJJLE1BQU0sSUFBSSxDQUFDTCxVQUFVLENBQUNNLFlBQVksQ0FBQ2pRO1FBQ3JDLE9BQU9rUSx3RUFBY0EsQ0FDbkIsU0FDQSxJQUFJLENBQUNQLFVBQVUsRUFDZkksUUFDQUMsS0FDQUY7O0lBR0o7Ozs7S0FJRyxHQUNISyxXQUNFTCxLQUF3QixFQUN4QjlQLE9BQW9CO1FBRXBCLE1BQU0rUCxTQUFTLElBQUksQ0FBQ0gsT0FBTyxDQUFDLEVBQUUsRUFDNUJJLE1BQU0sSUFBSSxDQUFDTCxVQUFVLENBQUNNLFlBQVksQ0FBQ2pRO1FBQ3JDLE9BQU9rUSx3RUFBY0EsQ0FDbkIsU0FDQSxJQUFJLENBQUNQLFVBQVUsRUFDZkksUUFDQUMsS0FDQUY7O0lBR0o7Ozs7S0FJRyxHQUNITSxXQUNFTixLQUFpQixFQUNqQjlQLE9BQW9CO1FBRXBCLE1BQU0rUCxTQUFTLElBQUksQ0FBQ0gsT0FBTyxDQUFDLEVBQUUsRUFDNUJJLE1BQU0sSUFBSSxDQUFDTCxVQUFVLENBQUNNLFlBQVksQ0FBQ2pRO1FBQ3JDLE9BQU9rUSx3RUFBY0EsQ0FDbkIsU0FDQSxJQUFJLENBQUNQLFVBQVUsRUFDZkksUUFDQUMsS0FDQUY7O0lBR0o7Ozs7O0tBS0csR0FDSE8sb0JBQ0VQLEtBQWlDLEVBQ2pDOVAsT0FBb0I7UUFFcEIsTUFBTStQLFNBQVMsSUFBSSxDQUFDSCxPQUFPLENBQUMsRUFBRSxFQUM1QkksTUFBTSxJQUFJLENBQUNMLFVBQVUsQ0FBQ00sWUFBWSxDQUFDalE7UUFDckMsT0FBT2tRLHdFQUFjQSxDQUduQixTQUFTLElBQUksQ0FBQ1AsVUFBVSxFQUFFSSxRQUFRQyxLQUFLRjs7SUFFM0M7O0tBRUcsR0FDSFEsaUJBQ0VSLEtBQThCLEVBQzlCOVAsT0FBb0I7UUFFcEIsTUFBTStQLFNBQVMsSUFBSSxDQUFDSCxPQUFPLENBQUMsRUFBRSxFQUM1QkksTUFBTSxJQUFJLENBQUNMLFVBQVUsQ0FBQ00sWUFBWSxDQUFDalE7UUFDckMsT0FBT2tRLHdFQUFjQSxDQUNuQixTQUNBLElBQUksQ0FBQ1AsVUFBVSxFQUNmSSxRQUNBQyxLQUNBRjs7SUFHSjs7S0FFRyxHQUNIUyxXQUNFVCxLQUF3QixFQUN4QjlQLE9BQW9CO1FBRXBCLE1BQU0rUCxTQUFTLElBQUksQ0FBQ0gsT0FBTyxDQUFDLEVBQUUsRUFDNUJJLE1BQU0sSUFBSSxDQUFDTCxVQUFVLENBQUNNLFlBQVksQ0FBQ2pRO1FBQ3JDLE9BQU9rUSx3RUFBY0EsQ0FDbkIsU0FDQSxJQUFJLENBQUNQLFVBQVUsRUFDZkksUUFDQUMsS0FDQUY7O0lBR0o7O0tBRUcsR0FDSFUsVUFDRVYsS0FBdUIsRUFDdkI5UCxPQUFvQjtRQUVwQixNQUFNK1AsU0FBUyxJQUFJLENBQUNILE9BQU8sQ0FBQyxFQUFFLEVBQzVCSSxNQUFNLElBQUksQ0FBQ0wsVUFBVSxDQUFDTSxZQUFZLENBQUNqUTtRQUNyQyxPQUFPa1Esd0VBQWNBLENBQ25CLFNBQ0EsSUFBSSxDQUFDUCxVQUFVLEVBQ2ZJLFFBQ0FDLEtBQ0FGOztJQUdKOztLQUVHLEdBQ0hXLHVCQUNFWCxLQUFvQyxFQUNwQzlQLE9BQW9CO1FBRXBCLE1BQU0rUCxTQUFTLElBQUksQ0FBQ0gsT0FBTyxDQUFDLEVBQUUsRUFDNUJJLE1BQU0sSUFBSSxDQUFDTCxVQUFVLENBQUNNLFlBQVksQ0FBQ2pRO1FBQ3JDLE9BQU9rUSx3RUFBY0EsQ0FHbkIsU0FBUyxJQUFJLENBQUNQLFVBQVUsRUFBRUksUUFBUUMsS0FBS0Y7O0lBRTNDOztLQUVHLEdBQ0hZLHNCQUNFWixLQUFtQyxFQUNuQzlQLE9BQW9CO1FBRXBCLE1BQU0rUCxTQUFTLElBQUksQ0FBQ0gsT0FBTyxDQUFDLEVBQUUsRUFDNUJJLE1BQU0sSUFBSSxDQUFDTCxVQUFVLENBQUNNLFlBQVksQ0FBQ2pRO1FBQ3JDLE9BQU9rUSx3RUFBY0EsQ0FHbkIsU0FBUyxJQUFJLENBQUNQLFVBQVUsRUFBRUksUUFBUUMsS0FBS0Y7O0FBRTVDO0FDOVBELE1BQU1hLGlCQUErQjtJQUNuQ0MsU0FBUztJQUNUQyxVQUFVO0lBQ1ZDLFNBQVMsSUFBSTtJQUNiQyxhQUFhO1FBQ1hDLHFCQUFxQjtJQUN0Qjs7QUFHSSxNQUFNQyxjQUFjLENBQ3pCQztJQUVBLE9BQU87UUFDTEMsZ0JBQ0VDLElBQWlCLEVBQ2pCckIsTUFBa0IsRUFDbEJELEtBQWEsRUFDYjlQLE9BQW1CO1lBRW5CQSxRQUFRcVIsSUFBSSxHQUFHO2dCQUFFLEdBQUdyUixRQUFRcVIsSUFBSTtnQkFBRSxHQUFHSCxPQUFPO1lBQUE7WUFDNUMsT0FBT0UsS0FBS3JCLFFBQVFELE9BQU85UDs7O0FBR2pDO0FBRU8sTUFBTXNSLG9CQUFvQixDQUMvQkMsUUFDQUM7SUFFQSxPQUFPO1FBQ0xMLGdCQUFnQixDQUNkQyxNQUNBckIsUUFDQUQsT0FDQTlQO1lBRUEsTUFBTXlSLGFBQWFMLEtBQUtyQixRQUFRRCxPQUFPOVA7WUFDdkN1UixPQUFPQyxPQUFPLDBCQUEwQnpCLE9BQU9sUixJQUFJLEVBQUUsRUFBRTtnQkFDckQ2UyxTQUFTRCxXQUFXQyxPQUFPO2dCQUMzQlIsU0FBU08sV0FBV0UsY0FBYztnQkFDbENoVCxVQUFVOFMsV0FBVzlTLFFBQVE7WUFDOUI7WUFFRCxPQUFPOFM7OztBQUdiO0FBRU8sTUFBTUcsb0JBQW9CLENBQUNDO0lBS2hDLE1BQU1DLGFBQWEsQ0FBQ2pULE1BQWNpUixPQUFlaUMsTUFDL0NGLE1BQU0sR0FBR2hULEtBQUksVUFBVyxFQUFFO1lBQUNrVDtZQUFLakM7U0FBTTtJQUV4QyxNQUFNa0MsYUFBa0Q7UUFDdERDLFdBQVc7O0lBRWIsT0FBTztRQUNMZCxnQkFDRUMsSUFBaUIsRUFDakJyQixNQUFrQixFQUNsQkQsS0FBYSxFQUNiOVAsT0FBbUI7WUFFbkIsSUFBSWdTLFVBQVUsQ0FBQ2pDLE9BQU9sUixJQUE0QixDQUFDLEVBQUU7Z0JBQ25ELE9BQU91UyxLQUFLckIsUUFBUUQsT0FBTzlQOztZQUc3QjZSLE1BQU05QixPQUFPbFIsSUFBSSxFQUFFaVI7WUFDbkIsTUFBTW9DLFlBQVlkLEtBQUtyQixRQUFRRCxPQUFPOVA7WUFDdENrUyxVQUFVQyxJQUFJLENBQ1osQ0FBQ1Y7Z0JBQ0MsTUFBTU0sTUFBT04sV0FBVzlTLFFBQWlDLEVBQUV5VDtnQkFDM0QsSUFBSUwsS0FBS0QsV0FBVy9CLE9BQU9sUixJQUFJLEVBQUVpUixPQUFPaUM7WUFDMUMsR0FDQSxDQUFDQSxNQUFRRCxXQUFXL0IsT0FBT2xSLElBQUksRUFBRWlSLE9BQU9pQztZQUUxQyxPQUFPRzs7O0FBR2I7QUFFQTs7OztDQUlHLEdBQ0ksTUFBTUcscUJBQXFCLENBQUNyUztJQUNqQyxNQUFNc1MsWUFBWSxJQUFJQyw4RUFBbUJBLENBQUM7UUFDeEMsR0FBRzVCLGNBQWM7UUFDakIsR0FBRzNRLE9BQU87SUFDWDtJQUVELE9BQU8sSUFBSTBQLG1CQUFtQjRDO0FBQ2hDO0FDNUdPLE1BQU1FLFFBQVEsQ0FBQ0MsSUFBYyxJQUFJQyxRQUFRLENBQUNDLElBQU1DLFdBQVdELEdBQUdGO0FBRS9ELFNBQVVJLFdBQWMzVCxLQUFtQjtJQUMvQyxPQUNFQSxTQUNDa0IsQ0FBQUEsT0FBTzBTLFNBQVMsQ0FBQzNQLFFBQVEsQ0FBQzRQLElBQUksQ0FBQzdULFdBQVcsdUJBQ3pDLGVBQWUsT0FBT0EsU0FDdEJBLGlCQUFpQjhULFFBQUE7QUFFdkI7QUFFQTs7Q0FFRyxHQUNJLE1BQU1DLGFBQWE7SUFDeEJDLGVBQWU7SUFDZkMsbUJBQW1COztBQUdyQjs7OztDQUlHLEdBQ0csU0FBVUMsY0FBY0MsZ0JBQXdCOztJQUVwRCxNQUFNQyxNQUFNclEsS0FBS3NRLEdBQUcsQ0FBQyxNQUFNRixtQkFBbUIsTUFBTTtJQUNwRCxNQUFNRSxNQUFNdFEsS0FBS3NRLEdBQUcsQ0FBQ3RRLEtBQUtxUSxHQUFHLENBQUMsS0FBSyxDQUFDRCxtQkFBbUIsS0FBSyxPQUFPO0lBQ25FLE9BQU9wUSxLQUFLQyxLQUFLLENBQUNELEtBQUt1USxNQUFNLEtBQU1GLENBQUFBLE1BQU1DLEdBQUEsSUFBT0E7QUFDbEQ7QUFFQSxTQUFTRSxJQUFJQyxLQUFpQjtJQUM1QixJQUFJQyxJQUFJO0lBQ1IsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlGLE1BQU1yUCxNQUFNLEVBQUV1UCxJQUFLO1FBQ3JDRCxLQUFLRCxLQUFLLENBQUNFLEVBQUUsQ0FBQ3pRLFFBQVEsQ0FBQyxJQUFJMFEsUUFBUSxDQUFDLEdBQUc7O0lBRXpDLE9BQU9GO0FBQ1Q7QUFFQTtTQUNnQkc7SUFDZCxNQUFNSixRQUFRSyxlQUFlO0lBQzdCTCxLQUFLLENBQUMsRUFBRSxHQUFHLEtBQU0sQ0FBQyxFQUFFLEdBQUcsT0FBUSxNQUFLO0lBQ3BDQSxLQUFLLENBQUMsRUFBRSxHQUFHLEtBQU0sQ0FBQyxFQUFFLEdBQUcsT0FBUSxNQUFLO0lBRXBDLE9BQU87UUFDTEQsSUFBSUMsTUFBTU0sUUFBUSxDQUFDLEdBQUc7UUFDdEJQLElBQUlDLE1BQU1NLFFBQVEsQ0FBQyxHQUFHO1FBQ3RCUCxJQUFJQyxNQUFNTSxRQUFRLENBQUMsR0FBRztRQUN0QlAsSUFBSUMsTUFBTU0sUUFBUSxDQUFDLEdBQUc7UUFDdEJQLElBQUlDLE1BQU1NLFFBQVEsQ0FBQyxJQUFJO0tBQ3hCLENBQUM1VSxJQUFJLENBQUM7QUFDVDtBQUVBLE1BQU02VSxrQkFBa0IsQ0FBQztJQUN2QixJQUFJLE9BQU9DLFdBQVcsZUFBZUEsT0FBT0QsZUFBZSxFQUFFO1FBQzNELE9BQU9DLE9BQU9ELGVBQWUsQ0FBQ0UsSUFBSSxDQUFDRDs7SUFFckMsT0FBTyxTQUFTRSw4QkFBOEJWLEtBQWlCO1FBQzdELE1BQU1KLE1BQU1yUSxLQUFLb1IsR0FBRyxDQUFDLEdBQUcsSUFBS1gsTUFBTVksVUFBVSxHQUFJWixNQUFNclAsTUFBTTtRQUM3RCxJQUFLLElBQUl1UCxJQUFJLEdBQUdBLElBQUlGLE1BQU1yUCxNQUFNLEVBQUV1UCxJQUFLO1lBQ3JDRixLQUFLLENBQUNFLEVBQUUsR0FBRzNRLEtBQUt1USxNQUFNLEtBQUtGOztJQUUvQjtBQUNGO0FBRUEsU0FBU1MsZUFBZTFQLE1BQWM7SUFDcEMsTUFBTXFQLFFBQVEsSUFBSWEsV0FBV2xRO0lBQzdCNFAsZ0JBQWdCUDtJQUNoQixPQUFPQTtBQUNUO0FBRUE7O0NBRUcsR0FDRyxTQUFVYyw0QkFBNEJDLEVBQXNCO0lBQ2hFLElBQUksS0FBd0QsRUFBRTtBQUloRTtBQUVNLFNBQVVHLCtCQUErQkgsRUFBc0I7SUFDbkUsSUFBSSxLQUEyRCxFQUFFO0FBSW5FO0FBRU0sU0FBVUssZ0JBQ2RDLEdBQTJCO0lBRTNCLE9BQU8sQ0FBQ0EsSUFBSXJXLE1BQU0sSUFBSXFXLElBQUlyVyxNQUFNLEdBQUcsT0FBTyxPQUFPcVcsSUFBSXJXLE1BQU07QUFDN0Q7QUFFQTtBQUNNLFNBQVVzVyxhQUNkRCxHQUFzQztJQUV0QyxPQUFRQSxJQUFtQnRXLElBQUksS0FBSzRDO0FBQ3RDO0FDeEdBOztDQUVHLEdBQ0ksTUFBTTRULGdCQUFnQjtJQUMzQixJQUFJLE9BQU9DLGNBQWMsYUFBYSxPQUFPO0lBQzdDLE9BQU9BLFVBQVVDLE9BQU8sRUFBRUMsa0JBQWtCO0FBQzlDO0FDSEE7QUFDYSxNQUFBQyxZQUFzQ2pWLE9BQU9rVixNQUFNLENBQUM7SUFDL0R6RCxPQUFPO0lBQ1AwRCxPQUFPO0lBQ1BDLE1BQU07SUFDTkMsTUFBTTtJQUNOckQsT0FBTztBQUNSO0FBRUQsSUFBSWI7QUFDSixJQUFJQyxRQUFrQjtBQUVmLE1BQU1rRSxlQUF1QixDQUFDQyxVQUFVblgsU0FBUyxHQUFHb1g7SUFDekQsSUFBSUM7SUFDSixPQUFRRjtRQUNOLEtBQUs7WUFDSCxJQUFJVixpQkFBaUI7Z0JBQ25CelcsVUFBVSxVQUFVQSxRQUFPLENBQUU7Z0JBQzdCcVgsWUFBWUMsUUFBUU4sSUFBSTtnQkFDeEI7O1lBRUZLLFlBQVlDLFFBQVExRCxLQUFLO1lBQ3pCO1FBQ0YsS0FBSztZQUNILElBQUk2QyxpQkFBaUI7Z0JBQ25CelcsVUFBVSxTQUFTQSxRQUFPLENBQUU7Z0JBQzVCcVgsWUFBWUMsUUFBUU4sSUFBSTtnQkFDeEI7O1lBRUZLLFlBQVlDLFFBQVFMLElBQUk7WUFDeEI7UUFDRixLQUFLO1lBQ0hJLFlBQVlDLFFBQVFOLElBQUk7WUFDeEI7UUFDRixLQUFLO1lBQ0hLLFlBQVlDLFFBQVFqRSxLQUFLO1lBQ3pCO1FBQ0Y7WUFDRWdFLFlBQVlDLFFBQVFDLEdBQUc7WUFDdkI7O0lBR0pGLFVBQVVyWCxZQUFZb1g7QUFDeEI7TUFFYUksWUFBWSxDQUFDQyxHQUFXQztJQUNuQzNFLFNBQVMwRTtJQUNULElBQUlDLEtBQUs7UUFDUEMsWUFBWUQ7O0FBRWhCO0FBRWEsTUFBQUMsY0FBYyxDQUFDRjtJQUMxQnpFLFFBQVF5RTtBQUNWO01BRWFHLGNBQWMsSUFBZ0I1RTtBQUU5QixNQUFBNkUsWUFBWSxDQUFDQztJQUN4QixNQUFNQyxlQUFlaEYsVUFBVW1FO0lBQy9CLE1BQU1jLE9BQU8sQ0FBQ0YsWUFBWSxFQUFFLEVBQUVHLE1BQU0sQ0FBQ0MsU0FBU3RYLElBQUksQ0FBQztJQUNuRCxNQUFNdVgsU0FBaUIsQ0FBQ2hCLFVBQVVuWCxTQUFTLEdBQUdvWDtRQUM1QyxJQUFJUCxTQUFTLENBQUNNLFNBQVMsSUFBSU4sU0FBUyxDQUFDN0QsTUFBTSxFQUFFO1lBQzNDK0UsYUFBYVosVUFBVSxJQUFJYSxLQUFJLEtBQU1oWSxRQUFPLENBQUUsS0FBS29YOztJQUV2RDtJQUNBLE9BQU9lO0FBQ1Q7QUNoREE7Ozs7Ozs7O0NBUUcsR0FDSSxNQUFNQyxZQUFZLE9BSXZCQyxLQUNBQztJQUVBLElBQUlDLFVBQVU7SUFDZCxJQUFJSixTQUE4Q3RWO0lBQ2xELEdBQUc7UUFDRCxJQUFJMFYsVUFBVSxHQUFHLE1BQU12RSxNQUFNWSxjQUFjMkQ7UUFDM0MsSUFBSTtZQUNGSixTQUFTLE1BQU1FO1VBQ2YsT0FBTzlFLEtBQUs7WUFDWixNQUFNaUYscUJBQ0pqRixlQUFla0YsK0RBQVFBLElBQ3ZCbEYsSUFBSXRULElBQUksS0FBS3lZLHlFQUFjLENBQUNBLHlFQUFjQSxDQUFDQyxTQUFTLENBQUM7WUFDdkQsTUFBTUMsWUFBWU4sUUFBUU8sV0FBVztZQUNyQyxJQUFJTCxzQkFBc0JJLFdBQVcsTUFBTXJGO1lBQzNDc0UsVUFBVTtnQkFBQztnQkFBYzthQUFNLEVBQUUsU0FBUyxlQUFlVSxRQUFPLEVBQUcsRUFBRWhGO1lBQ3JFZ0Y7O1lBRUssQ0FBQ0osVUFBVUEsT0FBT2hZLFFBQVEsQ0FBQ3lULEtBQUssRUFBRWtGLGFBQVc7SUFFdEQsT0FBT1g7QUFDVDtBQ3hEQTs7Ozs7O0NBTUcsR0FDSSxNQUFNWSxnQkFBZ0IsT0FBT0M7SUFDbEMsTUFBTUMsU0FBUyxJQUFJQztJQUNuQkQsT0FBT0UsY0FBYyxDQUFDLFNBQVM7UUFBRUg7SUFBUztJQUMxQ0MsT0FBT0UsY0FBYyxDQUFDLFNBQVM7UUFBRUg7SUFBUztJQUUxQyxNQUFNSSxRQUFRLE1BQU1ILE9BQU9JLFdBQVc7SUFDdEMsTUFBTUMsTUFBTUYsTUFBTUUsR0FBRyxJQUFJO0lBRXpCTCxPQUFPTSxlQUFlLEdBQUdDLE9BQU8sQ0FBQyxDQUFDQztRQUNoQ0EsRUFBRUMsSUFBSTtJQUNSO0lBQ0FULE9BQU9VLEtBQUs7SUFDWixPQUFPTDtBQUNUO0FBRUE7Ozs7Q0FJRyxHQUNJLE1BQU1NLGFBQWEsQ0FBQ0M7SUFDekIsSUFBSSxDQUFDQSxpQkFBaUIsT0FBTztJQUM3QkEsa0JBQWtCQSxnQkFBZ0JqRCxXQUFXO0lBQzdDLE9BQ0VpRCxvQkFBb0IsU0FDcEJBLG9CQUFvQixTQUNwQkEsb0JBQW9CLGVBQ3BCQSxvQkFBb0I7QUFFeEI7QUNkQSxNQUFNQyxnQkFBa0Q7SUFDdERDLGlCQUFpQmxYO0lBQ2pCbVgsaUJBQWlCblg7SUFDakJvWCwwQkFBMEJwWDtJQUMxQnFYLG1CQUFtQnJYO0lBQ25CK08sWUFBWS9PO0lBQ1pzWCxzQkFBc0J0WDtJQUN0QnVYLG1CQUFtQnZYO0lBQ25Cd1gsaUJBQWlCeFg7SUFDakJ5WCx3QkFBd0J6WDtJQUN4QjBYLGNBQWMxWDtJQUNkMlgscUJBQXFCM1g7SUFDckI0WCxnQkFBZ0I1WDtJQUNoQjZYLGtCQUFrQjdYO0lBQ2xCK1EsT0FBTy9RO0lBQ1A4WCxtQkFBbUI5WDtJQUNuQitYLFFBQVEvWDtJQUNSa1AsWUFBWWxQO0lBQ1pnWSxhQUFhaFk7SUFDYmlZLFdBQVdqWTtJQUNYa1ksb0JBQW9CbFk7SUFDcEJtWSw4QkFBOEJuWTtJQUM5Qm9ZLHNCQUFzQnBZOztBQUdqQixNQUFNcVksYUFBYSxDQUN4QkM7SUFFQSxPQUFPdlosT0FBTzBTLFNBQVMsQ0FBQzhHLGNBQWMsQ0FBQzdHLElBQUksQ0FBQ3VGLGVBQWVxQjtBQUM3RDtNQUVhRTtJQUFidGIsYUFBQTtRQUNtQixLQUFBZ1QsTUFBTSxHQUFHOEUsVUFBVTtZQUFDO1NBQWE7UUFDMUMsSUFBVyxDQUFBeUQsV0FBQSxHQUVmO1FBRUosS0FBQUMsUUFBUSxHQUFHLENBQ1R2YixTQUNBd2IsU0FBaUIsR0FBRztZQUVwQixNQUFNQyxZQUFZemIsUUFBUTBiLFlBQVksQ0FBQzlZLFNBQVM7WUFDaEQsSUFBSSxDQUFDNlksV0FBVztZQUNoQixNQUFNRSxVQUFVM2IsUUFBUTBiLFlBQVksQ0FBQ0QsVUFBVTtZQUMvQyxJQUFJLENBQUMxSSxNQUFNLENBQUMsU0FBUyxlQUFlMEksVUFBUyxRQUFTRCxPQUFNLENBQUUsRUFBRUc7WUFDaEUsTUFBTUMsWUFBWSxJQUFJLENBQUNOLFdBQVcsQ0FBQ0csVUFBVTtZQUM3QyxJQUFJLENBQUNHLFdBQVc7WUFDaEIsS0FBSyxNQUFNQyxNQUFNRCxVQUFXO2dCQUMxQixJQUFJO29CQUNGQyxHQUFHRjtrQkFDSCxPQUFPRyxHQUFHO29CQUNWLElBQUksQ0FBQy9JLE1BQU0sQ0FBQyxRQUFRLDhCQUE4QitJOzs7UUFHeEQ7UUFFQSxLQUFBQyxFQUFFLEdBQUcsQ0FDSFosV0FDQVU7O1lBRUEsRUFBQUcsS0FBQyxJQUFJLENBQUNWLFdBQVcsRUFBQ0gsVUFBQSxJQUFBYSxDQUFBQSxFQUFBLENBQUFiLFVBQWUsS0FBRSxHQUFFeGEsSUFBSSxDQUFDa2I7WUFDMUMsT0FBTztnQkFDTCxJQUFJLENBQUNJLEdBQUcsQ0FBQ2QsV0FBV1U7WUFDdEI7UUFDRjtRQUVBLEtBQUFJLEdBQUcsR0FBRyxDQUNKZCxXQUNBVTtZQUVBLElBQUksQ0FBQ1AsV0FBVyxDQUFDSCxVQUFVLEdBQUcsQ0FBQyxJQUFJLENBQUNHLFdBQVcsQ0FBQ0gsVUFBVSxJQUFJLEVBQUUsRUFBRWxELE1BQU0sQ0FDdEUsQ0FBQzVVLElBQU1BLE1BQU13WTtRQUVqQjs7QUFDRDtBQzNGRDs7O0NBR0csU0FDVUs7SUFBYm5jLGFBQUE7UUFDVyxLQUFBb2Msb0JBQW9CLEdBQUcsSUFBSUMsNlFBQWFBO1FBQ3hDLEtBQUFDLG1CQUFtQixHQUFHLElBQUlELDZRQUFhQTtRQUVoRCxLQUFBemIsSUFBSSxHQUFHLENBQUNpUjtZQUNOLE1BQU0wSyxlQUFlQyxlQUFlM0s7WUFDcEMsSUFBSSxDQUFDMEssY0FBYztZQUVuQixJQUFJMUssV0FBVzRLLFFBQVEsS0FBS3pXLFNBQVMwVyxVQUFVLEVBQUU7Z0JBQy9DLElBQUksQ0FBQ04sb0JBQW9CLENBQUN2SixJQUFJLENBQUMwSjttQkFDMUIsSUFBSTFLLFdBQVc0SyxRQUFRLEtBQUt6VyxTQUFTMlcscUJBQXFCLEVBQUU7Z0JBQ2pFLElBQUksQ0FBQ0wsbUJBQW1CLENBQUN6SixJQUFJLENBQUMwSjttQkFDekI7Z0JBQ0wsTUFBTXZKLFNBQVM4RSxVQUFVO29CQUFDO2lCQUFhO2dCQUN2QzlFLE9BQU8sUUFBUSwrQkFBK0IsRUFBRW5COztRQUVwRDtRQUVBLElBQU8sQ0FBQStLLE9BQUEsR0FBRztZQUNSLElBQUksQ0FBQ1Isb0JBQW9CLENBQUNTLFFBQVE7WUFDbEMsSUFBSSxDQUFDUCxtQkFBbUIsQ0FBQ08sUUFBUTtRQUNuQzs7QUFDRDtBQUVELE1BQU1MLGlCQUFpQixDQUNyQjNLO0lBRUEsSUFBSTtRQUNGLE9BQU9pTCxLQUFLMVgsS0FBSyxDQUFDeU0sV0FBVzBLLFlBQVk7TUFDekMsT0FBT1IsR0FBRztRQUNWLE1BQU0vSSxTQUFTOEUsVUFBVTtZQUFDO1NBQWE7UUFDdkM5RSxPQUFPLFNBQVMsNkJBQTZCLEVBQUUrSSxHQUFHbEs7UUFDbEQsT0FBTy9POztBQUVYO0FDOUJBOzs7Ozs7Ozs7Q0FTRyxHQUNJLE1BQU1pYSxxQkFBcUJDLGFBQWFDO0FBRS9DOzs7Ozs7Ozs7Ozs7Ozs7Q0FlRyxHQUNJLE1BQU1DLG1CQUFtQkYsYUFBYUc7QUFFN0MsTUFBTUMsa0JBQWtCLElBQUlDO0FBRXRCLFNBQVVDLFdBQVdDLEdBQW9CO0lBQzdDLE9BQU9ILGdCQUFnQkksR0FBRyxDQUFDRDtBQUM3QjtBQUVPLGVBQWVFLFFBQVFGLEdBQW9CO0lBQ2hELElBQUlHO0lBQ0osTUFBUUEsVUFBVU4sZ0JBQWdCTyxHQUFHLENBQUNKLEtBQU87UUFDM0MsTUFBTUcsUUFBUUUsT0FBTzs7QUFFekI7QUFFQTs7Ozs7Ozs7OztDQVVHLEdBQ0gsU0FBU1osYUFBcUNhLE9BQTJCO0lBQ3ZFLE9BQU8sU0FBU0MsSUFBSVAsR0FBb0IsRUFBRXJILEVBQThCO1FBQ3RFLE1BQU0sRUFBRUEsSUFBSTZILE9BQU8sRUFBRUMsV0FBVyxFQUFFLEdBQUdILFFBQVFOLEtBQUtySDtRQUNsRCxNQUFNd0gsVUFBVU4sZ0JBQWdCTyxHQUFHLENBQUNKO1FBQ3BDRyxTQUFTTTtRQUNULE1BQU1KLFVBQVVGLFVBQ1pBLFFBQVFFLE9BQU8sQ0FBQ2hLLElBQUksQ0FBQ21LLFNBQVNBLFdBQzlCQTtRQUNKWCxnQkFBZ0JhLEdBQUcsQ0FBQ1YsS0FBSztZQUFFSztZQUFTSTtRQUFXO1FBQy9DLE9BQU9KO0lBQ1Q7QUFDRjtBQUVBOzs7O0NBSUcsR0FDSCxTQUFTWCw2QkFDUE0sR0FBb0IsRUFDcEJySCxFQUFvQjtJQUVwQixJQUFJZ0ksa0JBQWtCO0lBQ3RCLE1BQU1ILFVBQVUsSUFDZDdILEtBQUtpSSxPQUFPLENBQUM7WUFDWCxJQUFJLENBQUNELGlCQUFpQjtnQkFDcEJkLGdCQUFnQmdCLE1BQU0sQ0FBQ2I7O1FBRTNCO0lBQ0YsTUFBTVMsY0FBYyxJQUFPRSxrQkFBa0I7SUFDN0MsT0FBTztRQUFFaEksSUFBSTZIO1FBQVNDO0lBQVc7QUFDbkM7QUFFQTs7Ozs7Ozs7Q0FRRyxHQUNILFNBQVNiLHFCQUNQSSxHQUFvQixFQUNwQnJILEVBQW9EO0lBRXBELE1BQU1tSSxLQUFLLElBQUlDO0lBQ2YsTUFBTVAsVUFBVTtRQUNkLElBQUlNLEdBQUc5RixNQUFNLENBQUNPLE9BQU8sRUFBRTtZQUNyQixPQUFPM0UsUUFBUW9LLE9BQU8sQ0FBQzs7UUFHekIsT0FBT3JJLEdBQUdtSSxHQUFHOUYsTUFBTSxFQUFFNEYsT0FBTyxDQUFDO1lBQzNCLElBQUksQ0FBQ0UsR0FBRzlGLE1BQU0sQ0FBQ08sT0FBTyxFQUFFO2dCQUN0QnNFLGdCQUFnQmdCLE1BQU0sQ0FBQ2I7O1FBRTNCO0lBQ0Y7SUFDQSxNQUFNUyxjQUFjLElBQU1LLEdBQUdHLEtBQUs7SUFDbEMsT0FBTztRQUFFdEksSUFBSTZIO1FBQVNDO0lBQVc7QUFDbkM7QUNwSEE7Ozs7Q0FJRyxHQUNILE1BQU1TLGtCQUFrQixDQUFJQyxTQUMxQixPQUFPQSxXQUFXO0FBRXBCOzs7OztDQUtHLEdBQ0ksTUFBTUMsa0JBQWtCLENBQUlDO0lBQ2pDLElBQUlqZTtJQUNKLElBQUk2UyxNQUF5QjFRO0lBQzdCK2IsaVJBQWFBLENBQUM7UUFBQ0Q7S0FBWSxFQUN4QkUsU0FBUyxDQUFDO1FBQ1RqTSxNQUFNLENBQUMsQ0FBQ2pSLEVBQUU7WUFDUmpCLFFBQVFpQjs7UUFFVmlTLE9BQU8sQ0FBQ2tJO1lBQ052SSxNQUFNdUk7O09BR1RnRCxXQUFXO0lBRWQsSUFBSXZMLEtBQUssTUFBTUE7SUFDZixPQUFPN1M7QUFDVDtBQUVBOzs7Ozs7OztDQVFHLEdBQ0ksTUFBTXFlLGtCQUFrQixDQUFJQyxTQUFxQlA7SUFDdEQsTUFBTTdMLE9BQU80TCxnQkFBZ0JDLFVBQ3pCQSxPQUFPQyxnQkFBZ0JNLFlBQ3ZCUDtJQUVKTyxRQUFRcE0sSUFBSSxDQUFDQTtJQUNiLE9BQU9BO0FBQ1Q7QUFFQTs7Ozs7Ozs7Q0FRRyxHQUNJLE1BQU1xTSxjQUFjLENBQ3pCRCxTQUNBUDtJQUVBLE1BQU1TLFlBQVlGLFFBQVFHLFFBQVE7SUFDbEMsTUFBTXplLFFBQVFxZSxnQkFBZ0JDLFNBQVNQO0lBQ3ZDLE9BQU87UUFDTFM7UUFDQXhlO1FBQ0EwZSxVQUFVLElBQU1MLGdCQUFnQkMsU0FBU0U7O0FBRTdDO0FBRUE7Ozs7OztDQU1HLEdBQ0ksTUFBTUcscUJBQXFCLENBQ2hDQyxZQUNBQyxTQUNBQyxVQUFnQyxDQUFDNUwsUUFDL0JpRSxVQUFVO1FBQUM7S0FBVSxFQUFFLFFBQVEsa0NBQWtDakUsTUFBTTtJQUV6RSxNQUFNNkwsZUFBZUgsV0FBV1QsU0FBUyxDQUFDO1FBQUVqTSxNQUFNMk07UUFBUzNMLE9BQU80TDtJQUFPO0lBQ3pFLE9BQU87UUFDTEMsYUFBYVgsV0FBVztJQUMxQjtBQUNGO0FBRUE7Ozs7Ozs7Q0FPRyxHQUNJLE1BQU1ZLDhCQUE4QixDQUN6Q0osWUFDQUM7SUFFQSxNQUFNakMsTUFBTXFDO0lBQ1osT0FBT04sbUJBQW1CQyxZQUFZLENBQUM1ZTtRQUNyQ29jLG1CQUFtQlEsS0FBSyxJQUFNaUMsUUFBUTdlO0lBQ3hDO0FBQ0Y7Ozs7Ozs7OztBQ3RIQTs7Q0FFRyxPQUNTa2Y7QUFBWixVQUFZQSxZQUFZO0lBQ3RCOztLQUVHLEdBQ0hBLFlBQUE7SUFFQTs7S0FFRyxHQUNIQSxZQUFBO0lBRUE7OztLQUdHLEdBQ0hBLFlBQUE7SUFFQTs7S0FFRyxHQUNIQSxZQUFBO0lBRUE7O0tBRUcsR0FDSEEsWUFBQTtJQUVBOztLQUVHLEdBQ0hBLFlBQUE7SUFFQTs7S0FFRyxHQUNIQSxZQUFBO0lBRUE7O0tBRUcsR0FDSEEsWUFBQTtJQUVBOztLQUVHLEdBQ0hBLFlBQUE7SUFFQTs7S0FFRyxHQUNIQSxZQUFBO0FBQ0YsR0FuRFlBLGdCQUFBQSxDQUFBQSxlQW1EWDtNQzlDWUM7SUFhWDlmLGFBQUE7UUFaQTs7U0FFRyxHQUNILEtBQUErZixvQkFBb0IsR0FBRyxJQUFJQywrUUFBZUEsQ0FDeENsZDtRQUdGOztTQUVHLEdBQ0gsS0FBQW1kLFlBQVksR0FBRyxJQUFJRCwrUUFBZUEsQ0FBUyxFQUFFO1FBNEI3Qzs7Ozs7U0FLRyxHQUNILEtBQUFFLGdCQUFnQixHQUFHLENBQUNDO1lBQ2xCLE9BQU9DLGdCQUF3QixJQUFJLENBQUNMLG9CQUFvQixFQUFFSTtRQUM1RDtRQVNBOzs7U0FHRyxHQUNILEtBQUFFLFFBQVEsR0FBRyxDQUFDQztZQUNWLE9BQU9GLGdCQUF3QixJQUFJLENBQUNILFlBQVksRUFBRUs7UUFDcEQ7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQUMsWUFBWSxHQUFHLENBQUMvTDtZQUNkLElBQUksQ0FBQyxJQUFJLENBQUM4TCxLQUFLLENBQUNqZCxJQUFJLENBQUMsQ0FBQ21kLElBQU1BLEVBQUVDLEdBQUcsS0FBS2pNLEtBQUtpTSxHQUFHLEdBQUc7Z0JBQy9DLElBQUksQ0FBQ0osUUFBUSxDQUFDLENBQUNDLFFBQVU7MkJBQUlBO3dCQUFPOUw7cUJBQUs7O1FBRTdDO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFrTSxjQUFjLEdBQUcsQ0FBQ2xNO1lBQ2hCLE1BQU14QixTQUFTOEUsVUFBVTtnQkFBQzthQUFlO1lBQ3pDOUUsT0FBTyxTQUFTLHVCQUF1QndCLEtBQUtpTSxHQUFHLENBQUU7WUFDakQsT0FBTyxJQUFJLENBQUNKLFFBQVEsQ0FBQyxDQUFDQyxRQUFVQSxNQUFNcEksTUFBTSxDQUFDLENBQUNzSSxJQUFNQSxNQUFNaE07UUFDNUQ7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUFtTSxRQUFRLEdBQUcsQ0FBQ0MsTUFBY0M7WUFDeEIsT0FBTyxJQUFJLENBQUNQLEtBQUssQ0FBQ2pkLElBQUksQ0FBQyxDQUFDbWQsSUFBTUEsRUFBRUksSUFBSSxLQUFLQSxRQUFRSixFQUFFSyxFQUFFLEtBQUtBO1FBQzVEO1FBaEZFLElBQUksQ0FBQ2Qsb0JBQW9CLENBQUNqQixTQUFTLENBQUMsT0FBT3FCOztZQUV6QyxJQUFJLENBQUNBLE1BQU07Z0JBQ1QsTUFBTW5OLFNBQVM4RSxVQUFVO29CQUFDO2lCQUFlO2dCQUN6QyxLQUFLLE1BQU10RCxRQUFRLElBQUksQ0FBQzhMLEtBQUssQ0FBRTtvQkFDN0IsSUFBSTlMLEtBQUtzTSxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWFtQixJQUFJLEVBQUU7b0JBRW5EaE8sT0FBTyxRQUFRLG9DQUFvQ3dCLEtBQUtpTSxHQUFHLENBQUU7b0JBQzdELE1BQU1qTSxLQUNIeU0sS0FBSyxDQUFDO3dCQUFFaGhCLFNBQVM7b0JBQWdDLEdBQ2pEaWhCLEtBQUssQ0FBQyxDQUFDMU47d0JBQ05SLE9BQU8sU0FBUyxDQUF1QixzQkFBQXdCLEtBQUtpTSxHQUFHLENBQUUsR0FBRWpOO29CQUNyRDs7O1FBR1I7O0lBR0Y7O0tBRUcsR0FDSCxJQUFJMk4sZ0JBQWE7UUFDZixPQUFPQyxnQkFBd0IsSUFBSSxDQUFDckIsb0JBQW9COztJQWExRDs7S0FFRyxHQUNILElBQUlPLFFBQUs7UUFDUCxPQUFPYyxnQkFBd0IsSUFBSSxDQUFDbkIsWUFBWTs7QUEwQ25EO0FBRUQ7Ozs7Q0FJRyxTQUNVb0I7SUFtQlhyaEIsWUFBWXNoQixLQUFxQztRQVJqRDs7Ozs7U0FLRyxHQUNILEtBQUEzQyxlQUFlLEdBQUd5Qzs7UUFJaEIsSUFBSSxDQUFDRyxjQUFjLEdBQUdELE1BQU12QixvQkFBb0IsQ0FBQ3lCLFlBQVk7UUFDN0QsSUFBSSxDQUFDQyxNQUFNLEdBQUdILE1BQU1yQixZQUFZLENBQUN1QixZQUFZOztJQUcvQzs7S0FFRyxHQUNILElBQUlMLGdCQUFhO1FBQ2YsT0FBT0MsZ0JBQXdCLElBQUksQ0FBQ0csY0FBYzs7SUFHcEQ7O0tBRUcsR0FDSCxJQUFJakIsUUFBSztRQUNQLE9BQU9jLGdCQUF3QixJQUFJLENBQUNLLE1BQU07O0FBRTdDO0FDL0lEOzs7Ozs7Q0FNRyxTQUNVQyxxQkFBcUIsQ0FDaEMsR0FBR0M7SUFFSCxPQUFPLENBQUNDLEdBQUdDO1FBQ1QsS0FBSyxNQUFNQyxjQUFjSCxZQUFhO1lBQ3BDLE1BQU12SixTQUFTMEosV0FBV0YsR0FBR0M7WUFDN0IsSUFBSXpKLFdBQVcsR0FBRyxPQUFPQTs7UUFFM0IsT0FBTztJQUNUO0FBQ0Y7QUFFQTs7Ozs7Ozs7Q0FRRyxHQUNVLE1BQUEySixhQUFhLENBQUlEO0lBQzVCLE9BQU8sQ0FBQ0YsR0FBR0MsSUFBTUMsV0FBV0QsR0FBR0Q7QUFDakM7QUFFQTs7Ozs7Ozs7O0NBU0csR0FDVSxNQUFBSSxjQUFjLENBQUlDO0lBQzdCLE9BQU8sQ0FBQ0g7UUFDTixPQUFPLENBQUNGLEdBQUdDO1lBQ1QsSUFBSSxDQUFDSSxVQUFVTCxHQUFHQyxJQUFJLE9BQU87WUFDN0IsT0FBT0MsV0FBV0YsR0FBR0M7UUFDdkI7SUFDRjtBQUNGO0FBRUE7O0NBRUcsR0FDSSxNQUFNSyxpQkFBaUI7SUFDNUIsT0FBTyxJQUFNO0FBQ2Y7QUMxREE7Ozs7Q0FJRyxHQUNVLE1BQUFDLFdBQVcsQ0FBQ0MsSUFDdkJBLEVBQUVDLGVBQWUsQ0FBQ0MsUUFBUSxDQUFDbmMsVUFBVW9jLEtBQUs7QUFFNUM7Ozs7Q0FJRyxHQUNVLE1BQUFDLFdBQVcsQ0FBQ0osSUFDdkJBLEVBQUVDLGVBQWUsQ0FBQ0MsUUFBUSxDQUFDbmMsVUFBVXNjLEtBQUs7QUFFNUM7Ozs7Q0FJRyxHQUNVLE1BQUFDLGlCQUFpQixDQUFDTixJQUM3QkEsRUFBRUMsZUFBZSxDQUFDQyxRQUFRLENBQUNuYyxVQUFVd2MsWUFBWTtBQUVuRDs7OztDQUlHLEdBQ1UsTUFBQUMsc0JBQXNCLENBQUNSLElBQ2xDQSxFQUFFQyxlQUFlLENBQUNDLFFBQVEsQ0FBQ25jLFVBQVUwYyxrQkFBa0I7QUFFekQ7Ozs7Q0FJRyxHQUNJLE1BQU1DLFdBQVcsQ0FBQ1YsSUFDdkIsQ0FBQyxDQUFDQSxFQUFFVyxHQUFHLElBQUtYLENBQUFBLEVBQUVXLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJWixFQUFFVyxHQUFHLENBQUNFLFFBQVEsR0FBRztBQ2pDbkQ7Ozs7O0NBS0csU0FDVUMsa0JBQXNELENBQUN0QixHQUFHQztJQUNyRSxJQUFJRCxFQUFFdUIsaUJBQWlCLElBQUksQ0FBQ3RCLEVBQUVzQixpQkFBaUIsRUFBRSxPQUFPO0lBQ3hELElBQUksQ0FBQ3ZCLEVBQUV1QixpQkFBaUIsSUFBSXRCLEVBQUVzQixpQkFBaUIsRUFBRSxPQUFPO0lBQ3hELE9BQU87QUFDVDtBQUVBOzs7OztDQUtHLFNBQ1VDLFdBQStDLENBQUN4QixHQUFHQztJQUM5RCxJQUFJRCxFQUFFeUIsVUFBVSxJQUFJLENBQUN4QixFQUFFd0IsVUFBVSxFQUFFLE9BQU87SUFDMUMsSUFBSSxDQUFDekIsRUFBRXlCLFVBQVUsSUFBSXhCLEVBQUV3QixVQUFVLEVBQUUsT0FBTztJQUMxQyxPQUFPO0FBQ1Q7QUFFQTs7Ozs7Q0FLRyxTQUNVQyxnQkFBb0QsQ0FBQzFCLEdBQUdDO0lBQ25FLElBQUlhLGVBQWVkLE1BQU0sQ0FBQ2MsZUFBZWIsSUFBSSxPQUFPO0lBQ3BELElBQUksQ0FBQ2EsZUFBZWQsTUFBTWMsZUFBZWIsSUFBSSxPQUFPO0lBQ3BELE9BQU87QUFDVDtBQUVBOzs7OztDQUtHLFNBQ1UwQixrQkFBc0QsQ0FBQzNCLEdBQUdDO0lBQ3JFLElBQUlNLFNBQVNQLE1BQU0sQ0FBQ08sU0FBU04sSUFBSSxPQUFPO0lBQ3hDLElBQUksQ0FBQ00sU0FBU1AsTUFBTU8sU0FBU04sSUFBSSxPQUFPO0lBQ3hDLE9BQU87QUFDVDtBQUVBOzs7OztDQUtHLFNBQ1UyQixrQkFBc0QsQ0FBQzVCLEdBQUdDO0lBQ3JFLElBQUlXLFNBQVNaLE1BQU0sQ0FBQ1ksU0FBU1gsSUFBSSxPQUFPO0lBQ3hDLElBQUksQ0FBQ1csU0FBU1osTUFBTVksU0FBU1gsSUFBSSxPQUFPO0lBQ3hDLE9BQU87QUFDVDtBQUVBOzs7OztDQUtHLFNBQ1U0QixTQUE2QyxDQUFDN0IsR0FBR0M7SUFDNUQsSUFBSUQsRUFBRW1CLEdBQUcsSUFBSWxCLEVBQUVrQixHQUFHLEVBQUU7UUFDbEIsSUFBSSxDQUFDbkIsRUFBRW1CLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJbkIsRUFBRWtCLEdBQUcsQ0FBQ0MsVUFBVSxFQUFFLE9BQU87UUFDbEQsSUFBSXBCLEVBQUVtQixHQUFHLENBQUNDLFVBQVUsSUFBSSxDQUFDbkIsRUFBRWtCLEdBQUcsQ0FBQ0MsVUFBVSxFQUFFLE9BQU87UUFDbEQsSUFBSXBCLEVBQUVtQixHQUFHLENBQUNFLFFBQVEsR0FBR3BCLEVBQUVrQixHQUFHLENBQUNFLFFBQVEsRUFBRSxPQUFPO1FBQzVDLElBQUlyQixFQUFFbUIsR0FBRyxDQUFDRSxRQUFRLEdBQUdwQixFQUFFa0IsR0FBRyxDQUFDRSxRQUFRLEVBQUUsT0FBTzs7SUFHOUMsSUFBSXJCLEVBQUVtQixHQUFHLElBQUksQ0FBQ2xCLEVBQUVrQixHQUFHLEVBQUUsT0FBTztJQUM1QixJQUFJLENBQUNuQixFQUFFbUIsR0FBRyxJQUFJbEIsRUFBRWtCLEdBQUcsRUFBRSxPQUFPO0lBRTVCLE9BQU87QUFDVDtBQUVBOzs7OztDQUtHLEdBQ1UsTUFBQVcsZUFBZSxDQUMxQjlDO0lBRUEsT0FBTyxDQUFDZ0IsR0FBR0M7UUFDVCxJQUFJRCxFQUFFK0IsUUFBUSxFQUFFL0MsU0FBU0EsUUFBUWlCLEVBQUU4QixRQUFRLEVBQUUvQyxTQUFTQSxNQUFNLE9BQU87UUFDbkUsSUFBSWdCLEVBQUUrQixRQUFRLEVBQUUvQyxTQUFTQSxRQUFRaUIsRUFBRThCLFFBQVEsRUFBRS9DLFNBQVNBLE1BQU0sT0FBTztRQUNuRSxPQUFPO0lBQ1Q7QUFDRjtBQUVBOzs7OztDQUtHLEdBQ0ksTUFBTWdELE9BQ1gsQ0FBQyxHQUFHQyxRQUNKLENBQUNqQyxHQUFHQztRQUNGLElBQUlpQyxXQUFXbEMsR0FBR2lDLFVBQVUsQ0FBQ0MsV0FBV2pDLEdBQUdnQyxRQUFRLE9BQU87UUFDMUQsSUFBSSxDQUFDQyxXQUFXbEMsR0FBR2lDLFVBQVVDLFdBQVdqQyxHQUFHZ0MsUUFBUSxPQUFPO1FBQzFELE9BQU87SUFDVDtBQUVGOzs7OztDQUtHLFNBQ1V2akIsT0FBMkMsQ0FBQ3NoQixHQUFHQztJQUMxRCxJQUFJRCxFQUFFdGhCLElBQUksR0FBR3VoQixFQUFFdmhCLElBQUksRUFBRSxPQUFPO0lBQzVCLElBQUlzaEIsRUFBRXRoQixJQUFJLEdBQUd1aEIsRUFBRXZoQixJQUFJLEVBQUUsT0FBTztJQUM1QixPQUFPO0FBQ1Q7QUFFQSxNQUFNd2pCLGFBQWEsQ0FBQzFCLEdBQTJCeUIsUUFDN0MsQ0FBQ3pCLEVBQUV5QixLQUFLLElBQUksRUFBRSxFQUFFRSxJQUFJLENBQUMsQ0FBQzNQLElBQU15UCxNQUFNdkIsUUFBUSxDQUFDbE87QUN0SDdDO0FBQ0E7QUFDQTtBQUNBLE1BQU00UCxnQkFBZ0JoQyxZQUNwQixDQUFDSixHQUEyQkMsSUFDMUJELEVBQUVxQyx1QkFBdUIsRUFBRUMsZUFBZWpULGdCQUFnQmtULFNBQVMsSUFDbkV0QyxFQUFFb0MsdUJBQXVCLEVBQUVDLGVBQWVqVCxnQkFBZ0JrVCxTQUFTO0FBR3ZFOzs7O0NBSUcsR0FDSCxNQUFNQyx5QkFBeUJwQyxZQUM3QixDQUFDSixHQUEyQkMsSUFDMUJELEVBQUVxQyx1QkFBdUIsRUFBRUMsZUFBZWpULGdCQUFnQmtULFNBQVMsSUFDbkV2QyxFQUFFcUMsdUJBQXVCLEVBQUVDLGVBQWVqVCxnQkFBZ0JvVCxPQUFPLElBQ2pFeEMsRUFBRW9DLHVCQUF1QixFQUFFQyxlQUFlalQsZ0JBQWdCa1QsU0FBUyxJQUNuRXRDLEVBQUVvQyx1QkFBdUIsRUFBRUMsZUFBZWpULGdCQUFnQm9ULE9BQU87QUFHckU7O0NBRUcsR0FDSSxNQUFNQyxvQkFBb0I1QyxtQkFDL0IrQixRQUNBSCxlQUNBVSxjQUNFdEMsbUJBQ0V3QixpQkFDQUUsVUFDQU0sYUFBYSxnQkFDYkgsaUJBQ0FDO0FBTU47O0NBRUcsR0FDSSxNQUFNZSwwQkFBMEI3QyxtQkFDckMrQixRQUNBSCxlQUNBSixpQkFDQWMsY0FDRXRDLG1CQUNFMEIsVUFDQU0sYUFBYSxnQkFDYkgsaUJBQ0FDO0FBTU47OztDQUdHLEdBQ1UsTUFBQWdCLDRCQUE0QjlDLG1CQUN2QytCLFFBQ0FXLHVCQUNFMUMsbUJBQ0V3QixpQkFDQUUsVUFDQU0sYUFBYSxnQkFDYkgsaUJBQ0FDO0FBTU47O0NBRUcsR0FDSSxNQUFNaUIsa0NBQWtDL0MsbUJBQzdDc0MsY0FDRXRDLG1CQUNFd0IsaUJBQ0FFLFVBQ0FNLGFBQWEsZ0JBQ2JILGlCQUNBQyxtQkFHSkksS0FBSyxTQUFTLFFBQVE7QUM5Q3hCOztDQUVHLEdBQ0gsTUFBTWMsZ0JBQWdDO0lBQ3BDQyxjQUFjO0lBQ2RDLEtBQUs7UUFBRUMsY0FBYztRQUFJMWtCLFFBQVE7SUFBRTtJQUNuQzJrQixPQUFPLEVBQUU7O0FBVVg7OztDQUdHLFNBQ1U5ZDtJQTJQWDs7O0tBR0csR0FDSGhILGFBQUE7UUE5UFEsS0FBQStrQixnQkFBZ0IsR0FBRyxJQUFJL0UsK1FBQWVBLENBQVU7UUFDaEQsS0FBQWdGLHFCQUFxQixHQUFHLElBQUloRiwrUUFBZUEsQ0FBVyxFQUFFO1FBQ3hELElBQWdCLENBQUFpRixnQkFBQSxHQUFHLElBQUlqRiwrUUFBZUEsQ0FBTyxJQUFJMWI7UUFDakQsS0FBQTRnQixjQUFjLEdBQUcsSUFBSWxGLCtRQUFlQSxDQUFtQmxkO1FBQ3ZELEtBQUFxaUIsZUFBZSxHQUFHLElBQUluRiwrUUFBZUEsQ0FBbUJsZDtRQUN4RCxJQUFnQixDQUFBc2lCLGdCQUFBLEdBQUcsSUFBSXBGLCtRQUFlQSxDQUFPLElBQUkxYjtRQUNqRCxLQUFBK2dCLGdCQUFnQixHQUFHLElBQUlyRiwrUUFBZUEsQ0FDNUNsZDtRQUVNLEtBQUF3aUIsYUFBYSxHQUFHLElBQUl0RiwrUUFBZUEsQ0FBc0I7UUFDekQsS0FBQXVGLGFBQWEsR0FBRyxJQUFJdkYsK1FBQWVBLENBQ3pDbGQ7UUFFTSxLQUFBMGlCLGNBQWMsR0FBRyxJQUFJeEYsK1FBQWVBLENBQzFDbGQ7UUFFTSxLQUFBMmlCLGdCQUFnQixHQUFHLElBQUl6RiwrUUFBZUEsQ0FBVTtRQUNoRCxLQUFBMEYsY0FBYyxHQUFHLElBQUkxRiwrUUFBZUEsQ0FDMUNsZDtRQUVNLEtBQUE2aUIsZUFBZSxHQUFHLElBQUkzRiwrUUFBZUEsQ0FFM0NsZDtRQUNNLEtBQUE4aUIsbUJBQW1CLEdBQUcsSUFBSTVGLCtRQUFlQSxDQUFVO1FBQ25ELEtBQUE2RixpQkFBaUIsR0FBRyxJQUFJN0YsK1FBQWVBLENBQVU7UUFDakQsS0FBQThGLGNBQWMsR0FBRyxJQUFJOUYsK1FBQWVBLENBQzFDbGQ7UUFFTSxLQUFBaWpCLGlCQUFpQixHQUFHLElBQUkvRiwrUUFBZUEsQ0FFN0NsZDtRQUNNLEtBQUFrakIsY0FBYyxHQUFHLElBQUloRywrUUFBZUEsQ0FBbUIsRUFBRTtRQUN6RCxLQUFBaUcsc0JBQXNCLEdBQUcsSUFBSWpHLCtRQUFlQSxDQUFrQixFQUFFO1FBQ2hFLElBQW1CLENBQUFrRyxtQkFBQSxHQUFHLElBQUlsRywrUUFBZUEsQ0FDL0NILGFBQWF3RSxPQUFPO1FBRWQsS0FBQThCLGdCQUFnQixHQUFHLElBQUluRywrUUFBZUEsQ0FBbUJsZDtRQUN6RCxLQUFBc2pCLHVCQUF1QixHQUFHLElBQUlwRywrUUFBZUEsQ0FBUztRQUN0RCxLQUFBcUcsZ0NBQWdDLEdBQUcsSUFBSXJHLCtRQUFlQSxDQUFTO1FBQy9ELEtBQUFzRyxtQkFBbUIsR0FBRyxJQUFJdEcsK1FBQWVBLENBQy9DLEVBQUU7UUFFSSxLQUFBdUcsc0JBQXNCLEdBQUcsSUFBSXZHLCtRQUFlQSxDQUVsRGxkO1FBQ00sS0FBQTBqQixxQkFBcUIsR0FBRyxJQUFJeEcsK1FBQWVBLENBQXNCLEVBQUU7Ozs7O1FBTW5FLElBQWMsQ0FBQXlHLGNBQUEsR0FBb0IsRUFBRTtRQW9MbkMsS0FBQXpULE1BQU0sR0FBRzhFLFVBQVU7WUFBQztTQUFZO1FBRXpDOztTQUVHLEdBQ0ssSUFBa0IsQ0FBQTRPLGtCQUFBLEdBQUdwQztRQU1yQixLQUFBcUMsbUJBQW1CLEdBQUcsSUFBSXRKO1FBc01sQzs7U0FFRyxHQUNILElBQU8sQ0FBQVQsT0FBQSxHQUFHO1lBQ1IsS0FBSyxNQUFNLENBQUNnSyxPQUFPQyxPQUFPLElBQUksSUFBSSxDQUFDRixtQkFBbUIsQ0FBQzdrQixPQUFPLEdBQUk7Z0JBQ2hFZ2xCLGFBQWFEO2dCQUNiLElBQUksQ0FBQ0YsbUJBQW1CLENBQUN2SSxNQUFNLENBQUN3STs7UUFFcEM7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUFHLHFCQUFxQixHQUFHLENBQUNqRjtZQUN2QixJQUFJLENBQUM0RSxrQkFBa0IsR0FBRzVFOztZQUUxQixJQUFJLENBQUM5QyxlQUFlLENBQUMsSUFBSSxDQUFDc0gsbUJBQW1CLEVBQUUsQ0FBQ1UsS0FBT0E7UUFDekQ7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUFySSxlQUFlLEdBQUd5QztRQUVsQjs7Ozs7Ozs7OztTQVVHLEdBQ0gsS0FBQXBDLGVBQWUsR0FBR29CO1FBVWxCOzs7OztTQUtHLEdBQ0gsS0FBQTZHLG1CQUFtQixHQUFHLENBQUNDO1lBQ3JCLE9BQU8sSUFBSSxDQUFDbEksZUFBZSxDQUFDLElBQUksQ0FBQ29ILHVCQUF1QixFQUFFYztRQUM1RDtRQVVBOzs7OztTQUtHLEdBQ0gsS0FBQUMsWUFBWSxHQUFHLENBQUNDO1lBQ2QsT0FBTyxJQUFJLENBQUNwSSxlQUFlLENBQUMsSUFBSSxDQUFDbUgsZ0JBQWdCLEVBQUVpQjtRQUNyRDtRQVNBOzs7OztTQUtHLEdBQ0gsS0FBQUMsYUFBYSxHQUFHLENBQUNDO1lBQ2YsT0FBT0MsWUFBb0IsSUFBSSxDQUFDMUIsaUJBQWlCLEVBQUV5QjtRQUNyRDtRQVVBOzs7OztTQUtHLEdBQ0gsS0FBQUUsNEJBQTRCLEdBQUcsQ0FBQ047WUFDOUIsT0FBTyxJQUFJLENBQUNsSSxlQUFlLENBQUMsSUFBSSxDQUFDcUgsZ0NBQWdDLEVBQUVhO1FBQ3JFO1FBZ0JBOzs7Ozs7U0FNRyxHQUNILEtBQUFPLGVBQWUsR0FBRyxDQUFDQztZQUNqQixPQUFPLElBQUksQ0FBQzFJLGVBQWUsQ0FBQyxJQUFJLENBQUNzSCxtQkFBbUIsRUFBRW9CO1FBQ3hEO1FBNENBOzs7OztTQUtHLEdBQ0gsS0FBQUMsZUFBZSxHQUFHLENBQUM3RztZQUNqQixPQUFPLElBQUksQ0FBQzlCLGVBQWUsQ0FBQyxJQUFJLENBQUNrSCxtQkFBbUIsRUFBRXBGO1FBQ3hEO1FBaUJBOzs7OztTQUtHLEdBQ0gsS0FBQThHLGtCQUFrQixHQUFHLENBQUNDO1lBQ3BCLE9BQU8sSUFBSSxDQUFDN0ksZUFBZSxDQUFDLElBQUksQ0FBQ3VILHNCQUFzQixFQUFFc0I7UUFDM0Q7UUFTQTs7Ozs7U0FLRyxHQUNILEtBQUFDLFVBQVUsR0FBRyxDQUFDQztZQUNaLElBQUksQ0FBQy9JLGVBQWUsQ0FBQyxJQUFJLENBQUNnSCxjQUFjLEVBQUUrQjtRQUM1QztRQVNBOzs7OztTQUtHLEdBQ0gsS0FBQUMsa0JBQWtCLEdBQUcsQ0FBQ0M7WUFDcEIsT0FBTyxJQUFJLENBQUNqSixlQUFlLENBQUMsSUFBSSxDQUFDaUgsc0JBQXNCLEVBQUVnQztRQUMzRDtRQVNBOzs7U0FHRyxHQUNILEtBQUFDLFlBQVksR0FBRyxDQUFDQztZQUNkLE9BQU8sSUFBSSxDQUFDbkosZUFBZSxDQUFDLElBQUksQ0FBQytGLGdCQUFnQixFQUFFb0Q7UUFDckQ7UUF1QkE7OztTQUdHLEdBQ0gsS0FBQUMsVUFBVSxHQUFHLENBQUNDO1lBQ1osT0FBTyxJQUFJLENBQUNySixlQUFlLENBQUMsSUFBSSxDQUFDa0csY0FBYyxFQUFFbUQ7UUFDbkQ7UUE2RkE7Ozs7O1NBS0csR0FDSCxLQUFBQywwQkFBMEIsR0FBRyxDQUMzQkM7WUFFQSxPQUFPLElBQUksQ0FBQ2IsWUFBWSxDQUFDcmtCLElBQUksQ0FBQyxDQUFDK2UsSUFBTUEsRUFBRW1HLFNBQVMsS0FBS0E7UUFDdkQ7UUFFQTs7U0FFRyxHQUNILElBQStCLENBQUFDLCtCQUFBLEdBQUc7WUFDaEMsT0FBTyxJQUFJLENBQUNkLFlBQVksQ0FBQ2UsTUFBTSxDQUU1QixDQUFDQyxhQUFhQztnQkFDZkQsV0FBVyxDQUFDQyxZQUFZSixTQUFTLENBQUMsR0FBR0k7Z0JBQ3JDLE9BQU9EO2VBQ047UUFDTDtRQUVBOzs7Ozs7Ozs7U0FTRyxHQUNILEtBQUFFLGlCQUFpQixHQUFHLENBQ2xCTCxXQUNBTTtZQUlBLE1BQU1GLGNBQWMsSUFBSSxDQUFDTCwwQkFBMEIsQ0FBQ0M7WUFDcEQsSUFBSSxDQUFDSSxhQUFhO2dCQUNoQixJQUFJLENBQUMzVixNQUFNLENBQUMsUUFBUSxDQUE4Qiw2QkFBQXVWLFVBQXFCO2dCQUN2RTs7WUFHRixNQUFNTyxXQUFXLE9BQU9ELFVBQVUsYUFBYUEsTUFBTUYsZUFBZUU7WUFDcEUsTUFBTUUscUJBQTZDO2dCQUNqRCxHQUFHSixXQUFXO2dCQUNkLEdBQUdHLFFBQVE7O1lBRWIsT0FBTyxJQUFJLENBQUNyQixlQUFlLENBQUMsQ0FBQ0MsZUFDM0JBLGFBQWF6akIsR0FBRyxDQUFDLENBQUNtZSxJQUNoQkEsRUFBRW1HLFNBQVMsS0FBS0EsWUFBWVEscUJBQXFCM0c7UUFHdkQ7UUFFQTs7Ozs7OztTQU9HLEdBQ0gsS0FBQTRHLHNCQUFzQixHQUFHLENBQ3ZCVCxXQUNBSTtZQUVBLE9BQU8sSUFBSSxDQUFDbEIsZUFBZSxDQUFDLENBQUNDO2dCQUMzQixJQUFJdUIsTUFBTTtnQkFDVixNQUFNQyxtQkFBbUJ4QixhQUFhempCLEdBQUcsQ0FBQyxDQUFDbWU7b0JBQ3pDLElBQUlBLEVBQUVtRyxTQUFTLEtBQUtBLFdBQVc7d0JBQzdCVSxNQUFNO3dCQUNOLE9BQU87NEJBQ0wsR0FBRzdHLENBQUM7NEJBQ0osR0FBR3VHLFdBQVc7OztvQkFHbEIsT0FBT3ZHO2dCQUNUO2dCQUNBLElBQUk2RyxLQUFLQyxpQkFBaUJ0b0IsSUFBSSxDQUFDK25CO2dCQUMvQixPQUFPTztZQUNUO1FBQ0Y7UUFFQTs7Ozs7Ozs7U0FRRyxHQUNILEtBQUFDLGtCQUFrQixHQUFHLENBQUNOO1lBQ3BCLElBQUlobkIsT0FBT3VuQixJQUFJLENBQUNQLE9BQU8vaUIsTUFBTSxLQUFLLEdBQUcsT0FBTyxJQUFJLENBQUM0aEIsWUFBWTtZQUM3RCxPQUFPLElBQUksQ0FBQ0QsZUFBZSxDQUFDLENBQUNDLGVBQzNCQSxhQUFhempCLEdBQUcsQ0FBQyxDQUFDbWU7b0JBQ2hCLE1BQU0wRyxXQUFXRCxLQUFLLENBQUN6RyxFQUFFbUcsU0FBUyxDQUFDO29CQUNuQyxJQUFJTyxVQUFVO3dCQUNaLE9BQU87NEJBQ0wsR0FBRzFHLENBQUM7NEJBQ0osR0FBRzBHLFFBQVE7OztvQkFHZixPQUFPMUc7O1FBR2I7UUFFQTs7Ozs7OztTQU9HLEdBQ0gsS0FBQWlILHVCQUF1QixHQUFHLENBQ3hCQyxXQUNBQztZQUVBLE9BQU8sSUFBSSxDQUFDSixrQkFBa0IsQ0FDNUJ0bkIsT0FBT0MsT0FBTyxDQUFDeW5CLFNBQVNkLE1BQU0sQ0FDNUIsQ0FBQ2UsS0FBSyxDQUFDakIsV0FBV2tCLE9BQU87Z0JBQ3ZCLElBQUlBLE9BQU9DLFNBQVMsRUFBRTtvQkFDcEJELE9BQU9DLFNBQVMsQ0FBQ0MsTUFBTSxHQUFHamxCLEtBQUtNLElBQUksQ0FBQ3lrQixPQUFPQyxTQUFTLENBQUNDLE1BQU07b0JBQzNERixPQUFPQyxTQUFTLENBQUNFLEtBQUssR0FBR2xsQixLQUFLTSxJQUFJLENBQUN5a0IsT0FBT0MsU0FBUyxDQUFDRSxLQUFLOztnQkFFM0QsTUFBTUMsT0FDSlAsY0FBYyxlQUNWLG1CQUNBQSxjQUFjLHFCQUNaLHlCQUNBeG1CO2dCQUNSLElBQUkrbUIsTUFBTTtvQkFDUkwsR0FBRyxDQUFDakIsVUFBVSxHQUFHO3dCQUNmLENBQUNzQixLQUFJLEVBQUdKLE9BQU9DLFNBQVM7OztnQkFHNUIsT0FBT0Y7WUFDVCxHQUNBO1FBR047UUFFQTs7Ozs7O1NBTUcsR0FDSCxLQUFBTSxlQUFlLEdBQUcsQ0FBQ0M7WUFDakIsTUFBTXJMLFNBQVMsSUFBSSxDQUFDc0wsYUFBYSxDQUFDRCxNQUFNbkosSUFBSSxDQUFDO1lBQzdDLElBQUlsQyxRQUFRO2dCQUNWQSxPQUFPcUw7O1FBRVg7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQUUsaUJBQWlCLEdBQUcsQ0FBQ0M7WUFDbkIsTUFBTUMsYUFBYUQsS0FBS3pCLE1BQU0sQ0FDNUIsQ0FBQzJCLFFBQVFySDtnQkFDUHFILE1BQU0sQ0FBQ3JILElBQUl3RixTQUFTLENBQUMsR0FBR2prQixLQUFLSCxHQUFHO2dCQUNoQyxPQUFPaW1CO2VBRVQ7WUFHRixPQUFPLElBQUksQ0FBQzNDLGVBQWUsQ0FBQyxDQUFDQyxlQUMzQkEsYUFBYXpqQixHQUFHLENBQUMsQ0FBQzBrQjtvQkFDaEIsTUFBTTBCLHFCQUFxQkYsVUFBVSxDQUFDeEIsWUFBWUosU0FBUyxDQUFDOztvQkFFNUQsSUFBSThCLG9CQUFvQjt3QkFDdEIsT0FBTzs0QkFDTCxHQUFHMUIsV0FBVzs0QkFDZDVGLEtBQUs7Z0NBQ0hDLFlBQVk7Z0NBQ1pDLFVBQVVvSDs0QkFDWDs7Ozs7b0JBS0wsSUFBSTFCLFlBQVk1RixHQUFHLElBQUksQ0FBQzRGLFlBQVk1RixHQUFHLENBQUNDLFVBQVUsRUFBRTt3QkFDbEQsT0FBTzs0QkFDTCxHQUFHMkYsV0FBVzs0QkFDZDVGLEtBQUtqZ0I7Ozs7b0JBSVQsT0FBTzZsQjs7UUFHYjtRQUVBOzs7Ozs7U0FNRyxHQUNILEtBQUEyQixxQkFBcUIsR0FBRyxDQUFDQztZQUN2QixJQUFJLENBQUM5RCxjQUFjLENBQUM3bEIsSUFBSSxDQUFDMnBCO1FBQzNCO1FBRUE7Ozs7OztTQU1HLEdBQ0gsS0FBQUMsbUJBQW1CLEdBQUcsQ0FBQzNKO1lBQ3JCLElBQUksQ0FBQzRGLGNBQWMsR0FBRyxJQUFJLENBQUNBLGNBQWMsQ0FBQ3ZPLE1BQU0sQ0FBQyxDQUFDdVMsSUFBTUEsRUFBRTVKLEVBQUUsS0FBS0E7UUFDbkU7UUFFQTs7Ozs7OztTQU9HLEdBQ0gsS0FBQTZKLGtCQUFrQixHQUFHLENBQUNDO1lBQ3BCLE1BQU1DLFVBQVUsSUFBSSxDQUFDbkUsY0FBYyxDQUFDdk8sTUFBTSxDQUN4QyxDQUFDMlMsU0FBV0EsT0FBT0YsaUJBQWlCLEtBQUtBO1lBRTNDLElBQUlDLFFBQVE5a0IsTUFBTSxHQUFHLEdBQUc7Z0JBQ3RCLElBQUksQ0FBQzJnQixjQUFjLEdBQUcsSUFBSSxDQUFDQSxjQUFjLENBQUN2TyxNQUFNLENBQzlDLENBQUMyUyxTQUFXQSxPQUFPRixpQkFBaUIsS0FBS0E7O1lBRzdDLE9BQU9DO1FBQ1Q7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQUUsMkJBQTJCLEdBQUcsQ0FBQ0M7WUFDN0IsSUFBSSxDQUFDQyxzQkFBc0IsR0FBRztnQkFBRSxHQUFHLElBQUksQ0FBQ0Esc0JBQXNCO2dCQUFFLEdBQUdELE1BQU07WUFBQTtRQUMzRTtRQUVBOzs7Ozs7U0FNRyxHQUNILEtBQUFFLHNCQUFzQixHQUFHLENBQUN6VztZQUN4QixJQUFJLENBQUMwVCxZQUFZLENBQUMxVCxLQUFLMlQsU0FBUztZQUNoQyxJQUFJLENBQUNuSixlQUFlLENBQUMsSUFBSSxDQUFDZ0cscUJBQXFCLEVBQUV4USxLQUFLMFcsZ0JBQWdCO1lBQ3RFLElBQUksQ0FBQ2xNLGVBQWUsQ0FBQyxJQUFJLENBQUNpRyxnQkFBZ0IsRUFBRSxJQUFJM2dCLEtBQUtrUSxLQUFLMlcsVUFBVTtZQUNwRSxJQUFJLENBQUNuTSxlQUFlLENBQUMsSUFBSSxDQUFDb0csZ0JBQWdCLEVBQUUsSUFBSTlnQixLQUFLa1EsS0FBSzRXLFVBQVU7WUFDcEUsSUFBSSxDQUFDcE0sZUFBZSxDQUNsQixJQUFJLENBQUNtRyxlQUFlLEVBQ3BCM1EsS0FBSzZXLFNBQVMsR0FBRyxJQUFJL21CLEtBQUtrUSxLQUFLNlcsU0FBUyxJQUFJdm9CO1lBRTlDLElBQUksQ0FBQ3NsQixVQUFVLENBQUM1VCxLQUFLOFcsUUFBUSxHQUFHLElBQUlobkIsS0FBS2tRLEtBQUs4VyxRQUFRLElBQUl4b0I7WUFDMUQsSUFBSSxDQUFDa2MsZUFBZSxDQUFDLElBQUksQ0FBQ3FHLGdCQUFnQixFQUFFN1EsS0FBSytXLFVBQVU7WUFDM0QsSUFBSSxDQUFDdk0sZUFBZSxDQUFDLElBQUksQ0FBQ3NHLGFBQWEsRUFBRTlRLEtBQUtnWCxNQUFNO1lBQ3BELElBQUksQ0FBQ3hNLGVBQWUsQ0FBQyxJQUFJLENBQUN1RyxhQUFhLEVBQUUvUSxLQUFLaVgsTUFBTTtZQUNwRCxJQUFJLENBQUN6TSxlQUFlLENBQUMsSUFBSSxDQUFDd0csY0FBYyxFQUFFaFIsS0FBS2tYLE9BQU87WUFDdEQsSUFBSSxDQUFDMU0sZUFBZSxDQUFDLElBQUksQ0FBQ3lHLGdCQUFnQixFQUFFalIsS0FBS21YLFNBQVM7WUFDMUQsTUFBTXZXLElBQUksSUFBSSxDQUFDNEosZUFBZSxDQUFDLElBQUksQ0FBQzBHLGNBQWMsRUFBRWxSLEtBQUtvWCxPQUFPO1lBQ2hFLElBQUksQ0FBQ0MsaUNBQWlDLENBQUN6VztZQUN2QyxJQUFJLENBQUM0SixlQUFlLENBQUMsSUFBSSxDQUFDMkcsZUFBZSxFQUFFblIsS0FBS3NYLFFBQVE7WUFDeEQsSUFBSSxDQUFDOU0sZUFBZSxDQUFDLElBQUksQ0FBQzRHLG1CQUFtQixFQUFFcFIsS0FBS3VYLFlBQVk7WUFDaEUsSUFBSSxDQUFDL00sZUFBZSxDQUFDLElBQUksQ0FBQzZHLGlCQUFpQixFQUFFclIsS0FBSzhTLFVBQVU7WUFDNUQsSUFBSSxDQUFDdEksZUFBZSxDQUFDLElBQUksQ0FBQytHLGlCQUFpQixFQUFFdlIsS0FBS3dYLFVBQVU7UUFDOUQ7UUFFQTs7Ozs7Ozs7U0FRRyxHQUNILElBQXNCLENBQUFDLHNCQUFBLEdBQUcsQ0FDdkJDLFdBQ0FDLGtCQUNBQztZQUVBLE1BQU0sRUFBRTFFLFlBQVksRUFBRTJFLGdCQUFnQixFQUFFakYsU0FBUyxFQUFFOEMsSUFBSSxFQUFFLEdBQUdnQztZQUM1RCxNQUFNSSx1QkFDSkYsa0JBQWtCRyxnQkFBZ0J0b0IsSUFBSSxDQUFDeVYsSUFBTUEsRUFBRTRQLFNBQVMsS0FBSyxFQUFFO1lBQ2pFLElBQUksQ0FBQzdCLGVBQWUsQ0FBQztnQkFDbkIsTUFBTStFLG9CQUFvQixJQUFJLENBQUNoRSwrQkFBK0I7Z0JBQzlELE9BQU9kLGFBQWF6akIsR0FBRyxDQUF5QixDQUFDbWU7Ozs7b0JBSS9DLE1BQU1xSyxzQkFBc0JELGlCQUFpQixDQUFDcEssRUFBRW1HLFNBQVMsQ0FBQztvQkFDMUQsTUFBTW1FLHFCQUFxQnRLLEVBQUVtRyxTQUFTLEtBQUs0RDtvQkFDM0MsT0FBT3RxQixPQUFPOHFCLE1BQU0sQ0FBQyxJQUFJRixxQkFBcUJySyxHQUFHO3dCQUMvQ3NLO3dCQUNBckssaUJBQWlCcUsscUJBQ2JKLHVCQUNBbEssRUFBRUMsZUFBZTt3QkFDckI0Qix5QkFDRXdJLHFCQUFxQnhJLDJCQUEyQjs0QkFDOUNDLFlBQVlqVCxnQkFBZ0JvVCxPQUFPOzRCQUNuQ3VJLGtCQUFrQjNiLGdCQUFnQm9ULE9BQU87d0JBQzFDO29CQUNzQztnQkFDN0M7WUFDRjtZQUVBLElBQUksQ0FBQzRDLG1CQUFtQixDQUFDb0Ysa0JBQWtCUSxTQUFTO1lBQ3BELElBQUksQ0FBQ3JGLDRCQUE0QixDQUFDNkUsa0JBQWtCUyxhQUFhO1lBQ2pFLElBQUksQ0FBQzNGLFlBQVksQ0FBQ0MsWUFBWXJoQixVQUFVakIsTUFBTSxDQUFDc2lCLGFBQWEsSUFBSTlpQjtZQUNoRSxJQUFJLENBQUMybEIsaUJBQWlCLENBQUNDO1FBQ3pCO1FBRVEsS0FBQTZDLHVCQUF1QixHQUFHLENBQUNoRDtZQUNqQyxJQUFJLENBQUNrQixzQkFBc0IsQ0FBQ2xCLE1BQU12VixJQUFJO1lBQ3RDLElBQUksQ0FBQ3dLLGVBQWUsQ0FBQyxJQUFJLENBQUNnSCxjQUFjLEVBQUUsQ0FBQytCLFVBQ3pDQSxRQUFRN1AsTUFBTSxDQUFDLENBQUNoRSxJQUFNNlYsTUFBTWhDLE9BQU8sQ0FBQ2lGLE9BQU8sQ0FBQzlZLEVBQUUrWSxPQUFPLE1BQU07UUFFL0Q7UUFFUSxLQUFBQyxxQkFBcUIsR0FBRyxDQUFDbkQ7WUFDL0IsSUFBSSxDQUFDa0Isc0JBQXNCLENBQUNsQixNQUFNdlYsSUFBSTtZQUN0QyxJQUFJLENBQUN3SyxlQUFlLENBQUMsSUFBSSxDQUFDZ0gsY0FBYyxFQUFFLENBQUMrQixVQUFZO3VCQUNsREE7dUJBQ0FnQyxNQUFNaEMsT0FBTztpQkFDakI7UUFDSDtRQUVRLElBQTZCLENBQUFvRiw2QkFBQSxHQUFHO1lBQ3RDLElBQUksQ0FBQ25PLGVBQWUsQ0FBQyxJQUFJLENBQUN1RyxhQUFhLEVBQUUsQ0FBQ2tHLFNBQVMvRyxhQUFhLEdBQU07b0JBQ3BFLEdBQUcrRyxNQUFNO29CQUNUOUcsY0FBYztvQkFDZEMsS0FBSzt3QkFDSCxHQUFHNkcsT0FBTzdHLEdBQUk7d0JBQ2R6a0IsUUFBUTtvQkFDVDtnQkFDRjtRQUNIO1FBRVEsSUFBK0IsQ0FBQWl0QiwrQkFBQSxHQUFHO1lBQ3hDLElBQUksQ0FBQ3BPLGVBQWUsQ0FBQyxJQUFJLENBQUN1RyxhQUFhLEVBQUUsQ0FBQ2tHLFNBQVMvRyxhQUFhLEdBQU07b0JBQ3BFLEdBQUcrRyxNQUFNO29CQUNUOUcsY0FBYztvQkFDZEMsS0FBSzt3QkFDSCxHQUFHNkcsT0FBTzdHLEdBQUk7d0JBQ2R6a0IsUUFBUTtvQkFDVDtnQkFDRjtRQUNIO1FBRVEsS0FBQTByQixpQ0FBaUMsR0FBRyxDQUMxQ0Q7OztZQUlBLElBQUksQ0FBQ0EsV0FBVyxJQUFJLENBQUM3SyxZQUFZLEtBQUtsQixhQUFhd04sTUFBTSxFQUFFO1lBQzNELE1BQU1DLGNBQWN6ckIsT0FBT21DLE1BQU0sQ0FDL0I0bkIsUUFBUTJCLDBCQUEwQixFQUNsQzlFLE1BQU0sQ0FBQyxDQUFDb0UsT0FBT1csY0FBZ0JYLFFBQVFXLGFBQWE7WUFDdEQsTUFBTW5CLG1CQUFtQjNuQixLQUFLcVEsR0FBRyxDQUFDdVksYUFBYTFCLFFBQVFsRSxZQUFZLENBQUM1aEIsTUFBTTtZQUMxRSxJQUFJLENBQUNtaEIsbUJBQW1CLENBQUNvRjtZQUN6QixJQUFJLENBQUM3RSw0QkFBNEIsQ0FBQ29FLFFBQVE2QiwyQkFBMkIsSUFBSTtRQUMzRTtRQUVRLEtBQUFDLHVDQUF1QyxHQUFHLENBQ2hEM0Q7WUFFQSxNQUFNM1UsSUFBSSxJQUFJLENBQUM0SixlQUFlLENBQUMsSUFBSSxDQUFDMEcsY0FBYyxFQUFFLENBQUNrRztnQkFDbkQsSUFBSSxDQUFDQSxTQUFTLE9BQU9BO2dCQUNyQixPQUFPO29CQUNMLEdBQUdBLE9BQU87b0JBQ1Y2Qiw2QkFBNkIxRCxNQUFNMEQsMkJBQTJCO29CQUM5REYsNEJBQTRCeEQsTUFBTXdELDBCQUEwQjs7WUFFaEU7WUFDQSxJQUFJLENBQUMxQixpQ0FBaUMsQ0FBQ3pXO1FBQ3pDO1FBRVEsS0FBQXVZLGdDQUFnQyxHQUFHLENBQ3pDNUQ7WUFFQSxNQUFNM1UsSUFBSSxJQUFJLENBQUM0SixlQUFlLENBQUMsSUFBSSxDQUFDMEcsY0FBYyxFQUFFLENBQUNrRztnQkFDbkQsSUFBSSxDQUFDQSxTQUFTLE9BQU9BO2dCQUNyQixNQUFNLEVBQUVsRSxZQUFZLEVBQUU2RiwwQkFBMEIsRUFBRSxHQUFHM0I7Z0JBQ3JELE1BQU0sRUFBRXpMLElBQUksRUFBRXlOLGVBQWUsRUFBRSxHQUFHN0QsTUFBTXBCLFdBQVc7Z0JBQ25ELE9BQU87b0JBQ0wsR0FBR2lELE9BQU87b0JBQ1ZsRSxjQUFjQSxhQUFheFAsTUFBTSxDQUMvQixDQUFDa0ssSUFBTUEsRUFBRXdMLGVBQWUsS0FBS0E7b0JBRS9CTCw0QkFBNEI7d0JBQzFCLEdBQUdBLDBCQUEwQjt3QkFDN0IsQ0FBQ3BOLEtBQUt5RCxJQUFJLEdBQUdsZixLQUFLcVEsR0FBRyxDQUNuQixHQUNBLENBQUN3WSwwQkFBMEIsQ0FBQ3BOLEtBQUt5RCxJQUFJLENBQUMsSUFBSSxLQUFLO29CQUVsRDs7WUFFTDtZQUNBLElBQUksQ0FBQ2lJLGlDQUFpQyxDQUFDelc7UUFDekM7UUFFUSxLQUFBeVksa0NBQWtDLEdBQUcsQ0FDM0M5RDtZQUVBLE1BQU0zVSxJQUFJLElBQUksQ0FBQzRKLGVBQWUsQ0FBQyxJQUFJLENBQUMwRyxjQUFjLEVBQUUsQ0FBQ2tHO2dCQUNuRCxJQUFJLENBQUNBLFNBQVMsT0FBT0E7Z0JBQ3JCLE1BQU0sRUFBRWxFLFlBQVksRUFBRTZGLDBCQUEwQixFQUFFLEdBQUczQjtnQkFDckQsTUFBTSxFQUFFekwsSUFBSSxFQUFFeU4sZUFBZSxFQUFFLEdBQUc3RCxNQUFNcEIsV0FBVzs7Ozs7Z0JBS25ELElBQUltRiwwQkFBMEI7Z0JBQzlCLE1BQU1DLHNCQUFzQnJHLGFBQWF6akIsR0FBRyxDQUFDLENBQUNtZTtvQkFDNUMsSUFBSUEsRUFBRXdMLGVBQWUsS0FBS0EsaUJBQWlCO3dCQUN6Q0UsMEJBQTBCO3dCQUMxQixPQUFPL0QsTUFBTXBCLFdBQVc7O29CQUUxQixPQUFPdkc7Z0JBQ1Q7Z0JBQ0EsSUFBSTBMLHlCQUF5Qjs7b0JBRTNCQyxvQkFBb0JudEIsSUFBSSxDQUFDbXBCLE1BQU1wQixXQUFXOzs7O2dCQUs1QyxNQUFNcUYsWUFBWUYsMEJBQTBCLElBQUk7Z0JBQ2hELE9BQU87b0JBQ0wsR0FBR2xDLE9BQU87b0JBQ1ZsRSxjQUFjcUc7b0JBQ2RSLDRCQUE0Qjt3QkFDMUIsR0FBR0EsMEJBQTBCO3dCQUM3QixDQUFDcE4sS0FBS3lELElBQUksR0FBRyxDQUFDMkosMEJBQTBCLENBQUNwTixLQUFLeUQsSUFBSSxDQUFDLElBQUksS0FBS29LO29CQUM3RDs7WUFFTDtZQUNBLElBQUksQ0FBQ25DLGlDQUFpQyxDQUFDelc7UUFDekM7UUFFUSxLQUFBNlksYUFBYSxHQUFHLENBQ3RCbEU7WUFFQSxJQUFJLENBQUNrQixzQkFBc0IsQ0FBQ2xCLE1BQU12VixJQUFJO1lBQ3RDLElBQUksQ0FBQ3dLLGVBQWUsQ0FBQyxJQUFJLENBQUNnSCxjQUFjLEVBQUUsQ0FBQytCLFVBQ3pDQSxRQUFROWpCLEdBQUcsQ0FBQyxDQUFDaXFCO29CQUNYLE1BQU1DLGVBQWVwRSxNQUFNaEMsT0FBTyxDQUFDMWtCLElBQUksQ0FDckMsQ0FBQzZRLElBQU1BLEVBQUUrWSxPQUFPLEtBQUtpQixPQUFPakIsT0FBTztvQkFFckMsT0FBT2tCLGVBQWVBLGVBQWVEOztRQUczQztRQUVRLEtBQUFFLHlCQUF5QixHQUFHLENBQUNyRTtZQUNuQyxNQUFNLEVBQUU1SixJQUFJLEVBQUVxTCxNQUFNLEVBQUU1SyxJQUFJLEVBQUV5TixVQUFVLEVBQUUsR0FBR3RFLE1BQU1wRyxRQUFRO1lBQ3pELElBQUksQ0FBQzhELGVBQWUsQ0FBQyxDQUFDQztnQkFDcEIsT0FBT0EsYUFBYXpqQixHQUFHLENBQUMsQ0FBQ21lOztvQkFFdkIsSUFBSUEsRUFBRWtNLE1BQU0sS0FBS25PLEtBQUtVLEVBQUUsRUFBRSxPQUFPdUI7O29CQUVqQyxPQUFPO3dCQUNMLEdBQUdBLENBQUM7d0JBQ0p1QixVQUFVOzRCQUNSL0M7NEJBQ0F5Tjs0QkFDQTdDO3dCQUNEOztnQkFFTDtZQUNGO1FBQ0Y7UUFFUSxLQUFBK0MsV0FBVyxHQUFHLENBQUN4RTtZQUNyQixJQUFJLENBQUMvSyxlQUFlLENBQUMsSUFBSSxDQUFDZ0cscUJBQXFCLEVBQUUsQ0FBQ3dKO2dCQUNoRCxJQUFJLENBQUNBLFNBQVMsT0FBT0E7Z0JBQ3JCLE9BQU9BLFFBQVF0VyxNQUFNLENBQUMsQ0FBQzJJLEtBQU9BLE9BQU9rSixNQUFNNUosSUFBSSxDQUFDVSxFQUFFO1lBQ3BEO1FBQ0Y7UUFFUSxLQUFBNE4sU0FBUyxHQUFHLENBQUMxRTtZQUNuQixJQUFJLENBQUMvSyxlQUFlLENBQUMsSUFBSSxDQUFDZ0cscUJBQXFCLEVBQUUsQ0FBQ3dKLFVBQVk7dUJBQ3hEQSxXQUFXLEVBQUU7b0JBQ2pCekUsTUFBTTVKLElBQUksQ0FBQ1UsRUFBRTtpQkFDZDtRQUNIO1FBRVEsS0FBQTZOLHFCQUFxQixHQUFHLENBQUMzRTtZQUMvQixJQUFJQSxNQUFNNUosSUFBSSxDQUFDVSxFQUFFLEtBQUssSUFBSSxDQUFDOE4sZ0JBQWdCLEVBQUVMLFFBQVE7Z0JBQ25ELElBQUksQ0FBQ3RQLGVBQWUsQ0FBQyxJQUFJLENBQUNpSCxzQkFBc0IsRUFBRThELE1BQU02RSxnQkFBZ0I7O1FBRTVFO1FBRVEsS0FBQUMsd0JBQXdCLEdBQUcsQ0FBQzlFO1lBQ2xDLElBQUksQ0FBQy9LLGVBQWUsQ0FBQyxJQUFJLENBQUN3SCxxQkFBcUIsRUFBRSxDQUFDc0k7Z0JBQ2hELE1BQU0sRUFBRUMsY0FBYyxFQUFFLEdBQUdoRjtnQkFFM0IsTUFBTWlGLFFBQVEsQ0FBQ3hPLElBQXlCLEdBQUdBLEVBQUV5TyxVQUFVLENBQUksR0FBQXpPLEVBQUUwTyxVQUFVLEVBQUU7Z0JBQ3pFLE1BQU1DLGFBQWFILE1BQU1EO2dCQUV6QixNQUFNSyxZQUFZTixNQUFNL0ssSUFBSSxDQUFDLENBQUNzTCxVQUFZTCxNQUFNSyxhQUFhRjtnQkFDN0QsSUFBSUMsV0FBVyxPQUFPTjtnQkFFdEIsTUFBTVEsWUFBWTt1QkFBSVI7b0JBQU9DO2lCQUFlO2dCQUU1QyxNQUFNLEVBQUVRLHVCQUF1QixJQUFJLEVBQUVDLHFCQUFxQixDQUFDLEVBQUUsR0FDM0QsSUFBSSxDQUFDeEUsc0JBQXNCLElBQUk7O2dCQUVqQyxJQUFJdUUsdUJBQXVCLEdBQUc7b0JBQzVCLE1BQU0xSSxTQUFTeFMsV0FBVzt3QkFDeEIsSUFBSSxDQUFDMkssZUFBZSxDQUFDLElBQUksQ0FBQ3dILHFCQUFxQixFQUFFLENBQUNpSixXQUNoREEsU0FBU3ZYLE1BQU0sQ0FBQyxDQUFDbVgsVUFBWUEsWUFBWU47d0JBRTNDLElBQUksQ0FBQ3BJLG1CQUFtQixDQUFDdkksTUFBTSxDQUFDK1E7dUJBQy9CSTtvQkFDSCxJQUFJLENBQUM1SSxtQkFBbUIsQ0FBQzFJLEdBQUcsQ0FBQ2tSLFlBQVl0STs7b0JBR3pDLElBQUssSUFBSXhSLElBQUksR0FBR0EsSUFBSWlhLFVBQVV4cEIsTUFBTSxHQUFHMHBCLG9CQUFvQm5hLElBQUs7d0JBQzlELE1BQU0zVSxNQUFNc3VCLE1BQU1NLFNBQVMsQ0FBQ2phLEVBQUU7d0JBQzlCLE1BQU1xYSxPQUFPLElBQUksQ0FBQy9JLG1CQUFtQixDQUFDaEosR0FBRyxDQUFDamQ7d0JBQzFDb21CLGFBQWE0STt3QkFDYixJQUFJLENBQUMvSSxtQkFBbUIsQ0FBQ3ZJLE1BQU0sQ0FBQzFkOzs7O2dCQUtwQyxPQUFPNHVCLFVBQVVLLEtBQUssQ0FBQyxDQUFDSDtZQUMxQjtRQUNGO1FBN2xDRSxJQUFJLENBQUNJLGdCQUFnQixHQUFHLElBQUksQ0FBQ3RKLG1CQUFBLENBQzFCOUUsWUFBWSxHQUNacU8sSUFBSSxDQUFDQywrUUFBV0EsQ0FBQztZQUFFQyxZQUFZO1lBQUdDLFVBQVU7UUFBSTtRQUVuRCxJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJLENBQUMzSixtQkFBbUIsQ0FBQzlFLFlBQVksR0FBR3FPLElBQUk7O1FBRy9ENXJCLHVRQUFHQSxDQUFDLENBQUMraUIsS0FBT0EsR0FBR2tKLElBQUksQ0FBQyxJQUFJLENBQUN4SixrQkFBa0IsSUFDM0NvSiwrUUFBV0EsQ0FBQztZQUFFQyxZQUFZO1lBQUdDLFVBQVU7UUFBSTtRQUc3QyxJQUFJLENBQUNHLGlCQUFpQixHQUFHLElBQUksQ0FBQ0YsYUFBYSxDQUFDSixJQUFJLENBQzlDNXJCLHVRQUFHQSxDQUFDLENBQUN5akIsZUFBaUJBLGFBQWFya0IsSUFBSSxDQUFDLENBQUMrZSxJQUFNQSxFQUFFc0ssa0JBQWtCLElBQ25Fb0QsK1FBQVdBLENBQUM7WUFBRUMsWUFBWTtZQUFHQyxVQUFVO1FBQUk7UUFHN0MsSUFBSSxDQUFDSSxtQkFBbUIsR0FBRyxJQUFJLENBQUNILGFBQWEsQ0FBQ0osSUFBSSxDQUNoRDVyQix1UUFBR0EsQ0FBQyxDQUFDeWpCLGVBQWlCQSxhQUFheFAsTUFBTSxDQUFDLENBQUNrSyxJQUFNLENBQUNBLEVBQUVzSyxrQkFBa0IsSUFDdEVvRCwrUUFBV0EsQ0FBQztZQUFFQyxZQUFZO1lBQUdDLFVBQVU7UUFBSTtRQUc3QyxJQUFJLENBQUNLLG1CQUFtQixHQUFHLElBQUksQ0FBQ0osYUFBYSxDQUFDSixJQUFJLENBQ2hENXJCLHVRQUFHQSxDQUFDLENBQUN5akIsZUFBaUJBLGFBQWF4UCxNQUFNLENBQUMsQ0FBQ2tLLElBQU0sQ0FBQyxDQUFDQSxFQUFFVyxHQUFHLElBQ3hEK00sK1FBQVdBLENBQUM7WUFBRUMsWUFBWTtZQUFHQyxVQUFVO1FBQUk7UUFHN0MsSUFBSSxDQUFDTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUNMLGFBQWEsQ0FBQ0osSUFBSSxDQUM3QzVyQix1UUFBR0EsQ0FBQyxDQUFDeWpCLGVBQWlCQSxhQUFhcmtCLElBQUksQ0FBQyxDQUFDK2UsSUFBTUEsRUFBRWUsaUJBQWlCLElBQ2xFMk0sK1FBQVdBLENBQUM7WUFBRUMsWUFBWTtZQUFHQyxVQUFVO1FBQUk7UUFHN0MsSUFBSSxDQUFDTyxzQkFBc0IsR0FBRyxJQUFJLENBQUNOLGFBQWEsQ0FBQ0osSUFBSSxDQUNuRDVyQix1UUFBR0EsQ0FBQyxDQUFDeWpCLGVBQWlCQSxhQUFhM0QsSUFBSSxDQUFDLENBQUMzQixJQUFNTSxlQUFlTixNQUM5RG9PLHdSQUFvQkEsSUFDcEJWLCtRQUFXQSxDQUFDO1lBQUVDLFlBQVk7WUFBR0MsVUFBVTtRQUFJOztRQUk3QyxJQUFJLENBQUNTLFVBQVUsR0FBRyxJQUFJLENBQUN4TCxnQkFBZ0IsQ0FBQ3pELFlBQVk7UUFDcEQsSUFBSSxDQUFDa1AsUUFBUSxHQUFHLElBQUksQ0FBQ3hMLGNBQWMsQ0FBQzFELFlBQVk7UUFDaEQsSUFBSSxDQUFDbVAsU0FBUyxHQUFHLElBQUksQ0FBQ3hMLGVBQWUsQ0FBQzNELFlBQVk7UUFDbEQsSUFBSSxDQUFDb1AsVUFBVSxHQUFHLElBQUksQ0FBQ3pLLGdCQUFnQixDQUFDM0UsWUFBWTtRQUNwRCxJQUFJLENBQUNxUCxVQUFVLEdBQUcsSUFBSSxDQUFDekwsZ0JBQWdCLENBQUM1RCxZQUFZO1FBRXBELElBQUksQ0FBQ3NQLGdCQUFnQixHQUFHLElBQUksQ0FBQ3ZLLHNCQUFzQixDQUFDL0UsWUFBWTtRQUNoRSxJQUFJLENBQUN1UCxRQUFRLEdBQUcsSUFBSSxDQUFDL0ssY0FBYyxDQUFDeEUsWUFBWTs7UUFHaEQsSUFBSSxDQUFDd1AsVUFBVSxHQUFHLElBQUksQ0FBQzNMLGdCQUFnQixDQUFDN0QsWUFBWTtRQUNwRCxJQUFJLENBQUN5UCxPQUFPLEdBQUcsSUFBSSxDQUFDM0wsYUFBYSxDQUFDOUQsWUFBWTtRQUM5QyxJQUFJLENBQUMwUCxPQUFPLEdBQUcsSUFBSSxDQUFDM0wsYUFBYSxDQUFDL0QsWUFBWTtRQUM5QyxJQUFJLENBQUMyUCxRQUFRLEdBQUcsSUFBSSxDQUFDM0wsY0FBYyxDQUFDaEUsWUFBWTtRQUNoRCxJQUFJLENBQUM0UCxRQUFRLEdBQUcsSUFBSSxDQUFDMUwsY0FBYyxDQUFDbEUsWUFBWTtRQUNoRCxJQUFJLENBQUM2UCxTQUFTLEdBQUcsSUFBSSxDQUFDMUwsZUFBZSxDQUFDbkUsWUFBWTtRQUNsRCxJQUFJLENBQUM4UCxRQUFRLEdBQUcsSUFBSSxDQUFDeEwsY0FBYyxDQUFDdEUsWUFBWTtRQUNoRCxJQUFJLENBQUMrUCxXQUFXLEdBQUcsSUFBSSxDQUFDeEwsaUJBQWlCLENBQUN2RSxZQUFZO1FBQ3RELElBQUksQ0FBQ2dRLGVBQWUsR0FBRyxJQUFJLENBQUNoTCxxQkFBcUIsQ0FBQ2hGLFlBQVk7UUFFOUQ7OztTQUdHLEdBQ0gsTUFBTWlRLGlCQUFpQixDQUFJN1AsR0FBYUM7WUFDdEMsSUFBSUQsRUFBRTliLE1BQU0sS0FBSytiLEVBQUUvYixNQUFNLEVBQUUsT0FBTztZQUNsQyxLQUFLLE1BQU00ckIsUUFBUTlQLEVBQUcsSUFBSSxDQUFDQyxFQUFFUyxRQUFRLENBQUNvUCxPQUFPLE9BQU87WUFDcEQsS0FBSyxNQUFNQSxRQUFRN1AsRUFBRyxJQUFJLENBQUNELEVBQUVVLFFBQVEsQ0FBQ29QLE9BQU8sT0FBTztZQUNwRCxPQUFPO1FBQ1Q7UUFFQTs7O1NBR0csR0FDSCxNQUFNQyxNQUFNLENBQ1YxUyxTQUNBNkMsYUFFQTdDLFFBQVF1QyxZQUFZLEdBQUdxTyxJQUFJLENBQUNXLHdSQUFvQkEsQ0FBQzFPOztRQUduRCxJQUFJLENBQUM4UCwwQkFBMEIsR0FBR0QsSUFDaEMsSUFBSSxDQUFDdEwsZ0NBQWdDO1FBRXZDLElBQUksQ0FBQ3dMLGVBQWUsR0FBR0YsSUFBSSxJQUFJLENBQUMzTSxxQkFBcUIsRUFBRXlNO1FBQ3ZELElBQUksQ0FBQ0ssVUFBVSxHQUFHSCxJQUFJLElBQUksQ0FBQzVNLGdCQUFnQjtRQUMzQyxJQUFJLENBQUNnTixhQUFhLEdBQUdKLElBQUksSUFBSSxDQUFDekwsbUJBQW1CO1FBQ2pELElBQUksQ0FBQzhMLGdCQUFnQixHQUFHTCxJQUFJLElBQUksQ0FBQzFMLHNCQUFzQixFQUFFd0w7UUFDekQsSUFBSSxDQUFDUSxpQkFBaUIsR0FBR04sSUFBSSxJQUFJLENBQUN2TCx1QkFBdUI7UUFDekQsSUFBSSxDQUFDOEwsVUFBVSxHQUFHUCxJQUFJLElBQUksQ0FBQ2xNLGdCQUFnQjtRQUMzQyxJQUFJLENBQUMwTSxhQUFhLEdBQUdSLElBQUksSUFBSSxDQUFDL0wsbUJBQW1CO1FBQ2pELElBQUksQ0FBQ3dNLFdBQVcsR0FBR1QsSUFBSSxJQUFJLENBQUM5TCxpQkFBaUI7UUFFN0MsSUFBSSxDQUFDbUUsYUFBYSxHQUFHOztZQUVuQiw4QkFBOEJsbkI7WUFDOUIsd0JBQXdCQTtZQUN4QiwyQkFBMkJBO1lBQzNCLDJCQUEyQkE7WUFDM0Isd0JBQXdCQTtZQUN4Qiw4QkFBOEJBO1lBQzlCLCtCQUErQkE7WUFDL0IsK0JBQStCQTtZQUMvQiwyQkFBMkJBO1lBQzNCLDRCQUE0QkE7WUFDNUIsbUJBQW1CQTtZQUNuQixvQkFBb0JBO1lBQ3BCLGlCQUFpQkE7WUFDakIsZ0JBQWdCQTtZQUNoQixnQkFBZ0JBO1lBQ2hCMG9CLFFBQVExb0I7O1lBR1IsaUJBQWlCLENBQUNpWixJQUFNLElBQUksQ0FBQ2tQLHNCQUFzQixDQUFDbFAsRUFBRXZILElBQUk7WUFDMUQscUJBQXFCLElBQUksQ0FBQ2lhLFNBQVM7WUFDbkMsdUJBQXVCLElBQUksQ0FBQ0ksd0JBQXdCO1lBQ3BELCtCQUErQjtnQkFDN0IsSUFBSSxDQUFDN1AsZUFBZSxDQUFDLElBQUksQ0FBQzZHLGlCQUFpQixFQUFFOztZQUUvQyxnQ0FBZ0M7Z0JBQzlCLElBQUksQ0FBQzdHLGVBQWUsQ0FBQyxJQUFJLENBQUM2RyxpQkFBaUIsRUFBRTs7WUFFL0MsZ0NBQWdDO2dCQUM5QixJQUFJLENBQUM3RyxlQUFlLENBQUMsSUFBSSxDQUFDNkcsaUJBQWlCLEVBQUU7O1lBRS9DLGdCQUFnQixDQUFDOUosSUFBTSxJQUFJLENBQUNrUCxzQkFBc0IsQ0FBQ2xQLEVBQUV2SCxJQUFJO1lBQ3pELGdCQUFnQixDQUFDdUgsSUFBTSxJQUFJLENBQUNrUCxzQkFBc0IsQ0FBQ2xQLEVBQUV2SCxJQUFJO1lBQ3pELGNBQWMsQ0FBQ3VIO2dCQUNiLElBQUksQ0FBQ2tQLHNCQUFzQixDQUFDbFAsRUFBRXZILElBQUk7Z0JBQ2xDLElBQUksQ0FBQ3dLLGVBQWUsQ0FBQyxJQUFJLENBQUM4RyxjQUFjLEVBQUUvSixFQUFFb0UsSUFBSTs7WUFFbEQsK0JBQStCLENBQUNwRTtnQkFDOUIsSUFBSSxDQUFDa1Asc0JBQXNCLENBQUNsUCxFQUFFdkgsSUFBSTs7WUFFcEMsZ0NBQWdDLENBQUN1SDtnQkFDL0IsSUFBSSxDQUFDa1Asc0JBQXNCLENBQUNsUCxFQUFFdkgsSUFBSTs7WUFFcEMsZ0NBQWdDLENBQUN1SDtnQkFDL0IsSUFBSSxDQUFDa1Asc0JBQXNCLENBQUNsUCxFQUFFdkgsSUFBSTs7WUFFcEMsZ0NBQWdDLElBQUksQ0FBQzRZLCtCQUErQjtZQUNwRSxpQ0FBaUMsQ0FBQ3JSO2dCQUNoQyxJQUFJLENBQUNrUCxzQkFBc0IsQ0FBQ2xQLEVBQUV2SCxJQUFJOztZQUVwQyxpQ0FBaUMsSUFBSSxDQUFDMlksNkJBQTZCO1lBQ25FLHFCQUFxQixDQUFDcFIsSUFBTSxJQUFJLENBQUNrUCxzQkFBc0IsQ0FBQ2xQLEVBQUV2SCxJQUFJO1lBQzlELHFCQUFxQixJQUFJLENBQUMwWSxxQkFBcUI7WUFDL0MsdUJBQXVCLElBQUksQ0FBQ0gsdUJBQXVCO1lBQ25ELGtDQUFrQyxJQUFJLENBQUNrQixhQUFhO1lBQ3BELHVCQUF1QixJQUFJLENBQUNBLGFBQWE7WUFDekMscUJBQXFCLENBQUNsUztnQkFDcEIsSUFBSSxDQUFDa1Asc0JBQXNCLENBQUNsUCxFQUFFdkgsSUFBSTtnQkFDbEMsSUFBSSxDQUFDc1QsVUFBVSxDQUFDL0wsRUFBRWdNLE9BQU87O1lBRTNCLDRCQUE0QixJQUFJLENBQUMyRyxxQkFBcUI7WUFDdEQscUJBQXFCLElBQUksQ0FBQ04seUJBQXlCO1lBQ25ELDBCQUEwQixJQUN4QixJQUFJLENBQUNwUCxlQUFlLENBQUMsSUFBSSxDQUFDeUcsZ0JBQWdCLEVBQUU7WUFDOUMsMEJBQTBCLElBQ3hCLElBQUksQ0FBQ3pHLGVBQWUsQ0FBQyxJQUFJLENBQUN5RyxnQkFBZ0IsRUFBRTtZQUM5Qyx5QkFBeUIsSUFDdkIsSUFBSSxDQUFDekcsZUFBZSxDQUFDLElBQUksQ0FBQ3lHLGdCQUFnQixFQUFFO1lBQzlDLGlCQUFpQixDQUFDMUosSUFBTSxJQUFJLENBQUNrUCxzQkFBc0IsQ0FBQ2xQLEVBQUV2SCxJQUFJO1lBQzFELGFBQWEsQ0FBQ3VILElBQU0sSUFBSSxDQUFDa1Asc0JBQXNCLENBQUNsUCxFQUFFdkgsSUFBSTtZQUN0RCxlQUFlLENBQUN1SCxJQUFNLElBQUksQ0FBQ2tQLHNCQUFzQixDQUFDbFAsRUFBRXZILElBQUk7WUFDeEQsc0JBQXNCLENBQUN1SCxJQUFNLElBQUksQ0FBQ2tQLHNCQUFzQixDQUFDbFAsRUFBRXZILElBQUk7WUFDL0QsMENBQ0UsSUFBSSxDQUFDa1osdUNBQXVDO1lBQzlDLG1DQUNFLElBQUksQ0FBQ0csa0NBQWtDO1lBQ3pDLGlDQUFpQyxJQUFJLENBQUNGLGdDQUFnQztZQUN0RSx3QkFBd0IsQ0FBQzVSLElBQU0sSUFBSSxDQUFDa1Asc0JBQXNCLENBQUNsUCxFQUFFdkgsSUFBSTtZQUNqRSw4QkFBOEI7Z0JBQzVCLElBQUksQ0FBQ3dLLGVBQWUsQ0FBQyxJQUFJLENBQUM0RyxtQkFBbUIsRUFBRTs7WUFFakQsOEJBQThCO2dCQUM1QixJQUFJLENBQUM1RyxlQUFlLENBQUMsSUFBSSxDQUFDNEcsbUJBQW1CLEVBQUU7O1lBRWpELDZCQUE2QjtnQkFDM0IsSUFBSSxDQUFDNUcsZUFBZSxDQUFDLElBQUksQ0FBQzRHLG1CQUFtQixFQUFFOztZQUVqRCx1QkFBdUIsSUFBSSxDQUFDMkksV0FBVztZQUN2QyxnQkFBZ0IsQ0FBQ3hTLElBQU0sSUFBSSxDQUFDa1Asc0JBQXNCLENBQUNsUCxFQUFFdkgsSUFBSTs7O0lBK0M3RDs7O0tBR0csR0FDSCxJQUFJNlgsbUJBQWdCO1FBQ2xCLE9BQU8sSUFBSSxDQUFDMU4sZUFBZSxDQUFDLElBQUksQ0FBQ3NULGlCQUFpQjs7SUFhcEQ7OztLQUdHLEdBQ0gsSUFBSTdLLFlBQVM7UUFDWCxPQUFPLElBQUksQ0FBQ3pJLGVBQWUsQ0FBQyxJQUFJLENBQUNpUyxVQUFVOztJQWE3Qzs7S0FFRyxHQUNILElBQUl0SixhQUFVO1FBQ1osT0FBTyxJQUFJLENBQUMzSSxlQUFlLENBQUMsSUFBSSxDQUFDeVQsV0FBVzs7SUFhOUM7OztLQUdHLEdBQ0gsSUFBSUMsNEJBQXlCO1FBQzNCLE9BQU8sSUFBSSxDQUFDMVQsZUFBZSxDQUFDLElBQUksQ0FBQ2lULDBCQUEwQjs7SUFhN0Q7O0tBRUcsR0FDSCxJQUFJbEssZUFBWTtRQUNkLE9BQU8sSUFBSSxDQUFDL0ksZUFBZSxDQUFDLElBQUksQ0FBQ3NSLGFBQWE7O0lBR2hEOztLQUVHLEdBQ0gsSUFBSXFDLGtCQUFlO1FBQ2pCLE9BQU8sSUFBSSxDQUFDM1QsZUFBZSxDQUFDLElBQUksQ0FBQ2lSLGdCQUFnQjs7SUFjbkQ7O0tBRUcsR0FDSCxJQUFJakIsbUJBQWdCO1FBQ2xCLE9BQU8sSUFBSSxDQUFDaFEsZUFBZSxDQUFDLElBQUksQ0FBQ3dSLGlCQUFpQjs7SUFHcEQ7O0tBRUcsR0FDSCxJQUFJb0MscUJBQWtCO1FBQ3BCLE9BQU8sSUFBSSxDQUFDNVQsZUFBZSxDQUFDLElBQUksQ0FBQ3lSLG1CQUFtQjs7SUFHdEQ7O0tBRUcsR0FDSCxJQUFJbE4sa0JBQWU7UUFDakIsT0FBTyxJQUFJLENBQUN2RSxlQUFlLENBQUMsSUFBSSxDQUFDMlIsZ0JBQWdCOztJQUduRDs7S0FFRyxHQUNILElBQUlrQyxxQkFBa0I7UUFDcEIsT0FBTyxJQUFJLENBQUM3VCxlQUFlLENBQUMsSUFBSSxDQUFDMFIsbUJBQW1COztJQUd0RDs7S0FFRyxHQUNILElBQUlvQyx3QkFBcUI7UUFDdkIsT0FBTyxJQUFJLENBQUM5VCxlQUFlLENBQUMsSUFBSSxDQUFDNFIsc0JBQXNCOztJQUd6RDs7S0FFRyxHQUNILElBQUl4UCxlQUFZO1FBQ2QsT0FBTyxJQUFJLENBQUNwQyxlQUFlLENBQUMsSUFBSSxDQUFDb1QsYUFBYTs7SUFhaEQ7O0tBRUcsR0FDSCxJQUFJVyxrQkFBZTtRQUNqQixPQUFPLElBQUksQ0FBQy9ULGVBQWUsQ0FBQyxJQUFJLENBQUNtUyxnQkFBZ0I7O0lBR25EOzs7S0FHRyxHQUNILElBQUk2Qiw0QkFBeUI7UUFDM0IsT0FBTyxJQUFJLENBQUNwTSxzQkFBc0IsQ0FBQ3FNLFFBQVE7O0lBYTdDOztLQUVHLEdBQ0gsSUFBSTdLLFVBQU87UUFDVCxPQUFPLElBQUksQ0FBQ3BKLGVBQWUsQ0FBQyxJQUFJLENBQUNvUyxRQUFROztJQWEzQzs7S0FFRyxHQUNILElBQUk4QixrQkFBZTtRQUNqQixPQUFPLElBQUksQ0FBQ2xVLGVBQWUsQ0FBQyxJQUFJLENBQUNxVCxnQkFBZ0I7O0lBYW5EOztLQUVHLEdBQ0gsSUFBSTdKLFlBQVM7UUFDWCxPQUFPLElBQUksQ0FBQ3hKLGVBQWUsQ0FBQyxJQUFJLENBQUNtVCxVQUFVOztJQVc3Qzs7S0FFRyxHQUNILElBQUlnQixpQkFBYztRQUNoQixPQUFPLElBQUksQ0FBQ25VLGVBQWUsQ0FBQyxJQUFJLENBQUNrVCxlQUFlOztJQUdsRDs7S0FFRyxHQUNILElBQUlrQixZQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUNwVSxlQUFlLENBQUMsSUFBSSxDQUFDOFIsVUFBVTs7SUFHN0M7O0tBRUcsR0FDSCxJQUFJcEksVUFBTztRQUNULE9BQU8sSUFBSSxDQUFDMUosZUFBZSxDQUFDLElBQUksQ0FBQytSLFFBQVE7O0lBVzNDOztLQUVHLEdBQ0gsSUFBSXNDLFdBQVE7UUFDVixPQUFPLElBQUksQ0FBQ3JVLGVBQWUsQ0FBQyxJQUFJLENBQUNnUyxTQUFTOztJQUc1Qzs7S0FFRyxHQUNILElBQUlzQyxZQUFTO1FBQ1gsT0FBTyxJQUFJLENBQUN0VSxlQUFlLENBQUMsSUFBSSxDQUFDa1MsVUFBVTs7SUFHN0M7O0tBRUcsR0FDSCxJQUFJcUMsWUFBUztRQUNYLE9BQU8sSUFBSSxDQUFDdlUsZUFBZSxDQUFDLElBQUksQ0FBQ3FTLFVBQVU7O0lBRzdDOztLQUVHLEdBQ0gsSUFBSXhGLFNBQU07UUFDUixPQUFPLElBQUksQ0FBQzdNLGVBQWUsQ0FBQyxJQUFJLENBQUNzUyxPQUFPOztJQUcxQzs7S0FFRyxHQUNILElBQUl4RixTQUFNO1FBQ1IsT0FBTyxJQUFJLENBQUM5TSxlQUFlLENBQUMsSUFBSSxDQUFDdVMsT0FBTzs7SUFHMUM7O0tBRUcsR0FDSCxJQUFJeEYsVUFBTztRQUNULE9BQU8sSUFBSSxDQUFDL00sZUFBZSxDQUFDLElBQUksQ0FBQ3dTLFFBQVE7O0lBRzNDOztLQUVHLEdBQ0gsSUFBSXhGLFlBQVM7UUFDWCxPQUFPLElBQUksQ0FBQ2hOLGVBQWUsQ0FBQyxJQUFJLENBQUN1VCxVQUFVOztJQUc3Qzs7S0FFRyxHQUNILElBQUl0RyxVQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUNqTixlQUFlLENBQUMsSUFBSSxDQUFDeVMsUUFBUTs7SUFHM0M7O0tBRUcsR0FDSCxJQUFJdEYsV0FBUTtRQUNWLE9BQU8sSUFBSSxDQUFDbk4sZUFBZSxDQUFDLElBQUksQ0FBQzBTLFNBQVM7O0lBRzVDOztLQUVHLEdBQ0gsSUFBSXRGLGVBQVk7UUFDZCxPQUFPLElBQUksQ0FBQ3BOLGVBQWUsQ0FBQyxJQUFJLENBQUN3VCxhQUFhOztJQUdoRDs7S0FFRyxHQUNILElBQUlnQixVQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUN4VSxlQUFlLENBQUMsSUFBSSxDQUFDMlMsUUFBUTs7SUFHM0M7O0tBRUcsR0FDSCxJQUFJdEYsYUFBVTtRQUNaLE9BQU8sSUFBSSxDQUFDck4sZUFBZSxDQUFDLElBQUksQ0FBQzRTLFdBQVc7O0lBRzlDOztLQUVHLEdBQ0gsSUFBSTZCLGlCQUFjO1FBQ2hCLE9BQU8sSUFBSSxDQUFDelUsZUFBZSxDQUFDLElBQUksQ0FBQzZTLGVBQWU7O0FBdWlCbkQ7QUN4NkNEOzs7Q0FHRyxHQUNHLE1BQU82Qix5QkFBeUJ0ekI7SUFNcEM7O0tBRUcsR0FDSEMsWUFBWTZULEtBQWU7UUFDekIsS0FBSyxDQUFDQSxNQUFNNVQsT0FBTztRQUNuQixJQUFJLENBQUNLLElBQUksR0FBRztRQUNaLElBQUksQ0FBQ3VULEtBQUssR0FBR0E7O0FBRWhCO0FDbEJEOzs7O0NBSUcsR0FDSSxNQUFNeWYsVUFBVSxDQUFDekw7SUFDdEIsTUFBTTBMLFFBQW9CLEVBQUU7SUFDNUIxTCxPQUFPcE8sT0FBTyxDQUFDLENBQUNyRTtRQUNkbWUsTUFBTTN5QixJQUFJLENBQUN3VTtJQUNiO0lBQ0EsT0FBT21lO0FBQ1Q7QUFFQTs7Q0FFRyxHQUNJLE1BQU1DLGFBQWEsQ0FBQ0MsU0FBeUI7UUFDbEQ1UyxJQUFJNFMsT0FBTzVTLEVBQUU7UUFDYjZTLFFBQVFELE9BQU9FLFNBQVMsR0FBRzF2QixHQUFHLENBQUMsQ0FBQzJ2QixRQUFXO2dCQUN6Qy9TLElBQUkrUyxNQUFNL1MsRUFBRTtnQkFDWjFmLE1BQU15eUIsTUFBTXp5QixJQUFJO2dCQUNoQjB5QixPQUFPRCxNQUFNQyxLQUFLO2dCQUNsQkMsU0FBU0YsTUFBTUUsT0FBTztnQkFDdEJDLE9BQU9ILE1BQU1HLEtBQUs7Z0JBQ2xCQyxZQUFZSixNQUFNSSxVQUFVO1lBQzdCO0lBQ0Y7QUFFTSxNQUFNQyxrQkFBa0IsQ0FBQ0M7SUFDOUIsTUFBTSxFQUFFQyxHQUFHLEVBQUUsR0FBR0MsVUFBVSxHQUFHRjtJQUM3QixNQUFNRyxVQUFVQyxXQUFXSDtJQUMzQixNQUFNSSxhQUFhQyxjQUFjTDtJQUVqQyxPQUFPO1FBQ0xFO1FBQ0FFO1FBQ0EsR0FBR0gsUUFBUTs7QUFFZjtBQUVPLE1BQU1FLGFBQWEsQ0FBQ0g7SUFDekIsT0FBT0EsT0FBT0EsSUFBSXZULElBQUksS0FBS3ZhLFFBQVFvdUIsS0FBQSxHQUMvQixpQkFDQU4sT0FBT0EsSUFBSXZULElBQUksS0FBS3ZhLFFBQVFxdUIsWUFBQSxHQUMxQix3QkFDQTtBQUNSO0FBRU8sTUFBTUYsZ0JBQWdCLENBQUNMO0lBQzVCLE9BQU9BLE1BQU0sR0FBR0EsSUFBSVEsS0FBSyxDQUFJLEdBQUFSLElBQUlTLEtBQUssSUFBSVQsSUFBSXRMLEtBQUssRUFBRSxHQUFHO0FBQzFEO0FDcERBOztDQUVHLEdBQ0ksTUFBTWdNLFdBQVc7SUFDdEIsSUFBSSxPQUFPbGUsY0FBYyxhQUFhLE9BQU87SUFDN0MsT0FBTyxpQ0FBaUNtZSxJQUFJLENBQUNuZSxVQUFVb2UsU0FBUyxJQUFJO0FBQ3RFO0FBRUE7O0NBRUcsR0FDSSxNQUFNQyxZQUFZO0lBQ3ZCLElBQUksT0FBT3JlLGNBQWMsYUFBYSxPQUFPO0lBQzdDLE9BQU9BLFVBQVVvZSxTQUFTLEVBQUV6UyxTQUFTO0FBQ3ZDO0FBRUE7O0NBRUcsR0FDSSxNQUFNMlMsV0FBVztJQUN0QixJQUFJLE9BQU90ZSxjQUFjLGFBQWEsT0FBTztJQUM3QyxPQUFPQSxVQUFVb2UsU0FBUyxFQUFFelMsU0FBUztBQUN2Qzs7Ozs7OztBQytDQTs7Q0FFRyxHQUNJLE1BQU00UyxzQkFBc0IsQ0FBQyxFQUNsQ0MsVUFBVSxFQUNWQyxTQUFTLEVBQ1R0VSxLQUFLLEVBQ0x1VSxVQUFVLEVBQ1ZDLHNCQUFzQixJQUFJLEVBQ1I7SUFDbEIsTUFBTXRpQixTQUFTOEUsVUFBVTtRQUFDO0tBQVE7SUFDbEMsTUFBTXlkLHNCQUFzQixPQUMxQnAwQixNQUNBcTBCO1FBRUEsSUFBSXIwQixTQUFTLGdCQUFnQmcwQixZQUFZO1lBQ3ZDLE9BQU9BLFdBQVdNLFFBQVEsQ0FBQ0Q7ZUFDdEIsSUFBSXIwQixTQUFTLGVBQWVpMEIsV0FBVztZQUM1QyxPQUFPQSxVQUFVSyxRQUFRLENBQUNEO2VBQ3JCO1lBQ0wsT0FBTzF5Qjs7SUFFWDtJQUVBLE1BQU00eUIsb0JBQW9CLE9BQ3hCdjBCLE1BQ0F1eUI7UUFFQSxNQUFNaUMsS0FBS3gwQixTQUFTLGVBQWVnMEIsYUFBYUM7UUFDaEQsSUFBSSxDQUFDTyxJQUFJLE9BQU8sRUFBRTtRQUNsQixNQUFNQyxpQkFBZ0MsRUFBRTtRQUN4QyxLQUFLLE1BQU1oQyxTQUFTRixPQUFRO1lBQzFCLE1BQU03TCxTQUFTLE1BQU04TixHQUFHRixRQUFRLENBQUM3QjtZQUNqQyxNQUFNTCxRQUFRc0MsVUFBVWhPLFFBQVE7Z0JBQzlCaU8sV0FBV2xDLE1BQU16eUIsSUFBeUI7Z0JBQzFDQTtnQkFDQWkwQixXQUFXdHlCO1lBQ1o7WUFDRDh5QixlQUFlaDFCLElBQUksQ0FBQzJ5Qjs7UUFFdEIsT0FBT3FDO0lBQ1Q7SUFFQSxNQUFNRyx5QkFBeUIsQ0FBQ3hOO1FBQzlCeU4sa0JBQWtCL00sR0FBRyxDQUFDVjtRQUN0QixLQUFLeks7SUFDUDtJQUVBLE1BQU1tWSx3QkFBd0IsQ0FBQzFOO1FBQzdCeU4sa0JBQWtCNVgsTUFBTSxDQUFDbUs7UUFDekIsS0FBS3pLO0lBQ1A7SUFFQSxNQUFNa1ksb0JBQW9CLElBQUlFO0lBRTlCOztLQUVHLEdBQ0gsTUFBTXBZLE1BQU07UUFDVixNQUFNcVksbUJBQTRDO1FBQ2xELElBQUlILGtCQUFrQkksSUFBSSxHQUFHLEdBQUc7WUFDOUIsTUFBTUMsYUFBYSxJQUFJSCxJQUFJRjtZQUMzQixLQUFLLE1BQU1yTixlQUFlN0gsTUFBTTRHLFlBQVksQ0FBRTtnQkFDNUMsSUFBSSxDQUFDMk8sV0FBVzdZLEdBQUcsQ0FBQ21MLFlBQVlKLFNBQVMsR0FBRztnQkFDNUMsTUFBTSxFQUNKK04sV0FBVyxFQUNYNUosa0JBQWtCLEVBQ2xCbkUsU0FBUyxFQUNUK0YsTUFBTSxFQUNOaUksV0FBVyxFQUNaLEdBQUc1TjtnQkFDSixNQUFNeG5CLE9BQU91ckIscUJBQXFCLGNBQWM7Z0JBQ2hELElBQUk7b0JBQ0YsTUFBTWdILFNBQVNoSCxxQkFDWDBJLFdBQVdvQix3QkFBd0IsS0FDbkM7MkJBQ01ELGFBQWFFLG9CQUFvQixFQUFFOzJCQUNuQ0gsYUFBYUksb0JBQW9CLEVBQUU7cUJBQ3hDO29CQUNMUCxnQkFBZ0IsQ0FBQzVOLFVBQVUsR0FBRyxNQUFNbU4sa0JBQWtCdjBCLE1BQU11eUI7a0JBQzVELE9BQU8zWCxHQUFHO29CQUNWL0ksT0FBTyxRQUFRLENBQXFCLG9CQUFBN1IsS0FBa0IsYUFBQW10QixPQUFRLEdBQUV2Uzs7OztRQUt0RSxNQUFNLENBQUM0YSxvQkFBb0JDLGtCQUFrQixHQUFHLE1BQU16aUIsUUFBUTBpQixHQUFHLENBQUM7WUFDaEV0QixvQkFBb0I7WUFDcEJILFlBQVlHLG9CQUFvQixlQUFlenlCO1NBQ2hEO1FBRUQsTUFBTWcwQixVQUFVLENBQUNqUCxRQUF3QjFtQixPQUN2QzQxQixVQUFVbEIsVUFBVWhPLFFBQVE7Z0JBQUUxbUI7Z0JBQU0yMEIsV0FBVztnQkFBU1Y7WUFBUztRQUVuRSxNQUFNNEIsa0JBQWtCTCxxQkFDcEJHLFFBQVFILG9CQUFvQixnQkFDNUJNO1FBQ0osTUFBTUMsaUJBQWlCTixvQkFDbkJFLFFBQVFGLG1CQUFtQixlQUMzQks7UUFFSm5XLE1BQU04RyxrQkFBa0IsQ0FBQztZQUN2QnlOO1lBQ0E2QjtZQUNBRjtZQUNBTDtZQUNBQztZQUNBbFAsY0FBY3lPO1lBQ2RnQixXQUFXN3lCLEtBQUtILEdBQUc7UUFDcEI7SUFDSDtJQUVBLElBQUlpekI7SUFDSixJQUFJOUIsc0JBQXNCLEdBQUc7UUFDM0IsTUFBTStCLE9BQU87OztZQUdYLElBQUl2VyxNQUFNNlIseUJBQXlCLEVBQUU7Z0JBQ25DLE1BQU03VSxNQUFNb0QsS0FBSyxDQUFDLENBQUNuRjtvQkFDakIvSSxPQUFPLFNBQVMsMkJBQTJCK0k7Z0JBQzdDOztZQUVGcWIsWUFBWS9pQixXQUFXZ2pCLE1BQU0vQjtRQUMvQjtRQUNBLEtBQUsrQjs7SUFHUCxNQUFNMWQsT0FBTztRQUNYLElBQUl5ZCxXQUFXO1lBQ2J0USxhQUFhc1E7O0lBRWpCO0lBRUEsT0FBTztRQUNMN0I7UUFDQUc7UUFDQUs7UUFDQUU7UUFDQXRjOztBQUVKO0FBaUJBOzs7OztDQUtHLEdBQ0gsTUFBTWtjLFlBQVksQ0FDaEJoTyxRQUNBeVA7SUFFQSxNQUFNLEVBQUV4QixTQUFTLEVBQUUzMEIsSUFBSSxFQUFFaTBCLFNBQVMsRUFBRSxHQUFHa0M7SUFDdkMsTUFBTXJlLFlBQVk5WCxTQUFTLGVBQWUsZ0JBQWdCO0lBQzFELE1BQU1veUIsUUFBUUQsUUFBUXpMO0lBQ3RCLE1BQU0wUCxVQUFVaEUsTUFDYnJiLE1BQU0sQ0FDTCxDQUFDc2YsT0FDQ0EsS0FBSzVXLElBQUksS0FBSzNILGFBQ2J1ZSxLQUEyQnIyQixJQUFJLEtBQUsyMEIsV0FFeEM3eEIsR0FBRyxDQUFDLENBQUN1ekI7UUFDSixNQUFNQyxpQkFBaUJEO1FBR3ZCLE1BQU1FLFFBQVFuRSxNQUFNbHdCLElBQUksQ0FDdEIsQ0FBQytSLElBQU1BLEVBQUV3TCxJQUFJLEtBQUssV0FBV3hMLEVBQUV5TCxFQUFFLEtBQUs0VyxlQUFlRSxPQUFPO1FBRzlELE1BQU01akIsWUFBWXdmLE1BQU1sd0IsSUFBSSxDQUMxQixDQUFDK1IsSUFBTUEsRUFBRXdMLElBQUksS0FBSyxlQUFleEwsRUFBRXlMLEVBQUUsS0FBSzRXLGVBQWVHLFdBQVc7UUFHdEUsSUFBSUM7UUFDSixJQUFJOWpCLGFBQWFBLFVBQVUrakIsU0FBUyxLQUFLLGFBQWE7WUFDcEQsTUFBTUMsZ0JBQWdCeEUsTUFBTWx3QixJQUFJLENBQzlCLENBQUMrUixJQUNDQSxFQUFFd0wsSUFBSSxLQUFLLG9CQUNYeEwsRUFBRXlMLEVBQUUsS0FBSzlNLFVBQVVpa0IsdUJBQXVCO1lBRTlDSCxnQkFBZ0JFLGVBQWVFOztRQUdqQyxJQUFJM087UUFDSixJQUFJbm9CLFNBQVMsZUFBZWkwQixXQUFXO1lBQ3JDLE1BQU04QyxVQUFVbEQ7WUFDaEIsTUFBTW1ELGNBQWM1RSxNQUFNbHdCLElBQUksQ0FDNUIsQ0FBQytSLElBQ0NBLEVBQUV3TCxJQUFJLEtBQUs7Z0JBRVZzWCxDQUFBQSxVQUFVLE9BQU85aUIsRUFBRXlMLEVBQUUsS0FBSzRXLGVBQWVXLGFBQWE7WUFFM0QsSUFBSUQsYUFBYTtnQkFDZjdPLFlBQVk4TCxVQUFVaUQsWUFBWSxDQUFDRixZQUFZRyxlQUFlOzs7UUFJbEUsT0FBTztZQUNMQyxXQUFXZCxlQUFlYyxTQUFTO1lBQ25DQyxlQUFlZixlQUFlZSxhQUFhO1lBQzNDZCxPQUFPQSxPQUFPZTtZQUNkUixzQkFBc0JKO1lBQ3RCYSxhQUFhakIsZUFBZWlCLFdBQVc7WUFDdkNDLFlBQVlsQixlQUFla0IsVUFBVTtZQUNyQ0MsaUJBQWlCbkIsZUFBZW1CLGVBQWU7WUFDL0NDLFFBQVFwQixlQUFlb0IsTUFBTTtZQUM3QjEzQixNQUFNczJCLGVBQWV0MkIsSUFBSTtZQUN6QmkzQixlQUFlWCxlQUFlVyxhQUFhO1lBQzNDVSx5QkFBeUJyQixlQUFlcUIsdUJBQXVCO1lBQy9EQyxLQUFLdEIsZUFBZXNCLEdBQUc7WUFDdkJDLE1BQU12QixlQUFldUIsSUFBSTtZQUN6QjFQOztJQUVKO0lBRUYsT0FBTztRQUNMMlAsVUFBVXBSO1FBQ1YwUDtRQUNBSixXQUFXN3lCLEtBQUtILEdBQUc7O0FBRXZCO0FBRUEsTUFBTTh5QixnQkFBZ0IsQ0FBQzFEO0lBQ3JCLE9BQU87UUFDTDJGLFdBQVczRixTQUFTO1lBQUVnRSxTQUFTLEVBQUU7WUFBRUosV0FBVzd5QixLQUFLSCxHQUFHO1FBQUU7UUFDeERnMUIsZ0JBQWdCO1FBQ2hCQyxvQkFBb0I7UUFDcEJDLG1CQUFtQjtRQUNuQkMsMEJBQTBCO1FBQzFCQywwQkFBMEI7UUFDMUJDLG1CQUFtQjtRQUNuQkMsb0JBQW9CO1FBQ3BCQyx3QkFBd0I7UUFDeEJoQyxPQUFPO1FBQ1BpQyxtQkFBbUI7UUFDbkJ4QyxXQUFXN3lCLEtBQUtILEdBQUc7O0FBRXZCO0FBRUE7Ozs7Q0FJRyxHQUNILE1BQU00eUIsWUFBWSxDQUFDeEQ7SUFDakIsTUFBTXFHLGtCQUFrQjNDLGNBQWMxRDtJQUV0QyxJQUFJc0csVUFBVTtJQUNkLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBV0MsSUFBY0QsSUFBSUM7SUFFM0MsTUFBTVQsMkJBQTJCLElBQUlyRDtJQUNyQyxNQUFNcUIsVUFBVWhFLE1BQU1nRSxPQUFPO0lBQzdCLE1BQU0xUCxTQUFTMFAsUUFBUTlPLE1BQU0sQ0FBQyxDQUFDZSxLQUFLaUs7UUFDbENqSyxJQUFJMlAsY0FBYyxJQUFJMUYsT0FBTzhFLFNBQVMsSUFBSTtRQUMxQy9PLElBQUk0UCxrQkFBa0IsSUFBSTNGLE9BQU8rRSxhQUFhLElBQUk7UUFDbERoUCxJQUFJNlAsaUJBQWlCLElBQUk1RixPQUFPb0YsTUFBTSxJQUFJO1FBQzFDclAsSUFBSThQLHdCQUF3QixJQUFJN0YsT0FBT3dFLG9CQUFvQixJQUFJOztRQUcvRCxNQUFNZ0MsYUFBYUgsS0FBS3JHLE9BQU9rRixVQUFVLElBQUksR0FBR2xGLE9BQU9pRixXQUFXLElBQUk7UUFDdEUsSUFBSXVCLGFBQWFKLFNBQVM7WUFDeEJyUSxJQUFJZ1EsaUJBQWlCLEdBQUcvRixPQUFPa0YsVUFBVSxJQUFJO1lBQzdDblAsSUFBSWlRLGtCQUFrQixHQUFHaEcsT0FBT2lGLFdBQVcsSUFBSTtZQUMvQ2xQLElBQUlrUSxzQkFBc0IsR0FBR2pHLE9BQU9tRixlQUFlLElBQUk7WUFDdkRpQixVQUFVSTs7UUFHWlYseUJBQXlCdFEsR0FBRyxDQUFDd0ssT0FBT3FGLHVCQUF1QixJQUFJO1FBQy9ELE9BQU90UDtPQUNOb1E7SUFFSCxJQUFJckMsUUFBUXp4QixNQUFNLEdBQUcsR0FBRztRQUN0QitoQixPQUFPd1IsaUJBQWlCLEdBQUczMEIsS0FBS3cxQixLQUFLLENBQ25DLE9BQVFiLGlCQUFpQixHQUFHOUIsUUFBUXp4QixNQUFNLEdBQUk7UUFFaEQraEIsT0FBT3lSLHdCQUF3QixHQUFHNTBCLEtBQUt3MUIsS0FBSyxDQUMxQyxPQUFRWix3QkFBd0IsR0FBRy9CLFFBQVF6eEIsTUFBTSxHQUFJOztRQUd2RCtoQixPQUFPNlAsS0FBSyxHQUFHSCxPQUFPLENBQUMsRUFBRSxDQUFDRyxLQUFLLElBQUk7UUFDbkM3UCxPQUFPOFIsaUJBQWlCLEdBQUdwQyxRQUFROU8sTUFBTSxDQUN2QyxDQUFDZSxLQUFLaUs7WUFDSixJQUFJQSxPQUFPbkssU0FBUyxFQUFFO2dCQUNwQkUsR0FBRyxDQUFDaUssT0FBT25LLFNBQVMsQ0FBQyxHQUFHbUssT0FBT2lFLEtBQUssSUFBSTs7WUFFMUMsT0FBT2xPO1dBRVQ7O0lBSUosTUFBTXNQLDBCQUEwQjtRQUM5QlMseUJBQXlCL2IsR0FBRyxDQUFDLFVBQVU7UUFDdkMrYix5QkFBeUIvYixHQUFHLENBQUMsZ0JBQWdCO1FBQzdDK2IseUJBQXlCL2IsR0FBRyxDQUFDLFlBQVk7S0FDMUMsQ0FDRXRGLE1BQU0sQ0FBQ0MsU0FDUHRYLElBQUksQ0FBQztJQUNSLElBQUlpNEIseUJBQXlCO1FBQzNCalIsT0FBTzBSLHdCQUF3QixHQUFHVDs7SUFHcEMsT0FBT2pSO0FBQ1Q7QUNsWEEsTUFBTXNTLFVBQVU7QUFDaEIsTUFBTSxDQUFDeEYsT0FBT0MsT0FBTy9MLE1BQU0sR0FBR3NSLFFBQVFDLEtBQUssQ0FBQztBQUU1QyxJQUFJQyxVQUEyQjtJQUM3QnpaLE1BQU12YSxRQUFRaTBCLGdCQUFnQjtJQUM5QjNGO0lBQ0FDO0lBQ0EvTDs7QUFHRixJQUFJMFI7QUFDSixJQUFJQztBQUNKLElBQUlDO0FBQ0osSUFBSUMsY0FBK0M7SUFBRTczQixXQUFXQztBQUFTO0FBRTVELE1BQUE2M0IsYUFBYSxDQUFDMWpCO0lBQ3pCb2pCLFVBQVVwakI7QUFDWjtBQUVPLE1BQU0yakIsYUFBYTtJQUN4QixPQUFPUDtBQUNUO0FBRWEsTUFBQVEsWUFBWSxDQUFDNWpCO0lBQ3hCc2pCLFNBQVN0akI7QUFDWDtBQUVhLE1BQUE2akIsZ0JBQWdCLENBQUM3akI7SUFDNUJ1akIsYUFBYXZqQjtBQUNmO0FBRU8sTUFBTThqQixnQkFBZ0I7SUFDM0IsT0FBT047QUFDVDtBQUVhLE1BQUFPLGdCQUFnQixDQUFDL2pCO0lBQzVCd2pCLGFBQWF4akI7QUFDZjtBQUVhLE1BQUFna0Isa0JBQWtCLENBQUNuYTtJQUM5QixJQUFJLENBQUN5WixRQUFRO1FBQ1hHLGNBQWM7WUFBRTczQixXQUFXQztRQUFTO1FBQ3BDOztJQUdGLElBQUl5M0IsT0FBT2o2QixJQUFJLEtBQUssV0FBVztRQUM3QixNQUFNNDZCLGVBQ0p4MEIsbUJBQW1CLENBQUNvYSxNQUEwQyxJQUM5RHBhLG9CQUFvQnkwQixXQUFXO1FBRWpDVCxjQUFjO1lBQ1o3M0IsV0FBVztZQUNYdTRCLFNBQVM7Z0JBQ1BGO2dCQUNBRyxrQkFDRVgsYUFBYTczQixjQUFjLGFBQzNCNjNCLFlBQVlVLE9BQU8sQ0FBQ0MsZ0JBQWdCO1lBQ3ZDOzs7SUFJTCxJQUFJZCxPQUFPajZCLElBQUksQ0FBQ3VXLFdBQVcsT0FBTyxPQUFPO1FBQ3ZDLE1BQU1xa0IsZUFDSnYwQixpQkFBaUIsQ0FBQ21hLE1BQXdDLElBQzFEbmEsa0JBQWtCdzBCLFdBQVc7UUFFL0JULGNBQWM7WUFDWjczQixXQUFXO1lBQ1h5NEIsT0FBTztnQkFDTEo7Z0JBQ0FLLHVCQUNFYixhQUFhNzNCLGNBQWMsV0FDM0I2M0IsWUFBWVksS0FBSyxDQUFDQyxxQkFBcUI7WUFDMUM7OztBQUdQO0FBRWEsTUFBQUMsZ0JBQWdCLENBQUNDO0lBQzVCLElBQUksQ0FBQ2xCLFFBQVE7UUFDWEcsY0FBYztZQUFFNzNCLFdBQVdDO1FBQVM7UUFDcEM7O0lBR0YsSUFBSXkzQixPQUFPajZCLElBQUksS0FBSyxXQUFXO1FBQzdCbzZCLGNBQWM7WUFDWjczQixXQUFXO1lBQ1h1NEIsU0FBUztnQkFDUEYsY0FDRVIsYUFBYTczQixjQUFjLFlBQ3ZCNjNCLFlBQVlVLE9BQU8sQ0FBQ0YsWUFBQSxHQUNwQngwQixvQkFBb0J5MEIsV0FBVztnQkFDckNFLGtCQUFrQkk7WUFDbkI7OztJQUlMLElBQUlsQixPQUFPajZCLElBQUksQ0FBQ3VXLFdBQVcsT0FBTyxPQUFPO1FBQ3ZDNmpCLGNBQWM7WUFDWjczQixXQUFXO1lBQ1h5NEIsT0FBTztnQkFDTEosY0FDRVIsYUFBYTczQixjQUFjLFVBQ3ZCNjNCLFlBQVlZLEtBQUssQ0FBQ0osWUFBQSxHQUNsQnYwQixrQkFBa0J3MEIsV0FBVztnQkFDbkNJLHVCQUF1QkU7WUFDeEI7OztBQUdQO0FBRU8sTUFBTUMsaUJBQWlCO0lBQzVCLE9BQU9oQjtBQUNUO0FBRWEsTUFBQWlCLG1CQUFtQjtJQUM5QixJQUFJamxCLGlCQUFpQjs7UUFFbkIsT0FBTztZQUNMeWQsS0FBS2tHO1lBQ0x1QixJQUFJckI7WUFDSnNCLFFBQVFyQjs7OztJQUtaLE1BQU1zQixtQkFBbUJubEIsVUFBVW9sQixhQUFhO0lBQ2hELElBQUlBO0lBR0osSUFBSUQsb0JBQW9CQSxpQkFBaUJFLG9CQUFvQixFQUFFO1FBQzdELElBQUk7WUFDRkQsZ0JBQWdCLE1BQU1ELGlCQUFpQkUsb0JBQW9CLENBQUM7Z0JBQzFEO2dCQUNBO2FBQ0Q7VUFDRCxPQUFNOzs7O0lBS1YsTUFBTWpILFlBQVksSUFBSWtILGtEQUFRQSxDQUFDdGxCLFVBQVVvZSxTQUFTO0lBQ2xELE1BQU0sRUFBRW1ILE9BQU8sRUFBRU4sRUFBRSxFQUFFQyxNQUFNLEVBQUVNLEdBQUcsRUFBRSxHQUFHcEgsVUFBVXFILFNBQVM7SUFDeEQsT0FBTztRQUNMakksS0FBS2tHO1FBQ0w2QixTQUFTO1lBQ1A1N0IsTUFBTTQ3QixRQUFRNTdCLElBQUksSUFBSXFXLFVBQVVvZSxTQUFTO1lBQ3pDb0YsU0FBUytCLFFBQVEvQixPQUFPLElBQUk7UUFDN0I7UUFDRHlCLElBQUk7WUFDRnQ3QixNQUFNeTdCLGVBQWUzSCxZQUFZd0gsR0FBR3Q3QixJQUFJLElBQUk7WUFDNUM2NUIsU0FBUzRCLGVBQWVNLG1CQUFtQlQsR0FBR3pCLE9BQU8sSUFBSTtZQUN6RG1DLGNBQWNILElBQUlHLFlBQVksSUFBSTtRQUNuQztRQUNEVCxRQUFRO1lBQ052N0IsTUFBTTtnQkFBQ3U3QixPQUFPVSxNQUFNO2dCQUFFVixPQUFPVyxLQUFLO2dCQUFFWCxPQUFPamIsSUFBSTthQUFBLENBQzVDMUksTUFBTSxDQUFDQyxTQUNQdFgsSUFBSSxDQUFDO1lBQ1JzNUIsU0FBUztRQUNWOztBQUVMO01DcEphc0M7SUF1Qlh6OEIsWUFDRTA4QixTQUEwQixFQUMxQixFQUNFajdCLE9BQU8sRUFDUHl5QixhQUFhLEVBQ2JpQixVQUFVLEVBQ1ZDLFNBQVMsRUFDVHVILFVBQVUsRUFDVkMsTUFBTSxFQUNOOWIsS0FBSyxFQUNMK2IsTUFBTSxFQUNOQyxnQkFBZ0IsRUFDUTtRQWxDWCxLQUFBOXBCLE1BQU0sR0FBRzhFLFVBQVU7WUFBQztTQUFtQjtRQW9CdkMsS0FBQWlsQixZQUFZLEdBQUcsSUFBSTFmO1FBdUM1QixLQUFBMmYsYUFBYSxHQUFHLENBQ3RCbkIsUUFDQTE2QjtZQUVBLE1BQU0sRUFBRTg3Qix1QkFBdUIsRUFBRSxHQUFHcEIsT0FBTy9hLEtBQUs7WUFDaEQsSUFBSSxDQUFDb2Msd0NBQXdDO1lBQzdDLElBQUksQ0FBQ0Esd0NBQXdDLEdBQUc1ZCxtQkFDOUNULGlSQUFhQSxDQUFDO2dCQUFDb2U7Z0JBQXlCLElBQUksQ0FBQ25jLEtBQUssQ0FBQ2tSLGdCQUFnQjthQUFDLEdBQ3BFLENBQUMsQ0FBQ21MLHdCQUF3QnRLLGdCQUFnQjs7OztnQkFJeEMsSUFBSSxDQUFDdUssa0NBQWtDO2dCQUN2QyxNQUFNQyxnQkFDSmw4QixTQUFTLFFBQ0wweEIsZ0JBQWdCdlEsUUFBUSxDQUFDbm9CLGNBQWNlLFVBQVUsSUFDakQyM0IsZ0JBQWdCdlEsUUFBUSxDQUFDbm9CLGNBQWNnQixVQUFVO2dCQUN2RCxJQUFJZ2lDLDJCQUEyQixhQUFhLENBQUNFLGVBQWU7b0JBQzFELElBQUksQ0FBQ04sWUFBWSxDQUFDOWUsR0FBRyxDQUFDOWMsTUFBTTt3QkFDMUJtOEIsZUFBZTt3QkFDZkMsa0JBQWtCLEVBQUU7d0JBQ3BCQyxhQUFhO29CQUNkO29CQUNEOztnQkFFRixJQUFJLENBQUNKLGtDQUFrQyxHQUFHOWQsbUJBQ3hDVCxpUkFBYUEsQ0FBQztvQkFBQ2dkLE9BQU80QixXQUFXO29CQUFJNUIsT0FBTy9hLEtBQUssQ0FBQzRjLGVBQWU7aUJBQUMsR0FDbEUsQ0FBQyxDQUFDQyxTQUFTQyxTQUFTO29CQUNsQixNQUFNQyxXQUFXRixRQUFRdDZCLElBQUksQ0FBQyxDQUFDeTZCLElBQU1BLEVBQUVGLFFBQVEsS0FBS0E7b0JBQ3BELElBQUksQ0FBQ2IsWUFBWSxDQUFDOWUsR0FBRyxDQUFDOWMsTUFBTTt3QkFDMUJtOEIsZUFBZU8sVUFBVWhLLFNBQVMrSixZQUFZO3dCQUM5Q0wsa0JBQWtCSSxRQUFRMTVCLEdBQUcsQ0FBQyxDQUFDNjVCLElBQU1BLEVBQUVqSyxLQUFLO3dCQUM1QzJKLGFBQWE7b0JBQ2Q7Z0JBQ0g7WUFFSjtRQUVKO1FBRUEsS0FBQU8sa0JBQWtCLEdBQUcsQ0FBQ0M7WUFDcEIsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQztnQkFDckJDLE1BQU07b0JBQ0pyN0IsV0FBVztvQkFDWG03QjtnQkFDRDtZQUNGO1FBQ0g7UUFFQSxLQUFBRyxvQkFBb0IsR0FBRyxDQUNyQkMsVUFDQUM7WUFFQSxJQUFJLENBQUNKLGlCQUFpQixDQUFDO2dCQUNyQkMsTUFBTTtvQkFDSnI3QixXQUFXO29CQUNYeTdCLGNBQWM7d0JBQUVGO3dCQUFVQztvQkFBVztnQkFDdEM7WUFDRjtRQUNIO1FBRVEsS0FBQUosaUJBQWlCLEdBQUcsQ0FBQ007OztZQUczQixJQUFJLENBQUN6Z0IsR0FBRyxDQUFDeWdCLGVBQWVyZCxLQUFLLENBQUMsQ0FBQzFOO2dCQUM3QixJQUFJLENBQUNSLE1BQU0sQ0FBQyxRQUFRLGlDQUFpQ1E7WUFDdkQ7UUFDRjtRQUVRLEtBQUFzSyxHQUFHLEdBQUcsT0FBTzBnQjtZQUNuQixNQUFNLENBQUN4SCxpQkFBaUJFLGVBQWUsR0FBRyxNQUFNL2lCLFFBQVEwaUIsR0FBRyxDQUFDO2dCQUMxRCxJQUFJLENBQUMxQixVQUFVLENBQUM1QixLQUFLLENBQUM1VixHQUFHO2dCQUN6QixJQUFJLENBQUN5WCxTQUFTLEVBQUU3QixNQUFNNVY7YUFDdkI7WUFFRCxJQUFJLENBQUN3WCxVQUFVLENBQUMwSCxNQUFNLEVBQUV2cEIsTUFBTSxZQUFZMGpCLGdCQUFnQnlILEtBQUs7WUFDL0QsSUFBSXZILGdCQUFnQjtnQkFDbEIsSUFBSSxDQUFDOUIsU0FBUyxFQUFFeUgsUUFBUXZwQixNQUFNLFlBQVk0akIsZUFBZXVILEtBQUs7O1lBR2hFLE1BQU1DLGtCQUFrQixJQUFJLENBQUN2SixVQUFVLENBQUMwSCxNQUFNLEVBQUU4QjtZQUNoRCxNQUFNQyxpQkFBaUIsSUFBSSxDQUFDeEosU0FBUyxFQUFFeUgsUUFBUThCO1lBQy9DLE1BQU05QixTQUFTLElBQUksQ0FBQ0EsTUFBTSxDQUFDOEIsSUFBSTtZQUMvQixNQUFNRSxXQUFXLElBQUksQ0FBQ25DLFNBQVMsQ0FBQ29DLFFBQVE7WUFDeEMsTUFBTUMsU0FBd0I7bUJBQ3pCbEMsT0FBT21DLFFBQVE7bUJBQ2RILFVBQVVHLFlBQVksRUFBRTttQkFDeEJKLGdCQUFnQkksWUFBWSxFQUFFO21CQUM5Qk4saUJBQWlCTSxZQUFZLEVBQUU7YUFDcEM7WUFFRCxJQUFJO2dCQUNGLE1BQU0sSUFBSSxDQUFDdEMsU0FBUyxDQUFDenFCLFNBQVMsQ0FBQztvQkFDN0JraUIsS0FBSyxJQUFJLENBQUNFLE9BQU87b0JBQ2pCRSxZQUFZLElBQUksQ0FBQ0EsVUFBVTtvQkFDM0IwSyxlQUFlLElBQUksQ0FBQ0MsYUFBYTtvQkFDakNsSSxpQkFBaUJsYSxLQUFLcWlCLFNBQVMsQ0FBQzdMLFFBQVEwRCxnQkFBZ0J6RCxLQUFLO29CQUM3RDJELGdCQUFnQkEsaUJBQ1pwYSxLQUFLcWlCLFNBQVMsQ0FBQzdMLFFBQVE0RCxlQUFlM0QsS0FBSyxLQUMzQztvQkFDSjZMLG9CQUFvQjtvQkFDcEJDLG1CQUFtQjtvQkFDbkJDLFVBQVV4aUIsS0FBS3FpQixTQUFTLENBQUNKO29CQUN6QlEsYUFBYXJJLGdCQUFnQnNJLG9CQUFvQixFQUFFO29CQUNuREMsYUFBYXpJLGdCQUFnQndJLGdCQUFnQjtvQkFDN0NFLGNBQWMsSUFBSSxDQUFDM0MsWUFBWSxDQUFDcGYsR0FBRyxDQUFDO29CQUNwQ2dpQixjQUFjLElBQUksQ0FBQzVDLFlBQVksQ0FBQ3BmLEdBQUcsQ0FBQztvQkFDcENtZixrQkFBa0IsSUFBSSxDQUFDQSxnQkFBZ0I7b0JBQ3ZDcEMsYUFBYWdCO29CQUNiOEM7Z0JBQ0Q7Y0FDRCxPQUFPaHJCLEtBQUs7Z0JBQ1pvckIsZ0JBQWdCdmY7Z0JBQ2hCcWYsaUJBQWlCcmY7Z0JBQ2pCd2QsT0FBT3hkLFFBQVE7Z0JBQ2Z3ZixVQUFVeGY7Z0JBQ1YsTUFBTTdMOztRQUVWO1FBRUEsSUFBSyxDQUFBb3NCLEtBQUEsR0FBRztZQUNOLElBQUksSUFBSSxDQUFDbitCLE9BQU8sQ0FBQ28rQixxQkFBcUIsSUFBSSxHQUFHO1lBRTdDLElBQUksQ0FBQzdDLGFBQWEsQ0FBQyxJQUFJLENBQUNMLFVBQVUsRUFBRTtZQUNwQyxJQUFJLENBQUNLLGFBQWEsQ0FBQyxJQUFJLENBQUNKLE1BQU0sRUFBRTtZQUVoQ2tELGNBQWMsSUFBSSxDQUFDQyxVQUFVO1lBQzdCLElBQUksQ0FBQ0EsVUFBVSxHQUFHQyxZQUFZO2dCQUM1QixJQUFJLENBQUNsaUIsR0FBRyxHQUFHb0QsS0FBSyxDQUFDLENBQUMxTjtvQkFDaEIsSUFBSSxDQUFDUixNQUFNLENBQUMsUUFBUSwwQkFBMEJRO2dCQUNoRDtZQUNGLEdBQUcsSUFBSSxDQUFDL1IsT0FBTyxDQUFDbytCLHFCQUFxQjtRQUN2QztRQUVBLElBQUksQ0FBQWxtQixJQUFBLEdBQUc7WUFDTCxJQUFJLENBQUN1akIsd0NBQXdDO1lBQzdDLElBQUksQ0FBQ0Esd0NBQXdDLEdBQUdwNkI7WUFDaEQsSUFBSSxDQUFDczZCLGtDQUFrQztZQUN2QyxJQUFJLENBQUNBLGtDQUFrQyxHQUFHdDZCO1lBRTFDLElBQUksQ0FBQ2k2QixZQUFZLENBQUNrRCxLQUFLO1lBQ3ZCSCxjQUFjLElBQUksQ0FBQ0MsVUFBVTtZQUM3QixJQUFJLENBQUNBLFVBQVUsR0FBR2o5QjtZQUNsQmdrQixhQUFhLElBQUksQ0FBQ3NRLFNBQVM7WUFDM0IsSUFBSSxDQUFDQSxTQUFTLEdBQUd0MEI7UUFDbkI7UUFFQSxJQUFLLENBQUFvOUIsS0FBQSxHQUFHO1lBQ04sSUFBSSxDQUFDcGlCLEdBQUcsR0FBR29ELEtBQUssQ0FBQyxDQUFDMU47Z0JBQ2hCLElBQUksQ0FBQ1IsTUFBTSxDQUFDLFFBQVEsZ0NBQWdDUTtZQUN0RDtRQUNGO1FBRUEsS0FBQTJzQixXQUFXLEdBQUcsQ0FBQzV0QjtZQUNidVUsYUFBYSxJQUFJLENBQUNzUSxTQUFTO1lBQzNCLElBQUksQ0FBQ0EsU0FBUyxHQUFHL2lCLFdBQVc7Z0JBQzFCLElBQUksQ0FBQ3lKLEdBQUcsR0FBR29ELEtBQUssQ0FBQyxDQUFDMU47b0JBQ2hCLElBQUksQ0FBQ1IsTUFBTSxDQUFDLFFBQVEsMEJBQTBCUTtnQkFDaEQ7ZUFDQ2pCO1FBQ0w7UUF2TEUsSUFBSSxDQUFDbXFCLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDajdCLE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUMwekIsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNDLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDdUgsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNDLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUM5YixLQUFLLEdBQUdBO1FBQ2IsSUFBSSxDQUFDK2IsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsZ0JBQWdCLEdBQUdBO1FBRXhCLE1BQU0sRUFBRTNJLEdBQUcsRUFBRStILE9BQU8sRUFBRSxHQUFHaEk7UUFDekIsSUFBSSxDQUFDRyxPQUFPLEdBQUdDLFdBQVdIO1FBQzFCLElBQUksQ0FBQ0ksVUFBVSxHQUFHQyxjQUFjTDs7O1FBSWhDLE1BQU1pTSxhQUFhckY7UUFDbkIsSUFBSSxDQUFDbUUsYUFBYSxHQUNoQmtCLFlBQVlqRyxXQUNaLENBQUcsRUFBQStCLFNBQVM1N0IsUUFBUSxHQUFNLEdBQUE0N0IsU0FBUy9CLFdBQVcsR0FBSSxLQUNsRDs7QUFvS0w7QUN6UE0sTUFBTWtHLHlCQUF5QixDQUFDMUssSUFBdUJyaUI7SUFDNURxaUIsR0FBR3ZmLGdCQUFnQixDQUFDLGdCQUFnQixDQUFDMkY7UUFDbkN6SSxNQUFNLGtCQUFrQnlJLEVBQUV1a0IsU0FBUztJQUNyQztJQUNBM0ssR0FBR3ZmLGdCQUFnQixDQUFDLFNBQVMsQ0FBQzJGO1FBQzVCLE1BQU13YixVQUFVeGIsRUFBRXdiLE9BQU8sQ0FBQ3R6QixHQUFHLENBQUMsQ0FBQ3d2QixTQUFXLENBQVUsU0FBQUEsT0FBTzVTLEVBQUUsRUFBRTtRQUMvRHZOLE1BQU0sV0FBVyxHQUFHeUksRUFBRTZYLEtBQUssQ0FBQ3p5QixJQUFJLElBQUk0YSxFQUFFNlgsS0FBSyxDQUFDL1MsRUFBRSxJQUFJMFcsUUFBTyxDQUFFO0lBQzdEO0lBQ0E1QixHQUFHdmYsZ0JBQWdCLENBQUMsd0JBQXdCO1FBQzFDOUMsTUFBTSx3QkFBd0JxaUIsR0FBRzRLLGNBQWM7SUFDakQ7SUFDQTVLLEdBQUd2ZixnQkFBZ0IsQ0FBQyw0QkFBNEI7UUFDOUM5QyxNQUFNLDRCQUE0QnFpQixHQUFHNkssa0JBQWtCO0lBQ3pEO0lBQ0E3SyxHQUFHdmYsZ0JBQWdCLENBQUMsMkJBQTJCO1FBQzdDOUMsTUFBTSwyQkFBMkJxaUIsR0FBRzhLLGlCQUFpQjtJQUN2RDtJQUNBOUssR0FBR3ZmLGdCQUFnQixDQUFDLHlCQUF5QjtRQUMzQzlDLE1BQU0seUJBQXlCcWlCLEdBQUcrSyxlQUFlO0lBQ25EO0lBQ0EvSyxHQUFHdmYsZ0JBQWdCLENBQUMscUJBQXFCO1FBQ3ZDOUMsTUFBTSxxQkFBcUJ4UTtJQUM3QjtJQUNBNnlCLEdBQUd2ZixnQkFBZ0IsQ0FBQyxlQUFlLENBQUMsRUFBRXVxQixPQUFPLEVBQUU7UUFDN0NydEIsTUFBTSxlQUFlO1lBQUNxdEIsUUFBUTlmLEVBQUU7WUFBRThmLFFBQVE5TSxLQUFLO1NBQUM7SUFDbEQ7SUFFQSxNQUFNK00sWUFBWWpMLEdBQUcvYixLQUFLO0lBQzFCK2IsR0FBRy9iLEtBQUssR0FBRyxTQUFTaW5CO1FBQ2xCdnRCLE1BQU0sU0FBU3hRO1FBQ2YsT0FBTzg5QixVQUFVcHNCLElBQUksQ0FBQyxJQUFJO0lBQzVCO0lBRUEsS0FBSyxNQUFNaEQsVUFBVTtRQUNuQjtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ1EsQ0FBRTtRQUNWLE1BQU1zdkIsV0FBV25MLEVBQUUsQ0FBQ25rQixPQUFPO1FBQzNCLElBQUksQ0FBQ3N2QixVQUFVOztRQUdmbkwsRUFBRSxDQUFDbmtCLE9BQU8sR0FBRyxlQUFldXZCLGFBQWEsR0FBRzFwQixJQUFXO1lBQ3JELElBQUk7Z0JBQ0YvRCxNQUFNOUIsUUFBUTZGOztnQkFFZCxNQUFNZSxTQUFTLE1BQU0wb0IsU0FBU0UsS0FBSyxDQUFDLElBQUksRUFBRTNwQjtnQkFDMUMvRCxNQUFNLENBQUcsRUFBQTlCLE9BQU0sVUFBVyxFQUFFNEc7Z0JBQzVCLE9BQU9BO2NBQ1AsT0FBTzVFLEtBQUs7Z0JBQ1pGLE1BQU0sQ0FBRyxFQUFBOUIsT0FBaUIsWUFBR2dDLElBQWM1TyxRQUFRO2dCQUNuRCxNQUFNNE87O1FBRVY7O0FBRUo7QUNsREE7Ozs7Ozs7Q0FPRyxTQUNVeXRCO0lBV1g7O0tBRUcsR0FDSGpoQyxZQUNFMjFCLEVBQXFCLEVBQ3JCbFosUUFBa0IsRUFDbEJ5a0Isa0JBQTBDO1FBVnBDLElBQWEsQ0FBQUMsYUFBQSxHQUE2QjtRQUMxQyxJQUFnQixDQUFBQyxnQkFBQSxHQUFhLEVBQUU7UUFDL0IsSUFBVSxDQUFBQyxVQUFBLEdBQWEsRUFBRTtRQWVqQzs7Ozs7OztTQU9HLEdBQ0gsSUFBRyxDQUFBMWpCLEdBQUEsR0FBRztZQUNKLE1BQU00VixRQUFRLE1BQU0sSUFBSSxDQUFDb0MsRUFBRSxDQUFDRixRQUFRO1lBQ3BDLE1BQU02TCxlQUFlQyxTQUFTaE87WUFFOUIsTUFBTWlNLG1CQUFtQixJQUFJLENBQUNnQyxhQUFhLENBQ3pDLElBQUksQ0FBQy9rQixRQUFRLEtBQUt6VyxTQUFTMFcsVUFBQSxHQUN2QixJQUFJLENBQUMra0IsY0FBYyxDQUFDSCxnQkFDcEIsSUFBSSxDQUFDSSxjQUFjLENBQUNKO1lBRzFCLE1BQU03QyxRQUFRa0QsaUJBQWlCLElBQUksQ0FBQ1IsYUFBYSxFQUFFRzs7WUFHbkQsSUFBSSxDQUFDSCxhQUFhLEdBQUdHO1lBQ3JCLElBQUksQ0FBQ0YsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDQSxnQkFBZ0IsQ0FBQ3pSLEtBQUssQ0FBQztZQUNwRCxJQUFJLENBQUMwUixVQUFVLEdBQUcsSUFBSSxDQUFDQSxVQUFVLENBQUMxUixLQUFLLENBQUM7WUFFeEMsT0FBTztnQkFBRTZQO2dCQUFrQmY7Z0JBQU9sTDtZQUFLO1FBQ3pDO1FBRUE7O1NBRUcsR0FDSyxLQUFBbU8sY0FBYyxHQUFHLENBQ3ZCSjtZQUVBLE1BQU0vQixjQUFrQyxFQUFFO1lBQzFDLEtBQUssTUFBTXFDLE9BQU8vL0IsT0FBT21DLE1BQU0sQ0FBQ3M5QixjQUFlO2dCQUM3QyxJQUFJTSxJQUFJaGhCLElBQUksS0FBSyxnQkFBZ0I7Z0JBRWpDLE1BQU0sRUFDSitXLE9BQU8sRUFDUGtLLGFBQWEsQ0FBQyxFQUNkMWdDLElBQUksRUFDSjBmLEVBQUUsRUFDRmloQixrQkFBa0IsQ0FBQyxFQUNuQmxKLGtCQUFrQixDQUFDLEVBQ25CRixjQUFjLENBQUMsRUFDZkMsYUFBYSxDQUFDLEVBQ2RvSixnQkFBZ0IsQ0FBQyxFQUNqQjNKLGFBQWEsRUFDZCxHQUFHd0o7Z0JBRUosSUFBSXpnQyxTQUFTLFdBQVcsQ0FBQyxJQUFJLENBQUNnZ0MsYUFBYSxDQUFDdGdCLEdBQUcsRUFBRTtnQkFDakQsTUFBTW1oQixVQUFVLElBQUksQ0FBQ2IsYUFBYSxDQUFDdGdCLEdBQWdDO2dCQUVuRSxNQUFNb2hCLHVCQUNKSCxrQkFBbUJFLENBQUFBLFFBQVFGLGVBQWUsSUFBSTtnQkFDaEQsTUFBTUksa0JBQWtCTCxhQUFjRyxDQUFBQSxRQUFRSCxVQUFVLElBQUk7Z0JBQzVELE1BQU1NLG1CQUNKRCxrQkFBa0IsSUFDZCx1QkFBd0JBLGtCQUFtQixPQUMzQztnQkFFTixJQUFJLENBQUNkLGdCQUFnQixDQUFDeGdDLElBQUksQ0FBQ3VoQztnQkFDM0IsSUFBSSxDQUFDZCxVQUFVLENBQUN6Z0MsSUFBSSxDQUFDZzRCO2dCQUVyQixJQUFJdFAsWUFBWW5qQixVQUFVb2MsS0FBSztnQkFDL0IsSUFBSTZWLGlCQUFpQmtKLFlBQVksQ0FBQ2xKLGNBQWMsRUFBRTtvQkFDaEQsTUFBTUQsY0FBY21KLFlBQVksQ0FBQ2xKLGNBQXFDO29CQUN0RTlPLFlBQ0UsSUFBSSxDQUFDNFgsa0JBQWtCLENBQUN2akIsR0FBRyxDQUFDd2EsWUFBWUcsZUFBZSxLQUFLaFA7O2dCQUdoRWlXLFlBQVkzK0IsSUFBSSxDQUFDO29CQUNmMG9CO29CQUNBb08sT0FBTzBLLGtCQUFrQmQsY0FBYzNKO29CQUN2QzBLLGdCQUFnQkMsUUFBUSxJQUFJLENBQUNsQixnQkFBZ0I7b0JBQzdDbUIsUUFBUUQsUUFBUSxJQUFJLENBQUNqQixVQUFVO29CQUMvQlUsZUFBZXI5QixLQUFLdzFCLEtBQUssQ0FBQzZIO29CQUMxQlMsZ0JBQWdCO3dCQUFFNVksT0FBTytPO3dCQUFZaFAsUUFBUStPO29CQUFXO2dCQUN6RDs7WUFHSCxPQUFPNkc7UUFDVDtRQUVBOztTQUVHLEdBQ0ssS0FBQWtDLGNBQWMsR0FBRyxDQUN2Qkg7WUFFQSxJQUFJTSxNQUE0QzkrQjtZQUNoRCxJQUFJaVMsTUFBTTtZQUNWLEtBQUssTUFBTTJjLFFBQVE3dkIsT0FBT21DLE1BQU0sQ0FBQ3M5QixjQUFlO2dCQUM5QyxJQUFJNVAsS0FBSzlRLElBQUksS0FBSyxlQUFlO2dCQUNqQyxNQUFNNmhCLFVBQVUvUTtnQkFDaEIsTUFBTSxFQUFFdndCLElBQUksRUFBRXczQixhQUFhLENBQUMsRUFBRUQsY0FBYyxDQUFDLEVBQUUsR0FBRytKO2dCQUNsRCxNQUFNM0ksT0FBT25CLGFBQWFEO2dCQUMxQixJQUFJdjNCLFNBQVMsV0FBVzI0QixPQUFPL2tCLEtBQUs7b0JBQ2xDNnNCLE1BQU1hO29CQUNOMXRCLE1BQU0ra0I7OztZQUlWLElBQUksQ0FBQzhILE9BQU8sQ0FBQyxJQUFJLENBQUNULGFBQWEsQ0FBQ1MsSUFBSS9nQixFQUFFLENBQUMsRUFBRSxPQUFPLEVBQUU7WUFDbEQsTUFBTW1oQixVQUFVLElBQUksQ0FBQ2IsYUFBYSxDQUFDUyxJQUFJL2dCLEVBQUUsQ0FBNkI7WUFFdEUsTUFBTSxFQUNKNmhCLGdCQUFnQixDQUFDLEVBQ2pCOUosa0JBQWtCLENBQUMsRUFDbkIrSixrQkFBa0IsQ0FBQyxFQUNuQnJLLGVBQWUsRUFDaEIsR0FBR3NKO1lBQ0osTUFBTWdCLHVCQUNKRCxrQkFBbUJYLENBQUFBLFFBQVFXLGVBQWUsSUFBSTtZQUNoRCxNQUFNRSxxQkFBcUJILGdCQUFpQlYsQ0FBQUEsUUFBUVUsYUFBYSxJQUFJO1lBRXJFLE1BQU1JLG1CQUNKRCxxQkFBcUIsSUFDakIsdUJBQXdCQSxxQkFBc0IsT0FDOUM7WUFFTixJQUFJLENBQUN6QixnQkFBZ0IsQ0FBQ3hnQyxJQUFJLENBQUNraUM7WUFDM0IsSUFBSSxDQUFDekIsVUFBVSxDQUFDemdDLElBQUksQ0FBQ2c0QjtZQUVyQixNQUFNdFAsWUFDSixJQUFJLENBQUM0WCxrQkFBa0IsQ0FBQ3ZqQixHQUFHLENBQUMyYSxvQkFBb0JueUIsVUFBVW9jLEtBQUs7WUFFakUsT0FBTztnQkFDTDNZLGlCQUFpQnJILE1BQU0sQ0FBQztvQkFDdEIrbUI7b0JBQ0FvTyxPQUFPMEssa0JBQWtCZCxjQUFjTSxJQUFJakssT0FBTztvQkFDbEQwSyxnQkFBZ0JDLFFBQVEsSUFBSSxDQUFDbEIsZ0JBQWdCO29CQUM3Q21CLFFBQVFELFFBQVEsSUFBSSxDQUFDakIsVUFBVTtvQkFDL0JtQixnQkFBZ0I7d0JBQUU1WSxPQUFPZ1ksSUFBSWpKLFVBQVU7d0JBQUVoUCxRQUFRaVksSUFBSWxKLFdBQVc7b0JBQUE7O2FBRW5FO1FBQ0g7UUFFQTs7OztTQUlHLEdBQ0ssS0FBQThJLGFBQWEsR0FBRyxDQUN0QmhDO1lBRUEsSUFBSSxJQUFJLENBQUN1RCxhQUFhLEVBQUU7Z0JBQ3RCLEtBQUssTUFBTTN0QixLQUFLb3FCLGlCQUFrQjtvQkFDaEMsTUFBTXdELFdBQVcsSUFBSSxDQUFDRCxhQUFhLENBQUNwbEIsR0FBRyxDQUFDdkksRUFBRWtVLFNBQVM7b0JBQ25ELElBQUkwWixhQUFhbGdDLFdBQVc7Ozt3QkFHMUJzUyxFQUFFaXRCLGNBQWMsR0FBR1csV0FBVyxDQUFDNXRCLEVBQUVpdEIsY0FBYyxJQUFJLEtBQUs7Ozs7WUFJOUQsT0FBTzdDO1FBQ1Q7UUFFQTs7Ozs7O1NBTUcsR0FDSCxJQUFPLENBQUF5RCxPQUFBLEdBQUcsQ0FBQ0MsTUFBYzVaLFlBQVluakIsVUFBVW9jLEtBQUs7WUFDbEQsSUFBSSxDQUFDLElBQUksQ0FBQ3dnQixhQUFhLEVBQUUsSUFBSSxDQUFDQSxhQUFhLEdBQUcsSUFBSTFsQjtZQUNsRCxJQUFJLENBQUMwbEIsYUFBYSxDQUFDOWtCLEdBQUcsQ0FBQ3FMLFdBQVc0WjtRQUNwQztRQS9LRSxJQUFJLENBQUN2TixFQUFFLEdBQUdBO1FBQ1YsSUFBSSxDQUFDbFosUUFBUSxHQUFHQTtRQUNoQixJQUFJLENBQUN5a0Isa0JBQWtCLEdBQUdBOztBQThLN0I7QUFFRDs7OztDQUlHLEdBQ0gsTUFBTUssV0FBVyxDQUFDMVo7SUFDaEIsTUFBTXNiLE1BQWdDO0lBQ3RDdGIsT0FBT3BPLE9BQU8sQ0FBQyxDQUFDN1gsR0FBR0Q7UUFDakJ3aEMsR0FBRyxDQUFDeGhDLEVBQUUsR0FBR0M7SUFDWDtJQUNBLE9BQU91aEM7QUFDVDtBQUVBOzs7O0NBSUcsR0FDSCxNQUFNeEIsbUJBQW1CLENBQ3ZCeUIsVUFDQUM7SUFFQUEsV0FBV3ZtQixLQUFLMVgsS0FBSyxDQUFDMFgsS0FBS3FpQixTQUFTLENBQUNrRTtJQUVyQyxLQUFLLE1BQU0sQ0FBQ3hpQixJQUFJZ0gsT0FBTyxJQUFJaG1CLE9BQU9DLE9BQU8sQ0FBQ3VoQyxVQUFXO1FBQ25ELE9BQU94YixPQUFPaEgsRUFBRTtRQUNoQixJQUFJLENBQUN1aUIsUUFBUSxDQUFDdmlCLEdBQUcsRUFBRTtRQUVuQixLQUFLLE1BQU0sQ0FBQ3ZnQixNQUFNSyxNQUFNLElBQUlrQixPQUFPQyxPQUFPLENBQUMrbEIsUUFBUztZQUNsRCxJQUFJbG5CLFVBQVV5aUMsUUFBUSxDQUFDdmlCLEdBQUcsQ0FBQ3ZnQixLQUFLLEVBQUU7Z0JBQ2hDLE9BQU91bkIsTUFBTSxDQUFDdm5CLEtBQUs7Ozs7SUFLekIsSUFBSTYyQixZQUFZLENBQUNtTTtJQUNqQixNQUFNdC9CLFNBQVNuQyxPQUFPbUMsTUFBTSxDQUFDcS9CO0lBQzdCLEtBQUssTUFBTXhiLFVBQVU3akIsT0FBUTtRQUMzQixJQUFJNmpCLE9BQU9zUCxTQUFTLEdBQUdBLFdBQVc7WUFDaENBLFlBQVl0UCxPQUFPc1AsU0FBUzs7O0lBR2hDLEtBQUssTUFBTXRQLFVBQVU3akIsT0FBUTtRQUMzQixJQUFJNmpCLE9BQU9zUCxTQUFTLEtBQUtBLFdBQVc7WUFDbEN0UCxPQUFPc1AsU0FBUyxHQUFHOzs7SUFHdkJrTSxTQUFTbE0sU0FBUyxHQUFHQTtJQUNyQixPQUFPa007QUFDVDtBQUVBOztDQUVHLEdBQ0gsTUFBTWYsVUFBVSxDQUFDaUIsTUFBa0JBLElBQUk5YSxNQUFNLENBQUMsQ0FBQzdHLEdBQUdDLElBQU1ELElBQUlDLEdBQUcsS0FBSzBoQixJQUFJejlCLE1BQU07QUFFOUU7Ozs7O0NBS0csR0FDSCxNQUFNczhCLG9CQUFvQixDQUN4QjdPLE9BQ0FvRTtJQUVBLElBQUksQ0FBQ0EsV0FBVyxDQUFDcEUsS0FBSyxDQUFDb0UsUUFBUSxFQUFFO0lBQ2pDLE1BQU02TCxhQUFhalEsS0FBSyxDQUFDb0UsUUFBeUI7SUFDbEQsT0FBT2h3QixNQUFNcEYsTUFBTSxDQUFDO1FBQ2xCakMsTUFBTWtqQyxXQUFXL0ssUUFBUSxDQUFDMkIsS0FBSyxDQUFDLEtBQUtxSixHQUFHO1FBQ3hDQyxXQUFXRixXQUFXRSxTQUFTO1FBQy9CQyxhQUFhSCxXQUFXRyxXQUFXO1FBQ25DQyxNQUFNSixXQUFXSyxXQUFXO0lBQzdCO0FBQ0g7TUM5UmFDO0lBS1g5akMsWUFBWTZnQixFQUFpQjtRQUpyQixJQUFNLENBQUFrakIsTUFBQSxHQUFrQixFQUFFO1FBQzFCLElBQU8sQ0FBQWpRLE9BQUEsR0FBRztRQU9sQixLQUFBa1EsVUFBVSxHQUFHLENBQUNsUTtZQUNaLElBQUksSUFBSSxDQUFDQSxPQUFPLEtBQUtBLFNBQVM7WUFDOUIsSUFBSSxDQUFDQSxPQUFPLEdBQUdBO1lBQ2YsSUFBSSxDQUFDaVEsTUFBTSxHQUFHLEVBQUU7UUFDbEI7UUFFQSxLQUFBendCLEtBQUssR0FBVSxDQUFDaUssS0FBSzJnQjtZQUNuQixJQUFJLENBQUMsSUFBSSxDQUFDcEssT0FBTyxFQUFFO1lBQ25CLElBQUksQ0FBQ2lRLE1BQU0sQ0FBQ25qQyxJQUFJLENBQUM7Z0JBQUMyYztnQkFBSyxJQUFJLENBQUNzRCxFQUFFO2dCQUFFcWQ7Z0JBQU01NUIsS0FBS0gsR0FBRzthQUFHO1FBQ25EO1FBRUEsSUFBSSxDQUFBdzZCLElBQUEsR0FBRztZQUNMLE1BQU1LLFdBQVcsSUFBSSxDQUFDK0UsTUFBTTtZQUM1QixJQUFJLENBQUNBLE1BQU0sR0FBRyxFQUFFO1lBQ2hCLE9BQU87Z0JBQ0wvRTtnQkFDQTNmLFVBQVU7b0JBQ1IsSUFBSSxDQUFDMGtCLE1BQU0sQ0FBQ0UsT0FBTyxJQUFJakY7OztRQUc3QjtRQUVBLElBQU8sQ0FBQXBpQixPQUFBLEdBQUc7WUFDUixJQUFJLENBQUNtbkIsTUFBTSxHQUFHLEVBQUU7UUFDbEI7UUEzQkUsSUFBSSxDQUFDbGpCLEVBQUUsR0FBR0E7O0FBNEJiO0FDREQ7OztDQUdHLFNBQ21CcWpCO0lBdUJwQjs7S0FFRyxHQUNIbGtDLFlBQ0V5YyxRQUFrQixFQUNsQixFQUNFaWdCLFNBQVMsRUFDVHlILGdCQUFnQixFQUNoQnJqQixLQUFLLEVBQ0xzakIsVUFBVSxFQUNWQyxvQkFBb0IsRUFDcEI1b0IsTUFBTSxFQUNONm9CLGFBQWEsRUFDYkMsa0JBQWtCLElBQUksRUFDQztRQTFCakIsSUFBZSxDQUFBQyxlQUFBLEdBQUc7UUFDcEIsSUFBVSxDQUFBQyxVQUFBLEdBQUc7UUFFWCxLQUFBdkQsa0JBQWtCLEdBQUcsSUFBSTdqQjtRQUtsQixJQUFhLENBQUFxbkIsYUFBQSxHQUFtQixFQUFFO1FBRWhDLEtBQUFDLElBQUksR0FBR2pnQyxLQUFLdVEsTUFBTSxHQUFHclEsUUFBUSxDQUFDLElBQUkrcUIsS0FBSyxDQUFDO1FBeUNuRCxLQUFBaVYsb0JBQW9CLEdBQUcsQ0FBQ1Q7WUFDOUIsTUFBTXhPLEtBQUssSUFBSXhjLGtCQUFrQmdyQjtZQUNqQ3hPLEdBQUd2ZixnQkFBZ0IsQ0FBQyxnQkFBZ0IsSUFBSSxDQUFDeXVCLGNBQWM7WUFDdkRsUCxHQUFHdmYsZ0JBQWdCLENBQUMscUJBQXFCLElBQUksQ0FBQzB1QixtQkFBbUI7WUFDakVuUCxHQUFHdmYsZ0JBQWdCLENBQ2pCLDRCQUNBLElBQUksQ0FBQzJ1QiwwQkFBMEI7WUFFakNwUCxHQUFHdmYsZ0JBQWdCLENBQUMsMkJBQTJCLElBQUksQ0FBQzR1QixpQkFBaUI7WUFDckVyUCxHQUFHdmYsZ0JBQWdCLENBQUMsd0JBQXdCLElBQUksQ0FBQzZ1QixpQkFBaUI7WUFDbEV0UCxHQUFHdmYsZ0JBQWdCLENBQUMseUJBQXlCLElBQUksQ0FBQzh1Qix1QkFBdUI7WUFDekUsT0FBT3ZQO1FBQ1Q7UUFxQ0E7Ozs7U0FJRyxHQUNPLElBQWEsQ0FBQXdQLGFBQUEsR0FBRztZQUN4QixJQUFJLENBQUNDLFVBQVUsR0FBR2xrQixLQUFLLENBQUMsQ0FBQ25GO2dCQUN2QixNQUFNc3BCLFNBQVM7Z0JBQ2YsSUFBSSxDQUFDcnlCLE1BQU0sQ0FBQyxTQUFTcXlCLFFBQVF0cEI7Z0JBQzdCLE1BQU1xaUIsV0FDSnJpQixhQUFhc1gsb0JBQ2J0WCxFQUFFbEksS0FBSyxDQUFDM1QsSUFBSSxLQUFLa0csVUFBVWsvQix1QkFBQSxHQUN2QjcrQiwyQkFBMkI4K0IsSUFBQSxHQUMzQjkrQiwyQkFBMkIrK0IsTUFBTTtnQkFDdkMsSUFBSSxDQUFDbkIsb0JBQW9CLEdBQUdqRyxVQUFVaUg7WUFDeEM7UUFDRjtRQUVBOzs7U0FHRyxHQUNPLEtBQUFycEIsRUFBRSxHQUFHLENBQ2IrTixPQUNBak87WUFFQSxJQUFJLENBQUM0b0IsYUFBYSxDQUFDOWpDLElBQUksQ0FDckIsSUFBSSxDQUFDd2pDLFVBQVUsQ0FBQ3BvQixFQUFFLENBQUMrTixPQUFPLENBQUNoTztnQkFDekIsTUFBTTBwQixVQUFVLENBQU0sU0FBSSxDQUFDZCxJQUFJLElBQUk1YSxNQUFLLENBQUU7Z0JBQzFDaE4sbUJBQW1CMG9CLFNBQVMsVUFBWTNwQixHQUFHQyxJQUFJbUYsS0FBSyxDQUFDLENBQUMxTjtvQkFDcEQsSUFBSSxJQUFJLENBQUNpeEIsVUFBVSxFQUFFO29CQUNyQixJQUFJLENBQUN6eEIsTUFBTSxDQUFDLFFBQVEsQ0FBa0IsaUJBQUErVyxNQUFPLEdBQUV2VztnQkFDakQ7O1FBR047UUFFQTs7U0FFRyxHQUNPLElBQXdCLENBQUFreUIsd0JBQUEsR0FBRztZQUNuQyxNQUFNLEVBQUVDLGdCQUFnQixFQUFFLEdBQUcsSUFBSSxDQUFDakosU0FBUztZQUMzQyxNQUFNbmQsYUFDSixJQUFJLENBQUM5QyxRQUFRLEtBQUt6VyxTQUFTMFcsVUFBQSxHQUN2QmlwQixpQkFBaUJ2cEIsb0JBQUEsR0FDakJ1cEIsaUJBQWlCcnBCLG1CQUFtQjtZQUUxQyxJQUFJLENBQUNzcEIscUJBQXFCO1lBQzFCLElBQUksQ0FBQ0EscUJBQXFCLEdBQUdqbUIsNEJBQzNCSixZQUNBLE9BQU8rZ0I7Z0JBQ0wsT0FBTyxJQUFJLENBQUMzSyxFQUFFLENBQUNrUSxlQUFlLENBQUN2RixXQUFXcGYsS0FBSyxDQUFDLENBQUNuRjtvQkFDL0MsSUFBSSxJQUFJLENBQUMwb0IsVUFBVSxFQUFFO29CQUNyQixJQUFJLENBQUN6eEIsTUFBTSxDQUFDLFFBQVEsQ0FBcUIsc0JBQUUrSSxHQUFHdWtCO2dCQUNoRDtZQUNGO1FBRUo7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQXdGLFlBQVksR0FBRyxDQUFDcEo7WUFDZCxJQUFJLENBQUNBLFNBQVMsR0FBR0E7UUFDbkI7UUFFQTs7O1NBR0csR0FDSCxLQUFBakgsUUFBUSxHQUFHLENBQUNEO1lBQ1YsT0FBTyxJQUFJLENBQUNHLEVBQUUsQ0FBQ0YsUUFBUSxDQUFDRDtRQUMxQjtRQUVBOztTQUVHLEdBQ0gsS0FBQTZDLFlBQVksR0FBRyxDQUFDME47WUFDZCxPQUFPLElBQUksQ0FBQzdFLGtCQUFrQixDQUFDdmpCLEdBQUcsQ0FBQ29vQjtRQUNyQztRQUVBOzs7OztTQUtHLEdBQ0gsSUFBUyxDQUFBQyxTQUFBLEdBQUc7WUFDVixNQUFNQyxlQUFlLElBQUkvUCxJQUV2QjtnQkFBQztnQkFBVTthQUFTO1lBRXRCLE1BQU1nUSxXQUFXLElBQUksQ0FBQ3ZRLEVBQUUsQ0FBQzZLLGtCQUFrQjtZQUMzQyxNQUFNRSxrQkFBa0IsSUFBSSxDQUFDL0ssRUFBRSxDQUFDK0ssZUFBZTtZQUMvQyxPQUFPLENBQUN1RixhQUFhem9CLEdBQUcsQ0FBQzBvQixhQUFhLENBQUNELGFBQWF6b0IsR0FBRyxDQUFDa2pCO1FBQzFEO1FBRUE7OztTQUdHLEdBQ0ssS0FBQW1FLGNBQWMsR0FBRyxDQUFDOW9CO1lBQ3hCLE1BQU0sRUFBRXVrQixTQUFTLEVBQUUsR0FBR3ZrQjtZQUN0QixJQUFJLENBQUN1a0IsV0FBVztnQkFDZCxJQUFJLENBQUN0dEIsTUFBTSxDQUFDLFNBQVM7Z0JBQ3JCOztZQUdGLE1BQU11SixlQUFlLElBQUksQ0FBQzRwQixNQUFNLENBQUM3RjtZQUNqQyxJQUFJLENBQUM1RCxTQUFBLENBQ0Y3cUIsVUFBVSxDQUFDO2dCQUFFNEssVUFBVSxJQUFJLENBQUNBLFFBQVE7Z0JBQUVGO1lBQVksR0FDbEQyRSxLQUFLLENBQUMsQ0FBQzFOO2dCQUNOLElBQUksSUFBSSxDQUFDaXhCLFVBQVUsRUFBRTtnQkFDckIsSUFBSSxDQUFDenhCLE1BQU0sQ0FBQyxRQUFRLENBQW1CLG9CQUFFUTtZQUMzQztRQUNKO1FBRUE7O1NBRUcsR0FDSyxLQUFBMnlCLE1BQU0sR0FBRyxDQUFDN0Y7WUFDaEIsSUFBSSxDQUFDQSxVQUFVOEYsZ0JBQWdCLEVBQUU7O2dCQUUvQixNQUFNQyxXQUFXL0YsVUFBVUEsU0FBUyxDQUFDbEcsS0FBSyxDQUFDO2dCQUMzQyxNQUFNa00sYUFBYUQsU0FBU0UsU0FBUyxDQUFDLENBQUNueEIsSUFBTUEsTUFBTSxXQUFXO2dCQUM5RCxNQUFNZ3hCLG1CQUFtQkMsUUFBUSxDQUFDQyxXQUFXO2dCQUM3QyxPQUFPeHBCLEtBQUtxaUIsU0FBUyxDQUFDO29CQUFFLEdBQUdtQixTQUFTO29CQUFFOEY7Z0JBQWdCOztZQUV4RCxPQUFPdHBCLEtBQUtxaUIsU0FBUyxDQUFDbUIsVUFBVS8vQixNQUFNO1FBQ3hDO1FBRUE7O1NBRUcsR0FDSyxJQUF1QixDQUFBMmtDLHVCQUFBLEdBQUc7WUFDaEMsTUFBTXBrQixRQUFRLElBQUksQ0FBQzZVLEVBQUUsQ0FBQytLLGVBQWU7WUFDckMsSUFBSSxDQUFDMXRCLE1BQU0sQ0FBQyxTQUFTLENBQTBCLDJCQUFFOE47WUFDakQsSUFBSSxJQUFJLENBQUMrYixNQUFNLElBQUsvYixDQUFBQSxVQUFVLGVBQWVBLFVBQVUsV0FBVztnQkFDaEUsSUFBSTtvQkFDRixNQUFNeVMsUUFBUSxNQUFNLElBQUksQ0FBQ0EsS0FBSyxDQUFDNVYsR0FBRztvQkFDbEMsSUFBSSxDQUFDa2YsTUFBTSxDQUFDdnBCLEtBQUssQ0FBQyxZQUFZaWdCLE1BQU1rTCxLQUFLO2tCQUN6QyxPQUFPanJCLEtBQUs7b0JBQ1osSUFBSSxDQUFDcXBCLE1BQU0sQ0FBQ3ZwQixLQUFLLENBQUMscUJBQXNCRSxJQUFjNU8sUUFBUTs7OztZQUtsRSxJQUFJa2MsVUFBVSxVQUFVO2dCQUN0QixJQUFJLENBQUN1akIsb0JBQW9CLEdBQ3ZCNTlCLDJCQUEyQisrQixNQUFNLEVBQ2pDO2dCQUVGOztZQUdGLElBQUksQ0FBQ2dCLDJCQUEyQixDQUFDMWxCO1FBQ25DO1FBRUE7O1NBRUcsR0FDSyxJQUEwQixDQUFBaWtCLDBCQUFBLEdBQUc7WUFDbkMsTUFBTWprQixRQUFRLElBQUksQ0FBQzZVLEVBQUUsQ0FBQzZLLGtCQUFrQjtZQUN4QyxJQUFJLENBQUN4dEIsTUFBTSxDQUFDLFNBQVMsQ0FBOEIsK0JBQUU4TjtZQUNyRCxJQUFJLENBQUMwbEIsMkJBQTJCLENBQUMxbEI7UUFDbkM7UUFFUSxLQUFBMGxCLDJCQUEyQixHQUFHLENBQ3BDMWxCO1lBRUEsTUFBTSxFQUFFQyxZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUNELEtBQUs7WUFDbkMsSUFBSUMsaUJBQWlCbEIsYUFBYTRtQixPQUFPLEVBQUU7WUFDM0MsSUFBSTFsQixpQkFBaUJsQixhQUFhNm1CLFlBQVksRUFBRTs7WUFHaEQsSUFBSSxJQUFJLENBQUNsQyxlQUFlLEVBQUU7WUFFMUIsT0FBUTFqQjtnQkFDTixLQUFLOztvQkFFSCxJQUFJLENBQUM5TixNQUFNLENBQUMsUUFBUTtvQkFDcEIsSUFBSSxDQUFDbXlCLGFBQWE7b0JBQ2xCO2dCQUVGLEtBQUs7OztvQkFHSCxJQUFJLENBQUNueUIsTUFBTSxDQUFDLFFBQVE7b0JBQ3BCOFQsYUFBYSxJQUFJLENBQUM2ZixpQkFBaUI7b0JBQ25DLElBQUksQ0FBQ0EsaUJBQWlCLEdBQUd0eUIsV0FBVzt3QkFDbEMsTUFBTXV5QixlQUFlLElBQUksQ0FBQ2pSLEVBQUUsQ0FBQzZLLGtCQUFrQjt3QkFDL0MsSUFBSW9HLGlCQUFpQixrQkFBa0JBLGlCQUFpQixVQUFVOzRCQUNoRSxJQUFJLENBQUN6QixhQUFhOztvQkFFdEIsR0FBRyxJQUFJLENBQUNaLGVBQWU7b0JBQ3ZCO2dCQUVGLEtBQUs7O29CQUVILElBQUksSUFBSSxDQUFDb0MsaUJBQWlCLEVBQUU7d0JBQzFCLElBQUksQ0FBQzN6QixNQUFNLENBQUMsUUFBUTt3QkFDcEI4VCxhQUFhLElBQUksQ0FBQzZmLGlCQUFpQjt3QkFDbkMsSUFBSSxDQUFDQSxpQkFBaUIsR0FBRzdqQzs7b0JBRTNCOztRQUVOO1FBRUE7O1NBRUcsR0FDSyxLQUFBZ2lDLG1CQUFtQixHQUFHLENBQUMvb0I7WUFDN0IsTUFBTThxQixlQUNKOXFCLGFBQWErcUIsaUNBQ1QsR0FBRy9xQixFQUFFZ3JCLFNBQVMsQ0FBSyxJQUFBaHJCLEVBQUVpckIsU0FBUyxDQUFFLElBQ2hDanJCO1lBQ04sSUFBSSxDQUFDL0ksTUFBTSxDQUFDLFNBQVMsdUJBQXVCNnpCO1FBQzlDO1FBRUE7O1NBRUcsR0FDSyxJQUFpQixDQUFBN0IsaUJBQUEsR0FBRztZQUMxQixJQUFJLENBQUNoeUIsTUFBTSxDQUFDLFNBQVMscUJBQXFCLEVBQUUsSUFBSSxDQUFDMmlCLEVBQUUsQ0FBQzhLLGlCQUFpQjtRQUN2RTtRQUVBOztTQUVHLEdBQ0ssSUFBaUIsQ0FBQXdFLGlCQUFBLEdBQUc7WUFDMUIsSUFBSSxDQUFDanlCLE1BQU0sQ0FBQyxTQUFTLHlCQUF5QixFQUFFLElBQUksQ0FBQzJpQixFQUFFLENBQUM0SyxjQUFjO1FBQ3hFO1FBalRFLElBQUksQ0FBQzlqQixRQUFRLEdBQUdBO1FBQ2hCLElBQUksQ0FBQ2lnQixTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQzViLEtBQUssR0FBR0E7UUFDYixJQUFJLENBQUNzakIsVUFBVSxHQUFHQTtRQUNsQixJQUFJLENBQUNHLGVBQWUsR0FBR0E7UUFDdkIsSUFBSSxDQUFDRixvQkFBb0IsR0FBR0E7UUFDNUIsSUFBSSxDQUFDcnhCLE1BQU0sR0FBRzhFLFVBQVU7WUFDdEIyRSxhQUFhelcsU0FBUzBXLFVBQVUsR0FBRyxlQUFlO1lBQ2xEakI7U0FDRDtRQUNELElBQUksQ0FBQ2thLEVBQUUsR0FBRyxJQUFJLENBQUNpUCxvQkFBb0IsQ0FBQ1Q7UUFDcEMsSUFBSSxDQUFDNVEsS0FBSyxHQUFHLElBQUkwTixZQUFZLElBQUksQ0FBQ3RMLEVBQUUsRUFBRWxaLFVBQVUsSUFBSSxDQUFDeWtCLGtCQUFrQjtRQUN2RSxJQUFJb0QsZUFBZTtZQUNqQixNQUFNL21CLE1BQU0sR0FBRzlCLE9BQVUsR0FBQWdCLGFBQWF6VyxTQUFTMFcsVUFBVSxHQUFHLFFBQVEsTUFBSyxDQUFFO1lBQzNFLElBQUksQ0FBQ21nQixNQUFNLEdBQUcsSUFBSWlILE9BQU92bUI7WUFDekIsSUFBSSxDQUFDc2YsTUFBTSxDQUFDdnBCLEtBQUssQ0FBQyxVQUFVO2dCQUMxQjJ6QixLQUFLdkssVUFBVXdLLFFBQVE7Z0JBQ3ZCLEdBQUcvQyxnQkFBZ0I7WUFDcEI7WUFDRDlELHVCQUF1QixJQUFJLENBQUMxSyxFQUFFLEVBQUUsSUFBSSxDQUFDa0gsTUFBTSxDQUFDdnBCLEtBQUs7OztJQWtCckQ7O0tBRUcsR0FDSHNKLFVBQU87UUFDTGtLLGFBQWEsSUFBSSxDQUFDNmYsaUJBQWlCO1FBQ25DLElBQUksQ0FBQ0EsaUJBQWlCLEdBQUc3akM7UUFDekIsSUFBSSxDQUFDdWhDLG9CQUFvQixHQUFHdmhDO1FBQzVCLElBQUksQ0FBQzJoQyxVQUFVLEdBQUc7UUFDbEIsSUFBSSxDQUFDMEMsbUJBQW1CO1FBQ3hCLElBQUksQ0FBQ3hSLEVBQUUsQ0FBQy9iLEtBQUs7UUFDYixJQUFJLENBQUNpakIsTUFBTSxFQUFFamdCOztJQUdmOztLQUVHLEdBQ0h1cUIsc0JBQW1CO1FBQ2pCLE1BQU14UixLQUFLLElBQUksQ0FBQ0EsRUFBRTtRQUNsQkEsR0FBR3JmLG1CQUFtQixDQUFDLGdCQUFnQixJQUFJLENBQUN1dUIsY0FBYztRQUMxRGxQLEdBQUdyZixtQkFBbUIsQ0FBQyxxQkFBcUIsSUFBSSxDQUFDd3VCLG1CQUFtQjtRQUNwRW5QLEdBQUdyZixtQkFBbUIsQ0FBQyx3QkFBd0IsSUFBSSxDQUFDMnVCLGlCQUFpQjtRQUNyRXRQLEdBQUdyZixtQkFBbUIsQ0FDcEIsNEJBQ0EsSUFBSSxDQUFDeXVCLDBCQUEwQjtRQUVqQ3BQLEdBQUdyZixtQkFBbUIsQ0FBQywyQkFBMkIsSUFBSSxDQUFDMHVCLGlCQUFpQjtRQUN4RSxJQUFJLENBQUNZLHFCQUFxQjtRQUMxQixJQUFJLENBQUNsQixhQUFhLENBQUNqckIsT0FBTyxDQUFDLENBQUNzRixjQUFnQkE7O0FBa1AvQztNQ3BYWXFvQjtJQUFicG5DLGFBQUE7UUFDbUIsSUFBSyxDQUFBcW5DLEtBQUEsR0FBb0IsRUFBRTtRQUMzQixJQUFNLENBQUFDLE1BQUEsR0FBdUIsRUFBRTtRQUVoRDs7OztTQUlHLEdBQ2MsSUFBZ0IsQ0FBQUMsZ0JBQUEsR0FBd0IsRUFBRTtRQUUzRDs7U0FFRyxHQUNILEtBQUF0ZSxHQUFHLEdBQUcsQ0FBQ3VlLGVBQThCQztZQUNuQyxJQUFJLENBQUNKLEtBQUssQ0FBQ3ptQyxJQUFJLENBQUM7Z0JBQUU0bUM7Z0JBQWVDO1lBQVc7WUFDNUMsSUFBSSxDQUFDRixnQkFBZ0IsQ0FBQzNtQyxJQUFJLENBQUM2bUM7UUFDN0I7UUFFQTs7U0FFRyxHQUNILEtBQUE5cEIsR0FBRyxHQUFHLENBQUM2cEI7WUFDTCxPQUFPLElBQUksQ0FBQ0UsZUFBZSxDQUFDRixnQkFBZ0JDO1FBQzlDO1FBRUE7O1NBRUcsR0FDSCxLQUFBanFCLEdBQUcsR0FBRyxDQUFDZ3FCO1lBQ0wsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDN3BCLEdBQUcsQ0FBQzZwQjtRQUNwQjtRQUVBOztTQUVHLEdBQ0gsS0FBQW5rQyxJQUFJLEdBQUcsQ0FDTDRlO1lBRUEsT0FBTyxJQUFJLENBQUNvbEIsS0FBSyxDQUFDaGtDLElBQUksQ0FBQzRlO1FBQ3pCO1FBRUE7O1NBRUcsR0FDSCxJQUFLLENBQUEwbEIsS0FBQSxHQUFHO1lBQ04sT0FBTyxJQUFJLENBQUNOLEtBQUs7UUFDbkI7UUFFQTs7U0FFRyxHQUNILEtBQUFyYSxPQUFPLEdBQUcsQ0FBQ3lhO1lBQ1QsT0FBTyxJQUFJLENBQUNGLGdCQUFnQixDQUFDdmEsT0FBTyxDQUFDeWE7UUFDdkM7UUFFQTs7U0FFRyxHQUNILEtBQUFHLFNBQVMsR0FBRyxDQUNWSjtZQUVBLE1BQU1LLFFBQVEsSUFBSSxDQUFDUCxNQUFNLENBQUNqa0MsSUFBSSxDQUM1QixDQUFDcXVCLE9BQ0NBLEtBQUs4VixhQUFhLENBQUMzbUIsRUFBRSxLQUFLMm1CLGNBQWMzbUIsRUFBRSxJQUMxQzZRLEtBQUs4VixhQUFhLENBQUNsZSxTQUFTLEtBQUtrZSxjQUFjbGUsU0FBUztZQUU1RCxPQUFPdWUsT0FBT1A7UUFDaEI7UUFFQTs7U0FFRyxHQUNILEtBQUFRLFNBQVMsR0FBRyxDQUNWTixlQUNBRixTQUE4QixFQUFFO1lBRWhDLE1BQU1PLFFBQVEsSUFBSSxDQUFDRSxTQUFTLENBQUNQO1lBQzdCLElBQUlLLE9BQU87Z0JBQ1RBLE1BQU1QLE1BQU0sR0FBR0E7bUJBQ1Y7Z0JBQ0wsSUFBSSxDQUFDQSxNQUFNLENBQUMxbUMsSUFBSSxDQUFDO29CQUFFNG1DO29CQUFlRjtnQkFBTTs7UUFFNUM7UUFFUSxLQUFBSSxlQUFlLEdBQUcsQ0FBQ0Y7WUFDekIsT0FBTyxJQUFJLENBQUNILEtBQUssQ0FBQ2hrQyxJQUFJLENBQ3BCLENBQUNxdUIsT0FDQ0EsS0FBSzhWLGFBQWEsQ0FBQzNtQixFQUFFLEtBQUsybUIsY0FBYzNtQixFQUFFLElBQzFDNlEsS0FBSzhWLGFBQWEsQ0FBQ2xlLFNBQVMsS0FBS2tlLGNBQWNsZSxTQUFTO1FBRTlEO1FBRVEsS0FBQXllLFNBQVMsR0FBRyxDQUFDUDtZQUNuQixPQUFPLElBQUksQ0FBQ0YsTUFBTSxDQUFDamtDLElBQUksQ0FDckIsQ0FBQ3F1QixPQUNDQSxLQUFLOFYsYUFBYSxDQUFDM21CLEVBQUUsS0FBSzJtQixjQUFjM21CLEVBQUUsSUFDMUM2USxLQUFLOFYsYUFBYSxDQUFDbGUsU0FBUyxLQUFLa2UsY0FBY2xlLFNBQVM7UUFFOUQ7O0FBQ0Q7QUM5R00sTUFBTTBlLGtCQUFrQixDQUFDQyxHQUFVaG9DO0lBQ3hDNlgsVUFBVTtRQUFDO0tBQVUsRUFBRSxRQUFRN1gsU0FBU2dvQztBQUMxQztBQ0FPLE1BQU1DLGtDQUFrQyxDQUM3QzVlO0lBT0EsT0FBUUE7UUFDTixLQUFLbmpCLFVBQVV3YyxZQUFZO1lBQ3pCLE9BQU87UUFDVCxLQUFLeGMsVUFBVTBjLGtCQUFrQjtZQUMvQixPQUFPO1FBQ1QsS0FBSzFjLFVBQVVvYyxLQUFLO1lBQ2xCLE9BQU87UUFDVCxLQUFLcGMsVUFBVXNjLEtBQUs7WUFDbEIsT0FBTztRQUNULEtBQUt0YyxVQUFVZzFCLFdBQVc7WUFDeEIsTUFBTSxJQUFJcDdCLE1BQU07UUFDbEI7WUFDRWlvQyxnQkFBZ0IxZSxXQUFXOztBQUVqQztBQUVPLE1BQU02ZSxzQkFBc0IsQ0FDakNDO0lBRUEsT0FBUUE7UUFDTixLQUFLO1lBQ0gsT0FBT2ppQyxVQUFVc2MsS0FBSztRQUN4QixLQUFLO1lBQ0gsT0FBT3RjLFVBQVVvYyxLQUFLO1FBQ3hCLEtBQUs7WUFDSCxPQUFPcGMsVUFBVXdjLFlBQVk7UUFDL0IsS0FBSztZQUNILE9BQU94YyxVQUFVMGMsa0JBQWtCO1FBQ3JDO1lBQ0VtbEIsZ0JBQWdCSSxVQUFVOztBQUVoQztBQUVPLE1BQU1DLGNBQWMsQ0FBQy9lO0lBQzFCLE9BQVFBO1FBQ04sS0FBSztZQUNILE9BQU9uakIsVUFBVXNjLEtBQUs7UUFDeEIsS0FBSztZQUNILE9BQU90YyxVQUFVb2MsS0FBSztRQUN4QixLQUFLO1lBQ0gsT0FBT3BjLFVBQVV3YyxZQUFZO1FBQy9CLEtBQUs7WUFDSCxPQUFPeGMsVUFBVTBjLGtCQUFrQjtRQUNyQztZQUNFLE9BQU8vZjs7QUFFYjtBQUVPLE1BQU13bEMsbUJBQW1CLENBQUNoZixZQUMvQkEsY0FBY25qQixVQUFVc2MsS0FBSyxJQUFJNkcsY0FBY25qQixVQUFVMGMsa0JBQWtCO0FDN0M3RSxNQUFNMGxCLHVCQUErQztJQUNuREMsR0FBRztJQUNIeE8sR0FBRztJQUNIMTJCLEdBQUc7O0FBR0w7Ozs7OztDQU1HLEdBQ0ksTUFBTW1sQyxpQkFBaUIsQ0FDNUJuQjtJQUVBLElBQUksQ0FBQ0EsUUFBUTs7SUFFYixNQUFNb0IsVUFBVSxDQUFDM1AsTUFBZ0IsQ0FBQ3JoQixJQUF5QkEsRUFBRXFoQixHQUFHLEtBQUtBO0lBQ3JFLE1BQU00UCxlQUNKckIsT0FBT2prQyxJQUFJLENBQUNxbEMsUUFBUSxTQUNwQnBCLE9BQU9qa0MsSUFBSSxDQUFDcWxDLFFBQVEsU0FDcEJwQixPQUFPamtDLElBQUksQ0FBQ3FsQyxRQUFRO0lBQ3RCLE9BQU87UUFBQztZQUFFLEdBQUdDLFlBQVk7WUFBRTVQLEtBQUs7UUFBRztLQUFHO0FBQ3hDO0FBRUE7O0NBRUcsR0FDSSxNQUFNNlAsb0JBQW9CLENBQUM3UDtJQUNoQyxPQUFPQSxRQUFRLE1BQ1g3eUIsYUFBYTJpQyxlQUFBLEdBQ2I5UCxRQUFRLE1BQ043eUIsYUFBYTRpQyxHQUFBLEdBQ2I1aUMsYUFBYTZpQyxJQUFJLEVBQUM7QUFDMUI7QUFFQTs7Q0FFRyxHQUNJLE1BQU1DLGdCQUFnQixDQUMzQjFCLFNBQTBDLEVBQUU7SUFFNUMsT0FBT0EsT0FBT3JqQyxHQUFHLENBQWEsQ0FBQ2dsQyxRQUFXO1lBQ3hDbFEsS0FBS2tRLE1BQU1sUSxHQUFHLElBQUk7WUFDbEJtUSxTQUFTRCxNQUFNRSxVQUFVLElBQUk7WUFDN0JDLEtBQUtILE1BQU1JLFlBQVksSUFBSTtZQUMzQkMsU0FBU1Ysa0JBQWtCSyxNQUFNbFEsR0FBRyxJQUFJO1lBQ3hDeUosZ0JBQWdCO2dCQUFFNVksT0FBT3FmLE1BQU1yZixLQUFLO2dCQUFFRCxRQUFRc2YsTUFBTXRmLE1BQU07WUFBQTtRQUMzRDtBQUNIO0FBRUE7O0NBRUcsR0FDSCxNQUFNNGYsb0JBQW9CLENBQUNDLGVBQXVCQyxpQkFDaEQsQ0FBSSxHQUFBRCxjQUFpQixHQUFBQyxlQUFjLEVBQUdELGdCQUFnQixJQUFJLFNBQVMsR0FBRSxDQUFFO0FBRXpFOzs7OztDQUtHLEdBQ0ksTUFBTUUscUJBQXFCLENBQ2hDeGxCLFlBQ0FzakI7SUFFQSxJQUFJYyxpQkFBaUJkLGNBQWNsZSxTQUFTLEdBQUc7SUFDL0MsTUFBTXFnQixxQkFBMEMsRUFBRTtJQUNsRCxNQUFNN2QsV0FBVzVILFdBQVcwbEIsV0FBVztJQUN2QyxNQUFNLEVBQUVoZ0IsUUFBUSxDQUFDLEVBQUVELFNBQVMsQ0FBQyxFQUFFLEdBQUdtQztJQUNsQyxNQUFNLEVBQ0pvZCxPQUFPLEVBQ1B4UixLQUFLLEVBQ0wwUixHQUFHLEVBQ0hTLG1CQUFtQixDQUFDLEVBQ3BCQyxvQkFBb0IsQ0FBQyxFQUNyQnRILGlCQUFpQjtRQUFFNVksT0FBTztRQUFNRCxRQUFRO0lBQUcsQ0FBRSxFQUM3Q29nQixjQUFjLEVBQ2YsR0FBR3ZDO0lBQ0osTUFBTTJCLGFBQWFhLHNCQUNqQnhILGdCQUNBNVksT0FDQUQsUUFDQXVmO0lBRUYsSUFBSWUsa0JBQWtCO0lBQ3RCLElBQUlDLGdCQUFnQjtJQUNwQixNQUFNQyxXQUFXdHdCLFdBQVc2ZCxPQUFPcDNCO0lBQ25DLEtBQUssTUFBTXk0QixPQUFPO1FBQUM7UUFBSztRQUFLO0tBQUksQ0FBQ3BKLEtBQUssQ0FBQyxHQUFHa2Esa0JBQW1CO1FBQzVELE1BQU1aLFFBQTJCO1lBQy9CbUIsUUFBUTtZQUNSclI7WUFDQW5QLE9BQU9sbEIsS0FBS3cxQixLQUFLLENBQUN0USxRQUFRcWdCO1lBQzFCdGdCLFFBQVFqbEIsS0FBS3cxQixLQUFLLENBQUN2USxTQUFTc2dCO1lBQzVCZCxZQUNFemtDLEtBQUt3MUIsS0FBSyxDQUFDaVAsYUFBYWUsa0JBQWtCM0Isb0JBQW9CLENBQUN4UCxJQUFJO1lBQ3JFc1EsY0FBY0Q7O1FBRWhCLElBQUllLFVBQVU7OztZQUdabEIsTUFBTW9CLGVBQWUsR0FBR2Qsa0JBQ3RCUSxpQkFBaUIsSUFBSUYsa0JBQ3JCQztlQUVHOztZQUVMYixNQUFNcUIscUJBQXFCLEdBQUdMOztRQUdoQ0EsbUJBQW1CO1FBQ25CQyxpQkFBaUI7Ozs7UUFLakJQLG1CQUFtQjFGLE9BQU8sQ0FBQ2dGOzs7O0lBSzdCLE9BQU9zQix5QkFBeUJ6ZSxVQUFVNmQsb0JBQW9CSTtBQUNoRTtBQUVBOzs7Ozs7Ozs7OztDQVdHLEdBQ0ksTUFBTUMsd0JBQXdCLENBQ25DUSxrQkFDQUMsY0FDQUMsZUFDQXhCOzs7SUFJQSxNQUFNLEVBQUV0ZixPQUFPK2dCLFdBQVcsRUFBRWhoQixRQUFRaWhCLFlBQVksRUFBRSxHQUFHSjtJQUNyRCxJQUFJQyxlQUFlRSxlQUFlRCxnQkFBZ0JFLGNBQWM7UUFDOUQsTUFBTUMsZ0JBQWdCSixlQUFlQztRQUNyQyxNQUFNSSxlQUFlSCxjQUFjQztRQUNuQyxNQUFNRyxrQkFBa0JGLGdCQUFnQkM7UUFDeEMsT0FBT3BtQyxLQUFLdzFCLEtBQUssQ0FBQ2dQLFVBQVU2Qjs7SUFFOUIsT0FBTzdCO0FBQ1Q7QUFFQTs7Ozs7OztDQU9HLEdBQ0gsTUFBTXFCLDJCQUEyQixDQUMvQnplLFVBQ0E2ZCxvQkFDQUk7SUFFQSxJQUFJekM7SUFFSixNQUFNbFIsT0FBTzF4QixLQUFLcVEsR0FBRyxDQUFDK1csU0FBU2xDLEtBQUssSUFBSSxHQUFHa0MsU0FBU25DLE1BQU0sSUFBSTtJQUM5RCxJQUFJeU0sUUFBUSxLQUFLOztRQUVma1IsU0FBU3FDLG1CQUFtQnp4QixNQUFNLENBQUMsQ0FBQyt3QixRQUFVQSxNQUFNbFEsR0FBRyxLQUFLO1dBQ3ZELElBQUkzQyxRQUFRLEtBQUs7O1FBRXRCa1IsU0FBU3FDLG1CQUFtQnp4QixNQUFNLENBQUMsQ0FBQyt3QixRQUFVQSxNQUFNbFEsR0FBRyxLQUFLO1dBQ3ZEOztRQUVMdU8sU0FBU3FDOzs7O0lBS1gsTUFBTXFCLGFBQWE7UUFBQztRQUFLO1FBQUs7S0FBSTtJQUNsQyxPQUFPMUQsT0FBT3JqQyxHQUFHLENBQW9CLENBQUNnbEMsT0FBT2dDLE9BQU8xSCxNQUFTO1lBQzNELEdBQUcwRixLQUFLO1lBQ1JsUSxLQUFLaVMsVUFBVSxDQUFDQyxNQUFNO1lBQ3RCYixRQUFRTCxrQkFBa0JrQixRQUFRMUgsSUFBSXo5QixNQUFNLEdBQUcsSUFBSSxRQUFRbWpDLE1BQU1tQixNQUFNO1FBQ3hFO0FBQ0g7QUM3TUE7Ozs7OztDQU1HLEdBQ0ksTUFBTWMsYUFBYSxDQUN4QnpELGFBQ0EwRCxzQkFDQTV4QjtJQUVBLElBQUlrdUIsWUFBWTJELEdBQUcsRUFBRSxPQUFPM0QsWUFBWTJELEdBQUc7SUFDM0MsSUFBSSxDQUFDN3hCLEtBQUssT0FBTzh4QixPQUFPRjtJQUV4QixNQUFNdlgsUUFBUTZULFlBQVk2RCxNQUFNLENBQUMxWCxLQUFNO0lBQ3ZDLE1BQU0yWCxZQUFZbm1DLG9EQUFLQSxDQUFDbVU7SUFDeEIsTUFBTWl5QixRQUFRRCxVQUFVQyxLQUFLLENBQUNub0MsSUFBSSxDQUFDLENBQUM2UTtRQUNsQyxPQUNFQSxFQUFFME0sSUFBSSxLQUFLZ1QsTUFBTXp5QixJQUFJO1FBRXBCK1MsQ0FBQUEsRUFBRXUzQixJQUFJLEVBQUVucEIsU0FBU3NSLE1BQU0vUyxFQUFFLEtBQUs7SUFFbkM7SUFDQSxJQUFJLE9BQU8ycUIsT0FBT0osUUFBUSxhQUFhLE9BQU9DLE9BQU9HLE1BQU1KLEdBQUc7SUFDOUQsSUFBSUQsdUJBQXVCLEdBQUcsT0FBTztJQUNyQyxPQUFPRSxPQUFPRjtBQUNoQjtBQUVBOzs7OztDQUtHLEdBQ0ksTUFBTU8sZUFBZSxDQUFDQyxVQUFrQkM7SUFDN0MsTUFBTUMsb0JBQW9CLElBQUkzVjtJQUM5QixNQUFNNFYsaUJBQWlCMW1DLG9EQUFLQSxDQUFDdW1DO0lBQzdCLEtBQUssTUFBTUgsU0FBU00sZUFBZU4sS0FBSyxDQUFFO1FBQ3hDLElBQUlBLE1BQU01cUIsSUFBSSxLQUFLLFNBQVM7UUFFNUIsTUFBTW1yQixPQUFPUCxNQUFNNUosR0FBRyxDQUFDditCLElBQUksQ0FBQyxDQUFDK1EsSUFBTUEsRUFBRXNqQixLQUFLLEtBQUs7UUFDL0MsSUFBSSxDQUFDcVUsTUFBTTtRQUVYLEtBQUssTUFBTW5JLFFBQVE0SCxNQUFNNUgsSUFBSSxDQUFFO1lBQzdCLElBQUlBLEtBQUtob0IsT0FBTyxLQUFLbXdCLEtBQUtud0IsT0FBTyxJQUFJZ29CLEtBQUs3WSxNQUFNLENBQUN6SSxRQUFRLENBQUMsYUFBYTtnQkFDckV1cEIsa0JBQWtCNWlCLEdBQUcsQ0FBQ3VpQixNQUFNSixHQUFJOzs7OztJQU10QyxJQUFJUyxrQkFBa0J6VixJQUFJLEtBQUssR0FBRyxPQUFPd1Y7SUFFekMsTUFBTUksa0JBQWtCNW1DLG9EQUFLQSxDQUFDd21DO0lBQzlCLEtBQUssTUFBTUosU0FBU1EsZ0JBQWdCUixLQUFLLENBQUU7UUFDekMsSUFBSUEsTUFBTTVxQixJQUFJLEtBQUssV0FBVyxDQUFDaXJCLGtCQUFrQnJ1QixHQUFHLENBQUNndUIsTUFBTUosR0FBSSxHQUFHO1FBRWxFLE1BQU1XLE9BQU9QLE1BQU01SixHQUFHLENBQUN2K0IsSUFBSSxDQUFDLENBQUMrUSxJQUFNQSxFQUFFc2pCLEtBQUssS0FBSztRQUMvQyxJQUFJLENBQUNxVSxNQUFNO1FBRVgsS0FBSyxNQUFNbkksUUFBUTRILE1BQU01SCxJQUFJLENBQUU7WUFDN0IsSUFBSUEsS0FBS2hvQixPQUFPLEtBQUttd0IsS0FBS253QixPQUFPLElBQUksQ0FBQ2dvQixLQUFLN1ksTUFBTSxDQUFDekksUUFBUSxDQUFDLGFBQWE7Z0JBQ3RFc2hCLEtBQUs3WSxNQUFNLElBQUk7Ozs7SUFLckIsT0FBT2toQixvREFBS0EsQ0FBQ0Q7QUFDZjtBQzNDQTs7OztDQUlHLEdBQ0csTUFBT0Usa0JBQWtCaEk7SUFLN0I7O0tBRUcsR0FDSGxrQyxZQUFZLEVBQUVtc0MsY0FBYyxFQUFFLEdBQUdDLGFBQXVDO1FBQ3RFLEtBQUssQ0FBQ3BtQyxTQUFTMlcscUJBQXFCLEVBQUV5dkI7UUFSdkIsS0FBQUMsZ0JBQWdCLEdBQUcsSUFBSWpGO1FBQ3ZCLEtBQUFrRixZQUFZLEdBQUcsSUFBSXBXO1FBb0NwQzs7Ozs7Ozs7U0FRRyxHQUNILEtBQUFxVyxPQUFPLEdBQUcsT0FBTzNZLE9BQXlCdEs7WUFDeEMsSUFBSSxDQUFDLElBQUksQ0FBQzZpQixjQUFjLENBQUNwb0IsSUFBSSxDQUFDLENBQUMwRyxJQUFNQSxFQUFFbkIsU0FBUyxLQUFLQSxZQUFZO2dCQUMvRCxNQUFNLElBQUl2cEIsTUFBTSxDQUFnQywrQkFBQW9HLFNBQVMsQ0FBQ21qQixVQUFVLENBQUU7O1lBR3hFLEtBQUssTUFBTWtlLGlCQUFpQixJQUFJLENBQUMyRSxjQUFjLENBQUU7Z0JBQy9DLElBQUkzRSxjQUFjbGUsU0FBUyxLQUFLQSxXQUFXOzs7Z0JBSTNDLE1BQU1rakIsaUJBQWlCLElBQUksQ0FBQ0MsVUFBVSxDQUFDN1k7Z0JBRXZDLE1BQU02VCxjQUFjLElBQUksQ0FBQzRFLGdCQUFnQixDQUFDMXVCLEdBQUcsQ0FBQzZwQjtnQkFDOUMsSUFBSSxDQUFDQyxhQUFhO29CQUNoQixNQUFNLElBQUksQ0FBQ3J1QixjQUFjLENBQUNvekIsZ0JBQWdCaEY7dUJBQ3JDO29CQUNMLE1BQU1rRixnQkFBZ0JqRixZQUFZNkQsTUFBTSxDQUFDMVgsS0FBSztvQkFDOUMsTUFBTSxJQUFJLENBQUMrWSxpQkFBaUIsQ0FBQ2xGLGFBQWErRSxnQkFBZ0JsakI7b0JBQzFELElBQUksQ0FBQzVTLGlCQUFpQjt3QkFDcEIsSUFBSSxDQUFDazJCLFNBQVMsQ0FBQ0Y7Ozs7UUFJdkI7UUFFQTs7U0FFRyxHQUNLLEtBQUF0ekIsY0FBYyxHQUFHLE9BQ3ZCd2EsT0FDQTRUO1lBRUEsTUFBTXFGLGlCQUFpQm5ELG1CQUFtQjlWLE9BQU80VDtZQUNqRCxNQUFNc0YsZ0JBQWdCanpCLFdBQVcydEIsY0FBYzlQLEtBQUssRUFBRXAzQixRQUNsRG1vQyxlQUFlb0Usa0JBQ2ZBO1lBQ0osTUFBTXBGLGNBQWMsSUFBSSxDQUFDOVIsRUFBRSxDQUFDdmMsY0FBYyxDQUFDd2EsT0FBTztnQkFDaEQzYSxXQUFXO2dCQUNYNnpCO1lBQ0Q7WUFFRCxNQUFNQyxTQUFTdEYsWUFBWTZELE1BQU0sQ0FBQzBCLGFBQWE7WUFDL0NELE9BQU9FLHFCQUFxQixHQUFHO1lBQy9CLE1BQU14RixZQUFZNkQsTUFBTSxDQUFDNEIsYUFBYSxDQUFDSDtZQUV2QyxNQUFNempCLFlBQVlrZSxjQUFjbGUsU0FBUztZQUN6QyxJQUFJLENBQUN0VyxNQUFNLENBQUMsU0FBUyxTQUFTN00sU0FBUyxDQUFDbWpCLFVBQVUsQ0FBYztZQUNoRSxJQUFJLENBQUMraUIsZ0JBQWdCLENBQUNwakIsR0FBRyxDQUFDdWUsZUFBZUM7WUFDekMsSUFBSSxDQUFDdkcsa0JBQWtCLENBQUNqakIsR0FBRyxDQUFDMlYsTUFBTS9TLEVBQUUsRUFBRXlJO1lBRXRDLE1BQU0sSUFBSSxDQUFDNmpCLFNBQVM7UUFDdEI7UUFFQTs7U0FFRyxHQUNLLElBQWlCLENBQUFSLGlCQUFBLEdBQUcsT0FDMUJsRixhQUNBN1QsT0FDQXRLO1lBRUEsTUFBTWdpQixTQUFTN0QsWUFBWTZELE1BQU07WUFDakMsSUFBSUEsT0FBTzFYLEtBQUssRUFBRSxJQUFJLENBQUNzTixrQkFBa0IsQ0FBQzlpQixNQUFNLENBQUNrdEIsT0FBTzFYLEtBQUssQ0FBQy9TLEVBQUU7WUFDaEUsTUFBTXlxQixPQUFPOEIsWUFBWSxDQUFDeFo7WUFDMUIsSUFBSUEsT0FBTyxJQUFJLENBQUNzTixrQkFBa0IsQ0FBQ2pqQixHQUFHLENBQUMyVixNQUFNL1MsRUFBRSxFQUFFeUk7UUFDbkQ7UUFFQTs7U0FFRyxHQUNLLElBQWtCLENBQUErakIsa0JBQUEsR0FBRzs7WUFFM0IsS0FBSyxNQUFNN0YsaUJBQWlCLElBQUksQ0FBQzJFLGNBQWMsQ0FBRTtnQkFDL0MsTUFBTSxFQUFFN2lCLFNBQVMsRUFBRSxHQUFHa2U7Z0JBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUM4RixZQUFZLENBQUNoa0IsWUFBWTtnQkFDbkMsSUFBSSxJQUFJLENBQUMraUIsZ0JBQWdCLENBQUM3dUIsR0FBRyxDQUFDZ3FCLGdCQUFnQjtnQkFFOUMsTUFBTTlWLE9BQU8sSUFBSSxDQUFDMmEsZ0JBQWdCLENBQUNocEMsSUFBSSxDQUNyQyxDQUFDZ1MsSUFDQyxDQUFDLENBQUNBLEVBQUVveUIsV0FBVyxDQUFDNkQsTUFBTSxDQUFDMVgsS0FBSyxJQUM1QnZlLEVBQUVteUIsYUFBYSxDQUFDbGUsU0FBUyxLQUFLQTtnQkFFbEMsSUFBSSxDQUFDb0ksUUFBUSxDQUFDQSxLQUFLK1YsV0FBVyxFQUFFOzs7Z0JBSWhDLE1BQU03VCxRQUFRLElBQUksQ0FBQzZZLFVBQVUsQ0FBQy9hLEtBQUsrVixXQUFXLENBQUM2RCxNQUFNLENBQUMxWCxLQUFNO2dCQUM1RCxNQUFNLElBQUksQ0FBQ3hhLGNBQWMsQ0FBQ3dhLE9BQU80VDs7O1lBSW5DLEtBQUssTUFBTTlWLFFBQVEsSUFBSSxDQUFDMmEsZ0JBQWdCLENBQUMxRSxLQUFLLEdBQUk7Z0JBQ2hELE1BQU0sRUFBRUgsYUFBYSxFQUFFQyxXQUFXLEVBQUUsR0FBRy9WO2dCQUN2QyxNQUFNNmIsbUJBQW1CLElBQUksQ0FBQ3BCLGNBQWMsQ0FBQ3BvQixJQUFJLENBQy9DLENBQUN5cEIsU0FDQ0EsT0FBTzNzQixFQUFFLEtBQUsybUIsY0FBYzNtQixFQUFFLElBQzlCMnNCLE9BQU9sa0IsU0FBUyxLQUFLa2UsY0FBY2xlLFNBQVM7Z0JBRWhELElBQUlpa0Isa0JBQWtCOztnQkFFdEIsSUFBSSxDQUFDWCxTQUFTLENBQUNuRixZQUFZNkQsTUFBTSxDQUFDMVgsS0FBSztnQkFDdkMsTUFBTSxJQUFJLENBQUMrWSxpQkFBaUIsQ0FBQ2xGLGFBQWEsTUFBTUQsY0FBY2xlLFNBQVM7O1FBRTNFO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFna0IsWUFBWSxHQUFHLENBQUNoa0I7WUFDZCxLQUFLLE1BQU1vSSxRQUFRLElBQUksQ0FBQzJhLGdCQUFnQixDQUFDMUUsS0FBSyxHQUFJO2dCQUNoRCxJQUFJcmUsYUFBYW9JLEtBQUs4VixhQUFhLENBQUNsZSxTQUFTLEtBQUtBLFdBQVc7Z0JBRTdELE1BQU1zSyxRQUFRbEMsS0FBSytWLFdBQVcsQ0FBQzZELE1BQU0sQ0FBQzFYLEtBQUs7Z0JBQzNDLElBQUksQ0FBQ0EsT0FBTztnQkFFWixJQUFJQSxNQUFNSSxVQUFVLEtBQUssVUFBVUosTUFBTUUsT0FBTyxFQUFFLE9BQU87O1lBRTNELE9BQU87UUFDVDtRQUVBOztTQUVHLEdBQ0gsS0FBQTJaLFVBQVUsR0FBRyxDQUFDLEdBQUdDO1lBQ2YsS0FBSyxNQUFNaGMsUUFBUSxJQUFJLENBQUMyYSxnQkFBZ0IsQ0FBQzFFLEtBQUssR0FBSTtnQkFDaEQsTUFBTSxFQUFFSCxhQUFhLEVBQUVDLFdBQVcsRUFBRSxHQUFHL1Y7Z0JBQ3ZDLElBQUksQ0FBQ2djLFdBQVdwckIsUUFBUSxDQUFDa2xCLGNBQWNsZSxTQUFTLEdBQUc7Z0JBQ25ELElBQUksQ0FBQ3NqQixTQUFTLENBQUNuRixZQUFZNkQsTUFBTSxDQUFDMVgsS0FBSzs7UUFFM0M7UUFFQTs7U0FFRyxHQUNILElBQWEsQ0FBQStaLGFBQUEsR0FBRztZQUNkLEtBQUssTUFBTSxFQUFFbEcsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDNEUsZ0JBQWdCLENBQUMxRSxLQUFLLEdBQUk7Z0JBQzNELElBQUksQ0FBQ2lGLFNBQVMsQ0FBQ25GLFlBQVk2RCxNQUFNLENBQUMxWCxLQUFLOztZQUV6QyxLQUFLLE1BQU1BLFNBQVMsSUFBSSxDQUFDMFksWUFBWSxDQUFFO2dCQUNyQyxJQUFJLENBQUNNLFNBQVMsQ0FBQ2haOztRQUVuQjtRQUVRLEtBQUF4WixvQkFBb0IsR0FBRyxPQUFPd3pCO1lBQ3BDLE1BQU0sRUFBRXRrQixTQUFTLEVBQUVnZSxNQUFNLEVBQUV1RyxlQUFlLEVBQUUsR0FBR0Q7WUFDL0MsTUFBTUUsZ0JBQWdCeEcsT0FBT3B2QixNQUFNLENBQUMsQ0FBQ1IsSUFBTUEsRUFBRTB5QixNQUFNO1lBRW5ELE1BQU03c0IsTUFBTTtZQUNaLElBQUksQ0FBQ3ZLLE1BQU0sQ0FBQyxRQUFRLENBQUcsRUFBQXVLLElBQThCLDRCQUFFdXdCO1lBRXZELE1BQU1DLGdCQUFnQixJQUFJLENBQUMxQixnQkFBZ0IsQ0FBQ2hwQyxJQUFJLENBQzlDLENBQUNxVyxJQUNDQSxFQUFFOHRCLGFBQWEsQ0FBQzNtQixFQUFFLEtBQUtndEIsbUJBQ3ZCbjBCLEVBQUU4dEIsYUFBYSxDQUFDbGUsU0FBUyxLQUFLQTtZQUVsQyxNQUFNZ2lCLFNBQVN5QyxlQUFldEcsWUFBWTZEO1lBQzFDLElBQUksQ0FBQ0EsUUFBUTtnQkFDWCxPQUFPLElBQUksQ0FBQ3Q0QixNQUFNLENBQUMsUUFBUSxDQUFHLEVBQUF1SyxJQUE0Qjs7WUFHNUQsTUFBTXd2QixTQUFTekIsT0FBTzBCLGFBQWE7WUFDbkMsSUFBSUQsT0FBT2lCLFNBQVMsQ0FBQ2xvQyxNQUFNLEtBQUssR0FBRztnQkFDakMsT0FBTyxJQUFJLENBQUNrTixNQUFNLENBQUMsUUFBUSxDQUFHLEVBQUF1SyxJQUFpQzs7WUFHakUsTUFBTTB3QixhQUFhRixlQUFldkcsY0FBYzlQLE9BQU9wM0I7WUFDdkQsTUFBTTR0QyxlQUFlRCxjQUFjcDBCLFdBQVdvMEI7WUFFOUMsSUFBSUUsVUFBVTtZQUNkLEtBQUssTUFBTUMsV0FBV3JCLE9BQU9pQixTQUFTLENBQUU7Z0JBQ3RDLE1BQU0vRSxRQUFRaUYsZUFFVkosYUFBYSxDQUFDLEVBQUMsR0FFZEEsY0FBY3pxQyxJQUFJLENBQUMsQ0FBQ3FVLElBQU1BLEVBQUVwWCxJQUFJLEtBQUs4dEMsUUFBUXJWLEdBQUcsS0FDaERnVSxDQUFBQSxPQUFPaUIsU0FBUyxDQUFDbG9DLE1BQU0sS0FBSyxJQUFJZ29DLGFBQWEsQ0FBQyxFQUFFLEdBQUdockMsU0FBQTs7Z0JBR3hELE1BQU11ckMsaUJBQWlCLENBQUMsQ0FBQ3BGLE9BQU9tQjtnQkFDaEMsSUFBSWlFLG1CQUFtQkQsUUFBUWhFLE1BQU0sRUFBRTtvQkFDckNnRSxRQUFRaEUsTUFBTSxHQUFHaUU7b0JBQ2pCRixVQUFVOzs7Z0JBSVosSUFBSSxDQUFDbEYsT0FBTztnQkFFWixNQUFNLEVBQ0pJLFlBQVksRUFDWmlCLHFCQUFxQixFQUNyQm5CLFVBQVUsRUFDVmtCLGVBQWUsRUFDaEIsR0FBR3BCO2dCQUNKLElBQ0VxQix5QkFBeUIsS0FDekJBLDBCQUEwQjhELFFBQVE5RCxxQkFBcUIsRUFDdkQ7b0JBQ0E4RCxRQUFROUQscUJBQXFCLEdBQUdBO29CQUNoQzZELFVBQVU7O2dCQUVaLElBQUloRixhQUFhLEtBQUtBLGVBQWVpRixRQUFRakYsVUFBVSxFQUFFO29CQUN2RGlGLFFBQVFqRixVQUFVLEdBQUdBO29CQUNyQmdGLFVBQVU7O2dCQUVaLElBQUk5RSxlQUFlLEtBQUtBLGlCQUFpQitFLFFBQVEvRSxZQUFZLEVBQUU7b0JBQzdEK0UsUUFBUS9FLFlBQVksR0FBR0E7b0JBQ3ZCOEUsVUFBVTs7O2dCQUdaLElBQUk5RCxtQkFBbUJBLG9CQUFvQitELFFBQVEvRCxlQUFlLEVBQUU7O29CQUVsRStELFFBQVEvRCxlQUFlLEdBQUdBO29CQUMxQjhELFVBQVU7OztZQUlkLE1BQU1HLGlCQUFpQnZCLE9BQU9pQixTQUFTLENBQUM5MUIsTUFBTSxDQUFDLENBQUM2RCxJQUFNQSxFQUFFcXVCLE1BQU07WUFDOUQsSUFBSSxDQUFDK0QsU0FBUztnQkFDWixPQUFPLElBQUksQ0FBQ243QixNQUFNLENBQUMsUUFBUSxDQUFHLEVBQUF1SyxJQUFnQixjQUFFK3dCOztZQUdsRCxNQUFNaEQsT0FBTzRCLGFBQWEsQ0FBQ0g7WUFDM0IsSUFBSSxDQUFDLzVCLE1BQU0sQ0FBQyxRQUFRLENBQUcsRUFBQXVLLElBQW1CLGlCQUFFK3dCO1FBQzlDO1FBRUE7O1NBRUcsR0FDSCxJQUFVLENBQUFsSixVQUFBLEdBQUc7WUFDWCxJQUFJLENBQUNweUIsTUFBTSxDQUFDLFNBQVM7WUFDckIsTUFBTXV0QixpQkFBaUIsSUFBSSxDQUFDNUssRUFBRSxDQUFDNEssY0FBYztZQUM3QyxJQUFJLElBQUksQ0FBQ2lFLGVBQWUsSUFBSWpFLG1CQUFtQixvQkFBb0I7Z0JBQ2pFLElBQUksQ0FBQ3Z0QixNQUFNLENBQUMsU0FBUztnQkFDckI7O1lBRUYsTUFBTSxJQUFJLENBQUNtNkIsU0FBUyxDQUFDO2dCQUFFbjdCLFlBQVk7WUFBSTtRQUN6QztRQUVBOzs7O1NBSUcsR0FDSyxLQUFBbTdCLFNBQVMsR0FBRyxPQUFPMXJDO1lBQ3pCLE9BQU9zYixtQkFBbUIsdUJBQXVCLElBQUksQ0FBQzRuQixJQUFJLENBQUUsR0FBRTtnQkFDNUQsTUFBTXRyQixRQUFRLE1BQU0sSUFBSSxDQUFDc2MsRUFBRSxDQUFDcmMsV0FBVyxDQUFDN1g7Z0JBQ3hDLE1BQU1peUIsU0FBUyxJQUFJLENBQUM2YSxrQkFBa0IsQ0FBQ2wxQixNQUFNRSxHQUFHO2dCQUNoRCxJQUFJLENBQUNtYSxPQUFPNXRCLE1BQU0sRUFBRSxNQUFNLElBQUkvRixNQUFNLG9DQUFvQztnQkFFeEUsSUFBSTtvQkFDRixJQUFJLENBQUN5a0MsZUFBZSxHQUFHL2lDLFNBQVN1USxjQUFjO29CQUM5QyxNQUFNLElBQUksQ0FBQzJqQixFQUFFLENBQUM2WSxtQkFBbUIsQ0FBQ24xQjtvQkFFbEMsTUFBTSxFQUFFRSxNQUFNLEVBQUUsRUFBRSxHQUFHRjtvQkFDckIsTUFBTSxFQUFFalosUUFBUSxFQUFFLEdBQUcsTUFBTSxJQUFJLENBQUNzOEIsU0FBUyxDQUFDcHJCLFlBQVksQ0FBQzt3QkFBRWlJO3dCQUFLbWE7b0JBQU07b0JBQ3BFLElBQUl0ekIsU0FBU3lULEtBQUssRUFBRSxNQUFNLElBQUl3ZixpQkFBaUJqekIsU0FBU3lULEtBQUs7b0JBRTdELE1BQU0sRUFBRTBGLEtBQUtxeUIsU0FBUyxFQUFFLEdBQUd4ckM7b0JBQzNCLE1BQU0sSUFBSSxDQUFDdTFCLEVBQUUsQ0FBQzhZLG9CQUFvQixDQUFDO3dCQUFFN3RCLE1BQU07d0JBQVVySCxLQUFLcXlCO29CQUFTO2tCQUNuRSxPQUFPcDRCLEtBQUs7O29CQUVaLElBQUksSUFBSSxDQUFDbWlCLEVBQUUsQ0FBQzRLLGNBQWMsS0FBSyxvQkFBb0I7d0JBQ2pELE1BQU0sSUFBSSxDQUFDNUssRUFBRSxDQUFDNlksbUJBQW1CLENBQUM7NEJBQUU1dEIsTUFBTTt3QkFBVTs7b0JBRXRELE1BQU1wTjt5QkFDRTtvQkFDUixJQUFJLENBQUNneEIsZUFBZSxHQUFHOztnQkFHekIsSUFBSSxDQUFDa0Isd0JBQXdCO1lBQy9CO1FBQ0Y7UUFFQTs7U0FFRyxHQUNILElBQWtCLENBQUFsUCxrQkFBQSxHQUFHO1lBQ25CLE1BQU05QyxTQUE2QixFQUFFO1lBQ3JDLEtBQUssTUFBTSxFQUFFK1QsV0FBVyxFQUFFLElBQUksSUFBSSxDQUFDNEUsZ0JBQWdCLENBQUMxRSxLQUFLLEdBQUk7Z0JBQzNELE1BQU0vVCxRQUFRNlQsWUFBWTZELE1BQU0sQ0FBQzFYLEtBQUs7Z0JBQ3RDLElBQUlBLFNBQVNBLE1BQU1JLFVBQVUsS0FBSyxRQUFRTixPQUFPOXlCLElBQUksQ0FBQ2d6Qjs7WUFFeEQsT0FBT0Y7UUFDVDtRQUVBOzs7U0FHRyxHQUNILEtBQUE2YSxrQkFBa0IsR0FBRyxDQUFDaDFCO1lBQ3BCLE1BQU1tMUIsYUFBMEIsRUFBRTtZQUNsQyxLQUFLLE1BQU1DLFVBQVUsSUFBSSxDQUFDdEMsZ0JBQWdCLENBQUMxRSxLQUFLLEdBQUk7Z0JBQ2xELE1BQU0sRUFBRUYsV0FBVyxFQUFFRCxhQUFhLEVBQUUsR0FBR21IO2dCQUN2QyxNQUFNL2EsUUFBUTZULFlBQVk2RCxNQUFNLENBQUMxWCxLQUFLO2dCQUN0QyxJQUFJLENBQUNBLE9BQU87Z0JBRVo4YSxXQUFXOXRDLElBQUksQ0FBQyxJQUFJLENBQUNndUMsV0FBVyxDQUFDbkgsYUFBYUQsZUFBZWp1Qjs7WUFFL0QsT0FBT20xQjtRQUNUO1FBRUE7Ozs7U0FJRyxHQUNILElBQThCLENBQUFHLDhCQUFBLEdBQUc7WUFDL0IsTUFBTXQxQixNQUFNLElBQUksQ0FBQ29jLEVBQUUsQ0FBQ21aLGdCQUFnQixFQUFFdjFCO1lBQ3RDLE1BQU1tMUIsYUFBMEIsRUFBRTtZQUNsQyxLQUFLLE1BQU1sSCxpQkFBaUIsSUFBSSxDQUFDMkUsY0FBYyxDQUFFO2dCQUMvQyxNQUFNMUUsY0FBYyxJQUFJLENBQUM0RSxnQkFBZ0IsQ0FBQzF1QixHQUFHLENBQUM2cEI7Z0JBQzlDLElBQUksQ0FBQ0MsZUFBZSxDQUFDQSxZQUFZNkQsTUFBTSxDQUFDMVgsS0FBSyxFQUFFO2dCQUUvQzhhLFdBQVc5dEMsSUFBSSxDQUFDLElBQUksQ0FBQ2d1QyxXQUFXLENBQUNuSCxhQUFhRCxlQUFlanVCOztZQUUvRCxPQUFPbTFCO1FBQ1Q7UUFFQTs7U0FFRyxHQUNLLElBQVcsQ0FBQUUsV0FBQSxHQUFHLENBQ3BCbkgsYUFDQUQsZUFDQWp1QjtZQUVBLE1BQU1xYSxRQUFRNlQsWUFBWTZELE1BQU0sQ0FBQzFYLEtBQU07WUFDdkMsTUFBTW1iLGNBQWNuYixNQUFNSSxVQUFVLEtBQUs7WUFDekMsTUFBTXNULFNBQVN5SCxjQUNYckYsbUJBQW1COVYsT0FBTzRULGlCQUMxQixJQUFJLENBQUM2RSxnQkFBZ0IsQ0FBQ3pFLFNBQVMsQ0FBQ0o7WUFDcEMsSUFBSSxDQUFDNkUsZ0JBQWdCLENBQUN2RSxTQUFTLENBQUNOLGVBQWVGO1lBRS9DLE1BQU0wSCxlQUFlMUcsaUJBQWlCZCxjQUFjbGUsU0FBUztZQUM3RCxNQUFNMmxCLFdBQVdELGdCQUFnQnBiLE1BQU1nVyxXQUFXLEdBQUdzRixZQUFZLEtBQUs7WUFDdEUsTUFBTUMsbUJBQW1CLElBQUksQ0FBQzlDLGdCQUFnQixDQUFDcmYsT0FBTyxDQUFDeWE7WUFDdkQsTUFBTTJILGdCQUFnQixJQUFJLENBQUN0dUIsS0FBSyxDQUFDZ0wsUUFBUSxFQUFFdWpCO1lBRTNDLE9BQU87Z0JBQ0x0SixTQUFTblMsTUFBTS9TLEVBQUU7Z0JBQ2pCeW1CLFFBQVEwQixjQUFjMUI7Z0JBQ3RCaGUsV0FBV2tlLGNBQWNsZSxTQUFTO2dCQUNsQzhoQixLQUFLRixXQUFXekQsYUFBYTBILGtCQUFrQjUxQjtnQkFDL0MrMUIsUUFBUUw7Z0JBQ1JNLEtBQUtQLGdCQUFnQixDQUFDLENBQUNJLGVBQWVJO2dCQUN0Q0MsS0FBS1QsZ0JBQWdCLENBQUMsQ0FBQ0ksZUFBZU07Z0JBQ3RDM2IsT0FBTyxDQUFDZ2I7Z0JBQ1JyWCxPQUFPOFAsY0FBYzlQLEtBQUs7Z0JBQzFCbVcsaUJBQWlCckcsY0FBYzNtQixFQUFFOztRQUVyQztRQUVRLEtBQUE0ckIsVUFBVSxHQUFHLENBQUM3WTtZQUNwQixNQUFNK2IsUUFBUS9iLE1BQU0rYixLQUFLO1lBQ3pCLElBQUksQ0FBQ3JELFlBQVksQ0FBQ3JqQixHQUFHLENBQUMwbUI7WUFDdEIsT0FBT0E7UUFDVDtRQUVRLEtBQUEvQyxTQUFTLEdBQUcsQ0FBQ2haO1lBQ25CLElBQUksQ0FBQ0EsT0FBTztZQUNaQSxNQUFNamEsSUFBSTtZQUNWLElBQUksQ0FBQzJ5QixZQUFZLENBQUNsdUIsTUFBTSxDQUFDd1Y7UUFDM0I7UUFqWkUsSUFBSSxDQUFDdVksY0FBYyxHQUFHQTtRQUV0QixJQUFJLENBQUNud0IsRUFBRSxDQUFDLGNBQWMsQ0FBQ2hLO1lBQ3JCLElBQUlBLFdBQVd5SyxRQUFRLEtBQUt6VyxTQUFTMlcscUJBQXFCLEVBQUU7WUFDNUQsSUFBSSxDQUFDd29CLGFBQWE7UUFDcEI7UUFFQSxJQUFJLENBQUNucEIsRUFBRSxDQUFDLHdCQUF3QixPQUFPK047WUFDckMsS0FBSyxNQUFNNmpCLGVBQWU3akIsTUFBTTZsQixZQUFZLENBQUU7Z0JBQzVDLE1BQU0sSUFBSSxDQUFDeDFCLG9CQUFvQixDQUFDd3pCOztRQUVwQztRQUVBLElBQUksQ0FBQzV4QixFQUFFLENBQUMsd0JBQXdCLENBQUMrTjtZQUMvQixJQUFJLENBQUNvaUIsY0FBYyxHQUFHcGlCLE1BQU1vaUIsY0FBYztZQUMxQyxPQUFPLElBQUksQ0FBQ2tCLGtCQUFrQjtRQUNoQzs7SUFHRjs7S0FFRyxHQUNIendCLFVBQU87UUFDTCxLQUFLLENBQUNBO1FBQ04sSUFBSSxDQUFDK3dCLGFBQWE7UUFDbEIsSUFBSSxDQUFDckIsWUFBWSxDQUFDck0sS0FBSzs7QUF5WDFCO0FDbmJEOzs7OztDQUtHLEdBQ0csTUFBTzRQLG1CQUFtQjNMO0lBQzlCOztLQUVHLEdBQ0hsa0MsWUFBWXMzQixJQUE0QjtRQUN0QyxLQUFLLENBQUN0eEIsU0FBUzBXLFVBQVUsRUFBRTRhO1FBb0I3Qjs7U0FFRyxHQUNILElBQVUsQ0FBQThOLFVBQUEsR0FBRztZQUNYLElBQUksQ0FBQ3B5QixNQUFNLENBQUMsU0FBUztZQUNyQixJQUFJLElBQUksQ0FBQzJpQixFQUFFLENBQUM0SyxjQUFjLEtBQUsscUJBQXFCO2dCQUNsRCxJQUFJLENBQUN2dEIsTUFBTSxDQUFDLFNBQVM7Z0JBQ3JCOztZQUVGLElBQUksSUFBSSxDQUFDMmlCLEVBQUUsQ0FBQytLLGVBQWUsS0FBSyxPQUFPO2dCQUNyQyxJQUFJLENBQUMxdEIsTUFBTSxDQUNULFNBQ0EsMERBQTBEO2dCQUU1RDs7WUFFRixNQUFNODhCLDBCQUEwQixJQUFJLENBQUN0TCxlQUFlO1lBQ3BELElBQUksQ0FBQ0EsZUFBZSxHQUFHO1lBQ3ZCLElBQUk7Z0JBQ0YsTUFBTSxFQUFFcGtDLFFBQVEsRUFBRSxHQUFHLE1BQU0sSUFBSSxDQUFDczhCLFNBQVMsQ0FBQzFxQixVQUFVLENBQUM7b0JBQ25EeUssVUFBVXpXLFNBQVMwVyxVQUFVO2dCQUM5QjtnQkFDRCxJQUFJdGMsU0FBU3lULEtBQUssRUFBRSxNQUFNLElBQUl3ZixpQkFBaUJqekIsU0FBU3lULEtBQUs7Y0FDN0QsT0FBT2tJLEdBQUc7O2dCQUVWLElBQUksQ0FBQ3lvQixlQUFlLEdBQUdzTDtnQkFDdkIsTUFBTS96Qjs7UUFFVjtRQUVRLEtBQUFnMEIsYUFBYSxHQUFHLENBQUNoMEI7WUFDdkIsTUFBTSxDQUFDaTBCLGNBQWMsR0FBR2owQixFQUFFd2IsT0FBTzs7WUFFakMsTUFBTSxDQUFDd08sU0FBU2tLLGFBQWEsR0FBR0QsY0FBY252QixFQUFFLENBQUN1WixLQUFLLENBQUM7WUFDdkQsTUFBTThWLHNCQUFzQixJQUFJLENBQUNwdkIsS0FBSyxDQUFDNEcsWUFBWSxDQUFDcmtCLElBQUksQ0FDdEQsQ0FBQytlLElBQU1BLEVBQUV1SSxpQkFBaUIsS0FBS29iO1lBRWpDLElBQUksQ0FBQy95QixNQUFNLENBQ1QsU0FDQSxDQUF5Qix3QkFBQWk5QixhQUFrQyxxQkFBQUMscUJBQXFCNWhCLE9BQU0sQ0FBRSxFQUN4RnZTLEVBQUU2WCxLQUFLLENBQUMvUyxFQUFFLEVBQ1Y5RSxFQUFFNlgsS0FBSztZQUdULE1BQU11YyxpQkFBaUIsR0FBR0QscUJBQXFCNWhCLE9BQU0sR0FBSTJoQixhQUFZLEdBQUlsSyxRQUFPLENBQUU7WUFDbEZocUIsRUFBRTZYLEtBQUssQ0FBQ3hkLGdCQUFnQixDQUFDLFFBQVE7Z0JBQy9CLElBQUksQ0FBQ3BELE1BQU0sQ0FBQyxRQUFRLENBQTJCLDBCQUFBbTlCLGVBQWdCO1lBQ2pFO1lBRUFwMEIsRUFBRTZYLEtBQUssQ0FBQ3hkLGdCQUFnQixDQUFDLFVBQVU7Z0JBQ2pDLElBQUksQ0FBQ3BELE1BQU0sQ0FBQyxRQUFRLENBQTZCLDRCQUFBbTlCLGVBQWdCO1lBQ25FO1lBRUFwMEIsRUFBRTZYLEtBQUssQ0FBQ3hkLGdCQUFnQixDQUFDLFNBQVM7Z0JBQ2hDLElBQUksQ0FBQ3BELE1BQU0sQ0FBQyxRQUFRLENBQTJCLDBCQUFBbTlCLGVBQWdCO2dCQUMvRCxJQUFJLENBQUNydkIsS0FBSyxDQUFDMEosbUJBQW1CLENBQUN3bEIsY0FBY252QixFQUFFO1lBQ2pEO1lBRUEsTUFBTXlJLFlBQVkrZSxZQUFZNEg7WUFDOUIsSUFBSSxDQUFDM21CLFdBQVc7Z0JBQ2QsT0FBTyxJQUFJLENBQUN0VyxNQUFNLENBQUMsU0FBUyxDQUF1QixzQkFBQWk5QixhQUFjOztZQUduRSxJQUFJLENBQUMvTyxrQkFBa0IsQ0FBQ2pqQixHQUFHLENBQUNsQyxFQUFFNlgsS0FBSyxDQUFDL1MsRUFBRSxFQUFFeUk7WUFFeEMsSUFBSSxDQUFDNG1CLHFCQUFxQjtnQkFDeEIsSUFBSSxDQUFDbDlCLE1BQU0sQ0FDVCxRQUNBLENBQXNELHFEQUFBK3lCLFFBQVMsR0FDL0RocUI7Z0JBRUYsSUFBSSxDQUFDK0UsS0FBSyxDQUFDd0oscUJBQXFCLENBQUM7b0JBQy9CekosSUFBSW12QixjQUFjbnZCLEVBQUU7b0JBQ3BCOEosbUJBQW1Cb2I7b0JBQ25CblMsT0FBT29jO29CQUNQMW1CO2dCQUNEO2dCQUNEOztZQUdGLE1BQU04bUIsaUJBQWlCbEksZ0NBQWdDNWU7WUFDdkQsSUFBSSxDQUFDOG1CLGdCQUFnQjtnQkFDbkIsSUFBSSxDQUFDcDlCLE1BQU0sQ0FBQyxTQUFTLENBQXVCLHNCQUFBaTlCLGFBQWM7Z0JBQzFEOzs7OztZQU1GLE1BQU1JLGlCQUFpQkgsbUJBQW1CLENBQUNFLGVBQWU7O1lBRzFELElBQUksQ0FBQ3R2QixLQUFLLENBQUM4SCxpQkFBaUIsQ0FBQ3NuQixvQkFBb0IzbkIsU0FBUyxFQUFFO2dCQUMxRCxDQUFDNm5CLGVBQWMsRUFBR0o7WUFDbkI7O1lBR0QsSUFBSUssZ0JBQWdCO2dCQUNsQixJQUFJLENBQUNyOUIsTUFBTSxDQUNULFFBQ0EsMENBQTBDK0ksRUFBRTZYLEtBQUssQ0FBQ3p5QixJQUFJLENBQXVCLHNCQUFBK3VDLG9CQUFvQjVoQixNQUFNLEVBQUU7Z0JBRTNHK2hCLGVBQWUxYyxTQUFTLEdBQUdsYSxPQUFPLENBQUMsQ0FBQ0M7b0JBQ2xDQSxFQUFFQyxJQUFJO29CQUNOMDJCLGVBQWVDLFdBQVcsQ0FBQzUyQjtnQkFDN0I7O1FBRUo7UUFFUSxLQUFBeXpCLFNBQVMsR0FBRyxPQUFPbnpCO1lBQ3pCLE1BQU0sSUFBSSxDQUFDMmIsRUFBRSxDQUFDOFksb0JBQW9CLENBQUM7Z0JBQ2pDN3RCLE1BQU07Z0JBQ05ySCxLQUFLUyxnQkFBZ0JULEdBQUc7WUFDekI7WUFFRCxJQUFJLENBQUNtc0Isd0JBQXdCO1lBRTdCLE1BQU02SyxTQUFTLE1BQU0sSUFBSSxDQUFDNWEsRUFBRSxDQUFDNmEsWUFBWTtZQUN6QyxJQUFJRCxPQUFPaDNCLEdBQUcsRUFBRTtnQkFDZGczQixPQUFPaDNCLEdBQUcsR0FBR215QixhQUFhMXhCLGdCQUFnQlQsR0FBRyxFQUFFZzNCLE9BQU9oM0IsR0FBRzs7WUFFM0QsTUFBTSxJQUFJLENBQUNvYyxFQUFFLENBQUM2WSxtQkFBbUIsQ0FBQytCO1lBRWxDLE1BQU0sSUFBSSxDQUFDN1QsU0FBUyxDQUFDOXFCLFVBQVUsQ0FBQztnQkFDOUI2SyxVQUFVelcsU0FBUzBXLFVBQVU7Z0JBQzdCbkQsS0FBS2czQixPQUFPaDNCLEdBQUcsSUFBSTtZQUNwQjtZQUVELElBQUksQ0FBQ2lyQixlQUFlLEdBQUc7UUFDekI7UUFwSkUsSUFBSSxDQUFDN08sRUFBRSxDQUFDdmYsZ0JBQWdCLENBQUMsU0FBUyxJQUFJLENBQUMyNUIsYUFBYTtRQUVwRCxJQUFJLENBQUMvekIsRUFBRSxDQUFDLG1CQUFtQixPQUFPaEM7WUFDaEMsT0FBTyxJQUFJLENBQUNtekIsU0FBUyxDQUFDbnpCLGlCQUFpQmtILEtBQUssQ0FBQyxDQUFDMU47Z0JBQzVDLElBQUksQ0FBQ1IsTUFBTSxDQUFDLFNBQVMsQ0FBcUIsc0JBQUVRO1lBQzlDO1FBQ0Y7O0lBR0Y7Ozs7S0FJRyxHQUNIMnpCLHNCQUFtQjtRQUNqQixLQUFLLENBQUNBO1FBQ04sSUFBSSxDQUFDeFIsRUFBRSxDQUFDcmYsbUJBQW1CLENBQUMsU0FBUyxJQUFJLENBQUN5NUIsYUFBYTs7QUFxSTFEO0FDdktNLE1BQU1VLCtCQUErQixDQUFDblo7SUFLM0MsTUFBTSxFQUFFb1osUUFBUSxFQUFFQyxTQUFTLEVBQUVsMUIsTUFBTSxFQUFFLEdBQUc2YjtJQUN4QyxNQUFNdGtCLFNBQVM4RSxVQUFVO1FBQUM7UUFBZTJEO0tBQU87SUFDaER6SSxPQUFPLFNBQVMsa0NBQWtDMDlCO0lBQ2xELE1BQU1FLEtBQUssSUFBSUMsVUFBVUg7SUFDekJFLEdBQUdFLFVBQVUsR0FBRyxlQUFjO0lBRTlCRixHQUFHeDZCLGdCQUFnQixDQUFDLFNBQVMsQ0FBQzJGO1FBQzVCL0ksT0FBTyxTQUFTLDhCQUE4QitJO0lBQ2hEO0lBRUE2MEIsR0FBR3g2QixnQkFBZ0IsQ0FBQyxTQUFTLENBQUMyRjtRQUM1Qi9JLE9BQU8sUUFBUSxrQ0FBa0MrSTtJQUNuRDtJQUVBNjBCLEdBQUd4NkIsZ0JBQWdCLENBQUMsUUFBUSxDQUFDMkY7UUFDM0IvSSxPQUFPLFFBQVEsZ0NBQWdDK0k7SUFDakQ7SUFFQTYwQixHQUFHeDZCLGdCQUFnQixDQUFDLFdBQVcsQ0FBQzJGO1FBQzlCLElBQUk7WUFDRixNQUFNOWIsVUFDSjhiLEVBQUVtaUIsSUFBSSxZQUFZNlMsY0FDZDVpQyxTQUFTNmlDLFVBQVUsQ0FBQyxJQUFJaDdCLFdBQVcrRixFQUFFbWlCLElBQUksS0FDekMvdkIsU0FBUzhpQyxjQUFjLENBQUNsMUIsRUFBRW1pQixJQUFJLENBQUN0NUIsUUFBUTtZQUU3QytyQyxVQUFVMXdDO1VBQ1YsT0FBT3VULEtBQUs7WUFDWlIsT0FDRSxTQUNBLHFFQUNBO2dCQUFFK1csT0FBT2hPO2dCQUFHbEksT0FBT0w7WUFBRzs7SUFHNUI7SUFDQSxPQUFPbzlCO0FBQ1Q7QUMxQ08sTUFBTU0scUJBQXFCLENBQUNubUI7SUFDakMsT0FBTztRQUNMb21CLGNBQWM7UUFDZEMsWUFBWXJtQixPQUFPOW1CLEdBQUcsQ0FBQyxDQUFDb3RDLE1BQVM7Z0JBQy9CQyxNQUFNRCxJQUFJQyxJQUFJO2dCQUNkQyxVQUFVRixJQUFJRSxRQUFRO2dCQUN0QkMsWUFBWUgsSUFBSUksUUFBUTtZQUN6Qjs7QUFFTDtBQ0lBOzs7Ozs7Ozs7Ozs7Q0FZRyxHQUNHLFNBQVVDLGdCQUFtQjl6QixPQUFtQjtJQUNwRCxJQUFJK3pCLFlBQVk7SUFFaEIsTUFBTUMsY0FBdUNoMEIsUUFDMUNoSyxJQUFJLENBQ0gsQ0FBQ3dFLFNBQVk7WUFBRWpZLFFBQVE7WUFBcUJpWTtRQUFNLElBQ2xELENBQUN2RSxRQUFXO1lBQUUxVCxRQUFRO1lBQXFCMFQ7UUFBSyxJQUVqRHNLLE9BQU8sQ0FBQyxJQUFPd3pCLFlBQVk7SUFFOUIsTUFBTUUsZ0JBQWdCLElBQ3BCRCxZQUFZaCtCLElBQUksQ0FBQyxDQUFDaytCO1lBQ2hCLElBQUlBLFlBQVkzeEMsTUFBTSxLQUFLLFlBQVksTUFBTTJ4QyxZQUFZaitCLEtBQUs7WUFDOUQsT0FBT2krQixZQUFZMTVCLE1BQU07UUFDM0I7SUFFRnk1QixjQUFjRSxZQUFZLEdBQUcsSUFBTUo7SUFDbkMsT0FBT0U7QUFDVDtBQVVBOzs7OztDQUtHLEdBQ0ksTUFBTUcsdUJBQXVCO0lBQ2xDLElBQUl6ekI7SUFDSixJQUFJMHpCO0lBQ0osTUFBTXIwQixVQUFVLElBQUl6SixRQUFXLENBQUMrOUIsVUFBVUM7UUFDeEM1ekIsVUFBVTJ6QjtRQUNWRCxTQUFTRTtJQUNYO0lBRUEsSUFBSUMsYUFBYTtJQUNqQixJQUFJQyxhQUFhO0lBRWpCLE1BQU1DLFdBQVcsQ0FBQzN4QztRQUNoQnl4QyxhQUFhO1FBQ2I3ekIsUUFBUTVkO0lBQ1Y7SUFFQSxNQUFNNHhDLFdBQVcsQ0FBQ2xOO1FBQ2hCZ04sYUFBYTtRQUNiSixPQUFPNU07SUFDVDtJQUVBLE9BQU87UUFDTHpuQjtRQUNBVyxTQUFTK3pCO1FBQ1RMLFFBQVFNO1FBQ1JILFlBQVksSUFBTUE7UUFDbEJDLFlBQVksSUFBTUE7O0FBRXRCO0FDMUZBLE1BQU1HLGdCQUFnQjV5QixPQUFPO0FBRTdCOztDQUVHLEdBQ0csU0FBVTZ5QixLQUFRQyxPQUFnQjtJQUN0QyxJQUFJL3hDLFFBQWtDNnhDO0lBQ3RDLE9BQU87UUFDTCxJQUFJN3hDLFVBQVU2eEMsZUFBZTtZQUMzQjd4QyxRQUFRK3hDOztRQUdWLE9BQU8veEM7SUFDVDtBQUNGO0FDZEE7QUFDQTtBQUNPLE1BQU1neUMsY0FBYztJQUN6QkMsS0FBSzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0F1Qkw7O0FDckJGLE1BQU1DO0lBQU43eUMsYUFBQTtRQUNVLElBQWMsQ0FBQTh5QyxjQUFBLEdBQUc7UUFDakIsS0FBQUMsU0FBUyxHQUFHLElBQUkxMUI7UUFFaEIsSUFBUSxDQUFBMjFCLFFBQUEsR0FBRzs7SUFFbkJDLE1BQU0sRUFBRUMsaUJBQWlCLElBQUksS0FBbUMsRUFBRTtRQUNoRSxJQUFJLENBQUNBLGdCQUFnQjtZQUNuQixJQUFJLENBQUNGLFFBQVEsR0FBRztZQUNoQjs7UUFHRixJQUFJO1lBQ0YsTUFBTUcsU0FBU1IsWUFBWUMsR0FBRztZQUM5QixNQUFNUSxPQUFPLElBQUlDLEtBQUs7Z0JBQUNGO2FBQU8sRUFBRTtnQkFDOUJ2eUIsTUFBTTtZQUNQO1lBQ0QsTUFBTTB5QixTQUFTQyxJQUFJQyxlQUFlLENBQUNKO1lBQ25DLElBQUksQ0FBQ0ssTUFBTSxHQUFHLElBQUlDLE9BQU9KLFFBQVE7Z0JBQUVoekMsTUFBTTtZQUFrQjtZQUMzRCxJQUFJLENBQUNtekMsTUFBTSxDQUFDcjlCLGdCQUFnQixDQUFDLFdBQVcsQ0FBQzJUO2dCQUN2QyxNQUFNLEVBQUVuSixJQUFJLEVBQUVDLEVBQUUsRUFBRSxHQUFHa0osTUFBTW1VLElBQXdCO2dCQUNuRCxJQUFJdGQsU0FBUyxRQUFRO29CQUNuQixJQUFJLENBQUNteUIsU0FBUyxDQUFDcDFCLEdBQUcsQ0FBQ2tEOztZQUV2QjtVQUNBLE9BQU9yTixLQUFVO1lBQ2pCc0UsVUFBVTtnQkFBQzthQUFlLEVBQUUsU0FBU3RFO1lBQ3JDLElBQUksQ0FBQ3cvQixRQUFRLEdBQUc7OztJQUlwQlcsVUFBTztRQUNMLElBQUksQ0FBQ1osU0FBUyxDQUFDOVMsS0FBSztRQUNwQixJQUFJLENBQUN3VCxNQUFNLEVBQUVHO1FBQ2IsSUFBSSxDQUFDSCxNQUFNLEdBQUczd0M7UUFDZCxJQUFJLENBQUNrd0MsUUFBUSxHQUFHOztJQUdsQixJQUFJYSxRQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUNiLFFBQVEsSUFBSTc2QixRQUFRLElBQUksQ0FBQ3M3QixNQUFNOztJQUc3Q3pULFlBQVk4VCxRQUFvQixFQUFFdmhDLE9BQWU7UUFDL0MsT0FBTyxJQUFJLENBQUN3aEMsUUFBUSxDQUFDLGVBQWVELFVBQVV2aEM7O0lBR2hEdXRCLGNBQWNqZixFQUFXO1FBQ3ZCLElBQUksQ0FBQ216QixVQUFVLENBQUMsaUJBQWlCbnpCOztJQUduQ3hNLFdBQVd5L0IsUUFBb0IsRUFBRXZoQyxPQUFlO1FBQzlDLE9BQU8sSUFBSSxDQUFDd2hDLFFBQVEsQ0FBQyxjQUFjRCxVQUFVdmhDOztJQUcvQ3VVLGFBQWFqRyxFQUFXO1FBQ3RCLElBQUksQ0FBQ216QixVQUFVLENBQUMsZ0JBQWdCbnpCOztJQUcxQmt6QixTQUNObnpCLElBQWtDLEVBQ2xDa3pCLFFBQW9CLEVBQ3BCdmhDLE9BQWU7UUFFZixJQUFJLENBQUMsSUFBSSxDQUFDc2hDLEtBQUssRUFBRTtZQUNmLElBQUksQ0FBQ1osS0FBSzs7UUFHWixJQUFJLElBQUksQ0FBQ0QsUUFBUSxFQUFFO1lBQ2pCLE9BQU8sQ0FBQ3B5QixTQUFTLGVBQWV2TSxhQUFhMnJCLFdBQUEsRUFDM0M4VCxVQUNBdmhDOztRQUlKLE1BQU1zTyxLQUFLLElBQUksQ0FBQ296QixVQUFVO1FBRTFCLElBQUksQ0FBQ2xCLFNBQVMsQ0FBQzkwQixHQUFHLENBQUM0QyxJQUFJO1lBQ3JCaXpCOzs7WUFJQSxJQUFJbHpCLFNBQVMsY0FBYztnQkFDekIsSUFBSSxDQUFDbXlCLFNBQVMsQ0FBQzMwQixNQUFNLENBQUN5Qzs7UUFFMUI7UUFFQSxJQUFJLENBQUNxekIsV0FBVyxDQUFDO1lBQUV0ekI7WUFBTUM7WUFBSXRPO1FBQU87UUFDcEMsT0FBT3NPOztJQUdEbXpCLFdBQVdwekIsSUFBc0MsRUFBRUMsRUFBVztRQUNwRSxJQUFJLENBQUNBLElBQUk7WUFDUDs7UUFHRixJQUFJLENBQUMsSUFBSSxDQUFDZ3pCLEtBQUssRUFBRTtZQUNmLElBQUksQ0FBQ1osS0FBSzs7UUFHWixJQUFJLElBQUksQ0FBQ0QsUUFBUSxFQUFFO1lBQ2hCcHlCLENBQUFBLFNBQVMsaUJBQWlCa0csZUFBZWdaLGFBQUEsRUFBZWpmO1lBQ3pEOztRQUdGLElBQUksQ0FBQ2t5QixTQUFTLENBQUMzMEIsTUFBTSxDQUFDeUM7UUFDdEIsSUFBSSxDQUFDcXpCLFdBQVcsQ0FBQztZQUFFdHpCO1lBQU1DO1FBQUU7O0lBR3JCb3pCLGFBQVU7UUFDaEIsT0FBTyxJQUFJLENBQUNuQixjQUFjOztJQUdwQm9CLFlBQVlqMEMsT0FBMkI7UUFDN0MsSUFBSSxDQUFDLElBQUksQ0FBQ3d6QyxNQUFNLEVBQUU7WUFDaEIsTUFBTSxJQUFJMXpDLE1BQU07O1FBR2xCLElBQUksQ0FBQzB6QyxNQUFNLENBQUNVLFdBQVcsQ0FBQ2wwQzs7QUFFM0I7QUFFRCxJQUFJbTBDLHFCQUFxQjtBQUVsQixNQUFNQyxvQkFBb0I7SUFDL0JELHFCQUFxQjtBQUN2QjtBQUVPLE1BQU1FLFlBQVk3QixLQUFLO0lBQzVCLE1BQU04QixXQUFXLElBQUkxQjtJQUNyQjBCLFNBQVN0QixLQUFLLENBQUM7UUFBRUMsZ0JBQWdCa0I7SUFBa0I7SUFDbkQsT0FBT0c7QUFDVDtBQ25EQTs7Q0FFRyxTQUNVQztJQWtHWDs7S0FFRyxHQUNIeDBDLFlBQVksRUFDVm9rQyxVQUFVLEVBQ1ZxUSxXQUFXLEVBQ1hsc0IsU0FBUyxFQUNUOU0sTUFBTSxFQUNOaTVCLHNCQUFzQixJQUFJLEVBQzFCQyxhQUFhLEVBQ2JDLFlBQVksRUFDWnRRLGFBQWEsRUFDYztRQTdHN0I7OztTQUdHLEdBQ00sS0FBQXFCLGdCQUFnQixHQUFHLElBQUl4cEI7UUFzQmhDOzs7U0FHRyxHQUNILElBQVMsQ0FBQTA0QixTQUFBLEdBQUc7UUFFWjs7Ozs7O1NBTUcsR0FDSCxJQUFjLENBQUFDLGNBQUEsR0FBRztRQU1BLEtBQUFDLGdCQUFnQixHQUFHLElBQUk7UUFDdkIsS0FBQUMsb0JBQW9CLEdBQUcsS0FBSztRQVk3Qzs7O1NBR0csR0FDSyxJQUFnQixDQUFBQyxnQkFBQSxHQUFHakQ7UUFRM0I7O1NBRUcsR0FDYyxLQUFBa0QsZUFBZSxHQUFHLElBQUk1MkI7UUFpRi9CLElBQWUsQ0FBQTYyQixlQUFBLEdBQUc7WUFDeEIsTUFBTUMsZ0JBQXlEO2dCQUM3RHI2QixXQUFXO2dCQUNYWCxzQkFBc0I7Z0JBQ3RCYyxzQkFBc0I7Z0JBQ3RCaEIsMEJBQTBCO2dCQUMxQnJHLE9BQU87Z0JBQ1BnSCxRQUFROztZQUVWLElBQUksQ0FBQ3c2QixRQUFRLEdBQUc1RSw2QkFBNkI7Z0JBQzNDaDFCLFFBQVEsSUFBSSxDQUFDQSxNQUFNO2dCQUNuQmkxQixVQUFVLEdBQUcsSUFBSSxDQUFDK0QsV0FBVyxDQUFDYSxNQUFNLENBQUNDLFdBQVcsUUFBUSxJQUFJLENBQUM5NUIsTUFBTSxDQUFFO2dCQUNyRWsxQixXQUFXLENBQUMxd0M7b0JBQ1YsSUFBSSxDQUFDdTFDLG9CQUFvQixHQUFHLElBQUlseEM7b0JBQ2hDLElBQUksQ0FBQ214Qyx1QkFBdUI7b0JBQzVCLE1BQU0vNUIsWUFBWXpiLFFBQVEwYixZQUFZLENBQUM5WSxTQUFTO29CQUNoRCxJQUFJdXlDLGFBQWEsQ0FBQzE1QixVQUFVLEVBQUU7d0JBQzVCLElBQUksQ0FBQ21oQixNQUFNLEVBQUV2cEIsTUFBTW9JLFdBQVd6Yjs7b0JBRWhDLElBQUksQ0FBQ21rQyxVQUFVLENBQUM1b0IsUUFBUSxDQUFDdmIsU0FBUyxJQUFJLENBQUN3YixNQUFNOztZQUVoRDtZQUVELElBQUksQ0FBQ2k2QixXQUFXLEdBQUdoRSxnQkFDakJ2OUIsUUFBUXdoQyxJQUFJLENBQVk7Z0JBQ3RCLElBQUl4aEMsUUFBUSxDQUFDb0ssU0FBUzB6QjtvQkFDcEIsTUFBTTJELFNBQVM7d0JBQ2IsSUFBSSxDQUFDUCxRQUFRLENBQUMvK0IsbUJBQW1CLENBQUMsUUFBUXMvQjt3QkFDMUNyM0IsUUFBUSxJQUFJLENBQUM4MkIsUUFBUTtvQkFDdkI7b0JBRUEsSUFBSSxDQUFDQSxRQUFRLENBQUNqL0IsZ0JBQWdCLENBQUMsUUFBUXcvQjtvQkFFdkMsSUFBSSxDQUFDUCxRQUFRLENBQUNqL0IsZ0JBQWdCLENBQUMsU0FBUyxDQUFDMkY7d0JBQ3ZDLElBQUksQ0FBQzg1QixvQkFBb0IsQ0FBQzk1Qjs7Ozt3QkFJMUJrMkIsT0FDRSxJQUFJbHlDLE1BQU0sQ0FBa0Q7b0JBRWhFO2dCQUNGO2dCQUVBLElBQUlvVSxRQUFRLENBQUNvSyxTQUFTMHpCO29CQUNwQjU5QixXQUNFLElBQU00OUIsT0FBTyxJQUFJbHlDLE1BQU0saUNBQ3ZCLElBQUksQ0FBQzIwQyxtQkFBbUI7Z0JBRTVCO2FBQ0Q7UUFFTDtRQUVRLElBQWdCLENBQUFvQixnQkFBQSxHQUFHO1lBQ3pCLElBQUksQ0FBQ1QsUUFBUSxDQUFDLytCLG1CQUFtQixDQUFDLFNBQVMsSUFBSSxDQUFDdS9CLG9CQUFvQjtRQUN0RTtRQWFRLEtBQUFBLG9CQUFvQixHQUFHLENBQUM5NUI7WUFDOUIsSUFBSSxDQUFDczVCLFFBQVEsQ0FBQy8rQixtQkFBbUIsQ0FBQyxTQUFTLElBQUksQ0FBQ3UvQixvQkFBb0I7WUFDcEV2QixZQUFZeFUsYUFBYSxDQUFDLElBQUksQ0FBQ2lXLGlCQUFpQjtZQUNoRGp2QixhQUFhLElBQUksQ0FBQ2t2QixzQkFBc0I7WUFDeEMsSUFBSSxDQUFDckIsYUFBYSxHQUFHLEdBQUc1NEIsRUFBRTdiLElBQUksSUFBSTZiLEVBQUVzcEIsTUFBTSxFQUFFO1FBQzlDO1FBRUEsSUFBSyxDQUFBenJCLEtBQUEsR0FBRyxDQUFDMVosT0FBZXMwQyxnQkFBZ0J5QixjQUFjLEVBQUU1UTtZQUN0RCxJQUFJLENBQUN5UCxjQUFjLEdBQUc1MEMsU0FBU3MwQyxnQkFBZ0IwQiwwQkFBMEI7WUFDekUsSUFBSSxJQUFJLENBQUNiLFFBQVEsQ0FBQ3JoQixVQUFVLEtBQUs2YyxVQUFVc0YsSUFBSSxFQUFFO2dCQUMvQyxJQUFJLENBQUNuakMsTUFBTSxDQUFDLFNBQVMsQ0FBOEIsNkJBQUE5UyxLQUFVLEtBQUFtbEMsT0FBUTtnQkFDckUsSUFBSSxDQUFDZ1EsUUFBUSxDQUFDejdCLEtBQUssQ0FBQzFaLE1BQU0sQ0FBYyxhQUFBbWxDLE9BQVE7Z0JBQ2hELElBQUksQ0FBQ3lRLGdCQUFnQjs7WUFFdkIsSUFBSSxDQUFDbDVCLE9BQU87UUFDZDtRQUVRLElBQU8sQ0FBQUEsT0FBQSxHQUFHO1lBQ2hCLElBQUksQ0FBQzVKLE1BQU0sQ0FBQyxTQUFTO1lBQ3JCLElBQUksQ0FBQzR5QixxQkFBcUI7WUFDMUIsSUFBSSxDQUFDd1EseUJBQXlCO1lBQzlCdFcsY0FBYyxJQUFJLENBQUNpVyxpQkFBaUI7WUFDcENqdkIsYUFBYSxJQUFJLENBQUNrdkIsc0JBQXNCO1lBQ3hDbHZCLGFBQWEsSUFBSSxDQUFDdXZCLGtCQUFrQjtZQUNwQyxJQUFJLENBQUNuQixlQUFlLENBQUMxMkIsS0FBSztZQUMxQixJQUFJLENBQUM4M0IsYUFBYSxFQUFFLzNCO1lBQ3BCLElBQUksQ0FBQ29uQixnQkFBZ0IsQ0FBQy9vQixPQUFPO1FBQy9CO1FBRUEsSUFBUSxDQUFBa2lCLFFBQUEsR0FBRztZQUNULE9BQU8sSUFBSSxDQUFDakMsTUFBTSxFQUFFOEI7UUFDdEI7UUFFQSxLQUFBNFgsYUFBYSxHQUFHLE9BQU9sUjtZQUNyQixNQUFNLElBQUksQ0FBQ21SLFFBQVE7WUFDbkIsSUFBSTtnQkFDRixJQUFJLENBQUMzQixTQUFTLEdBQUc7Z0JBQ2pCLE1BQU0sSUFBSSxDQUFDNEIsV0FBVyxDQUFDcFI7Y0FDdkIsT0FBTzd4QixLQUFLO2dCQUNaLElBQUksQ0FBQ1IsTUFBTSxDQUFDLFNBQVMsMENBQTBDUTs7WUFHakUsSUFBSSxDQUFDb0csS0FBSyxDQUFDNDZCLGdCQUFnQnlCLGNBQWMsRUFBRTVRLE9BQU85L0IsU0FBUyxDQUFDLEdBQUc7UUFDakU7UUFFQSxLQUFBdU0sbUJBQW1CLEdBQUcsT0FBTzRoQjtZQUMzQixNQUFNLElBQUksQ0FBQzhpQixRQUFRO1lBQ25CLE9BQU9uK0IsVUFDTCxJQUFNLElBQUksQ0FBQ0MsR0FBRyxDQUFDeEcsbUJBQW1CLENBQUM7b0JBQUV5VyxXQUFXLElBQUksQ0FBQ0EsU0FBUztvQkFBRW1MO2dCQUFNLElBQ3RFLElBQUksQ0FBQ3doQixlQUFlLENBQUMzOEIsTUFBTTtRQUUvQjtRQUVBLEtBQUFqSCxZQUFZLEdBQUcsT0FBTzRzQjtZQUNwQixNQUFNLElBQUksQ0FBQ3NZLFFBQVE7WUFDbkIsT0FBT24rQixVQUNMLElBQU0sSUFBSSxDQUFDQyxHQUFHLENBQUNoSCxZQUFZLENBQUM7b0JBQUUsR0FBRzRzQixJQUFJO29CQUFFM1YsV0FBVyxJQUFJLENBQUNBLFNBQVM7Z0JBQUEsSUFDaEUsSUFBSSxDQUFDMnNCLGVBQWUsQ0FBQzM4QixNQUFNO1FBRS9CO1FBRUEsS0FBQTNHLFVBQVUsR0FBRyxPQUFPc3NCO1lBQ2xCLE1BQU0sSUFBSSxDQUFDc1ksUUFBUTtZQUNuQixPQUFPbitCLFVBQ0wsSUFBTSxJQUFJLENBQUNDLEdBQUcsQ0FBQzFHLFVBQVUsQ0FBQztvQkFBRSxHQUFHc3NCLElBQUk7b0JBQUUzVixXQUFXLElBQUksQ0FBQ0EsU0FBUztnQkFBQSxJQUM5RCxJQUFJLENBQUMyc0IsZUFBZSxDQUFDMzhCLE1BQU07UUFFL0I7UUFFQSxLQUFBMUcsVUFBVSxHQUFHLE9BQU9xc0I7WUFDbEIsTUFBTSxJQUFJLENBQUNzWSxRQUFRO1lBQ25CLE9BQU9uK0IsVUFDTCxJQUFNLElBQUksQ0FBQ0MsR0FBRyxDQUFDekcsVUFBVSxDQUFDO29CQUFFLEdBQUdxc0IsSUFBSTtvQkFBRTNWLFdBQVcsSUFBSSxDQUFDQSxTQUFTO2dCQUFBLElBQzlELElBQUksQ0FBQzJzQixlQUFlLENBQUMzOEIsTUFBTTtRQUUvQjtRQUVBLEtBQUF2RyxVQUFVLEdBQUcsT0FBT2tzQjtZQUNsQixNQUFNLElBQUksQ0FBQ3NZLFFBQVE7WUFDbkIsT0FBT24rQixVQUNMLElBQU0sSUFBSSxDQUFDQyxHQUFHLENBQUN0RyxVQUFVLENBQUM7b0JBQUUsR0FBR2tzQixJQUFJO29CQUFFM1YsV0FBVyxJQUFJLENBQUNBLFNBQVM7Z0JBQUEsSUFDOUQsSUFBSSxDQUFDMnNCLGVBQWUsQ0FBQzM4QixNQUFNO1FBRS9CO1FBRUEsS0FBQXhHLGdCQUFnQixHQUFHLE9BQU8ya0M7WUFDeEIsTUFBTSxJQUFJLENBQUNGLFFBQVE7WUFDbkIsT0FBT24rQixVQUNMLElBQ0UsSUFBSSxDQUFDQyxHQUFHLENBQUN2RyxnQkFBZ0IsQ0FBQztvQkFBRTJrQztvQkFBWW51QixXQUFXLElBQUksQ0FBQ0EsU0FBUztnQkFBQSxJQUNuRSxJQUFJLENBQUMyc0IsZUFBZSxDQUFDMzhCLE1BQU07UUFFL0I7UUFFQSxLQUFBdEcsU0FBUyxHQUFHLE9BQU9zaEI7WUFDakIsTUFBTSxJQUFJLENBQUNpakIsUUFBUTs7WUFFbkIsT0FBTyxJQUFJLENBQUNsK0IsR0FBRyxDQUFDckcsU0FBUyxDQUFDO2dCQUFFLEdBQUdzaEIsS0FBSztnQkFBRWhMLFdBQVcsSUFBSSxDQUFDQSxTQUFTO1lBQUE7UUFDakU7UUFFQSxJQUFzQixDQUFBclcsc0JBQUEsR0FBRztZQUN2QixNQUFNLElBQUksQ0FBQ3NrQyxRQUFRO1lBQ25CLE9BQU9uK0IsVUFDTCxJQUFNLElBQUksQ0FBQ0MsR0FBRyxDQUFDcEcsc0JBQXNCLENBQUM7b0JBQUVxVyxXQUFXLElBQUksQ0FBQ0EsU0FBUztnQkFBQSxJQUNqRSxJQUFJLENBQUMyc0IsZUFBZSxDQUFDMzhCLE1BQU07UUFFL0I7UUFFQSxJQUFxQixDQUFBcEcscUJBQUEsR0FBRztZQUN0QixNQUFNLElBQUksQ0FBQ3FrQyxRQUFRO1lBQ25CLE9BQU9uK0IsVUFDTCxJQUFNLElBQUksQ0FBQ0MsR0FBRyxDQUFDbkcscUJBQXFCLENBQUM7b0JBQUVvVyxXQUFXLElBQUksQ0FBQ0EsU0FBUztnQkFBQSxJQUNoRSxJQUFJLENBQUMyc0IsZUFBZSxDQUFDMzhCLE1BQU07UUFFL0I7UUFFQSxLQUFBbytCLGNBQWMsR0FBRyxPQUFPcmYsT0FBNkIsRUFBRTtZQUNyRCxJQUFJLENBQUN1ZCxTQUFTLEdBQUc7WUFDakIsTUFBTSxFQUFFdGlDLFVBQVUsSUFBSSxJQUFJLEVBQUUsR0FBRytrQjtZQUUvQixJQUFJLENBQUNnZixhQUFhLEVBQUVyRSxPQUFPLElBQUlseUMsTUFBTTtZQUNyQyxNQUFNMnZCLE9BQVEsSUFBSSxDQUFDNG1CLGFBQWEsR0FBR3RFO1lBQ25DLE1BQU1qekIsY0FBYyxJQUFJLENBQUNxbEIsVUFBVSxDQUFDcG9CLEVBQUUsQ0FDcEMsZ0NBQ0E7Z0JBQ0UrQztnQkFDQStILGFBQWEsSUFBSSxDQUFDdXZCLGtCQUFrQjtnQkFDcEMzbUIsS0FBS25SLE9BQU87WUFDZDtZQUVGLElBQUksQ0FBQzgzQixrQkFBa0IsR0FBR2hpQyxXQUFXO2dCQUNuQzBLO2dCQUNBMlEsS0FBS3VpQixNQUFNLENBQ1QsSUFBSWx5QyxNQUNGLGNBQWMsSUFBSSxDQUFDMGIsTUFBTSxDQUEyQiwwQkFBQWxKLFFBQVc7ZUFHbEVBO1lBRUgsT0FBT21kLEtBQUs5UixPQUFPO1FBQ3JCO1FBRUEsS0FBQS9jLElBQUksR0FBRyxPQUNMcTlCOztZQUdBLE1BQU0sSUFBSSxDQUFDd1gsV0FBVztZQUN0QixJQUNFLElBQUksQ0FBQ1QsZ0JBQWdCLENBQUM3QyxVQUFVLE1BQ2hDLElBQUksQ0FBQzZDLGdCQUFnQixDQUFDNUMsVUFBVSxJQUNoQzs7Ozs7Z0JBS0EsSUFBSSxDQUFDNEMsZ0JBQWdCLEdBQUdqRDs7OztZQUsxQixNQUFNeGpCLFVBQVUsSUFBSSxDQUFDeW1CLGdCQUFnQjtZQUVyQyxJQUFJN2QsWUFBd0N0MEI7WUFDNUMsTUFBTWljLGNBQWMsSUFBSSxDQUFDcWxCLFVBQVUsQ0FBQ3BvQixFQUFFLENBQUMsZ0JBQWdCLENBQUN4QjtnQkFDdEQsSUFBSSxDQUFDeEgsTUFBTSxDQUFDLFNBQVMseUJBQXlCd0g7Z0JBQzlDc00sYUFBYXNRO2dCQUNiclk7Z0JBQ0EsSUFBSSxDQUFDNjNCLFNBQVM7Z0JBQ2Rwb0IsUUFBUWpRLE9BQU8sQ0FBQy9EO1lBQ2xCO1lBRUE0YyxZQUFZL2lCLFdBQVc7Z0JBQ3JCMEs7Z0JBQ0F5UCxRQUFReWpCLE1BQU0sQ0FBQyxJQUFJbHlDLE1BQU07WUFDM0IsR0FBRyxJQUFJLENBQUMyMEMsbUJBQW1CO1lBRTNCLE1BQU1tQyxjQUFjOW5DLFdBQVd4TSxNQUFNLENBQUM7Z0JBQ3BDdTBDLGdCQUFnQjtvQkFDZGowQyxXQUFXO29CQUNYZzBDLGFBQWFqb0MsWUFBWXJNLE1BQU0sQ0FBQzt3QkFDOUIsR0FBRzI3QixJQUFJO3dCQUNQM1YsV0FBVyxJQUFJLENBQUNBLFNBQVM7d0JBQ3pCd3VCLE9BQU8sSUFBSSxDQUFDdEMsV0FBVyxDQUFDc0MsS0FBSzs7Z0JBRWhDO1lBQ0Y7WUFFRCxJQUFJLENBQUNsYSxNQUFNLEVBQUV2cEIsTUFBTSxlQUFldWpDO1lBQ2xDLE1BQU0sSUFBSSxDQUFDRyxJQUFJLENBQUNIO1lBRWhCLE9BQU9yb0IsUUFBUTVRLE9BQU87UUFDeEI7UUFFUSxJQUFJLENBQUFxNUIsSUFBQSxHQUFHO1lBQ2IsT0FBTyxJQUFJLENBQUNELElBQUksQ0FDZGpvQyxXQUFXeE0sTUFBTSxDQUFDO2dCQUNoQnUwQyxnQkFBZ0I7b0JBQ2RqMEMsV0FBVztvQkFDWHEwQyxvQkFBb0I7Z0JBQ3JCO1lBQ0Y7UUFFTDtRQUVRLEtBQUFULFdBQVcsR0FBRyxPQUFPcFI7WUFDM0IsT0FBTyxJQUFJLENBQUMyUixJQUFJLENBQ2Rqb0MsV0FBV3hNLE1BQU0sQ0FBQztnQkFDaEJ1MEMsZ0JBQWdCO29CQUNkajBDLFdBQVc7b0JBQ1hzMEMsa0JBQWtCO3dCQUNoQjV1QixXQUFXLElBQUksQ0FBQ0EsU0FBUzt3QkFDekI4YztvQkFDRDtnQkFDRjtZQUNGO1FBRUw7UUFFUSxLQUFBMlIsSUFBSSxHQUFHLE9BQU8vMkM7WUFDcEIsTUFBTSxJQUFJLENBQUN5MUMsV0FBVyxJQUFHO1lBQ3pCLE1BQU0wQixVQUFVcm9DLFdBQVcvTSxNQUFNLENBQUMvQjtZQUNsQyxJQUFJLElBQUksQ0FBQ28xQyxRQUFRLENBQUNyaEIsVUFBVSxLQUFLNmMsVUFBVXNGLElBQUksRUFBRTtnQkFDL0MsSUFBSSxDQUFDbmpDLE1BQU0sQ0FBQyxTQUFTLDJDQUEyQ29rQztnQkFDaEU7O1lBRUYsSUFBSSxDQUFDcGtDLE1BQU0sQ0FBQyxTQUFTLHVCQUF1QixJQUFJLENBQUNrMEIsUUFBUSxFQUFFLEVBQUVrUTtZQUM3RCxJQUFJLENBQUMvQixRQUFRLENBQUMyQixJQUFJLENBQUNqb0MsV0FBV3NvQyxRQUFRLENBQUNwM0M7UUFDekM7UUFFUSxJQUFTLENBQUEyMkMsU0FBQSxHQUFHO1lBQ2xCLE1BQU1VLFNBQVNoRDtZQUNmZ0QsT0FBT3hYLGFBQWEsQ0FBQyxJQUFJLENBQUNpVyxpQkFBaUI7WUFDM0MsSUFBSSxDQUFDQSxpQkFBaUIsR0FBR3VCLE9BQU90WCxXQUFXLENBQUM7Z0JBQzFDLElBQUksQ0FBQ2lYLElBQUksR0FBRy8xQixLQUFLLENBQUMsQ0FBQ25GO29CQUNqQixJQUFJLENBQUMvSSxNQUFNLENBQUMsU0FBUywyQ0FBMkMrSTtnQkFDbEU7WUFDRixHQUFHLElBQUksQ0FBQ2c1QixnQkFBZ0I7UUFDMUI7UUFFUSxJQUF1QixDQUFBVSx1QkFBQSxHQUFHO1lBQ2hDM3VCLGFBQWEsSUFBSSxDQUFDa3ZCLHNCQUFzQjtZQUN4QyxJQUFJLENBQUNBLHNCQUFzQixHQUFHM2hDLFdBQVc7Z0JBQ3ZDLElBQUksSUFBSSxDQUFDbWhDLG9CQUFvQixFQUFFO29CQUM3QixNQUFNK0IsdUJBQ0osSUFBSWp6QyxPQUFPYSxPQUFPLEtBQUssSUFBSSxDQUFDcXdDLG9CQUFvQixDQUFDcndDLE9BQU87b0JBRTFELElBQUlveUMsdUJBQXVCLElBQUksQ0FBQ3ZDLG9CQUFvQixFQUFFO3dCQUNwRCxJQUFJLENBQUNwN0IsS0FBSyxDQUNSNDZCLGdCQUFnQjBCLDBCQUEwQixFQUMxQyw0REFBNEQsSUFBSSxDQUFDbEIsb0JBQW9CLElBQUk7OztZQUlqRyxHQUFHLElBQUksQ0FBQ0Esb0JBQW9CO1FBQzlCO1FBL1dFLElBQUksQ0FBQzVRLFVBQVUsR0FBR0E7UUFDbEIsSUFBSSxDQUFDN2IsU0FBUyxHQUFHQSxhQUFhaFQ7UUFDOUIsSUFBSSxDQUFDby9CLGFBQWEsR0FBR0E7UUFDckIsSUFBSSxDQUFDRixXQUFXLEdBQUdBO1FBQ25CLE1BQU0sRUFBRWEsTUFBTSxFQUFFeUIsS0FBSyxFQUFFLEdBQUd0QztRQUMxQixJQUFJLENBQUN2TixRQUFRLEdBQUdvTyxPQUFPa0MsU0FBUztRQUNoQyxJQUFJLENBQUM5QyxtQkFBbUIsR0FBR0E7UUFDM0IsSUFBSSxDQUFDajVCLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUN6SSxNQUFNLEdBQUc4RSxVQUFVO1lBQUM7WUFBYTJEO1NBQU87UUFDN0MsSUFBSSxDQUFDb2hCLE1BQU0sR0FBR3lILGdCQUNWLElBQUlSLE9BQU8sR0FBR3JvQixPQUFNLEdBQUksSUFBSSxDQUFDeXJCLFFBQVEsRUFBRSxJQUN2Q3BrQztRQUNKLElBQUksQ0FBQ3dWLEdBQUcsR0FBR3hFLG1CQUFtQjtZQUM1QnpCLFNBQVNpakMsT0FBT3JPLEdBQUc7WUFDbkJ3USxjQUFjO2dCQUNaL2tDLFlBQVk7b0JBQUVnbEMsZUFBZSxVQUFVWCxNQUFLLENBQUU7Z0JBQUE7Z0JBQzlDLElBQUksQ0FBQ2xhLE1BQU0sSUFBSXhwQixrQkFBa0IsSUFBSSxDQUFDd3BCLE1BQU0sQ0FBQ3ZwQixLQUFLO2dCQUNsRHVFLGtCQUFrQixXQUFXOUUsa0JBQWtCLElBQUksQ0FBQ0MsTUFBTSxFQUFFO2FBQzdELENBQUNrRixNQUFNLENBQUMsQ0FBQ3RXLElBQU0sQ0FBQyxDQUFDQTtRQUNuQjs7Ozs7OztRQVFELElBQUksQ0FBQ2drQyxxQkFBcUIsR0FBR3hCLFdBQVdwb0IsRUFBRSxDQUFDLGNBQWMsQ0FBQ25LO1lBQ3hELElBQUksQ0FBQzh6QixnQkFBZ0IsQ0FBQy9rQyxJQUFJLENBQUNpUjtRQUM3Qjs7O1FBSUEsSUFBSSxDQUFDdWtDLHlCQUF5QixHQUFHeEIsYUFBYTU0QixFQUFFLENBQUMsbUJBQW1CLENBQUNEO1lBQ25FLElBQUksQ0FBQ0EsRUFBRTQ3QixNQUFNLEVBQUU7Z0JBQ2IsSUFBSSxDQUFDQyxvQkFBb0IsR0FBRzVGO21CQUN2QjtnQkFDTCxJQUFJLENBQUM0RixvQkFBb0IsRUFBRXI1Qjs7UUFFL0I7UUFFQSxJQUFJLENBQUM0MkIsZUFBZTs7SUE2RHRCLElBQUluUCxZQUFTO1FBQ1gsT0FDRSxJQUFJLENBQUNxUCxRQUFRLENBQUNyaEIsVUFBVSxLQUFLNmMsVUFBVXNGLElBQUksSUFDM0MsSUFBSSxDQUFDbEIsZ0JBQWdCLENBQUM3QyxVQUFVOztJQUlwQyxJQUFJb0UsV0FBUTtRQUNWLE9BQU8sSUFBSSxDQUFDdkIsZ0JBQWdCLENBQUNyM0IsT0FBTzs7O0FBakp0Qzs7Q0FFRyxHQUNJNDJCLGdCQUFjeUIsY0FBQSxHQUFHO0FBQ3hCOzs7O0NBSUcsR0FDSXpCLGdCQUEwQjBCLDBCQUFBLEdBQUc7QUFDcEM7Ozs7O0NBS0csR0FDSTFCLGdCQUFrQnFELGtCQUFBLEdBQUc7QUFDNUI7O0NBRUcsR0FDSXJELGdCQUFXc0QsV0FBQSxHQUFHO0FDOUt2Qjs7O0NBR0csR0FDSSxNQUFNQyxvQkFBb0IsQ0FBQ3ZqQztJQUNoQyxPQUFPLGVBQWV3akMsZUFBZWp1QixLQUF3Qjs7UUFFM0QsSUFBSUEsTUFBTTVKLElBQUksQ0FBQ1UsRUFBRSxLQUFLck0sS0FBS3lqQyxhQUFhLEVBQUU7UUFDMUMsTUFBTSxFQUFFbjNCLEtBQUssRUFBRSxHQUFHdE07UUFDbEIsSUFDRXVWLE1BQU12VixJQUFJLENBQUMrVyxVQUFVLENBQUMxSyxFQUFFLEtBQUtyTSxLQUFLeWpDLGFBQWEsSUFDL0NuM0IsTUFBTUMsWUFBWSxLQUFLbEIsYUFBYXE0QixPQUFPLEVBQzNDO1lBQ0EsTUFBTTFqQyxLQUFLM1QsSUFBSTs7SUFFbkI7QUFDRjtBQUVBOzs7Q0FHRyxHQUNJLE1BQU1zM0Msb0JBQW9CLENBQUMzakM7SUFDaEMsT0FBTyxlQUFlNGpDLGVBQWVydUIsS0FBd0I7O1FBRTNELElBQUlBLE1BQU01SixJQUFJLENBQUNVLEVBQUUsS0FBS3JNLEtBQUt5akMsYUFBYSxFQUFFO1FBQzFDLE1BQU0sRUFBRXpqQyxNQUFNNmpDLFNBQVMsRUFBRSxHQUFHdHVCO1FBQzVCLE1BQU0sRUFBRTZCLFNBQVMwc0IsV0FBVyxFQUFFLEdBQUdEO1FBRWpDLElBQUksQ0FBQ0MsYUFBYTtZQUNoQjlqQyxLQUFLeEIsTUFBTSxDQUNULFFBQ0EsMkRBQ0ErVztZQUVGOztRQUdGLE1BQU13dUIsYUFBYUQsWUFBWUUsV0FBVztRQUMxQyxNQUFNLEVBQUV6d0IsT0FBTyxFQUFFaEgsWUFBWSxFQUFFLEdBQUd2TSxLQUFLc00sS0FBSztRQUM1QyxJQUFJQyxpQkFBaUJsQixhQUFhcTRCLE9BQU8sRUFBRTtZQUN6QzFqQyxLQUFLeEIsTUFBTSxDQUNULFFBQ0EsMEdBQ0ErVztZQUVGOztRQUVGLElBQUl2VixLQUFLaWtDLGFBQWEsRUFBRTtZQUN0QixNQUFNQyx1QkFBdUIzd0IsUUFDMUI3UCxNQUFNLENBQUMsQ0FBQ2hFLElBQU1BLEVBQUUrWSxPQUFPLEtBQUt6WSxLQUFLeWpDLGFBQWEsRUFDOUNVLEtBQUssQ0FBQyxDQUFDemtDLElBQU1xa0MsVUFBVSxDQUFDcmtDLEVBQUUrWSxPQUFPLENBQUM7WUFDckMsSUFBSXlyQixzQkFBc0I7Z0JBQ3hCbGtDLEtBQUt4QixNQUFNLENBQUMsUUFBUTtnQkFDcEIsTUFBTXdCLEtBQUt5TSxLQUFLLENBQUM7b0JBQ2ZneEIsUUFBUTtvQkFDUjVNLFFBQVE7b0JBQ1JwbEMsU0FBUztnQkFDVjs7ZUFFRTtZQUNMLElBQUlzNEMsVUFBVSxDQUFDRixVQUFVOXNCLFVBQVUsQ0FBQzFLLEVBQUUsQ0FBQyxFQUFFO2dCQUN2Q3JNLEtBQUt4QixNQUFNLENBQUMsUUFBUTtnQkFDcEIsTUFBTXdCLEtBQUt5TSxLQUFLLENBQUM7b0JBQUVoaEIsU0FBUztnQkFBd0I7OztJQUcxRDtBQUNGO0FBRUE7O0NBRUcsR0FDSSxNQUFNMjRDLGlCQUFpQixDQUFDcGtDO0lBQzdCLE9BQU8sU0FBU3FrQztRQUNkLE1BQU0sRUFBRTkzQixZQUFZLEVBQUUsR0FBR3ZNLEtBQUtzTSxLQUFLO1FBQ25DLElBQ0VDLGlCQUFpQmxCLGFBQWFpNUIsSUFBSSxJQUNsQy8zQixpQkFBaUJsQixhQUFhbUIsSUFBSSxFQUNsQztZQUNBeE0sS0FDR3lNLEtBQUssQ0FBQztnQkFBRWhoQixTQUFTO2dCQUE2Qmd5QyxRQUFRO1lBQUssR0FDM0Qvd0IsS0FBSyxDQUFDLENBQUMxTjtnQkFDTmdCLEtBQUt4QixNQUFNLENBQUMsU0FBUywwQ0FBMENRO1lBQ2pFOztJQUVOO0FBQ0Y7QUFFQTs7Q0FFRyxHQUNJLE1BQU11bEMsb0JBQW9CLENBQUN2a0M7SUFDaEMsT0FBT0EsS0FBS3dILEVBQUUsQ0FBQyxhQUFhLE9BQU9EO1FBQ2pDLElBQUl2SCxLQUFLc00sS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhbUIsSUFBSSxFQUFFO1FBQ25ELElBQUk7WUFDRixJQUFJakYsRUFBRXNwQixNQUFNLEtBQUs3K0IsZ0JBQWdCd3lDLFVBQVUsRUFBRTtnQkFDM0N4a0MsS0FBS3NNLEtBQUssQ0FBQ29ILFlBQVksQ0FBQzs7Z0JBR3hCLE1BQU0sRUFBRSt3QixhQUFhLEVBQUUsR0FBR3prQyxLQUFLMGtDLGtCQUFrQjtnQkFDakQsSUFBSUQsY0FBYzkrQyxjQUFjTyxjQUFjLEdBQUc7Ozs7O1lBS25EOFosS0FBS3NNLEtBQUssQ0FBQ3NILFVBQVUsQ0FBQyxJQUFJOWpCO1lBQzFCLE1BQU0rZ0MsU0FBUzcrQixlQUFlLENBQUN1VixFQUFFc3BCLE1BQU0sQ0FBQztZQUN4QyxNQUFNN3dCLEtBQUt5TSxLQUFLLENBQUM7Z0JBQUVoaEIsU0FBUyx1QkFBdUJvbEMsT0FBTSxDQUFFO1lBQUE7VUFDM0QsT0FBTzd4QixLQUFLO1lBQ1pnQixLQUFLeEIsTUFBTSxDQUNULFNBQ0EscURBQ0FROztJQUdOO0FBQ0Y7QUMxSEE7Ozs7Q0FJRyxHQUNJLE1BQU0ybEMseUJBQXlCLENBQUNyNEI7SUFDckMsT0FBTyxTQUFTczRCLG9CQUFvQnJ2QixLQUF3QjtRQUMxRCxNQUFNLEVBQUVzdkIsYUFBYSxFQUFFLEdBQUd0dkI7UUFDMUIsSUFBSXN2QixlQUFlO1lBQ2pCLE1BQU0sRUFBRUMsZUFBZSxFQUFFQyxlQUFlLEVBQUVDLGNBQWMsRUFBRSxHQUN4REg7WUFFRixNQUFNMzZCLFNBQWtEO2dCQUN0RCxDQUFDdmtCLGNBQWNlLFVBQVUsR0FBR28rQztnQkFDNUIsQ0FBQ24vQyxjQUFjZ0IsVUFBVSxHQUFHbytDO2dCQUM1QixDQUFDcC9DLGNBQWNjLFdBQVcsR0FBR3UrQzs7WUFHL0IsTUFBTUMsbUJBQW1CMzRCLE1BQU0rUixlQUFlLENBQUMzYSxNQUFNLENBQ25ELENBQUN3aEMsYUFBZWg3QixNQUFNLENBQUNnN0IsV0FBVyxLQUFLO1lBRXpDNzNDLE9BQU9DLE9BQU8sQ0FBQzRjLFFBQVFqRixPQUFPLENBQUMsQ0FBQyxDQUFDaWdDLFlBQVkvNEMsTUFBTTtnQkFDakQsSUFBSUEsU0FBUyxDQUFDODRDLGlCQUFpQm4zQixRQUFRLENBQUNvM0IsYUFBOEI7b0JBQ3BFRCxpQkFBaUI3NEMsSUFBSSxDQUFDODRDOztZQUUxQjtZQUVBNTRCLE1BQU1rSCxrQkFBa0IsQ0FBQ3l4Qjs7SUFFN0I7QUFDRjtBQ3RCTyxNQUFNRSxnQ0FBZ0MsQ0FDM0N2VixZQUNBdGpCO0lBRUEsT0FBT3NqQixXQUFXcG9CLEVBQUUsQ0FBQyw0QkFBNEIsQ0FBQ0Q7UUFDaEQsTUFBTSxFQUFFNjlCLHdCQUF3QixFQUFFLEdBQUc3OUI7UUFDckMsSUFBSSxDQUFDNjlCLDBCQUEwQjtRQUMvQjk0QixNQUFNcUksa0JBQWtCLENBQ3RCeXdCLHlCQUF5Qm54QixNQUFNLENBQzdCLENBQUNveEIsU0FBU243QjtZQUNSLE1BQU0sRUFBRTZKLFNBQVMsRUFBRXV4QixpQkFBaUIsRUFBRSxHQUFHcDdCO1lBQ3pDbTdCLE9BQU8sQ0FBQ3R4QixVQUFVLEdBQUc7Z0JBQ25CdXhCOztZQUVGLE9BQU9EO1FBQ1QsR0FDQTtJQUdOO0FBQ0Y7QUFFQTs7O0NBR0csR0FDSSxNQUFNRSwrQkFBK0IsQ0FDMUMzVixZQUNBdGpCO0lBRUEsT0FBT3NqQixXQUFXcG9CLEVBQUUsQ0FBQyx1QkFBdUIsQ0FBQ0Q7UUFDM0MsTUFBTSxFQUFFc1EsZ0JBQWdCLEVBQUUsR0FBR3RRO1FBQzdCLElBQUlzUSxrQkFBa0I7WUFDcEJ2TCxNQUFNbUcsbUJBQW1CLENBQUNvRixpQkFBaUJRLEtBQUs7WUFDaEQvTCxNQUFNMEcsNEJBQTRCLENBQUM2RSxpQkFBaUJTLFNBQVM7O0lBRWpFO0FBQ0Y7QUFFTyxNQUFNa3RCLGlCQUFpQixDQUFDNVYsWUFBd0I1dkI7SUFDckQsT0FBTzR2QixXQUFXcG9CLEVBQUUsQ0FBQyxTQUFTLENBQUNEO1FBQzdCLElBQUlBLEVBQUVsSSxLQUFLLElBQUlrSSxFQUFFbEksS0FBSyxDQUFDM1QsSUFBSSxLQUFLa0csVUFBVTR5QyxVQUFVLEVBQUU7UUFFdER4a0MsS0FBS3NNLEtBQUssQ0FBQ29ILFlBQVksQ0FBQztRQUN4QixJQUFJLENBQUMxVCxLQUFLMGtDLGtCQUFrQixDQUFDRCxhQUFhLENBQUM5K0MsY0FBY08sY0FBYyxHQUFHO1lBQ3hFOFosS0FBS3lNLEtBQUssQ0FBQztnQkFBRWhoQixTQUFTO1lBQVksR0FBSWloQixLQUFLLENBQUMsQ0FBQzFOO2dCQUMzQ2dCLEtBQUt4QixNQUFNLENBQUMsU0FBUyx5Q0FBeUNRO1lBQ2hFOztJQUVKO0FBQ0Y7QUFFQTs7Q0FFRyxHQUNJLE1BQU15bUMsdUJBQXVCLENBQUM3VjtJQUNuQyxPQUFPQSxXQUFXcG9CLEVBQUUsQ0FBQyxTQUFTLENBQUNEO1FBQzdCLElBQUksQ0FBQ0EsRUFBRWxJLEtBQUssRUFBRTtRQUNkLE1BQU1iLFNBQVM4RSxVQUFVO1lBQUM7U0FBWTtRQUN0QyxNQUFNLEVBQUVqRSxLQUFLLEVBQUVxbUMsaUJBQWlCLEVBQUUsR0FBR24rQjtRQUNyQy9JLE9BQU8sU0FBUyxzQkFBc0I7WUFDcEM5UyxNQUFNa0csU0FBUyxDQUFDeU4sTUFBTTNULElBQUksQ0FBQztZQUMzQmc2QyxtQkFBbUJ6ekMsMEJBQTBCLENBQUN5ekMsa0JBQWtCO1lBQ2hFajZDLFNBQVM0VCxNQUFNNVQsT0FBTztZQUN0QjhZLGFBQWFsRixNQUFNa0YsV0FBVztRQUMvQjtJQUNIO0FBQ0Y7QUFFQTs7O0NBR0csR0FDSSxNQUFNb2hDLG1CQUFtQixDQUFDcjVCO0lBQy9CLE9BQU8sU0FBU3M1QixjQUFjcitCLENBQWM7UUFDMUMsTUFBTSxFQUFFbU8sSUFBSSxFQUFFLEdBQUduTztRQUNqQitFLE1BQU1tSixpQkFBaUIsQ0FBQ0M7SUFDMUI7QUFDRjtBQ3BGQTs7OztDQUlHLEdBQ0ksTUFBTW13Qix1QkFBdUIsQ0FBQzdsQztJQUNuQyxPQUFPQSxLQUFLd0gsRUFBRSxDQUFDLG9CQUFvQixPQUFPK047UUFDeEMsTUFBTSxFQUFFdXdCLEtBQUssRUFBRTE1QixJQUFJLEVBQUUySCxTQUFTLEVBQUUsR0FBR3dCO1FBQ25DLE1BQU0sRUFBRTRFLGdCQUFnQixFQUFFLEdBQUduYSxLQUFLc00sS0FBSztRQUN2QyxJQUNFdzVCLFVBQVVoMEMscUJBQXFCaTBDLFVBQVUsSUFDekNoeUIsY0FBY29HLGtCQUFrQnBHLFdBQ2hDO1lBQ0EsTUFBTXZWLFNBQVN3QixLQUFLeEIsTUFBTTtZQUMxQkEsT0FDRSxRQUNBLENBQXVCLHNCQUFBN00sU0FBUyxDQUFDeWEsS0FBSyxDQUEwQjtZQUVsRSxJQUFJO2dCQUNGLElBQUlBLFNBQVN6YSxVQUFVb2MsS0FBSyxFQUFFO29CQUM1QixNQUFNL04sS0FBS29vQixNQUFNLENBQUM0ZCxPQUFPO3VCQUNwQixJQUFJNTVCLFNBQVN6YSxVQUFVc2MsS0FBSyxFQUFFO29CQUNuQyxNQUFNak8sS0FBS21vQixVQUFVLENBQUM2ZCxPQUFPO3VCQUN4QixJQUNMNTVCLFNBQVN6YSxVQUFVd2MsWUFBWSxJQUMvQi9CLFNBQVN6YSxVQUFVMGMsa0JBQWtCLEVBQ3JDO29CQUNBLE1BQU1yTyxLQUFLaW1DLFdBQVcsQ0FBQ0QsT0FBTzt1QkFDekI7b0JBQ0x4bkMsT0FDRSxRQUNBLHVDQUNBN00sU0FBUyxDQUFDeWEsS0FBSzs7Y0FHbkIsT0FBTy9NLE9BQU87Z0JBQ2RiLE9BQU8sU0FBUyw2QkFBNkJhOzs7SUFHbkQ7QUFDRjtBQzlDQTs7Ozs7Q0FLRyxHQUNJLE1BQU02bUMsa0JBQWtCLENBQUluWCxLQUFVLEdBQUd2L0I7SUFDOUMsS0FBSyxNQUFNcEMsS0FBS29DLE9BQVE7UUFDdEIsSUFBSSxDQUFDdS9CLElBQUlqaEIsUUFBUSxDQUFDMWdCLElBQUk7WUFDcEIyaEMsSUFBSTNpQyxJQUFJLENBQUNnQjs7O0lBR2IsT0FBTzJoQztBQUNUO0FDSUE7O0NBRUcsR0FDSSxNQUFNb1gseUJBQXlCLENBQUM3NUI7SUFDckMsT0FBTyxTQUFTODVCLG9CQUFvQjcrQixDQUFvQjtRQUN0RCxNQUFNLEVBQUU0TSxXQUFXLEVBQUUsR0FBRzVNO1FBQ3hCLElBQUksQ0FBQzRNLGFBQWE7Ozs7Ozs7OztRQVNsQixNQUFNbEMsaUJBQWlCbzBCLHdCQUF3Qi81QixPQUFPNkg7UUFDdEQ3SCxNQUFNa0ksc0JBQXNCLENBQzFCTCxZQUFZSixTQUFTLEVBQ3JCMW1CLE9BQU84cUIsTUFBTSxDQUlYaEUsYUFBYWxDLGdCQUFnQjtZQUM3QnhDLHlCQUF5QjtnQkFDdkJDLFlBQVlqVCxnQkFBZ0JvVCxPQUFPO2dCQUNuQ3VJLGtCQUFrQjNiLGdCQUFnQm9ULE9BQU87WUFDMUM7UUFDRjtJQUVMO0FBQ0Y7QUFFQTs7Q0FFRyxHQUNJLE1BQU15MkIsdUJBQXVCLENBQUNoNkI7SUFDbkMsT0FBTyxTQUFTaTZCLGtCQUFrQmgvQixDQUFrQjtRQUNsRCxNQUFNLEVBQUU0TSxXQUFXLEVBQUUsR0FBRzVNO1FBQ3hCLElBQUksQ0FBQzRNLGFBQWE7UUFFbEI3SCxNQUFNMkcsZUFBZSxDQUFDLENBQUNDLGVBQ3JCQSxhQUFheFAsTUFBTSxDQUFDLENBQUNrSyxJQUFNQSxFQUFFbUcsU0FBUyxLQUFLSSxZQUFZSixTQUFTO0lBRXBFO0FBQ0Y7QUFFQTs7Q0FFRyxHQUNJLE1BQU15eUIsMEJBQTBCLENBQUNsNkI7SUFDdEMsT0FBTyxTQUFTbTZCLHFCQUFxQmwvQixDQUFxQjtRQUN4RCxNQUFNLEVBQUU0TSxXQUFXLEVBQUUsR0FBRzVNO1FBQ3hCLElBQUksQ0FBQzRNLGFBQWE7UUFDbEI3SCxNQUFNOEgsaUJBQWlCLENBQUNELFlBQVlKLFNBQVMsRUFBRUk7SUFDakQ7QUFDRjtBQUVBOzs7Q0FHRyxHQUNJLE1BQU11eUIsc0JBQXNCLENBQUNwNkI7SUFDbEMsT0FBTyxTQUFTcTZCLGlCQUFpQnAvQixDQUFpQjtRQUNoRCxNQUFNLEVBQUU2RSxJQUFJLEVBQUUySCxTQUFTLEVBQUUsR0FBR3hNOzs7OztRQUs1QixJQUFJQSxFQUFFNE0sV0FBVyxFQUFFO1lBQ2pCLE1BQU1sQyxpQkFBaUJvMEIsd0JBQXdCLzVCLE9BQU8vRSxFQUFFNE0sV0FBVztZQUNuRSxNQUFNQSxjQUFjOW1CLE9BQU84cUIsTUFBTSxDQUFDNVEsRUFBRTRNLFdBQVcsRUFBRWxDO1lBQ2pEM0YsTUFBTWtJLHNCQUFzQixDQUFDVCxXQUFXSTtlQUNuQztZQUNMN0gsTUFBTThILGlCQUFpQixDQUFDTCxXQUFXLENBQUNuRyxJQUFPO29CQUN6Q0MsaUJBQWlCcTRCLGdCQUFnQjsyQkFBSXQ0QixFQUFFQyxlQUFlO3FCQUFDLEVBQUV6QjtnQkFDMUQ7O0lBRUw7QUFDRjtBQUVBOzs7Q0FHRyxHQUNJLE1BQU13NkIsd0JBQXdCLENBQUN0NkI7SUFDcEMsT0FBTyxTQUFTdTZCLG1CQUFtQnQvQixDQUFtQjtRQUNwRCxNQUFNLEVBQUU2RSxJQUFJLEVBQUUySCxTQUFTLEVBQUUsR0FBR3hNOztRQUU1QixJQUFJQSxFQUFFNE0sV0FBVyxFQUFFO1lBQ2pCLE1BQU1sQyxpQkFBaUJvMEIsd0JBQXdCLzVCLE9BQU8vRSxFQUFFNE0sV0FBVztZQUNuRSxNQUFNQSxjQUFjOW1CLE9BQU84cUIsTUFBTSxDQUFDNVEsRUFBRTRNLFdBQVcsRUFBRWxDO1lBQ2pEM0YsTUFBTWtJLHNCQUFzQixDQUFDVCxXQUFXSTtlQUNuQztZQUNMN0gsTUFBTThILGlCQUFpQixDQUFDTCxXQUFXLENBQUNuRyxJQUFPO29CQUN6Q0MsaUJBQWlCRCxFQUFFQyxlQUFlLENBQUNuSyxNQUFNLENBQUMsQ0FBQ3dCLElBQU1BLE1BQU1rSDtnQkFDeEQ7O0lBRUw7QUFDRjtBQUVBOzs7OztDQUtHLEdBQ0gsTUFBTWk2QiwwQkFBMEIsQ0FDOUIvNUIsT0FDQTZIO0lBRUEsTUFBTTJ5QixlQUFleDZCLE1BQU00SixrQkFBa0IsQ0FBQy9CLFlBQVlnQyxpQkFBaUI7SUFDM0UsSUFBSSxDQUFDMndCLGFBQWF4MUMsTUFBTSxFQUFFO0lBQzFCLE1BQU15MUMsbUJBQWdEO0lBQ3RELEtBQUssTUFBTTF3QixVQUFVeXdCLGFBQWM7UUFDakMsTUFBTTU2QyxNQUFNd25DLGdDQUFnQ3JkLE9BQU92QixTQUFTO1FBQzVELElBQUksQ0FBQzVvQixLQUFLO1FBQ1Y2NkMsZ0JBQWdCLENBQUM3NkMsSUFBSSxHQUFHbXFCLE9BQU8rSSxLQUFLOztJQUV0QyxPQUFPMm5CO0FBQ1Q7QUNwSUE7O0NBRUcsR0FDSSxNQUFNQyw4QkFBOEIsQ0FDekNwWCxZQUNBdGpCO0lBRUEsT0FBT3NqQixXQUFXcG9CLEVBQUUsQ0FBQywwQkFBMEIsQ0FBQ0Q7UUFDOUMsTUFBTSxFQUFFd00sU0FBUyxFQUFFLEdBQUd4TTtRQUN0QixJQUFJd00sY0FBY3pILE1BQU1vQyxlQUFlLEVBQUVxRixXQUFXO1FBQ3BEekgsTUFBTTJHLGVBQWUsQ0FBQyxDQUFDQyxlQUNyQkEsYUFBYXpqQixHQUFHLENBQUMsQ0FBQzBrQjs7Z0JBRWhCLElBQUlBLFlBQVlKLFNBQVMsS0FBS0EsV0FBVztvQkFDdkMsT0FBTzt3QkFDTCxHQUFHSSxXQUFXO3dCQUNkeEYsbUJBQW1COzs7O2dCQUl2QixJQUFJd0YsWUFBWXhGLGlCQUFpQixFQUFFO29CQUNqQyxPQUFPO3dCQUNMLEdBQUd3RixXQUFXO3dCQUNkeEYsbUJBQW1COzs7Z0JBR3ZCLE9BQU93RixhQUFZOztJQUd6QjtBQUNGO0FBRUE7O0NBRUcsR0FDSSxNQUFNOHlCLHlCQUF5QixDQUNwQ3JYLFlBQ0F0akI7SUFFQSxPQUFPc2pCLFdBQVdwb0IsRUFBRSxDQUFDLHFCQUFxQixDQUFDRDtRQUN6QyxNQUFNLEVBQUUyL0IsV0FBVyxFQUFFLEdBQUczL0I7UUFDeEIrRSxNQUFNcUksa0JBQWtCLENBQ3RCdXlCLFlBQVlqekIsTUFBTSxDQUFnQyxDQUFDb3hCLFNBQVNyckI7WUFDMURxckIsT0FBTyxDQUFDcnJCLFFBQVFqRyxTQUFTLENBQUMsR0FBRztnQkFDM0JvekIsWUFBWW50QixRQUFRdmIsS0FBSztnQkFDekJvUSxZQUFZbUwsUUFBUW5MLFVBQVU7O1lBRWhDLE9BQU93MkI7UUFDVCxHQUFHO0lBRVA7QUFDRjtBQ3RCQTs7Ozs7Q0FLRyxHQUNJLE1BQU0rQix3QkFBd0IsQ0FBQ3BuQyxNQUFZNHZCO0lBQ2hELE1BQU10akIsUUFBUXRNLEtBQUtzTSxLQUFLO0lBQ3hCLE1BQU1rSixnQkFBZ0I7UUFDcEJ4VixLQUFLd0gsRUFBRSxDQUFDLGNBQWM0OEIsZUFBZXBrQztRQUNyQ3VrQyxrQkFBa0J2a0M7UUFFbEJ3bEMsZUFBZTVWLFlBQVk1dkI7UUFDM0J5bEMscUJBQXFCN1Y7UUFDckJ1Viw4QkFBOEJ2VixZQUFZdGpCO1FBQzFDaTVCLDZCQUE2QjNWLFlBQVl0akI7UUFFekN0TSxLQUFLd0gsRUFBRSxDQUFDLHFCQUFxQjIrQix1QkFBdUI3NUI7UUFDcER0TSxLQUFLd0gsRUFBRSxDQUFDLG1CQUFtQjgrQixxQkFBcUJoNkI7UUFDaER0TSxLQUFLd0gsRUFBRSxDQUFDLHNCQUFzQmcvQix3QkFBd0JsNkI7UUFFdER0TSxLQUFLd0gsRUFBRSxDQUFDLGtCQUFrQmsvQixvQkFBb0JwNkI7UUFDOUN0TSxLQUFLd0gsRUFBRSxDQUFDLG9CQUFvQm8vQixzQkFBc0J0NkI7UUFFbEQyNkIsdUJBQXVCclgsWUFBWXRqQjtRQUNuQzA2Qiw0QkFBNEJwWCxZQUFZdGpCO1FBRXhDdE0sS0FBS3dILEVBQUUsQ0FBQyxxQkFBcUJtOUIsdUJBQXVCcjRCO1FBQ3BEdE0sS0FBS3dILEVBQUUsQ0FBQyxlQUFlbStCLGlCQUFpQnI1QjtRQUV4Q3U1QixxQkFBcUI3bEM7S0FDdEI7SUFFRCxJQUFJQSxLQUFLcW5DLE9BQU8sRUFBRTs7UUFFaEI3eEIsY0FBY3BwQixJQUFJLENBQUNrN0MsaUNBQWlDdG5DOztJQUd0RCxPQUFPO1FBQ0x3VixjQUFjdlEsT0FBTyxDQUFDLENBQUNzRixjQUFnQkE7SUFDekM7QUFDRjtBQUVBOzs7O0NBSUcsR0FDSSxNQUFNKzhCLG1DQUFtQyxDQUFDdG5DO0lBQy9DLE1BQU11bkMsd0JBSUY7UUFDRixpQkFBaUJoRSxrQkFBa0J2akM7UUFDbkMsaUJBQWlCMmpDLGtCQUFrQjNqQzs7SUFHckMsTUFBTXdWLGdCQUFnQm5vQixPQUFPdW5CLElBQUksQ0FBQzJ5Qix1QkFBdUI5M0MsR0FBRyxDQUFDLENBQUM4bEI7UUFDNUQsTUFBTTNPLFlBQVkyTztRQUNsQixPQUFPdlYsS0FBS3dILEVBQUUsQ0FBQ1osV0FBVzJnQyxxQkFBcUIsQ0FBQzNnQyxVQUFVO0lBQzVEO0lBRUEsT0FBTztRQUNMNE8sY0FBY3ZRLE9BQU8sQ0FBQyxDQUFDc0YsY0FBZ0JBO0lBQ3pDO0FBQ0Y7QUNuR0EsTUFBTWk5QixvQkFBb0I7TUFXYkM7SUFBYmo4QyxhQUFBO1FBQ0U7O1NBRUcsR0FDSyxLQUFBazhDLGlCQUFpQixHQUdyQixJQUFJNytCO1FBQ1I7O1NBRUcsR0FDSyxJQUFRLENBQUE4K0IsUUFBQSxHQUFnQzs7O1FBR2hEOztTQUVHLEdBQ0ssS0FBQUMsUUFBUSxHQUE4QyxJQUFJbG1CO1FBRWxFOzs7Ozs7O1NBT0csR0FDSSxLQUFBbW1CLFdBQVcsR0FBRyxDQUNuQkMsaUJBQ0E3NkM7WUFFQSxNQUFNODZDLFVBQVU7Z0JBQ2QsSUFBSSxDQUFDSixRQUFRLEVBQUVLO2dCQUNmLElBQUksQ0FBQ0wsUUFBUSxHQUFHO2dCQUNoQixJQUFJLENBQUNELGlCQUFpQixDQUFDamMsS0FBSztZQUM5QjtZQUVBLElBQUksQ0FBQ2tjLFFBQVEsR0FBRyxJQUFJTSxxQkFDbEIsQ0FBQzM2QztnQkFDQ0EsUUFBUTJYLE9BQU8sQ0FBQyxDQUFDb3VCO29CQUNmLE1BQU1yb0IsVUFBVSxJQUFJLENBQUMwOEIsaUJBQWlCLENBQUN2K0IsR0FBRyxDQUN4Q2txQixNQUFNM2xDLE1BQXFCO29CQUU3QnNkLFVBQVVxb0I7Z0JBQ1o7WUFDRixHQUNBO2dCQUNFNlUsTUFBTUo7Z0JBQ04sR0FBRzc2QyxPQUFPO2dCQUNWazdDLFdBQVdsN0MsU0FBU2s3QyxhQUFhWDtZQUNsQztZQUdILElBQUksSUFBSSxDQUFDSSxRQUFRLENBQUNobUIsSUFBSSxFQUFFO2dCQUN0QixJQUFJLENBQUNnbUIsUUFBUSxDQUFDM2lDLE9BQU8sQ0FBQyxDQUFDLENBQUNtakMsY0FBY0MsYUFBYTs7O29CQUdqRCxJQUFJLENBQUNQLGdCQUFnQlEsUUFBUSxDQUFDRixlQUFlO29CQUU3QyxJQUFJLENBQUNULFFBQVMsQ0FBQ1ksT0FBTyxDQUFDSDtvQkFDdkIsSUFBSSxDQUFDVixpQkFBaUIsQ0FBQ2orQixHQUFHLENBQUMyK0IsY0FBY0M7Z0JBQzNDO2dCQUNBLElBQUksQ0FBQ1QsUUFBUSxDQUFDbmMsS0FBSzs7WUFHckIsT0FBT3NjO1FBQ1Q7UUFFQTs7Ozs7Ozs7U0FRRyxHQUNJLEtBQUFRLE9BQU8sR0FBWSxDQUFDQyxTQUFTeDlCO1lBQ2xDLE1BQU15OUIsWUFBWTtnQkFBQ0Q7Z0JBQVN4OUI7YUFBaUI7WUFFN0MsTUFBTSs4QixVQUFVO2dCQUNkLElBQUksQ0FBQ0wsaUJBQWlCLENBQUM5OUIsTUFBTSxDQUFDNCtCO2dCQUM5QixJQUFJLENBQUNiLFFBQVEsRUFBRWUsVUFBVUY7Z0JBQ3pCLElBQUksQ0FBQ1osUUFBUSxDQUFDaCtCLE1BQU0sQ0FBQzYrQjtZQUN2QjtZQUVBLElBQUksSUFBSSxDQUFDZixpQkFBaUIsQ0FBQzErQixHQUFHLENBQUN3L0IsVUFBVSxPQUFPVDtZQUVoRCxJQUFJLENBQUMsSUFBSSxDQUFDSixRQUFRLEVBQUU7Z0JBQ2xCLElBQUksQ0FBQ0MsUUFBUSxDQUFDbnpCLEdBQUcsQ0FBQ2cwQjtnQkFDbEIsT0FBT1Y7O1lBR1QsSUFBSSxJQUFJLENBQUNKLFFBQVEsQ0FBQ08sSUFBSyxDQUFDSSxRQUFRLENBQUNFLFVBQVU7Z0JBQ3pDLElBQUksQ0FBQ2QsaUJBQWlCLENBQUNqK0IsR0FBRyxDQUFDKytCLFNBQVN4OUI7Z0JBQ3BDLElBQUksQ0FBQzI4QixRQUFRLENBQUNZLE9BQU8sQ0FBQ0M7O1lBR3hCLE9BQU9UO1FBQ1Q7O0FBQ0Q7QUNqRkQsTUFBTVksb0NBR0Y7SUFDRmo1QixZQUFZalQsZ0JBQWdCb1QsT0FBTztJQUNuQ3VJLGtCQUFrQjNiLGdCQUFnQm9ULE9BQU87O0FBVTNDLE1BQU0rNEIsb0JBQW9CeDlCLE9BQU87QUFPakM7Ozs7Ozs7OztDQVNHLFNBQ1V5OUI7SUFrRFg7O0tBRUcsR0FDSHI5QyxZQUFZa3NCLFNBQW9CLEVBQUVveEIsT0FBdUI7UUFwRHpEOztTQUVHLEdBQ00sS0FBQUMsZUFBZSxHQUFHLElBQUl0QjtRQUV2QixLQUFBanBDLE1BQU0sR0FBRzhFLFVBQVU7WUFBQztTQUFtQjtRQUt2QyxJQUEwQixDQUFBMGxDLDBCQUFBLEdBQTBCO1FBRXBELEtBQUFDLHNDQUFzQyxHQUM1QyxJQUFJejlCLCtRQUFlQSxDQUFrQztRQUV2RCxLQUFBMDlCLGdDQUFnQyxHQUM5QixJQUFJLENBQUNELHNDQUFzQyxDQUFDajhCLFlBQVk7UUFFMUQsS0FBQW04QixzQkFBc0IsR0FBRyxJQUFJLENBQUNELGdDQUFnQyxDQUFDN3RCLElBQUksQ0FDakU1ckIsdVFBQUdBLENBQUMsQ0FBQzI1QztZQUNILE1BQU0sRUFBRSxDQUFDUixrQkFBaUIsRUFBR1MsY0FBYyxFQUFFLEdBQUduMkIsY0FBYyxHQUM1RGsyQjtZQUNGLE9BQU87Z0JBQ0w5cEIsU0FBUytwQixnQkFBZ0IvcEIsWUFBWTtnQkFDckNncUIscUJBQXFCRCxnQkFBZ0IvcEIsVUFDakMrcEIsZUFBZW4wQixTQUFBLEdBQ2Y1bUI7Z0JBQ0o0a0IsY0FBYzdsQixPQUFPazhDLFdBQVcsQ0FDOUJsOEMsT0FBT0MsT0FBTyxDQUFDNGxCLGNBQWN6akIsR0FBRyxDQUM5QixDQUFDLENBQUNza0IsV0FBV3kxQixvQkFBb0IsR0FBSzt3QkFDcEN6MUI7d0JBQ0E7NEJBQ0V1TCxTQUFTa3FCLHFCQUFxQmxxQixZQUFZOzRCQUMxQ2dxQixxQkFBcUJFLHFCQUFxQmxxQixVQUN0Q2txQixvQkFBb0J0MEIsU0FBQSxHQUNwQjVtQjt3QkFDTDtxQkFDRjtnQkFHTG03QywyQkFBMkIsQ0FBQzExQixZQUMxQnExQixTQUFTLENBQUNyMUIsVUFBVSxFQUFFdUwsV0FDdEI4cEIsU0FBUyxDQUFDUixrQkFBa0IsRUFBRXRwQixXQUM5Qjs7UUFFTixJQUNBaEUsK1FBQVdBLENBQUM7UUFXZDs7U0FFRyxHQUNILElBQU8sQ0FBQWxULE9BQUEsR0FBRztZQUNSLElBQUksSUFBSSxDQUFDNGdDLDBCQUEwQixFQUFFO2dCQUNuQzEyQixhQUFhLElBQUksQ0FBQzAyQiwwQkFBMEI7O1lBRTlDLE1BQU1VLFVBQVUsSUFBSSxDQUFDQyx1QkFBdUI7WUFDNUMsSUFBSUQsV0FBV0EsUUFBUXA5QixLQUFLLEtBQUssVUFBVTtnQkFDekNzOUIsU0FBUzluQyxtQkFBbUIsQ0FBQyxTQUFTLElBQUksQ0FBQytuQyxrQkFBa0I7Z0JBQzdELE1BQU1ILFFBQVF0a0MsS0FBSztnQkFDbkIsSUFBSSxDQUFDMGtDLFlBQVksR0FBR3g3Qzs7UUFFeEI7UUFpREEsS0FBQXk3QyxrQ0FBa0MsR0FBRyxDQUNuQ3ZiLFVBQ0EzTTtZQUVBLElBQUksQ0FBQ0EsWUFBWTtnQkFDZixPQUFPclgsZ0JBQ0wsSUFBSSxDQUFDeStCLHNDQUFzQyxFQUMzQ3phLFdBQVc7b0JBQUUsQ0FBQ29hLGtCQUFpQixFQUFHcGE7Z0JBQVEsSUFBSzs7WUFJbkQsT0FBT2hrQixnQkFDTCxJQUFJLENBQUN5K0Isc0NBQXNDLEVBQzNDLENBQUNHLFlBQWU7b0JBQ2QsR0FBR0EsU0FBUztvQkFDWixHQUFHLzdDLE9BQU9rOEMsV0FBVyxDQUFDMW5CLFdBQVdweUIsR0FBRyxDQUFDLENBQUM0YyxLQUFPOzRCQUFDQTs0QkFBSW1pQjt5QkFBUyxFQUFFO2dCQUM5RDtRQUVMO1FBRUEsS0FBQXdiLHVCQUF1QixHQUFHLENBQ3hCQyxlQUE2QnZ0QyxhQUFhd3RDLElBQUk7WUFFOUMsSUFBSSxJQUFJLENBQUNsQiwwQkFBMEIsRUFBRTtnQkFDbkMxMkIsYUFBYSxJQUFJLENBQUMwMkIsMEJBQTBCOztZQUc5QyxNQUFNMXJDLHNCQUFzQjtnQkFDMUIsSUFBSSxDQUFDMHJDLDBCQUEwQixHQUFHO2dCQUNsQyxJQUFJLENBQUM5Z0IsU0FBQSxFQUNENXFCLG9CQUFvQixJQUFJLENBQUM2c0Msa0JBQWtCLEVBQzVDejlCLE1BQU0sQ0FBQzFOO29CQUNOLElBQUksQ0FBQ1IsTUFBTSxDQUFDLFNBQVMsQ0FBc0MsdUNBQUVRO2dCQUMvRDtZQUNKO1lBRUEsSUFBSWlyQyxjQUFjO2dCQUNoQixJQUFJLENBQUNqQiwwQkFBMEIsR0FBR25wQyxXQUNoQ3ZDLHFCQUNBMnNDO21CQUVHO2dCQUNMM3NDOztRQUVKO1FBRUE7Ozs7Ozs7O1NBUUcsR0FDSCxJQUFzQixDQUFBOHNDLHNCQUFBLEdBQUcsQ0FDdkI1QixTQUNBejBCLFdBQ0FlO1lBRUEsTUFBTWl6QixVQUFVLElBQUksQ0FBQ2dCLGVBQWUsQ0FBQ1IsT0FBTyxDQUFDQyxTQUFTLENBQUNuVjtnQkFDckQsSUFBSSxDQUFDM2IsU0FBUyxDQUFDdEQsaUJBQWlCLENBQUNMLFdBQVcsQ0FBQ0k7b0JBQzNDLE1BQU1rMkIsMEJBQ0psMkIsWUFBWTFFLHVCQUF1QixJQUNuQ2s1Qjs7O29CQUlGLE1BQU0yQixZQUNKalgsTUFBTWtYLGNBQWMsSUFBSVgsU0FBU1ksaUJBQWlCLEtBQUtoQyxVQUNuRC9yQyxnQkFBZ0JndUMsT0FBQSxHQUNoQmh1QyxnQkFBZ0JrVCxTQUFTO29CQUMvQixPQUFPO3dCQUNMLEdBQUd3RSxXQUFXO3dCQUNkMUUseUJBQXlCOzRCQUN2QixHQUFHNDZCLHVCQUF1Qjs0QkFDMUIsQ0FBQ3YxQixVQUFTLEVBQUd3MUI7d0JBQ2Q7O2dCQUVMO1lBQ0Y7WUFFQSxPQUFPO2dCQUNMdkM7Ozs7Z0JBSUEsSUFBSSxDQUFDcndCLFNBQVMsQ0FBQ3RELGlCQUFpQixDQUFDTCxXQUFXLENBQUNJO29CQUMzQyxNQUFNazJCLDBCQUNKbDJCLFlBQVkxRSx1QkFBdUIsSUFDbkNrNUI7b0JBQ0YsT0FBTzt3QkFDTCxHQUFHeDBCLFdBQVc7d0JBQ2QxRSx5QkFBeUI7NEJBQ3ZCLEdBQUc0NkIsdUJBQXVCOzRCQUMxQixDQUFDdjFCLFVBQVMsRUFBR3JZLGdCQUFnQm9ULE9BQU87d0JBQ3JDOztnQkFFTDtZQUNGO1FBQ0Y7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQWc0QixXQUFXLEdBQUcsQ0FBd0JXO1lBQ3BDLE9BQU8sSUFBSSxDQUFDTyxlQUFlLENBQUNsQixXQUFXLENBQUNXO1FBQzFDO1FBRUE7Ozs7Ozs7Ozs7Ozs7O1NBY0csR0FDSCxJQUFnQixDQUFBa0MsZ0JBQUEsR0FBRyxDQUNqQkMsY0FDQTUyQixXQUNBZTtZQUVBLE1BQU04MUIsbUJBQ0osSUFBSSxDQUFDbHpCLFNBQVMsQ0FBQzVELDBCQUEwQixDQUFDQztZQUM1QyxJQUFJLENBQUM2MkIsa0JBQWtCO1lBRXZCLE1BQU1DLDZCQUE2QixDQUNqQ1osY0FDQS8wQjtnQkFFQSxJQUFJQSxhQUFjQSxDQUFBQSxVQUFVRSxLQUFLLEtBQUssS0FBS0YsVUFBVUMsTUFBTSxLQUFLLElBQUk7Ozs7O29CQUtsRSxJQUFJLENBQUMzVyxNQUFNLENBQUMsU0FBUyxDQUF3Qix5QkFBRW9zQztvQkFDL0MxMUIsWUFBWTVtQjs7Z0JBRWQsSUFBSSxDQUFDb3BCLFNBQVMsQ0FBQzdDLHVCQUF1QixDQUFDQyxXQUFXO29CQUNoRCxDQUFDZixVQUFTLEVBQUc7d0JBQUVtQjtvQkFBUztnQkFDekI7Z0JBQ0QsSUFBSSxDQUFDODBCLHVCQUF1QixDQUFDQztZQUMvQjtZQUVBLE1BQU1hLGVBQWUsSUFBSSxDQUFDcHpCLFNBQVMsQ0FBQytELGFBQWEsQ0FBQ0osSUFBSSxDQUNwRDVyQix1UUFBR0EsQ0FBQyxDQUFDK2lCLEtBQU9BLEdBQUczakIsSUFBSSxDQUFDLENBQUMrZSxJQUFNQSxFQUFFbUcsU0FBUyxLQUFLQSxhQUMzQ2czQiw2UUFBU0EsQ0FBQyxDQUFDNTJCLGNBQWdCLENBQUMsQ0FBQ0EsY0FDN0I2SCx3UkFBb0JBLElBQ3BCViwrUUFBV0EsQ0FBQztnQkFBRUMsWUFBWTtnQkFBR0MsVUFBVTtZQUFJO1lBRzdDOzs7OzthQUtHO1lBRUgsSUFBSS9MO1lBQ0osTUFBTXU3QixzQ0FDSkosaUJBQWlCMXlCLGtCQUFBLEdBQ2IsT0FDQTR5QixhQUNHenZCLElBQUksQ0FDSDVyQix1UUFBR0EsQ0FBQyxDQUFDbWUsSUFBTUEsRUFBRTZCLHVCQUF1QixHQUFHcUYsVUFBVSxHQUNqRGtILHdSQUFvQkEsSUFFckIxUixTQUFTLENBQUMsQ0FBQzJnQzs7Z0JBRVYsSUFBSSxDQUFDeDdCLHlCQUF5QjtvQkFDNUJBLDBCQUNFdzdCLCtCQUErQnh1QyxnQkFBZ0JvVCxPQUFPO29CQUN4RDs7Z0JBRUZKLDBCQUNFdzdCLCtCQUErQnh1QyxnQkFBZ0JvVCxPQUFPO2dCQUV4RCxJQUFJbzdCLGdDQUFnQ3h1QyxnQkFBZ0JrVCxTQUFTLEVBQUU7b0JBQzdELE9BQU9rN0IsMkJBQ0xudUMsYUFBYXd1QyxNQUFNLEVBQ25CNThDOztnQkFJSnU4QywyQkFBMkJudUMsYUFBYXd1QyxNQUFNLEVBQUU7b0JBQzlDOTFCLE9BQU91MUIsYUFBYVEsV0FBVztvQkFDL0JoMkIsUUFBUXcxQixhQUFhUyxZQUFZO2dCQUNsQztZQUNIO1lBRVIsSUFBSUM7WUFDSixNQUFNQyxpQkFBaUJWLGlCQUFpQjF5QixrQkFBQSxHQUNwQyxPQUNBLElBQUlxekIsZUFBZTtnQkFDakIsTUFBTUMsb0JBQW9CO29CQUN4QnAyQixPQUFPdTFCLGFBQWFRLFdBQVc7b0JBQy9CaDJCLFFBQVF3MUIsYUFBYVMsWUFBWTs7O2dCQUluQyxJQUFJLENBQUNDLGdCQUFnQjtvQkFDbkJBLGlCQUFpQkc7b0JBQ2pCOztnQkFHRixJQUNFLGVBQWdCcDJCLEtBQUssS0FBS28yQixrQkFBa0JwMkIsS0FBSyxJQUMvQ2kyQixlQUFlbDJCLE1BQU0sS0FBS3EyQixrQkFBa0JyMkIsTUFBTSxJQUNwRDFGLDRCQUE0QmhULGdCQUFnQmtULFNBQVMsRUFDckQ7b0JBQ0E7O2dCQUdGLE1BQU04N0IsZ0JBQWdCdjdDLEtBQUtxUSxHQUFHLENBQzVCaXJDLGtCQUFrQnAyQixLQUFLLEdBQUdpMkIsZUFBZWoyQixLQUFLLEVBQzlDbzJCLGtCQUFrQnIyQixNQUFNLEdBQUdrMkIsZUFBZWwyQixNQUFNOzs7OztnQkFNbEQsTUFBTTgwQixlQUNKd0IsZ0JBQWdCLE1BQU0vdUMsYUFBYWd2QyxTQUFTLEdBQUdodkMsYUFBYXd1QyxNQUFNO2dCQUNwRUwsMkJBQTJCWixjQUFjO29CQUN2QzcwQixPQUFPdTFCLGFBQWFRLFdBQVc7b0JBQy9CaDJCLFFBQVF3MUIsYUFBYVMsWUFBWTtnQkFDbEM7Z0JBQ0RDLGlCQUFpQkc7WUFDbkI7WUFDSkYsZ0JBQWdCL0MsUUFBUW9DOzs7WUFJeEIsTUFBTWdCLDhCQUE4QmYsaUJBQWlCMXlCLGtCQUFBLEdBQ2pELE9BQ0E0eUIsYUFDR3p2QixJQUFJLENBQ0h1d0IsMlJBQXVCQSxDQUFDLG9CQUN4Qm44Qyx1UUFBR0EsQ0FBQyxDQUFDbWUsSUFDSGtILGNBQWMsZUFBZW5ILFNBQVNDLEtBQUtNLGVBQWVOLEtBRTVEb08sd1JBQW9CQSxJQUVyQjFSLFNBQVMsQ0FBQyxDQUFDd3VCO2dCQUNWLElBQUlBLGNBQWM7O29CQUVoQitSLDJCQUEyQm51QyxhQUFhZ3ZDLFNBQVMsRUFBRTt3QkFDakR0MkIsT0FBT3UxQixhQUFhUSxXQUFXO3dCQUMvQmgyQixRQUFRdzFCLGFBQWFTLFlBQVk7b0JBQ2xDO3VCQUNJOztvQkFFTFAsMkJBQTJCbnVDLGFBQWFxMEIsSUFBSSxFQUFFemlDOztZQUVsRDtZQUVOcThDLGFBQWFrQixRQUFRLEdBQUc7WUFDeEJsQixhQUFhbUIsV0FBVyxHQUFHOzs7O1lBSzNCbkIsYUFBYXByQixLQUFLLEdBQUc7WUFFckIsTUFBTXdzQixxQkFBcUJqQixhQUN4Qnp2QixJQUFJLENBQ0h1d0IsMlJBQXVCQSxDQUNyQjkyQixjQUFjLGVBQWUsZ0JBQWdCLHNCQUdoRHhLLFNBQVMsQ0FBQyxDQUFDc0Q7Z0JBQ1YsTUFBTSt3QixTQUNKN3BCLGNBQWMsZUFBZWxILEVBQUVtVSxXQUFXLEdBQUduVSxFQUFFbytCLGlCQUFpQjtnQkFDbEUsSUFBSXJCLGFBQWFzQixTQUFTLEtBQUt0TixRQUFRO2dCQUN2Q2dNLGFBQWFzQixTQUFTLEdBQUd0TixVQUFVO2dCQUNuQyxJQUFJdGUsY0FBY0csYUFBYTtvQkFDN0IzZ0IsV0FBVzt3QkFDVDhxQyxhQUFhc0IsU0FBUyxHQUFHdE4sVUFBVTt3QkFDbkNnTSxhQUFhdUIsSUFBSSxHQUFHeC9CLEtBQUssQ0FBQyxDQUFDbkY7NEJBQ3pCLElBQUksQ0FBQy9JLE1BQU0sQ0FBQyxRQUFRLENBQXVCLHdCQUFFK0k7d0JBQy9DOzs7O3VCQUlDOztZQUVQO1lBRUYsT0FBTztnQkFDTHNqQywyQkFBMkJudUMsYUFBYXEwQixJQUFJLEVBQUV6aUM7Z0JBQzlDMDhDLHFDQUFxQ3pnQztnQkFDckNvaEMsNkJBQTZCcGhDO2dCQUM3QndoQyxtQkFBbUJ4aEMsV0FBVztnQkFDOUIrZ0MsZ0JBQWdCdEQ7WUFDbEI7UUFDRjtRQUVBOzs7Ozs7Ozs7O1NBVUcsR0FDSCxJQUFnQixDQUFBbUUsZ0JBQUEsR0FBRyxDQUNqQkMsY0FDQXI0QixXQUNBZTtZQUVBLE1BQU1YLGNBQWMsSUFBSSxDQUFDdUQsU0FBUyxDQUFDNUQsMEJBQTBCLENBQUNDO1lBQzlELElBQUksQ0FBQ0ksZUFBZUEsWUFBWStELGtCQUFrQixFQUFFO1lBRXBELE1BQU00eUIsZUFBZSxJQUFJLENBQUNwekIsU0FBUyxDQUFDK0QsYUFBYSxDQUFDSixJQUFJLENBQ3BENXJCLHVRQUFHQSxDQUFDLENBQUMraUIsS0FBT0EsR0FBRzNqQixJQUFJLENBQUMsQ0FBQytlLElBQU1BLEVBQUVtRyxTQUFTLEtBQUtBLGFBQzNDZzNCLDZRQUFTQSxDQUFDLENBQUNuOUIsSUFBTSxDQUFDLENBQUNBLElBQ25Cb08sd1JBQW9CQSxJQUNwQlYsK1FBQVdBLENBQUM7Z0JBQUVDLFlBQVk7Z0JBQUdDLFVBQVU7WUFBSTtZQUc3QyxNQUFNNndCLGVBQWUsQ0FDbkJqakIsVUFDQTBnQjtnQkFFQSxJQUFJLENBQUMxZ0IsVUFBVTtnQkFDZixJQUFJLGVBQWVnakIsY0FBYztvQkFDL0JBLGFBQWFFLFNBQVMsQ0FBQ2xqQixVQUFVMWMsS0FBSyxDQUFDLENBQUNuRjt3QkFDdEMsSUFBSSxDQUFDL0ksTUFBTSxDQUFDLFFBQVEsQ0FBa0MsbUNBQUUrSTtvQkFDMUQ7O2dCQUdGLElBQUl1aUMsZ0JBQWdCLGVBQWVBLGNBQWM7O29CQUUvQ0EsYUFBYXdDLFNBQVMsQ0FBQ2xqQixVQUFVMWMsS0FBSyxDQUFDLENBQUNuRjt3QkFDdEMsSUFBSSxDQUFDL0ksTUFBTSxDQUFDLFFBQVEsQ0FBa0MsbUNBQUUrSTtvQkFDMUQ7O1lBRUo7WUFFQSxJQUFJZ2xDLGFBQXFEaitDO1lBQ3pELElBQUlrK0MsV0FBaUNsK0M7WUFFckMsTUFBTW0rQyxnQ0FBZ0MzQixhQUNuQ3p2QixJQUFJLENBQ0h1d0IsMlJBQXVCQSxDQUNyQjkyQixjQUFjLDBCQUNWLDJCQUNBLGdCQUdQeEssU0FBUyxDQUFDLENBQUNzRDtnQkFDVixNQUFNK3dCLFNBQ0o3cEIsY0FBYywwQkFDVmxILEVBQUU4K0Isc0JBQUEsR0FDRjkrQixFQUFFa1UsV0FBVztnQkFDbkIsSUFBSXNxQixhQUFhSCxTQUFTLEtBQUt0TixRQUFRO2dCQUV2QzkrQixXQUFXO29CQUNUdXNDLGFBQWFILFNBQVMsR0FBR3ROLFVBQVU7b0JBQ25DLElBQUksQ0FBQ0EsUUFBUTs7Ozs7Ozs7b0JBU2IsTUFBTW1MLGVBQWUsSUFBSSxDQUFDSCx1QkFBdUI7b0JBQ2pELElBQUlHLGNBQWM7O3dCQUVoQnNDLGFBQWE3c0IsS0FBSyxHQUFHO3dCQUNyQmd0QixZQUFZdkU7d0JBQ1p1RSxhQUFhekMsYUFBYTZDLHVCQUF1QixDQUFDaE87d0JBQ2xENk4sWUFBQUEsQ0FBQUEsV0FBYTFDLGFBQWE4QyxVQUFVO3dCQUNwQ0osU0FBU0ssSUFBSSxDQUFDMWdELEtBQUssR0FBR3loQixFQUFFay9CLFdBQVcsSUFBSSxJQUFJLENBQUNoRSxPQUFPLENBQUN4OEIsS0FBSyxDQUFDeWdDLE1BQU07d0JBQ2hFUixXQUFXUyxPQUFPLENBQUNSLFVBQVVRLE9BQU8sQ0FBQ2xELGFBQWFtRCxXQUFXO3dCQUM3RCxJQUFJLENBQUNwRCxrQkFBa0I7MkJBQ2xCOzt3QkFFTHVDLGFBQWE3c0IsS0FBSyxHQUFHO3dCQUNyQjZzQixhQUFhRixJQUFJLEdBQUd4L0IsS0FBSyxDQUFDLENBQUNuRjs0QkFDekIsSUFBSSxDQUFDL0ksTUFBTSxDQUFDLFFBQVEsQ0FBNkIsOEJBQUUrSTt3QkFDckQ7O29CQUdGLE1BQU0sRUFBRTJsQyxjQUFjLEVBQUUsR0FBRyxJQUFJLENBQUNwRSxPQUFPLENBQUN4OEIsS0FBSztvQkFDN0MsSUFBSTRnQyxnQkFBZ0JiLGFBQWFhLGdCQUFnQnBEO2dCQUNuRDtZQUNGO1lBRUYsTUFBTXFELHFCQUFxQixDQUFFLGdCQUFlZixZQUFBLElBQ3hDLE9BQ0EsSUFBSSxDQUFDdEQsT0FBTyxDQUFDeDhCLEtBQUssQ0FBQzRjLGVBQWUsQ0FBQzVlLFNBQVMsQ0FBQyxDQUFDOGU7Z0JBQzVDLE1BQU0wZ0IsZUFBZSxJQUFJLENBQUNILHVCQUF1QjtnQkFDakQwQyxhQUFhampCLFVBQVUwZ0I7WUFDekI7WUFFSixNQUFNc0QscUJBQXFCL2lDLGlSQUFhQSxDQUFDO2dCQUN2QyxJQUFJLENBQUN5K0IsT0FBTyxDQUFDeDhCLEtBQUssQ0FBQytnQyxPQUFPO2dCQUMxQnZDLGFBQWF6dkIsSUFBSSxDQUFDdXdCLDJSQUF1QkEsQ0FBQzthQUMzQyxFQUFFdGhDLFNBQVMsQ0FBQyxDQUFDLENBQUN5aUMsUUFBUW4vQixFQUFFO2dCQUN2QixNQUFNMC9CLG9CQUFvQjEvQixFQUFFay9CLFdBQVcsSUFBSUM7Z0JBQzNDWCxhQUFhVyxNQUFNLEdBQUdPO2dCQUN0QixJQUFJZCxVQUFVQSxTQUFTSyxJQUFJLENBQUMxZ0QsS0FBSyxHQUFHbWhEO1lBQ3RDO1lBRUFsQixhQUFhUCxRQUFRLEdBQUc7WUFFeEIsT0FBTztnQkFDTHNCLG9CQUFvQjVpQztnQkFDcEI2aUMsbUJBQW1CN2lDLFdBQVc7Z0JBQzlCa2lDLDhCQUE4QmxpQyxXQUFXO2dCQUN6QzZoQyxhQUFhSCxTQUFTLEdBQUc7Z0JBQ3pCTSxZQUFZdkU7Z0JBQ1p3RSxVQUFVeEU7WUFDWjtRQUNGO1FBRVEsSUFBdUIsQ0FBQTJCLHVCQUFBLEdBQUc7WUFDaEMsSUFBSSxJQUFJLENBQUNHLFlBQVksSUFBSSxDQUFDenBCLFlBQVksT0FBTyxJQUFJLENBQUN5cEIsWUFBWTtZQUM5RCxNQUFNSixVQUFVLElBQUk2RDtZQUNwQixJQUFJN0QsUUFBUXA5QixLQUFLLEtBQUssYUFBYTtnQkFDakNzOUIsU0FBU2hvQyxnQkFBZ0IsQ0FBQyxTQUFTLElBQUksQ0FBQ2lvQyxrQkFBa0I7O1lBRTVELE9BQVEsSUFBSSxDQUFDQyxZQUFZLEdBQUdKO1FBQzlCO1FBRVEsSUFBa0IsQ0FBQUcsa0JBQUEsR0FBRztZQUMzQixJQUFJLElBQUksQ0FBQ0MsWUFBWSxFQUFFeDlCLFVBQVUsYUFBYTtnQkFDNUMsSUFBSSxDQUFDdzlCLFlBQUEsQ0FDRjBELE1BQU0sR0FDTjlnQyxLQUFLLENBQUMsQ0FBQzFOLE1BQVEsSUFBSSxDQUFDUixNQUFNLENBQUMsUUFBUSw0QkFBNEIsRUFBRVEsTUFDakVJLElBQUksQ0FBQztvQkFDSndxQyxTQUFTOW5DLG1CQUFtQixDQUFDLFNBQVMsSUFBSSxDQUFDK25DLGtCQUFrQjtnQkFDL0Q7O1FBRU47UUFuZ0JFLElBQUksQ0FBQ255QixTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ294QixPQUFPLEdBQUdBOztJQWtCakJ4WCxhQUFhcEosU0FBc0M7UUFDakQsSUFBSSxDQUFDQSxTQUFTLEdBQUdBOztJQUduQixJQUFJaWlCLHFCQUFrQjtRQUNwQixNQUFNamEsZ0JBQTRDLEVBQUU7UUFDcEQsS0FBSyxNQUFNdGlCLEtBQUssSUFBSSxDQUFDOEosU0FBUyxDQUFDcUcsa0JBQWtCLENBQUU7Ozs7WUFJakQsSUFBSW5RLEVBQUVvZ0IsY0FBYyxJQUFJcmdCLFNBQVNDLElBQUk7Z0JBQ25DLE1BQU00Z0IsV0FDSixJQUFJLENBQUNpZiwrQkFBK0IsQ0FBQzcvQixFQUFFbUcsU0FBUyxDQUFDLElBQ2pELElBQUksQ0FBQzA1QiwrQkFBK0IsQ0FBQzdFLGtCQUFrQjtnQkFFekQsSUFBSXBhLFVBQVVsUCxZQUFZLE9BQU87b0JBQy9CNFEsY0FBYzlqQyxJQUFJLENBQUM7d0JBQ2pCMHRCLFFBQVFsTSxFQUFFa00sTUFBTTt3QkFDaEIvRixXQUFXbkcsRUFBRW1HLFNBQVM7d0JBQ3RCZSxXQUFXbmpCLFVBQVVvYyxLQUFLO3dCQUMxQm1ILFdBQVdzWixVQUFVdFosYUFBYXRILEVBQUVvZ0IsY0FBYztvQkFDbkQ7OztZQUdMLElBQUlwZ0IsRUFBRTgvQixvQkFBb0IsSUFBSXgvQixlQUFlTixJQUFJO2dCQUMvQ3NpQixjQUFjOWpDLElBQUksQ0FBQztvQkFDakIwdEIsUUFBUWxNLEVBQUVrTSxNQUFNO29CQUNoQi9GLFdBQVduRyxFQUFFbUcsU0FBUztvQkFDdEJlLFdBQVduakIsVUFBVXdjLFlBQVk7b0JBQ2pDK0csV0FBV3RILEVBQUU4L0Isb0JBQW9CO2dCQUNsQzs7WUFFSCxJQUFJdC9CLG9CQUFvQlIsSUFBSTtnQkFDMUJzaUIsY0FBYzlqQyxJQUFJLENBQUM7b0JBQ2pCMHRCLFFBQVFsTSxFQUFFa00sTUFBTTtvQkFDaEIvRixXQUFXbkcsRUFBRW1HLFNBQVM7b0JBQ3RCZSxXQUFXbmpCLFVBQVUwYyxrQkFBa0I7Z0JBQ3hDOzs7UUFHTCxPQUFPNmhCOztJQUdULElBQUl1ZCxrQ0FBK0I7UUFDakMsT0FBT3RqQyxnQkFBZ0IsSUFBSSxDQUFDKytCLGdDQUFnQzs7QUFxYy9EO0FDcG5CRDs7Ozs7Ozs7Q0FRRyxTQUNVeUU7SUFBYm5pRCxhQUFBO1FBQ1UsSUFBVyxDQUFBb2lELFdBQUEsR0FBb0IsRUFBRTtRQUd6Qzs7OztTQUlHLEdBQ0gsS0FBQUMsY0FBYyxHQUFHLENBQUNEO1lBQ2hCLElBQUksQ0FBQ0EsV0FBVyxHQUFHQSxlQUFlLEVBQUU7UUFDdEM7UUFFQTs7O1NBR0csR0FDSCxLQUFBRSxlQUFlLEdBQUcsQ0FBQ3gyQjtZQUNqQixJQUFJLENBQUNBLFFBQVEsR0FBR0E7UUFDbEI7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQW10QixhQUFhLEdBQUcsQ0FBQ3NKO1lBQ2YsT0FBTyxJQUFJLENBQUNILFdBQVcsQ0FBQzkvQixRQUFRLENBQUNpZ0M7UUFDbkM7UUFFQTs7O1NBR0csR0FDSCxLQUFBQyxVQUFVLEdBQUcsQ0FBQ2w1QjtZQUNaLE9BQVFBO2dCQUNOLEtBQUtuakIsVUFBVXNjLEtBQUs7b0JBQ2xCLE9BQU8sSUFBSSxDQUFDdzJCLGFBQWEsQ0FBQzkrQyxjQUFjZSxVQUFVO2dCQUNwRCxLQUFLaUwsVUFBVW9jLEtBQUs7b0JBQ2xCLE9BQU8sSUFBSSxDQUFDMDJCLGFBQWEsQ0FBQzkrQyxjQUFjZ0IsVUFBVTtnQkFDcEQsS0FBS2dMLFVBQVV3YyxZQUFZO2dCQUMzQixLQUFLeGMsVUFBVTBjLGtCQUFrQjtvQkFDL0IsT0FBTyxJQUFJLENBQUNvMkIsYUFBYSxDQUFDOStDLGNBQWNjLFdBQVc7Z0JBQ3JELEtBQUtrTCxVQUFVZzFCLFdBQVc7b0JBQ3hCLE9BQU87Z0JBQ1Q7b0JBQ0U2TSxnQkFBZ0IxZSxXQUFXOztRQUVqQztRQUVBOzs7Ozs7U0FNRyxHQUNILElBQVUsQ0FBQW01QixVQUFBLEdBQUcsQ0FDWEYsWUFDQXoyQixXQUE2QyxJQUFJLENBQUNBLFFBQVE7WUFFMUQsSUFBSSxDQUFDQSxVQUFVLE9BQU87WUFFdEIsTUFBTSxFQUFFdWpCLEtBQUssRUFBRXFULEtBQUssRUFBRUMsYUFBYSxFQUFFLEdBQUc3MkI7WUFDeEMsT0FBUXkyQjtnQkFDTixLQUFLcG9ELGNBQWNlLFVBQVU7b0JBQzNCLE9BQU9tMEMsTUFBTXVULHNCQUFzQjtnQkFDckMsS0FBS3pvRCxjQUFjZ0IsVUFBVTtvQkFDM0IsT0FBT3VuRCxNQUFNRSxzQkFBc0I7Z0JBQ3JDLEtBQUt6b0QsY0FBY2MsV0FBVztvQkFDNUIsT0FBTzBuRCxjQUFjQyxzQkFBc0I7Z0JBQzdDO29CQUNFLE9BQU87O1FBRWI7O0FBQ0Q7QUN2RUQ7O0NBRUcsU0FDVUM7SUFXWDs7Ozs7S0FLRyxHQUNIN2lELFlBQ0VNLElBQVksRUFDWm1CLFVBQTJCO1FBQ3pCaWxCLG9CQUFvQnBDO0lBQ3JCO1FBRUQsSUFBSSxDQUFDaGtCLElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNtQixPQUFPLEdBQUdBOztBQUVsQjtBQUVEOzs7Q0FHRyxHQUNILE1BQU1xaEQ7SUFPSjs7OztLQUlHLEdBQ0g5aUQsWUFBWStpRCxTQUFxQjtRQVVqQzs7OztTQUlHLEdBQ0gsS0FBQUMsUUFBUSxHQUFHLENBQUNDO1lBQ1YsSUFBSSxDQUFDRixTQUFTLENBQUNFLFNBQVMzaUQsSUFBSSxDQUFDLEdBQUcyaUQ7UUFDbEM7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQUMsVUFBVSxHQUFHLENBQUM1aUQ7WUFDWixPQUFPLElBQUksQ0FBQ3lpRCxTQUFTLENBQUN6aUQsS0FBSztRQUM3QjtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBcWQsR0FBRyxHQUFHLENBQUNyZDtZQUNMLElBQUksQ0FBQyxJQUFJLENBQUN5aUQsU0FBUyxDQUFDemlELEtBQUssRUFBRTtnQkFDekIsSUFBSSxDQUFDMGlELFFBQVEsQ0FBQyxJQUFJSCxTQUFTdmlEOztZQUU3QixPQUFPLElBQUksQ0FBQ3lpRCxTQUFTLENBQUN6aUQsS0FBSztRQUM3QjtRQXJDRSxJQUFJLENBQUN5aUQsU0FBUyxHQUFHQSxVQUFVdDZCLE1BQU0sQ0FDL0IsQ0FBQ2UsS0FBS3k1QjtZQUNKejVCLEdBQUcsQ0FBQ3k1QixTQUFTM2lELElBQUksQ0FBQyxHQUFHMmlEO1lBQ3JCLE9BQU96NUI7V0FFVDs7QUFpQ0w7QUFFRDs7O0NBR0csR0FDVSxNQUFBMjVCLFlBQVksSUFBSUwsa0JBQWtCO0lBQzdDLElBQUlELFNBQVMsV0FBVztRQUN0Qm44QixvQkFBb0JwQzs7SUFFdEIsSUFBSXUrQixTQUFTLGVBQWU7UUFDMUJuOEIsb0JBQW9CcEM7O0lBRXRCLElBQUl1K0IsU0FBUyxjQUFjO1FBQ3pCbjhCLG9CQUFvQmpDOztJQUV0QixJQUFJbytCLFNBQVMsY0FBYztRQUN6Qm44QixvQkFBb0JqQzs7Q0FFdkI7TUM3R1kyK0I7SUFRWHBqRCxZQUE2QnVpRCxVQUFtQztRQUFuQyxJQUFVLENBQUFBLFVBQUEsR0FBVkE7UUFOckIsS0FBQWMsaUJBQWlCLEdBQUcsSUFBSS9rQztRQUV4QixJQUFXLENBQUFnbEMsV0FBQSxHQUFZO1FBQ3ZCLEtBQUF6bkMsU0FBUyxHQUFHLElBQUlxYTtRQUNoQixLQUFBbGpCLE1BQU0sR0FBRzhFLFVBQVU7WUFBQztTQUFjO1FBR3hDLE1BQU1TLFNBQVMsSUFBSSxDQUFDOHFDLGlCQUFpQixDQUFDOXFDLE1BQU07UUFFNUMsSUFBSSxDQUFDczdCLEtBQUssR0FBRyxDQUFDO1lBQ1osTUFBTTBQLGdCQUFnQjtnQkFDcEIsSUFBSTdzQyxpQkFBaUI7b0JBQ25CLElBQUksQ0FBQzhzQyxRQUFRLENBQUM7dUJBQ1Q7b0JBQ0wsSUFBSSxDQUFDQSxRQUFRLENBQUM7O1lBRWxCO1lBRUEsSUFBSSxDQUFDQyx1QkFBdUI7Z0JBQzFCLE9BQU9GOztZQUdULElBQUk7Z0JBQ0YsTUFBTXBqRCxTQUFTLE1BQU13VyxVQUFVeXJDLFdBQVcsQ0FBQ3NCLEtBQUssQ0FBQztvQkFDL0NwakQsTUFBTWlpRCxXQUFXb0IsU0FBUztnQkFDM0I7Z0JBRUQsSUFBSSxDQUFDcHJDLE9BQU9PLE9BQU8sRUFBRTtvQkFDbkIsSUFBSSxDQUFDMHFDLFFBQVEsQ0FBQ3JqRCxPQUFPMmdCLEtBQUs7b0JBQzFCM2dCLE9BQU9pVyxnQkFBZ0IsQ0FBQyxVQUFVLElBQU0sSUFBSSxDQUFDb3RDLFFBQVEsQ0FBQ3JqRCxPQUFPMmdCLEtBQUssR0FBRzt3QkFDbkV2STtvQkFDRDs7Y0FFSCxPQUFPL0UsS0FBSztnQkFDWixJQUFJLENBQUNSLE1BQU0sQ0FBQyxTQUFTLHFDQUFxQ1E7Z0JBQzFEK3ZDOzs7O0lBS04zbUMsVUFBTztRQUNMLElBQUksQ0FBQ2tFLEtBQUssR0FBR2hlO1FBQ2IsSUFBSSxDQUFDdWdELGlCQUFpQixDQUFDN2tDLEtBQUs7O0lBRzlCLE1BQU1vbEMsV0FBUTtRQUNaLE1BQU0sSUFBSSxDQUFDL1AsS0FBSztRQUNoQixJQUFJLENBQUMsSUFBSSxDQUFDL3lCLEtBQUssRUFBRTtZQUNmLE1BQU0sSUFBSS9nQixNQUFNOztRQUVsQixPQUFPLElBQUksQ0FBQytnQixLQUFLOztJQUduQixNQUFNK2lDLE9BQU8sRUFDWEMsY0FBYyxLQUFLLEVBQ25CQyxvQkFBb0IsS0FBSyxLQUNpQyxFQUFFO1FBQzVELE9BQU8sTUFBTWhuQyxtQkFDWCxxQkFBcUIsSUFBSSxDQUFDd2xDLFVBQVUsQ0FBQ29CLFNBQVMsRUFBRSxFQUNoRDtZQUNFLElBQ0UsTUFBTyxJQUFJLENBQUNDLFFBQVEsT0FBUSxZQUMzQixJQUFJLENBQUNOLFdBQVcsSUFBSSxDQUFDUSxhQUN0QjtnQkFDQSxNQUFNRSxZQUFZLElBQUksQ0FBQ2xqQyxLQUFLLEtBQUs7Z0JBRWpDLElBQUksQ0FBQ2tqQyxhQUFhRCxtQkFBbUI7b0JBQ25DLE1BQU0sSUFBSWhrRCxNQUNSOztnQkFJSixPQUFPaWtEOztZQUdULElBQUk7Z0JBQ0YsSUFBSSxDQUFDVixXQUFXLEdBQUc7Z0JBQ25CLElBQUksQ0FBQ0UsUUFBUSxDQUFDO2dCQUNkLE1BQU0vdkIsU0FBUyxNQUFNOWMsVUFBVXN0QyxZQUFZLENBQUNDLFlBQVksQ0FDdEQsSUFBSSxDQUFDM0IsVUFBVSxDQUFDNEIsV0FBVztnQkFFN0JDLHFCQUFxQjN3QjtnQkFDckIsSUFBSSxDQUFDK3ZCLFFBQVEsQ0FBQztnQkFDZCxPQUFPO2NBQ1AsT0FBT3puQyxHQUFHO2dCQUNWLElBQ0VBLEtBQ0EsT0FBT0EsTUFBTSxZQUNiLFVBQVVBLEtBQ1RBLENBQUFBLEVBQUV6YixJQUFJLEtBQUsscUJBQXFCeWIsRUFBRXpiLElBQUksS0FBSyxrQkFDNUM7b0JBQ0EsSUFBSSxDQUFDMFMsTUFBTSxDQUFDLFFBQVEsc0NBQXNDO3dCQUN4RHV2QyxZQUFZLElBQUksQ0FBQ0EsVUFBVTtvQkFDNUI7b0JBQ0QsSUFBSSxDQUFDaUIsUUFBUSxDQUFDO29CQUVkLElBQUlPLG1CQUFtQjt3QkFDckIsTUFBTWhvQzs7b0JBR1IsT0FBTzs7Z0JBR1QsSUFBSSxDQUFDL0ksTUFBTSxDQUFDLFNBQVMsd0JBQXdCLEVBQUU7b0JBQzdDYSxPQUFPa0k7b0JBQ1B3bUMsWUFBWSxJQUFJLENBQUNBLFVBQVU7Z0JBQzVCO2dCQUNELElBQUksQ0FBQ2lCLFFBQVEsQ0FBQztnQkFDZCxNQUFNem5DOztRQUVWOztJQUlKc29DLE9BQU9udUMsRUFBMkM7UUFDaEQsSUFBSSxDQUFDMkYsU0FBUyxDQUFDb04sR0FBRyxDQUFDL1M7UUFDbkIsSUFBSSxJQUFJLENBQUM0SyxLQUFLLEVBQUU1SyxHQUFHLElBQUksQ0FBQzRLLEtBQUs7UUFDN0IsT0FBTyxJQUFNLElBQUksQ0FBQ2pGLFNBQVMsQ0FBQ3VDLE1BQU0sQ0FBQ2xJOztJQUdyQ3NMLGVBQVk7UUFDVixPQUFPLElBQUksQ0FBQzhpQyxrQkFBa0IsR0FBR3owQixJQUFJOzs7O1FBS25DNXJCLHVRQUFHQSxDQUFDLENBQUM2YyxRQUFVQSxVQUFVOztJQUk3QnlqQyxvQkFBaUI7UUFDZixPQUFPLElBQUksQ0FBQ0Qsa0JBQWtCOztJQUdoQ0UsMkJBQXdCO1FBQ3RCLE9BQU8sSUFBSSxDQUFDRixrQkFBa0IsR0FBR3owQixJQUFJLENBQ25DNXJCLHVRQUFHQSxDQUFDLENBQUM2YyxRQUFVQSxVQUFVOztJQUlyQndqQyxxQkFBa0I7UUFDeEIsT0FBT0csb1JBQWdCQSxDQUNyQixDQUFDamxDLFVBQVksSUFBSSxDQUFDNmtDLE1BQU0sQ0FBQzdrQyxVQUN6QixDQUFDQSxTQUFTa2xDLFdBQWFBOztJQUluQmxCLFNBQVMxaUMsS0FBNkI7UUFDNUMsSUFBSSxJQUFJLENBQUNBLEtBQUssS0FBS0EsT0FBTztZQUN4QixJQUFJLENBQUNBLEtBQUssR0FBR0E7WUFDYixJQUFJLENBQUNqRixTQUFTLENBQUNwQyxPQUFPLENBQUMsQ0FBQ2tyQyxXQUFhQSxTQUFTN2pDOzs7QUFHbkQ7QUFFRCxTQUFTMmlDO0lBQ1AsT0FDRSxDQUFDL3NDLG1CQUNELE9BQU9DLGNBQWMsZUFDckIsQ0FBQyxDQUFDQSxVQUFVeXJDLFdBQVcsRUFBRXNCO0FBRTdCO0FDaEtBOzs7Ozs7Q0FNRyxHQUNILE1BQU1rQixhQUFhLENBQUNyQyxZQUErQnBoRDtJQUNqRCxPQUFPc0Qsd1FBQUlBLENBQ1QsQ0FBQztRQUNDLElBQUlrNUIsVUFBVSxNQUFNaG5CLFVBQVVzdEMsWUFBWSxDQUFDWSxnQkFBZ0I7OztRQUczRCxNQUFNQyxtQ0FBbUNubkIsUUFBUTVaLElBQUksQ0FDbkQsQ0FBQzhYLFNBQVdBLE9BQU8xNkIsSUFBSSxLQUFLQSxRQUFRMDZCLE9BQU9oSSxLQUFLLEtBQUs7UUFFdkQsSUFBSWl4QixvQ0FBcUMsTUFBTXZDLFdBQVdzQixNQUFNLElBQUs7WUFDbkVsbUIsVUFBVSxNQUFNaG5CLFVBQVVzdEMsWUFBWSxDQUFDWSxnQkFBZ0I7O1FBRXpELE9BQU9sbkIsUUFBUXpsQixNQUFNLENBQ25CLENBQUMyakIsU0FDQ0EsT0FBTzE2QixJQUFJLEtBQUtBLFFBQ2hCMDZCLE9BQU9oSSxLQUFLLEtBQUssTUFDakJnSSxPQUFPK0IsUUFBUSxLQUFLOztBQUk5QjtBQUVBOzs7Q0FHRyxHQUNJLE1BQU1tbkIsb0NBQW9DO0lBQy9DLElBQUksT0FBTzNHLGFBQWEsYUFBYSxPQUFPO0lBQzVDLE1BQU1wQixVQUFVb0IsU0FBUzRHLGFBQWEsQ0FBQztJQUN2QyxPQUFPLGVBQWVoSTtBQUN4QjtBQUVBOztDQUVHLEdBQ0gsTUFBTWlJLHlCQUF5QjtJQUM3QjVWLE9BQU87UUFDTDZWLGlCQUFpQjtRQUNqQkMsa0JBQWtCO1FBQ2xCQyxrQkFBa0I7SUFDbkI7O0FBR0g7O0NBRUcsR0FDSCxNQUFNQyx5QkFBeUI7SUFDN0IzQyxPQUFPO1FBQ0w5NEIsT0FBTztRQUNQRCxRQUFRO0lBQ1Q7O0FBR0g7OztDQUdHLEdBQ1UsTUFBQTI3Qiw0QkFBNEI3UyxLQUN2QyxJQUNFLElBQUkyUSxrQkFBa0I7UUFDcEJlLGFBQWFjO1FBQ2J0QixXQUFXO0lBQ1o7QUFHTDs7O0NBR0csR0FDVSxNQUFBNEIsNEJBQTRCOVMsS0FDdkMsSUFDRSxJQUFJMlEsa0JBQWtCO1FBQ3BCZSxhQUFha0I7UUFDYjFCLFdBQVc7SUFDWjtBQUdMLE1BQU02QiwwQkFBMEIvUyxLQUFLOzs7SUFHbkMsSUFBSSxDQUFDOTdCLFVBQVVzdEMsWUFBWSxDQUFDN3RDLGdCQUFnQixFQUFFLE9BQU8zUix3UUFBSUEsQ0FBQyxFQUFFO0lBQzVELE9BQU9naEQsNlFBQVNBLENBQUM5dUMsVUFBVXN0QyxZQUFZLEVBQUUsZ0JBQWdCcDBCLElBQUksQ0FDM0Q1ckIsdVFBQUdBLENBQUMsSUFBTW5CLFlBQ1Y0aUQsZ1JBQVlBLENBQUM7QUFFakI7QUFFQTs7Ozs7Q0FLRyxHQUNVLE1BQUFDLGtCQUFrQmxULEtBQUs7SUFDbEMsT0FBT21ULHlRQUFLQSxDQUNWSiwyQkFDQUYsNEJBQTRCOWpDLFlBQVksSUFDeENxTyxJQUFJLENBQ0pnMkIsNlFBQVNBLENBQUMvaUQsWUFDVmdqRCw2UUFBU0EsQ0FBQyxJQUFNbEIsV0FBV1UsNkJBQTZCLGdCQUN4RHgxQiwrUUFBV0EsQ0FBQztBQUVoQjtBQUVBOzs7OztDQUtHLEdBQ1UsTUFBQWkyQixrQkFBa0J0VCxLQUFLO0lBQ2xDLE9BQU9tVCx5UUFBS0EsQ0FDVkosMkJBQ0FELDRCQUE0Qi9qQyxZQUFZLElBQ3hDcU8sSUFBSSxDQUNKZzJCLDZRQUFTQSxDQUFDL2lELFlBQ1ZnakQsNlFBQVNBLENBQUMsSUFBTWxCLFdBQVdXLDZCQUE2QixnQkFDeER6MUIsK1FBQVdBLENBQUM7QUFFaEI7QUFFQTs7Ozs7Q0FLRyxHQUNVLE1BQUFrMkIsd0JBQXdCdlQsS0FBSztJQUN4QyxPQUFPbVQseVFBQUtBLENBQ1ZKLDJCQUNBRiw0QkFBNEI5akMsWUFBWSxJQUN4Q3FPLElBQUksQ0FDSmcyQiw2UUFBU0EsQ0FBQy9pRCxZQUNWZ2pELDZRQUFTQSxDQUFDLElBQU1sQixXQUFXVSw2QkFBNkIsaUJBQ3hEeDFCLCtRQUFXQSxDQUFDO0FBRWhCO0FBRUEsSUFBSW0yQixxQkFBcUI7QUFDekIsTUFBTUMsWUFBWSxPQUNoQi9CLGFBQ0F0bkI7SUFFQSxNQUFNdGYsTUFBTSx1Q0FBdUMwb0MscUJBQW9CLEVBQUc7SUFDMUUsSUFBSTtRQUNGcHBCLFFBQVF2cEIsTUFBTWlLLEtBQUs0bUM7UUFDbkIsTUFBTTF3QixTQUFTLE1BQU05YyxVQUFVc3RDLFlBQVksQ0FBQ0MsWUFBWSxDQUFDQztRQUN6RHRuQixRQUFRdnBCLE1BQU0sR0FBR2lLLElBQUcsVUFBVyxFQUFFaVcsV0FBV0M7UUFDNUMsSUFBSXVCLGFBQWE7Ozs7WUFJZnJlLFVBQVVzdEMsWUFBWSxDQUFDa0MsYUFBYSxDQUFDLElBQUlDLE1BQU07O1FBRWpELElBQUlqQyxZQUFZekIsS0FBSyxFQUFFO1lBQ3JCLE1BQU0sQ0FBQ3grQixXQUFXLEdBQUd1UCxPQUFPZ0QsY0FBYztZQUMxQyxJQUFJdlMsWUFBWTtnQkFDZCxNQUFNLEVBQUUwRixLQUFLLEVBQUVELE1BQU0sRUFBRSxHQUFHekYsV0FBVzBsQixXQUFXO2dCQUNoRCxNQUFNMW5DLFNBQVNpaUQsWUFBWXpCLEtBQThCO2dCQUN6RCxJQUFJOTRCLFVBQVUxbkIsT0FBTzBuQixLQUFLLElBQUlELFdBQVd6bkIsT0FBT3luQixNQUFNLEVBQUU7b0JBQ3REa1QsUUFBUXZwQixNQUNOLEdBQUdpSyxJQUFTLE9BQ1osd0JBQXdCcmIsT0FBTzBuQixLQUFLLENBQUksR0FBQTFuQixPQUFPeW5CLE1BQU0sWUFBWUMsTUFBUyxHQUFBRCxPQUFROzs7O1FBTTFGLE9BQU84SjtNQUNQLE9BQU81ZixPQUFPO1FBQ2RncEIsUUFBUXZwQixNQUFNLENBQUcsRUFBQWlLLElBQWMsWUFBRzFKLE1BQWdCdlQsSUFBSTtRQUN0RCxNQUFNdVQ7O0FBRVY7QUFFQSxTQUFTd3lDLGlDQUFpQ3h5QyxLQUFjO0lBQ3RELElBQUksQ0FBQ0EsU0FBUyxPQUFPQSxVQUFVLFVBQVU7UUFDdkMsT0FBTzs7SUFHVCxJQUFJLFVBQVVBLFNBQVMsT0FBT0EsTUFBTXZULElBQUksS0FBSyxVQUFVO1FBQ3JELE1BQU1BLE9BQU91VCxNQUFNdlQsSUFBSTtRQUN2QixJQUFJO1lBQUM7WUFBd0I7U0FBZ0IsQ0FBQ2dpQixRQUFRLENBQUNoaUIsT0FBTztZQUM1RCxPQUFPOzs7SUFJWCxJQUFJLGFBQWF1VCxTQUFTLE9BQU9BLE1BQU01VCxPQUFPLEtBQUssVUFBVTtRQUMzRCxNQUFNQSxVQUFVNFQsTUFBTTVULE9BQU87UUFDN0IsSUFBSUEsUUFBUXFtRCxVQUFVLENBQUMseUJBQXlCO1lBQzlDLE9BQU87OztJQUlYLE9BQU87QUFDVDtBQUVBOzs7Ozs7O0NBT0csR0FDVSxNQUFBQyxpQkFBaUIsT0FDNUJDLGtCQUNBM3BCO0lBRUEsTUFBTXNuQixjQUFzQztRQUMxQzlVLE9BQU87WUFDTCxHQUFHNFYsdUJBQXVCNVYsS0FBSztZQUMvQixHQUFHbVgsZ0JBQWdCO1FBQ3BCOztJQUdILElBQUk7UUFDRixNQUFNbEIsNEJBQTRCekIsTUFBTSxDQUFDO1lBQ3ZDRSxtQkFBbUI7WUFDbkJELGFBQWE7UUFDZDtRQUNELE9BQU8sTUFBTW9DLFVBQVUvQixhQUFhdG5CO01BQ3BDLE9BQU9ocEIsT0FBTztRQUNkLElBQUl3eUMsaUNBQWlDeHlDLFVBQVUyeUMsa0JBQWtCNW9CLFVBQVU7O1lBRXpFLE1BQU0sRUFBRUEsUUFBUSxFQUFFLEdBQUc2b0Isb0JBQW9CLEdBQUdEO1lBQzVDMXVDLFVBQVU7Z0JBQUM7YUFBVSxFQUNuQixRQUNBLHVFQUNBO2dCQUFFakU7Z0JBQU9zd0M7Z0JBQWFzQztZQUFrQjtZQUUxQyxPQUFPRixlQUFlRTs7UUFHeEIzdUMsVUFBVTtZQUFDO1NBQVUsRUFBRSxTQUFTLDhCQUE4QjtZQUM1RGpFO1lBQ0Fzd0M7UUFDRDtRQUNELE1BQU10d0M7O0FBRVY7QUFFQTs7Ozs7OztDQU9HLEdBQ1UsTUFBQTZ5QyxpQkFBaUIsT0FDNUJGLGtCQUNBM3BCO0lBRUEsTUFBTXNuQixjQUFzQztRQUMxQ3pCLE9BQU87WUFDTCxHQUFHMkMsdUJBQXVCM0MsS0FBSztZQUMvQixHQUFHOEQsZ0JBQWdCO1FBQ3BCOztJQUVILElBQUk7UUFDRixNQUFNakIsNEJBQTRCMUIsTUFBTSxDQUFDO1lBQ3ZDRSxtQkFBbUI7WUFDbkJELGFBQWE7UUFDZDtRQUNELE9BQU8sTUFBTW9DLFVBQVUvQixhQUFhdG5CO01BQ3BDLE9BQU9ocEIsT0FBTztRQUNkLElBQUl3eUMsaUNBQWlDeHlDLFVBQVUyeUMsa0JBQWtCNW9CLFVBQVU7O1lBRXpFLE1BQU0sRUFBRUEsUUFBUSxFQUFFLEdBQUc2b0Isb0JBQW9CLEdBQUdEO1lBQzVDMXVDLFVBQVU7Z0JBQUM7YUFBVSxFQUNuQixRQUNBLHVFQUNBO2dCQUFFakU7Z0JBQU9zd0M7Z0JBQWFzQztZQUFrQjtZQUUxQyxPQUFPQyxlQUFlRDs7UUFHeEIzdUMsVUFBVTtZQUFDO1NBQVUsRUFBRSxTQUFTLDhCQUE4QjtZQUM1RGpFO1lBQ0Fzd0M7UUFDRDtRQUNELE1BQU10d0M7O0FBRVY7QUFFQSxJQUFJOHlDLHdCQUF3QjtBQUU1Qjs7Ozs7Ozs7Q0FRRyxHQUNVLE1BQUFDLHVCQUF1QixPQUNsQ25sRCxTQUNBbzdCO0lBRUEsTUFBTXRmLE1BQU0sMENBQTBDb3BDLHdCQUF1QixFQUFHO0lBQ2hGLElBQUk7UUFDRixNQUFNeEMsY0FBeUM7O1lBRTdDMEMsYUFBYTtZQUNiLEdBQUdwbEQsT0FBTztZQUNWaWhELE9BQ0UsT0FBT2poRCxTQUFTaWhELFVBQVUsWUFDdEJqaEQsUUFBUWloRCxLQUFLO2VBQ2I7Z0JBQ0U5NEIsT0FBTztvQkFBRTdVLEtBQUs7Z0JBQUk7Z0JBQ2xCNFUsUUFBUTtvQkFBRTVVLEtBQUs7Z0JBQUk7Z0JBQ25CK3hDLFdBQVc7b0JBQUVDLE9BQU87Z0JBQUU7Z0JBQ3RCLEdBQUd0bEQsU0FBU2loRCxLQUFLO1lBQ2xCO1lBQ1ByVCxPQUNFLE9BQU81dEMsU0FBUzR0QyxVQUFVLFlBQ3RCNXRDLFFBQVE0dEMsS0FBQSxHQUNSO2dCQUNFSCxjQUFjO29CQUFFNlgsT0FBTztnQkFBQztnQkFDeEIzQixrQkFBa0I7Z0JBQ2xCRixpQkFBaUI7Z0JBQ2pCQyxrQkFBa0I7Z0JBQ2xCLEdBQUcxakQsU0FBUzR0QyxLQUFLO1lBQ2xCOztRQUVUeFMsUUFBUXZwQixNQUFNaUssS0FBSzRtQztRQUNuQixNQUFNMXdCLFNBQVMsTUFBTTljLFVBQVVzdEMsWUFBWSxDQUFDK0MsZUFBZSxDQUFDN0M7UUFDNUR0bkIsUUFBUXZwQixNQUFNLEdBQUdpSyxJQUFHLFVBQVcsRUFBRWlXLFdBQVdDO1FBQzVDLE9BQU9BO01BQ1AsT0FBTzFYLEdBQUc7UUFDVjhnQixRQUFRdnBCLE1BQU0sQ0FBRyxFQUFBaUssSUFBYyxZQUFHeEIsRUFBWXpiLElBQUk7UUFDbER3WCxVQUFVO1lBQUM7U0FBVSxFQUFFLFNBQVMscUNBQXFDaUU7UUFDckUsTUFBTUE7O0FBRVY7QUFFYSxNQUFBa3JDLGFBQ1gsT0FBT3R3QyxjQUFjLGVBQ3JCLE9BQU9BLFVBQVVzdEMsWUFBWSxLQUFLLGNBQzlCdUIsMEJBQTBCMzFCLElBQUksQ0FDNUJnMkIsNlFBQVNBLENBQUMvaUQsWUFDVmdqRCw2UUFBU0EsQ0FBQyxJQUFNbnZDLFVBQVVzdEMsWUFBWSxDQUFDWSxnQkFBZ0IsS0FDdkQvMEIsK1FBQVdBLENBQUMsTUFFZGh0QjtBQUVOOzs7OztDQUtHLEdBQ1UsTUFBQXNoRCx1QkFBdUIsQ0FBQzN3QjtJQUNuQyxJQUFJLENBQUNBLE9BQU8yVyxNQUFNLEVBQUU7SUFDcEIzVyxPQUFPRSxTQUFTLEdBQUdsYSxPQUFPLENBQUMsQ0FBQ21hO1FBQzFCQSxNQUFNamEsSUFBSTtJQUNaOztJQUVBLElBQUksT0FBTzhaLE9BQU95ekIsT0FBTyxLQUFLLFlBQVk7O1FBRXhDenpCLE9BQU95ekIsT0FBTzs7QUFFbEI7QUNuWUE7Ozs7O0NBS0csR0FDSSxNQUFNQyxXQUFXLElBQU0sUUFBUXJ5QixJQUFJLENBQUNuZSxVQUFVb2UsU0FBUztNQ2dCeENxeUI7SUFzQnBCcG5ELFlBQXNCd1UsSUFBVSxFQUFFc00sS0FBUSxFQUFFd0ksU0FBb0I7UUFsQmhFOztTQUVHLEdBQ0gsSUFBVyxDQUFBKzlCLFdBQUEsR0FBRztRQU9KLElBQWEsQ0FBQTNpQixhQUFBLEdBQWUsRUFBRTtRQUNoQyxJQUEyQixDQUFBNGlCLDJCQUFBLEdBQUc7UUFDOUIsSUFBTyxDQUFBQyxPQUFBLEdBQTZCLEVBQUU7UUFDdEMsS0FBQUMsMEJBQTBCLEdBQUc1bkMsT0FBTztRQUNwQyxLQUFBNm5DLGdDQUFnQyxHQUFHN25DLE9BQ3pDO1FBMExGOzs7O1NBSUcsR0FDSCxJQUFPLENBQUFoRCxPQUFBLEdBQUc7WUFDUixJQUFJLENBQUM4bkIsYUFBYSxDQUFDanJCLE9BQU8sQ0FBQyxDQUFDckUsSUFBTUE7UUFDcEM7UUE3TEUsSUFBSSxDQUFDWixJQUFJLEdBQUdBO1FBQ1osSUFBSSxDQUFDc00sS0FBSyxHQUFHQTtRQUNiLElBQUksQ0FBQ3dJLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDdFcsTUFBTSxHQUFHOEUsVUFBVTtZQUFDLENBQUcsRUFBQTNSLFNBQVMsQ0FBQ21qQixVQUFVLENBQUN6UyxXQUFXLEdBQVk7U0FBQztRQUN6RSxJQUNFb3dDLGNBQ0EsQ0FBQ3Z3QyxtQkFDQSxLQUFJLENBQUM0UyxTQUFTLEtBQUtuakIsVUFBVXNjLEtBQUssSUFBSSxJQUFJLENBQUM2RyxTQUFTLEtBQUtuakIsVUFBVW9jLEtBQUssR0FDekU7WUFDQSxJQUFJLENBQUNtbEMsbUNBQW1DOzs7SUFJNUM7Ozs7OztLQU1HLEdBQ0hqcUIsY0FBVztRQUNULE9BQU8sSUFBSSxDQUFDbW5CLFVBQVU7O0lBR3hCOztLQUVHLEdBQ0gsSUFBSTl3QixVQUFPO1FBQ1QsT0FBTyxJQUFJLENBQUNoVCxLQUFLLENBQUMzZ0IsTUFBTSxLQUFLOztJQUcvQjs7S0FFRyxHQUNILE1BQU13bkQsU0FBTTtRQUNWLElBQUksQ0FBQzdtQyxLQUFLLENBQUM4bUMsVUFBVSxHQUFHLElBQUksQ0FBQzltQyxLQUFLLENBQUMrbUMsZ0JBQWdCO1FBQ25ELElBQUksSUFBSSxDQUFDL21DLEtBQUssQ0FBQyttQyxnQkFBZ0IsS0FBSyxXQUFXO1lBQzdDOztRQUVGLElBQUksQ0FBQy9tQyxLQUFLLENBQUNnbkMsZ0JBQWdCLENBQUM7UUFFNUIsTUFBTTVxQyxpQkFBaUIsSUFBSSxDQUFDc3FDLDBCQUEwQixFQUFFLE9BQU9qdkM7WUFDN0QsSUFBSTtnQkFDRixNQUFNLElBQUksQ0FBQ3d2QyxZQUFZO2dCQUN2QixJQUFJLENBQUNqbkMsS0FBSyxDQUFDa25DLFNBQVMsQ0FBQztxQkFDYjtnQkFDUixJQUFJLENBQUN6dkMsT0FBT08sT0FBTyxFQUFFO29CQUNuQixJQUFJLENBQUNnSSxLQUFLLENBQUNnbkMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDaG5DLEtBQUssQ0FBQzNnQixNQUFNOzs7UUFHbkQ7O0lBR0Y7OztLQUdHLEdBQ0gsTUFBTXE2QyxRQUFReU4sWUFBcUIsS0FBSztRQUN0QyxJQUFJLENBQUNubkMsS0FBSyxDQUFDOG1DLFVBQVUsR0FBRyxJQUFJLENBQUM5bUMsS0FBSyxDQUFDK21DLGdCQUFnQjtRQUNuRCxJQUFJLENBQUNJLGFBQWEsSUFBSSxDQUFDbm5DLEtBQUssQ0FBQyttQyxnQkFBZ0IsS0FBSyxZQUFZO1lBQzVEOztRQUdGLElBQUksQ0FBQy9tQyxLQUFLLENBQUNnbkMsZ0JBQWdCLENBQUM7UUFFNUIsTUFBTTVxQyxpQkFBaUIsSUFBSSxDQUFDc3FDLDBCQUEwQixFQUFFLE9BQU9qdkM7WUFDN0QsSUFBSTtnQkFDRixNQUFNazFCLGFBQ0p3YSxhQUFhLElBQUksQ0FBQ25uQyxLQUFLLENBQUNvbkMsV0FBVyxLQUFLO2dCQUMxQyxNQUFNLElBQUksQ0FBQ0MsVUFBVSxDQUFDMWE7Z0JBQ3RCLElBQUksQ0FBQzNzQixLQUFLLENBQUNrbkMsU0FBUyxDQUFDO3FCQUNiO2dCQUNSLElBQUksQ0FBQ3p2QyxPQUFPTyxPQUFPLEVBQUU7b0JBQ25CLElBQUksQ0FBQ2dJLEtBQUssQ0FBQ2duQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUNobkMsS0FBSyxDQUFDM2dCLE1BQU07OztRQUduRDs7SUFHRjs7S0FFRyxHQUNILE1BQU1pb0Qsc0JBQW1CO1FBQ3ZCLE1BQU0zcUMsUUFBUSxJQUFJLENBQUMrcEMsMEJBQTBCOztJQUcvQzs7S0FFRyxHQUNILE1BQU14RixTQUFNO1FBQ1YsSUFDRSxJQUFJLENBQUNsaEMsS0FBSyxDQUFDOG1DLFVBQVUsS0FBSyxhQUMxQixJQUFJLENBQUM5bUMsS0FBSyxDQUFDM2dCLE1BQU0sS0FBSyxXQUN0QjtZQUNBLE1BQU0sSUFBSSxDQUFDd25ELE1BQU07OztJQUlyQjs7O0tBR0csR0FDSCxNQUFNVSxTQUFNO1FBQ1YsSUFBSSxJQUFJLENBQUN2bkMsS0FBSyxDQUFDK21DLGdCQUFnQixLQUFLLFdBQVc7WUFDN0MsT0FBTyxNQUFNLElBQUksQ0FBQ3JOLE9BQU87ZUFDcEI7WUFDTCxPQUFPLE1BQU0sSUFBSSxDQUFDbU4sTUFBTTs7O0lBSTVCOzs7Ozs7OztLQVFHLEdBQ0hXLGVBQ0Vwd0MsTUFBeUI7UUFFekIsTUFBTTJ2QixRQUFnQztZQUNwQ2pJLE9BQU8xbkI7WUFDUHlCLE1BQU03Vzs7UUFFUixJQUFJLENBQUMwUixJQUFJLENBQUNxb0IsTUFBTSxDQUFDdnBCLEtBQUssQ0FBQyxDQUFrQixpQkFBQW5OLFNBQVMsQ0FBQyxJQUFJLENBQUNtakIsU0FBUyxDQUFDLEVBQUUsRUFBRTtRQUN0RSxNQUFNaS9CLGFBQWF4ckMsbUJBQ2pCLElBQUksQ0FBQzBxQyxnQ0FBZ0MsRUFDckM7WUFDRSxNQUFNaHFDLFFBQVEsSUFBSSxDQUFDK3BDLDBCQUEwQjtZQUM3QyxJQUFJLENBQUNELE9BQU8sQ0FBQzNtRCxJQUFJLENBQUNpbkM7WUFDbEIsTUFBTSxJQUFJLENBQUMyZ0IscUJBQXFCO1FBQ2xDO1FBR0YsT0FBTztZQUNMRDtZQUNBckYsWUFBWSxJQUNWbm1DLG1CQUFtQixJQUFJLENBQUMwcUMsZ0NBQWdDLEVBQUU7b0JBQ3hELE1BQU1ocUMsUUFBUSxJQUFJLENBQUMrcEMsMEJBQTBCO29CQUM3QzNmLE1BQU1sdUIsSUFBSTtvQkFDVixJQUFJLENBQUM0dEMsT0FBTyxHQUFHLElBQUksQ0FBQ0EsT0FBTyxDQUFDcnZDLE1BQU0sQ0FBQyxDQUFDNVUsSUFBTUEsTUFBTXVrQztvQkFDaEQsTUFBTSxJQUFJLENBQUMyZ0IscUJBQXFCO2dCQUNsQzs7O0lBSU47Ozs7S0FJRyxHQUNIQyxzQkFBc0J0RSxXQUFjO1FBQ2xDLElBQUksQ0FBQ3JqQyxLQUFLLENBQUMybkMscUJBQXFCLENBQUN0RTs7SUFHbkM7Ozs7O0tBS0csR0FDSCxNQUFNdUUsT0FBTzlxQixRQUE0QjtRQUN2QyxJQUFJbG5CLGlCQUFpQjtZQUNuQixNQUFNLElBQUkzVyxNQUNSOztRQUdKLE1BQU00b0QsZUFBZSxJQUFJLENBQUM3bkMsS0FBSyxDQUFDNGdDLGNBQWM7UUFDOUMsSUFBSTlqQixhQUFhK3FCLGNBQWM7WUFDN0I7O1FBRUYsSUFBSTtZQUNGLElBQUksQ0FBQzduQyxLQUFLLENBQUM4bkMsU0FBUyxDQUFDaHJCO1lBQ3JCLE1BQU0sSUFBSSxDQUFDNHFCLHFCQUFxQjtVQUNoQyxPQUFPMzBDLE9BQU87WUFDZCxJQUFJLENBQUNpTixLQUFLLENBQUM4bkMsU0FBUyxDQUFDRDtZQUNyQixNQUFNOTBDOzs7SUFhQSxNQUFNMjBDLHdCQUFxQjtRQUNuQyxNQUFNdHJDLGlCQUFpQixJQUFJLENBQUNzcUMsMEJBQTBCLEVBQUUsT0FBT2p2QztZQUM3RCxJQUFJLElBQUksQ0FBQ3ViLE9BQU8sRUFBRTtnQkFDaEIsSUFBSTtvQkFDRixNQUFNLElBQUksQ0FBQ3EwQixVQUFVO29CQUNyQixJQUFJLENBQUNybkMsS0FBSyxDQUFDa25DLFNBQVMsQ0FBQztvQkFFckIsSUFBSXp2QyxPQUFPTyxPQUFPLEVBQUU7d0JBQ2xCOztvQkFHRixNQUFNLElBQUksQ0FBQ2l2QyxZQUFZO29CQUN2QixJQUFJLENBQUNqbkMsS0FBSyxDQUFDa25DLFNBQVMsQ0FBQzt5QkFDYjtvQkFDUixJQUFJLENBQUN6dkMsT0FBT08sT0FBTyxFQUFFO3dCQUNuQixJQUFJLENBQUNnSSxLQUFLLENBQUNnbkMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDaG5DLEtBQUssQ0FBQzNnQixNQUFNOzs7O1FBSXJEOztJQU9RMG9ELGNBQWNwMUIsTUFBbUI7UUFDekMsT0FBTyxJQUFJLENBQUNqZixJQUFJLENBQUMrM0IsT0FBTyxDQUFDOVksUUFBUSxJQUFJLENBQUNuSyxTQUFTOztJQUd2Q3cvQixvQkFBaUI7UUFDekIsT0FBTyxJQUFJLENBQUN0MEMsSUFBSSxDQUFDdTBDLFdBQVcsQ0FBQyxJQUFJLENBQUN6L0IsU0FBUzs7SUFHbkNxSyxZQUFTO1FBQ2pCLE9BQU8sSUFBSSxDQUFDN1MsS0FBSyxDQUFDa29DLFdBQVcsRUFBRXIxQixlQUFlLEVBQUU7O0lBR3hDLE1BQU13MEIsV0FBVzFhLGFBQXNCLElBQUk7UUFDbkQsTUFBTXViLGNBQWMsSUFBSSxDQUFDbG9DLEtBQUssQ0FBQ2tvQyxXQUFXO1FBQzFDLElBQUksQ0FBQ0EsYUFBYTtRQUNsQixJQUFJLENBQUNoMkMsTUFBTSxDQUFDLFNBQVMsR0FBR3k2QixhQUFhLGFBQWEsWUFBVyxRQUFTO1FBQ3RFLElBQUksSUFBSSxDQUFDajVCLElBQUksQ0FBQ3NNLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYXdOLE1BQU0sRUFBRTtZQUN4RCxNQUFNLElBQUksQ0FBQ3k3QixpQkFBaUI7O1FBRTlCLElBQUksQ0FBQ0csZUFBZSxDQUFDeGI7UUFDckIsTUFBTXliLFdBQVcsSUFBSSxDQUFDdjFCLFNBQVMsR0FBR2dsQixLQUFLLENBQUMsQ0FBQ2ovQixJQUFNQSxFQUFFc2EsVUFBVSxLQUFLO1FBQ2hFLElBQUlrMUIsVUFBVTs7WUFFWixJQUFJLE9BQU9GLFlBQVk5QixPQUFPLEtBQUssWUFBWTs7Z0JBRTdDOEIsWUFBWTlCLE9BQU87O1lBRXJCLElBQUksQ0FBQ3BtQyxLQUFLLENBQUNxb0MsY0FBYyxDQUFDcm1ELFdBQVdBO1lBQ3JDLElBQUksQ0FBQ3lrRCxPQUFPLENBQUM5dEMsT0FBTyxDQUFDLENBQUNvdUIsUUFBVUEsTUFBTWx1QixJQUFJOzs7SUFJdEN5dkMsZ0JBQWE7UUFDbkIsSUFBSSxDQUFDejFCLFNBQVMsR0FBR2xhLE9BQU8sQ0FBQyxDQUFDbWE7WUFDeEIsSUFBSUEsTUFBTUUsT0FBTyxFQUFFRixNQUFNRSxPQUFPLEdBQUc7UUFDckM7O0lBR011MUIsZUFBWTtRQUNsQixJQUFJLENBQUMxMUIsU0FBUyxHQUFHbGEsT0FBTyxDQUFDLENBQUNtYTtZQUN4QixJQUFJLENBQUNBLE1BQU1FLE9BQU8sRUFBRUYsTUFBTUUsT0FBTyxHQUFHO1FBQ3RDOztJQUdNMlosYUFBVTtRQUNoQixJQUFJLENBQUM5WixTQUFTLEdBQUdsYSxPQUFPLENBQUMsQ0FBQ21hO1lBQ3hCLElBQUlBLE1BQU1JLFVBQVUsS0FBSyxRQUFRSixNQUFNamEsSUFBSTtRQUM3Qzs7SUFHTXN2QyxnQkFBZ0J4YixVQUFtQjtRQUN6QyxJQUFJLENBQUMsSUFBSSxDQUFDM3NCLEtBQUssQ0FBQ2tvQyxXQUFXLEVBQUU7WUFDM0I7O1FBRUYsSUFBSXZiLFlBQVk7WUFDZCxJQUFJLENBQUNBLFVBQVU7ZUFDVjtZQUNMLElBQUksQ0FBQzJiLGFBQWE7OztJQUlaLE1BQU1yQixlQUFZO1FBQzFCLElBQUksQ0FBQy8wQyxNQUFNLENBQUMsU0FBUztRQUNyQixJQUFJeWdCO1FBQ0osSUFBSTYxQjtRQUNKLElBQ0UsSUFBSSxDQUFDeG9DLEtBQUssQ0FBQ2tvQyxXQUFXLElBQ3RCLElBQUksQ0FBQ3IxQixTQUFTLEdBQUdnbEIsS0FBSyxDQUFDLENBQUNqL0IsSUFBTUEsRUFBRXNhLFVBQVUsS0FBSyxTQUMvQztZQUNBUCxTQUFTLElBQUksQ0FBQzNTLEtBQUssQ0FBQ2tvQyxXQUFXO1lBQy9CLElBQUksQ0FBQ0ssWUFBWTtlQUNaO1lBQ0wsTUFBTUUscUJBQXFCLElBQUksQ0FBQ3pvQyxLQUFLLENBQUN5b0Msa0JBQWtCO1lBQ3hELE1BQU1wRixjQUFxQztnQkFDekMsR0FBR29GLGtCQUFrQjtnQkFDckIzckIsVUFBVSxJQUFJLENBQUM5YyxLQUFLLENBQUM0Z0MsY0FBQSxHQUNqQjtvQkFBRThILE9BQU8sSUFBSSxDQUFDMW9DLEtBQUssQ0FBQzRnQyxjQUFjO2dCQUFBLElBQ2xDNStDOztZQUdOOzs7Ozs7Ozs7Ozs7Ozs7OzthQWlCRyxHQUNILE1BQU0ybUQsWUFDSixDQUFDQyxlQUNELE9BQU9DO29CQUNMLElBQUksQ0FBQ0QsY0FBYyxPQUFPQzs7b0JBRTFCLE1BQU1DLFNBQVMsTUFBTUY7b0JBQ3JCQyxhQUFhaDJCLFNBQVMsR0FBR2xhLE9BQU8sQ0FBQyxDQUFDbWE7d0JBQ2hDLE1BQU1pMkIsZUFBZWoyQixNQUFNamEsSUFBSTt3QkFDL0JpYSxNQUFNamEsSUFBSSxHQUFHLFNBQVNBOzRCQUNwQmt3QyxhQUFhcjFDLElBQUksQ0FBQ29mOzRCQUNsQmcyQixPQUFPajJCLFNBQVMsR0FBR2xhLE9BQU8sQ0FBQyxDQUFDcXdDO2dDQUMxQixJQUFJQSxZQUFZM29ELElBQUksS0FBS3l5QixNQUFNenlCLElBQUksRUFBRTtvQ0FDbkMyb0QsWUFBWW53QyxJQUFJOzs0QkFFcEI7d0JBQ0Y7b0JBQ0Y7b0JBRUFpd0MsT0FBT2oyQixTQUFTLEdBQUdsYSxPQUFPLENBQUMsQ0FBQ3F3Qzs7Ozs7d0JBSzFCLE1BQU1DLHlCQUF5Qjs0QkFDN0JKLGFBQWFoMkIsU0FBUyxHQUFHbGEsT0FBTyxDQUFDLENBQUNtYTtnQ0FDaEMsSUFBSWsyQixZQUFZM29ELElBQUksS0FBS3l5QixNQUFNenlCLElBQUksRUFBRTtnQ0FDckN5eUIsTUFBTWphLElBQUk7Z0NBQ1ZpYSxNQUFNdXlCLGFBQWEsQ0FBQyxJQUFJQyxNQUFNLFdBQVU7NEJBQzFDO3dCQUNGO3dCQUNBMEQsWUFBWTF6QyxnQkFBZ0IsQ0FBQyxTQUFTMnpDO3dCQUN0QyxJQUFJLENBQUNybEIsYUFBYSxDQUFDOWpDLElBQUksQ0FBQzs0QkFDdEJrcEQsWUFBWXh6QyxtQkFBbUIsQ0FBQyxTQUFTeXpDO3dCQUMzQztvQkFDRjtvQkFFQSxPQUFPSjtnQkFDVDs7O1lBSUZMLGFBQWEsSUFBSSxDQUFDcEQsU0FBUyxDQUFDL0I7O1lBRTVCMXdCLFNBQVMsTUFBTSxJQUFJLENBQUM4ekIsT0FBTyxDQUFDOStCLE1BQU0sQ0FDaEMsQ0FBQ21oQyxRQUFRL2hCLFFBQ1AraEIsT0FDR2gyQyxJQUFJLENBQUMsQ0FBQ28yQztvQkFDTCxNQUFNLEVBQUVyd0MsSUFBSSxFQUFFc3dDLE1BQU0sRUFBRSxHQUFHcGlCLE1BQU1qSSxLQUFLLENBQUNvcUI7b0JBQ3JDbmlCLE1BQU1sdUIsSUFBSSxHQUFHQTtvQkFDYixPQUFPc3dDO2dCQUNULEdBQ0NyMkMsSUFBSSxDQUFDNjFDLFVBQVVHLFNBQVMsQ0FBQy8xQztvQkFDeEIsSUFBSSxDQUFDYixNQUFNLENBQ1QsUUFDQSw4Q0FDQWE7b0JBRUYsT0FBTysxQztnQkFDVCxJQUNKTjs7UUFHSixJQUFJLElBQUksQ0FBQzkwQyxJQUFJLENBQUNzTSxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWF3TixNQUFNLEVBQUU7WUFDeEQsTUFBTSxJQUFJLENBQUN3N0IsYUFBYSxDQUFDcDFCOztRQUUzQixJQUFJLElBQUksQ0FBQzNTLEtBQUssQ0FBQ2tvQyxXQUFXLEtBQUt2MUIsUUFBUTtZQUNyQyxJQUFJLENBQUMzUyxLQUFLLENBQUNxb0MsY0FBYyxDQUFDMTFCLFFBQVEsTUFBTTYxQjtZQUN4QyxNQUFNWSxtQkFBbUI7Z0JBQ3ZCLE1BQU0sSUFBSSxDQUFDOUIsbUJBQW1CO2dCQUM5QixJQUFJLElBQUksQ0FBQ3QwQixPQUFPLEVBQUU7b0JBQ2hCLElBQUksQ0FBQ3d6QiwyQkFBMkIsR0FBRztvQkFDbkNqekMsV0FBVzt3QkFDVCxJQUFJLENBQUNpekMsMkJBQTJCLEdBQUc7dUJBQ2xDO29CQUNILE1BQU0sSUFBSSxDQUFDOU0sT0FBTzs7WUFFdEI7WUFDQSxNQUFNMlAseUJBQXlCLENBQUNwMkIsUUFBbUI7b0JBQ2pELElBQUksQ0FBQ296QixjQUFjLElBQUksQ0FBQzc5QixTQUFTLEtBQUtuakIsVUFBVW9jLEtBQUssRUFBRTtvQkFDdkQsSUFBSSxDQUFDL04sSUFBSSxDQUFDNDFDLG9CQUFvQixDQUFDcjJCLE9BQU8sSUFBSSxDQUFDekssU0FBUyxFQUFFcEksS0FBSyxDQUFDLENBQUMxTjt3QkFDM0QsSUFBSSxDQUFDUixNQUFNLENBQUMsUUFBUSwwQ0FBMENRO29CQUNoRTtnQkFDRjtZQUNBaWdCLE9BQU9FLFNBQVMsR0FBR2xhLE9BQU8sQ0FBQyxDQUFDbWE7Z0JBQzFCLE1BQU15MkIsY0FBY0YsdUJBQXVCO2dCQUMzQyxNQUFNRyxnQkFBZ0JILHVCQUF1QjtnQkFDN0N2MkIsTUFBTXhkLGdCQUFnQixDQUFDLFFBQVFpMEM7Z0JBQy9CejJCLE1BQU14ZCxnQkFBZ0IsQ0FBQyxVQUFVazBDO2dCQUNqQzEyQixNQUFNeGQsZ0JBQWdCLENBQUMsU0FBUzh6QztnQkFDaEMsSUFBSSxDQUFDeGxCLGFBQWEsQ0FBQzlqQyxJQUFJLENBQUM7b0JBQ3RCZ3pCLE1BQU10ZCxtQkFBbUIsQ0FBQyxRQUFRK3pDO29CQUNsQ3oyQixNQUFNdGQsbUJBQW1CLENBQUMsVUFBVWcwQztvQkFDcEMxMkIsTUFBTXRkLG1CQUFtQixDQUFDLFNBQVM0ekM7Z0JBQ3JDO1lBQ0Y7OztJQUlKLElBQVlLLGtCQUFlO1FBQ3pCLElBQUksSUFBSSxDQUFDamhDLFNBQVMsS0FBS25qQixVQUFVc2MsS0FBSyxFQUFFO1lBQ3RDLE9BQU87O1FBRVQsSUFBSSxJQUFJLENBQUM2RyxTQUFTLEtBQUtuakIsVUFBVW9jLEtBQUssRUFBRTtZQUN0QyxPQUFPOztRQUVULE9BQU87O0lBR0RtbEMsc0NBQW1DO1FBQ3pDLElBQUksQ0FBQ2hqQixhQUFhLENBQUM5akMsSUFBSSxDQUNyQjBlLG1CQUNFVCxpUkFBYUEsQ0FBQztZQUNab29DLFdBQVlwM0IsSUFBSSxDQUFDMjZCLDRRQUFRQTtZQUN6QixJQUFJLENBQUMxcEMsS0FBSyxDQUFDNGMsZUFBZTtTQUMzQixHQUNELE9BQU8sQ0FBQyxDQUFDK3NCLGFBQWFDLGVBQWUsRUFBRTlzQixTQUFTO1lBQzlDLElBQUk7Z0JBQ0YsSUFBSSxDQUFDQSxVQUFVO2dCQUNmLE1BQU0sSUFBSSxDQUFDd3FCLG1CQUFtQjtnQkFFOUIsSUFBSXVDLHVCQUF1QjtnQkFDM0IsSUFBSUMsbUJBQW1CO2dCQUN2QixNQUFNdHRCLGdCQUFnQixJQUFJLENBQUN1dEIsVUFBVSxDQUFDSCxnQkFBZ0I5c0I7Z0JBQ3RELE1BQU1rdEIsYUFBYSxJQUFJLENBQUNELFVBQVUsQ0FBQ0osYUFBYTdzQjtnQkFDaEQsSUFBSSxDQUFDTixpQkFBaUJ3dEIsWUFBWTtvQkFDaENILHVCQUF1Qjt1QkFDbEIsSUFDTHJ0QixpQkFDQXd0QixjQUNBeHRCLGNBQWNNLFFBQVEsS0FBS2t0QixXQUFXbHRCLFFBQVEsSUFDOUNOLGNBQWN5dEIsT0FBTyxLQUFLRCxXQUFXQyxPQUFPLEVBQzVDO29CQUNBSCxtQkFBbUI7O2dCQUdyQixJQUFJRCxzQkFBc0I7b0JBQ3hCLE1BQU0sSUFBSSxDQUFDblEsT0FBTztvQkFDbEIsTUFBTSxJQUFJLENBQUNrTyxNQUFNLENBQUM1bEQ7O2dCQUVwQixJQUFJOG5ELGtCQUFrQjtvQkFDcEIsSUFDRSxJQUFJLENBQUN0RCwyQkFBMkIsSUFDaEMsSUFBSSxDQUFDeG1DLEtBQUssQ0FBQzNnQixNQUFNLEtBQUssWUFDdEI7d0JBQ0EsTUFBTSxJQUFJLENBQUN3bkQsTUFBTTt3QkFDakIsSUFBSSxDQUFDTCwyQkFBMkIsR0FBRzsyQkFDOUI7d0JBQ0wsTUFBTSxJQUFJLENBQUNrQixxQkFBcUI7OztjQUdwQyxPQUFPaDFDLEtBQUs7Z0JBQ1osSUFBSSxDQUFDUixNQUFNLENBQ1QsUUFDQSxtRUFDQVE7Ozs7SUFRSnEzQyxXQUFXbHRCLE9BQTBCLEVBQUVDLFFBQWdCO1FBQzdELE1BQU16OEIsT0FBTyxJQUFJLENBQUNvcEQsZUFBZTtRQUNqQyxPQUFPNXNCLFFBQVF0NkIsSUFBSSxDQUFDLENBQUN5NkIsSUFBTUEsRUFBRUYsUUFBUSxLQUFLQSxZQUFZRSxFQUFFMzhCLElBQUksS0FBS0E7O0FBRXBFO01DamdCcUI2cEQ7SUFvRXBCOzs7Ozs7S0FNRyxHQUNIaHJELFlBQ2tCa29ELGNBQWdDLGFBQWEsRUFDN0QzRixVQUE4QjtRQURkLElBQVcsQ0FBQTJGLFdBQUEsR0FBWEE7UUEzRVIsS0FBQStDLGFBQWEsR0FBRyxJQUFJanJDLCtRQUFlQSxDQUFvQmxkO1FBQ3ZELEtBQUFvb0QsdUJBQXVCLEdBQUcsSUFBSWxyQywrUUFBZUEsQ0FDckRsZDtRQUVRLEtBQUFxb0Qsa0JBQWtCLEdBQUcsSUFBSW5yQywrUUFBZUEsQ0FDaERsZDtRQUVRLEtBQUFzb0QscUJBQXFCLEdBQUcsSUFBSXByQywrUUFBZUEsQ0FDbkRsZDtRQUVRLEtBQUF1b0QseUJBQXlCLEdBQUcsSUFBSXJyQywrUUFBZUEsQ0FDdkRsZDtRQVFGOzs7U0FHRyxHQUNILEtBQUF3b0QsWUFBWSxHQUFHLElBQUksQ0FBQ0gsa0JBQWtCLENBQUMzcEMsWUFBWTtRQUVuRDs7U0FFRyxHQUNILElBQWUsQ0FBQWtjLGVBQUEsR0FBRyxJQUFJLENBQUMwdEIscUJBQUEsQ0FDcEI1cEMsWUFBWSxHQUNacU8sSUFBSSxDQUFDVyx3UkFBb0JBO1FBRTVCOztTQUVHLEdBQ0gsS0FBQSs2QixPQUFPLEdBQUcsSUFBSSxDQUFDTixhQUFhLENBQUN6cEMsWUFBWSxHQUFHcU8sSUFBSSxDQUFDVyx3UkFBb0JBO1FBRXJFOztTQUVHLEdBQ0gsSUFBaUIsQ0FBQWc3QixpQkFBQSxHQUFHLElBQUksQ0FBQ04sdUJBQUEsQ0FDdEIxcEMsWUFBWSxHQUNacU8sSUFBSSxDQUFDVyx3UkFBb0JBO1FBRTVCOztTQUVHLEdBQ0gsS0FBQWk3QixtQkFBbUIsR0FBRyxJQUFJLENBQUNKLHlCQUF5QixDQUFDN3BDLFlBQVk7UUErQi9ELElBQUksQ0FBQ2txQyxxQkFBcUIsR0FBR25KLGFBQ3pCQSxXQUFXL2dDLFlBQVksR0FBR3FPLElBQUksQ0FBQ0MsK1FBQVdBLENBQUMsTUFDM0M2N0Isc1FBQUVBLENBQUM7UUFFUCxJQUFJLENBQUMxdUIsdUJBQXVCLEdBQUdzbEIsYUFDM0JBLFdBQVdnQyxpQkFBaUIsR0FBRzEwQixJQUFJLENBQUNDLCtRQUFXQSxDQUFDLE1BQ2hENjdCLHNRQUFFQSxDQUFDO1FBRVAsSUFBSSxDQUFDQyxzQkFBc0IsR0FBR3JKLGFBQzFCQSxXQUFXaUMsd0JBQXdCLEdBQUczMEIsSUFBSSxDQUFDQywrUUFBV0EsQ0FBQyxNQUN2RDY3QixzUUFBRUEsQ0FBQzs7SUFHVDs7S0FFRyxHQUNILElBQUl4ckQsU0FBTTtRQUNSLE9BQU9paEIsZ0JBQXdCLElBQUksQ0FBQ21xQyxPQUFPOztJQUc3Qzs7S0FFRyxHQUNILElBQUkxRCxtQkFBZ0I7UUFDbEIsT0FBT3ptQyxnQkFBd0IsSUFBSSxDQUFDb3FDLGlCQUFpQjs7SUFHdkQ7O0tBRUcsR0FDSCxJQUFJOUosaUJBQWM7UUFDaEIsT0FBT3RnQyxnQkFBd0IsSUFBSSxDQUFDc2MsZUFBZTs7SUFHckQ7O0tBRUcsR0FDSCxJQUFJc3JCLGNBQVc7UUFDYixPQUFPNW5DLGdCQUF3QixJQUFJLENBQUNrcUMsWUFBWTs7SUFHbEQ7OztLQUdHLEdBQ0h0RCxVQUFVN25ELE1BQXlCO1FBQ2pDaWdCLGdCQUF3QixJQUFJLENBQUM2cUMsYUFBYSxFQUFFOXFEOztJQUc5Qzs7O0tBR0csR0FDSDJuRCxpQkFBaUIrRCxhQUFnQztRQUMvQ3pyQyxnQkFBd0IsSUFBSSxDQUFDOHFDLHVCQUF1QixFQUFFVzs7SUFHeEQ7Ozs7Ozs7S0FPRyxHQUNIMUMsZUFDRTExQixNQUErQixFQUMvQjYxQixVQUFtQztRQUVuQ2xwQyxnQkFBd0IsSUFBSSxDQUFDK3FDLGtCQUFrQixFQUFFMTNCO1FBQ2pELElBQUk2MUIsWUFBWTtZQUNkLElBQUksQ0FBQ1YsU0FBUyxDQUFDLElBQUksQ0FBQ2tELHFCQUFxQixDQUFDeEM7OztJQUk5Qzs7O0tBR0csR0FDSFYsVUFBVWhyQixRQUE0QjtRQUNwQ3hkLGdCQUF3QixJQUFJLENBQUNnckMscUJBQXFCLEVBQUV4dEI7O0lBR3REOztLQUVHLEdBQ0gsSUFBSTJyQixxQkFBa0I7UUFDcEIsT0FBT25vQyxnQkFBd0IsSUFBSSxDQUFDcXFDLG1CQUFtQjs7SUFHekQ7Ozs7O0tBS0csR0FDSGhELHNCQUFzQnRFLFdBQTBCO1FBQzlDL2pDLGdCQUF3QixJQUFJLENBQUNpckMseUJBQXlCLEVBQUVsSDs7QUFNM0Q7QUMzTEssTUFBTzRILDJCQUEyQmY7SUFVdENockQsYUFBQTtRQUNFLEtBQUssQ0FBQyxlQUFldWxEO1FBVmYsS0FBQXlHLGdCQUFnQixHQUFHLElBQUloc0MsK1FBQWVBLENBQWtCbGQ7UUFXOUQsSUFBSSxDQUFDbXBELFVBQVUsR0FBRyxJQUFJLENBQUNELGdCQUFBLENBQ3BCeHFDLFlBQVksR0FDWnFPLElBQUksQ0FBQ1csd1JBQW9CQTs7SUFHOUI7Ozs7S0FJRyxHQUNILElBQUl2WCxZQUFTO1FBQ1gsT0FBT21JLGdCQUF3QixJQUFJLENBQUM2cUMsVUFBVTs7SUFHaEQ7O0tBRUcsR0FDSEMsYUFBYWp6QyxTQUEwQjtRQUNyQ21ILGdCQUF3QixJQUFJLENBQUM0ckMsZ0JBQWdCLEVBQUUveUM7O0lBR2pEOztLQUVHLEdBQ0hrd0MsZUFDRTExQixNQUErQixFQUMvQjYxQixVQUFtQztRQUVuQyxLQUFLLENBQUNILGVBQWUxMUIsUUFBUTYxQjtRQUM3QixJQUFJNzFCLFFBQVE7O1lBRVYsTUFBTXhhLFlBQVl2QyxrQkFDZCxJQUFJLENBQUN1QyxTQUFBLEdBQ0x3YSxPQUFPZ0QsY0FBYyxFQUFFLENBQUMsRUFBRSxFQUFFbVQsY0FBY3VpQixlQUFlLGdCQUN2RCxTQUNBO1lBQ04sSUFBSSxDQUFDRCxZQUFZLENBQUNqekM7OztJQUlaNnlDLHNCQUFzQnI0QixNQUFtQjtRQUNqRCxNQUFNLENBQUNHLE1BQU0sR0FBR0gsT0FBT2dELGNBQWM7UUFDckMsT0FBTzdDLE9BQU9nVyxjQUFjaE07O0FBRS9CO0FDdERLLE1BQU93dUIsc0JBQXNCaEY7SUFNakM7Ozs7S0FJRyxHQUNIcG5ELFlBQVl3VSxJQUFVO1FBQ3BCLEtBQUssQ0FBQ0EsTUFBTSxJQUFJdTNDLHNCQUFzQjVsRCxVQUFVb2MsS0FBSztRQVgvQyxLQUFBaW9CLGdCQUFnQixHQUFHO1lBQ3pCNWdCLE9BQU87WUFDUEQsUUFBUTs7O0lBWUYwaUMsK0JBQTRCO1FBQ2xDLE9BQU8zMUMsbUJBQW1CeXdDOztJQUc1Qjs7OztLQUlHLEdBQ0gsTUFBTW1GLGdCQUFnQnJ6QyxTQUE4QztRQUNsRSxJQUFJLENBQUMsSUFBSSxDQUFDb3pDLDRCQUE0QixJQUFJO1lBQ3hDLElBQUksQ0FBQ3I1QyxNQUFNLENBQUMsUUFBUTtZQUNwQjs7O1FBSUYsSUFBSSxDQUFDOE4sS0FBSyxDQUFDb3JDLFlBQVksQ0FBQ2p6QztRQUN4QixJQUFJLENBQUM2SCxLQUFLLENBQUM4bkMsU0FBUyxDQUFDOWxEO1FBRXJCLElBQUk0VCxpQkFBaUI7WUFDbkIsTUFBTXdOLGFBQWEsSUFBSSxDQUFDeVAsU0FBUyxFQUFFLENBQUMsRUFBa0M7WUFDdEUsTUFBTXpQLFlBQVlxb0MsaUJBQWlCO2dCQUNqQ0osWUFBWWx6QyxjQUFjLFVBQVUsU0FBUztZQUM5QztZQUNEOztRQUdGLElBQUksQ0FBQzBhLFNBQVMsR0FBR2xhLE9BQU8sQ0FBQyxDQUFDbWEsUUFBVUEsTUFBTWphLElBQUk7UUFDOUMsSUFBSTtZQUNGLE1BQU0sSUFBSSxDQUFDb3VDLFlBQVk7VUFDdkIsT0FBT2wwQyxPQUFPO1lBQ2QsSUFBSUEsaUJBQWlCOVQsU0FBUzhULE1BQU12VCxJQUFJLEtBQUssb0JBQW9COzs7Z0JBRy9ELE1BQU0sSUFBSSxDQUFDNm5ELFVBQVU7Z0JBQ3JCLE1BQU0sSUFBSSxDQUFDSixZQUFZOztZQUV6QixNQUFNbDBDOzs7SUFJVjs7Ozs7S0FLRyxHQUNILE1BQU0yNEMsT0FBSTtRQUNSLE1BQU1DLGVBQWUsSUFBSSxDQUFDM3JDLEtBQUssQ0FBQzdILFNBQVMsS0FBSyxVQUFVLFNBQVM7UUFDakUsTUFBTSxJQUFJLENBQUNxekMsZUFBZSxDQUFDRzs7SUFHN0I7O0tBRUcsR0FDSCxNQUFNQyx1QkFBdUJDLFVBQTZDO1FBQ3hFLElBQUksQ0FBQ25pQixnQkFBZ0IsQ0FBQzdnQixNQUFNLEdBQUdnakMsV0FBV2hqQyxNQUFNO1FBQ2hELElBQUksQ0FBQzZnQixnQkFBZ0IsQ0FBQzVnQixLQUFLLEdBQUcraUMsV0FBVy9pQyxLQUFLO1FBQzlDLElBQUksSUFBSSxDQUFDOUksS0FBSyxDQUFDK21DLGdCQUFnQixLQUFLLFdBQVc7WUFDN0MsSUFBSTtnQkFDRixNQUFNLElBQUksQ0FBQ08sbUJBQW1CO2NBQzlCLE9BQU92MEMsT0FBTzs7Z0JBRWQsSUFBSSxDQUFDYixNQUFNLENBQUMsUUFBUSxxQ0FBcUNhOzs7UUFHN0QsSUFBSSxJQUFJLENBQUNpZ0IsT0FBTyxJQUFJLElBQUksQ0FBQ2hULEtBQUssQ0FBQ2tvQyxXQUFXLEVBQUU7WUFDMUMsTUFBTSxDQUFDOWtDLFdBQVcsR0FBRyxJQUFJLENBQUNwRCxLQUFLLENBQUNrb0MsV0FBVyxDQUFDdnlCLGNBQWM7WUFDMUQsSUFBSSxDQUFDdlMsWUFBWTtZQUNqQixNQUFNLEVBQUUwRixLQUFLLEVBQUVELE1BQU0sRUFBRSxHQUFHekYsV0FBVzBsQixXQUFXO1lBQ2hELElBQ0VoZ0IsVUFBVSxJQUFJLENBQUM0Z0IsZ0JBQWdCLENBQUM1Z0IsS0FBSyxJQUNyQ0QsV0FBVyxJQUFJLENBQUM2Z0IsZ0JBQWdCLENBQUM3Z0IsTUFBTSxFQUN2QztnQkFDQSxNQUFNLElBQUksQ0FBQzYrQixxQkFBcUI7Z0JBQ2hDLElBQUksQ0FBQ3gxQyxNQUFNLENBQ1QsU0FDQSxDQUFHLEVBQUE0VyxNQUFTLEdBQUFELE9BQWtEOzs7O0lBTXRFOzs7OztLQUtHLEdBQ0gsTUFBTXFYLE1BQU1sVixRQUErQixFQUFFeWdCLE9BQWdCO1FBQzNELE1BQU1xZ0Isb0JBQW9CLENBQUMsQ0FBQyxJQUFJLENBQUNwNEMsSUFBSSxDQUFDc00sS0FBSyxDQUFDNk4sZ0JBQWdCLEVBQUU0SDtRQUM5RCxNQUFNMGlCLGdCQUFnQixJQUFJLENBQUN6a0MsSUFBSSxDQUFDMGtDLGtCQUFrQixDQUFDRCxhQUFhLENBQzlEOStDLGNBQWNlLFVBQVU7UUFFMUIsSUFBSTB4RCxxQkFBcUIsQ0FBQzNULGVBQWU7O1FBR3pDLE1BQU0sSUFBSSxDQUFDbVAsbUJBQW1CO1FBRTlCLE1BQU0sRUFBRXlFLGlCQUFpQixFQUFFQyxhQUFhLEVBQUVDLGlCQUFpQixFQUFFLEdBQUdqaEM7Ozs7O1FBS2hFLElBQUksRUFBRWxDLEtBQUssRUFBRUQsTUFBTSxFQUFFLEdBQUdrakM7UUFDeEIsSUFBSWpqQyxRQUFRRCxRQUFRLENBQUNDLE9BQU9ELE9BQU8sR0FBRztZQUFDQTtZQUFRQztTQUFNO1FBQ3JELE1BQU0sSUFBSSxDQUFDOGlDLHNCQUFzQixDQUFDO1lBQUU5aUM7WUFBT0Q7UUFBTTs7UUFHakQsSUFBSSxDQUFDLElBQUksQ0FBQzdJLEtBQUssQ0FBQzdILFNBQVMsSUFBSSxDQUFDLElBQUksQ0FBQzZILEtBQUssQ0FBQzRnQyxjQUFjLEVBQUU7WUFDdkQsSUFBSSxDQUFDNWdDLEtBQUssQ0FBQ29yQyxZQUFZLENBQUNZLGtCQUFrQixVQUFVLFVBQVU7O1FBR2hFLElBQUksQ0FBQ3ZnQixTQUFTO1FBRWQsTUFBTSxFQUFFeWMsV0FBVyxFQUFFLEdBQUcsSUFBSSxDQUFDbG9DLEtBQUs7UUFDbEMsSUFBSSxJQUFJLENBQUNnVCxPQUFPLElBQUlrMUIsYUFBYTs7WUFFL0IsTUFBTSxJQUFJLENBQUNILGFBQWEsQ0FBQ0c7ZUFDcEIsSUFBSSxJQUFJLENBQUNsb0MsS0FBSyxDQUFDM2dCLE1BQU0sS0FBSzJDLGFBQWFpcUQsbUJBQW1COztZQUUvRCxNQUFNLElBQUksQ0FBQ3BGLE1BQU07OztJQUlYL0MsYUFBVTtRQUNsQixPQUFPbUI7O0lBR0NHLFVBQ1IvQixXQUFrQztRQUVsQ0EsWUFBWXY2QixLQUFLLEdBQUcsSUFBSSxDQUFDNGdCLGdCQUFnQixDQUFDNWdCLEtBQUs7UUFDL0N1NkIsWUFBWXg2QixNQUFNLEdBQUcsSUFBSSxDQUFDNmdCLGdCQUFnQixDQUFDN2dCLE1BQU07OztRQUlqRCxJQUNFLENBQUN3NkIsWUFBWXZtQixRQUFRLElBQ3JCLElBQUksQ0FBQzljLEtBQUssQ0FBQzdILFNBQVMsSUFDcEIsSUFBSSxDQUFDb3pDLDRCQUE0QixJQUNqQztZQUNBbEksWUFBWWdJLFVBQVUsR0FDcEIsSUFBSSxDQUFDcnJDLEtBQUssQ0FBQzdILFNBQVMsS0FBSyxVQUFVLFNBQVM7O1FBRWhELE9BQU95dEMsZUFBZXZDLGFBQWEsSUFBSSxDQUFDM3ZDLElBQUksQ0FBQ3FvQixNQUFNOztBQUV0RDtBQ3BLSyxNQUFPbXdCLCtCQUErQmhDO0lBVTFDaHJELFlBQVlrb0QsV0FBNkI7UUFDdkMsS0FBSyxDQUFDQSxhQUFhNUM7UUFWYixLQUFBMkgseUJBQXlCLEdBQUcsSUFBSWp0QywrUUFBZUEsQ0FBVTtRQVkvRCxJQUFJLENBQUNrdEMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDRCx5QkFBQSxDQUM3QnpyQyxZQUFZLEdBQ1pxTyxJQUFJLENBQUNXLHdSQUFvQkE7O0lBRzlCOzs7O0tBSUcsR0FDSCxJQUFJMjhCLHFCQUFrQjtRQUNwQixPQUFPL3JDLGdCQUF3QixJQUFJLENBQUM4ckMsbUJBQW1COztJQUd6RDs7S0FFRyxHQUNIRSxzQkFBc0IvcEMsVUFBbUI7UUFDdkNqRCxnQkFBd0IsSUFBSSxDQUFDNnNDLHlCQUF5QixFQUFFNXBDOztJQUdoRHlvQyxzQkFBc0JyNEIsTUFBbUI7UUFDakQsTUFBTSxDQUFDRyxNQUFNLEdBQUdILE9BQU9pRCxjQUFjO1FBQ3JDLE9BQU85QyxPQUFPZ1csY0FBY2hNOztBQUUvQjtBQ05ELE1BQU15dkIsNEJBQTRCO0FBQ2xDLE1BQU1DLHdCQUF3QjtBQUM5QixNQUFNQyxXQUFXO0FBRWpCOzs7Ozs7O0NBT0csR0FDSSxNQUFNQyxzQkFBc0IsQ0FDakNsM0IsYUFDQW0zQiw2QkFDQWhzRCxVQUFnQyxFQUFFO0lBRWxDLE1BQU0sRUFDSmlzRCx5QkFBeUJMLHlCQUF5QixFQUNsRE0sc0JBQXNCTCxxQkFBcUIsRUFDM0NNLFVBQVVMLFFBQVEsRUFDbEJNLHNCQUFzQixJQUFJLEVBQzNCLEdBQUdwc0Q7SUFFSixNQUFNNjhDLGVBQWUsSUFBSXlEO0lBQ3pCLE1BQU0rTCxXQUFXeFAsYUFBYXlQLGNBQWM7SUFDNUNELFNBQVNGLE9BQU8sR0FBR0E7SUFFbkIsTUFBTWp4QixhQUFhMmhCLGFBQWE2Qyx1QkFBdUIsQ0FBQzdxQjtJQUN4RHFHLFdBQVc2a0IsT0FBTyxDQUFDc007SUFFbkIsTUFBTS90QixhQUFhQyxZQUFZO1FBQzdCLE1BQU05QixPQUFPLElBQUlsb0IsV0FBVzgzQyxTQUFTRSxpQkFBaUI7UUFDdERGLFNBQVNHLG9CQUFvQixDQUFDL3ZCO1FBRTlCLE1BQU1nd0Isa0JBQWtCaHdCLEtBQUtuYSxJQUFJLENBQUMsQ0FBQ3BqQixRQUFVQSxTQUFTZ3REO1FBRXRELE1BQU1RLG9CQUFvQmp3QixLQUFLelYsTUFBTSxDQUFDLENBQUMybEMsSUFBSUMsS0FBT0QsS0FBS0MsSUFBSSxLQUFLbndCLEtBQUtwNEIsTUFBTTtRQUUzRSxNQUFNd29ELGFBQ0pILG9CQUFvQlIsc0JBQ2hCLE1BQ0FqcEQsS0FBS3cxQixLQUFLLENBQUMsb0JBQXFCeXpCLHNCQUF1Qjs7O1FBSTdELElBQUlyM0IsWUFBWUksY0FBYyxFQUFFLENBQUMsRUFBRSxFQUFFNUMsU0FBUztZQUM1QzI1Qiw0QkFBNEI7Z0JBQUVTO2dCQUFpQnZTLFlBQVkyUztZQUFVO2VBQ2hFO1lBQ0xiLDRCQUE0QjtnQkFBRVMsaUJBQWlCO2dCQUFPdlMsWUFBWTtZQUFDOztPQUVwRStSO0lBRUgsT0FBTyxlQUFlL3pDO1FBQ3BCbW1CLGNBQWNDOztRQUdkcEQsV0FBVzZmLFVBQVU7UUFDckJzUixTQUFTdFIsVUFBVTtRQUNuQixJQUFJOEIsYUFBYXg5QixLQUFLLEtBQUssVUFBVTtZQUNuQyxNQUFNdzlCLGFBQWExa0MsS0FBSzs7O1FBSTFCLElBQUlpMEMscUJBQXFCO1lBQ3ZCdjNCLFlBQVkzQyxTQUFTLEdBQUdsYSxPQUFPLENBQUMsQ0FBQ21hO2dCQUMvQkEsTUFBTWphLElBQUk7Z0JBQ1YyYyxZQUFZZ2EsV0FBVyxDQUFDMWM7WUFDMUI7O0lBRUo7QUFDRjtNQzFHYTI2QjtJQUFidnVELGFBQUE7UUFDVSxLQUFBd3VELEdBQUcsR0FBRyxJQUFJcjFDLGtCQUFrQjtRQUM1QixLQUFBczFDLEdBQUcsR0FBRyxJQUFJdDFDLGtCQUFrQjs7SUFHcEM7O0tBRUcsR0FDSSxNQUFNeW1CLE1BQU02dEIsMkJBQW9EO1FBQ3JFLElBQUk7WUFDRixJQUFJLENBQUNpQixrQkFBa0I7WUFDdkIsTUFBTXA0QixjQUFjLE1BQU0zZixVQUFVc3RDLFlBQVksQ0FBQ0MsWUFBWSxDQUFDO2dCQUM1RDdVLE9BQU87WUFDUjtZQUNELElBQUksQ0FBQy9ZLFdBQVcsR0FBR0E7WUFFbkIsSUFBSSxDQUFDazRCLEdBQUcsQ0FBQ3A0QyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsT0FBTzJGO2dCQUMvQyxNQUFNLElBQUksQ0FBQzB5QyxHQUFHLENBQUM1b0IsZUFBZSxDQUM1QjlwQixFQUFFdWtCLFNBQTRDO1lBRWxEO1lBQ0EsSUFBSSxDQUFDbXVCLEdBQUcsQ0FBQ3I0QyxnQkFBZ0IsQ0FBQyxnQkFBZ0IsT0FBTzJGO2dCQUMvQyxNQUFNLElBQUksQ0FBQ3l5QyxHQUFHLENBQUMzb0IsZUFBZSxDQUM1QjlwQixFQUFFdWtCLFNBQTRDO1lBRWxEO1lBQ0EsSUFBSSxDQUFDbXVCLEdBQUcsQ0FBQ3I0QyxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMyRjtnQkFDbENBLEVBQUV3YixPQUFPLENBQUMsRUFBRSxDQUFDNUQsU0FBUyxHQUFHbGEsT0FBTyxDQUFDLENBQUNtYTs7OztvQkFJaENBLE1BQU0rNkIsVUFBVSxDQUFDO2dCQUNuQjtZQUNGO1lBRUFyNEIsWUFDRzNDLFNBQVMsR0FDVGxhLE9BQU8sQ0FBQyxDQUFDbWEsUUFBVSxJQUFJLENBQUM0NkIsR0FBRyxDQUFDSSxRQUFRLENBQUNoN0IsT0FBTzBDO1lBQy9DLE1BQU1qZCxRQUFRLE1BQU0sSUFBSSxDQUFDbTFDLEdBQUcsQ0FBQ2wxQyxXQUFXLENBQUM7WUFDekMsTUFBTSxJQUFJLENBQUNtMUMsR0FBRyxDQUFDaGdCLG9CQUFvQixDQUFDcDFCO1lBQ3BDLE1BQU0sSUFBSSxDQUFDbTFDLEdBQUcsQ0FBQ2hnQixtQkFBbUIsQ0FBQ24xQjtZQUNuQyxNQUFNazNCLFNBQVMsTUFBTSxJQUFJLENBQUNrZSxHQUFHLENBQUNqZSxZQUFZO1lBQzFDLE1BQU0sSUFBSSxDQUFDZ2UsR0FBRyxDQUFDL2Ysb0JBQW9CLENBQUM4QjtZQUNwQyxNQUFNLElBQUksQ0FBQ2tlLEdBQUcsQ0FBQ2pnQixtQkFBbUIsQ0FBQytCO1lBQ25DLE1BQU1zZSxRQUFRLElBQUksQ0FBQ0MsNkJBQTZCLENBQzlDckI7WUFFRixPQUFPO2dCQUNMb0I7Z0JBQ0EsSUFBSSxDQUFDbDFDLElBQUk7WUFDWDtVQUNBLE9BQU85RixPQUFPO1lBQ2QsTUFBTWIsU0FBUzhFLFVBQVU7Z0JBQUM7YUFBbUI7WUFDN0M5RSxPQUFPLFNBQVMsZ0NBQWdDYTtZQUNoRCxPQUFPLEtBQU87OztJQUlsQjs7S0FFRyxHQUNLOEYsT0FBSTtRQUNWLElBQUksQ0FBQzYwQyxHQUFHLENBQUM1MEMsS0FBSztRQUNkLElBQUksQ0FBQzYwQyxHQUFHLENBQUM3MEMsS0FBSztRQUNkLElBQUksQ0FBQzgwQyxrQkFBa0I7O0lBR3pCOztLQUVHLEdBQ0tJLDhCQUNOckIsMkJBQW9EO1FBRXBELE1BQU1zQiw0QkFBNEI7UUFDbEMsSUFBSUMscUJBQXFCRDtRQUN6QixJQUFJRSxpQkFBaUI7UUFDckIsSUFBSUM7UUFDSixJQUFJQztRQUNKLE1BQU1DLG9CQUE4QixFQUFFLEVBQUM7UUFDdkMsTUFBTUMsZ0JBQWdCO1FBQ3RCLE1BQU1DLG1CQUFtQjtRQUN6QixNQUFNQyxpQkFBaUI7UUFDdkIsTUFBTUMsZ0JBQWdCLEtBQUk7UUFDMUIsTUFBTUMsaUJBQWlCLE1BQUs7UUFFNUIsTUFBTUMsa0JBQWtCO1lBQ3RCLElBQUk7Z0JBQ0YsTUFBTW44QixRQUFTLE1BQU0sSUFBSSxDQUFDaTdCLEdBQUcsQ0FBQy80QixRQUFRO2dCQUN0QyxNQUFNNU4sU0FBU3lMLFFBQVFDOztnQkFFdkIsTUFBTW84Qix3QkFBd0I5bkMsT0FBT3hrQixJQUFJLENBQ3ZDLENBQUNtMEIsT0FDQ0EsS0FBSzVXLElBQUksS0FBSyxrQkFDYjRXLEtBQTJCcjJCLElBQUksS0FBSztnQkFFekMsSUFBSXd1RCx1QkFBdUI7b0JBQ3pCLE1BQU0sRUFBRWhVLFVBQVUsRUFBRSxHQUFHZ1U7b0JBQ3ZCLElBQUloVSxZQUFZOzt3QkFFZHlULGtCQUFrQnh1RCxJQUFJLENBQUMrNkM7d0JBQ3ZCLElBQUl5VCxrQkFBa0J0cEQsTUFBTSxHQUFHdXBELGVBQWU7NEJBQzVDRCxrQkFBa0JRLEtBQUs7Ozt3QkFJekIsTUFBTUMsZ0JBQ0pULGtCQUFrQjNtQyxNQUFNLENBQUMsQ0FBQzdHLEdBQUdDLElBQU1ELElBQUlDLEdBQUcsS0FDMUN1dEMsa0JBQWtCdHBELE1BQU07O3dCQUcxQixJQUFJK3BELGdCQUFnQmIscUJBQXFCTSxrQkFBa0I7NEJBQ3pELElBQUksQ0FBQ0gsY0FBYztnQ0FDakJBLGVBQWU5NkMsV0FBVztvQ0FDeEIyNkMscUJBQXFCdHFELEtBQUtzUSxHQUFHLENBQzNCNjZDLGdCQUFnQk4sZ0JBQ2hCUjttQ0FFRFU7OytCQUVBOzRCQUNMM29DLGFBQWFxb0M7NEJBQ2JBLGVBQWVyc0Q7Ozt3QkFJakIsSUFBSStzRCxnQkFBZ0JiLHFCQUFxQixLQUFLOzRCQUM1QyxJQUFJLENBQUNDLGdCQUFnQjtnQ0FDbkJBLGlCQUFpQjtnQ0FDakJ4Qiw0QkFBNEI7b0NBQzFCUyxpQkFBaUI7b0NBQ2pCdlM7Z0NBQ0Q7OzRCQUdINzBCLGFBQWFvb0M7NEJBRWJBLGNBQWM3NkMsV0FBVztnQ0FDdkI0NkMsaUJBQWlCO2dDQUNqQnhCLDRCQUE0QjtvQ0FDMUJTLGlCQUFpQjtvQ0FDakJ2UyxZQUFZO2dDQUNiOytCQUNBNlQ7Ozs7Y0FJVCxPQUFPMzdDLE9BQU87Z0JBQ2QsTUFBTWIsU0FBUzhFLFVBQVU7b0JBQUM7aUJBQW1CO2dCQUM3QzlFLE9BQU8sU0FBUyx5Q0FBeUNhOztRQUU3RDs7UUFHQSxNQUFNa3NCLGFBQWFDLFlBQVkwdkIsaUJBQWlCO1FBRWhELE9BQU87WUFDTDV2QixjQUFjQztZQUNkalosYUFBYW9vQztZQUNicG9DLGFBQWFxb0M7UUFDZjs7SUFHTVQscUJBQWtCO1FBQ3hCLElBQUksQ0FBQyxJQUFJLENBQUNwNEIsV0FBVyxFQUFFO1lBQ3JCOztRQUVGLElBQUksQ0FBQ0EsV0FBVyxDQUFDM0MsU0FBUyxHQUFHbGEsT0FBTyxDQUFDLENBQUNtYSxRQUFVQSxNQUFNamEsSUFBSTtRQUMxRDtRQUVFLE9BQU8sSUFBSSxDQUFDMmMsV0FBVyxDQUFDNHdCLE9BQU8sS0FBSyxZQUNwQzs7WUFFQSxJQUFJLENBQUM1d0IsV0FBVyxDQUFDNHdCLE9BQU87OztBQUc3QjtBQzdKSyxNQUFPNEksMEJBQTBCMUk7SUFVckNwbkQsWUFBWXdVLElBQVUsRUFBRTB6QyxjQUFnQyxhQUFhO1FBQ25FLEtBQUssQ0FBQzF6QyxNQUFNLElBQUl3NEMsdUJBQXVCOUUsY0FBYy9oRCxVQUFVc2MsS0FBSztRQVY5RCxJQUFxQyxDQUFBc3RDLHFDQUFBLEdBQUc7UUFDeEMsS0FBQUMsMkJBQTJCLEdBQUdwd0MsT0FBTztRQVczQyxJQUFJLENBQUM4a0IsYUFBYSxDQUFDOWpDLElBQUksQ0FDckIrZSw0QkFDRWQsaVJBQWFBLENBQUM7WUFDWixJQUFJLENBQUNySyxJQUFJLENBQUNzTSxLQUFLLENBQUNpUixhQUFhO1lBQzdCLElBQUksQ0FBQ3ZkLElBQUksQ0FBQ3NNLEtBQUssQ0FBQ2tSLGdCQUFnQjtZQUNoQyxJQUFJLENBQUNsUixLQUFLLENBQUM0YyxlQUFlO1lBQzFCLElBQUksQ0FBQzVjLEtBQUssQ0FBQ3lxQyxPQUFPO1NBQ25CLEdBQ0QsT0FBTyxDQUFDeHFDLGNBQWM4UixpQkFBaUIrSyxVQUFVejlCLE9BQU87WUFDdEQsSUFBSTtnQkFDRixJQUFJNGdCLGlCQUFpQmxCLGFBQWFtQixJQUFJLEVBQUU7b0JBQ3RDLE1BQU0sSUFBSSxDQUFDaXZDLCtCQUErQjs7Z0JBRTVDLElBQUlsdkMsaUJBQWlCbEIsYUFBYXdOLE1BQU0sRUFBRTtnQkFDMUMsSUFBSSxDQUFDLElBQUksQ0FBQzBpQyxxQ0FBcUMsRUFBRTtnQkFFakQsSUFBSWw5QixnQkFBZ0J2USxRQUFRLENBQUNub0IsY0FBY2UsVUFBVSxHQUFHO29CQUN0RCxJQUFJaUYsV0FBVyxZQUFZO3dCQUN6QixNQUFNLElBQUksQ0FBQyt2RCxnQ0FBZ0MsQ0FBQ3R5QjsyQkFDdkM7d0JBQ0wsTUFBTSxJQUFJLENBQUNxeUIsK0JBQStCOzt1QkFFdkM7b0JBQ0wsTUFBTSxJQUFJLENBQUNBLCtCQUErQjs7Y0FFNUMsT0FBT3o4QyxLQUFLO2dCQUNaLElBQUksQ0FBQ1IsTUFBTSxDQUFDLFFBQVEseUNBQXlDUTs7O1FBTXJFLElBQUksQ0FBQ2t4QixhQUFhLENBQUM5akMsSUFBSSxDQUNyQjBlLG1CQUFtQixJQUFJLENBQUM5SyxJQUFJLENBQUNzTSxLQUFLLENBQUNpUixhQUFhLEVBQUUsQ0FBQ2hSOztZQUVqRCxJQUFJLENBQUMsSUFBSSxDQUFDb3ZDLDZCQUE2QixJQUFJLENBQUMsSUFBSSxDQUFDQyxpQkFBaUIsRUFDaEU7WUFFRixNQUFNQyxTQUNKLElBQUksQ0FBQzc3QyxJQUFJLENBQUNzTSxLQUFLLENBQUNnTCxRQUFRLEVBQUV1akIsTUFBTWloQixvQkFBb0JDLFNBQ3BEcjJELGtDQUFrQ2YsT0FBTztZQUUzQyxJQUFJazNELFVBQVV0dkMsaUJBQWlCbEIsYUFBYXdOLE1BQU0sRUFBRTtnQkFDbEQsSUFBSSxDQUFDOGlDLDZCQUFBLENBQ0Z2OEMsSUFBSSxDQUFDO29CQUNKLElBQUksSUFBSSxDQUFDdzhDLGlCQUFpQixFQUFFSSxlQUFlO3dCQUN6QyxPQUFPLElBQUksQ0FBQ0osaUJBQWlCLENBQUNJLGFBQWE7O29CQUU3QyxPQUFPO2dCQUNULEdBQ0M1OEMsSUFBSSxDQUFDLENBQUM0OEM7b0JBQ0wsSUFBSUEsZUFBZTt3QkFDakIsSUFBSSxDQUFDSixpQkFBaUIsRUFBRXpJOztnQkFFNUIsR0FDQ3ptQyxLQUFLLENBQUMsQ0FBQzFOO29CQUNOLElBQUksQ0FBQ1IsTUFBTSxDQUFDLFFBQVEsQ0FBcUMsc0NBQUVRO29CQUMzRCxPQUFPLElBQUksQ0FBQ2dCLElBQUksQ0FBQ2k4Qyw4QkFBOEI7Z0JBQ2pEO21CQUNHLElBQUkxdkMsaUJBQWlCbEIsYUFBYW1CLElBQUksRUFBRTtnQkFDN0MsSUFBSSxDQUFDbXZDLDZCQUFBLENBQ0Z2OEMsSUFBSSxDQUFDLElBQU0sSUFBSSxDQUFDdzhDLGlCQUFpQixFQUFFNVYsV0FDbkN0NUIsS0FBSyxDQUFDLENBQUMxTjtvQkFDTixJQUFJLENBQUNSLE1BQU0sQ0FBQyxRQUFRLENBQXNDLHVDQUFFUTtnQkFDOUQ7Ozs7SUFNVjs7OztLQUlHLEdBQ0gsTUFBTWs5Qyx3QkFBd0JOLGlCQUFxQztRQUNqRSxNQUFNLEVBQUV2OUIsZUFBZSxFQUFFL0csUUFBUSxFQUFFLEdBQUcsSUFBSSxDQUFDdFgsSUFBSSxDQUFDc00sS0FBSztRQUNyRCxNQUFNNnZDLGlDQUFpQzk5QixnQkFBZ0J2USxRQUFRLENBQzdEbm9CLGNBQWNLLHlCQUF5QjtRQUV6QyxJQUFJLENBQUNtMkQsZ0NBQWdDO1lBQ25DLE1BQU0sSUFBSTV3RCxNQUFNOztRQUVsQixNQUFNNndELDRCQUE0QjlrQyxVQUFVdWpCLE1BQU1paEI7UUFDbEQsSUFDRSxDQUFDTSw2QkFDREEsMEJBQTBCTCxJQUFJLEtBQzVCcjJELGtDQUFrQ2hCLFFBQVEsRUFDNUM7WUFDQSxNQUFNLElBQUk2RyxNQUFNOztRQUVsQixJQUFJO1lBQ0YsSUFBSSxDQUFDcXdELGlCQUFpQixHQUFHQTs7WUFHekIsSUFBSSxDQUFDUyxrQ0FBa0MsR0FBRyxJQUFJLENBQUNULGlCQUFpQixDQUFDcDBDLEVBQUUsQ0FDakUsVUFDQSxDQUFDOFg7Z0JBQ0MsSUFBSSxDQUFDdGYsSUFBSSxDQUFDcW9CLE1BQU0sQ0FBQ3ZwQixLQUFLLENBQUMsNkJBQTZCd2dCO2dCQUNwRCxJQUFJQSxTQUFTO29CQUNYLElBQUksQ0FBQ3RmLElBQUksQ0FBQ3M4QywrQkFBK0IsR0FBRzV2QyxLQUFLLENBQUMsQ0FBQzFOO3dCQUNqRCxJQUFJLENBQUNSLE1BQU0sQ0FBQyxRQUFRLENBQXFDLHNDQUFFUTtvQkFDN0Q7dUJBQ0s7b0JBQ0wsSUFBSSxDQUFDZ0IsSUFBSSxDQUFDaThDLDhCQUE4QixHQUFHdnZDLEtBQUssQ0FBQyxDQUFDMU47d0JBQ2hELElBQUksQ0FBQ1IsTUFBTSxDQUFDLFFBQVEsQ0FBb0MscUNBQUVRO29CQUM1RDs7WUFFSjtZQUdGLElBQUlrRCxpQkFBaUI7O2dCQUVuQixJQUFJLENBQUN5NUMsNkJBQTZCLEdBQUdoOEMsUUFBUW9LLE9BQU87bUJBQy9DO2dCQUNMLE1BQU13eUMscUJBQXFCLElBQUksQ0FBQ3pJLGNBQWMsQ0FDNUM4SCxrQkFBa0JZLFFBQVE7Z0JBRTVCLElBQUksQ0FBQ2IsNkJBQTZCLEdBQUdZLG1CQUFtQnhJLFVBQVU7Z0JBQ2xFLElBQUksQ0FBQzBJLDJCQUEyQixHQUFHRixtQkFBbUI3TixVQUFVO2dCQUNoRSxNQUFNLElBQUksQ0FBQ2lOLDZCQUE2Qjs7OztZQUsxQyxJQUNFUywwQkFBMEJMLElBQUksS0FDNUJyMkQsa0NBQWtDZixPQUFPLElBQzNDLElBQUksQ0FBQ3FiLElBQUksQ0FBQ3NNLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYXdOLE1BQU0sRUFDcEQ7Z0JBQ0EsSUFBSW1qQyxnQkFBZ0I7Z0JBQ3BCLElBQUlKLGtCQUFrQkksYUFBYSxFQUFFO29CQUNuQ0EsZ0JBQWdCLE1BQU1KLGtCQUFrQkksYUFBYTs7Z0JBRXZELElBQUlBLGVBQWU7b0JBQ2pCSixrQkFBa0J6SSxNQUFNOzs7VUFHNUIsT0FBTzVyQyxHQUFHO1lBQ1YsSUFBSSxDQUFDL0ksTUFBTSxDQUFDLFFBQVEsdUNBQXVDK0k7WUFDM0QsTUFBTSxJQUFJLENBQUNtMUMsd0JBQXdCLEdBQUdod0MsS0FBSyxDQUFDLENBQUMxTjtnQkFDM0MsSUFBSSxDQUFDUixNQUFNLENBQUMsUUFBUSx3Q0FBd0NRO1lBQzlEO1lBQ0EsTUFBTXVJOzs7SUFJVjs7S0FFRyxHQUNILE1BQU1tMUMsMkJBQXdCO1FBQzVCLE1BQU0sQ0FBQyxJQUFJLENBQUNELDJCQUEyQixRQUFROThDLFFBQVFvSyxPQUFPLElBQzNEM0ssSUFBSSxDQUFDLElBQU0sSUFBSSxDQUFDdzhDLGlCQUFpQixFQUFFNVYsV0FDbkM1bUMsSUFBSSxDQUFDLElBQU0sSUFBSSxDQUFDaTlDLGtDQUFrQyxNQUNsRDN2QyxLQUFLLENBQUMsQ0FBQzFOO1lBQ04sSUFBSSxDQUFDUixNQUFNLENBQUMsUUFBUSwyQ0FBMkNRO1FBQ2pFO1FBRUYsTUFBTSxJQUFJLENBQUNnQixJQUFJLENBQUNpOEMsOEJBQThCOztJQUdoRDs7S0FFRyxHQUNILE1BQU1VLHVDQUFvQztRQUN4QyxJQUFJLENBQUNwQixxQ0FBcUMsR0FBRztRQUM3QyxJQUFJLElBQUksQ0FBQ2p2QyxLQUFLLENBQUMzZ0IsTUFBTSxLQUFLLFlBQVk7WUFDcEMsTUFBTSxJQUFJLENBQUMrdkQsZ0NBQWdDLENBQUMsSUFBSSxDQUFDcHZDLEtBQUssQ0FBQzRnQyxjQUFjOzs7SUFJekU7O0tBRUcsR0FDSCxNQUFNMFAsd0NBQXFDO1FBQ3pDLElBQUksQ0FBQ3JCLHFDQUFxQyxHQUFHO1FBQzdDLE1BQU0sSUFBSSxDQUFDRSwrQkFBK0I7O0lBRzVDOzs7O0tBSUcsR0FDSCxNQUFNanZCLE1BQU1sVixRQUErQixFQUFFeWdCLE9BQWdCO1FBQzNELElBQUksQ0FBQ0EsU0FBUztRQUVkLE1BQU04a0Isb0JBQW9CLENBQUMsQ0FBQyxJQUFJLENBQUM3OEMsSUFBSSxDQUFDc00sS0FBSyxDQUFDNk4sZ0JBQWdCLEVBQUUySDtRQUM5RCxNQUFNMmlCLGdCQUFnQixJQUFJLENBQUN6a0MsSUFBSSxDQUFDMGtDLGtCQUFrQixDQUFDRCxhQUFhLENBQzlEOStDLGNBQWNlLFVBQVU7UUFFMUIsSUFBSW0yRCxxQkFBcUIsQ0FBQ3BZLGVBQWU7O1FBR3pDLE1BQU0sSUFBSSxDQUFDbVAsbUJBQW1COztRQUc5QixNQUFNLEVBQUVZLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQ2xvQyxLQUFLO1FBQ2xDLElBQUksSUFBSSxDQUFDZ1QsT0FBTyxJQUFJazFCLGFBQWE7O1lBRS9CLE1BQU0sSUFBSSxDQUFDSCxhQUFhLENBQUNHO2VBQ3BCLElBQUksSUFBSSxDQUFDbG9DLEtBQUssQ0FBQzNnQixNQUFNLEtBQUsyQyxhQUFhZ3BCLFNBQVN3bEMsY0FBYyxFQUFFOztZQUVyRSxNQUFNLElBQUksQ0FBQzNKLE1BQU07OztJQUlYL0MsYUFBVTtRQUNsQixPQUFPZTs7SUFHQ08sVUFDUi9CLFdBQWtDO1FBRWxDLE9BQU9vQyxlQUFlcEMsYUFBYSxJQUFJLENBQUMzdkMsSUFBSSxDQUFDcW9CLE1BQU07O0lBRzdDLE1BQU1xekIsaUNBQWlDdHlCLFFBQWlCO1FBQzlELE1BQU03Z0IsbUJBQW1CLElBQUksQ0FBQ2l6QywyQkFBMkIsRUFBRTtZQUN6RCxNQUFNLElBQUksQ0FBQ0MsK0JBQStCO1lBQzFDLElBQUl2NUMsaUJBQWlCO2dCQUNuQixJQUFJLENBQUM2NkMsZ0JBQWdCLEdBQUcsSUFBSWhEO2dCQUM1QixNQUFNeHZDLGNBQWMsTUFBTSxJQUFJLENBQUN3eUMsZ0JBQWdCLENBQUMzeEIsS0FBSyxDQUFDLENBQUM3VjtvQkFDckQsSUFBSSxDQUFDakosS0FBSyxDQUFDc3NDLHFCQUFxQixDQUFDcmpDLE1BQU1ta0MsZUFBZTtnQkFDeEQ7Z0JBQ0EsSUFBSSxDQUFDc0Qsb0JBQW9CLEdBQUc7b0JBQzFCenlDO29CQUNBLElBQUksQ0FBQ3d5QyxnQkFBZ0IsR0FBR3p1RDtnQkFDMUI7bUJBQ0s7O2dCQUVMLE1BQU0yd0IsU0FBUyxNQUFNLElBQUksQ0FBQ3l5QixTQUFTLENBQUM7b0JBQ2xDdG9CLFVBQVU7d0JBQUU0ckIsT0FBTzVyQjtvQkFBUTtnQkFDNUI7Z0JBQ0QsSUFBSSxDQUFDNHpCLG9CQUFvQixHQUFHaEUsb0JBQW9CLzVCLFFBQVEsQ0FBQzFKO29CQUN2RCxJQUFJLENBQUNqSixLQUFLLENBQUNzc0MscUJBQXFCLENBQUNyakMsTUFBTW1rQyxlQUFlO2dCQUN4RDs7UUFFSjs7SUFHTSxNQUFNK0Isa0NBQStCO1FBQzNDLE1BQU1sekMsbUJBQW1CLElBQUksQ0FBQ2l6QywyQkFBMkIsRUFBRTtZQUN6RCxJQUFJLENBQUMsSUFBSSxDQUFDd0Isb0JBQW9CLEVBQUU7WUFDaEMsTUFBTUEsdUJBQXVCLElBQUksQ0FBQ0Esb0JBQW9CO1lBQ3RELElBQUksQ0FBQ0Esb0JBQW9CLEdBQUcxdUQ7WUFDNUIsSUFBSSxDQUFDZ2UsS0FBSyxDQUFDc3NDLHFCQUFxQixDQUFDO1lBQ2pDLE1BQU1vRTtRQUNSOztBQUVIO0FDelJLLE1BQU9DLHlCQUF5QnpHO0lBQXRDaHJELGFBQUE7O1FBQ1UsS0FBQTB4RCxtQkFBbUIsR0FBRyxJQUFJMXhDLCtRQUFlQSxDQUFVO1FBQ25ELEtBQUEyRixlQUFlLEdBQUcsSUFBSTNGLCtRQUFlQSxDQUUzQ2xkO1FBRUY7O1NBRUcsR0FDSCxJQUFhLENBQUE2dUQsYUFBQSxHQUFHLElBQUksQ0FBQ0QsbUJBQUEsQ0FDbEJsd0MsWUFBWSxHQUNacU8sSUFBSSxDQUFDVyx3UkFBb0JBO1FBRTVCOztTQUVHLEdBQ0gsS0FBQWEsU0FBUyxHQUFHLElBQUksQ0FBQzFMLGVBQWUsQ0FBQ25FLFlBQVk7UUFFN0M7O1NBRUcsR0FDTyxLQUFBc3FDLHFCQUFxQixHQUFHLENBQ2hDcjRCO1lBRUEsTUFBTSxDQUFDRyxNQUFNLEdBQUdILE9BQU9FLFNBQVM7WUFDaEMsT0FBT0MsT0FBT2dXLGNBQWNoTTtRQUM5Qjs7SUFFQTs7S0FFRyxHQUNILElBQUlnMEIsZUFBWTtRQUNkLE9BQU94d0MsZ0JBQXdCLElBQUksQ0FBQ3V3QyxhQUFhOztJQUduRDs7S0FFRyxHQUNIRSxnQkFBZ0JDLFNBQWtCO1FBQ2hDMXhDLGdCQUF3QixJQUFJLENBQUNzeEMsbUJBQW1CLEVBQUVJOztJQUdwRDs7S0FFRyxHQUNILElBQUlobUMsV0FBUTtRQUNWLE9BQU8xSyxnQkFBd0IsSUFBSSxDQUFDaVEsU0FBUzs7SUFHL0M7Ozs7S0FJRyxHQUNIMGdDLFlBQVlqbUMsUUFBeUM7UUFDbkQxTCxnQkFBd0IsSUFBSSxDQUFDdUYsZUFBZSxFQUFFbUc7O0FBRWpEO0FDckRLLE1BQU9rbUMsMkJBQTJCNUs7SUFJdENwbkQsWUFBWXdVLElBQVU7UUFDcEIsS0FBSyxDQUFDQSxNQUFNLElBQUlpOUMsb0JBQW9CdHJELFVBQVV3YyxZQUFZO1FBRTFELElBQUksQ0FBQytoQixhQUFhLENBQUM5akMsSUFBSSxDQUNyQjBlLG1CQUFtQjlLLEtBQUtzTSxLQUFLLENBQUN1USxTQUFTLEVBQUUsQ0FBQ3ZGO1lBQ3hDLE1BQU1tbUMsd0JBQXdCbm1DLFVBQVU2MkIsY0FBY2tLO1lBRXRELElBQUlvRix1QkFBdUI7Z0JBQ3pCLElBQUksQ0FBQ3hKLHFCQUFxQixDQUFDO29CQUN6Qi9GLE9BQU87d0JBQ0w5NEIsT0FBT3FvQyxzQkFBc0Jyb0MsS0FBSzt3QkFDbENELFFBQVFzb0Msc0JBQXNCdG9DLE1BQU07b0JBQ3JDO2dCQUNGOzs7O0lBTVQ7Ozs7O0tBS0csR0FDSHVvQyx5QkFBc0I7UUFDcEIsSUFBSSxDQUFDcHhDLEtBQUssQ0FBQyt3QyxlQUFlLENBQUM7O0lBRzdCOztLQUVHLEdBQ0gsTUFBTU0sMEJBQXVCO1FBQzNCLElBQUksQ0FBQ3J4QyxLQUFLLENBQUMrd0MsZUFBZSxDQUFDO1FBQzNCLElBQUksSUFBSSxDQUFDcjlDLElBQUksQ0FBQzRnQixTQUFTLEVBQUVrWSxhQUFhbm5DLFVBQVUwYyxrQkFBa0IsR0FBRztZQUNuRSxNQUFNLElBQUksQ0FBQ3JPLElBQUksQ0FBQ3UwQyxXQUFXLENBQUM1aUQsVUFBVTBjLGtCQUFrQjs7O0lBSTVEOztLQUVHLEdBQ0grbUIsY0FBVztRQUNULE9BQU8sSUFBSSxDQUFDOW9CLEtBQUssQ0FBQ2dMLFFBQVE7O0lBRzVCOzs7O0tBSUcsR0FDSGltQyxZQUFZam1DLFFBQXlDO1FBQ25ELElBQUksQ0FBQ2hMLEtBQUssQ0FBQ2l4QyxXQUFXLENBQUNqbUM7O0lBR2Y4NEIsYUFBVTtRQUNsQixPQUFPK0csc1FBQUVBLENBQUMsRUFBRSxHQUFFOztJQUdOLE1BQU16RixVQUNkL0IsV0FBc0M7UUFFdEMsSUFBSSxDQUFDLElBQUksQ0FBQ3JqQyxLQUFLLENBQUM4d0MsWUFBWSxFQUFFO1lBQzVCek4sWUFBWTlVLEtBQUssR0FBRzs7UUFFdEIsTUFBTTViLFNBQVMsTUFBTW16QixxQkFBcUJ6QyxhQUFhLElBQUksQ0FBQzN2QyxJQUFJLENBQUNxb0IsTUFBTTtRQUN2RSxNQUFNLENBQUNqSixNQUFNLEdBQUdILE9BQU9nRCxjQUFjO1FBQ3JDLE1BQU0sRUFBRTI3QixXQUFXLEVBQUUsR0FBRyxJQUFJLENBQUN0eEMsS0FBSyxDQUFDZ0wsUUFBUSxJQUFJO1FBQy9DLElBQUksT0FBT3NtQyxnQkFBZ0IsZUFBZXgrQixTQUFTLGlCQUFpQkEsT0FBTztZQUN6RSxJQUFJLENBQUNwZixJQUFJLENBQUNxb0IsTUFBTSxDQUFDdnBCLEtBQUssQ0FDcEIsc0RBQ0E4K0M7WUFFRngrQixNQUFNdytCLFdBQVcsR0FBR0E7O1FBRXRCLE9BQU8zK0I7O0lBR0MsTUFBTXExQixvQkFBaUI7UUFDL0IsT0FBTyxJQUFJLENBQUN0MEMsSUFBSSxDQUFDdTBDLFdBQVcsQ0FDMUI1aUQsVUFBVXdjLFlBQVksRUFDdEJ4YyxVQUFVMGMsa0JBQWtCOztJQUloQzs7S0FFRyxHQUNILE1BQU02bEMsU0FBTTtRQUNWLE1BQU0sSUFBSTNvRCxNQUFNOztBQUVuQjtNQ25HWXN5RDtJQXdCWHJ5RCxZQUFZNjhCLE1BQWM7UUF2QmhCLEtBQUF1dUIscUJBQXFCLEdBQUcsSUFBSXByQywrUUFBZUEsQ0FBUztRQUNwRCxLQUFBc3lDLGFBQWEsR0FBRyxJQUFJdHlDLCtRQUFlQSxDQUFTO1FBQ3REOztTQUVHLEdBQ00sSUFBMEIsQ0FBQXV5QywwQkFBQSxHQUFHeE47UUFtQnBDLElBQUksQ0FBQ2xvQixNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDYSxlQUFlLEdBQUcsSUFBSSxDQUFDMHRCLHFCQUFBLENBQ3pCNXBDLFlBQVksR0FDWnFPLElBQUksQ0FBQ1csd1JBQW9CQTtRQUM1QixJQUFJLENBQUNxeEIsT0FBTyxHQUFHLElBQUksQ0FBQ3lRLGFBQUEsQ0FDakI5d0MsWUFBWSxHQUNacU8sSUFBSSxDQUFDVyx3UkFBb0JBOztJQUc5Qjs7OztLQUlHLEdBQ0gsSUFBSWt4QixpQkFBYztRQUNoQixPQUFPdGdDLGdCQUF3QixJQUFJLENBQUNzYyxlQUFlOztJQUdyRDs7OztLQUlHLEdBQ0gsSUFBSTZqQixTQUFNO1FBQ1IsT0FBT25nQyxnQkFBd0IsSUFBSSxDQUFDeWdDLE9BQU87O0lBRzdDOzs7S0FHRyxHQUNIK0csVUFBVWhyQixRQUFnQjtRQUN4QnhkLGdCQUF3QixJQUFJLENBQUNnckMscUJBQXFCLEVBQUV4dEI7UUFDcEQsSUFBSSxDQUFDZixNQUFNLENBQUN2cEIsS0FBSyxDQUFDLG9DQUFvQ3NxQjs7SUFHeEQ7OztLQUdHLEdBQ0g0MEIsVUFBVWpSLE1BQWM7UUFDdEJuaEMsZ0JBQXdCLElBQUksQ0FBQ2t5QyxhQUFhLEVBQUUvUTs7QUFFL0M7TUNuRVlrUjtJQUtYenlELFlBQVl3VSxJQUFVO1FBSGQsSUFBYSxDQUFBa3dCLGFBQUEsR0FBbUIsRUFBRTtRQTBEMUM7Ozs7U0FJRyxHQUNILElBQU8sQ0FBQTluQixPQUFBLEdBQUc7WUFDUixJQUFJLENBQUM4bkIsYUFBYSxDQUFDanJCLE9BQU8sQ0FBQyxDQUFDckUsSUFBTUEsRUFBRTJKLFdBQVc7UUFDakQ7UUE3REUsSUFBSSxDQUFDdkssSUFBSSxHQUFHQTtRQUNaLElBQUksQ0FBQ3NNLEtBQUssR0FBRyxJQUFJdXhDLGFBQWE3OUMsS0FBS3FvQixNQUFNO1FBQ3pDLElBQUlvcUIsY0FBYyxDQUFDdndDLGlCQUFpQjtZQUNsQyxJQUFJLENBQUNndUIsYUFBYSxDQUFDOWpDLElBQUksQ0FDckJpZSxpUkFBYUEsQ0FBQztnQkFBQ29vQztnQkFBYSxJQUFJLENBQUNubUMsS0FBSyxDQUFDNGMsZUFBZTthQUFDLEVBQUU1ZSxTQUFTLENBQ2hFLENBQUMsQ0FBQzZlLFNBQVNDLFNBQVM7Z0JBQ2xCLElBQUksQ0FBQ0EsVUFBVTtvQkFDYjs7Z0JBRUYsTUFBTS9CLFNBQVM4QixRQUFRdDZCLElBQUksQ0FDekIsQ0FBQ3k2QixJQUFNQSxFQUFFRixRQUFRLEtBQUtBLFlBQVlFLEVBQUUzOEIsSUFBSSxLQUFLO2dCQUUvQyxJQUFJLENBQUMwNkIsUUFBUTtvQkFDWCxJQUFJLENBQUM2c0IsTUFBTSxDQUFDOzs7OztJQVF4Qjs7Ozs7OztLQU9HLEdBQ0hqckIsY0FBVztRQUNULElBQUkvbUIsaUJBQWlCO1lBQ25CLE1BQU0sSUFBSTNXLE1BQ1I7O1FBR0osT0FBT2ltRDs7SUFHVDs7Ozs7O0tBTUcsR0FDSDBDLE9BQU85cUIsUUFBZ0I7UUFDckIsSUFBSWxuQixpQkFBaUI7WUFDbkIsTUFBTSxJQUFJM1csTUFDUjs7UUFHSixJQUFJLENBQUMrZ0IsS0FBSyxDQUFDOG5DLFNBQVMsQ0FBQ2hyQjs7SUFZdkI7Ozs7O0tBS0csR0FDSDQwQixVQUFValIsTUFBYztRQUN0QixJQUFJN3FDLGlCQUFpQjtZQUNuQixNQUFNLElBQUkzVyxNQUNSOztRQUdKLElBQUl3aEQsVUFBV0EsQ0FBQUEsU0FBUyxLQUFLQSxTQUFTLElBQUk7WUFDeEMsTUFBTSxJQUFJeGhELE1BQU07O1FBRWxCLElBQUksQ0FBQytnQixLQUFLLENBQUMweEMsU0FBUyxDQUFDalI7O0lBR3ZCOzs7Ozs7O0tBT0csR0FDSG1SLHFCQUFxQm5xQyxTQUFpQixFQUFFZzVCLE1BQTBCO1FBQ2hFLElBQUk3cUMsaUJBQWlCO1lBQ25CLE1BQU0sSUFBSTNXLE1BQ1I7O1FBR0osSUFBSXdoRCxVQUFXQSxDQUFBQSxTQUFTLEtBQUtBLFNBQVMsSUFBSTtZQUN4QyxNQUFNLElBQUl4aEQsTUFBTTs7UUFFbEIsSUFBSSxDQUFDeVUsSUFBSSxDQUFDc00sS0FBSyxDQUFDOEgsaUJBQWlCLENBQUNMLFdBQVc7WUFBRSs0QixhQUFhQztRQUFNOztBQUVyRTtBQzJDRDs7Q0FFRyxTQUNVcjRDO0lBbUhYOzs7Ozs7S0FNRyxHQUNIbEosWUFBWSxFQUNWNGdCLElBQUksRUFDSkMsRUFBRSxFQUNGK3pCLFlBQVksRUFDWjdzQixPQUFPLEVBQ1A4SyxlQUFlLEVBQ2ZuTSxrQkFBa0IsRUFDbEJpc0MsV0FBVyxFQUNYOVcsVUFBVSxLQUFLLEVBQ2YrVyxXQUFXLEtBQUssRUFDQTtRQXBIbEI7O1NBRUcsR0FDTSxLQUFBOXhDLEtBQUssR0FBRyxJQUFJOVo7UUF5Q3JCOztTQUVHLEdBQ00sS0FBQWt5QyxrQkFBa0IsR0FBRyxJQUFJaUo7UUFDekIsS0FBQXRsQixNQUFNLEdBQUcsSUFBSWlILE9BQU87UUFHN0I7OztTQUdHLEdBQ2MsS0FBQU0sVUFBVSxHQUFHLElBQUk5b0I7UUFJMUIsSUFBMEIsQ0FBQXUzQywwQkFBQSxHQUFXO1FBUXJDLElBQVksQ0FBQUMsWUFBQSxHQUFHO1FBR04sS0FBQUMsdUJBQXVCLEdBQUduekMsT0FBTztRQUMxQyxJQUFpQixDQUFBb3pDLGlCQUFBLEdBQUc7UUFDcEIsS0FBQTlZLGlCQUFpQixHQUFHenpDLDJCQUEyQjAwQixXQUFXO1FBQzFELElBQWUsQ0FBQTgzQixlQUFBLEdBQUc7UUFDbEIsSUFBNEIsQ0FBQUMsNEJBQUEsR0FBVztRQUN2QyxJQUEyQixDQUFBQywyQkFBQSxHQUFXO1FBQ3RDLElBQW9CLENBQUFDLG9CQUFBLEdBQVc7OztRQUkvQixJQUFpQixDQUFBQyxpQkFBQSxHQUFnQixFQUFFO1FBRW5DLElBQWEsQ0FBQUMsYUFBQSxHQUFHO1FBQ2hCLElBQXlCLENBQUFDLHlCQUFBLEdBQUc7UUFHNUIsSUFBVyxDQUFBQyxXQUFBLEdBQUc7UUFDTCxLQUFBQyx1QkFBdUIsR0FBRzd6QyxPQUFPO1FBRWxEOzs7O1NBSUcsR0FDYyxLQUFBOHpDLGNBQWMsR0FBa0IsSUFBSXg5QjtRQUc3QyxLQUFBeTlCLHlCQUF5QixHQUFHLElBQUl0MkM7UUFrRHhDOzs7O1NBSUcsR0FDSCxJQUFLLENBQUE0MUIsS0FBQSxHQUFHO1lBQ04sTUFBTWwyQixtQkFBbUIsSUFBSSxDQUFDMDJDLHVCQUF1QixFQUFFO2dCQUNyRCxJQUFJLElBQUksQ0FBQ0QsV0FBVyxFQUFFO2dCQUV0QixJQUFJLENBQUNFLGNBQWMsQ0FBQ3pxQyxHQUFHLENBQ3JCLElBQUksQ0FBQ2pOLEVBQUUsQ0FBQyxPQUFPLENBQUMrTjs7b0JBRWQsSUFBSSxDQUFDakosS0FBSyxDQUFDZ0osZUFBZSxDQUFDQzs7Z0JBSS9CLElBQUksQ0FBQzJwQyxjQUFjLENBQUN6cUMsR0FBRyxDQUNyQixJQUFJLENBQUNqTixFQUFFLENBQUMsd0JBQXdCLENBQUMrTjtvQkFDL0IsSUFBSSxDQUFDNnBDLHFCQUFxQixHQUFHN3BDLE1BQU1vaUIsY0FBYzs7Z0JBSXJELElBQUksQ0FBQ3VuQixjQUFjLENBQUN6cUMsR0FBRyxDQUFDMnlCLHNCQUFzQixJQUFJLEVBQUUsSUFBSSxDQUFDeFgsVUFBVTtnQkFDbkUsSUFBSSxDQUFDeXZCLGVBQWU7Z0JBQ3BCLElBQUksQ0FBQ0MseUJBQXlCO2dCQUU5QixJQUFJLElBQUksQ0FBQ2h6QyxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWFtQixJQUFJLEVBQUU7b0JBQ2pELElBQUksQ0FBQ0YsS0FBSyxDQUFDNkcsZUFBZSxDQUFDOUgsYUFBYWk1QixJQUFJOztnQkFHOUMsSUFBSSxDQUFDMGEsV0FBVyxHQUFHO1lBQ3JCO1FBQ0Y7UUFFUSxJQUFlLENBQUFLLGVBQUEsR0FBRztZQUN4QixJQUFJLENBQUNILGNBQWMsQ0FBQ3pxQyxHQUFHO1lBRXJCM0osbUJBQW1CLElBQUksQ0FBQ3dCLEtBQUssQ0FBQ3VRLFNBQVMsRUFBRSxDQUFDdkY7Z0JBQ3hDLElBQUksQ0FBQ0EsVUFBVTtnQkFDZixJQUFJLENBQUNvdEIsa0JBQWtCLENBQUNvSixlQUFlLENBQUN4MkI7O1lBSTVDLElBQUksQ0FBQzRuQyxjQUFjLENBQUN6cUMsR0FBRztZQUVyQnRKLDRCQUNFLElBQUksQ0FBQ21CLEtBQUssQ0FBQ2tSLGdCQUFnQixFQUMzQixJQUFJLENBQUMraEMsNEJBQTRCO1lBSXJDLElBQUksQ0FBQ0wsY0FBYyxDQUFDenFDLEdBQUc7WUFFckIzSixtQkFBbUIsSUFBSSxDQUFDd0IsS0FBSyxDQUFDK1EsZUFBZSxFQUFFLE9BQU9pQjtnQkFDcEQsSUFBSSxDQUFDQSxrQkFBa0JBLGVBQWVodEIsTUFBTSxLQUFLLEdBQUc7Z0JBQ3BELE1BQU1teUMsZ0JBQWdCLElBQUksQ0FBQ0EsYUFBYTtnQkFDeEMsSUFBSUEsaUJBQWlCbmxCLGVBQWV4USxRQUFRLENBQUMyMUIsZ0JBQWdCO29CQUMzRCxJQUFJLENBQUNqbEMsTUFBTSxDQUFDLFFBQVE7b0JBQ3BCLE1BQU0sSUFBSSxDQUFDaU8sS0FBSyxDQUFDO3dCQUFFaGhCLFNBQVM7b0JBQWMsR0FBSWloQixLQUFLLENBQUMsQ0FBQzFOO3dCQUNuRCxJQUFJLENBQUNSLE1BQU0sQ0FBQyxTQUFTLDBDQUEwQ1E7b0JBQ2pFOzs7WUFLTixJQUFJLENBQUNrZ0QsY0FBYyxDQUFDenFDLEdBQUc7WUFFckIzSixtQkFBbUIsSUFBSSxDQUFDd0IsS0FBSyxDQUFDc1EsUUFBUSxFQUFFLENBQUN4RjtnQkFDdkMsSUFBSSxDQUFDLElBQUksQ0FBQ2l3QixPQUFPLEVBQUU7Z0JBRW5CLE1BQU1tWSxhQUFhLElBQUksQ0FBQ3JCLFdBQVcsQ0FBQ3h4QyxhQUFhLEVBQUVOO2dCQUNuRCxJQUFJLENBQUNtekMsWUFBWTtnQkFFakIsTUFBTUMsaUJBQWlCOTdDLFFBQVF5VCxTQUFTc29DLFdBQVcsQ0FBQ0YsV0FBVztnQkFDL0QsTUFBTUcsaUJBQWlCaDhDLFFBQVF5VCxTQUFTNHNCLFdBQVcsQ0FBQ3diLFdBQVc7Z0JBRS9ELElBQUlDLGtCQUFrQkUsZ0JBQWdCO29CQUNwQyxJQUFJLENBQUNDLGNBQWM7O2dCQUdyQixNQUFNQyxzQkFDSkosa0JBQWtCLElBQUksQ0FBQ256QyxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWFxNEIsT0FBTztnQkFFcEUsSUFDRSxDQUFDbWMsdUJBQXVCRixjQUFBLEtBQ3hCLENBQUM3MkMsV0FBVyxJQUFJLENBQUNtMkMsdUJBQXVCLEdBQ3hDO29CQUNBLElBQUksQ0FBQ3h5QyxLQUFLLEdBQUdDLEtBQUssQ0FBQzt3QkFDakIsSUFBSSxDQUFDbE8sTUFBTSxDQUNULFNBQ0E7b0JBRUo7OztZQUtOLElBQUksQ0FBQzBnRCxjQUFjLENBQUN6cUMsR0FBRztZQUVyQjNKLG1CQUFtQixJQUFJLENBQUNnMUMsY0FBYyxFQUFFLENBQUNDO2dCQUN2QyxJQUFJLENBQUNBLFdBQVc7Z0JBQ2hCLE1BQU1qYyxjQUFjLElBQUksQ0FBQ3gzQixLQUFLLENBQUM4SyxPQUFPO2dCQUN0QyxNQUFNNG9DLGNBQWMsSUFBSSxDQUFDN0IsV0FBVyxDQUFDeHhDLGFBQWEsRUFBRU47Z0JBQ3BELE1BQU15SyxXQUFXZ3RCLGFBQWFodEI7Z0JBQzlCLE1BQU1tcEMsZ0JBQWdCLElBQUksQ0FBQzN6QyxLQUFLLENBQUNvUyxTQUFTLEVBQUVyUztnQkFDNUMsTUFBTTIzQixjQUFjRixhQUFhRTtnQkFDakMsTUFBTTBiLGNBQWM1YixhQUFhNGI7Z0JBQ2pDLElBQUlRLGdCQUFnQjtnQkFDcEIsSUFBSXBwQyxVQUFVOztvQkFFWm9wQyxnQkFBZ0I7dUJBQ1gsSUFBSUQsaUJBQWlCamMsYUFBYTtvQkFDdkMsSUFBSUEsV0FBVyxDQUFDaWMsY0FBYyxFQUFFOzt3QkFFOUJDLGdCQUFnQjs7dUJBRWIsSUFBSUYsZUFBZWhjLGFBQWE7b0JBQ3JDLElBQUlBLFdBQVcsQ0FBQ2djLFlBQVksRUFBRTs7d0JBRTVCRSxnQkFBZ0I7O3VCQUViLElBQUlGLGVBQWVOLGFBQWE7b0JBQ3JDLElBQUlBLFdBQVcsQ0FBQ00sWUFBWSxFQUFFOzt3QkFFNUJFLGdCQUFnQjs7O2dCQUdwQixJQUFJQSxlQUFlO29CQUNqQixJQUFJLElBQUksQ0FBQzV6QyxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWFpNUIsSUFBSSxFQUFFO3dCQUNqRCxJQUFJLENBQUNoNEIsS0FBSyxDQUFDNkcsZUFBZSxDQUFDOUgsYUFBYWk1QixJQUFJOzt1QkFFekM7b0JBQ0wsSUFBSSxJQUFJLENBQUNoNEIsS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhaTVCLElBQUksRUFBRTt3QkFDakQsSUFBSSxDQUFDaDRCLEtBQUssQ0FBQzZHLGVBQWUsQ0FBQzlILGFBQWFxNEIsT0FBTzs7b0JBRWpELElBQUksQ0FBQ3ljLGdCQUFnQjtvQkFDckIsSUFBSSxDQUFDakIsY0FBYyxDQUFDenFDLEdBQUcsQ0FBQzZ5QixpQ0FBaUMsSUFBSTs7O1FBSXJFO1FBRVEsS0FBQWlZLDRCQUE0QixHQUFHLE9BQ3JDbGhDOztZQUdBLElBQUksQ0FBQ3FtQixrQkFBa0IsQ0FBQ21KLGNBQWMsQ0FBQ3h2QjtZQUV2QyxJQUFJLENBQUMsSUFBSSxDQUFDdUMsU0FBUyxFQUFFOztZQUdyQixNQUFNdy9CLHdCQUF3QjtnQkFDNUIsQ0FBQ3o2RCxjQUFjZSxVQUFVLEdBQUdpTCxVQUFVc2MsS0FBSztnQkFDM0MsQ0FBQ3RvQixjQUFjZ0IsVUFBVSxHQUFHZ0wsVUFBVW9jLEtBQUs7Z0JBQzNDLENBQUNwb0IsY0FBY2MsV0FBVyxHQUFHa0wsVUFBVXdjLFlBQVk7O1lBRXJELEtBQUssTUFBTSxDQUFDNC9CLFlBQVlqNUIsVUFBVSxJQUFJem5CLE9BQU9DLE9BQU8sQ0FDbEQ4eUQsdUJBQ0M7Z0JBQ0QsTUFBTTNiLGdCQUFnQixJQUFJLENBQUNDLGtCQUFrQixDQUFDRCxhQUFhLENBQ3pEc0o7Z0JBRUYsSUFBSXRKLGVBQWU7Z0JBQ25CLElBQUk7b0JBQ0YsT0FBUTN2Qjt3QkFDTixLQUFLbmpCLFVBQVVzYyxLQUFLOzRCQUNsQixJQUFJLElBQUksQ0FBQ2thLFVBQVUsQ0FBQzdJLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQzZJLFVBQVUsQ0FBQzZkLE9BQU87NEJBQzFEO3dCQUNGLEtBQUtyMEMsVUFBVW9jLEtBQUs7NEJBQ2xCLElBQUksSUFBSSxDQUFDcWEsTUFBTSxDQUFDOUksT0FBTyxFQUFFLE1BQU0sSUFBSSxDQUFDOEksTUFBTSxDQUFDNGQsT0FBTzs0QkFDbEQ7d0JBQ0YsS0FBS3IwQyxVQUFVd2MsWUFBWTs0QkFDekIsSUFBSSxJQUFJLENBQUM4M0IsV0FBVyxDQUFDM21CLE9BQU8sRUFBRSxNQUFNLElBQUksQ0FBQzJtQixXQUFXLENBQUNELE9BQU87NEJBQzVEOztrQkFFSixPQUFPaG5DLEtBQUs7b0JBQ1osSUFBSSxDQUFDUixNQUFNLENBQ1QsU0FDQSxDQUFnRSxpRUFDaEVROzs7UUFJUjtRQUVBOzs7Ozs7O1NBT0csR0FDSCxLQUFBd0ksRUFBRSxHQUFHLENBQ0haLFdBQ0FVO1lBRUEsSUFBSVgsV0FBV0MsWUFBWTtnQkFDekIsT0FBTyxJQUFJLENBQUNncEIsVUFBVSxDQUFDcG9CLEVBQUUsQ0FBQ1osV0FBV1U7O1lBR3ZDLE1BQU0rNEMsYUFBYSxJQUFJLENBQUNqZ0IsWUFBWSxDQUFDNTRCLEVBQUUsQ0FBQ1osV0FBVyxDQUFDVztnQkFDbEQsTUFBTWdPLFFBQVFoTztnQkFDZCxJQUFJZ08sTUFBTStxQyxRQUFRLElBQUkvcUMsTUFBTStxQyxRQUFRLEtBQUssSUFBSSxDQUFDcjBDLEdBQUcsRUFBRTtvQkFDakQzRSxHQUFHaU87O1lBRVA7O1lBR0EsSUFBSSxDQUFDNHBDLHlCQUF5QixDQUFDMTFDLEdBQUcsQ0FBQ25DLElBQUkrNEM7WUFDdkMsT0FBTztnQkFDTCxJQUFJLENBQUMzNEMsR0FBRyxDQUFDZCxXQUFXVTtZQUN0QjtRQUNGO1FBRUE7Ozs7O1NBS0csR0FDSCxLQUFBSSxHQUFHLEdBQUcsQ0FDSmQsV0FDQVU7WUFFQSxJQUFJWCxXQUFXQyxZQUFZO2dCQUN6QixPQUFPLElBQUksQ0FBQ2dwQixVQUFVLENBQUNsb0IsR0FBRyxDQUFDZCxXQUFXVTs7O1lBSXhDLE1BQU1pNUMsdUJBQXVCLElBQUksQ0FBQ3BCLHlCQUF5QixDQUFDaDJDLEdBQUcsQ0FBQzdCO1lBQ2hFLElBQUlpNUMsc0JBQXNCO2dCQUN4QkE7O1FBRUo7UUFFQTs7U0FFRyxHQUNILEtBQUE5ekMsS0FBSyxHQUFHLE9BQU8sRUFBRWd4QixNQUFNLEVBQUU1TSxNQUFNLEVBQUVwbEMsT0FBTyxLQUF1QixFQUFFO1lBQy9ELElBQUksSUFBSSxDQUFDNmdCLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYW1CLElBQUksRUFBRTtnQkFDakQsTUFBTSxJQUFJamhCLE1BQU07O1lBR2xCLE1BQU1nZCxtQkFBbUIsSUFBSSxDQUFDMDJDLHVCQUF1QixFQUFFO2dCQUNyRCxNQUFNMXlDLGVBQWUsSUFBSSxDQUFDRCxLQUFLLENBQUNDLFlBQVk7Z0JBRTVDLElBQUlBLGlCQUFpQmxCLGFBQWFtQixJQUFJLEVBQUU7b0JBQ3RDOztnQkFHRixJQUFJRCxpQkFBaUJsQixhQUFhbTFDLE9BQU8sRUFBRTtvQkFDekMsTUFBTUMsc0JBQXNCO3dCQUMxQixPQUFPLElBQUk5Z0QsUUFBYyxDQUFDb0s7NEJBQ3hCLElBQUksQ0FBQ3VDLEtBQUssQ0FBQ2lSLGFBQUEsQ0FDUmxDLElBQUksQ0FBQzB2Qiw2UUFBU0EsQ0FBQyxDQUFDeitCLFFBQVVBLFVBQVVqQixhQUFhd04sTUFBTSxFQUFFLE9BQ3pEdk8sU0FBUyxDQUFDLElBQU1QO3dCQUNyQjtvQkFDRjtvQkFDQSxNQUFNMDJDOztnQkFHUixJQUFJbDBDLGlCQUFpQmxCLGFBQWFxNEIsT0FBTyxJQUFJakcsV0FBVyxPQUFPO29CQUM3RCxJQUFJQSxRQUFRO3dCQUNWLE1BQU0sSUFBSSxDQUFDQSxNQUFNLENBQUM1TSxVQUFVOzJCQUN2Qjs7O3dCQUdMLE1BQU02dkIsdUJBQXVCLElBQUksQ0FBQ3AwQyxLQUFLLENBQUN5UixrQkFBa0IsQ0FBQ3pzQixNQUFNLEdBQUc7d0JBQ3BFLElBQUksSUFBSSxDQUFDMnlDLGFBQWEsSUFBSSxDQUFDeWMsc0JBQXNCOzRCQUMvQyxNQUFNLElBQUksQ0FBQ2pqQixNQUFNLENBQUM7Ozs7Z0JBS3hCLElBQUksQ0FBQ2tqQixhQUFhLEVBQUV4N0M7Z0JBQ3BCLElBQUksQ0FBQ3c3QyxhQUFhLEdBQUdyeUQ7Z0JBRXJCLElBQUksQ0FBQ3N5RCxnQkFBZ0IsRUFBRWwxQjtnQkFDdkIsSUFBSSxDQUFDazFCLGdCQUFnQixFQUFFejdDO2dCQUN2QixJQUFJLENBQUN5N0MsZ0JBQWdCLEdBQUd0eUQ7Z0JBRXhCLElBQUksQ0FBQ3F5QixVQUFVLEVBQUV2WTtnQkFDakIsSUFBSSxDQUFDdVksVUFBVSxHQUFHcnlCO2dCQUVsQixJQUFJLENBQUNzeUIsU0FBUyxFQUFFeFk7Z0JBQ2hCLElBQUksQ0FBQ3dZLFNBQVMsR0FBR3R5QjtnQkFFakIsTUFBTSxJQUFJLENBQUM0NUIsU0FBUyxFQUFFNlosY0FDcEJ0MkMsV0FBV29sQyxVQUFVO2dCQUV2QixJQUFJLENBQUMzSSxTQUFTLEdBQUc1NUI7Z0JBQ2pCLElBQUksQ0FBQ3V5RCxnQkFBZ0IsQ0FBQ3Z2QixZQUFZLENBQUNoakM7Z0JBQ25DLE1BQU0sSUFBSSxDQUFDdXlELGdCQUFnQixDQUFDejRDLE9BQU87Z0JBRW5DLElBQUksQ0FBQ2tFLEtBQUssQ0FBQzZHLGVBQWUsQ0FBQzlILGFBQWFtQixJQUFJO2dCQUM1QyxJQUFJLENBQUNGLEtBQUssQ0FBQzJHLGVBQWUsQ0FBQyxFQUFFO2dCQUM3QixJQUFJLENBQUMzRyxLQUFLLENBQUNsRSxPQUFPOztnQkFHbEIsSUFBSSxDQUFDODJDLGNBQWMsQ0FBQ2o2QyxPQUFPLENBQUMsQ0FBQzY3QyxPQUFTQTtnQkFDdEMsSUFBSSxDQUFDOUIsV0FBVyxHQUFHO2dCQUNuQixJQUFJLENBQUNGLGFBQWEsR0FBRztnQkFDckIsSUFBSSxDQUFDeDJCLGdCQUFnQixHQUFHaDZCO2dCQUN4QixJQUFJLENBQUN3eEQsY0FBYyxDQUFDemhELElBQUksQ0FBQztnQkFDekIsSUFBSSxDQUFDdWhELGNBQWM7Z0JBQ25CLElBQUksQ0FBQ3pCLFdBQVcsQ0FBQ2p5QyxjQUFjLENBQUMsSUFBSTtnQkFFcEMsSUFBSSxDQUFDa2MsTUFBTSxDQUFDaGdCLE9BQU87Z0JBQ25CLElBQUksQ0FBQytmLFVBQVUsQ0FBQy9mLE9BQU87Z0JBQ3ZCLElBQUksQ0FBQzY5QixXQUFXLENBQUM3OUIsT0FBTztnQkFDeEIsSUFBSSxDQUFDMGdDLE9BQU8sQ0FBQzFnQyxPQUFPO2dCQUVwQixNQUFNMjRDLHNCQUF1QyxFQUFFO2dCQUMvQyxJQUFJLElBQUksQ0FBQzM0QixNQUFNLENBQUN5cUIsV0FBVyxFQUFFO29CQUMzQmtPLG9CQUFvQjMwRCxJQUFJLENBQUMsSUFBSSxDQUFDZzhCLE1BQU0sQ0FBQzRkLE9BQU8sQ0FBQzs7Z0JBRS9DLElBQUksSUFBSSxDQUFDN2QsVUFBVSxDQUFDMHFCLFdBQVcsRUFBRTtvQkFDL0JrTyxvQkFBb0IzMEQsSUFBSSxDQUFDLElBQUksQ0FBQys3QixVQUFVLENBQUM2ZCxPQUFPLENBQUM7O2dCQUVuRCxJQUFJLElBQUksQ0FBQ0MsV0FBVyxDQUFDNE0sV0FBVyxFQUFFO29CQUNoQ2tPLG9CQUFvQjMwRCxJQUFJLENBQUMsSUFBSSxDQUFDNjVDLFdBQVcsQ0FBQ0QsT0FBTyxDQUFDOztnQkFFcEQsTUFBTXJtQyxRQUFRMGlCLEdBQUcsQ0FBQzArQjtZQUNwQjtRQUNGO1FBdUJBOzs7U0FHRyxHQUNILEtBQUFDLHNCQUFzQixHQUFHLE9BQU96ckM7WUFDOUIsTUFBTSxJQUFJLENBQUNrcEIsS0FBSzs7OztZQUloQixNQUFNLEVBQUUxbkIsVUFBVSxFQUFFTyxRQUFRLEVBQUUsR0FBRy9CLE1BQU12VixJQUFJO1lBQzNDLE1BQU1paEQsVUFBVSxJQUFJLENBQUMzMEMsS0FBSyxDQUFDaUgsT0FBTyxDQUFDMWtCLElBQUksQ0FBQyxDQUFDNlEsSUFBTUEsRUFBRWlNLElBQUksQ0FBQ1UsRUFBRSxLQUFLMEssV0FBVzFLLEVBQUU7WUFDMUUsSUFBSSxDQUFDNDBDLFNBQVM7Z0JBQ1osSUFBSSxDQUFDMzBDLEtBQUssQ0FBQ2dILFVBQVUsQ0FBQ2lDLE1BQU1oQyxPQUFPO21CQUM5QjtnQkFDTCxJQUFJLENBQUNqSCxLQUFLLENBQUNnSCxVQUFVLENBQUM7b0JBQUMydEM7dUJBQVkxckMsTUFBTWhDLE9BQU87aUJBQUM7OztZQUduRCxJQUFJLENBQUNqSCxLQUFLLENBQUNtSyxzQkFBc0IsQ0FBQ2xCLE1BQU12VixJQUFJO1lBQzVDLElBQUksQ0FBQ28rQyxRQUFRLEdBQUc7WUFDaEIsSUFBSSxDQUFDMEIsY0FBYyxDQUFDemhELElBQUksQ0FBQzs7O1lBR3pCLE1BQU15TixRQUFRLElBQUksQ0FBQ3F5QyxXQUFXLENBQUNyeUMsS0FBSyxDQUFDcEksTUFBTSxDQUFDLENBQUNzSSxJQUFNQSxFQUFFQyxHQUFHLEtBQUssSUFBSSxDQUFDQSxHQUFHO1lBQ3JFLElBQUksQ0FBQ2t5QyxXQUFXLENBQUN0eUMsUUFBUSxDQUFDO2dCQUFDLElBQUk7bUJBQUtDO2FBQU07WUFDMUMsTUFBTSxJQUFJLENBQUNvMUMsaUJBQWlCLENBQUM1cEMsVUFBVTtRQUN6QztRQUVBOzs7Ozs7U0FNRyxHQUNILEtBQUFuTyxHQUFHLEdBQUcsT0FBT292QjtZQUtYLE1BQU0sSUFBSSxDQUFDa0csS0FBSztZQUNoQixNQUFNN3lDLFdBQVcsTUFBTSxJQUFJLENBQUN3MEMsWUFBWSxDQUFDajNCLEdBQUcsQ0FDMUMsSUFBSSxDQUFDZzRDLG9CQUFvQixFQUN6QjVvQjtZQUdGLElBQUksQ0FBQ2pzQixLQUFLLENBQUNtSyxzQkFBc0IsQ0FBQzdxQixTQUFTb1UsSUFBSTtZQUMvQyxJQUFJLENBQUNzTSxLQUFLLENBQUNnSCxVQUFVLENBQUMxbkIsU0FBUzJuQixPQUFPO1lBQ3RDLElBQUksQ0FBQ2pILEtBQUssQ0FBQ2tILGtCQUFrQixDQUFDNW5CLFNBQVN3dUIsZ0JBQWdCO1lBRXZELElBQUltZSxRQUFRNm9CLE1BQU07Z0JBQ2hCLElBQUksQ0FBQ3RCLGNBQWMsQ0FBQ3poRCxJQUFJLENBQUM7O1lBRzNCLElBQUksSUFBSSxDQUFDK2hDLFlBQVksQ0FBQ2loQixnQkFBZ0IsSUFBSTtnQkFDeEMsSUFBSSxDQUFDakQsUUFBUSxHQUFHO2dCQUNoQixJQUFJLENBQUNELFdBQVcsQ0FBQ3B5QyxZQUFZLENBQUMsSUFBSTs7WUFHcEMsTUFBTSxJQUFJLENBQUNtMUMsaUJBQWlCLENBQUN0MUQsU0FBU29VLElBQUksQ0FBQ3NYLFFBQVEsRUFBRTtZQUVyRCxPQUFPMXJCO1FBQ1Q7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQTAxRCxXQUFXLEdBQUcsT0FBTzUzQjtZQUNuQixNQUFNLElBQUksQ0FBQytVLEtBQUs7WUFDaEIsTUFBTTd5QyxXQUFXLE1BQU0sSUFBSSxDQUFDdzBDLFlBQVksQ0FBQ21oQixJQUFJLENBRzNDLElBQUksQ0FBQ0osb0JBQW9CLEVBQUV6M0I7WUFFN0IsSUFBSSxDQUFDcGQsS0FBSyxDQUFDbUssc0JBQXNCLENBQUM3cUIsU0FBU29VLElBQUk7WUFDL0MsSUFBSSxDQUFDc00sS0FBSyxDQUFDZ0gsVUFBVSxDQUFDMW5CLFNBQVMybkIsT0FBTztZQUN0QyxJQUFJLENBQUNqSCxLQUFLLENBQUNrSCxrQkFBa0IsQ0FBQzVuQixTQUFTd3VCLGdCQUFnQjtZQUV2RCxJQUFJc1AsTUFBTTAzQixNQUFNO2dCQUNkLElBQUksQ0FBQ3RCLGNBQWMsQ0FBQ3poRCxJQUFJLENBQUM7O1lBRzNCLElBQUksSUFBSSxDQUFDK2hDLFlBQVksQ0FBQ2loQixnQkFBZ0IsSUFBSTtnQkFDeEMsSUFBSSxDQUFDakQsUUFBUSxHQUFHO2dCQUNoQixJQUFJLENBQUNELFdBQVcsQ0FBQ3B5QyxZQUFZLENBQUMsSUFBSTs7WUFHcEMsTUFBTSxJQUFJLENBQUNtMUMsaUJBQWlCLENBQUN0MUQsU0FBU29VLElBQUksQ0FBQ3NYLFFBQVEsRUFBRTtZQUVyRCxPQUFPMXJCO1FBQ1Q7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQW1DLE1BQU0sR0FBRyxPQUFPMjdCO1lBQ2QsT0FBTyxJQUFJLENBQUM0M0IsV0FBVyxDQUFDNTNCO1FBQzFCO1FBRUE7O1NBRUcsR0FDSCxLQUFBOWYsTUFBTSxHQUFHLE9BQ1A4ZixPQUEwQixFQUFFO1lBRTVCLE9BQU8sSUFBSSxDQUFDMFcsWUFBWSxDQUFDbWhCLElBQUksQ0FDM0IsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixTQUFTLEVBQ3JDejNCO1FBRUo7UUFFQTs7O1NBR0csR0FDSCxJQUFJLENBQUEwM0IsSUFBQSxHQUFHO1lBQ0wsT0FBTyxNQUFNLElBQUksQ0FBQ2o0QyxHQUFHLENBQUM7Z0JBQUVpNEMsTUFBTTtZQUFJO1FBQ3BDO1FBRUE7OztTQUdHLEdBQ0gsSUFBTSxDQUFBSSxNQUFBLEdBQUc7WUFDUCxPQUFPLE1BQU0sSUFBSSxDQUFDcjRDLEdBQUcsQ0FBQztnQkFBRXE0QyxRQUFRO1lBQUk7UUFDdEM7UUFFQTs7Ozs7O1NBTUcsR0FDSCxJQUFNLENBQUFDLE1BQUEsR0FBRztZQUNQLE9BQU8sSUFBSSxDQUFDcmhCLFlBQVksQ0FBQ21oQixJQUFJLENBQzNCLENBQUcsTUFBSSxDQUFDSixvQkFBb0IsQ0FBUztRQUV6QztRQUVBOzs7Ozs7OztTQVFHLEdBQ0gsS0FBQTFqQixNQUFNLEdBQUcsT0FDUDVNLFNBQXVCLFNBQVM7WUFFaEMsT0FBTyxJQUFJLENBQUN1UCxZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFNBQVMsRUFDckM7Z0JBQUV0d0IsUUFBUUE7WUFBTTtRQUVwQjtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBeGtDLElBQUksR0FBRyxPQUFPLEVBQ1pxMUQsaUJBQWlCLENBQUMsRUFDbEIsR0FBR2g0QixNQUdELEtBQUU7WUFDSixNQUFNLElBQUksQ0FBQytVLEtBQUs7WUFDaEIsTUFBTWx5QixlQUFlLElBQUksQ0FBQ0QsS0FBSyxDQUFDQyxZQUFZO1lBRTVDLElBQUk7Z0JBQUNsQixhQUFhd04sTUFBTTtnQkFBRXhOLGFBQWFtMUMsT0FBTzthQUFDLENBQUMxeUMsUUFBUSxDQUFDdkIsZUFBZTtnQkFDdEUsTUFBTSxJQUFJaGhCLE1BQU0sc0RBQXNEOztZQUd4RSxJQUFJLENBQUMrZ0IsS0FBSyxDQUFDNkcsZUFBZSxDQUFDOUgsYUFBYW0xQyxPQUFPO1lBRS9Da0IsaUJBQWlCeHhELEtBQUtxUSxHQUFHLENBQUNtaEQsZ0JBQWdCO1lBQzFDLElBQUssSUFBSTE5QyxVQUFVLEdBQUdBLFVBQVUwOUMsZ0JBQWdCMTlDLFVBQVc7Z0JBQ3pELElBQUk7b0JBQ0YsSUFBSSxDQUFDeEYsTUFBTSxDQUFDLFNBQVMsaUJBQWlCd0YsUUFBTyxFQUFHLEVBQUUsSUFBSSxDQUFDaUksR0FBRztvQkFDMUQsT0FBTyxNQUFNLElBQUksQ0FBQzAxQyxNQUFNLENBQUNqNEI7a0JBQ3pCLE9BQU8xcUIsS0FBSztvQkFDWixJQUFJLENBQUNSLE1BQU0sQ0FBQyxRQUFRLHdCQUF3QndGLFFBQU8sRUFBRyxFQUFFLElBQUksQ0FBQ2lJLEdBQUc7b0JBQ2hFLElBQUlqSSxZQUFZMDlDLGlCQUFpQixHQUFHOzt3QkFFbEMsSUFBSSxDQUFDcDFDLEtBQUssQ0FBQzZHLGVBQWUsQ0FBQzVHO3dCQUMzQixNQUFNdk47OztnQkFJVixNQUFNUyxNQUFNWSxjQUFjMkQ7O1FBRTlCO1FBRUE7Ozs7O1NBS0csR0FDSCxLQUFBMjlDLE1BQU0sR0FBRyxPQUFPajRCO1lBQ2QsTUFBTWs0QixtQkFBbUI5eEQsS0FBS0gsR0FBRztZQUNqQyxNQUFNNGMsZUFBZSxJQUFJLENBQUNELEtBQUssQ0FBQ0MsWUFBWTtZQUU1QyxJQUFJLENBQUNzMUMsWUFBWSxHQUFHbjRCO1lBRXBCLElBQUksQ0FBQ2xyQixNQUFNLENBQUMsU0FBUztZQUNyQixJQUFJLENBQUM4TixLQUFLLENBQUM2RyxlQUFlLENBQUM5SCxhQUFhbTFDLE9BQU87WUFFL0MsTUFBTXNCLHNCQUNKLElBQUksQ0FBQ3BjLGlCQUFpQixLQUFLenpDLDJCQUEyQjh2RCxPQUFPO1lBQy9ELE1BQU1DLG1CQUNKLElBQUksQ0FBQ3RjLGlCQUFpQixLQUFLenpDLDJCQUEyQisrQixNQUFNO1lBQzlELE1BQU1peEIsMEJBQ0osSUFBSSxDQUFDdmMsaUJBQWlCLEtBQUt6ekMsMkJBQTJCOCtCLElBQUk7WUFFNUQsSUFBSW14QixlQUFlLElBQUksQ0FBQ3RCLGdCQUFnQixFQUFFM3pEO1lBQzFDLElBQ0UsQ0FBQyxJQUFJLENBQUNnekMsV0FBVyxJQUNqQixDQUFDaWlCLGdCQUNERixvQkFDQUYscUJBQ0E7Z0JBQ0EsSUFBSTtvQkFDRixNQUFNOTdDLGVBQWUsTUFBTSxJQUFJLENBQUNtOEMsYUFBYSxDQUFDejRCO29CQUM5QyxJQUFJLENBQUN1VyxXQUFXLEdBQUdqNkIsYUFBYWk2QixXQUFXO29CQUMzQ2lpQixlQUFlbDhDLGFBQWFvOEMsYUFBYTtrQkFDekMsT0FBTy9pRCxPQUFPOztvQkFFZCxNQUFNZ2pELG9CQUNKLElBQUksQ0FBQy8xQyxLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWE0bUIsT0FBTztvQkFFbEQsSUFBSSxDQUFDb3dCLG1CQUFtQjs7d0JBRXRCLElBQUksQ0FBQy8xQyxLQUFLLENBQUM2RyxlQUFlLENBQUM1Rzs7b0JBRTdCLE1BQU1sTjs7O1lBSVYsTUFBTWlqRCxvQkFBb0IsSUFBSSxDQUFDcDZCLFNBQVM7WUFDeEMsTUFBTXE2QixvQkFBb0JELG1CQUFtQnZ1QztZQUM3QyxNQUFNeXVDLGNBQWMsQ0FBQyxDQUFDRixtQkFBbUI5d0I7WUFDekMsTUFBTXRKLFlBQ0o4NUIsb0JBQW9CRix1QkFBdUIsQ0FBQ1UsY0FDeEMsSUFBSXhpQixnQkFBZ0I7Z0JBQ2xCLzRCLFFBQVE0dkIsT0FBTyxFQUFFLElBQUksQ0FBQ3luQixZQUFZO2dCQUNsQzF1QixZQUFZLElBQUksQ0FBQ0EsVUFBVTtnQkFDM0JxUSxhQUFhLElBQUksQ0FBQ0EsV0FBVztnQkFDN0JHLGNBQWMsSUFBSSxDQUFDQSxZQUFZO2dCQUMvQnRRLGVBQWVveUIsYUFBYU8sZ0JBQWdCOzs7Z0JBRzVDMXVDLFdBQVdpdUMsbUJBQW1CMXpELFlBQVlpMEQ7Z0JBQzFDcGlCLGVBQWUsQ0FBQ3RQLFNBQ2QsSUFBSSxDQUFDNnhCLG9CQUFvQixDQUFDeDZCLFdBQVcySTtpQkFFekN5eEI7WUFDTixJQUFJLENBQUNwNkIsU0FBUyxHQUFHQTtZQUNqQixJQUFJLENBQUMyNEIsZ0JBQWdCLENBQUN2dkIsWUFBWSxDQUFDcEo7WUFFbkMsTUFBTXhJLGdCQUFnQixNQUFNeUg7O1lBRTVCLElBQUltN0Isc0JBQXNCcDZCLFdBQVc7Ozs7Z0JBSW5DLE1BQU0sQ0FBQ3k2QixlQUFlQyxhQUFhLEdBQUcsTUFBTWpqRCxRQUFRMGlCLEdBQUcsQ0FBQztvQkFDdEQ3ZCxjQUFjO29CQUNkQSxjQUFjO2lCQUNmO2dCQUNELE1BQU1xK0MsaUJBQ0osSUFBSSxDQUFDbmQsaUJBQWlCLEtBQUt6ekMsMkJBQTJCMDBCLFdBQVc7Z0JBQ25FLE1BQU0vTyxtQkFBbUJpckMsaUJBQ3JCLElBQUksQ0FBQ0MsbUJBQW1CLENBQUNwNUIsTUFBTXE1QixnQkFBZ0JSLHFCQUMvQ2owRDtnQkFDSixNQUFNMDBELDBCQUEwQixDQUFDSCxpQkFDN0IsSUFBSSxDQUFDSSwwQkFBMEIsS0FDL0IsSUFBSSxDQUFDN0QscUJBQXFCLElBQUksRUFBRTtnQkFDcEMsTUFBTThELDRCQUE0QixDQUFDTCxpQkFDL0IsSUFBSSxDQUFDTSw0QkFBNEIsS0FDakMsRUFBRTtnQkFFTixJQUFJO29CQUNGLE1BQU0sRUFBRXpyQyxTQUFTLEVBQUVnbkMsNEJBQTRCLEVBQUUvbUIsY0FBYyxFQUFFLEdBQy9ELE1BQU16UCxVQUFVNzdCLElBQUksQ0FBQzt3QkFDbkJzMkQ7d0JBQ0FDO3dCQUNBbGpDO3dCQUNBMGpDLGVBQWVuQjt3QkFDZnJxQzt3QkFDQW9yQzt3QkFDQUU7b0JBQ0Q7b0JBRUgsSUFBSSxDQUFDOUQscUJBQXFCLEdBQUd6bkI7b0JBQzdCLElBQUksQ0FBQyttQiw0QkFBNEIsR0FBR0E7b0JBQ3BDLElBQUlobkMsV0FBVzt3QkFDYixJQUFJLENBQUNwTCxLQUFLLENBQUNtTCxzQkFBc0IsQ0FDL0JDLFdBQ0F3USxVQUFVblUsU0FBUyxFQUNuQjZEOztrQkFHSixPQUFPdlksT0FBTztvQkFDZCxJQUFJLENBQUNiLE1BQU0sQ0FBQyxRQUFRLDJCQUEyQmE7b0JBQy9DNm9CLFVBQVU5aUIsS0FBSyxDQUNiNDZCLGdCQUFnQnNELFdBQVcsRUFDM0I7O29CQUdGLElBQUksQ0FBQ2gzQixLQUFLLENBQUM2RyxlQUFlLENBQUM1RztvQkFDM0IsTUFBTWxOOzs7WUFJVixJQUFJLENBQUN5aUQscUJBQXFCOztnQkFFeEIsSUFBSSxDQUFDeDFDLEtBQUssQ0FBQzZHLGVBQWUsQ0FBQzlILGFBQWF3TixNQUFNOztZQUVoRCxJQUFJLENBQUNpbUMsYUFBYSxHQUFHOzs7WUFJckIsSUFBSW1ELHlCQUF5Qjs7O2dCQUczQixNQUFNLElBQUksQ0FBQ29CLFVBQVUsQ0FBQ243QixXQUFXO29CQUFFbzdCLG1CQUFtQjtnQkFBSzttQkFDdEQ7Z0JBQ0wsTUFBTTN6QixtQkFBbUIrTSxtQkFBbUIsSUFBSSxDQUFDdUQsV0FBVyxDQUFDc2pCLFdBQVc7Z0JBQ3hFLElBQUksQ0FBQ0MsMEJBQTBCLENBQUM7b0JBQzlCdDdCO29CQUNBeUg7b0JBQ0FqUTtvQkFDQXdpQztvQkFDQXZxQixnQkFBZ0IsSUFBSSxDQUFDeW5CLHFCQUFxQixJQUFJLEVBQUU7b0JBQ2hEcUUsd0JBQXdCLENBQUMzQjtnQkFDMUI7OztZQUlILElBQUksQ0FBQ0Usb0JBQW9CLENBQUNDLDJCQUEyQixDQUFDSCxxQkFBcUI7Z0JBQ3pFLElBQUksQ0FBQ2xCLGdCQUFnQixFQUFFcjNCLG1CQUNyQixDQUFDejVCLEtBQUtILEdBQUcsS0FBS2l5RCxnQkFBQSxJQUFvQjs7WUFJdEMsSUFBSUksb0JBQW9CUSxhQUFhO2dCQUNuQyxNQUFNNTRCLFdBQVczM0IsMEJBQTBCLENBQUMsSUFBSSxDQUFDeXpDLGlCQUFpQixDQUFDO2dCQUNuRSxNQUFNNGMsbUJBQW1CdmdCLGNBQ3ZCLHNEQUFzRG5ZLFNBQVEsQ0FBRTttQkFFN0QsSUFBSSxDQUFDNDRCLGFBQWE7Z0JBQ3ZCRixtQkFBbUJsOUMsTUFDakI0NkIsZ0JBQWdCcUQsa0JBQWtCLEVBQ2xDOzs7O1lBTUosSUFBSSxDQUFDLElBQUksQ0FBQzBiLHlCQUF5QixJQUFJLElBQUksQ0FBQ3p5QyxLQUFLLENBQUNnTCxRQUFRLEVBQUU7Z0JBQzFELE1BQU0sSUFBSSxDQUFDNHBDLGlCQUFpQixDQUFDLElBQUksQ0FBQzUwQyxLQUFLLENBQUNnTCxRQUFRLEVBQUU7Z0JBQ2xELElBQUksQ0FBQ3luQyx5QkFBeUIsR0FBRzs7Ozs7O1lBT25DLE9BQU8sSUFBSSxDQUFDOEMsWUFBWSxFQUFFVDtZQUMxQixPQUFPLElBQUksQ0FBQ1MsWUFBWSxFQUFFTDs7WUFFMUIsSUFBSSxDQUFDOWIsaUJBQWlCLEdBQUd6ekMsMkJBQTJCMDBCLFdBQVc7WUFDL0QsSUFBSSxDQUFDODNCLGVBQWUsR0FBRztZQUV2QixJQUFJLENBQUNqZ0QsTUFBTSxDQUFDLFFBQVEsQ0FBZSxrQkFBSSxDQUFDeU4sR0FBRyxDQUFFO1FBQy9DO1FBRUE7OztTQUdHLEdBQ0ssS0FBQTYyQyxtQkFBbUIsR0FBRyxDQUM1Qlksb0JBQ0FuQjtZQUVBLE1BQU0zNEIsV0FBVyxJQUFJLENBQUM4YixpQkFBaUI7WUFDdkMsTUFBTXNjLG1CQUFtQnA0QixhQUFhMzNCLDJCQUEyQisrQixNQUFNO1lBQ3ZFLE1BQU1qWixrQkFDSixJQUFJLENBQUM2SSxTQUFTLEVBQUV5WixvQ0FBb0MsRUFBRTtZQUN4RCxPQUFPO2dCQUNMelE7Z0JBQ0E3UjtnQkFDQW1ZLGVBQWUsSUFBSSxDQUFDMndCLGdCQUFnQixDQUFDMVcsa0JBQWtCO2dCQUN2RHdaLGtCQUFrQixJQUFJLENBQUNuRixpQkFBaUI7Z0JBQ3hDb0YsV0FBV0Ysc0JBQXNCO2dCQUNqQ25CLG1CQUFtQlAsbUJBQW1CTyxxQkFBcUIsS0FBSztnQkFDaEUxeEIsUUFBUSxJQUFJLENBQUM0dEIsZUFBZTs7UUFFaEM7UUFFQTs7OztTQUlHLEdBQ0ssSUFBMEIsQ0FBQXdFLDBCQUFBLEdBQUc7WUFDbkMsTUFBTSxFQUFFWSxjQUFjLEVBQUVDLFFBQVEsRUFBRUMsZ0JBQWdCLEVBQUVDLGtCQUFrQixFQUFFLEdBQ3RFLElBQUksQ0FBQ0Msb0JBQW9CLElBQUk7WUFDL0IsSUFBSSxDQUFDSixrQkFBa0IsQ0FBQ0Usb0JBQW9CLENBQUNDLG9CQUFvQixPQUFPLEVBQUU7WUFFMUUsTUFBTTlnQyxRQUFRMmdDLGlCQUNWMXdELE1BQU1wRixNQUFNLENBQUM7Z0JBQUVqQyxNQUFNKzNELGVBQWVqK0IsS0FBSyxDQUFDLEtBQUtxSixHQUFHO2dCQUFJRyxNQUFNMDBCO1lBQVEsS0FDcEV4MUQ7WUFFSixNQUFNMDBELDBCQUEwQjtnQkFDOUIxdkQsY0FBY3ZGLE1BQU0sQ0FBQztvQkFDbkIrbUIsV0FBV25qQixVQUFVb2MsS0FBSztvQkFDMUJtVjtvQkFDQXdSLFNBQVNxdkI7b0JBQ1QxdUIsa0JBQWtCMnVCOzthQUVyQjtZQUVELE1BQU1FLHNCQUFzQixJQUFJLENBQUNqZSxXQUFXLENBQUM3USxXQUFXO1lBQ3hELElBQUk4dUIscUJBQXFCO2dCQUN2QmxCLHdCQUF3QjUyRCxJQUFJLENBQzFCa0gsY0FBY3ZGLE1BQU0sQ0FBQztvQkFDbkIrbUIsV0FBV25qQixVQUFVd2MsWUFBWTtvQkFDakN5bUIsS0FBS3N2QixvQkFBb0JydkIsWUFBWTtvQkFDckNILFNBQVN3dkIsb0JBQW9CdnZCLFVBQVU7Z0JBQ3hDOztZQUlMLE9BQU9xdUI7UUFDVDtRQUVBOzs7O1NBSUcsR0FDSyxJQUE0QixDQUFBRyw0QkFBQSxHQUFHO1lBQ3JDLE1BQU0sRUFBRWdCLGVBQWUsRUFBRUMsa0JBQWtCLEVBQUUsR0FDM0MsSUFBSSxDQUFDSCxvQkFBb0IsSUFBSTtZQUMvQixJQUFJLENBQUNFLG1CQUFtQixDQUFDQyxvQkFBb0IsT0FBTyxFQUFFO1lBQ3RELE9BQU87Z0JBQ0xoeEQsZ0JBQWdCckYsTUFBTSxDQUFDO29CQUNyQittQixXQUFXbmpCLFVBQVVvYyxLQUFLO29CQUMxQnMyQyxRQUFRO3dCQUNOOzRCQUFFdjRELE1BQU1xNEQsZ0JBQWdCditCLEtBQUssQ0FBQyxLQUFLcUosR0FBRzs0QkFBSUcsTUFBTWcxQjt3QkFBa0I7cUJBQ25FOzthQUVKO1FBQ0g7UUFFQTs7Ozs7Ozs7O1NBU0csR0FDSyxJQUFVLENBQUFmLFVBQUEsR0FBRyxPQUNuQmlCLGVBQ0F4aEMsT0FBb0UsRUFBRTtZQUV0RSxNQUFNLEVBQUV3Z0Msb0JBQW9CLElBQUksRUFBRWlCLG1CQUFtQixJQUFJLEVBQUUsR0FBR3poQztZQUM5RCxJQUFJLElBQUksQ0FBQ25DLFVBQVUsRUFBRTtnQkFDbkIsSUFBSSxDQUFDQSxVQUFVLENBQUMyUSxZQUFZLENBQUNnekI7Z0JBQzdCLElBQUloQixtQkFBbUI7b0JBQ3JCLE1BQU0sSUFBSSxDQUFDM2lDLFVBQVUsQ0FBQ2lRLFVBQVU7OztZQUdwQyxJQUFJLElBQUksQ0FBQ2hRLFNBQVMsRUFBRTtnQkFDbEIsSUFBSSxDQUFDQSxTQUFTLENBQUMwUSxZQUFZLENBQUNnekI7Z0JBQzVCLElBQUlDLG9CQUFvQixJQUFJLENBQUMzakMsU0FBUyxDQUFDa1ksWUFBWSxJQUFJO29CQUNyRCxNQUFNLElBQUksQ0FBQ2xZLFNBQVMsQ0FBQ2dRLFVBQVU7OztRQUdyQztRQUVBOzs7U0FHRyxHQUNLLEtBQUE0eUIsMEJBQTBCLEdBQUcsQ0FBQzFnQztZQVFwQyxNQUFNLEVBQ0pvRixTQUFTLEVBQ1R5SCxnQkFBZ0IsRUFDaEJqUSxhQUFhLEVBQ2J3aUMsWUFBWSxFQUNadnFCLGNBQWMsRUFDZDhyQixzQkFBc0IsRUFDdkIsR0FBRzNnQztZQUNKLE1BQU0sRUFBRTIvQixrQkFBa0IzeUIsYUFBYSxFQUFFLEdBQUdveUI7WUFDNUMsSUFBSXVCLDBCQUEwQixJQUFJLENBQUM5aUMsVUFBVSxFQUFFO2dCQUM3QyxJQUFJLENBQUNBLFVBQVUsQ0FBQ3ZZLE9BQU87O1lBRXpCLElBQUksQ0FBQ3VZLFVBQVUsR0FBRyxJQUFJMGEsV0FBVztnQkFDL0JuVDtnQkFDQTBILFlBQVksSUFBSSxDQUFDQSxVQUFVO2dCQUMzQnRqQixPQUFPLElBQUksQ0FBQ0EsS0FBSztnQkFDakJxakI7Z0JBQ0Exb0IsUUFBUTR2QixPQUFPLElBQUksQ0FBQ3luQixZQUFZO2dCQUNoQ3h1QjtnQkFDQUQsc0JBQXNCLENBQUNsakMsTUFBTWtrQztvQkFDM0IsSUFBSSxDQUFDMnpCLFNBQVMsQ0FBQzczRCxNQUFNa2tDLFFBQVFua0IsS0FBSyxDQUFDLENBQUMxTjt3QkFDbEMsTUFBTXZULFVBQVUsQ0FBNEQsMkRBQUFvbEMsT0FBTSxDQUFFO3dCQUNwRixJQUFJLENBQUNyeUIsTUFBTSxDQUFDLFFBQVEvUyxTQUFTdVQ7b0JBQy9COztZQUVIOzs7WUFJRCxNQUFNeWxELGNBQWMsSUFBSSxDQUFDcmtCLFlBQVksQ0FBQ3owQixJQUFJLEVBQUVTLFNBQVM7WUFDckQsSUFBSSxDQUFDcTRDLGFBQWE7Z0JBQ2hCLElBQUloQiwwQkFBMEIsSUFBSSxDQUFDN2lDLFNBQVMsRUFBRTtvQkFDNUMsSUFBSSxDQUFDQSxTQUFTLENBQUN4WSxPQUFPOztnQkFFeEIsSUFBSSxDQUFDd1ksU0FBUyxHQUFHLElBQUk4VyxVQUFVO29CQUM3QnhQO29CQUNBMEgsWUFBWSxJQUFJLENBQUNBLFVBQVU7b0JBQzNCdGpCLE9BQU8sSUFBSSxDQUFDQSxLQUFLO29CQUNqQnFqQjtvQkFDQWdJO29CQUNBMXdCLFFBQVE0dkIsT0FBTyxJQUFJLENBQUN5bkIsWUFBWTtvQkFDaEN4dUI7b0JBQ0FELHNCQUFzQixDQUFDbGpDLE1BQU1ra0M7d0JBQzNCLElBQUksQ0FBQzJ6QixTQUFTLENBQUM3M0QsTUFBTWtrQyxRQUFRbmtCLEtBQUssQ0FBQyxDQUFDMU47NEJBQ2xDLE1BQU12VCxVQUFVLENBQTJELDBEQUFBb2xDLE9BQU0sQ0FBRTs0QkFDbkYsSUFBSSxDQUFDcnlCLE1BQU0sQ0FBQyxRQUFRL1MsU0FBU3VUO3dCQUMvQjs7Z0JBRUg7O1lBR0gsSUFBSSxDQUFDMmhELGFBQWEsRUFBRXg3QztZQUNwQixJQUFJLElBQUksQ0FBQ2s1QywwQkFBMEIsR0FBRyxHQUFHO2dCQUN2QyxJQUFJLENBQUNzQyxhQUFhLEdBQUdqZ0Msb0JBQW9CO29CQUN2Q0MsWUFBWSxJQUFJLENBQUNBLFVBQVU7b0JBQzNCQyxXQUFXLElBQUksQ0FBQ0EsU0FBUztvQkFDekJ0VSxPQUFPLElBQUksQ0FBQ0EsS0FBSztvQkFDakJ1VSxZQUFZcUgsVUFBVXdLLFFBQVE7b0JBQzlCNVIscUJBQXFCLElBQUksQ0FBQ3U5QiwwQkFBMEI7Z0JBQ3JEOztZQUdILElBQUksQ0FBQ2gyQixNQUFNLENBQUNtSCxVQUFVLENBQUNNO1lBQ3ZCLElBQUksQ0FBQzh3QixnQkFBZ0IsRUFBRXo3QztZQUN2QixJQUFJKzhDLGNBQWM3MkIsd0JBQXdCLEdBQUc7Z0JBQzNDLElBQUksQ0FBQy9DLGdCQUFnQixJQUFyQixLQUFJLENBQUNBLGdCQUFnQixHQUFLSixVQUFVblUsU0FBUztnQkFDN0MsSUFBSSxDQUFDNnNDLGdCQUFnQixHQUFHLElBQUkzNEIsaUJBQWlCQyxXQUFXO29CQUN0RHhJO29CQUNBenlCLFNBQVNpMUQ7b0JBQ1R2aEMsWUFBWSxJQUFJLENBQUNBLFVBQVU7b0JBQzNCQyxXQUFXLElBQUksQ0FBQ0EsU0FBUztvQkFDekJ1SCxZQUFZLElBQUksQ0FBQ0EsVUFBVTtvQkFDM0JDLFFBQVEsSUFBSSxDQUFDQSxNQUFNO29CQUNuQjliLE9BQU8sSUFBSSxDQUFDQSxLQUFLO29CQUNqQitiLFFBQVEsSUFBSSxDQUFDQSxNQUFNO29CQUNuQkMsa0JBQWtCLElBQUksQ0FBQ0EsZ0JBQWdCO2dCQUN4QztnQkFDRCxJQUFJLENBQUNzNEIsZ0JBQWdCLENBQUN4MUIsS0FBSzs7UUFFL0I7UUFFQTs7Ozs7O1NBTUcsR0FDSCxLQUFBKzJCLGFBQWEsR0FBRyxPQUFPejRCO1lBQ3JCLE1BQU1nN0IsV0FBVyxNQUFNLElBQUksQ0FBQ3RrQixZQUFZLENBQUN1a0IsZUFBZTtZQUN4RCxNQUFNaG1ELFVBQTJCO2dCQUFFLEdBQUcrcUIsSUFBSTtnQkFBRWc3QjtZQUFRO1lBQ3BELE1BQU0xK0MsZUFBZSxNQUFNLElBQUksQ0FBQ282QixZQUFZLENBQUNtaEIsSUFBSSxDQUcvQyxHQUFHLElBQUksQ0FBQ0osb0JBQW9CLE9BQU8sRUFBRXhpRDtZQUN2QyxJQUFJLENBQUMyTixLQUFLLENBQUNtSyxzQkFBc0IsQ0FBQ3pRLGFBQWFoRyxJQUFJO1lBQ25ELElBQUksQ0FBQ3NNLEtBQUssQ0FBQ2dILFVBQVUsQ0FBQ3ROLGFBQWF1TixPQUFPO1lBQzFDLElBQUksQ0FBQ2pILEtBQUssQ0FBQ2tILGtCQUFrQixDQUFDeE4sYUFBYW9VLGdCQUFnQjtZQUUzRCxJQUFJc1AsTUFBTTAzQixNQUFNO2dCQUNkLElBQUksQ0FBQ3RCLGNBQWMsQ0FBQ3poRCxJQUFJLENBQUM7O1lBRzNCLE1BQU13a0QsaUJBQ0osSUFBSSxDQUFDbmQsaUJBQWlCLEtBQUt6ekMsMkJBQTJCMDBCLFdBQVc7WUFFbkUsSUFBSSxDQUFDazhCLGtCQUFrQixJQUFJLENBQUN4YixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUNwRCxhQUFhLEVBQUU7O2dCQUUxRCxNQUFNLElBQUksQ0FBQ3dkLE1BQU07O1lBR25CLElBQUksSUFBSSxDQUFDcmhCLFlBQVksQ0FBQ2loQixnQkFBZ0IsSUFBSTtnQkFDeEMsSUFBSSxDQUFDakQsUUFBUSxHQUFHO2dCQUNoQixJQUFJLENBQUNELFdBQVcsQ0FBQ3B5QyxZQUFZLENBQUMsSUFBSTs7WUFHcEMsT0FBTy9GO1FBQ1Q7UUFFQTs7Ozs7O1NBTUcsR0FDSyxLQUFBMDhDLG9CQUFvQixHQUFHLENBQzdCeDZCLFdBQ0EySTtZQUVBLElBQUksQ0FBQ3J5QixNQUFNLENBQUMsU0FBUztZQUNyQixNQUFNLEVBQUUrTixZQUFZLEVBQUUsR0FBRyxJQUFJLENBQUNELEtBQUs7WUFDbkM7O1lBR0VDLGlCQUFpQmxCLGFBQWFtMUMsT0FBTzs7WUFHckNqMEMsaUJBQWlCbEIsYUFBYTZtQixZQUFZOztZQUcxQzNsQixpQkFBaUJsQixhQUFhaTVCLElBQUksSUFDbEMvM0IsaUJBQWlCbEIsYUFBYW1CLElBQUksRUFFbEM7O1lBRUYsSUFBSTBiLFVBQVVtWSxTQUFTLElBQUluWSxVQUFVb1ksY0FBYyxFQUFFO1lBRXJELE1BQU0xVyxXQUNKLElBQUksQ0FBQ2hKLFNBQVMsRUFBRTRRLGVBQWUsSUFBSSxDQUFDN1EsVUFBVSxFQUFFNlEsY0FDNUN2L0IsMkJBQTJCOCtCLElBQUEsR0FDM0I5K0IsMkJBQTJCKytCLE1BQU07WUFDdkMsSUFBSSxDQUFDd3pCLFNBQVMsQ0FBQzU2QixVQUFVaUgsUUFBUW5rQixLQUFLLENBQUMsQ0FBQzFOO2dCQUN0QyxJQUFJLENBQUNSLE1BQU0sQ0FBQyxRQUFRLGtDQUFrQ1E7WUFDeEQ7UUFDRjtRQUVBOzs7Ozs7O1NBT0csR0FDSyxLQUFBd2xELFNBQVMsR0FBRyxPQUNsQjU2QixVQUNBaUg7WUFFQSxJQUNFLElBQUksQ0FBQ3ZrQixLQUFLLENBQUNDLFlBQVksS0FBS2xCLGFBQWE2bUIsWUFBWSxJQUNyRCxJQUFJLENBQUM1bEIsS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhdTVDLFNBQVMsSUFDbEQsSUFBSSxDQUFDdDRDLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYXc1QyxtQkFBbUIsRUFFNUQ7WUFFRixPQUFPdDhDLG1CQUFtQixJQUFJLENBQUNnMkMsdUJBQXVCLEVBQUU7Z0JBQ3RELE1BQU11RyxxQkFBcUJoMUQsS0FBS0gsR0FBRztnQkFDbkMsSUFBSSxDQUFDKzFDLGlCQUFpQixHQUFHOWI7Z0JBQ3pCLElBQUksQ0FBQzYwQixlQUFlLEdBQUc1dEI7Z0JBRXZCLElBQUk3c0IsVUFBVTtnQkFDZCxHQUFHO29CQUNELE1BQU0rZ0QsbUJBQW1CajFELEtBQUtILEdBQUcsS0FBS20xRDtvQkFDdEMsTUFBTUUsMkJBQ0osSUFBSSxDQUFDckcsMkJBQTJCLEdBQUcsS0FDbkNvRyxtQkFBbUIsT0FBTyxJQUFJLENBQUNwRywyQkFBMkI7b0JBRTVELElBQUlxRywwQkFBMEI7d0JBQzVCLElBQUksQ0FBQ3htRCxNQUFNLENBQ1QsUUFDQTt3QkFFRixJQUFJLENBQUM4TixLQUFLLENBQUM2RyxlQUFlLENBQUM5SCxhQUFhdzVDLG1CQUFtQjt3QkFDM0Q7OztvQkFJRixJQUFJLElBQUksQ0FBQ25mLGlCQUFpQixLQUFLenpDLDJCQUEyQjgrQixJQUFJLEVBQUU7d0JBQzlELElBQUksQ0FBQ3l0QixpQkFBaUI7O29CQUV4QixNQUFNeUcsa0JBQ0poekQsMEJBQTBCLENBQUMsSUFBSSxDQUFDeXpDLGlCQUFpQixDQUFDO29CQUNwRCxJQUFJOzt3QkFFRixNQUFNLElBQUksQ0FBQ3RDLG9CQUFvQixFQUFFaDZCO3dCQUVqQyxJQUFJLENBQUM1SyxNQUFNLENBQ1QsUUFDQSxDQUEwQyx5Q0FBQXZNLDBCQUEwQixDQUFDLElBQUksQ0FBQ3l6QyxpQkFBaUIsQ0FBQyxFQUFFO3dCQUdoRyxPQUFRLElBQUksQ0FBQ0EsaUJBQWlCOzRCQUM1QixLQUFLenpDLDJCQUEyQjAwQixXQUFXOzRCQUMzQyxLQUFLMTBCLDJCQUEyQml6RCxVQUFVO2dDQUN4QyxJQUFJLENBQUMxbUQsTUFBTSxDQUNULFNBQ0EsQ0FBOEIsNkJBQUF5bUQsZ0JBQWlCO2dDQUVqRDs0QkFDRixLQUFLaHpELDJCQUEyQjgrQixJQUFJO2dDQUNsQyxNQUFNLElBQUksQ0FBQ28wQixhQUFhO2dDQUN4Qjs0QkFDRixLQUFLbHpELDJCQUEyQisrQixNQUFNO2dDQUNwQyxNQUFNLElBQUksQ0FBQ28wQixlQUFlO2dDQUMxQjs0QkFDRixLQUFLbnpELDJCQUEyQjh2RCxPQUFPO2dDQUNyQyxNQUFNLElBQUksQ0FBQ3NELGdCQUFnQjtnQ0FDM0I7NEJBQ0Y7Z0NBQ0U3eEIsZ0JBQ0UsSUFBSSxDQUFDa1MsaUJBQWlCLEVBQ3RCO2dDQUVGOzt3QkFFSixPQUFNO3NCQUNOLE9BQU9ybUMsT0FBTzt3QkFDZCxJQUFJLElBQUksQ0FBQ2lOLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYTRtQixPQUFPLEVBQUU7NEJBQ3BELElBQUksQ0FBQ3p6QixNQUFNLENBQ1QsU0FDQSwyRUFBMkU7NEJBRTdFOzs7O3dCQUlGLElBQUlhLGlCQUFpQi9ULHFCQUFxQitULE1BQU14VCxhQUFhLEVBQUU7NEJBQzdELElBQUksQ0FBQzJTLE1BQU0sQ0FDVCxRQUNBLENBQW9FLHFFQUNwRWE7NEJBRUYsSUFBSSxDQUFDaU4sS0FBSyxDQUFDNkcsZUFBZSxDQUFDOUgsYUFBYXc1QyxtQkFBbUI7NEJBQzNEOzt3QkFHRixNQUFNcGxELE1BQU07d0JBRVosTUFBTTZsRCxlQUNKLElBQUksQ0FBQzVmLGlCQUFpQixLQUFLenpDLDJCQUEyQjh2RCxPQUFPO3dCQUMvRCxNQUFNd0Qsb0JBQ0osQ0FBQ3oxRCxLQUFLSCxHQUFHLEtBQUttMUQsa0JBQUEsSUFBc0IsT0FDcEMsSUFBSSxDQUFDcEcsNEJBQTRCOzs7O3dCQUtuQyxNQUFNOEcsZUFDSkQscUJBQWlCO3dCQUNqQkQsZ0JBQVk7d0JBQ1p0aEQsV0FBVyxLQUFDO3dCQUNaLENBQUUsS0FBSSxDQUFDNGMsU0FBUyxFQUFFNFEsZUFBZSxTQUFLO3dCQUN0QyxDQUFFLEtBQUksQ0FBQzdRLFVBQVUsRUFBRTZRLGVBQWUsT0FBTTt3QkFFMUN4dEI7d0JBRUEsTUFBTXloRCxlQUFlRCxlQUNqQnZ6RCwyQkFBMkIrK0IsTUFBQSxHQUMzQi8rQiwyQkFBMkI4K0IsSUFBSTt3QkFDbkMsSUFBSSxDQUFDMlUsaUJBQWlCLEdBQUcrZjt3QkFFekIsSUFBSSxDQUFDam5ELE1BQU0sQ0FDVCxRQUNBLENBQWUsY0FBQXltRCxnQkFBZSxJQUFLLElBQUksQ0FBQ3pHLGlCQUFpQixDQUE2Qiw0QkFBQXZzRCwwQkFBMEIsQ0FBQ3d6RCxhQUFhLEVBQUUsRUFDaElwbUQ7O3dCQUlKLElBQUksQ0FBQ2lOLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYXdOLE1BQU0sSUFDL0MsSUFBSSxDQUFDdk0sS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhdzVDLG1CQUFtQixJQUM1RCxJQUFJLENBQUN2NEMsS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhbUIsSUFBSTtnQkFFL0MsSUFBSSxDQUFDaE8sTUFBTSxDQUFDLFFBQVE7WUFDdEI7UUFDRjtRQUVBOzs7U0FHRyxHQUNLLElBQWEsQ0FBQTJtRCxhQUFBLEdBQUc7WUFDdEIsTUFBTUwscUJBQXFCaDFELEtBQUtILEdBQUc7WUFDbkMsSUFBSSxDQUFDKzFDLGlCQUFpQixHQUFHenpDLDJCQUEyQjgrQixJQUFJO1lBQ3hELElBQUksQ0FBQ3prQixLQUFLLENBQUM2RyxlQUFlLENBQUM5SCxhQUFhNm1CLFlBQVk7WUFDcEQsTUFBTSxJQUFJLENBQUN5dkIsTUFBTSxDQUFDLElBQUksQ0FBQ0UsWUFBWTtZQUNuQyxJQUFJLENBQUNqQixnQkFBZ0IsRUFBRWozQixxQkFDckIxM0IsMkJBQTJCOCtCLElBQUksRUFDL0IsQ0FBQ2poQyxLQUFLSCxHQUFHLEtBQUttMUQsa0JBQUEsSUFBc0I7UUFFeEM7UUFFQTs7O1NBR0csR0FDSyxJQUFlLENBQUFNLGVBQUEsR0FBRztZQUN4QixNQUFNTixxQkFBcUJoMUQsS0FBS0gsR0FBRztZQUNuQyxJQUFJLENBQUMrMUMsaUJBQWlCLEdBQUd6ekMsMkJBQTJCKytCLE1BQU07WUFDMUQsSUFBSSxDQUFDMWtCLEtBQUssQ0FBQzZHLGVBQWUsQ0FBQzlILGFBQWE2bUIsWUFBWTtZQUNwRCxNQUFNLElBQUksQ0FBQ3l2QixNQUFNLENBQUMsSUFBSSxDQUFDRSxZQUFZO1lBQ25DLE1BQU0sSUFBSSxDQUFDNkQsc0JBQXNCO1lBQ2pDLElBQUksQ0FBQ0MsdUJBQXVCO1lBQzVCLElBQUksQ0FBQy9FLGdCQUFnQixFQUFFajNCLHFCQUNyQjEzQiwyQkFBMkIrK0IsTUFBTSxFQUNqQyxDQUFDbGhDLEtBQUtILEdBQUcsS0FBS20xRCxrQkFBQSxJQUFzQjtRQUV4QztRQUVBOzs7U0FHRyxHQUNLLElBQWdCLENBQUFPLGdCQUFBLEdBQUc7WUFDekIsTUFBTVAscUJBQXFCaDFELEtBQUtILEdBQUc7WUFDbkMsTUFBTWkyRCxtQkFBbUIsSUFBSSxDQUFDMTlCLFNBQVM7WUFDdkMsSUFBSSxDQUFDMDlCLGtCQUFrQjtnQkFDckIsTUFBTSxJQUFJcjZELE1BQU07O1lBR2xCLElBQUksQ0FBQ202QyxpQkFBaUIsR0FBR3p6QywyQkFBMkI4dkQsT0FBTztZQUMzRCxJQUFJLENBQUN6MUMsS0FBSyxDQUFDNkcsZUFBZSxDQUFDOUgsYUFBYXU1QyxTQUFTO1lBQ2pELE1BQU1pQixvQkFBb0IsSUFBSSxDQUFDbGxDLFVBQVU7WUFDekMsTUFBTW1sQyxtQkFBbUIsSUFBSSxDQUFDbGxDLFNBQVM7WUFFdkNpbEMsbUJBQW1CbHpCO1lBQ25CbXpCLGtCQUFrQm56QjtZQUVsQixNQUFNbVAsZ0JBQWdCNUUsZ0JBQWdCMG9CLGlCQUFpQnpqQixjQUFjO1lBRXJFLElBQUk7Z0JBQ0YsTUFBTTRqQixhQUFhSCxpQkFBaUJsekIsUUFBUTtnQkFDNUMsTUFBTSxJQUFJLENBQUNpdkIsTUFBTSxDQUFDO29CQUFFLEdBQUcsSUFBSSxDQUFDRSxZQUFZO29CQUFFa0IsZ0JBQWdCZ0Q7Z0JBQVU7cUJBQzVEOzs7Z0JBR1IsT0FBTyxJQUFJLENBQUNsRSxZQUFZLEVBQUVrQjs7WUFHNUIsTUFBTSxJQUFJLENBQUMyQyxzQkFBc0I7WUFDakMsSUFBSSxDQUFDQyx1QkFBdUI7WUFFNUIsSUFBSTs7OztnQkFJRixNQUFNN2pCOzs7O2dCQUtOLElBQUksQ0FBQ3gxQixLQUFLLENBQUM2RyxlQUFlLENBQUM5SCxhQUFhd04sTUFBTTtxQkFDdEM7Z0JBQ1JndEMsbUJBQW1CejlDO2dCQUNuQjA5QyxrQkFBa0IxOUM7O2dCQUdsQnc5QyxpQkFBaUJ4Z0QsS0FBSyxDQUFDNDZCLGdCQUFnQnlCLGNBQWMsRUFBRTs7WUFFekQsSUFBSSxDQUFDbWYsZ0JBQWdCLEVBQUVqM0IscUJBQ3JCMTNCLDJCQUEyQjh2RCxPQUFPLEVBQ2xDLENBQUNqeUQsS0FBS0gsR0FBRyxLQUFLbTFELGtCQUFBLElBQXNCO1FBRXhDO1FBRUE7Ozs7U0FJRyxHQUNLLElBQXlCLENBQUF4Rix5QkFBQSxHQUFHOztZQUVsQyxNQUFNMEcsbUJBQW1CLElBQUksQ0FBQ3grQyxFQUFFLENBQUMsVUFBVTtnQkFDekMsSUFBSSxDQUFDZzlDLFNBQVMsQ0FBQ3Z5RCwyQkFBMkI4dkQsT0FBTyxFQUFFLFVBQVVyMUMsS0FBSyxDQUNoRSxDQUFDMU4sTUFBUSxJQUFJLENBQUNSLE1BQU0sQ0FBQyxRQUFRLGtDQUFrQ1E7WUFFbkU7O1lBR0EsTUFBTWluRCxvQkFBb0IsSUFBSSxDQUFDeitDLEVBQUUsQ0FBQyxTQUFTLENBQUNEO2dCQUMxQyxNQUFNLEVBQUVtK0IsbUJBQW1COWIsUUFBUSxFQUFFdnFCLEtBQUssRUFBRSxHQUFHa0k7Z0JBQy9DLElBQUlxaUIsYUFBYTMzQiwyQkFBMkIwMEIsV0FBVyxFQUFFO2dCQUN6RCxJQUFJaUQsYUFBYTMzQiwyQkFBMkJpekQsVUFBVSxFQUFFO29CQUN0RCxJQUFJLENBQUN6NEMsS0FBSyxDQUFDO3dCQUFFaGhCLFNBQVM7b0JBQThCLEdBQUlpaEIsS0FBSyxDQUFDLENBQUMxTjt3QkFDN0QsSUFBSSxDQUFDUixNQUFNLENBQUMsUUFBUSxDQUEyQyw0Q0FBRVE7b0JBQ25FO3VCQUNLO29CQUNMLElBQUksQ0FBQ3dsRCxTQUFTLENBQUM1NkIsVUFBVXZxQixPQUFPNVQsV0FBVyxhQUFhaWhCLEtBQUssQ0FBQyxDQUFDMU47d0JBQzdELElBQUksQ0FBQ1IsTUFBTSxDQUFDLFFBQVEsa0NBQWtDUTtvQkFDeEQ7O1lBRUo7WUFFQSxNQUFNa25ELDJCQUEyQixJQUFJLENBQUM5bEIsWUFBWSxDQUFDNTRCLEVBQUUsQ0FDbkQsbUJBQ0EsQ0FBQ0Q7Z0JBQ0MsSUFBSSxDQUFDOGdCLE1BQU0sQ0FBQ3ZwQixLQUFLLENBQUMsbUJBQW1CeUk7Z0JBQ3JDLElBQUksQ0FBQ0EsRUFBRTQ3QixNQUFNLEVBQUU7b0JBQ2IsSUFBSSxDQUFDM2tDLE1BQU0sQ0FBQyxTQUFTO29CQUNyQixJQUFJLENBQUMsSUFBSSxDQUFDc2dELGFBQWEsRUFBRTtvQkFDekIsSUFBSSxDQUFDRixvQkFBb0IsR0FBRzl1RCxLQUFLSCxHQUFHOztvQkFFcEMsTUFBTXl6Qyx1QkFBdUI1RjtvQkFDN0I0RixxQkFBcUJoNkIsT0FBTyxDQUFDaEssSUFBSSxDQUFDO3dCQUNoQyxJQUFJd3FCLFdBQVczM0IsMkJBQTJCOCtCLElBQUk7d0JBQzlDLElBQUksSUFBSSxDQUFDNnRCLG9CQUFvQixFQUFFOzRCQUM3QixNQUFNdUgsVUFBVSxDQUFDcjJELEtBQUtILEdBQUcsS0FBSyxJQUFJLENBQUNpdkQsb0JBQW9CLElBQUk7NEJBQzNELElBQUl1SCxVQUFVLElBQUksQ0FBQ3pILDRCQUE0QixFQUFFOzs7Z0NBRy9DOTBCLFdBQVczM0IsMkJBQTJCKytCLE1BQU07Ozt3QkFJaEQsSUFBSSxDQUFDd3pCLFNBQVMsQ0FBQzU2QixVQUFVLGdCQUFnQmxkLEtBQUssQ0FBQyxDQUFDMU47NEJBQzlDLElBQUksQ0FBQ1IsTUFBTSxDQUNULFFBQ0EscURBQ0FRO3dCQUVKO29CQUNGO29CQUNBLElBQUksQ0FBQ29rQyxvQkFBb0IsR0FBR0E7b0JBQzVCLElBQUksQ0FBQ3dkLGdCQUFnQixFQUFFejdDO29CQUN2QixJQUFJLENBQUNtSCxLQUFLLENBQUM2RyxlQUFlLENBQUM5SCxhQUFhNG1CLE9BQU87dUJBQzFDO29CQUNMLElBQUksQ0FBQ3p6QixNQUFNLENBQUMsU0FBUztvQkFDckIsSUFBSSxDQUFDMHBCLFNBQVMsRUFBRTlpQixNQUNkNDZCLGdCQUFnQnFELGtCQUFrQixFQUNsQzs7b0JBR0YsSUFBSSxDQUFDRCxvQkFBb0IsRUFBRXI1QjtvQkFDM0IsSUFBSSxDQUFDcTVCLG9CQUFvQixHQUFHOTBDO29CQUM1QixJQUFJLENBQUNzeUQsZ0JBQWdCLEVBQUV4MUI7O1lBRTNCO1lBR0YsSUFBSSxDQUFDOHpCLGNBQUEsQ0FDRnpxQyxHQUFHLENBQUN1eEMsa0JBQ0p2eEMsR0FBRyxDQUFDd3hDLG1CQUNKeHhDLEdBQUcsQ0FBQ3l4QztRQUNUO1FBRUE7OztTQUdHLEdBQ0ssSUFBc0IsQ0FBQVIsc0JBQUEsR0FBRzs7O1lBRy9CLEtBQUssTUFBTTV3QyxhQUFhLElBQUksQ0FBQytwQyxpQkFBaUIsQ0FBRTtnQkFDOUMsSUFBSXJLO2dCQUNKLE9BQVExL0I7b0JBQ04sS0FBS25qQixVQUFVc2MsS0FBSzt3QkFDbEJ1bUMsY0FBYyxJQUFJLENBQUNyc0IsVUFBVSxDQUFDN2IsS0FBSyxDQUFDa29DLFdBQVc7d0JBQy9DO29CQUNGLEtBQUs3aUQsVUFBVW9jLEtBQUs7d0JBQ2xCeW1DLGNBQWMsSUFBSSxDQUFDcHNCLE1BQU0sQ0FBQzliLEtBQUssQ0FBQ2tvQyxXQUFXO3dCQUMzQztvQkFDRixLQUFLN2lELFVBQVV3YyxZQUFZO3dCQUN6QnFtQyxjQUFjLElBQUksQ0FBQ3ZPLFdBQVcsQ0FBQzM1QixLQUFLLENBQUNrb0MsV0FBVzt3QkFDaEQ7O29CQUVGLEtBQUs3aUQsVUFBVTBjLGtCQUFrQjtvQkFDakMsS0FBSzFjLFVBQVVnMUIsV0FBVzt3QkFDeEI7b0JBQ0Y7d0JBQ0U2TSxnQkFBZ0IxZSxXQUFXO3dCQUMzQjs7Z0JBR0osSUFBSTAvQixhQUFhLE1BQU0sSUFBSSxDQUFDemMsT0FBTyxDQUFDeWMsYUFBYTEvQjs7UUFFckQ7UUFFQTs7O1NBR0csR0FDSyxJQUF1QixDQUFBNndDLHVCQUFBLEdBQUc7WUFDaEMsTUFBTSxFQUFFNW5DLGtCQUFrQixFQUFFLEdBQUcsSUFBSSxDQUFDelIsS0FBSztZQUN6QyxJQUFJeVIsbUJBQW1CenNCLE1BQU0sSUFBSSxHQUFHO1lBQ3BDLElBQUksQ0FBQ3V2RCxnQkFBZ0IsQ0FBQzdXLHVCQUF1QixDQUFDMTdDO1FBQ2hEO1FBRUE7OztTQUdHLEdBQ0gsS0FBQTgzRCxrQkFBa0IsR0FBRyxPQUFPcmtDO1lBQzFCLE1BQU0sSUFBSSxDQUFDZ1csT0FBTyxDQUFDaFcsYUFBYXB3QixVQUFVb2MsS0FBSztRQUNqRDtRQUVBOzs7U0FHRyxHQUNILEtBQUFzNEMsa0JBQWtCLEdBQUcsT0FBT3ZrQztZQUMxQixNQUFNLElBQUksQ0FBQ2lXLE9BQU8sQ0FBQ2pXLGFBQWFud0IsVUFBVXNjLEtBQUs7UUFDakQ7UUFFQTs7O1NBR0csR0FDSCxLQUFBcTRDLHdCQUF3QixHQUFHLE9BQU90YTtZQUNoQyxNQUFNLElBQUksQ0FBQ2pVLE9BQU8sQ0FBQ2lVLG1CQUFtQnI2QyxVQUFVd2MsWUFBWTtRQUM5RDtRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQTRwQixPQUFPLEdBQUcsT0FBT3ljLGFBQTBCMS9CO1lBQ3pDLElBQUksQ0FBQyxJQUFJLENBQUNvVCxTQUFTLEVBQUUsTUFBTSxJQUFJMzhCLE1BQU0sc0JBQXNCOztZQUUzRCxNQUFNLElBQUksQ0FBQzI4QixTQUFTLENBQUM4WixRQUFRO1lBRTdCLElBQUksQ0FBQyxJQUFJLENBQUMwQyxrQkFBa0IsQ0FBQ3NKLFVBQVUsQ0FBQ2w1QixZQUFZO2dCQUNsRCxNQUFNLElBQUl2cEIsTUFBTSxDQUE0QiwyQkFBQW9HLFNBQVMsQ0FBQ21qQixVQUFVLENBQUU7O1lBR3BFLElBQUksQ0FBQyxJQUFJLENBQUM4TCxTQUFTLEVBQUUsTUFBTSxJQUFJcjFCLE1BQU07WUFFckMsTUFBTSxDQUFDNnpCLE1BQU0sR0FBRzBVLGlCQUFpQmhmLGFBQzdCMC9CLFlBQVl0eUIsY0FBYyxLQUMxQnN5QixZQUFZdnlCLGNBQWM7WUFFOUIsSUFBSSxDQUFDN0MsT0FBTztnQkFDVixNQUFNLElBQUk3ekIsTUFDUixDQUFlLGNBQUFvRyxTQUFTLENBQUNtakIsVUFBVSxDQUFzQjs7WUFJN0QsSUFBSXNLLE1BQU1JLFVBQVUsS0FBSyxTQUFTO2dCQUNoQyxNQUFNLElBQUlqMEIsTUFBTSw2QkFBNkI7O1lBRy9DMjZDLGdCQUFnQixJQUFJLENBQUMyWSxpQkFBaUIsRUFBRS9wQztZQUN4QyxNQUFNLElBQUksQ0FBQzhMLFNBQVMsQ0FBQ21YLE9BQU8sQ0FBQzNZLE9BQU90SztZQUVwQyxNQUFNb2tCLGFBQWE7Z0JBQUNwa0I7YUFBVTtZQUM5QixJQUFJQSxjQUFjbmpCLFVBQVV3YyxZQUFZLEVBQUU7Z0JBQ3hDLE1BQU0sQ0FBQ280QyxXQUFXLEdBQUcvUixZQUFZdHlCLGNBQWM7Z0JBQy9DLElBQUlxa0MsWUFBWTtvQkFDZHJnQixnQkFBZ0IsSUFBSSxDQUFDMlksaUJBQWlCLEVBQUVsdEQsVUFBVTBjLGtCQUFrQjtvQkFDcEUsTUFBTSxJQUFJLENBQUN1UyxTQUFTLENBQUNtWCxPQUFPLENBQUN3dUIsWUFBWTUwRCxVQUFVMGMsa0JBQWtCO29CQUNyRTZxQixXQUFXOXNDLElBQUksQ0FBQ3VGLFVBQVUwYyxrQkFBa0I7OztZQUloRCxJQUFJK1EsTUFBTXp5QixJQUFJLEtBQUssU0FBUzs7O2dCQUcxQixJQUFJLENBQUNpMEQsZ0JBQWdCLEVBQUVqMUIsWUFBWTs7WUFHckMsTUFBTSxJQUFJLENBQUM2NkIsc0JBQXNCLENBQUNoUyxnQkFBZ0J0YjtRQUNwRDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBcWIsV0FBVyxHQUFHLE9BQU8sR0FBR3JiO1lBQ3RCLElBQUksQ0FBQyxJQUFJLENBQUNoUixTQUFTLElBQUksQ0FBQyxJQUFJLENBQUN0SCxTQUFTLEVBQUU7WUFDeEMsSUFBSSxDQUFDQSxTQUFTLENBQUNxWSxVQUFVLElBQUlDO1lBQzdCLE1BQU0sSUFBSSxDQUFDc3RCLHNCQUFzQixDQUFDbDRELGNBQWM0cUM7UUFDbEQ7UUFFQTs7Ozs7O1NBTUcsR0FDSyxJQUFzQixDQUFBc3RCLHNCQUFBLEdBQUcsT0FDL0JoUyxhQUNBLEdBQUd0YjtZQUVILElBQUksQ0FBQyxJQUFJLENBQUNoUixTQUFTLElBQUksQ0FBQyxJQUFJLENBQUNBLFNBQVMsQ0FBQ25VLFNBQVMsRUFBRTtZQUNsRCxNQUFNLElBQUksQ0FBQzZoQyxvQkFBb0IsQ0FBQyxDQUFDcEIsZ0JBQWdCdGI7WUFFakQsTUFBTSxFQUFFbmxCLFNBQVMsRUFBRSxHQUFHLElBQUksQ0FBQ21VLFNBQVM7WUFDcEMsS0FBSyxNQUFNcFQsYUFBYW9rQixXQUFZO2dCQUNsQyxNQUFNdXRCLGtCQUFrQi95QixnQ0FBZ0M1ZTtnQkFDeEQsSUFBSSxDQUFDMnhDLGlCQUFpQjtnQkFFdEIsSUFBSSxDQUFDbjZDLEtBQUssQ0FBQzhILGlCQUFpQixDQUFDTCxXQUFXLENBQUNuRyxJQUFPO3dCQUM5Q0MsaUJBQWlCMm1DLGNBQ2J0TyxnQkFBZ0I7K0JBQUl0NEIsRUFBRUMsZUFBZTt5QkFBQyxFQUFFaUgsYUFDeENsSCxFQUFFQyxlQUFlLENBQUNuSyxNQUFNLENBQUMsQ0FBQ3dCLElBQU1BLE1BQU00UDt3QkFDMUMsQ0FBQzJ4QyxnQkFBZSxFQUFHalM7b0JBQ3BCOztRQUVMO1FBRUE7Ozs7O1NBS0csR0FDSCxLQUFBa1Msb0JBQW9CLEdBQUcsQ0FBQ3o1RDtZQUN0QixJQUFJLENBQUN1UixNQUFNLENBQ1QsUUFDQSxpR0FDRTtZQUVKLElBQUksSUFBSSxDQUFDOE4sS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhd04sTUFBTSxFQUFFO2dCQUNuRCxJQUFJLENBQUNyYSxNQUFNLENBQ1QsUUFDQTs7WUFHSixJQUFJLENBQUN5bEQsb0JBQW9CLEdBQUc7Z0JBQUUsR0FBRyxJQUFJLENBQUNBLG9CQUFvQjtnQkFBRSxHQUFHaDNELE9BQU87WUFBQTtRQUN4RTtRQUVBOzs7O1NBSUcsR0FDSCxJQUErQixDQUFBcXZELCtCQUFBLEdBQUc7WUFDaEMsT0FBTyxJQUFJLENBQUNwMEIsU0FBUyxFQUFFeHFCLHlCQUF5QmdQLE1BQU0sQ0FBQzFOO2dCQUNyRCxJQUFJLENBQUNSLE1BQU0sQ0FBQyxRQUFRLGdEQUFnRFE7WUFDdEU7UUFDRjtRQUVBOzs7O1NBSUcsR0FDSCxJQUE4QixDQUFBaTlDLDhCQUFBLEdBQUc7WUFDL0IsT0FBTyxJQUFJLENBQUMvekIsU0FBUyxFQUFFdnFCLHdCQUF3QitPLE1BQU0sQ0FBQzFOO2dCQUNwRCxJQUFJLENBQUNSLE1BQU0sQ0FBQyxRQUFRLCtDQUErQ1E7WUFDckU7UUFDRjtRQUVBOzs7U0FHRyxHQUNILElBQW9CLENBQUE0MkMsb0JBQUEsR0FBRyxPQUFPcjJCLE9BQWdCLEdBQUcyWjtZQUMvQyxJQUFJLENBQUMsSUFBSSxDQUFDaFIsU0FBUyxFQUFFO1lBQ3JCLE1BQU0sSUFBSSxDQUFDQSxTQUFTLENBQUMzcUIsZ0JBQWdCLENBQ25DMjdCLFdBQVd6cEMsR0FBRyxDQUFDLENBQUNxbEIsWUFBZTtvQkFBRUE7b0JBQVd5SztnQkFBSztRQUVyRDtRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQWdDLHNCQUFzQixHQUFHLENBQUN4TjtZQUN4QixPQUFPLElBQUksQ0FBQzRzQyxhQUFhLEVBQUVwL0IsdUJBQXVCeE47UUFDcEQ7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUEwTixxQkFBcUIsR0FBRyxDQUFDMU47WUFDdkIsT0FBTyxJQUFJLENBQUM0c0MsYUFBYSxFQUFFbC9CLHNCQUFzQjFOO1FBQ25EO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUE0eUMsNkJBQTZCLEdBQUcsQ0FBQ0M7WUFDL0IsSUFBSSxDQUFDdkksMEJBQTBCLEdBQUd1STtRQUNwQztRQUVBOzs7O1NBSUcsR0FDSCxLQUFBQyxhQUFhLEdBQUcsQ0FBQzl5QztZQUNmLElBQUksQ0FBQ3pILEtBQUssQ0FBQzhILGlCQUFpQixDQUFDTCxXQUFXO2dCQUN0QzVFLFVBQVU3Z0I7WUFDWDtRQUNIO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFpa0IscUJBQXFCLEdBQXVDLENBQUN1MEM7WUFDM0QsT0FBTyxJQUFJLENBQUN4NkMsS0FBSyxDQUFDaUcscUJBQXFCLENBQUN1MEM7UUFDMUM7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQUMsWUFBWSxHQUFHLE9BQ2I1M0M7WUFFQSxPQUFPLElBQUksQ0FBQ2l4QixZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFdBQVcsRUFDdkNoeUM7UUFFSjtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBOEssU0FBUyxHQUFHLE9BQU9IO1lBQ2pCLE9BQU8sSUFBSSxDQUFDc21CLFlBQVksQ0FBQ21oQixJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsUUFBUSxFQUNwQztnQkFDRTFvQyxTQUFTcUI7WUFDVjtRQUVMO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUFDLFdBQVcsR0FBRyxPQUFPRDtZQUNuQixPQUFPLElBQUksQ0FBQ3NtQixZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFVBQVUsRUFDdEM7Z0JBQ0Uxb0MsU0FBU3FCO1lBQ1Y7UUFFTDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBa3RDLFFBQVEsR0FBRyxDQUFDNTZDO1lBQ1YsTUFBTTY2QyxXQUFXLElBQUksQ0FBQ3hqQixhQUFhO1lBQ25DLElBQUl3akIsVUFBVTtnQkFDWixPQUFPLElBQUksQ0FBQ0MsUUFBUSxDQUFDRCxVQUFVNzZDOztRQUVuQztRQUVBOzs7O1NBSUcsR0FDSCxLQUFBKzZDLFVBQVUsR0FBRyxDQUFDLzZDO1lBQ1osTUFBTTBJLFlBQVk2ZSxvQkFBb0J2bkI7WUFDdEMsSUFBSSxDQUFDMEksV0FBVztZQUNoQixNQUFNc3lDLGdCQUEwQixFQUFFO1lBQ2xDLEtBQUssTUFBTWp6QyxlQUFlLElBQUksQ0FBQzdILEtBQUssQ0FBQ3lSLGtCQUFrQixDQUFFO2dCQUN2RCxJQUFJNUosWUFBWXRHLGVBQWUsQ0FBQ0MsUUFBUSxDQUFDZ0gsWUFBWTtvQkFDbkRzeUMsY0FBY2g3RCxJQUFJLENBQUMrbkIsWUFBWTJGLE1BQU07OztZQUl6QyxJQUFJc3RDLGNBQWM5MUQsTUFBTSxHQUFHLEdBQUc7Z0JBQzVCLE9BQU8sSUFBSSxDQUFDNDFELFFBQVEsQ0FBQ0UsZUFBZWg3Qzs7UUFFeEM7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUE4NkMsUUFBUSxHQUFHLENBQUNwdEMsUUFBMkIxTjtZQUNyQyxPQUFPLElBQUksQ0FBQ2cwQixZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLGFBQWEsRUFDekM7Z0JBQ0VrRyxVQUFVajRELE1BQU1DLE9BQU8sQ0FBQ3lxQixVQUFVQSxTQUFTO29CQUFDQTtpQkFBTztnQkFDbkQsQ0FBQzFOLEtBQUksRUFBRztZQUNUO1FBRUw7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQWs3QyxZQUFZLEdBQUcsQ0FBQ2w3QztZQUNkLE9BQU8sSUFBSSxDQUFDZzBCLFlBQVksQ0FBQ21oQixJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsYUFBYSxFQUN6QztnQkFDRW9HLGdCQUFnQjtnQkFDaEIsQ0FBQ243QyxLQUFJLEVBQUc7WUFDVDtRQUVMO1FBRUE7O1NBRUcsR0FDSCxLQUFBbzdDLGNBQWMsR0FBRyxPQUFPN29EO1lBQ3RCLE9BQU8sSUFBSSxDQUFDeWhDLFlBQVksQ0FBQ21oQixJQUFJLENBRzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0Isa0JBQWtCLEVBQUV4aUQsVUFBVUEsVUFBVTtRQUN4RTtRQUVBOztTQUVHLEdBQ0gsSUFBYSxDQUFBOG9ELGFBQUEsR0FBRztZQUNkLE9BQU8sSUFBSSxDQUFDcm5CLFlBQVksQ0FBQ21oQixJQUFJLENBQzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsaUJBQWlCLEVBQzdDO1FBRUo7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQXVHLGtCQUFrQixHQUFHLE9BQ25CL29EO1lBRUEsT0FBTyxJQUFJLENBQUN5aEMsWUFBWSxDQUFDbWhCLElBQUksQ0FHM0IsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixzQkFBc0IsRUFBRXhpRDtRQUN4RDtRQUVBOztTQUVHLEdBQ0gsSUFBaUIsQ0FBQWdwRCxpQkFBQSxHQUFHO1lBQ2xCLE9BQU8sSUFBSSxDQUFDdm5CLFlBQVksQ0FBQ21oQixJQUFJLENBQzNCLENBQUcsTUFBSSxDQUFDSixvQkFBb0IsQ0FBcUI7UUFFckQ7UUFFQTs7U0FFRyxHQUNILEtBQUF5RyxtQkFBbUIsR0FBRyxPQUNwQjM2RDtZQUVBLE1BQU00NkQsTUFBTSxJQUFJLENBQUN2N0MsS0FBSyxDQUFDdUcsYUFBYSxDQUFDLE9BQU07WUFDM0MsSUFBSTtnQkFDRixPQUFPLE1BQU0sSUFBSSxDQUFDdXRCLFlBQVksQ0FBQ21oQixJQUFJLENBR2pDLENBQUcsTUFBSSxDQUFDSixvQkFBb0Isd0JBQXdCLEVBQUVsMEQ7Y0FDeEQsT0FBTytSLEtBQUs7Z0JBQ1o2b0QsSUFBSWg5QyxRQUFRLElBQUc7Z0JBQ2YsTUFBTTdMOztRQUVWO1FBRUE7O1NBRUcsR0FDSCxLQUFBOG9ELGtCQUFrQixHQUFHLE9BQ25CNzZEO1lBRUEsTUFBTTQ2RCxNQUFNLElBQUksQ0FBQ3Y3QyxLQUFLLENBQUN1RyxhQUFhLENBQUMsUUFBTztZQUM1QyxJQUFJO2dCQUNGLE9BQU8sTUFBTSxJQUFJLENBQUN1dEIsWUFBWSxDQUFDbWhCLElBQUksQ0FHakMsQ0FBRyxNQUFJLENBQUNKLG9CQUFvQix1QkFBdUIsRUFBRWwwRDtjQUN2RCxPQUFPK1IsS0FBSztnQkFDWjZvRCxJQUFJaDlDLFFBQVEsSUFBRztnQkFDZixNQUFNN0w7O1FBRVY7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQXNYLDJCQUEyQixHQUFHLENBQUNDO1lBQzdCLElBQUksQ0FBQ2pLLEtBQUssQ0FBQ2dLLDJCQUEyQixDQUFDQztRQUN6QztRQUVBOzs7O1NBSUcsR0FDSCxLQUFBd3hDLGtCQUFrQixHQUFHLE9BQ25CcitCO1lBRUEsTUFBTSxFQUFFa2tCLFdBQVcsRUFBRSxHQUFHbGtCO1lBQ3hCLE1BQU1zK0Isd0JBQXdCcGEsWUFBWXpKLEtBQUssQ0FBQyxDQUFDNEosYUFDL0MsSUFBSSxDQUFDckosa0JBQWtCLENBQUN1SixVQUFVLENBQUNGO1lBRXJDLElBQUksQ0FBQ2lhLHVCQUF1QjtnQkFDMUIsTUFBTSxJQUFJejhELE1BQ1IsK0NBQStDcWlELFlBQVl2aEQsSUFBSSxDQUFDLE1BQU87O1lBRzNFLE9BQU8sSUFBSSxDQUFDK3pDLFlBQVksQ0FBQ21oQixJQUFJLENBRzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IscUJBQXFCLEVBQUV6M0I7UUFDdkQ7UUFFQTs7Ozs7Ozs7Ozs7U0FXRyxHQUNILEtBQUF1K0IsZ0JBQWdCLEdBQUcsT0FBT251QyxRQUFnQjh6QjtZQUN4QyxPQUFPLElBQUksQ0FBQ3NhLHFCQUFxQixDQUFDO2dCQUNoQ3p2QyxTQUFTcUI7Z0JBQ1RxdUMsbUJBQW1CdmE7WUFDcEI7UUFDSDtRQUVBOzs7Ozs7Ozs7OztTQVdHLEdBQ0gsS0FBQXdhLGlCQUFpQixHQUFHLE9BQU90dUMsUUFBZ0I4ekI7WUFDekMsT0FBTyxJQUFJLENBQUNzYSxxQkFBcUIsQ0FBQztnQkFDaEN6dkMsU0FBU3FCO2dCQUNUdXVDLG9CQUFvQnphO1lBQ3JCO1FBQ0g7UUFFQTs7Ozs7Ozs7O1NBU0csR0FDSCxLQUFBc2EscUJBQXFCLEdBQUcsT0FBT3grQjtZQUM3QixPQUFPLElBQUksQ0FBQzBXLFlBQVksQ0FBQ21oQixJQUFJLENBRzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0IsbUJBQW1CLEVBQUV6M0I7UUFDckQ7UUFFQTs7Ozs7U0FLRyxHQUNILElBQU0sQ0FBQTQrQixNQUFBLEdBQUcsT0FBTzUrQixPQUFzQixFQUFFLEVBQUU2TztZQUN4QyxPQUFPLElBQUksQ0FBQzZILFlBQVksQ0FBQ21oQixJQUFJLENBQzNCLENBQUcsTUFBSSxDQUFDSixvQkFBb0IsVUFBVSxFQUN0Q3ozQixNQUNBNk87UUFFSjtRQUVBOztTQUVHLEdBQ0gsS0FBQWd3QixRQUFRLEdBQUcsT0FBTzcrQixPQUF3QixFQUFFO1lBQzFDLE9BQU8sSUFBSSxDQUFDMFcsWUFBWSxDQUFDbWhCLElBQUksQ0FDM0IsR0FBRyxJQUFJLENBQUNKLG9CQUFvQixZQUFZLEVBQ3hDejNCO1FBRUo7UUFFQTs7U0FFRyxHQUNILElBQVEsQ0FBQTgrQixRQUFBLEdBQUc7WUFDVCxPQUFPLElBQUksQ0FBQ3BvQixZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLHFCQUFxQixFQUNqRDtRQUVKO1FBRUE7O1NBRUcsR0FDSCxJQUFPLENBQUFzSCxPQUFBLEdBQUc7WUFDUixPQUFPLElBQUksQ0FBQ3JvQixZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLG9CQUFvQixFQUNoRDtRQUVKO1FBRUE7O1NBRUcsR0FDSCxLQUFBdUgsbUJBQW1CLEdBQUcsT0FDcEJoL0I7WUFFQSxPQUFPLElBQUksQ0FBQzBXLFlBQVksQ0FBQ21oQixJQUFJLENBRzNCLEdBQUcsSUFBSSxDQUFDSixvQkFBb0Isa0JBQWtCLEVBQUV6M0I7UUFDcEQ7UUFFQTs7U0FFRyxHQUNILElBQXFCLENBQUFpL0IscUJBQUEsR0FBRztZQUN0QixPQUFPLElBQUksQ0FBQ3ZvQixZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixDQUFHLE1BQUksQ0FBQ0osb0JBQW9CLENBQXVCO1FBRXZEO1FBRUE7O1NBRUcsR0FDSCxLQUFBeUgsaUJBQWlCLEdBQUcsT0FDbEI5OEQ7WUFFQSxPQUFPLElBQUksQ0FBQ3MwQyxZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLG9CQUFvQnIxRCxLQUFJLE1BQU87UUFFL0Q7UUFFQTs7O1NBR0csR0FDSCxLQUFBKzhELG1CQUFtQixHQUFHLE9BQ3BCbi9CO1lBRUEsT0FBTyxJQUFJLENBQUMwVyxZQUFZLENBQUNtaEIsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLHdCQUF3QixFQUFFejNCO1FBQzFEO1FBRUE7O1NBRUcsR0FDSCxJQUFrQixDQUFBby9CLGtCQUFBLEdBQUc7WUFDbkIsT0FBTyxJQUFJLENBQUMxb0IsWUFBWSxDQUFDbWhCLElBQUksQ0FDM0IsQ0FBRyxNQUFJLENBQUNKLG9CQUFvQixDQUF1QjtRQUV2RDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBajNDLE1BQU0sR0FBRyxPQUFPNitDO1lBQ2QsTUFBTW45RCxXQUFXLE1BQU0sSUFBSSxDQUFDdzBDLFlBQVksQ0FBQy9yQixLQUFLLENBRzVDLEdBQUcsSUFBSSxDQUFDOHNDLG9CQUFvQixFQUFFLEVBQUU0SDtZQUVsQyxNQUFNLEVBQUUvb0QsSUFBSSxFQUFFdVQsT0FBTyxFQUFFNkcsZ0JBQWdCLEVBQUUsR0FBR3h1QjtZQUM1QyxJQUFJLENBQUMwZ0IsS0FBSyxDQUFDbUssc0JBQXNCLENBQUN6VztZQUNsQyxJQUFJLENBQUNzTSxLQUFLLENBQUNnSCxVQUFVLENBQUNDO1lBQ3RCLElBQUksQ0FBQ2pILEtBQUssQ0FBQ2tILGtCQUFrQixDQUFDNEc7WUFFOUIsT0FBT3h1QjtRQUNUO1FBRUE7O1NBRUcsR0FDSCxJQUFPLENBQUFvOUQsT0FBQSxHQUFHO1lBQ1IsT0FBTyxJQUFJLENBQUM1b0IsWUFBWSxDQUFDbWhCLElBQUksQ0FDM0IsQ0FBRyxNQUFJLENBQUNKLG9CQUFvQixDQUFhO1FBRTdDO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUE1eUMsR0FBRyxHQUFHLENBQUN3RjtZQUNMLElBQUksQ0FBQ3pILEtBQUssQ0FBQzhILGlCQUFpQixDQUFDTCxXQUFXO2dCQUN0Q3hGLEtBQUs7b0JBQ0hDLFlBQVk7b0JBQ1pDLFVBQVUzZSxLQUFLSCxHQUFHO2dCQUNuQjtZQUNGO1FBQ0g7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQXM1RCxLQUFLLEdBQUcsQ0FBQ2wxQztZQUNQLElBQUksQ0FBQ3pILEtBQUssQ0FBQzhILGlCQUFpQixDQUFDTCxXQUFXO2dCQUN0Q3hGLEtBQUtqZ0I7WUFDTjtRQUNIO1FBRUE7Ozs7OztTQU1HLEdBQ0gsS0FBQTQ2RCxjQUFjLEdBQUcsT0FBT3ZxRDtZQUN0QixPQUFPLElBQUksQ0FBQ3loQyxZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLE1BQU0sRUFDbEN4aUQ7UUFFSjtRQUVBOzs7Ozs7U0FNRyxHQUNILEtBQUF3cUQsZ0JBQWdCLEdBQUcsT0FBT3hxRDtZQUN4QixPQUFPLElBQUksQ0FBQ3loQyxZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFFBQVEsRUFDcEN4aUQ7UUFFSjtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBeXFELFlBQVksR0FBRyxDQUFDenFEO1lBQ2QsT0FBTyxJQUFJLENBQUN5aEMsWUFBWSxDQUFDbWhCLElBQUksQ0FHM0IsaUJBQWlCO2dCQUNqQixHQUFJNWlELFdBQVcsRUFBRTtnQkFDakIwTixJQUFJLElBQUksQ0FBQ0EsRUFBRTtnQkFDWEQsTUFBTSxJQUFJLENBQUNBLElBQUk7WUFDaEI7UUFDSDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBaTlDLGlCQUFpQixHQUFHLE9BQ2xCMy9CO1lBRUEsT0FBTyxJQUFJLENBQUMwVyxZQUFZLENBQUNtaEIsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFVBQVUsRUFBRXozQjtRQUM1QztRQUVBOzs7U0FHRyxHQUNLLElBQWdCLENBQUF5MkIsZ0JBQUEsR0FBRztZQUN6QixJQUFJLENBQUNQLGNBQWM7WUFFbkIsTUFBTXRvQyxXQUFXLElBQUksQ0FBQ2hMLEtBQUssQ0FBQ2dMLFFBQVE7WUFDcEMsSUFBSSxDQUFDQSxVQUFVOztZQUVmLElBQUksSUFBSSxDQUFDaEwsS0FBSyxDQUFDQyxZQUFZLEtBQUtsQixhQUFhcTRCLE9BQU8sRUFBRTtZQUV0RCxNQUFNNGxCLGNBQWMsSUFBSSxDQUFDcmxCLGFBQUEsR0FDckIzc0IsU0FBUzhwQyxJQUFJLENBQUNtSSxzQkFBQSxHQUNkanlDLFNBQVM4cEMsSUFBSSxDQUFDb0ksd0JBQXdCOztZQUcxQyxJQUFJRixlQUFlLEdBQUc7WUFDdEIsSUFBSSxDQUFDRyxXQUFXLEdBQUc1cEQsV0FBVzs7O2dCQUc1QixJQUFJLElBQUksQ0FBQ3lNLEtBQUssQ0FBQ0MsWUFBWSxLQUFLbEIsYUFBYXE0QixPQUFPLEVBQUU7Z0JBQ3RELElBQUksQ0FBQ2ozQixLQUFLLENBQUM7b0JBQ1RneEIsUUFBUTtvQkFDUjVNLFFBQVE7b0JBQ1JwbEMsU0FBUyxxQkFBcUIsSUFBSSxDQUFDdzRDLGFBQWEsR0FBRyxvQkFBb0IsZ0RBQWdELENBQUU7Z0JBQzFILEdBQUV2M0IsS0FBSyxDQUFDLENBQUMxTjtvQkFDUixJQUFJLENBQUNSLE1BQU0sQ0FBQyxTQUFTLHVCQUF1QlE7Z0JBQzlDO2VBQ0NzcUQ7UUFDTDtRQUVBOztTQUVHLEdBQ0ssSUFBYyxDQUFBMUosY0FBQSxHQUFHO1lBQ3ZCdHRDLGFBQWEsSUFBSSxDQUFDbTNDLFdBQVc7WUFDN0IsSUFBSSxDQUFDQSxXQUFXLEdBQUduN0Q7UUFDckI7UUFFQTs7Ozs7OztTQU9HLEdBQ0gsS0FBQW83RCxlQUFlLEdBQUcsT0FDaEJDO1lBRUEsSUFBSXp0QixXQUFXLElBQUksQ0FBQ2lsQixvQkFBb0I7WUFDeEMsSUFBSXdJLGVBQWU7Z0JBQ2pCenRCLFdBQVcsQ0FBRyxFQUFBQSxTQUFZLEdBQUF5dEIsY0FBYSxDQUFFOztZQUUzQyxPQUFPLElBQUksQ0FBQ3ZwQixZQUFZLENBQUNqM0IsR0FBRyxDQUMxQixDQUFHLEVBQUEreUIsU0FBcUI7UUFFNUI7UUFFQTs7OztTQUlHLEdBQ0gsSUFBbUIsQ0FBQTB0QixtQkFBQSxHQUFHO1lBQ3BCLE9BQU8sSUFBSSxDQUFDeHBCLFlBQVksQ0FBQ2ozQixHQUFHLENBQzFCLENBQUcsTUFBSSxDQUFDZzRDLG9CQUFvQixDQUFpQjtRQUVqRDtRQUVBOzs7Ozs7OztTQVFHLEdBQ0gsS0FBQTBJLFlBQVksR0FBRyxPQUFPQztZQUNwQixNQUFNNXRCLFdBQVcsQ0FBRyxNQUFJLENBQUNpbEIsb0JBQW9CLFVBQVUySSxjQUFhLENBQUU7WUFDdEUsT0FBTyxJQUFJLENBQUMxcEIsWUFBWSxDQUFDajNCLEdBQUcsQ0FBdUIreUI7UUFDckQ7UUFFQTs7Ozs7OztTQU9HLEdBQ0gsS0FBQTZ0QixhQUFhLEdBQUcsT0FBT0QsZ0JBQXdCLEVBQUU7WUFDL0MsTUFBTTV0QixXQUFXLEdBQUcsSUFBSSxDQUFDaWxCLG9CQUFvQixTQUFTO1lBQ3RELE1BQU01b0IsU0FBU3V4QixrQkFBa0IsS0FBSztnQkFBRUUsWUFBWUY7WUFBYSxJQUFLO1lBQ3RFLE9BQU8sSUFBSSxDQUFDMXBCLFlBQVksQ0FBQ2ozQixHQUFHLENBQXdCK3lCLFVBQVUzRDtRQUNoRTtRQUVBOzs7Ozs7U0FNRyxHQUNILEtBQUEweEIsY0FBYyxHQUFHLE9BQ2ZDLFFBQ0EsRUFDRXI1QixNQUFNLEVBQ043WixNQUFNLEtBQ21ELEVBQUU7WUFFN0QsTUFBTSxFQUFFNkksT0FBTyxFQUFFRSxVQUFVLEVBQUUsR0FBR0gsVUFBVSxHQUFHSCxnQkFDM0MsTUFBTTBIO1lBRVIsT0FBTyxJQUFJLENBQUNpWixZQUFZLENBQUNtaEIsSUFBSSxDQUczQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFdBQVcsRUFBRTtnQkFDekMrSTtnQkFDQXI1QjtnQkFDQXpYLGlCQUFpQixJQUFJLENBQUM4TyxTQUFTLEVBQUVuVTtnQkFDakM0TCxLQUFLRTtnQkFDTHNxQyxhQUFhcHFDO2dCQUNiL0ksUUFBUTtvQkFDTixHQUFHQSxNQUFNO29CQUNULDBCQUEwQjRJO2dCQUMzQjtZQUNGO1FBQ0g7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQXdxQyxlQUFlLEdBQUcsT0FBT2hqRDtZQUN2QixPQUFPLElBQUksQ0FBQ2c1QixZQUFZLENBQUNtaEIsSUFBSSxDQUMzQixHQUFHLElBQUksQ0FBQ0osb0JBQW9CLFFBQVEsRUFDcEM7Z0JBQUVucUMsUUFBUTVQO1lBQU87UUFFckI7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQTg1QyxpQkFBaUIsR0FBRyxPQUNsQjVwQyxVQUNBeWdCO1lBRUEsTUFBTSxJQUFJLENBQUMzUCxNQUFNLENBQUNvRSxLQUFLLENBQUNsVixTQUFTNDJCLEtBQUssRUFBRW5XLFNBQVNyckIsS0FBSyxDQUFDLENBQUMxTjtnQkFDdEQsSUFBSSxDQUFDUixNQUFNLENBQUMsUUFBUSxzQkFBc0JRO1lBQzVDO1lBQ0EsTUFBTSxJQUFJLENBQUNtcEIsVUFBVSxDQUFDcUUsS0FBSyxDQUFDbFYsU0FBU3VqQixLQUFLLEVBQUU5QyxTQUFTcnJCLEtBQUssQ0FBQyxDQUFDMU47Z0JBQzFELElBQUksQ0FBQ1IsTUFBTSxDQUFDLFFBQVEsbUJBQW1CUTtZQUN6QztRQUNGO1FBRUE7Ozs7Ozs7U0FPRyxHQUNILElBQXNCLENBQUFvckMsc0JBQUEsR0FBRyxDQUN2QjVCLFNBQ0F6MEIsV0FDQWU7WUFFQSxPQUFPLElBQUksQ0FBQytyQyxnQkFBZ0IsQ0FBQ3pXLHNCQUFzQixDQUNqRDVCLFNBQ0F6MEIsV0FDQWU7UUFFSjtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBK3lCLFdBQVcsR0FBRyxDQUF3Qlc7WUFDcEMsT0FBTyxJQUFJLENBQUNxWSxnQkFBZ0IsQ0FBQ2haLFdBQVcsQ0FBQ1c7UUFDM0M7UUFFQTs7Ozs7Ozs7Ozs7Ozs7U0FjRyxHQUNILElBQWdCLENBQUFrQyxnQkFBQSxHQUFHLENBQ2pCQyxjQUNBNTJCLFdBQ0FlO1lBRUEsTUFBTXUxQyxTQUFTLElBQUksQ0FBQ3hKLGdCQUFnQixDQUFDblcsZ0JBQWdCLENBQ25EQyxjQUNBNTJCLFdBQ0FlO1lBR0YsSUFBSSxDQUFDdTFDLFFBQVE7WUFDYixJQUFJLENBQUNuTCxjQUFjLENBQUN6cUMsR0FBRyxDQUFDNDFDO1lBQ3hCLE9BQU87Z0JBQ0wsSUFBSSxDQUFDbkwsY0FBYyxDQUFDdDFDLE1BQU0sQ0FBQ3lnRDtnQkFDM0JBO1lBQ0Y7UUFDRjtRQUVBOzs7Ozs7Ozs7U0FTRyxHQUNILElBQWdCLENBQUFsZSxnQkFBQSxHQUFHLENBQ2pCQyxjQUNBcjRCLFdBQ0FlLFlBQTRCLFlBQVk7WUFFeEMsTUFBTXUxQyxTQUFTLElBQUksQ0FBQ3hKLGdCQUFnQixDQUFDMVUsZ0JBQWdCLENBQ25EQyxjQUNBcjRCLFdBQ0FlO1lBR0YsSUFBSSxDQUFDdTFDLFFBQVE7WUFDYixJQUFJLENBQUNuTCxjQUFjLENBQUN6cUMsR0FBRyxDQUFDNDFDO1lBQ3hCLE9BQU87Z0JBQ0wsSUFBSSxDQUFDbkwsY0FBYyxDQUFDdDFDLE1BQU0sQ0FBQ3lnRDtnQkFDM0JBO1lBQ0Y7UUFDRjtRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQUMsd0JBQXdCLEdBQUcsQ0FDekJDLGNBQ0F6bkMsT0FFSSxFQUFFO1lBRU4sTUFBTTBuQyxjQUFjO2dCQUNsQkQsYUFBYW5zQixHQUFHLEdBQ2R0YixLQUFLMm5DLG1CQUFtQixJQUN4QjtZQUNKO1lBRUEsTUFBTWxnRCxjQUFjTyxtQkFDbEIsSUFBSSxDQUFDd0IsS0FBSyxDQUFDeVEsV0FBVyxFQUN0QixDQUFDdkY7Z0JBQ0MsSUFBSSxDQUFDQSxZQUFZO2dCQUNqQit5QyxhQUFhM29ELGdCQUFnQixDQUFDLFNBQVM0b0Q7Z0JBRXZDLE1BQU1FLGVBQWUsSUFBSTNyQixJQUFJdm5CLFdBQVdtekMsU0FBUztnQkFDakRELGFBQWFFLFlBQVksQ0FBQ25oRCxHQUFHLENBQUMsS0FBS290QixPQUFPMHpCLGFBQWFwZixXQUFXO2dCQUNsRXVmLGFBQWFFLFlBQVksQ0FBQ25oRCxHQUFHLENBQUMsS0FBS290QixPQUFPMHpCLGFBQWFuZixZQUFZO2dCQUVuRW1mLGFBQWFuc0IsR0FBRyxHQUFHc3NCLGFBQWF0NkQsUUFBUTtZQUMxQztZQUdGLE9BQU87Z0JBQ0xtYTtnQkFDQWdnRCxhQUFhem9ELG1CQUFtQixDQUFDLFNBQVMwb0Q7WUFDNUM7UUFDRjtRQUVBOzs7Ozs7Ozs7U0FTRyxHQUNILEtBQUFLLG1DQUFtQyxHQUFHLENBQ3BDMVMsWUFDQXQyQjtZQUVBLElBQUksQ0FBQ2cvQixnQkFBZ0IsQ0FBQzlXLGtDQUFrQyxDQUN0RG9PLGFBQ0k7Z0JBQ0U3NEIsU0FBUztnQkFDVHBLLFdBQVdpakM7WUFDWixJQUNEN3BELFdBQ0p1ekI7WUFFRixJQUFJLENBQUNnL0IsZ0JBQWdCLENBQUM3Vyx1QkFBdUI7UUFDL0M7UUFFQTs7O1NBR0csR0FDSCxLQUFBOGdCLHVCQUF1QixHQUFHLENBQUN4ckM7WUFDekIsSUFBSSxDQUFDdWhDLGdCQUFnQixDQUFDOVcsa0NBQWtDLENBQ3REenFCLFVBQVVoeEIsWUFBWTtnQkFBRWd4QixTQUFTO1lBQUs7WUFFeEMsSUFBSSxDQUFDdWhDLGdCQUFnQixDQUFDN1csdUJBQXVCO1FBQy9DO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUErZ0IsdUJBQXVCLEdBQUcsQ0FBQ0M7WUFDekIsSUFBSSxDQUFDck0sMkJBQTJCLEdBQUdxTTtRQUNyQztRQXYzRUUsSUFBSSxDQUFDNStDLElBQUksR0FBR0E7UUFDWixJQUFJLENBQUNDLEVBQUUsR0FBR0E7UUFDVixJQUFJLENBQUNKLEdBQUcsR0FBRyxHQUFHRyxLQUFRLEdBQUFDLEdBQUUsQ0FBRTtRQUMxQixJQUFJLENBQUN5ekMsY0FBYyxHQUFHLElBQUl0MEMsK1FBQWVBLENBQUM2N0I7UUFDMUMsSUFBSSxDQUFDK1csUUFBUSxHQUFHQTtRQUNoQixJQUFJLENBQUNoZSxZQUFZLEdBQUdBO1FBQ3BCLElBQUksQ0FBQytkLFdBQVcsR0FBR0E7UUFDbkIsSUFBSSxDQUFDZ0Qsb0JBQW9CLEdBQUcsU0FBUyxJQUFJLENBQUMvMEMsSUFBSSxJQUFJLElBQUksQ0FBQ0MsRUFBRSxFQUFFO1FBQzNELElBQUksQ0FBQzdOLE1BQU0sR0FBRzhFLFVBQVU7WUFBQztTQUFPO1FBRWhDLE1BQU0ybkQsaUJBQWlCdGMsVUFBVXhsQyxHQUFHLENBQUNpRDtRQUNyQyxNQUFNOCtDLG9CQUNKaDVDLHNCQUFzQis0QyxlQUFlaCtELE9BQU8sQ0FBQ2lsQixrQkFBa0I7UUFDakUsSUFBSWc1QyxtQkFBbUI7WUFDckIsSUFBSSxDQUFDNStDLEtBQUssQ0FBQ2lHLHFCQUFxQixDQUFDMjRDOztRQUduQyxJQUFJLENBQUM1K0MsS0FBSyxDQUFDZ0gsVUFBVSxDQUFDQyxXQUFXLEVBQUU7UUFDbkMsSUFBSSxDQUFDakgsS0FBSyxDQUFDa0gsa0JBQWtCLENBQUM2SyxtQkFBbUIsRUFBRTtRQUNuRCxJQUFJLENBQUMvUixLQUFLLENBQUM2RyxlQUFlLENBQ3hCazBCLFVBQVVoOEIsYUFBYXE0QixPQUFPLEdBQUdyNEIsYUFBYWk1QixJQUFJO1FBR3BELElBQUksQ0FBQ2xjLE1BQU0sR0FBRyxJQUFJd3ZCLGNBQWMsSUFBSTtRQUNwQyxJQUFJLENBQUN6dkIsVUFBVSxHQUFHLElBQUltekIsa0JBQWtCLElBQUk7UUFDNUMsSUFBSSxDQUFDeFMsT0FBTyxHQUFHLElBQUltVixlQUFlLElBQUk7UUFDdEMsSUFBSSxDQUFDaFksV0FBVyxHQUFHLElBQUl1WCxtQkFBbUIsSUFBSTtRQUM5QyxJQUFJLENBQUNxRCxnQkFBZ0IsR0FBRyxJQUFJaFksaUJBQWlCLElBQUksQ0FBQ3Y4QixLQUFLLEVBQUUsSUFBSSxDQUFDdzhCLE9BQU87O0lBMFV2RTs7S0FFRyxHQUNILElBQUl6QixVQUFPO1FBQ1QsT0FBT2w5QixnQkFBZ0IsSUFBSSxDQUFDMjFDLGNBQWM7O0lBRzVDOztLQUVHLEdBQ0gsSUFBSXJjLGdCQUFhO1FBQ2YsT0FBTyxJQUFJLENBQUMwYSxXQUFXLENBQUN4eEMsYUFBYSxFQUFFTjs7SUFHekM7O0tBRUcsR0FDSCxJQUFJNDNCLGdCQUFhO1FBQ2YsT0FBTyxJQUFJLENBQUMzM0IsS0FBSyxDQUFDb1MsU0FBUyxFQUFFclMsT0FBTyxJQUFJLENBQUNvM0IsYUFBYTs7QUFpZ0V6RDtBQzNwRk0sTUFBTTBuQixnQkFBd0M7SUFDbkQsQ0FBQyxHQUFFLEVBQUc7SUFDTixHQUFHO0lBQ0gsR0FBRztJQUNILEdBQUc7SUFDSCxHQUFHO0lBQ0gsR0FBRztJQUNILEdBQUc7SUFDSCxJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJO0lBQ0osSUFBSTtJQUNKLElBQUk7SUFDSixJQUFJOztBQ1ZOOzs7Ozs7Ozs7Ozs7Ozs7O0NBZ0JHLFNBQ1VDO0lBNEJYNS9ELFlBQVk2L0QsTUFBb0I7UUF5QmhDLElBQUksQ0FBQUMsSUFBQSxHQUFHLENBQUMxN0QsS0FBYTVELFFBQVksRUFBRSxFQUFFeVMsUUFBa0IsTUFBTTtZQUMzRCxJQUFJLENBQUM0c0QsTUFBTSxDQUFDN3NELE1BQU0sQ0FBQ0MsT0FBTyxjQUFjN08sSUFBRyxDQUFFLEVBQUU1RDtRQUNqRDtRQUVBLEtBQUF1L0QsU0FBUyxHQUFHLENBQUNGO1lBQ1gsSUFBSSxDQUFDQSxNQUFNLEdBQUdBO1FBQ2hCO1FBcUdBOzs7O1NBSUcsR0FDSCxJQUFTLENBQUFHLFNBQUEsR0FBRztZQUNWLE1BQU1qekIsU0FBUyxJQUFJa3pCO1lBQ25CbHpCLE9BQU85dUIsR0FBRyxDQUFDLFdBQVcsSUFBSSxDQUFDNGhELE1BQU0sQ0FBQ24vRCxHQUFHO1lBQ3JDcXNDLE9BQU85dUIsR0FBRyxDQUFDLG9CQUFvQixJQUFJLENBQUM0aEQsTUFBTSxDQUFDSyxXQUFXO1lBQ3REbnpCLE9BQU85dUIsR0FBRyxDQUFDLG1CQUFtQixJQUFJLENBQUM0aEQsTUFBTSxDQUFDTSxZQUFZO1lBRXRELE9BQU8sQ0FBRyxNQUFJLENBQUNOLE1BQU0sQ0FBQ08sU0FBUyxDQUFZLFdBQUFyekIsT0FBT25vQyxRQUFRLEdBQUUsQ0FBRTtRQUNoRTtRQTZNQTs7Ozs7U0FLRyxHQUNILEtBQUF5N0QsbUJBQW1CLEdBQUcsQ0FBQ3QyQztZQUNyQixJQUFJQSxNQUFNbkosSUFBSSxLQUFLLFdBQVc7O2dCQUU1QixJQUFJLENBQUNrL0MsSUFBSSxDQUFDOztnQkFFVixJQUFJLENBQUNRLFVBQVUsQ0FBQyxPQUFPO21CQUNsQixJQUFJdjJDLE1BQU1uSixJQUFJLEtBQUssVUFBVTs7Ozs7Z0JBS2xDLElBQUksQ0FBQ2svQyxJQUFJLENBQ1AsaUVBQWlFLElBQUksQ0FBQzk1QixTQUFTLENBQUU7Z0JBRW5GLElBQUksQ0FBQyxJQUFJLENBQUNBLFNBQVMsRUFBRTtvQkFDbkIsSUFBSSxDQUFDdTZCLFVBQVUsQ0FBQzt3QkFBRUMsVUFBVTtvQkFBRTs7O1FBR3BDO1FBRUEsS0FBQUMsTUFBTSxHQUFHLENBQUNDO1lBQ1IsSUFBSSxJQUFJLENBQUNBLElBQUksS0FBS0EsTUFBTTtZQUV4QixNQUFNdmdELE9BQU8sSUFBSSxDQUFDMC9DLE1BQU0sQ0FBQzEvQyxJQUFJO1lBQzdCLElBQUksQ0FBQ0EsTUFBTTtnQkFDVCxJQUFJLENBQUMwL0MsTUFBTSxDQUFDN3NELE1BQU0sQ0FBQyxTQUFTLENBQW1DO2dCQUMvRDs7WUFHRixNQUFNK2pDLFFBQVEsSUFBSSxDQUFDOG9CLE1BQU0sQ0FBQ2MsU0FBUztZQUNuQyxJQUFJLENBQUM1cEIsT0FBTztnQkFDVixJQUFJLENBQUM4b0IsTUFBTSxDQUFDN3NELE1BQU0sQ0FBQyxTQUFTLENBQTJDO2dCQUN2RTs7WUFHRixNQUFNNHRELGNBQWM5akQsS0FBS3FpQixTQUFTLENBQUM7Z0JBQ2pDNFg7Z0JBQ0E4cEIsY0FBYztvQkFDWmhnRCxJQUFJVixLQUFLVSxFQUFFO29CQUNYdmdCLE1BQU02ZixLQUFLN2YsSUFBSTtvQkFDZndnRSxPQUFPM2dELEtBQUsyZ0QsS0FBSztvQkFDakJ0MUMsUUFBUXJMLEtBQUtxTCxNQUFNO2dCQUNwQjtZQUNlO1lBRWxCLElBQUksQ0FBQ3MwQyxJQUFJLENBQUMsQ0FBbUMsa0NBQUFjLFlBQWEsR0FBRSxJQUFJO1lBRWhFLElBQUksQ0FBQ2h3QixFQUFFLEVBQUVvRyxLQUFLNHBCO1lBQ2QsSUFBSSxDQUFDZCxJQUFJLENBQUMsOEJBQThCO2dCQUFFWTtZQUFJO1FBQ2hEO1FBRUEsS0FBQUssU0FBUyxHQUFHLENBQUNMLE1BQWMzMkM7WUFDekIsSUFBSSxJQUFJLENBQUMyMkMsSUFBSSxLQUFLQSxNQUFNO1lBRXhCLElBQUksQ0FBQ1osSUFBSSxDQUFDLG9DQUFvQztnQkFBRS8xQztnQkFBTzIyQztZQUFJO1lBQzNELE1BQU14aUMsT0FDSixPQUFPblUsTUFBTW1VLElBQUksS0FBSyxXQUNqQnBoQixLQUFLMVgsS0FBSyxDQUFDMmtCLE1BQU1tVSxJQUFJLElBQ3RCOzs7O1lBS04sSUFDRSxDQUFDLElBQUksQ0FBQzhpQyx3QkFBd0IsSUFDOUI5aUMsUUFDQUEsS0FBS3RkLElBQUksS0FBSyxvQkFDZDtnQkFDQSxJQUFJLENBQUNvZ0Qsd0JBQXdCLEdBQUc7Z0JBQ2hDLElBQUk5aUMsS0FBS3JxQixLQUFLLEVBQUU7b0JBQ2QsSUFBSSxDQUFDb3RELG9CQUFvQixHQUFHLElBQUksQ0FBQ0MsaUJBQWlCLENBQUNoakMsTUFBTTtvQkFDekQ7Ozs7WUFLSixJQUFJLENBQUNpakMsU0FBUyxHQUFHLElBQUk3OEQ7WUFFckIsSUFDRTQ1QixRQUNDQSxDQUFBQSxLQUFLdGQsSUFBSSxLQUFLLGtCQUFrQnNkLEtBQUt0ZCxJQUFJLEtBQUssa0JBQy9DOztnQkFFQSxJQUFJLENBQUN3Z0QsZ0JBQWdCOztZQUd2QixJQUFJbGpDLFFBQVFBLEtBQUt0ZCxJQUFJLEtBQUssaUJBQWlCO2dCQUN6QyxJQUFJLENBQUN5Z0QscUJBQXFCLEdBQUduakM7Z0JBQzdCLElBQUksQ0FBQ29pQyxVQUFVLENBQUM7O1lBR2xCLElBQUlwaUMsUUFBUUEsS0FBS3RkLElBQUksS0FBSyxzQkFBc0JzZCxLQUFLcnFCLEtBQUssRUFBRTtnQkFDMUQsTUFBTSxFQUFFM1QsSUFBSSxFQUFFLEdBQUdnK0IsS0FBS3JxQixLQUFLO2dCQUMzQixJQUFJLENBQUNteUIsU0FBUyxHQUFHO2dCQUNqQixJQUFJLENBQUNzN0IsWUFBWSxHQUFHO2dCQUNwQixJQUFJLENBQUNDLG1CQUFtQixJQUFJO2dCQUM1QixJQUNFcmhFLFNBQVN3VSxXQUFXQyxhQUFhLElBQ2pDLENBQUMsSUFBSSxDQUFDa3JELE1BQU0sQ0FBQzJCLFlBQVksQ0FBQ0MsUUFBUSxJQUNsQztvQkFDQTM2QyxhQUFhLElBQUksQ0FBQzQ2Qyx5QkFBeUI7b0JBQzNDLElBQUksQ0FBQzVCLElBQUksQ0FDUDtvQkFFRixJQUFJLENBQUNTLFVBQVUsQ0FBQzt3QkFBRW9CLGNBQWM7b0JBQUk7OztZQUl4QyxJQUFJempDLE1BQU07Z0JBQ1JBLEtBQUswakMsV0FBVyxHQUFHLElBQUl0OUQ7Z0JBQ3ZCLElBQUksQ0FBQ3U3RCxNQUFNLENBQUMxWixhQUFhLENBQUNqb0I7O1lBRTVCLElBQUksQ0FBQ3VYLHVCQUF1QjtRQUM5QjtRQUVBLEtBQUFvc0IsT0FBTyxHQUFHLENBQUNuQixNQUFjMzJDO1lBQ3ZCLElBQUksSUFBSSxDQUFDMjJDLElBQUksS0FBS0EsTUFBTTtZQUV4QixJQUFJLENBQUNaLElBQUksQ0FBQyxvQ0FBb0MvMUMsTUFBTTdwQixJQUFJLEVBQUU7Z0JBQUU2cEI7Z0JBQU8yMkM7WUFBSTtZQUV2RSxJQUFJMzJDLE1BQU03cEIsSUFBSSxLQUFLd1UsV0FBV0UsaUJBQWlCLEVBQUU7OztnQkFHL0MsTUFBTWYsUUFBUSxJQUFJOVQsTUFDaEIsQ0FBbUMsa0NBQUFncUIsTUFBTXNiLE1BQU0sQ0FBRTs7Z0JBSW5EeHhCLE1BQU13eEIsTUFBTSxHQUFHdGIsTUFBTXNiLE1BQU07O2dCQUUzQnh4QixNQUFNM1QsSUFBSSxHQUFHNnBCLE1BQU03cEIsSUFBSTs7Z0JBRXZCMlQsTUFBTWl1RCxRQUFRLEdBQUcvM0MsTUFBTSszQyxRQUFROztnQkFFL0JqdUQsTUFBTTNSLE1BQU0sR0FBRzZuQixNQUFNN25CLE1BQU07Z0JBRTNCLElBQUksQ0FBQysrRCxvQkFBb0IsR0FBR3B0RDtnQkFDNUIsSUFBSSxDQUFDaXNELElBQUksQ0FBQywrQ0FBK0MvMUMsTUFBTXNiLE1BQU0sRUFBRSxFQUFFO29CQUN2RXRiO2dCQUNEO21CQUNJO2dCQUNMLElBQUksQ0FBQ3czQyxtQkFBbUIsSUFBSTtnQkFDNUIsSUFBSSxDQUFDUSxhQUFhLElBQUk7Z0JBQ3RCLElBQUksQ0FBQ3pCLFVBQVUsQ0FBQztnQkFDaEIsSUFBSSxDQUFDZ0IsWUFBWSxHQUFHO2dCQUVwQixJQUFJLENBQUNMLG9CQUFvQixHQUFHLElBQUksQ0FBQ0MsaUJBQWlCLENBQUNuM0M7Z0JBRW5ELElBQUksQ0FBQysxQyxJQUFJLENBQUMseURBQXlELEVBQUU7b0JBQ25FLzFDO2dCQUNEOztnQkFHRCxJQUFJLENBQUN3MkMsVUFBVTs7UUFFbkI7UUFFQSxLQUFBeUIsT0FBTyxHQUFHLENBQUN0QixNQUFjMzJDO1lBQ3ZCLElBQUksSUFBSSxDQUFDMjJDLElBQUksS0FBS0EsTUFBTTtZQUV4QixJQUFJLENBQUNhLG1CQUFtQixJQUFJO1lBQzVCLElBQUksQ0FBQ1EsYUFBYSxJQUFJO1lBQ3RCLElBQUksQ0FBQ3pCLFVBQVUsQ0FBQztZQUNoQixJQUFJLENBQUNnQixZQUFZLEdBQUc7WUFDcEIsSUFBSSxDQUFDTCxvQkFBb0IsR0FBRyxJQUFJbGhFLE1BQU0sb0JBQW9CZ3FCLE1BQUssQ0FBRTtZQUNqRSxJQUFJLENBQUMrMUMsSUFBSSxDQUFDLCtDQUErQyxFQUFFO2dCQUFFLzFDO1lBQUs7WUFFbEUsSUFBSSxDQUFDdzJDLFVBQVU7UUFDakI7UUFFQTs7Ozs7O1NBTUcsR0FDSCxJQUFVLENBQUFELFVBQUEsR0FBRyxDQUFDMkIsU0FBa0JDLHNCQUFzQixLQUFLO1lBQ3pELElBQUlELFlBQVksSUFBSSxDQUFDajhCLFNBQVMsRUFBRTtZQUVoQyxJQUFJLENBQUNBLFNBQVMsR0FBR2k4QjtZQUVqQixJQUFJLElBQUksQ0FBQ2o4QixTQUFTLElBQUlrOEIscUJBQXFCO2dCQUN6QyxJQUFJLENBQUNyQyxNQUFNLENBQUMxWixhQUFhLENBQUM7b0JBQ3hCdmxDLE1BQU07b0JBQ04rMkIsUUFBUSxJQUFJLENBQUMzUixTQUFTO2dCQUN2QjtnQkFDRDs7O1lBSUYzeEIsV0FBVztnQkFDVCxJQUFJLElBQUksQ0FBQzJ4QixTQUFTLEVBQUU7Z0JBQ3BCLElBQUksQ0FBQzY1QixNQUFNLENBQUMxWixhQUFhLENBQUM7b0JBQ3hCdmxDLE1BQU07b0JBQ04rMkIsUUFBUSxJQUFJLENBQUMzUixTQUFTO2dCQUN2QjtlQUNBO1FBQ0w7UUFFQTs7U0FFRyxHQUNLLElBQWlCLENBQUFrN0IsaUJBQUEsR0FBRyxDQUMxQm4zQyxPQUNBbzRDLGNBQWMsSUFBSTtZQUVsQixJQUFJamlFO1lBQ0osSUFBSWtpRTtZQUNKLElBQUluaUU7WUFDSixJQUFJd1csYUFBYXNULFFBQVE7Z0JBQ3ZCN3BCLE9BQU82cEIsTUFBTTdwQixJQUFJO2dCQUNqQkQsVUFBVThwQixNQUFNc2IsTUFBTTtnQkFDdEIrOEIsYUFBYTttQkFDUjtnQkFDTCxNQUFNLEVBQUV2dUQsS0FBSyxFQUFFLEdBQUdrVztnQkFDbEI3cEIsT0FBTzJULE1BQU0zVCxJQUFJO2dCQUNqQkQsVUFBVTRULE1BQU01VCxPQUFPO2dCQUN2Qm1pRSxhQUFhdnVELE1BQU13dUQsVUFBVTs7WUFHL0IsTUFBTWorRCxNQUFNLENBQXdCLHVCQUFBbEUsS0FBSSxJQUFLeS9ELGFBQWEsQ0FBQ3ovRCxLQUFLLElBQUlBLEtBQW9CLGVBQUFELFFBQU8sQ0FBRTtZQUNqRyxJQUFJLENBQUM2L0QsSUFBSSxDQUFDMTdELEtBQUs7Z0JBQUUybEI7WUFBSyxHQUFJO1lBQzFCLE1BQU1sVyxRQUFRLElBQUk5VCxNQUFNcUU7WUFLeEJ5UCxNQUFNM1QsSUFBSSxHQUFHQTtZQUNiOzs7YUFHRyxHQUNIMlQsTUFBTXd1RCxVQUFVLEdBQUdEO1lBQ25CdnVELE1BQU1zdUQsV0FBVyxHQUFHQTtZQUNwQixPQUFPdHVEO1FBQ1Q7UUFrQkE7O1NBRUcsR0FDSCxJQUF1QixDQUFBeXVELHVCQUFBLEdBQUc7WUFDeEIsSUFBSSxDQUFDdEIsd0JBQXdCLEdBQUc7cUVBRWhDLElBQUksQ0FBQ3VCLGtCQUFrQixHQUFHN3dCLGdCQUN4QixJQUFJdjlCLFFBQXdCLENBQUNvSyxTQUFTMHpCO2dCQUNwQyxJQUFJLENBQUNvdkIscUJBQXFCLEdBQUc5aUQ7Z0JBQzdCLElBQUksQ0FBQzBpRCxvQkFBb0IsR0FBR2h2Qjs7UUFHbEM7UUFNQTs7U0FFRyxHQUNILElBQWdCLENBQUFtdkIsZ0JBQUEsR0FBRztZQUNqQixNQUFNOXBCLFNBQVNoRDtZQUNmLElBQUksSUFBSSxDQUFDa3VCLHFCQUFxQixFQUFFO2dCQUM5QmxyQixPQUFPeHdCLFlBQVksQ0FBQyxJQUFJLENBQUMwN0MscUJBQXFCOzs7WUFJaEQsSUFBSSxDQUFDQSxxQkFBcUIsR0FBR2xyQixPQUFPampDLFVBQVUsQ0FBQzs7Z0JBRTdDLE1BQU02cEIsT0FBTztvQkFBQzt3QkFBRXRkLE1BQU07d0JBQWdCNmhELFdBQVcsSUFBSSxDQUFDNUMsTUFBTSxDQUFDNkMsUUFBUTtvQkFBQTtpQkFBRzs7Z0JBRXhFLElBQUk7b0JBQ0YsSUFBSSxDQUFDOXhCLEVBQUUsRUFBRW9HLEtBQUtsNkIsS0FBS3FpQixTQUFTLENBQUNqQjtrQkFDN0IsT0FBTTs7O1lBR1YsR0FBRyxJQUFJLENBQUN5a0MsWUFBWTtRQUN0QjtRQUVBOzs7O1NBSUcsR0FDSCxJQUF1QixDQUFBbHRCLHVCQUFBLEdBQUc7WUFDeEIzdUIsYUFBYSxJQUFJLENBQUM0NkMseUJBQXlCO1lBQzNDLElBQUksQ0FBQ0EseUJBQXlCLEdBQUdydEQsV0FBVztnQkFDMUMsTUFBTWxRLE1BQU0sSUFBSUc7Z0JBQ2hCLElBQ0UsSUFBSSxDQUFDNjhELFNBQVMsSUFDZGg5RCxJQUFJZ0IsT0FBTyxLQUFLLElBQUksQ0FBQ2c4RCxTQUFTLENBQUNoOEQsT0FBTyxLQUFLLElBQUksQ0FBQzZ3QyxzQkFBc0IsRUFDdEU7b0JBQ0EsSUFBSSxDQUFDOHBCLElBQUksQ0FBQztvQkFDVixJQUFJLENBQUNRLFVBQVUsQ0FBQztvQkFDaEIsSUFBSSxDQUFDQyxVQUFVOztZQUVuQixHQUFHLElBQUksQ0FBQ3ZxQixzQkFBc0I7UUFDaEM7UUExcEJFLElBQUksQ0FBQzZwQixNQUFNLEdBQUdBOzBFQUVkLElBQUksQ0FBQzBCLG1CQUFtQixHQUFHOzBEQUUzQixJQUFJLENBQUNRLGFBQWEsR0FBRztzRUFFckIsSUFBSSxDQUFDVCxZQUFZLEdBQUc7NERBRXBCLElBQUksQ0FBQ3NCLGNBQWMsR0FBRzs0RUFFdEIsSUFBSSxDQUFDNUIsd0JBQXdCLEdBQUc7b0ZBRWhDLElBQUksQ0FBQ2g3QixTQUFTLEdBQUc7NERBRWpCLElBQUksQ0FBQzA2QixJQUFJLEdBQUc7MkRBRVosSUFBSSxDQUFDUyxTQUFTLEdBQUc7NERBRWpCLElBQUksQ0FBQ3dCLFlBQVksR0FBRyxLQUFLO1FBQ3pCLElBQUksQ0FBQzNzQixzQkFBc0IsR0FBRyxJQUFJLENBQUMyc0IsWUFBWSxHQUFHLEtBQUs7UUFFdkQxc0QsNEJBQTRCLElBQUksQ0FBQ29xRCxtQkFBbUI7O0lBV3REOzs7O0tBSUcsR0FDSCxNQUFNN2UsUUFBUWp2QyxVQUFVLEtBQUs7UUFDM0IsSUFBSSxJQUFJLENBQUMrdUQsWUFBWSxFQUFFO1lBQ3JCLE1BQU12aEUsTUFDSixDQUF3RTs7UUFJNUUsSUFBSSxDQUFDNmlFLGNBQWMsR0FBRztRQUV0QixJQUFJO1lBQ0YsTUFBTUMsY0FBYyxNQUFNLElBQUksQ0FBQ0MsUUFBUTtZQUN2QyxJQUFJLENBQUN2QixtQkFBbUIsR0FBRztZQUUzQixJQUFJLENBQUN6QixJQUFJLENBQ1AsMkRBQTJEK0MsWUFBVyxDQUFFO1VBRTFFLE9BQU9odkQsT0FBTztZQUNkLElBQUksQ0FBQ215QixTQUFTLEdBQUc7WUFDakIsSUFBSSxDQUFDdTdCLG1CQUFtQixJQUFJO1lBRTVCO1lBRUUxdEQsTUFBTTNULElBQUksS0FBS3dVLFdBQVdDLGFBQWEsSUFDdkMsQ0FBQyxJQUFJLENBQUNrckQsTUFBTSxDQUFDMkIsWUFBWSxDQUFDQyxRQUFRLElBQ2xDO2dCQUNBLElBQUksQ0FBQzNCLElBQUksQ0FDUDtnQkFFRixJQUFJLENBQUNTLFVBQVUsQ0FBQztvQkFBRW9CLGNBQWM7Z0JBQUk7bUJBQy9COztnQkFFTCxJQUFJLENBQUM5dEQsTUFBTXN1RCxXQUFXLEVBQUU7O29CQUV0QixNQUFNLElBQUlwaUUsTUFDUitjLEtBQUtxaUIsU0FBUyxDQUFDOzt3QkFFYmovQixNQUFNMlQsTUFBTTNULElBQUk7O3dCQUVoQm1pRSxZQUFZeHVELE1BQU13dUQsVUFBVTs7d0JBRTVCcGlFLFNBQVM0VCxNQUFNNVQsT0FBTzs7d0JBRXRCa2lFLGFBQWF0dUQsTUFBTXN1RCxXQUFXO29CQUMvQjs7OztRQU1ULE9BQU8sTUFBTSxJQUFJLENBQUNZLGVBQWUsQ0FBQ3h3RDs7SUFHcEM7Ozs7S0FJRyxHQUNILE1BQU13d0QsZ0JBQWdCeHdELFVBQVUsS0FBSztRQUNuQyxPQUFPNEIsUUFBUXdoQyxJQUFJLENBQUM7WUFDakI7Z0JBQ0MsTUFBTTZxQixXQUFXLElBQUc7Z0JBQ3BCLElBQUssSUFBSW5yRCxJQUFJLEdBQUdBLEtBQUs5QyxTQUFTOEMsS0FBS21yRCxTQUFVO29CQUMzQyxJQUFJO3dCQUNGLE9BQU8sTUFBTSxJQUFJLENBQUN3QyxjQUFjO3NCQUNoQyxPQUFPbnZELE9BQVk7d0JBQ25CLElBQUl3QixNQUFNOUMsU0FBUzs0QkFDakIsTUFBTSxJQUFJeFMsTUFDUitjLEtBQUtxaUIsU0FBUyxDQUFDO2dDQUNiai9CLE1BQU0yVCxNQUFNM1QsSUFBSTtnQ0FDaEJtaUUsWUFBWXh1RCxNQUFNd3VELFVBQVU7Z0NBQzVCcGlFLFNBQVM0VCxNQUFNNVQsT0FBTztnQ0FDdEJraUUsYUFBYXR1RCxNQUFNc3VELFdBQVc7NEJBQy9COzt3QkFHTCxNQUFNbHVELE1BQU11c0Q7OztZQUdsQjtZQUNDO2dCQUNDLE1BQU12c0QsTUFBTTFCO2dCQUNaLElBQUksQ0FBQyt1RCxZQUFZLEdBQUc7Z0JBQ3BCLE1BQU0sSUFBSXZoRSxNQUNSK2MsS0FBS3FpQixTQUFTLENBQUM7b0JBQ2JqL0IsTUFBTTtvQkFDTm1pRSxZQUFZO29CQUNacGlFLFNBQVM7b0JBQ1RraUUsYUFBYTtnQkFDZDtZQUVMO1NBQ0Q7O0lBaUJIOzs7S0FHRyxHQUNIM2xCLFdBQVdqcUMsT0FBZ0I7UUFDekIsSUFBSSxDQUFDdXRELElBQUksQ0FDUCw0REFBNEQsSUFBSSxDQUFDWSxJQUFJLENBQUU7UUFHekUsSUFBSSxDQUFDQSxJQUFJLElBQUk7UUFDYixJQUFJLENBQUNZLFlBQVksR0FBRztRQUNwQixJQUFJLENBQUNzQixjQUFjLEdBQUc7O1FBR3RCLElBQUksSUFBSSxDQUFDSixxQkFBcUIsRUFBRTtZQUM5Qmx1QixZQUFZeFUsYUFBYSxDQUFDLElBQUksQ0FBQzBpQyxxQkFBcUI7O1FBRXRELElBQUksSUFBSSxDQUFDZCx5QkFBeUIsRUFBRTtZQUNsQzVoQyxjQUFjLElBQUksQ0FBQzRoQyx5QkFBeUI7O1FBRzlDcnJELCtCQUErQixJQUFJLENBQUNncUQsbUJBQW1CO1FBRXZELElBQUksQ0FBQ3I2QixTQUFTLEdBQUc7UUFFakIsSUFBSWk5Qjs7OztRQUlKLE1BQU0sRUFBRXJ5QixFQUFFLEVBQUUsR0FBRyxJQUFJO1FBQ25CLElBQUlBLE1BQU1BLEdBQUdoM0IsS0FBSyxJQUFJZzNCLEdBQUc1YyxVQUFVLEtBQUs0YyxHQUFHdUYsSUFBSSxFQUFFO1lBQy9DOHNCLGtCQUFrQixJQUFJOXVELFFBQVEsQ0FBQ29LO2dCQUM3QixNQUFNc2pELFVBQVUsQ0FBQzkzQztvQkFDZixJQUFJLENBQUMrMUMsSUFBSSxDQUNQLDRDQUNFLzFDLFFBQVEsU0FBUyxVQUNMLGVBQ2Q7d0JBQUVBO29CQUFLO29CQUVUeEw7Z0JBQ0Y7Z0JBRUFxeUIsR0FBR2l4QixPQUFPLEdBQUdBOzs7Z0JBR2J4dEQsV0FBV3d0RCxTQUFTdHZELFdBQVcsT0FBT0EsVUFBVTtZQUNsRDtZQUVBLElBQUksQ0FBQ3V0RCxJQUFJLENBQ1AsMEVBQTBFO1lBRzVFbHZCLEdBQUdoM0IsS0FBSyxDQUNObEYsV0FBV0UsaUJBQWlCLEVBQzVCO2VBRUc7WUFDTCxJQUFJLENBQUNrckQsSUFBSSxDQUNQLHFFQUFxRTtZQUV2RW1ELGtCQUFrQjl1RCxRQUFRb0ssT0FBTzs7UUFHbkMsT0FBTyxJQUFJLENBQUNxeUIsRUFBRTtRQUVkLE9BQU9xeUI7O0lBR1Q7Ozs7S0FJRyxHQUNILE1BQU1ILFdBQVE7UUFDWixJQUFJLElBQUksQ0FBQ3hCLFlBQVksRUFBRSxRQUFPO1FBQzlCLElBQUksQ0FBQ0EsWUFBWSxHQUFHO1FBQ3BCLElBQUk0QixlQUFlO1FBQ25CLElBQUk7WUFDRixJQUFJLENBQUNwRCxJQUFJLENBQUMsZ0NBQWdDO1lBQzFDLE1BQU0sSUFBSSxDQUFDRCxNQUFNLENBQUMyQixZQUFZLENBQUMyQixVQUFVO1lBQ3pDRCxlQUFlO1VBQ2YsT0FBTTs7O1FBSVIsSUFBSTtZQUNGLElBQUksQ0FBQ0EsY0FBYztnQkFDakIsSUFBSSxDQUFDcEQsSUFBSSxDQUNQLDZEQUE2RDtnQkFFL0QsTUFBTSxJQUFJLENBQUNELE1BQU0sQ0FBQzJCLFlBQVksQ0FBQzRCLFNBQVM7O1lBRzFDLElBQUksQ0FBQyxJQUFJLENBQUN2RCxNQUFNLENBQUN3RCw0QkFBNEIsRUFBRTtnQkFDN0MsSUFBSSxDQUFDeEQsTUFBTSxDQUFDeUQseUJBQXlCOztZQUV2QyxJQUFJLENBQUNoQix1QkFBdUI7WUFDNUIsTUFBTWlCLFFBQVEsSUFBSSxDQUFDdkQsU0FBUztZQUM1QixJQUFJLENBQUNGLElBQUksQ0FBQyw4QkFBOEJ5RCxNQUFLLENBQUU7WUFDL0MsTUFBTUMsS0FBSyxJQUFJLENBQUMzRCxNQUFNLENBQUNwK0QsT0FBTyxDQUFDZ2lFLGFBQWEsSUFBSTV5QjtZQUNoRCxJQUFJLENBQUNELEVBQUUsR0FBRyxJQUFJNHlCLEdBQUdEO1lBQ2pCLElBQUksQ0FBQzN5QixFQUFFLENBQUM2dkIsTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTSxDQUFDN3FELElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDOHFELElBQUk7WUFDakQsSUFBSSxDQUFDOXZCLEVBQUUsQ0FBQ2l4QixPQUFPLEdBQUcsSUFBSSxDQUFDQSxPQUFPLENBQUNqc0QsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUM4cUQsSUFBSTtZQUNuRCxJQUFJLENBQUM5dkIsRUFBRSxDQUFDb3hCLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU8sQ0FBQ3BzRCxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQzhxRCxJQUFJO1lBQ25ELElBQUksQ0FBQzl2QixFQUFFLENBQUNtd0IsU0FBUyxHQUFHLElBQUksQ0FBQ0EsU0FBUyxDQUFDbnJELElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDOHFELElBQUk7WUFDdkQsTUFBTXRnRSxXQUFXLE1BQU0sSUFBSSxDQUFDNGlFLGNBQWM7WUFDMUMsSUFBSSxDQUFDMUIsWUFBWSxHQUFHO1lBRXBCLElBQUlsaEUsVUFBVTtnQkFDWixJQUFJLENBQUNzakUsWUFBWSxHQUFHdGpFLFNBQVN1akUsYUFBYTtnQkFDMUMsSUFBSSxDQUFDOUQsTUFBTSxDQUFDK0QsbUJBQW1CLEdBQUcsSUFBSSxDQUFDRixZQUFZO2dCQUNuRCxPQUFPdGpFOztVQUVULE9BQU9vVCxLQUFLO1lBQ1osSUFBSSxDQUFDcXNELE1BQU0sQ0FBQ3lELHlCQUF5QjtZQUNyQyxJQUFJLENBQUNoQyxZQUFZLEdBQUc7O1lBRXBCLElBQUksQ0FBQ3hCLElBQUksQ0FBQyx1QkFBdUIsRUFBRXRzRDtZQUNuQyxJQUFJLENBQUNxc0QsTUFBTSxDQUFDZ0Usa0JBQWtCLEdBQUdyd0Q7WUFDakMsTUFBTUE7OztJQUlWOzs7Ozs7O0tBT0csR0FDSCxNQUFNK3NELFdBQ0o5K0QsVUFBeUQsRUFBRTtRQUUzRCxJQUFJLENBQUNxK0QsSUFBSSxDQUFDOztRQUdWLElBQUksSUFBSSxDQUFDd0IsWUFBWSxJQUFJLElBQUksQ0FBQ3Q3QixTQUFTLEVBQUU7WUFDdkMsSUFBSSxDQUFDODVCLElBQUksQ0FBQztZQUNWOzs7O1FBS0YsSUFBSVUsV0FBVy8rRCxRQUFRKytELFFBQVE7UUFDL0IsSUFBSSxDQUFDQSxVQUFVO1lBQ2JBLFdBQVczckQsY0FBYyxJQUFJLENBQUMwc0QsbUJBQW1COzs7UUFHbkQsTUFBTXR0RCxNQUFNdXNEOzs7UUFJWixJQUFJLElBQUksQ0FBQ2MsWUFBWSxJQUFJLElBQUksQ0FBQ3Q3QixTQUFTLEVBQUU7WUFDdkMsSUFBSSxDQUFDODVCLElBQUksQ0FBQztZQUNWOztRQUdGLElBQUksSUFBSSxDQUFDOEMsY0FBYyxFQUFFO1lBQ3ZCLElBQUksQ0FBQzlDLElBQUksQ0FBQztZQUNWOztRQUdGLElBQUksQ0FBQ0EsSUFBSSxDQUFDOztRQUdWLElBQUksQ0FBQ2dFLDJCQUEyQjtRQUVoQyxJQUFJcmlFLFFBQVFrZ0UsWUFBWSxFQUFFO1lBQ3hCLE1BQU0sSUFBSSxDQUFDOUIsTUFBTSxDQUFDMkIsWUFBWSxDQUFDNEIsU0FBUzs7UUFHMUMsSUFBSTtZQUNGLE1BQU0sSUFBSSxDQUFDTixRQUFRO1lBQ25CLElBQUksQ0FBQ2hELElBQUksQ0FBQzs7WUFFVixJQUFJLENBQUNBLElBQUksQ0FBQztZQUVWLElBQUksQ0FBQ3lCLG1CQUFtQixHQUFHO1VBQzNCLE9BQU8xdEQsT0FBWTtZQUNuQixJQUFJLENBQUNteUIsU0FBUyxHQUFHO1lBQ2pCLElBQUksQ0FBQ3U3QixtQkFBbUIsSUFBSTtZQUM1QixJQUNFMXRELE1BQU0zVCxJQUFJLEtBQUt3VSxXQUFXQyxhQUFhLElBQ3ZDLENBQUMsSUFBSSxDQUFDa3JELE1BQU0sQ0FBQzJCLFlBQVksQ0FBQ0MsUUFBUSxJQUNsQztnQkFDQSxJQUFJLENBQUMzQixJQUFJLENBQ1A7Z0JBR0YsT0FBTyxJQUFJLENBQUNTLFVBQVUsQ0FBQztvQkFBRW9CLGNBQWM7Z0JBQUk7OztZQUk3QyxJQUFJOXRELE1BQU1zdUQsV0FBVyxFQUFFO2dCQUNyQixJQUFJLENBQUNyQyxJQUFJLENBQUM7Z0JBRVYsSUFBSSxDQUFDUyxVQUFVOzs7UUFHbkIsSUFBSSxDQUFDVCxJQUFJLENBQUM7O0lBdVBaOzs7S0FHRyxHQUNIZ0UsOEJBQTJCOzs7UUFHekIsSUFBSSxDQUFDcEQsSUFBSSxJQUFJO1FBRWIsSUFBSTtZQUNGLElBQUksRUFBRTl2QixJQUFJaDNCO1VBQ1YsT0FBTTs7OztJQW1CVixJQUFJb3BELGlCQUFjO1FBQ2hCLE9BQU8sSUFBSSxDQUFDVCxrQkFBa0I7O0FBNENqQztBQzV0QkssU0FBVXdCLGlCQUFpQmh0QixLQUFhO0lBQzVDLE1BQU1pdEIsWUFBWWp0QixNQUFNM2MsS0FBSyxDQUFDO0lBQzlCLElBQUk0cEMsVUFBVWwrRCxNQUFNLEtBQUssR0FBRztRQUMxQixPQUFPOztJQUVULE1BQU1tK0QsYUFBYUQsU0FBUyxDQUFDLEVBQUU7SUFDL0IsTUFBTXBvRCxVQUFVc29ELGFBQWFEO0lBQzdCLE1BQU0vbEMsT0FBT3BoQixLQUFLMVgsS0FBSyxDQUFDd1c7SUFDeEIsT0FBT3NpQixLQUFLalIsT0FBNkI7QUFDM0M7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNaTNDLGVBQWUsQ0FBQzl1RDtJQUNwQixNQUFNMkcsSUFBSSxJQUNSZ2UsSUFBSXNSLE9BQU84NEIsWUFBWSxFQUN2QkMsSUFBSWh2RCxFQUFFdFAsTUFBTTtJQUNkLElBQUl1UCxHQUNGd00sSUFBSSxHQUNKckIsR0FDQXluQixHQUNBdndCLElBQUksR0FDSmtLLEdBQ0F4TixJQUFJO0lBQ04sTUFBTWl3RCxJQUFJO0lBQ1YsSUFBS2h2RCxJQUFJLEdBQUdBLElBQUksSUFBSUEsSUFBSztRQUN2QjBHLENBQUMsQ0FBQ3NvRCxFQUFFQyxNQUFNLENBQUNqdkQsR0FBRyxHQUFHQTs7SUFFbkIsSUFBSzR5QixJQUFJLEdBQUdBLElBQUltOEIsR0FBR244QixJQUFLO1FBQ3RCem5CLElBQUl6RSxDQUFDLENBQUMzRyxFQUFFa3ZELE1BQU0sQ0FBQ3I4QixHQUFHO1FBQ2xCcG1CLElBQUksQ0FBQ0EsS0FBSyxLQUFLckI7UUFDZjlJLEtBQUs7UUFDTCxNQUFPQSxLQUFLLEVBQUc7WUFDYixJQUFJLENBQUNrSyxJQUFJLE1BQVFsSyxDQUFBQSxLQUFLLEtBQU0sU0FBU3V3QixJQUFJbThCLElBQUksR0FBR2h3RCxLQUFLMmxCLEVBQUVuWTs7O0lBRzNELE9BQU94TjtBQUNUO0FDbENBOzs7O0NBSUcsU0FDVW13RDtJQVNYdmtFLFlBQVl3a0UsTUFBZTtRQVJuQixJQUFnQixDQUFBQyxnQkFBQSxHQUEyQjtRQUMzQyxJQUFJLENBQUE3akQsSUFBQSxHQUEwQjtRQVd0Qzs7Ozs7OztTQU9HLEdBQ0gsSUFBa0IsQ0FBQThqRCxrQkFBQSxHQUFHLE9BQ25CQyxpQkFDQXhrRCxNQUNBODRDO1lBRUEsSUFBSSxDQUFDOTRDLElBQUksR0FBR0E7WUFDWixJQUFJLENBQUM4NEMsV0FBVyxHQUFHQTtZQUNuQixJQUFJLENBQUMyTCxhQUFhLENBQUNEO1lBRW5CLElBQUlyd0QsV0FBV3F3RCxrQkFBa0I7Z0JBQy9CLElBQUksQ0FBQ0UsYUFBYSxHQUFHRjtnQkFDckIsSUFBSSxDQUFDL2pELElBQUksR0FBRzs7WUFHZCxJQUFJLE9BQU8rakQsb0JBQW9CLFVBQVU7Z0JBQ3ZDLElBQUksQ0FBQzV0QixLQUFLLEdBQUc0dEI7Z0JBQ2IsSUFBSSxDQUFDL2pELElBQUksR0FBRzs7WUFHZCxNQUFNLElBQUksQ0FBQ3dpRCxTQUFTO1FBQ3RCO1FBRUE7OztTQUdHLEdBQ0gsSUFBSyxDQUFBMEIsS0FBQSxHQUFHO1lBQ04sSUFBSSxDQUFDL3RCLEtBQUssR0FBR2owQztZQUNiLElBQUksQ0FBQytoRSxhQUFhLEdBQUcvaEU7WUFDckIsSUFBSSxDQUFDOGQsSUFBSSxHQUFHO1lBQ1osSUFBSSxDQUFDVCxJQUFJLEdBQUdyZDtZQUNaLElBQUksQ0FBQzJoRSxnQkFBZ0IsR0FBRztRQUMxQjs7UUFHQSxLQUFBRyxhQUFhLEdBQUcsQ0FBQ0Q7O1lBRWYsSUFBSSxJQUFJLENBQUN4a0QsSUFBSSxJQUFJLElBQUksQ0FBQzg0QyxXQUFXLElBQUksQ0FBQzBMLGlCQUFpQjs7WUFHdkQsSUFBSSxDQUFDLElBQUksQ0FBQ0gsTUFBTSxJQUFJLENBQUNHLGlCQUFpQjtnQkFDcEMsTUFBTSxJQUFJNWtFLE1BQU07O1lBR2xCLElBQUksT0FBTzRrRSxvQkFBb0IsWUFBWSxDQUFDcndELFdBQVdxd0Qsa0JBQWtCO2dCQUN2RSxNQUFNLElBQUk1a0UsTUFBTTs7WUFHbEIsSUFBSSxPQUFPNGtFLG9CQUFvQixVQUFVOztnQkFFdkMsSUFBSSxJQUFJLENBQUMxTCxXQUFXLElBQUkwTCxvQkFBb0IsSUFBSTtnQkFFaEQsTUFBTUksY0FBY2hCLGlCQUFpQlk7Z0JBQ3JDLElBQ0VBLG1CQUFtQixRQUNsQkksQ0FBQUEsZUFBZSxRQUNkQSxnQkFBZ0IsTUFDZixDQUFDLElBQUksQ0FBQzlMLFdBQVcsSUFBSThMLGdCQUFnQixJQUFJLENBQUM1a0QsSUFBSyxDQUFDVSxFQUFFLEdBQ3JEO29CQUNBLE1BQU0sSUFBSTlnQixNQUNSOzs7UUFJUjs7O1FBSUEsS0FBQW9qRSxVQUFVLEdBQUcsSUFBTSxJQUFJLENBQUNzQixnQkFBZ0I7OztRQUl4QyxJQUFTLENBQUFyQixTQUFBLEdBQUc7WUFDVixJQUFJLENBQUNxQixnQkFBZ0IsR0FBRyxJQUFJdHdELFFBQVEsT0FBT29LLFNBQVMwekI7Z0JBQ2xELElBQUksSUFBSSxDQUFDcnhCLElBQUksS0FBSyxVQUFVO29CQUMxQixPQUFPckMsUUFBUSxJQUFJLENBQUN3NEIsS0FBZTs7Z0JBR3JDLElBQUksSUFBSSxDQUFDOHRCLGFBQWEsSUFBSSxPQUFPLElBQUksQ0FBQ0EsYUFBYSxLQUFLLFVBQVU7b0JBQ2hFLElBQUk7d0JBQ0YsTUFBTTl0QixRQUFRLE1BQU0sSUFBSSxDQUFDOHRCLGFBQWE7d0JBQ3RDLElBQUksQ0FBQ0QsYUFBYSxDQUFDN3RCO3dCQUNuQixJQUFJLENBQUNBLEtBQUssR0FBR0E7c0JBQ2IsT0FBT2g3QixHQUFHO3dCQUNWLE9BQU9rMkIsT0FDTCxJQUFJbHlDLE1BQU0sQ0FBOEMsNkNBQUFnYyxFQUFDLENBQUUsRUFBRTs0QkFDM0R1K0IsT0FBT3YrQjt3QkFDUjs7b0JBR0x3QyxRQUFRLElBQUksQ0FBQ3c0QixLQUFLOztZQUV0QjtZQUVBLE9BQU8sSUFBSSxDQUFDMHRCLGdCQUFnQjtRQUM5Qjs7UUFHQSxJQUFRLENBQUFPLFFBQUEsR0FBRztZQUNULElBQUksSUFBSSxDQUFDanVCLEtBQUssRUFBRTtnQkFDZCxPQUFPLElBQUksQ0FBQ0EsS0FBSzs7WUFHbkIsSUFBSSxJQUFJLENBQUM1MkIsSUFBSSxJQUFJLENBQUMsSUFBSSxDQUFDNDJCLEtBQUssRUFBRTtnQkFDNUIsT0FBTyxJQUFJLENBQUNBLEtBQUs7O1lBR25CLE1BQU0sSUFBSWgzQyxNQUNSLGdHQUFnRztRQUVwRztRQUVBLElBQVEsQ0FBQTBoRSxRQUFBLEdBQUcsSUFBTSxJQUFJLENBQUM3Z0QsSUFBSSxLQUFLO1FBM0g3QixJQUFJLENBQUM0akQsTUFBTSxHQUFHQTs7QUE0SGpCO0FDN0lNLE1BQU1yTCxrQkFBa0IsT0FDN0I4TCxVQUFVLG1DQUFtQyxFQUM3QzF5RCxVQUFVLElBQUksRUFDZDJ5RCxjQUFjLENBQUM7SUFFZixNQUFNbHlELFNBQVM4RSxVQUFVO1FBQUM7S0FBZ0I7SUFFMUMsSUFBSVUsVUFBVTtJQUNkLElBQUkyc0QsZUFBZTtJQUNuQixHQUFHO1FBQ0QsTUFBTWp3QixrQkFBa0IsSUFBSTUyQjtRQUM1QixNQUFNOFksWUFBWS9pQixXQUFXLElBQU02Z0MsZ0JBQWdCMTJCLEtBQUssSUFBSWpNO1FBQzVELElBQUk7WUFDRixNQUFNblMsV0FBVyxNQUFNZ2xFLE1BQU1ILFNBQVM7Z0JBQ3BDenpELFFBQVE7Z0JBQ1IrRyxRQUFRMjhCLGdCQUFnQjM4QixNQUFNO1lBQy9CO1lBQ0QsTUFBTThzRCxTQUFTamxFLFNBQVN1UyxPQUFPLENBQUNnTCxHQUFHLENBQUMsbUJBQW1CO1lBQ3ZEM0ssT0FBTyxTQUFTLG9CQUFvQnF5RCxPQUFNLENBQUU7WUFDNUNGLGVBQWVFLE9BQU85L0QsU0FBUyxDQUFDLEdBQUcsSUFBRztVQUN0QyxPQUFPd1csR0FBRztZQUNWL0ksT0FBTyxRQUFRLG9DQUFvQ2l5RCxRQUFTLEdBQUVscEQ7WUFDOURvcEQsZUFBZTtpQkFDUDtZQUNScitDLGFBQWFzUTs7WUFFUit0QyxpQkFBaUIsU0FBUyxFQUFFM3NELFVBQVUwc0QsYUFBVztJQUUxRCxPQUFPQztBQUNUO01DV2FHO0lBa0NYOzs7Ozs7Ozs7OztLQVdHLEdBQ0h0bEUsWUFBWVUsR0FBVyxFQUFFZSxPQUE2QjtRQXJDdEQsSUFBUyxDQUFBb2EsU0FBQSxHQUVMO1FBd0dKLElBQVcsQ0FBQXFrRCxXQUFBLEdBQUc7WUFDWixPQUFPLElBQUksQ0FBQ3B6QyxTQUFTLEdBQUcsY0FBYztRQUN4QztRQUVBLEtBQUF5NEMsVUFBVSxHQUFHLENBQUNDO1lBQ1osSUFBSSxDQUFDQSxPQUFPLEdBQUdBO1lBQ2YsSUFBSSxDQUFDcEYsU0FBUyxHQUFHLElBQUksQ0FBQ29GLE9BQUEsQ0FDbkIvL0QsT0FBTyxDQUFDLFFBQVEsTUFDaEJBLE9BQU8sQ0FBQyxTQUFTO1FBQ3RCO1FBRUEsS0FBQTB6RCxlQUFlLEdBQUcsT0FDaEI4TCxTQUNBMXlEO1lBRUEsTUFBTWt6RCxPQUFPLE1BQU0sSUFBSSxDQUFDTixZQUFZO1lBQ3BDLElBQUksQ0FBQ00sUUFBUUEsU0FBUyxPQUFPO2dCQUMzQixJQUFJLENBQUNOLFlBQVksR0FBR2hNLGdCQUNsQjhMLFdBQVcsSUFBSSxDQUFDeGpFLE9BQU8sQ0FBQ2lrRSxlQUFlLEVBQ3ZDbnpELFdBQVcsSUFBSSxDQUFDOVEsT0FBTyxDQUFDa2tFLG1CQUFtQjtnQkFFN0MsT0FBTyxJQUFJLENBQUNSLFlBQVk7O1lBRTFCLE9BQU9NO1FBQ1Q7UUFFQSxJQUFnQixDQUFBRyxnQkFBQSxHQUFHLElBQU0sSUFBSSxDQUFDQyxZQUFZLEVBQUVuQztRQUU1QyxJQUFnQixDQUFBN04sZ0JBQUEsR0FBRyxJQUFNMTlDLFFBQVEsSUFBSSxDQUFDeXRELGdCQUFnQjtRQUV0RDs7Ozs7OztTQU9HLEdBQ0gsS0FBQUUsV0FBVyxHQUFHLE9BQ1ozbEQsTUFDQXdrRDtZQUVBLElBQUksQ0FBQ3hrRCxLQUFLVSxFQUFFLEVBQUU7Z0JBQ1osTUFBTSxJQUFJOWdCLE1BQU07O1lBR2xCOzs7YUFHRyxHQUNILElBQUksSUFBSSxDQUFDZ21FLE1BQU0sS0FBSzVsRCxLQUFLVSxFQUFFLElBQUksSUFBSSxDQUFDbWxELGVBQWUsRUFBRTtnQkFDbkQsSUFBSSxDQUFDaHpELE1BQU0sQ0FDVCxRQUNBO2dCQUVGLE9BQU8sSUFBSSxDQUFDZ3pELGVBQWU7O1lBRzdCLElBQUksSUFBSSxDQUFDRCxNQUFNLEVBQUU7Z0JBQ2YsTUFBTSxJQUFJaG1FLE1BQ1I7O1lBSUosSUFBSSxDQUFDLElBQUksQ0FBQ3lrRSxNQUFNLElBQUksSUFBSSxDQUFDeUIsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDeGtFLE9BQU8sQ0FBQ3lrRSxzQkFBc0IsRUFBRTtnQkFDdEUsSUFBSSxDQUFDbHpELE1BQU0sQ0FDVCxRQUNBOzs7WUFLSixJQUFJLENBQUMreUQsTUFBTSxHQUFHNWxELEtBQUtVLEVBQUU7WUFDckIsSUFBSSxDQUFDaU0sU0FBUyxHQUFHO1lBQ2pCLE1BQU0sSUFBSSxDQUFDMDBDLFlBQVksQ0FBQ2tELGtCQUFrQixDQUFDQyxpQkFBaUJ4a0QsTUFBTTtZQUNsRSxJQUFJLENBQUNnbUQsUUFBUSxDQUFDaG1EO1lBRWQsSUFBSSxDQUFDNmxELGVBQWUsR0FBRyxJQUFJLENBQUNJLGNBQWM7WUFFMUMsSUFBSTtnQkFDRm53RCw0QkFBNEIsSUFBSSxDQUFDb3dELDZCQUE2QjtnQkFDOUQsT0FBTyxNQUFNLElBQUksQ0FBQ0wsZUFBZTtjQUNqQyxPQUFPeHlELEtBQUs7Z0JBQ1osSUFBSSxJQUFJLENBQUM4eUQsOEJBQThCLEVBQUU7O29CQUV2QyxNQUFNLElBQUksQ0FBQ0MsZUFBZTt1QkFDckI7b0JBQ0wsTUFBTSxJQUFJLENBQUNDLGNBQWM7O2dCQUUzQixNQUFNaHpEOztRQUVWO1FBRUEsS0FBQTJ5RCxRQUFRLEdBQUcsQ0FBQ2htRDtZQUNWOzs7YUFHRyxHQUNILElBQUksQ0FBQ0EsSUFBSSxHQUFHQTtZQUNaLElBQUksQ0FBQzRsRCxNQUFNLEdBQUc1bEQsS0FBS1UsRUFBRTs7WUFFckIsSUFBSSxDQUFDNGxELEtBQUssR0FBRztnQkFBRSxHQUFHdG1ELElBQUk7WUFBQTtRQUN4QjtRQUVBOzs7Ozs7Ozs7Ozs7U0FZRyxHQUNILEtBQUFvbUQsZUFBZSxHQUFHLE9BQU9oMEQ7WUFDdkIsTUFBTSxJQUFJLENBQUNzekQsWUFBWSxFQUFFcnBCLFdBQVdqcUM7UUFDdEM7UUFFQTs7U0FFRyxHQUNILElBQWMsQ0FBQTZ6RCxjQUFBLEdBQUc7WUFDZixJQUFJLENBQUMsSUFBSSxDQUFDTCxNQUFNLEVBQUU7Z0JBQ2hCLE1BQU1obUUsTUFDSjs7WUFJSixNQUFNMm1FLFlBQVksSUFBSSxDQUFDQyxhQUFhO1lBQ3BDLElBQUksSUFBSSxDQUFDZCxZQUFZLEVBQUV2RSxnQkFBZ0JvRixXQUFXO2dCQUNoRCxJQUFJLENBQUMxekQsTUFBTSxDQUNULFFBQ0E7Z0JBRUYsT0FBTyxNQUFNMHpEOztZQUdmLElBQUksSUFBSSxDQUFDYixZQUFZLEVBQUU3L0IsYUFBYSxJQUFJLENBQUM2dkIsZ0JBQWdCLElBQUk7Z0JBQzNELElBQUksQ0FBQzdpRCxNQUFNLENBQ1QsUUFDQTtnQkFHRjs7WUFHRixJQUFJLENBQUNzd0QseUJBQXlCO1lBRTlCLElBQUksQ0FBQ1osUUFBUSxHQUFHLENBQUcsTUFBSSxDQUFDcUQsTUFBTSxDQUFLLElBQUF4d0QsaUJBQWdCLENBQUU7WUFDckQsTUFBTXF4RCxlQUFlLElBQUksQ0FBQ3BsQixPQUFPO1lBQ2pDLElBQUksQ0FBQ21sQixhQUFhLEdBQUdqMUIsZ0JBQWdCazFCO1lBQ3JDLE9BQU8sTUFBTUE7UUFDZjtRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQUosY0FBYyxHQUFHLE9BQU9qMEQ7WUFDdEIsSUFBSSxDQUFDUyxNQUFNLENBQUMsUUFBUTs7WUFHcEIsT0FBTyxJQUFJLENBQUNtTixJQUFJO1lBQ2hCLE9BQU8sSUFBSSxDQUFDc21ELEtBQUs7WUFDakIsT0FBTyxJQUFJLENBQUNWLE1BQU07WUFFbEIsSUFBSSxDQUFDajVDLFNBQVMsR0FBRztZQUVqQixNQUFNLElBQUksQ0FBQ3k1QyxlQUFlLENBQUNoMEQ7WUFDM0I4RCwrQkFBK0IsSUFBSSxDQUFDZ3dELDZCQUE2QjtZQUVqRSxJQUFJLENBQUM3RSxZQUFZLENBQUNzRCxLQUFLO1lBRXZCLElBQUksQ0FBQytCLHVCQUF1QixHQUFHL2pFO1lBQy9CLElBQUksQ0FBQytnRSxrQkFBa0IsR0FBRy9nRTtZQUMxQixJQUFJLENBQUM4Z0UsbUJBQW1CLEdBQUc5Z0U7UUFDN0I7UUFFQSxLQUFBZ2tFLGdCQUFnQixHQUFHLE9BQU8zbUQ7WUFDeEIsSUFBSSxDQUFDNG1ELHNCQUFzQixHQUFHLElBQUksQ0FBQ0MsY0FBYyxDQUcvQyxRQUFRLFVBQVU7Z0JBQUU3bUQ7WUFBSSxHQUFJO2dCQUFFOG1ELGdCQUFnQjtZQUFJO1lBRXBELE1BQU03bUUsV0FBVyxNQUFNLElBQUksQ0FBQzJtRSxzQkFBc0I7WUFDbEQsSUFBSSxDQUFDQSxzQkFBc0IsQ0FBQzVvRCxPQUFPLENBQ2pDLElBQU8sSUFBSSxDQUFDNG9ELHNCQUFzQixHQUFHamtFO1lBR3ZDLE9BQU8sSUFBSSxDQUFDZ2pFLFdBQVcsQ0FBQzFsRSxTQUFTK2YsSUFBSSxFQUFFL2YsU0FBUzhtRSxZQUFZO1FBQzlEO1FBRUE7O1NBRUcsR0FDSCxLQUFBQyxvQkFBb0IsR0FBRyxPQUNyQmhuRCxNQUNBd2tEO1lBRUExdUQsNEJBQTRCLElBQUksQ0FBQ293RCw2QkFBNkI7WUFDOUQsSUFBSSxDQUFDL0MseUJBQXlCO1lBRTlCLElBQUksQ0FBQ3gyQyxTQUFTLEdBQUc7WUFDakIsTUFBTSxJQUFJLENBQUMwMEMsWUFBWSxDQUFDa0Qsa0JBQWtCLENBQUNDLGlCQUFpQnhrRCxNQUFNO1lBRWxFLElBQUksQ0FBQ2dtRCxRQUFRLENBQUNobUQ7Ozs7WUFJZCxJQUFJLENBQUN5akQsbUJBQW1CO1FBQzFCO1FBRUE7Ozs7Ozs7OztTQVNHLEdBQ0gsS0FBQTVuRCxFQUFFLEdBQUcsQ0FDSFosV0FDQTA0QjtZQUVBLElBQUksQ0FBQyxJQUFJLENBQUNqNEIsU0FBUyxDQUFDVCxVQUFVLEVBQUU7Z0JBQzlCLElBQUksQ0FBQ1MsU0FBUyxDQUFDVCxVQUFVLEdBQUcsRUFBRTs7WUFHaEMsSUFBSSxDQUFDcEksTUFBTSxDQUFDLFNBQVMsQ0FBdUIsc0JBQUFvSSxVQUFpQjtZQUM3RCxJQUFJLENBQUNTLFNBQVMsQ0FBQ1QsVUFBVSxFQUFFeGEsS0FBS2t6QztZQUNoQyxPQUFPO2dCQUNMLElBQUksQ0FBQzUzQixHQUFHLENBQUNkLFdBQVcwNEI7WUFDdEI7UUFDRjtRQUVBOztTQUVHLEdBQ0gsS0FBQTUzQixHQUFHLEdBQUcsQ0FDSmQsV0FDQTA0QjtZQUVBLElBQUksQ0FBQyxJQUFJLENBQUNqNEIsU0FBUyxDQUFDVCxVQUFVLEVBQUU7Z0JBQzlCLElBQUksQ0FBQ1MsU0FBUyxDQUFDVCxVQUFVLEdBQUcsRUFBRTs7WUFHaEMsSUFBSSxDQUFDcEksTUFBTSxDQUFDLFNBQVMsQ0FBeUIsd0JBQUFvSSxVQUFpQjtZQUMvRCxJQUFJLENBQUNTLFNBQVMsQ0FBQ1QsVUFBVSxHQUFHLElBQUksQ0FBQ1MsU0FBUyxDQUFDVCxVQUFVLEVBQUVsRCxPQUNyRCxDQUFDdlgsUUFBVUEsVUFBVW16QztRQUV6QjtRQUVBOztTQUVHLEdBQ0gsSUFBeUIsQ0FBQXd2Qix5QkFBQSxHQUFHO3dFQUUxQixJQUFJLENBQUN1RCx1QkFBdUIsR0FBR24xQixnQkFDN0IsSUFBSXY5QixRQUE0QixDQUFDb0ssU0FBUzB6QjtnQkFDeEMsSUFBSSxDQUFDMnhCLG1CQUFtQixHQUFHcmxEO2dCQUMzQixJQUFJLENBQUNzbEQsa0JBQWtCLEdBQUc1eEI7O1FBR2hDO1FBY0EsSUFBYyxDQUFBbTFCLGNBQUEsR0FBRyxDQUNmeG1ELE1BQ0FxbUIsS0FDQS9JLE1BQ0FuVDtZQUlBLElBQUlsVCxrQkFBa0IsU0FBUztZQUMvQixJQUFJLENBQUM3RSxNQUFNLENBQUMsU0FBUyxXQUFXNE4sS0FBSSxlQUFnQnFtQixJQUFHLENBQUUsRUFBRTtnQkFDekRyckIsU0FBU3NpQjtnQkFDVG5UO1lBQ0Q7UUFDSDtRQUVBLElBQWUsQ0FBQXM4QyxlQUFBLEdBQUcsQ0FDaEJ6bUQsTUFDQXFtQixLQUNBN21DO1lBRUEsSUFBSXlYLGtCQUFrQixTQUFTO1lBQy9CLElBQUksQ0FBQzdFLE1BQU0sQ0FDVCxTQUNBLENBQVUsU0FBQTROLEtBQTBCLHFCQUFBcW1CLElBQWdCLFlBQUE3bUMsU0FBU0QsTUFBTSxFQUFFLEVBQ3JFO2dCQUNFQztZQUNEO1FBRUw7UUFFQSxJQUFZLENBQUFrbkUsWUFBQSxHQUFHLENBQUMxbUQsTUFBY3FtQixLQUFhcHpCO1lBQ3pDLElBQUksQ0FBQ2IsTUFBTSxDQUFDLFNBQVMsVUFBVTROLEtBQUksa0JBQW1CcW1CLElBQUcsQ0FBRSxFQUFFO2dCQUMzREE7Z0JBQ0FwekI7WUFDRDtRQUNIO1FBRUEsS0FBQW16RCxjQUFjLEdBQUcsT0FDZnBtRCxNQUNBcW1CLEtBQ0EvSSxNQUNBejhCLFVBRW1DLEVBQUU7WUFFckMsSUFBSSxDQUFDQSxRQUFRd2xFLGNBQWMsRUFBRTtnQkFDM0IsTUFBTTl5RCxRQUFRMGlCLEdBQUcsQ0FBQztvQkFDaEIsSUFBSSxDQUFDMnFDLFlBQVksQ0FBQzJCLFVBQVU7b0JBQzVCLElBQUksQ0FBQzRELHNCQUFzQjtpQkFDNUI7O2dCQUVELElBQUk7b0JBQ0YsTUFBTSxJQUFJLENBQUNRLG1CQUFtQjtrQkFDOUIsT0FBTTs7OztvQkFJTixNQUFNLElBQUksQ0FBQzFCLFlBQVksRUFBRTlDO29CQUN6QixNQUFNLElBQUksQ0FBQ3dFLG1CQUFtQjs7O1lBR2xDLE1BQU1DLGdCQUFnQixJQUFJLENBQUNDLG1CQUFtQixDQUFDaG1FO1lBQy9DLElBQUk7Z0JBQ0YsSUFBSXJCO2dCQUNKLElBQUksQ0FBQ2duRSxjQUFjLENBQUN4bUQsTUFBTXFtQixLQUFLL0ksTUFBTXNwQztnQkFDckMsT0FBUTVtRDtvQkFDTixLQUFLO3dCQUNIeGdCLFdBQVcsTUFBTSxJQUFJLENBQUNzbkUsYUFBYSxDQUFDL3BELEdBQUcsQ0FBQ3NwQixLQUFLdWdDO3dCQUM3QztvQkFDRixLQUFLO3dCQUNIcG5FLFdBQVcsTUFBTSxJQUFJLENBQUNzbkUsYUFBYSxDQUFDdHBELE1BQU0sQ0FBQzZvQixLQUFLdWdDO3dCQUNoRDtvQkFDRixLQUFLO3dCQUNIcG5FLFdBQVcsTUFBTSxJQUFJLENBQUNzbkUsYUFBYSxDQUFDM1IsSUFBSSxDQUFDOXVCLEtBQUsvSSxNQUFNc3BDO3dCQUNwRDtvQkFDRixLQUFLO3dCQUNIcG5FLFdBQVcsTUFBTSxJQUFJLENBQUNzbkUsYUFBYSxDQUFDQyxHQUFHLENBQUMxZ0MsS0FBSy9JLE1BQU1zcEM7d0JBQ25EO29CQUNGLEtBQUs7d0JBQ0hwbkUsV0FBVyxNQUFNLElBQUksQ0FBQ3NuRSxhQUFhLENBQUM3K0MsS0FBSyxDQUFDb2UsS0FBSy9JLE1BQU1zcEM7d0JBQ3JEO29CQUNGLEtBQUs7d0JBQ0hwbkUsV0FBVyxNQUFNLElBQUksQ0FBQ3NuRSxhQUFhLENBQUNqbUUsT0FBTyxDQUFDd2xDLEtBQUt1Z0M7d0JBQ2pEO29CQUNGO3dCQUNFLE1BQU0sSUFBSXpuRSxNQUFNOztnQkFFcEIsSUFBSSxDQUFDc25FLGVBQWUsQ0FBSXptRCxNQUFNcW1CLEtBQUs3bUM7Z0JBQ25DLElBQUksQ0FBQ21oRSxtQkFBbUIsR0FBRztnQkFDM0IsT0FBTyxJQUFJLENBQUNxRyxjQUFjLENBQUN4bkU7Y0FDM0IsT0FBTzJiLEVBQU0sc0NBQXNDO2dCQUNuREEsRUFBRThyRCxpQkFBaUIsR0FBR0wsY0FBYzcwRCxPQUFPLEdBQUcsc0JBQXNCO2dCQUNwRSxJQUFJLENBQUM0dUQsbUJBQW1CLElBQUk7Z0JBQzVCLElBQUl4bEQsRUFBRTNiLFFBQVEsRUFBRTtvQkFDZCxJQUFJLENBQUNrbkUsWUFBWSxDQUFDMW1ELE1BQU1xbUIsS0FBS2xyQixFQUFFM2IsUUFBUTtzRkFFdkMsSUFDRTJiLEVBQUUzYixRQUFRLENBQUM4OUIsSUFBSSxDQUFDaCtCLElBQUksS0FBS3dVLFdBQVdDLGFBQWEsSUFDakQsQ0FBQyxJQUFJLENBQUM2c0QsWUFBWSxDQUFDQyxRQUFRLElBQzNCO3dCQUNBLElBQUksSUFBSSxDQUFDRixtQkFBbUIsR0FBRyxHQUFHOzRCQUNoQyxNQUFNdHRELE1BQU1ZLGNBQWMsSUFBSSxDQUFDMHNELG1CQUFtQjs7d0JBRXBELE1BQU0sSUFBSSxDQUFDQyxZQUFZLENBQUM0QixTQUFTO3dCQUNqQyxPQUFPLE1BQU0sSUFBSSxDQUFDNEQsY0FBYyxDQUFPcG1ELE1BQU1xbUIsS0FBSy9JLE1BQU16OEI7O29CQUUxRCxPQUFPLElBQUksQ0FBQ21tRSxjQUFjLENBQUM3ckQsRUFBRTNiLFFBQVE7dUJBQ2hDO29CQUNMLElBQUksQ0FBQ2tuRSxZQUFZLENBQUMxbUQsTUFBTXFtQixLQUFLbHJCO29CQUU3QixNQUFNQTs7O1FBR1o7UUFFQSxLQUFBNEIsR0FBRyxHQUFHLENBQUlzcEIsS0FBYThGO1lBQ3JCLE9BQU8sSUFBSSxDQUFDaTZCLGNBQWMsQ0FBYSxPQUFPLy9CLEtBQUssTUFBTTtnQkFDdkQ4RjtZQUNEO1FBQ0g7UUFFQSxJQUFHLENBQUE0NkIsR0FBQSxHQUFHLENBQ0oxZ0MsS0FDQS9JLE1BQ0E2TztZQUVBLE9BQU8sSUFBSSxDQUFDaTZCLGNBQWMsQ0FBTyxPQUFPLy9CLEtBQUsvSSxNQUFNO2dCQUFFNk87WUFBTTtRQUM3RDtRQUVBLElBQUksQ0FBQWdwQixJQUFBLEdBQUcsQ0FDTDl1QixLQUNBL0ksTUFDQTZPO1lBRUEsT0FBTyxJQUFJLENBQUNpNkIsY0FBYyxDQUFPLFFBQVEvL0IsS0FBSy9JLE1BQU07Z0JBQUU2TztZQUFNO1FBQzlEO1FBRUEsSUFBSyxDQUFBbGtCLEtBQUEsR0FBRyxDQUNOb2UsS0FDQS9JLE1BQ0E2TztZQUVBLE9BQU8sSUFBSSxDQUFDaTZCLGNBQWMsQ0FBTyxTQUFTLy9CLEtBQUsvSSxNQUFNO2dCQUFFNk87WUFBTTtRQUMvRDtRQUVBLEtBQUEzdUIsTUFBTSxHQUFHLENBQUk2b0IsS0FBYThGO1lBQ3hCLE9BQU8sSUFBSSxDQUFDaTZCLGNBQWMsQ0FBYSxVQUFVLy9CLEtBQUssTUFBTTtnQkFDMUQ4RjtZQUNEO1FBQ0g7UUFFQSxLQUFBKzZCLGlCQUFpQixHQUFHLENBQ2xCMW5FO1lBRUEsTUFBTSxFQUFFODlCLElBQUksRUFBRS85QixNQUFNLEVBQUUsR0FBR0M7WUFDekIsT0FBTyxJQUFJTixrQkFBb0M7Z0JBQzdDRyxTQUFTLHFCQUFxQmkrQixLQUFLaCtCLElBQUksQ0FBSyxJQUFBZytCLEtBQUtqK0IsT0FBTyxDQUFFO2dCQUMxREMsTUFBTWcrQixLQUFLaCtCLElBQUksSUFBSTtnQkFDbkJHLGVBQWU2OUIsS0FBSzc5QixhQUFhLElBQUk7Z0JBQ3JDRCxVQUFVQTtnQkFDVkQsUUFBUUE7WUFDVDtRQUNIO1FBRUEsS0FBQXluRSxjQUFjLEdBQUcsQ0FBSXhuRTtZQUNuQixNQUFNODlCLE9BQU85OUIsU0FBUzg5QixJQUFJO1lBQzFCLElBQUkzbkIsZ0JBQWdCblcsV0FBVztnQkFDN0IsTUFBTSxJQUFJLENBQUMwbkUsaUJBQWlCLENBQUMxbkU7O1lBRS9CLE9BQU84OUI7UUFDVDtRQUVBLEtBQUFpb0IsYUFBYSxHQUFHLENBQUNwOEI7WUFDZixJQUFJLENBQUMvVyxNQUFNLENBQUMsU0FBUyxzQkFBc0IrVyxNQUFNbkosSUFBSSxFQUFFLEVBQUVtSjtZQUN6RCxJQUFJLENBQUMsSUFBSSxDQUFDbE8sU0FBUyxFQUFFOztZQUdyQixLQUFLLE1BQU04b0MsWUFBWSxJQUFJLENBQUM5b0MsU0FBUyxDQUFDZ2IsR0FBRyxJQUFJLEVBQUUsQ0FBRTtnQkFDL0M4dEIsU0FBUzU2Qjs7O1lBSVgsS0FBSyxNQUFNNDZCLFlBQVksSUFBSSxDQUFDOW9DLFNBQVMsQ0FBQ2tPLE1BQU1uSixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUU7Z0JBQ3ZEK2pDLFNBQVM1NkI7O1FBRWI7UUFFQTs7U0FFRyxHQUNILElBQU8sQ0FBQXkzQixPQUFBLEdBQUc7WUFDUixJQUFJLENBQUMsSUFBSSxDQUFDdWtCLE1BQU0sSUFBSSxDQUFDLElBQUksQ0FBQ1UsS0FBSyxFQUFFO2dCQUMvQixNQUFNMW1FLE1BQ0o7O1lBR0osSUFBSSxDQUFDLElBQUksQ0FBQ3FnRSxTQUFTLEVBQUUsTUFBTXJnRSxNQUFNO1lBQ2pDLElBQUksQ0FBQyxJQUFJLENBQUMyaUUsUUFBUSxFQUFFLE1BQU0zaUUsTUFBTTs7WUFHaEMsSUFBSSxDQUFDOGxFLFlBQVksR0FBRyxJQUFJakcsbUJBQW1CLElBQUk7WUFFL0MsSUFBSSxDQUFDNXNELE1BQU0sQ0FBQyxRQUFRO1lBQ3BCLE9BQU8sTUFBTSxJQUFJLENBQUM2eUQsWUFBWSxDQUFDcmtCLE9BQU8sQ0FBQyxJQUFJLENBQUN1bUIsZ0JBQWdCO1FBQzlEO1FBRUEsSUFBWSxDQUFBNUgsWUFBQSxHQUFHO1lBQ2IsSUFBSSxDQUFDLElBQUksQ0FBQzZILGVBQWUsRUFBRTtnQkFDekIsTUFBTSxFQUFFQyxzQkFBc0IsRUFBRSxFQUFFLEdBQUcsSUFBSSxDQUFDeG1FLE9BQU87Z0JBQ2pELE1BQU0sRUFDSjR5QixVQUFVLElBQUksRUFDZEUsYUFBYSxRQUFrQyxFQUMvQyxHQUFHMnpDLFFBQ0osR0FBR0Q7Z0JBRUosSUFBSSxDQUFDRCxlQUFlLEdBQUc7b0JBQ3JCLENBQWdCLGVBQUEzekMsUUFBWSxJQUFBRSxXQUFZO3VCQUNyQzF5QixPQUFPQyxPQUFPLENBQUNvbUUsUUFBUWprRSxHQUFHLENBQUMsQ0FBQyxDQUFDdkQsS0FBS0MsTUFBTSxHQUFLLEdBQUdELElBQUcsR0FBSUMsTUFBSyxDQUFFO29CQUNqRSxpQkFBaUIsV0FBK0Q7aUJBQ2pGLENBQUNFLElBQUksQ0FBQzs7WUFHVCxPQUFPLElBQUksQ0FBQ21uRSxlQUFlO1FBQzdCO1FBRUEsSUFBbUIsQ0FBQVAsbUJBQUEsR0FBRyxDQUNwQmhtRSxVQUVJO1lBQ0ZzckMsUUFBUTtZQUNScDZCLFNBQVM7WUFDVG9ZLFFBQVE7UUFDVDtZQUVELE1BQU1nc0IsUUFDSnQxQyxRQUFRd2xFLGNBQWMsSUFBSSxDQUFDLElBQUksQ0FBQzltRCxJQUFJLEdBQUdyZCxZQUFZLElBQUksQ0FBQzY5RCxTQUFTO1lBQ25FLE1BQU13SCxnQkFBZ0JweEIsUUFBUTtnQkFBRVcsZUFBZVg7WUFBSyxJQUFLajBDO1lBRXpELElBQUksQ0FBQ3JCLFFBQVFrUixPQUFPLEdBQUcsc0JBQXNCLEVBQUU7Z0JBQzdDbFIsUUFBUWtSLE9BQU8sR0FBRztvQkFDaEIsR0FBR2xSLFFBQVFrUixPQUFPO29CQUNsQix1QkFBdUI0Qzs7O1lBSTNCLE9BQU87Z0JBQ0x3M0IsUUFBUTtvQkFDTjlmLFNBQVMsSUFBSSxDQUFDODRDLE1BQU07b0JBQ3BCcEMsZUFBZSxJQUFJLENBQUNpQyxnQkFBZ0I7b0JBQ3BDd0MsU0FBUyxJQUFJLENBQUMxbkUsR0FBRztvQkFDakIsR0FBR2UsUUFBUXNyQyxNQUFNO2dCQUNsQjtnQkFDRHA2QixTQUFTO29CQUNQLEdBQUd3MUQsYUFBYTtvQkFDaEIsb0JBQ0UxbUUsUUFBUXdsRSxjQUFjLElBQUksQ0FBQyxJQUFJLENBQUM5bUQsSUFBQSxHQUM1QixjQUNBLElBQUksQ0FBQysvQyxXQUFXO29CQUN0QixtQkFBbUIsSUFBSSxDQUFDQyxZQUFZO29CQUNwQyxHQUFHMStELFFBQVFrUixPQUFPO2dCQUNuQjtnQkFDRCxHQUFHbFIsUUFBUXNwQixNQUFNO2dCQUNqQixHQUFHLElBQUksQ0FBQ3RwQixPQUFPLENBQUM0bUUsa0JBQWtCOztRQUV0QztRQUVBLElBQVMsQ0FBQTFILFNBQUEsR0FBRztZQUNWLElBQUksQ0FBQyxJQUFJLENBQUNhLFlBQVksRUFBRSxPQUFPO1lBRS9CLE9BQU8sSUFBSSxDQUFDQSxZQUFZLENBQUN3RCxRQUFRO1FBQ25DO1FBRUEsS0FBQXFCLDZCQUE2QixHQUFHLENBQzlCdDhDO1lBRUEsSUFBSUEsTUFBTW5KLElBQUksS0FBSyxXQUFXO2dCQUM1QixJQUFJLENBQUM1TixNQUFNLENBQUMsU0FBUztnQkFDckIsSUFBSSxDQUFDbXpDLGFBQWEsQ0FBQztvQkFBRXZsQyxNQUFNO29CQUFtQisyQixRQUFRO2dCQUFLO21CQUN0RCxJQUFJNXRCLE1BQU1uSixJQUFJLEtBQUssVUFBVTtnQkFDbEMsSUFBSSxDQUFDNU4sTUFBTSxDQUFDLFNBQVM7Z0JBQ3JCLElBQUksQ0FBQ216QyxhQUFhLENBQUM7b0JBQUV2bEMsTUFBTTtvQkFBbUIrMkIsUUFBUTtnQkFBSTs7UUFFOUQ7O1FBem5CRSxJQUFJLENBQUNqM0MsR0FBRyxHQUFHQTs7UUFHWCxJQUFJLENBQUM4akUsTUFBTSxHQUFHL2lFLFNBQVMraUU7O1FBR3ZCLE1BQU04RCxlQUFlN21FLFVBQ2pCQSxVQUNDO1lBQ0N5NkIsU0FBUyxnQkFBa0I7O1FBR2pDLElBQUksQ0FBQ0EsT0FBTyxHQUFHb3NDLGFBQWFwc0MsT0FBTyxJQUFJLGdCQUFrQjtRQUN6RCxJQUFJLENBQUMrcEMsSUFBSSxHQUFHLENBQUMsSUFBSSxDQUFDL3BDLE9BQU87UUFFekIsSUFBSSxJQUFJLENBQUNBLE9BQU8sRUFBRTtZQUNoQixJQUFJLENBQUNpcEMsWUFBWSxHQUFHaE0sZ0JBQ2xCMTNELFNBQVNpa0UsaUJBQ1Rqa0UsU0FBU2trRSxxQkFDVGxrRSxTQUFTOG1FOztRQUliLElBQUksQ0FBQzltRSxPQUFPLEdBQUc7WUFDYjhRLFNBQVM7WUFDVGkyRCxpQkFBaUI7WUFDakIsR0FBR0YsWUFBWTs7UUFHakIsSUFBSSxJQUFJLENBQUNyQyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUN4a0UsT0FBTyxDQUFDZ25FLFVBQVUsRUFBRTtZQUN6QyxJQUFJLENBQUNobkUsT0FBTyxDQUFDZ25FLFVBQVUsR0FBRyxJQUFJQyxvREFBVyxDQUFDO2dCQUN4Qzl4QixXQUFXO2dCQUNYZ3lCLGdCQUFnQjtZQUNqQjs7UUFHSCxJQUFJLENBQUNyRCxVQUFVLENBQ2IsSUFBSSxDQUFDOWpFLE9BQU8sQ0FBQytqRSxPQUFPLElBQUk7UUFHMUIsSUFBSSxDQUFDa0MsYUFBYSxHQUFHbUIsOENBQUtBLENBQUN0bUUsTUFBTSxDQUFDO1lBQ2hDLEdBQUcsSUFBSSxDQUFDZCxPQUFPO1lBQ2YrakUsU0FBUyxJQUFJLENBQUNBLE9BQU87UUFDdEI7O1FBR0QsSUFBSSxDQUFDSyxZQUFZLEdBQUc7UUFDcEIsSUFBSSxDQUFDYyxhQUFhLEdBQUc7UUFDckIsSUFBSSxDQUFDWCxlQUFlLEdBQUc7O1FBR3ZCLElBQUksQ0FBQ2w1QyxTQUFTLEdBQUc7UUFDakIsSUFBSSxDQUFDdzVDLDhCQUE4QixHQUNqQyxJQUFJLENBQUM3a0UsT0FBTyxFQUFFNmtFOzs7UUFJaEIsSUFBSSxDQUFDOUUsWUFBWSxHQUFHLElBQUkrQyxhQUFhLElBQUksQ0FBQ0MsTUFBTTtRQUNoRCxJQUFJLENBQUNqRCxtQkFBbUIsR0FBRztRQUUzQixJQUFJLENBQUN3RyxnQkFBZ0IsR0FBRyxJQUFJLENBQUN0bUUsT0FBTyxDQUFDcW5FLGdCQUFnQixJQUFJO1FBRXpELElBQUksQ0FBQzkxRCxNQUFNLEdBQUdzQixXQUFXZzBELGFBQWF0MUQsTUFBTSxJQUN4Q3MxRCxhQUFhdDFELE1BQUEsR0FDYixJQUFNOztJQW1SWixJQUFJdTBELHNCQUFtQjtRQUNyQixPQUFPLElBQUksQ0FBQ1YsdUJBQXVCOztJQUdyQyxJQUFJeEQsK0JBQTRCO1FBQzlCLE9BQU8sSUFBSSxDQUFDd0QsdUJBQXVCLEVBQUU5MEIsa0JBQWtCOztJQUd6RCxJQUFJMjBCLFlBQVM7UUFDWCxPQUFPLElBQUksQ0FBQ0MsYUFBYTs7QUE4UjVCO0FDeHNCRDs7Q0FFRyxHQUNJLE1BQU1vQyxpQkFBaUIsQ0FBQ0MsUUFBZ0I3b0Q7SUFDN0MsT0FBTyxHQUFHNm9ELE9BQU0sR0FBSTdvRCxLQUFLVSxFQUFFLEVBQUU7QUFDL0I7QUFFQTs7Q0FFRyxHQUNILE1BQU1vb0QseUJBQXlCLENBQzdCeG5FO0lBRUEsTUFBTXluRSxRQUFRem5FLFNBQVN3bUUsdUJBQXVCO0lBQzlDLE1BQU01dEMsVUFBVU87SUFDaEIsSUFBSVAsU0FBUzs7O1FBR1g2dUMsTUFBTTcwQyxPQUFPLEdBQUdodUIsT0FBTyxDQUFDZzBCLFFBQVF6WixJQUFJLENBQUMsQ0FBQy9KLFdBQVc7UUFDakRxeUQsTUFBTTMwQyxVQUFVLEdBQUcsQ0FBRyxFQUFBOEYsUUFBUTFGLEtBQUssSUFBSTBGLFFBQVF6RixLQUFLLENBQUksR0FBQXlGLFFBQVF4UixLQUFLLEVBQUU7O0lBRXpFLE9BQU9xZ0Q7QUFDVDtBQUVBOztDQUVHLEdBQ0ksTUFBTUMsMEJBQTBCLENBQ3JDSCxRQUNBdm5FO0lBRUEsTUFBTXdtRSxzQkFBc0JnQix1QkFBdUJ4bkU7SUFDbkQsTUFBTTJuRSxvQkFBb0J0eEQsVUFBVTtRQUFDO0tBQWM7SUFDbkQsT0FBTyxJQUFJd3RELGFBQWEwRCxRQUFRO1FBQzlCMUMsZ0NBQWdDO1FBQ2hDLEdBQUc3a0UsT0FBTztRQUNWd21FO1FBQ0FqMUQsUUFBUW8yRDtJQUNUO0FBQ0g7QUFFQTs7Ozs7OztDQU9HLEdBQ0ksTUFBTUMsd0JBQXdCLENBQ25DNW5FO0lBRUEsTUFBTSxFQUFFczFDLEtBQUssRUFBRTh0QixhQUFhLEVBQUUsR0FBR3BqRTtJQUNqQyxJQUFJczFDLFNBQVM4dEIsZUFBZTtRQUMxQixJQUFJeUUsbUJBQW1CO1FBQ3ZCLE9BQU8sZUFBZUM7WUFDcEIsSUFBSSxDQUFDRCxrQkFBa0I7Z0JBQ3JCQSxtQkFBbUI7Z0JBQ25CLE9BQU92eUI7O1lBRVQsT0FBTzh0QjtRQUNUOztJQUVGLE9BQU85dEIsU0FBUzh0QjtBQUNsQjtBQzVCQTs7Q0FFRyxTQUNVMkU7SUE0Qlh4cEUsWUFDRXlwRSxZQUErQyxFQUMvQ255QyxJQUEwQjtRQWZwQixJQUFpQixDQUFBb3lDLGlCQUFBLEdBQUc7UUFDcEIsSUFBeUIsQ0FBQUMseUJBQUEsR0FBc0IsRUFBRTtRQUN4QyxLQUFBQyx3QkFBd0IsR0FBR2hxRCxPQUMxQztRQXlFTSxLQUFBaXFELHNCQUFzQixHQUFHLENBQUNiLFFBQWdCN29EO1lBQ2hELE1BQU0ycEQsY0FBY2YsZUFBZUMsUUFBUTdvRDtZQUMzQyxJQUFJcXBELGtCQUFrQk8sVUFBVSxDQUFDdnNELEdBQUcsQ0FBQ3NzRCxjQUFjO2dCQUNqRCxJQUFJLENBQUM5MkQsTUFBTSxDQUNULFFBQ0EsQ0FBMEMseUNBQUFtTixLQUFLVSxFQUFFLENBQTJDOztZQUdoRzJvRCxrQkFBa0JPLFVBQVUsQ0FBQzlyRCxHQUFHLENBQUM2ckQsYUFBYSxJQUFJO1FBQ3BEO1FBU1EsSUFBZSxDQUFBalcsZUFBQSxHQUFHO1lBQ3hCLElBQUksSUFBSSxDQUFDNlYsaUJBQWlCLEVBQUU7WUFFNUIsSUFBSSxDQUFDQyx5QkFBeUIsQ0FBQy9vRSxJQUFJLENBQ2pDLElBQUksQ0FBQ29iLEVBQUUsQ0FBQyxzQkFBc0IsQ0FBQytOO2dCQUM3QixJQUFJLENBQUNBLE1BQU00dEIsTUFBTSxFQUFFO2dCQUVuQixNQUFNcXlCLGlCQUFpQixJQUFJLENBQUNDLG1CQUFtQixDQUFDM3BELEtBQUEsQ0FDN0NwSSxNQUFNLENBQUMsQ0FBQzFELE9BQVNBLEtBQUtvK0MsUUFBUSxFQUM5QjN1RCxHQUFHLENBQUMsQ0FBQ3VRLE9BQVNBLEtBQUtpTSxHQUFHO2dCQUN6QixJQUFJdXBELGVBQWVsa0UsTUFBTSxJQUFJLEdBQUc7Z0JBRWhDLElBQUksQ0FBQ2tOLE1BQU0sQ0FBQyxRQUFRLENBQW9CLG1CQUFBZzNELGVBQWVucEUsSUFBSSxDQUFDLE1BQUssQ0FBRTtnQkFDbkUsSUFBSSxDQUFDcXBFLFVBQVUsQ0FBQztvQkFDZEMsT0FBTztvQkFDUEMsbUJBQW1CO3dCQUFFM3BELEtBQUs7NEJBQUU0cEQsS0FBS0w7d0JBQWM7b0JBQUU7b0JBQ2pEOTVDLE1BQU07d0JBQUM7NEJBQUVvNkMsT0FBTzs0QkFBT3J4RCxXQUFXO3dCQUFDO3FCQUFHO2dCQUN2QyxHQUFFaUksS0FBSyxDQUFDLENBQUMxTjtvQkFDUixJQUFJLENBQUNSLE1BQU0sQ0FBQyxTQUFTLDRCQUE0QlE7Z0JBQ25EOztZQUlKLElBQUksQ0FBQ20yRCx5QkFBeUIsQ0FBQy9vRSxJQUFJLENBQ2pDLElBQUksQ0FBQ29iLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQytOO2dCQUN2QixNQUFNLEVBQUV2VixJQUFJLEVBQUV1VCxPQUFPLEVBQUUsR0FBR2dDO2dCQUMxQixJQUFJLElBQUksQ0FBQ2pKLEtBQUssQ0FBQ0ssYUFBYSxFQUFFTixPQUFPck0sS0FBSytXLFVBQVUsQ0FBQzFLLEVBQUUsRUFBRTtvQkFDdkQsSUFBSSxDQUFDN04sTUFBTSxDQUNULFFBQ0E7b0JBRUY7O2dCQUVGLElBQUksQ0FBQ0EsTUFBTSxDQUFDLFFBQVEsQ0FBb0MsbUNBQUF3QixLQUFLaU0sR0FBRyxDQUFFO2dCQUNsRSxNQUFNOHBELFVBQVUsSUFBSXJoRSxLQUFLO29CQUN2QjByQyxjQUFjLElBQUksQ0FBQ0EsWUFBWTtvQkFDL0JoMEIsTUFBTXBNLEtBQUtvTSxJQUFJO29CQUNmQyxJQUFJck0sS0FBS3FNLEVBQUU7b0JBQ1hrSDtvQkFDQTRxQyxhQUFhLElBQUksQ0FBQ3NYLG1CQUFtQjtnQkFDdEM7Z0JBQ0RNLFFBQVF6cEQsS0FBSyxDQUFDbUssc0JBQXNCLENBQUN6VztnQkFDckMsSUFBSSxDQUFDeTFELG1CQUFtQixDQUFDMXBELFlBQVksQ0FBQ2dxRDs7WUFJMUMsSUFBSSxDQUFDWix5QkFBeUIsQ0FBQy9vRSxJQUFJLENBQ2pDLElBQUksQ0FBQ29iLEVBQUUsQ0FBQyxhQUFhLE9BQU8rTjtnQkFDMUIsTUFBTSxFQUFFdlYsSUFBSSxFQUFFdVQsT0FBTyxFQUFFLEdBQUdnQztnQkFDMUIsSUFBSSxJQUFJLENBQUNqSixLQUFLLENBQUNLLGFBQWEsRUFBRU4sT0FBT3JNLEtBQUsrVyxVQUFVLENBQUMxSyxFQUFFLEVBQUU7b0JBQ3ZELElBQUksQ0FBQzdOLE1BQU0sQ0FDVCxTQUNBO29CQUVGOzs7O2dCQUlGLE1BQU13M0QsVUFBVSxJQUFJLENBQUNQLG1CQUFtQixDQUFDdHBELFFBQVEsQ0FBQ25NLEtBQUtvTSxJQUFJLEVBQUVwTSxLQUFLcU0sRUFBRTtnQkFDcEUsSUFBSTJwRCxTQUFTO29CQUNYLE1BQU1BLFFBQVFoVixzQkFBc0IsQ0FBQ3pyQzt1QkFDaEM7OztvQkFHTCxNQUFNMGdELGtCQUFrQixJQUFJdmhFLEtBQUs7d0JBQy9CMHJDLGNBQWMsSUFBSSxDQUFDQSxZQUFZO3dCQUMvQmgwQixNQUFNcE0sS0FBS29NLElBQUk7d0JBQ2ZDLElBQUlyTSxLQUFLcU0sRUFBRTt3QkFDWGtIO3dCQUNBNHFDLGFBQWEsSUFBSSxDQUFDc1gsbUJBQW1CO3dCQUNyQ3B1QixTQUFTO29CQUNWO29CQUNELE1BQU00dUIsZ0JBQWdCOXNELEdBQUc7OztZQUsvQixJQUFJLENBQUMrckQsaUJBQWlCLEdBQUc7UUFDM0I7UUFFQTs7Ozs7OztTQU9HLEdBQ0gsS0FBQTVELFdBQVcsR0FBRyxPQUNaM2xELE1BQ0F3a0Q7WUFFQSxJQUFJeGtELEtBQUtTLElBQUksS0FBSyxhQUFhO2dCQUM3QlQsS0FBS1UsRUFBRSxHQUFHO2dCQUNWLE9BQU8sSUFBSSxDQUFDc21ELG9CQUFvQixDQUFDaG5ELE1BQW9Cd2tEOztZQUd2RCxNQUFNK0Ysc0JBQXNCLE1BQU0zdEQsbUJBQ2hDLElBQUksQ0FBQzZzRCx3QkFBd0IsRUFDN0I7Z0JBQ0UsTUFBTS9KLFNBQVMsSUFBSSxDQUFDanJCLFlBQVk7Z0JBQ2hDLE1BQU0sRUFBRSsxQixrQkFBa0IsRUFBRXJFLDhCQUE4QixFQUFFLEdBQzFEekcsT0FBT3ArRCxPQUFPO2dCQUNoQixJQUFJLEVBQUVtcEUsd0JBQXdCLENBQUMsRUFBRSxHQUFHL0ssT0FBT3ArRCxPQUFPO2dCQUNsRG1wRSx3QkFBd0JsbUUsS0FBS3FRLEdBQUcsQ0FBQzYxRCx1QkFBdUI7Z0JBRXhELE1BQU1DLGFBQXNCLEVBQUU7Z0JBQzlCLElBQUssSUFBSXJ5RCxVQUFVLEdBQUdBLFVBQVVveUQsdUJBQXVCcHlELFVBQVc7b0JBQ2hFLElBQUk7d0JBQ0YsSUFBSSxDQUFDeEYsTUFBTSxDQUFDLFNBQVMsQ0FBb0IsbUJBQUF3RixRQUFVLElBQUUySDt3QkFDckQsT0FBT0EsS0FBS1MsSUFBSSxLQUFLLFVBQ2pCLE1BQU1pL0MsT0FBT2lILGdCQUFnQixDQUFDM21ELFFBQzlCLE1BQU0wL0MsT0FBT2lHLFdBQVcsQ0FBQzNsRCxNQUFNd2tEO3NCQUNuQyxPQUFPbnhELEtBQUs7d0JBQ1osSUFBSSxDQUFDUixNQUFNLENBQUMsUUFBUSxDQUE2Qiw0QkFBQXdGLFFBQVUsSUFBRWhGO3dCQUM3RHEzRCxXQUFXanFFLElBQUksQ0FBQzRTO3dCQUNoQixJQUFJZ0YsWUFBWW95RCx3QkFBd0IsR0FBRzs0QkFDekNELHFCQUFxQm4zRCxLQUFjcTNEOzRCQUNuQyxNQUFNcjNEOzs7O3dCQUtSLElBQUk4eUQsZ0NBQWdDOzRCQUNsQyxNQUFNekcsT0FBTzJHLGNBQWM7O3dCQUc3QixNQUFNdnlELE1BQU1ZLGNBQWMyRDs7O1lBR2hDOztZQUlGLElBQUlreUQscUJBQXFCSSxJQUFJO2dCQUMzQixJQUFJLENBQUNiLG1CQUFtQixDQUFDL3BELGdCQUFnQixDQUFDd3FELG9CQUFvQkksRUFBRTs7WUFHbEUsSUFBSSxDQUFDalgsZUFBZTtZQUVwQixPQUFPNlc7UUFDVDtRQUVBOzs7Ozs7O1NBT0csR0FDSCxLQUFBbEUsY0FBYyxHQUFHLE9BQU9qMEQ7WUFDdEIsTUFBTXdLLG1CQUFtQixJQUFJLENBQUM2c0Qsd0JBQXdCLEVBQUU7Z0JBQ3RELE1BQU0sRUFBRXpwRCxJQUFJLEVBQUV6ZixHQUFHLEVBQUUsR0FBRyxJQUFJLENBQUNrMEMsWUFBWTtnQkFDdkMsSUFBSSxDQUFDejBCLE1BQU07Z0JBRVgsTUFBTSxJQUFJLENBQUN5MEIsWUFBWSxDQUFDNHhCLGNBQWMsQ0FBQ2owRDtnQkFFdkMsSUFBSTROLEtBQUtVLEVBQUUsRUFBRTtvQkFDWDJvRCxrQkFBa0JPLFVBQVUsQ0FBQzNyRCxNQUFNLENBQUMycUQsZUFBZXJvRSxLQUFLeWY7O2dCQUUxRCxJQUFJLENBQUN3cEQseUJBQXlCLENBQUNsd0QsT0FBTyxDQUFDLENBQUN5cEMsYUFBZUE7Z0JBQ3ZELElBQUksQ0FBQ3ltQix5QkFBeUIsR0FBRyxFQUFFO2dCQUNuQyxJQUFJLENBQUNELGlCQUFpQixHQUFHO2dCQUN6QixJQUFJLENBQUNPLG1CQUFtQixDQUFDL3BELGdCQUFnQixDQUFDcGQ7WUFDNUM7UUFDRjtRQUVBOzs7Ozs7OztTQVFHLEdBQ0gsS0FBQWtaLEVBQUUsR0FBRyxDQUNIWixXQUNBMDRCO1lBRUEsT0FBTyxJQUFJLENBQUNjLFlBQVksQ0FBQzU0QixFQUFFLENBQUNaLFdBQVcwNEI7UUFDekM7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUE1M0IsR0FBRyxHQUFHLENBQ0pkLFdBQ0EwNEI7WUFFQSxPQUFPLElBQUksQ0FBQ2MsWUFBWSxDQUFDMTRCLEdBQUcsQ0FBQ2QsV0FBVzA0QjtRQUMxQztRQUVBOzs7OztTQUtHLEdBQ0gsSUFBSSxDQUFBdC9CLElBQUEsR0FBRyxDQUNMb00sTUFDQUMsSUFDQXBmLFVBQXVDLEVBQUU7WUFFekMsTUFBTStTLE9BQU8vUyxRQUFRc3BFLGFBQUEsR0FDakIsSUFBSSxDQUFDZCxtQkFBbUIsQ0FBQ3RwRCxRQUFRLENBQUNDLE1BQU1DLE1BQ3hDL2Q7WUFDSixPQUNFMFIsUUFDQSxJQUFJdEwsS0FBSztnQkFDUDByQyxjQUFjLElBQUksQ0FBQ0EsWUFBWTtnQkFDL0IvekIsSUFBSUE7Z0JBQ0pELE1BQU1BO2dCQUNOK3hDLGFBQWEsSUFBSSxDQUFDc1gsbUJBQW1CO1lBQ3RDO1FBRUw7UUFFQTs7OztTQUlHLEdBQ0gsS0FBQWUsZUFBZSxHQUFHLE9BQU85c0M7WUFDdkIsT0FBTyxJQUFJLENBQUMwVyxZQUFZLENBQUNveUIsY0FBYyxDQUdyQyxRQUFRLFVBQVU5b0MsTUFBTTtnQkFBRStvQyxnQkFBZ0I7WUFBSTtRQUNsRDtRQUVBOzs7O1NBSUcsR0FDSCxLQUFBaUQsVUFBVSxHQUFHLE9BQU9oc0MsT0FBMEIsRUFBRTtZQUM5QyxNQUFNOTlCLFdBQVcsTUFBTSxJQUFJLENBQUN3MEMsWUFBWSxDQUFDbWhCLElBQUksQ0FHM0MsVUFBVTczQjtZQUNaLE1BQU01ZCxRQUFRLEVBQUU7WUFDaEIsS0FBSyxNQUFNRSxLQUFLcGdCLFNBQVNrZ0IsS0FBSyxDQUFFO2dCQUM5QixNQUFNOUwsT0FBTyxJQUFJdEwsS0FBSztvQkFDcEIwckMsY0FBYyxJQUFJLENBQUNBLFlBQVk7b0JBQy9CL3pCLElBQUlMLEVBQUVoTSxJQUFJLENBQUNxTSxFQUFFO29CQUNiRCxNQUFNSixFQUFFaE0sSUFBSSxDQUFDb00sSUFBSTtvQkFDakJtSCxTQUFTdkgsRUFBRXVILE9BQU87b0JBQ2xCOEssaUJBQWlCclMsRUFBRW9PLGdCQUFnQjtvQkFDbkNna0MsVUFBVTEwQixLQUFLaXNDLEtBQUs7b0JBQ3BCeFgsYUFBYSxJQUFJLENBQUNzWCxtQkFBbUI7Z0JBQ3RDO2dCQUNEejFELEtBQUtzTSxLQUFLLENBQUNtSyxzQkFBc0IsQ0FBQ3pLLEVBQUVoTSxJQUFJO2dCQUN4QyxNQUFNQSxLQUFLa2hELGlCQUFpQixDQUFDbDFDLEVBQUVoTSxJQUFJLENBQUNzWCxRQUFRLEVBQUU7Z0JBQzlDLElBQUlvUyxLQUFLaXNDLEtBQUssRUFBRTtvQkFDZCxNQUFNMzFELEtBQUt5K0IsS0FBSztvQkFDaEIsSUFBSSxDQUFDZzNCLG1CQUFtQixDQUFDMXBELFlBQVksQ0FBQy9MOztnQkFFeEM4TCxNQUFNMWYsSUFBSSxDQUFDNFQ7O1lBRWIsT0FBTztnQkFDTCxHQUFHcFUsUUFBUTtnQkFDWGtnQixPQUFPQTs7UUFFWDtRQUVBOzs7OztTQUtHLEdBQ0gsS0FBQTJxRCxjQUFjLEdBQUcsT0FBTy9zQyxPQUE4QixFQUFFO1lBQ3RELE9BQU8sSUFBSSxDQUFDMFcsWUFBWSxDQUFDbWhCLElBQUksQ0FHM0IsQ0FBYSxjQUFFNzNCO1FBQ25CO1FBRUE7Ozs7O1NBS0csR0FDSCxLQUFBZ3RDLHVCQUF1QixHQUFHLE9BQ3hCaHRDLE9BQXVDLEVBQUU7WUFFekMsT0FBTyxJQUFJLENBQUMwVyxZQUFZLENBQUNtaEIsSUFBSSxDQUczQixDQUFRLFNBQUU3M0I7UUFDZDtRQUVBOztTQUVHLEdBQ0gsSUFBSyxDQUFBaXRDLEtBQUEsR0FBRztZQUNOLE9BQU8sSUFBSSxDQUFDdjJCLFlBQVksQ0FBQ2ozQixHQUFHLENBQW1CLFFBQVE7UUFDekQ7UUFFQTs7Ozs7Ozs7U0FRRyxHQUNILEtBQUF5dEQsU0FBUyxHQUFHLE9BQ1Z2cUQsSUFDQXdxRCxlQUNBQyxvQkFDQXZGLFFBQ0F3RjtZQUVBLE9BQU8sTUFBTSxJQUFJLENBQUMzMkIsWUFBWSxDQUFDbWhCLElBQUksQ0FBc0IsWUFBWTtnQkFDbkVsMUM7Z0JBQ0F3cUQ7Z0JBQ0FFO2dCQUNBLEdBQUl4RixVQUFVLE9BQU87b0JBQUU5NEMsU0FBUzg0QztnQkFBTSxJQUFLLEVBQUU7Z0JBQzdDLEdBQUl1RixzQkFBc0IsT0FBTztvQkFBRUE7Z0JBQWtCLElBQUssRUFBRTtZQUM3RDtRQUNIO1FBRUE7Ozs7Ozs7U0FPRyxHQUNILElBQWEsQ0FBQUUsYUFBQSxHQUFHLE9BQ2QzcUQsSUFDQXdxRCxlQUNBQyxvQkFDQXZGO1lBRUEsT0FBTyxNQUFNLElBQUksQ0FBQ3FGLFNBQVMsQ0FDekJ2cUQsSUFDQXdxRCxlQUNBQyxvQkFDQXZGLFFBQ0E7UUFFSjtRQUVBOzs7U0FHRyxHQUNILEtBQUFuaEIsVUFBVSxHQUFHLE9BQU9taEI7WUFDbEIsT0FBTyxNQUFNLElBQUksQ0FBQ254QixZQUFZLENBQUNqM0IsR0FBRyxDQUNoQyxZQUNBb29ELFNBQVM7Z0JBQUU5NEMsU0FBUzg0QztZQUFNLElBQUs7UUFFbkM7UUFFQTs7Ozs7U0FLRyxHQUNILEtBQUEwRixZQUFZLEdBQUcsT0FBTzVxRCxJQUFZa2xEO1lBQ2hDLE9BQU8sTUFBTSxJQUFJLENBQUNueEIsWUFBWSxDQUFDeDJCLE1BQU0sQ0FBQyxZQUFZO2dCQUNoRHlDO2dCQUNBLEdBQUlrbEQsU0FBUztvQkFBRTk0QyxTQUFTODRDO2dCQUFNLElBQUssRUFBRTtZQUN0QztRQUNIO1FBRUE7Ozs7U0FJRyxHQUNILEtBQUEyRixhQUFhLEdBQUcsT0FBTzVXOzs7WUFHckIsSUFBSXRnRCxPQUFPLElBQUksQ0FBQ3NNLEtBQUssQ0FBQ1IsS0FBSyxDQUFDamQsSUFBSSxDQUFDLENBQUNtZCxJQUFNQSxFQUFFQyxHQUFHLEtBQUtxMEMsWUFBWXQwQyxFQUFFcTdCLE9BQU87WUFDdkUsSUFBSSxDQUFDcm5DLE1BQU07O2dCQUVULE1BQU0sQ0FBQ3l1QyxVQUFVMG9CLE9BQU8sR0FBRzdXLFNBQVMxNkIsS0FBSyxDQUFDO2dCQUMxQzVsQixPQUFPLElBQUl0TCxLQUFLO29CQUNkMHJDLGNBQWMsSUFBSSxDQUFDQSxZQUFZO29CQUMvQmgwQixNQUFNcWlDO29CQUNOcGlDLElBQUk4cUQ7b0JBQ0poWixhQUFhLElBQUksQ0FBQ3NYLG1CQUFtQjtvQkFDckNwdUIsU0FBUztnQkFDVjtnQkFDRCxNQUFNcm5DLEtBQUttSixHQUFHOztZQUdoQixPQUFPbko7UUFDVDtRQUVBOzs7OztTQUtHLEdBQ0ssS0FBQTJ5RCxvQkFBb0IsR0FBRyxPQUM3QmhuRCxNQUNBd2tEO1lBRUEsT0FBTzVuRCxtQkFBbUIsSUFBSSxDQUFDNnNELHdCQUF3QixFQUFFLElBQ3ZELElBQUksQ0FBQ2gxQixZQUFZLENBQUN1eUIsb0JBQW9CLENBQUNobkQsTUFBTXdrRDtRQUVqRDtRQTNlRSxNQUFNcUUsU0FDSixPQUFPUyxpQkFBaUIsV0FBV0EsZUFBZUEsYUFBYVQsTUFBTTtRQUN2RSxNQUFNNEMsZ0JBQ0osT0FBT25DLGlCQUFpQixXQUFXbnlDLE9BQU9teUMsYUFBYWhvRSxPQUFPO1FBRWhFLElBQUltcUUsZUFBZXYzQixtQkFBbUJBO1FBRXRDLE1BQU13M0IsYUFBYUQsZUFBZTU0RCxVQUFVbUU7UUFDNUNNLFVBQVVvMEQsWUFBWUQsZUFBZXgwRCxZQUFZO1FBRWpELElBQUksQ0FBQ3BFLE1BQU0sR0FBRzhFLFVBQVU7WUFBQztTQUFTO1FBRWxDLElBQUksQ0FBQzg4QixZQUFZLEdBQUd1MEIsd0JBQXdCSCxRQUFRNEM7UUFFcEQsSUFBSSxDQUFDM0IsbUJBQW1CLEdBQUcsSUFBSW5xRDtRQUMvQixJQUFJLENBQUNnc0Qsa0JBQWtCLEdBQUcsSUFBSXpxRCw4QkFDNUIsSUFBSSxDQUFDNG9ELG1CQUFtQjtRQUcxQixJQUFJLE9BQU9SLGlCQUFpQixZQUFZQSxhQUFhdHBELElBQUksRUFBRTtZQUN6RCxNQUFNQSxPQUFPc3BELGFBQWF0cEQsSUFBSTtZQUM5QixJQUFJQSxLQUFLUyxJQUFJLEtBQUssYUFBYVQsS0FBS1UsRUFBRSxHQUFHO1lBQ3pDLElBQUlWLEtBQUtVLEVBQUUsRUFBRSxJQUFJLENBQUNncEQsc0JBQXNCLENBQUNiLFFBQVE3b0Q7WUFFakQsTUFBTXdrRCxrQkFBa0IwRSxzQkFBc0JJO1lBQzlDLElBQUksQ0FBQzNELFdBQVcsQ0FBQzNsRCxNQUFNd2tELGlCQUFpQnpqRCxLQUFLLENBQUMsQ0FBQzFOO2dCQUM3QyxJQUFJLENBQUNSLE1BQU0sQ0FBQyxTQUFTLHFCQUFxQlE7WUFDNUM7OztJQUlKOztLQUVHLEdBQ0gsT0FBT3U0RCxvQkFDTDEwRCxJQUErQztRQUUvQyxNQUFNLEVBQUUyeEQsTUFBTSxFQUFFN29ELElBQUksRUFBRTQyQixLQUFLLEVBQUU4dEIsYUFBYSxFQUFFLEdBQUd4dEQ7UUFDL0MsSUFBSSxDQUFDOEksS0FBS1UsRUFBRSxJQUFJVixLQUFLUyxJQUFJLEtBQUssYUFBYTtZQUN6QyxNQUFNLElBQUk3Z0IsTUFBTTs7UUFHbEIsSUFDRSxDQUFDZzNDLFNBQ0QsQ0FBQzh0QixpQkFDRDFrRCxLQUFLUyxJQUFJLEtBQUssZUFDZFQsS0FBS1MsSUFBSSxLQUFLLFNBQ2Q7WUFDQSxNQUFNLElBQUk3Z0IsTUFDUjs7UUFJSixPQUNFeXBFLGtCQUFrQk8sVUFBVSxDQUFDcHNELEdBQUcsQ0FBQ29yRCxlQUFlQyxRQUFRN29ELFVBQ3hELElBQUlxcEQsa0JBQWtCbnlEOztJQWUxQjs7S0FFRyxHQUNILElBQUl5SixRQUFLO1FBQ1AsT0FBTyxJQUFJLENBQUNnckQsa0JBQWtCOzs7QUFyRmpCdEMsa0JBQUFPLFVBQVUsR0FBRyxJQUFJMXNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZ2VuL2Nvb3JkaW5hdG9yL2luZGV4LnRzPzdjZWEiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcy50cz83YzI3Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2dlbi9nb29nbGUvcHJvdG9idWYvc3RydWN0LnRzP2RmNjciLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZ2VuL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAudHM/MmUxYyIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMudHM/MmRkZSIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLnRzP2NjOTYiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMudHM/N2M3YSIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy90eXBlcy50cz80NzlkIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwuY2xpZW50LnRzP2FmZWQiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvcnBjL2NyZWF0ZUNsaWVudC50cz9jNmE4Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdXRpbHMudHM/Njg2NiIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9oZWxwZXJzL3BsYXRmb3Jtcy50cz8zZDMwIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2xvZ2dlci50cz84NzQ2Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL3JwYy9yZXRyeWFibGUudHM/NmQzYyIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9ydGMvY29kZWNzLnRzP2RlYjUiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvcnRjL0Rpc3BhdGNoZXIudHM/ZDAxZSIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9ydGMvSWNlVHJpY2tsZUJ1ZmZlci50cz9mZjZlIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2hlbHBlcnMvY29uY3VycmVuY3kudHM/ZGUxZCIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9zdG9yZS9yeFV0aWxzLnRzPzc5NDEiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvc3RvcmUvQ2FsbGluZ1N0YXRlLnRzP2NhMjMiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvc3RvcmUvc3RhdGVTdG9yZS50cz8wMThhIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL3NvcnRpbmcvY29tcGFyYXRvci50cz84YTcyIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2hlbHBlcnMvcGFydGljaXBhbnRVdGlscy50cz84OTg4Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL3NvcnRpbmcvcGFydGljaXBhbnRzLnRzPzU4NWIiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvc29ydGluZy9wcmVzZXRzLnRzP2JjNDgiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvc3RvcmUvQ2FsbFN0YXRlLnRzPzU3YjgiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvcnRjL05lZ290aWF0aW9uRXJyb3IudHM/NzRiYSIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9zdGF0cy91dGlscy50cz80MDdlIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2hlbHBlcnMvYnJvd3NlcnMudHM/YTg0NiIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9zdGF0cy9DYWxsU3RhdGVTdGF0c1JlcG9ydGVyLnRzP2Q5OTIiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvaGVscGVycy9jbGllbnQtZGV0YWlscy50cz9iZmQ3Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL3N0YXRzL1NmdVN0YXRzUmVwb3J0ZXIudHM/MjFjNSIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9zdGF0cy9ydGMvcGMudHM/YzYwYyIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9zdGF0cy9ydGMvU3RhdHNUcmFjZXIudHM/MjliNyIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9zdGF0cy9ydGMvVHJhY2VyLnRzPzkzMGIiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvcnRjL0Jhc2VQZWVyQ29ubmVjdGlvbi50cz8yYjFkIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL3J0Yy9UcmFuc2NlaXZlckNhY2hlLnRzP2Q2ZmYiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvaGVscGVycy9lbnN1cmVFeGhhdXN0ZWQudHM/ZjRkMSIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9ydGMvaGVscGVycy90cmFja3MudHM/ZTY5OCIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9ydGMvdmlkZW9MYXllcnMudHM/YmI3MCIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9ydGMvaGVscGVycy9zZHAudHM/NDY4ZiIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9ydGMvUHVibGlzaGVyLnRzPzQwYmQiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvcnRjL1N1YnNjcmliZXIudHM/NjhkMyIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9ydGMvc2lnbmFsLnRzP2Q3MWIiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvcnRjL2hlbHBlcnMvcnRjQ29uZmlndXJhdGlvbi50cz9kYWE3Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2hlbHBlcnMvcHJvbWlzZS50cz8wMGQ5Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2hlbHBlcnMvbGF6eS50cz9hM2E0Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL3RpbWVycy93b3JrZXIuYnVpbGQudHM/NTk3ZCIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy90aW1lcnMvaW5kZXgudHM/OTI3YSIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9TdHJlYW1TZnVDbGllbnQudHM/NWQyMyIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9ldmVudHMvY2FsbC50cz83NGYzIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2V2ZW50cy9jYWxsLXBlcm1pc3Npb25zLnRzPzk5ZjAiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZXZlbnRzL2ludGVybmFsLnRzP2FlN2IiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZXZlbnRzL211dGVzLnRzPzIwOGYiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvaGVscGVycy9hcnJheS50cz83ZTVmIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2V2ZW50cy9wYXJ0aWNpcGFudC50cz85ZjVjIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2V2ZW50cy9zcGVha2VyLnRzPzY2MDMiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZXZlbnRzL2NhbGxFdmVudEhhbmRsZXJzLnRzPzI1OWIiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvaGVscGVycy9WaWV3cG9ydFRyYWNrZXIudHM/Nzg0YyIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9oZWxwZXJzL0R5bmFzY2FsZU1hbmFnZXIudHM/NDE3OCIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9wZXJtaXNzaW9ucy9QZXJtaXNzaW9uc0NvbnRleHQudHM/OGE4ZSIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9DYWxsVHlwZS50cz9hYjk3Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2RldmljZXMvQnJvd3NlclBlcm1pc3Npb24udHM/MWJmNyIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9kZXZpY2VzL2RldmljZXMudHM/YjQ3ZiIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9oZWxwZXJzL2NvbXBhdGliaWxpdHkudHM/NTI5OCIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9kZXZpY2VzL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyLnRzP2U2MTAiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZGV2aWNlcy9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlLnRzP2VhNzciLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZGV2aWNlcy9DYW1lcmFNYW5hZ2VyU3RhdGUudHM/MmM2MiIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9kZXZpY2VzL0NhbWVyYU1hbmFnZXIudHM/ZThhMiIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9kZXZpY2VzL01pY3JvcGhvbmVNYW5hZ2VyU3RhdGUudHM/M2YxMyIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9oZWxwZXJzL3NvdW5kLWRldGVjdG9yLnRzP2NiMmYiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvaGVscGVycy9STlNwZWVjaERldGVjdG9yLnRzPzZlYjUiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZGV2aWNlcy9NaWNyb3Bob25lTWFuYWdlci50cz9mNzZmIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2RldmljZXMvU2NyZWVuU2hhcmVTdGF0ZS50cz83OWRmIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2RldmljZXMvU2NyZWVuU2hhcmVNYW5hZ2VyLnRzPzEwODMiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvZGV2aWNlcy9TcGVha2VyU3RhdGUudHM/Mjk2OCIsIndlYnBhY2s6Ly96b29tLWNsb25lLy4uLy4uL3NyYy9kZXZpY2VzL1NwZWFrZXJNYW5hZ2VyLnRzPzIxNDUiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvQ2FsbC50cz83YjVlIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vZXJyb3JzLnRzPzIxMjYiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jb25uZWN0aW9uLnRzPzYwNmYiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9zaWduaW5nLnRzPzllYzMiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi90b2tlbl9tYW5hZ2VyLnRzPzAzZTIiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvY29vcmRpbmF0b3IvY29ubmVjdGlvbi9sb2NhdGlvbi50cz9jZjA5Iiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50LnRzPzNmMWYiLCJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uLi8uLi9zcmMvaGVscGVycy9jbGllbnRVdGlscy50cz9hMmJkIiwid2VicGFjazovL3pvb20tY2xvbmUvLi4vLi4vc3JjL1N0cmVhbVZpZGVvQ2xpZW50LnRzPzE0NDUiXSwic291cmNlc0NvbnRlbnQiOlsiLyogdHNsaW50OmRpc2FibGUgKi9cblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBBUElFcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFQSUVycm9yIHtcbiAgLyoqXG4gICAqIFJlc3BvbnNlIEhUVFAgc3RhdHVzIGNvZGVcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBTdGF0dXNDb2RlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBBUEkgZXJyb3IgY29kZVxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIGNvZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEFkZGl0aW9uYWwgZXJyb3Itc3BlY2lmaWMgaW5mb3JtYXRpb25cbiAgICogQHR5cGUge0FycmF5PG51bWJlcj59XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgZGV0YWlsczogQXJyYXk8bnVtYmVyPjtcbiAgLyoqXG4gICAqIFJlcXVlc3QgZHVyYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogQWRkaXRpb25hbCBlcnJvciBpbmZvXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBleGNlcHRpb25fZmllbGRzPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqIE1lc3NhZ2UgZGVzY3JpYmluZyBhbiBlcnJvclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQVBJRXJyb3JcbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqIFVSTCB3aXRoIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEFQSUVycm9yXG4gICAqL1xuICBtb3JlX2luZm86IHN0cmluZztcbiAgLyoqXG4gICAqIEZsYWcgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGVycm9yIGlzIHVucmVjb3ZlcmFibGUsIHJlcXVlc3RzIHRoYXQgcmV0dXJuIHVucmVjb3ZlcmFibGUgZXJyb3JzIHNob3VsZCBub3QgYmUgcmV0cmllZCwgdGhpcyBlcnJvciBvbmx5IGFwcGxpZXMgdG8gdGhlIHJlcXVlc3QgdGhhdCBjYXVzZWQgaXRcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBUElFcnJvclxuICAgKi9cbiAgdW5yZWNvdmVyYWJsZT86IGJvb2xlYW47XG59XG4vKipcbiAqIEFjY2VwdENhbGxSZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3IgYWNjZXB0aW5nIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQWNjZXB0Q2FsbFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQWNjZXB0Q2FsbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQWNjZXB0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBBdWRpb1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBkZWZhdWx0X2RldmljZTogQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1pY19kZWZhdWx0X29uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG5vaXNlX2NhbmNlbGxhdGlvbj86IE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3M7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBvcHVzX2R0eF9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHJlZHVuZGFudF9jb2RpbmdfZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBzcGVha2VyX2RlZmF1bHRfb24/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW0gPSB7XG4gIFNQRUFLRVI6ICdzcGVha2VyJyxcbiAgRUFSUElFQ0U6ICdlYXJwaWVjZScsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bSA9XG4gICh0eXBlb2YgQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bSlba2V5b2YgdHlwZW9mIEF1ZGlvU2V0dGluZ3NSZXF1ZXN0RGVmYXVsdERldmljZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGRlZmF1bHRfZGV2aWNlOiBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtaWNfZGVmYXVsdF9vbjogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzfVxuICAgKiBAbWVtYmVyb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBub2lzZV9jYW5jZWxsYXRpb24/OiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG9wdXNfZHR4X2VuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEF1ZGlvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcmVkdW5kYW50X2NvZGluZ19lbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHNwZWFrZXJfZGVmYXVsdF9vbjogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bSA9IHtcbiAgU1BFQUtFUjogJ3NwZWFrZXInLFxuICBFQVJQSUVDRTogJ2VhcnBpZWNlJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bSA9XG4gICh0eXBlb2YgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlRGVmYXVsdERldmljZUVudW0pW2tleW9mIHR5cGVvZiBBdWRpb1NldHRpbmdzUmVzcG9uc2VEZWZhdWx0RGV2aWNlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBCYWNrc3RhZ2VTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGpvaW5fYWhlYWRfdGltZV9zZWNvbmRzPzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEJhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGVuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQmFja3N0YWdlU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgam9pbl9haGVhZF90aW1lX3NlY29uZHM/OiBudW1iZXI7XG59XG4vKipcbiAqIEJsb2NrVXNlclJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIGJsb2NraW5nIGEgdXNlci5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tVc2VyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrVXNlclJlcXVlc3Qge1xuICAvKipcbiAgICogdGhlIHVzZXIgdG8gYmxvY2tcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrVXNlclJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICogQmxvY2tVc2VyUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIGJsb2NraW5nIGEgdXNlci5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tVc2VyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCbG9ja1VzZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrVXNlclJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgdG8gY2FsbCBwYXJ0aWNpcGFudHMgdG8gbm90aWZ5IHdoZW4gYSB1c2VyIGlzIGJsb2NrZWQgb24gYSBjYWxsLCBjbGllbnRzIGNhbiB1c2UgdGhpcyBldmVudCB0byBzaG93IGEgbm90aWZpY2F0aW9uLlxuICogSWYgdGhlIHVzZXIgaXMgdGhlIGN1cnJlbnQgdXNlciwgdGhlIGNsaWVudCBzaG91bGQgbGVhdmUgdGhlIGNhbGwgc2NyZWVuIGFzIHdlbGxcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQmxvY2tlZFVzZXJFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJsb2NrZWRVc2VyRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGJsb2NrZWRfYnlfdXNlcj86IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEJsb2NrZWRVc2VyRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuYmxvY2tlZF91c2VyXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBCbG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBCb3VuZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEJvdW5kIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQm91bmRcbiAgICovXG4gIGluY2x1c2l2ZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBCb3VuZFxuICAgKi9cbiAgdmFsdWU6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtITFNTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBCcm9hZGNhc3RTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGhscz86IEhMU1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSVE1QU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBydG1wPzogUlRNUFNldHRpbmdzUmVxdWVzdDtcbn1cbi8qKlxuICogQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3IgYnJvYWRjYXN0aW5nIHNldHRpbmdzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEJyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtITFNTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgaGxzOiBITFNTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JUTVBTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQnJvYWRjYXN0U2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcnRtcDogUlRNUFNldHRpbmdzUmVzcG9uc2U7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgdXNlciBhY2NlcHRzIGEgbm90aWZpY2F0aW9uIHRvIGpvaW4gYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQWNjZXB0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxBY2NlcHRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmFjY2VwdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQWNjZXB0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxBY2NlcHRlZEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqIENhbGxDbG9zZWRDYXB0aW9uIHJlcHJlc2VudHMgYSBjbG9zZWQgY2FwdGlvbiBvZiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxDbG9zZWRDYXB0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICBlbmRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICBzcGVha2VyX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25cbiAgICovXG4gIHN0YXJ0X3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvblxuICAgKi9cbiAgdGV4dDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uXG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgY2xvc2VkIGNhcHRpb25zIGhhcyBmYWlsZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNGYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuY2xvc2VkX2NhcHRpb25zX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCBjbG9zZWQgY2FwdGlvbiBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uc1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuY2xvc2VkX2NhcHRpb25zX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uc1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIGNsb3NlZCBjYXB0aW9ucyBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxDbG9zZWRDYXB0aW9uc1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9zdG9wcGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIGlzIGNyZWF0ZWQuIENsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIGNoZWNrIGlmIHRoZSByaW5naW5nXG4gKiBmaWVsZCBpcyBzZXQgdG8gdHJ1ZSBhbmQgaWYgc28sIHNob3cgdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxDcmVhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsQ3JlYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsQ3JlYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgbWVtYmVycyBhZGRlZCB0byB0aGlzIGNhbGxcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxDcmVhdGVkRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuY3JlYXRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbENyZWF0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgaXMgZGVsZXRlZC4gQ2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgbGVhdmUgdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxEZWxldGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsRGVsZXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsRGVsZXRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbERlbGV0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRGVsZXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmRlbGV0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxEZWxldGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbER1cmF0aW9uUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbER1cmF0aW9uUmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldD59XG4gICAqIEBtZW1iZXJvZiBDYWxsRHVyYXRpb25SZXBvcnRcbiAgICovXG4gIGhpc3RvZ3JhbTogQXJyYXk8UmVwb3J0QnlIaXN0b2dyYW1CdWNrZXQ+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZT47XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyBtYXJrIGFzIGVuZGVkIGZvciBhbGwgaXRzIHBhcnRpY2lwYW50cy4gQ2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgbGVhdmUgdGhlIGNhbGwgc2NyZWVuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxFbmRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEVuZGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEVuZGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEVuZGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSByZWFzb24gd2h5IHRoZSBjYWxsIGVuZGVkLCBpZiBhdmFpbGFibGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmVuZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRW5kZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxFbmRlZEV2ZW50XG4gICAqL1xuICB1c2VyPzogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBmcmFtZSByZWNvcmRpbmcgaGFzIGZhaWxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsRnJhbWVSZWNvcmRpbmdGYWlsZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxGcmFtZVJlY29yZGluZ0ZhaWxlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGVncmVzc19pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5mcmFtZV9yZWNvcmRpbmdfZmFpbGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGZyYW1lIGlzIGNhcHR1cmVkIGZyb20gYSBjYWxsXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nRnJhbWVSZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHRpbWUgdGhlIGZyYW1lIHdhcyBjYXB0dXJlZFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nRnJhbWVSZWFkeUV2ZW50XG4gICAqL1xuICBjYXB0dXJlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ0ZyYW1lUmVhZHlFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHRyYWNrIGZyYW1lIHdhcyBjYXB0dXJlZCBmcm9tIChUUkFDS19UWVBFX1ZJREVPfFRSQUNLX1RZUEVfU0NSRUVOX1NIQVJFKVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nRnJhbWVSZWFkeUV2ZW50XG4gICAqL1xuICB0cmFja190eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmZyYW1lX3JlY29yZGluZ19yZWFkeVwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nRnJhbWVSZWFkeUV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgVVJMIG9mIHRoZSBmcmFtZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nRnJhbWVSZWFkeUV2ZW50XG4gICAqL1xuICB1cmw6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB1c2VycyBpbiB0aGUgZnJhbWVcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogVXNlclJlc3BvbnNlOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nRnJhbWVSZWFkeUV2ZW50XG4gICAqL1xuICB1c2VyczogeyBba2V5OiBzdHJpbmddOiBVc2VyUmVzcG9uc2UgfTtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gZnJhbWUgcmVjb3JkaW5nIGhhcyBzdGFydGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxGcmFtZVJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxGcmFtZVJlY29yZGluZ1N0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmZyYW1lX3JlY29yZGluZ19zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gZnJhbWUgcmVjb3JkaW5nIGhhcyBzdG9wcGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxGcmFtZVJlY29yZGluZ1N0b3BwZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxGcmFtZVJlY29yZGluZ1N0b3BwZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEZyYW1lUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxGcmFtZVJlY29yZGluZ1N0b3BwZWRFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmZyYW1lX3JlY29yZGluZ19zdG9wcGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsRnJhbWVSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gSExTIGJyb2FkY2FzdGluZyBoYXMgZmFpbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5obHNfYnJvYWRjYXN0aW5nX2ZhaWxlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIEhMUyBicm9hZGNhc3RpbmcgaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBobHNfcGxheWxpc3RfdXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLmhsc19icm9hZGNhc3Rpbmdfc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEhMU0Jyb2FkY2FzdGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBITFMgYnJvYWRjYXN0aW5nIGhhcyBzdG9wcGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxITFNCcm9hZGNhc3RpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuaGxzX2Jyb2FkY2FzdGluZ19zdG9wcGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIENhbGxJbmdyZXNzUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIGluZ3Jlc3Mgc2V0dGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbEluZ3Jlc3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxJbmdyZXNzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JUTVBJbmdyZXNzfVxuICAgKiBAbWVtYmVyb2YgQ2FsbEluZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgcnRtcDogUlRNUEluZ3Jlc3M7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyBzdGFydGVkLiBDbGllbnRzIHJlY2VpdmluZyB0aGlzIGV2ZW50IHNob3VsZCBzdGFydCB0aGUgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTGl2ZVN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbExpdmVTdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTGl2ZVN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5saXZlX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxMaXZlU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIG9uZSBvciBtb3JlIG1lbWJlcnMgYXJlIGFkZGVkIHRvIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxNZW1iZXJBZGRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyQWRkZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgbWVtYmVycyBhZGRlZCB0byB0aGlzIGNhbGxcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJBZGRlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm1lbWJlcl9hZGRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlckFkZGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gb25lIG9yIG1vcmUgbWVtYmVycyBhcmUgcmVtb3ZlZCBmcm9tIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1lbWJlclJlbW92ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJSZW1vdmVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIGxpc3Qgb2YgbWVtYmVyIElEcyByZW1vdmVkIGZyb20gdGhlIGNhbGxcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfcmVtb3ZlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclJlbW92ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBvbmUgb3IgbW9yZSBtZW1iZXJzIGFyZSB1cGRhdGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNZW1iZXJVcGRhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBtZW1iZXJzIHRoYXQgd2VyZSB1cGRhdGVkXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm1lbWJlcl91cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIG9uZSBvciBtb3JlIG1lbWJlcnMgZ2V0IGl0cyByb2xlIHVwZGF0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1lbWJlclVwZGF0ZWRQZXJtaXNzaW9uRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBjYXBhYmlsaXRpZXMgYnkgcm9sZSBmb3IgdGhpcyBjYWxsXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IEFycmF5PHN0cmluZz47IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgY2FwYWJpbGl0aWVzX2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBtZW1iZXJzIHRoYXQgd2VyZSB1cGRhdGVkXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudFxuICAgKi9cbiAgbWVtYmVyczogQXJyYXk8TWVtYmVyUmVzcG9uc2U+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5tZW1iZXJfYWRkZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNZW1iZXJVcGRhdGVkUGVybWlzc2lvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBjYWxsIG1lbWJlcnMgd2hvIGRpZCBub3QgYWNjZXB0L3JlamVjdC9qb2luIHRoZSBjYWxsIHRvIG5vdGlmeSB0aGV5IG1pc3NlZCB0aGUgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTWlzc2VkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTWlzc2VkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNaXNzZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIExpc3Qgb2YgbWVtYmVycyB3aG8gbWlzc2VkIHRoZSBjYWxsXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsTWlzc2VkRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBub3RpZnlfdXNlcjogYm9vbGVhbjtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLm5vdGlmaWNhdGlvblwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1pc3NlZEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxNb2RlcmF0aW9uQmx1ckV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbE1vZGVyYXRpb25CbHVyRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNb2RlcmF0aW9uQmx1ckV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNb2RlcmF0aW9uQmx1ckV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsTW9kZXJhdGlvbkJsdXJFdmVudFxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNb2RlcmF0aW9uQmx1ckV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1vZGVyYXRpb25CbHVyRXZlbnRcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbE1vZGVyYXRpb25XYXJuaW5nRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTW9kZXJhdGlvbldhcm5pbmdFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1vZGVyYXRpb25XYXJuaW5nRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1vZGVyYXRpb25XYXJuaW5nRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxNb2RlcmF0aW9uV2FybmluZ0V2ZW50XG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbE1vZGVyYXRpb25XYXJuaW5nRXZlbnRcbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTW9kZXJhdGlvbldhcm5pbmdFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxNb2RlcmF0aW9uV2FybmluZ0V2ZW50XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBhbGwgY2FsbCBtZW1iZXJzIHRvIG5vdGlmeSB0aGV5IGFyZSBnZXR0aW5nIGNhbGxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsTm90aWZpY2F0aW9uRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsTm90aWZpY2F0aW9uRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgbWVtYmVyc1xuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50XG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ub3RpZmljYXRpb25cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxOb3RpZmljYXRpb25FdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldD59XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFxuICAgKi9cbiAgaGlzdG9ncmFtOiBBcnJheTxSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldD47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgZGFpbHk6IEFycmF5PERhaWx5QWdncmVnYXRlQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnRSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gICAqL1xuICBqb2luZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUGFydGljaXBhbnRSZXNwb25zZVxuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlXG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2VcbiAgICovXG4gIHVzZXJfc2Vzc2lvbl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHJlYWN0aW9uIGlzIHNlbnQgaW4gYSBjYWxsLCBjbGllbnRzIHNob3VsZCB1c2UgdGhpcyB0byBzaG93IHRoZSByZWFjdGlvbiBpbiB0aGUgY2FsbCBzY3JlZW5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlYWN0aW9uRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVhY3Rpb25FdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlYWN0aW9uRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlYWN0aW9uRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWFjdGlvblJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlYWN0aW9uRXZlbnRcbiAgICovXG4gIHJlYWN0aW9uOiBSZWFjdGlvblJlc3BvbnNlO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWFjdGlvbl9uZXdcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWFjdGlvbkV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIENhbGxSZWNvcmRpbmcgcmVwcmVzZW50cyBhIHJlY29yZGluZyBvZiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICBlbmRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdcbiAgICovXG4gIGZpbGVuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1xuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdcbiAgICovXG4gIHN0YXJ0X3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nXG4gICAqL1xuICB1cmw6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCByZWNvcmRpbmcgaGFzIGZhaWxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdGYWlsZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIGVncmVzc19pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5yZWNvcmRpbmdfZmFpbGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nRmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCByZWNvcmRpbmcgaXMgcmVhZHlcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1JlYWR5RXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlY29yZGluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX3JlY29yZGluZzogQ2FsbFJlY29yZGluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50XG4gICAqL1xuICBlZ3Jlc3NfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX3JlYWR5XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nUmVhZHlFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHJlY29yZGluZyBoYXMgc3RhcnRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlY29yZGluZ19zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgcmVjb3JkaW5nIGhhcyBzdG9wcGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVjb3JkaW5nU3RvcHBlZEV2ZW50XG4gICAqL1xuICBlZ3Jlc3NfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucmVjb3JkaW5nX3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIHJlamVjdHMgYSBub3RpZmljYXRpb24gdG8gam9pbiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZWplY3RlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJlamVjdGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlamVjdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFByb3ZpZGVzIGluZm9ybWF0aW9uIGFib3V0IHdoeSB0aGUgY2FsbCB3YXMgcmVqZWN0ZWQuIFlvdSBjYW4gcHJvdmlkZSBhbnkgdmFsdWUsIGJ1dCB0aGUgU3RyZWFtIEFQSSBhbmQgU0RLcyB1c2UgdGhlc2UgZGVmYXVsdCB2YWx1ZXM6IHJlamVjdGVkLCBjYW5jZWwsIHRpbWVvdXQgYW5kIGJ1c3lcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJlamVjdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVqZWN0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZWplY3RlZEV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBlbmRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHNjb3JlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBzdGFydGVkX2F0Pzogc3RyaW5nO1xufVxuLyoqXG4gKiBDYWxsUmVxdWVzdCBpcyB0aGUgcGF5bG9hZCBmb3IgY3JlYXRpbmcgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1lbWJlcnM/OiBBcnJheTxNZW1iZXJSZXF1ZXN0PjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlcXVlc3RcbiAgICovXG4gIHNldHRpbmdzX292ZXJyaWRlPzogQ2FsbFNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgc3RhcnRzX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXF1ZXN0XG4gICAqL1xuICB0ZWFtPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVxdWVzdFxuICAgKi9cbiAgdmlkZW8/OiBib29sZWFuO1xufVxuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGJhY2tzdGFnZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhcHRpb25pbmc6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgY2FsbCAoPHR5cGU+OjxpZD4pXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNpZDogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYnk6IFVzZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGN1cnJlbnRfc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogQ3VzdG9tIGRhdGEgZm9yIHRoaXMgb2JqZWN0XG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0VncmVzc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBlZ3Jlc3M6IEVncmVzc1Jlc3BvbnNlO1xuICAvKipcbiAgICogRGF0ZS90aW1lIHdoZW4gdGhlIGNhbGwgZW5kZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgZW5kZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbEluZ3Jlc3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgaW5ncmVzczogQ2FsbEluZ3Jlc3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIGpvaW5fYWhlYWRfdGltZV9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHJlY29yZGluZzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsU2Vzc2lvblJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBzZXNzaW9uPzogQ2FsbFNlc3Npb25SZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgc2V0dGluZ3M6IENhbGxTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICogRGF0ZS90aW1lIHdoZW4gdGhlIGNhbGwgd2lsbCBzdGFydFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBzdGFydHNfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB0ZWFtPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RodW1ibmFpbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB0aHVtYm5haWxzPzogVGh1bWJuYWlsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxSZXNwb25zZVxuICAgKi9cbiAgdHJhbnNjcmliaW5nOiBib29sZWFuO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgY2FsbFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJlc3BvbnNlXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHRvIGFsbCBjYWxsIG1lbWJlcnMgdG8gbm90aWZ5IHRoZXkgYXJlIGdldHRpbmcgY2FsbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxSaW5nRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUmluZ0V2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIG1lbWJlcnNcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJpbmdFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ub3RpZmljYXRpb25cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsUmluZ0V2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIENhbGxSaW5nRXZlbnRcbiAgICovXG4gIHZpZGVvOiBib29sZWFuO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgUlRNUCBicm9hZGNhc3QgaGFzIGZhaWxlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUnRtcEJyb2FkY2FzdEZhaWxlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFJ0bXBCcm9hZGNhc3RGYWlsZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgY2FsbCAoPHR5cGU+OjxpZD4pXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdEZhaWxlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdEZhaWxlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOYW1lIG9mIHRoZSBnaXZlbiBSVE1QIGJyb2FkY2FzdFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJ0bXBCcm9hZGNhc3RGYWlsZWRFdmVudFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ydG1wX2Jyb2FkY2FzdF9mYWlsZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSdG1wQnJvYWRjYXN0RmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gUlRNUCBicm9hZGNhc3QgaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFJ0bXBCcm9hZGNhc3RTdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsUnRtcEJyb2FkY2FzdFN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgY2FsbCAoPHR5cGU+OjxpZD4pXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdFN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFJ0bXBCcm9hZGNhc3RTdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIE5hbWUgb2YgdGhlIGdpdmVuIFJUTVAgYnJvYWRjYXN0XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdFN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5ydG1wX2Jyb2FkY2FzdF9zdGFydGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdFN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBSVE1QIGJyb2FkY2FzdCBoYXMgc3RvcHBlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsUnRtcEJyb2FkY2FzdFN0b3BwZWRFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSdG1wQnJvYWRjYXN0U3RvcHBlZEV2ZW50IHtcbiAgLyoqXG4gICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgYSBjYWxsICg8dHlwZT46PGlkPilcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSdG1wQnJvYWRjYXN0U3RvcHBlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsUnRtcEJyb2FkY2FzdFN0b3BwZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogTmFtZSBvZiB0aGUgZ2l2ZW4gUlRNUCBicm9hZGNhc3RcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSdG1wQnJvYWRjYXN0U3RvcHBlZEV2ZW50XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnJ0bXBfYnJvYWRjYXN0X3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxSdG1wQnJvYWRjYXN0U3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBzZXNzaW9uIGVuZHNcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25FbmRlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25FbmRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDYWxsIHNlc3Npb24gSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uRW5kZWRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5zZXNzaW9uX2VuZGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvbkVuZGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gdGhlIHBhcnRpY2lwYW50IGNvdW50cyBpbiBhIGNhbGwgc2Vzc2lvbiBhcmUgdXBkYXRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBudW1iZXI7IH19XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Q291bnRzVXBkYXRlZEV2ZW50XG4gICAqL1xuICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZTogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2NvdW50X3VwZGF0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBwYXJ0aWNpcGFudCBqb2lucyBhIGNhbGwgc2Vzc2lvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUGFydGljaXBhbnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudFxuICAgKi9cbiAgcGFydGljaXBhbnQ6IENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnRcbiAgICovXG4gIHNlc3Npb25faWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9qb2luZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRKb2luZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIHBhcnRpY2lwYW50IGxlYXZlcyBhIGNhbGwgc2Vzc2lvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgZHVyYXRpb24gcGFydGljaXBhbnQgd2FzIGluIHRoZSBzZXNzaW9uIGluIHNlY29uZHNcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIGR1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUGFydGljaXBhbnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIHBhcnRpY2lwYW50OiBDYWxsUGFydGljaXBhbnRSZXNwb25zZTtcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudExlZnRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2xlZnRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTZXNzaW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgYWNjZXB0ZWRfYnk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgZW5kZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBsaXZlX2VuZGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIGxpdmVfc3RhcnRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIG1pc3NlZF9ieTogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDYWxsUGFydGljaXBhbnRSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICBwYXJ0aWNpcGFudHM6IEFycmF5PENhbGxQYXJ0aWNpcGFudFJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IG51bWJlcjsgfX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uUmVzcG9uc2VcbiAgICovXG4gIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgcmVqZWN0ZWRfYnk6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25SZXNwb25zZVxuICAgKi9cbiAgc3RhcnRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblJlc3BvbnNlXG4gICAqL1xuICB0aW1lcl9lbmRzX2F0Pzogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBhIGNhbGwgc2Vzc2lvbiBzdGFydHNcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogQ2FsbCBzZXNzaW9uIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2Vzc2lvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5zZXNzaW9uX3N0YXJ0ZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTZXNzaW9uU3RhcnRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBdWRpb1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGF1ZGlvPzogQXVkaW9TZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYmFja3N0YWdlPzogQmFja3N0YWdlU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0Jyb2FkY2FzdFNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGJyb2FkY2FzdGluZz86IEJyb2FkY2FzdFNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGZyYW1lX3JlY29yZGluZz86IEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0dlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZ2VvZmVuY2luZz86IEdlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xpbWl0c1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGxpbWl0cz86IExpbWl0c1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWNvcmRTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICByZWNvcmRpbmc/OiBSZWNvcmRTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmluZ1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHJpbmc/OiBSaW5nU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBzY3JlZW5zaGFyaW5nPzogU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTZXNzaW9uU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgc2Vzc2lvbj86IFNlc3Npb25TZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VGh1bWJuYWlsc1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHRodW1ibmFpbHM/OiBUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICB0cmFuc2NyaXB0aW9uPzogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtWaWRlb1NldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogVmlkZW9TZXR0aW5nc1JlcXVlc3Q7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0F1ZGlvU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdWRpbzogQXVkaW9TZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0JhY2tzdGFnZVNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYmFja3N0YWdlOiBCYWNrc3RhZ2VTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0Jyb2FkY2FzdFNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYnJvYWRjYXN0aW5nOiBCcm9hZGNhc3RTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0ZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBmcmFtZV9yZWNvcmRpbmc6IEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZ2VvZmVuY2luZzogR2VvZmVuY2VTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xpbWl0c1NldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbGltaXRzOiBMaW1pdHNTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JlY29yZFNldHRpbmdzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcmVjb3JkaW5nOiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1JpbmdTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHJpbmc6IFJpbmdTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHNjcmVlbnNoYXJpbmc6IFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1Nlc3Npb25TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHNlc3Npb246IFNlc3Npb25TZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRodW1ibmFpbHM6IFRodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHRyYW5zY3JpcHRpb246IFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvU2V0dGluZ3NSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENhbGxTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB2aWRlbzogVmlkZW9TZXR0aW5nc1Jlc3BvbnNlO1xufVxuLyoqXG4gKiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkcyBpcyB0aGUgcGF5bG9hZCBmb3IgY2FsbCBzdGF0ZSByZXNwb25zZVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICogTGlzdCBvZiBjYWxsIG1lbWJlcnNcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0ZVJlc3BvbnNlRmllbGRzXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7TWVtYmVyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdGVSZXNwb25zZUZpZWxkc1xuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRlUmVzcG9uc2VGaWVsZHNcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiB0aGUgaW5zaWdodHMgcmVwb3J0IGlzIHJlYWR5XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxTdGF0c1JlcG9ydFJlYWR5RXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdHNSZXBvcnRSZWFkeUV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRSZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFJlYWR5RXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIENhbGwgc2Vzc2lvbiBJRFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0UmVhZHlFdmVudFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQsIFwiY2FsbC5yZXBvcnRfcmVhZHlcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFJlYWR5RXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBjYWxsX2R1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNhbGxfc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZVxuICAgKi9cbiAgY2FsbF9zdGF0dXM6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBmaXJzdF9zdGF0c190aW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBtaW5fdXNlcl9yYXRpbmc/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlPzogbnVtYmVyO1xufVxuLyoqXG4gKiBDYWxsVHJhbnNjcmlwdGlvbiByZXByZXNlbnRzIGEgdHJhbnNjcmlwdGlvbiBvZiBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb24ge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBlbmRfdGltZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBmaWxlbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uXG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25cbiAgICovXG4gIHN0YXJ0X3RpbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblxuICAgKi9cbiAgdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNhbGwgdHJhbnNjcmlwdGlvbiBoYXMgZmFpbGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICBlZ3Jlc3NfaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBlcnJvciBtZXNzYWdlIGRldGFpbGluZyB3aHkgdHJhbnNjcmlwdGlvbiBmYWlsZWQuXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvbkZhaWxlZEV2ZW50XG4gICAqL1xuICBlcnJvcj86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwudHJhbnNjcmlwdGlvbl9mYWlsZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCB0cmFuc2NyaXB0aW9uIGlzIHJlYWR5XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxUcmFuc2NyaXB0aW9ufVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25SZWFkeUV2ZW50XG4gICAqL1xuICBjYWxsX3RyYW5zY3JpcHRpb246IENhbGxUcmFuc2NyaXB0aW9uO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnRyYW5zY3JpcHRpb25fcmVhZHlcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiBjYWxsIHRyYW5zY3JpcHRpb24gaGFzIHN0YXJ0ZWRcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudFxuICAgKi9cbiAgZWdyZXNzX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjYWxsLnRyYW5zY3JpcHRpb25fc3RhcnRlZFwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdGFydGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gY2FsbCB0cmFuc2NyaXB0aW9uIGhhcyBzdG9wcGVkXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFRyYW5zY3JpcHRpb25TdG9wcGVkRXZlbnRcbiAgICovXG4gIGVncmVzc19pZDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC50cmFuc2NyaXB0aW9uX3N0b3BwZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxUcmFuc2NyaXB0aW9uU3RvcHBlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgY2FsbCBpcyB1cGRhdGVkLCBjbGllbnRzIHNob3VsZCB1c2UgdGhpcyB1cGRhdGUgdGhlIGxvY2FsIHN0YXRlIG9mIHRoZSBjYWxsLlxuICogVGhpcyBldmVudCBhbHNvIGNvbnRhaW5zIHRoZSBjYXBhYmlsaXRpZXMgYnkgcm9sZSBmb3IgdGhlIGNhbGwsIGNsaWVudHMgc2hvdWxkIHVwZGF0ZSB0aGUgb3duX2NhcGFiaWxpdHkgZm9yIHRoZSBjdXJyZW50LlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVXBkYXRlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFVwZGF0ZWRFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIGJ5IHJvbGUgZm9yIHRoaXMgY2FsbFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBBcnJheTxzdHJpbmc+OyB9fVxuICAgKiBAbWVtYmVyb2YgQ2FsbFVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY2FwYWJpbGl0aWVzX2J5X3JvbGU6IHsgW2tleTogc3RyaW5nXTogQXJyYXk8c3RyaW5nPiB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuZW5kZWRcIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVcGRhdGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBjYWxsIG1lbWJlciBpcyBtdXRlZFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDYWxsVXNlck11dGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsVXNlck11dGVkRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENhbGxVc2VyTXV0ZWRFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIGZyb21fdXNlcl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIG11dGVkX3VzZXJfaWRzOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC51c2VyX211dGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDYWxsVXNlck11dGVkRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2FsbHNQZXJEYXlSZXBvcnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsc1BlckRheVJlcG9ydCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgQ2FsbHNQZXJEYXlSZXBvcnRcbiAgICovXG4gIGNvdW50OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsc1BlckRheVJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEYWlseUFnZ3JlZ2F0ZUNhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgZGFpbHk6IEFycmF5PERhaWx5QWdncmVnYXRlQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENoYXRBY3Rpdml0eVN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDaGF0QWN0aXZpdHlTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZXNzYWdlU3RhdHNSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENoYXRBY3Rpdml0eVN0YXRzUmVzcG9uc2VcbiAgICovXG4gIE1lc3NhZ2VzPzogTWVzc2FnZVN0YXRzUmVzcG9uc2U7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGNsb3NlZCBjYXB0aW9ucyBhcmUgYmVpbmcgc2VudCBpbiBhIGNhbGwsIGNsaWVudHMgc2hvdWxkIHVzZSB0aGlzIHRvIHNob3cgdGhlIGNsb3NlZCBjYXB0aW9ucyBpbiB0aGUgY2FsbCBzY3JlZW5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ2xvc2VkQ2FwdGlvbkV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xvc2VkQ2FwdGlvbkV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDbG9zZWRDYXB0aW9uRXZlbnRcbiAgICovXG4gIGNhbGxfY2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbENsb3NlZENhcHRpb259XG4gICAqIEBtZW1iZXJvZiBDbG9zZWRDYXB0aW9uRXZlbnRcbiAgICovXG4gIGNsb3NlZF9jYXB0aW9uOiBDYWxsQ2xvc2VkQ2FwdGlvbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDbG9zZWRDYXB0aW9uRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwuY2xvc2VkX2NhcHRpb25cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENsb3NlZENhcHRpb25FdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICByYXRpbmc6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICAgKi9cbiAgcmVhc29uPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbGxlY3RVc2VyRmVlZGJhY2tSZXF1ZXN0XG4gICAqL1xuICBzZGs6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICAgKi9cbiAgc2RrX3ZlcnNpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9zZXNzaW9uX2lkPzogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDb2xsZWN0VXNlckZlZWRiYWNrUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2xsZWN0VXNlckZlZWRiYWNrUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb2xsZWN0VXNlckZlZWRiYWNrUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdFVzZXJEZXRhaWxzUmVxdWVzdFxuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0VXNlckRldGFpbHNSZXF1ZXN0XG4gICAqL1xuICBuYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge29iamVjdH1cbiAgICogQG1lbWJlcm9mIENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3RcbiAgICovXG4gIHByaXZhY3lfc2V0dGluZ3M/OiBvYmplY3Q7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIHRoZSBXUyBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIGFuZCBhdXRoZW50aWNhdGVkLCB0aGlzIGV2ZW50IGNvbnRhaW5zIHRoZSBmdWxsIHVzZXIgb2JqZWN0IGFzIGl0IGlzIHN0b3JlZCBvbiB0aGUgc2VydmVyXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIENvbm5lY3RlZEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGVkRXZlbnQge1xuICAvKipcbiAgICogVGhlIGNvbm5lY3Rpb25faWQgZm9yIHRoaXMgY2xpZW50XG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0ZWRFdmVudFxuICAgKi9cbiAgY29ubmVjdGlvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3RlZEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7T3duVXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGVkRXZlbnRcbiAgICovXG4gIG1lOiBPd25Vc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudDogXCJjb25uZWN0aW9uLm9rXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0ZWRFdmVudFxuICAgKi9cbiAgdHlwZTogc3RyaW5nO1xufVxuLyoqXG4gKiBUaGlzIGV2ZW50IGlzIHNlbnQgd2hlbiB0aGUgV1MgY29ubmVjdGlvbiBmYWlsc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDb25uZWN0aW9uRXJyb3JFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Rpb25FcnJvckV2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0aW9uRXJyb3JFdmVudFxuICAgKi9cbiAgY29ubmVjdGlvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENvbm5lY3Rpb25FcnJvckV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QVBJRXJyb3J9XG4gICAqIEBtZW1iZXJvZiBDb25uZWN0aW9uRXJyb3JFdmVudFxuICAgKi9cbiAgZXJyb3I6IEFQSUVycm9yO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY29ubmVjdGlvbi5va1wiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ29ubmVjdGlvbkVycm9yRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ291bnRCeU1pbnV0ZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ291bnRCeU1pbnV0ZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBDb3VudEJ5TWludXRlUmVzcG9uc2VcbiAgICovXG4gIGNvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ291bnRCeU1pbnV0ZVJlc3BvbnNlXG4gICAqL1xuICBzdGFydF90czogc3RyaW5nO1xufVxuLyoqXG4gKiBDcmVhdGUgZGV2aWNlIHJlcXVlc3RcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZURldmljZVJlcXVlc3Qge1xuICAvKipcbiAgICogRGV2aWNlIElEXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICogUHVzaCBwcm92aWRlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICAgKi9cbiAgcHVzaF9wcm92aWRlcjogQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW07XG4gIC8qKlxuICAgKiBQdXNoIHByb3ZpZGVyIG5hbWVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZURldmljZVJlcXVlc3RcbiAgICovXG4gIHB1c2hfcHJvdmlkZXJfbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFdoZW4gdHJ1ZSB0aGUgdG9rZW4gaXMgZm9yIEFwcGxlIFZvSVAgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlRGV2aWNlUmVxdWVzdFxuICAgKi9cbiAgdm9pcF90b2tlbj86IGJvb2xlYW47XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0gPSB7XG4gIEZJUkVCQVNFOiAnZmlyZWJhc2UnLFxuICBBUE46ICdhcG4nLFxuICBIVUFXRUk6ICdodWF3ZWknLFxuICBYSUFPTUk6ICd4aWFvbWknLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtID1cbiAgKHR5cGVvZiBDcmVhdGVEZXZpY2VSZXF1ZXN0UHVzaFByb3ZpZGVyRW51bSlba2V5b2YgdHlwZW9mIENyZWF0ZURldmljZVJlcXVlc3RQdXNoUHJvdmlkZXJFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBDcmVhdGVHdWVzdFJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVhdGVHdWVzdFJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgQ3JlYXRlR3Vlc3RSZXF1ZXN0XG4gICAqL1xuICB1c2VyOiBVc2VyUmVxdWVzdDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlYXRlR3Vlc3RSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZUd1ZXN0UmVzcG9uc2Uge1xuICAvKipcbiAgICogdGhlIGFjY2VzcyB0b2tlbiB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWF0ZUd1ZXN0UmVzcG9uc2VcbiAgICovXG4gIGFjY2Vzc190b2tlbjogc3RyaW5nO1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDcmVhdGVHdWVzdFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENyZWF0ZUd1ZXN0UmVzcG9uc2VcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgQ3JlZGVudGlhbHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDcmVkZW50aWFscyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8SUNFU2VydmVyPn1cbiAgICogQG1lbWJlcm9mIENyZWRlbnRpYWxzXG4gICAqL1xuICBpY2Vfc2VydmVyczogQXJyYXk8SUNFU2VydmVyPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtTRlVSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIENyZWRlbnRpYWxzXG4gICAqL1xuICBzZXJ2ZXI6IFNGVVJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIENyZWRlbnRpYWxzXG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xufVxuLyoqXG4gKiBBIGN1c3RvbSBldmVudCwgdGhpcyBldmVudCBpcyB1c2VkIHRvIHNlbmQgY3VzdG9tIGV2ZW50cyB0byBvdGhlciBwYXJ0aWNpcGFudHMgaW4gdGhlIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEN1c3RvbVZpZGVvRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDdXN0b21WaWRlb0V2ZW50IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiBldmVudCwgXCJjdXN0b21cIiBpbiB0aGlzIGNhc2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEN1c3RvbVZpZGVvRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBDdXN0b21WaWRlb0V2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlQ2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEYWlseUFnZ3JlZ2F0ZUNhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZUNhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYXRlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbER1cmF0aW9uUmVwb3J0fVxuICAgKiBAbWVtYmVyb2YgRGFpbHlBZ2dyZWdhdGVDYWxsRHVyYXRpb25SZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgcmVwb3J0OiBDYWxsRHVyYXRpb25SZXBvcnQ7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGFpbHlBZ2dyZWdhdGVDYWxsUGFydGljaXBhbnRDb3VudFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYXRlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnR9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZUNhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHJlcG9ydDogQ2FsbFBhcnRpY2lwYW50Q291bnRSZXBvcnQ7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGFpbHlBZ2dyZWdhdGVDYWxsc1BlckRheVJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYXRlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbHNQZXJEYXlSZXBvcnR9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZUNhbGxzUGVyRGF5UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHJlcG9ydDogQ2FsbHNQZXJEYXlSZXBvcnQ7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlUXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEYWlseUFnZ3JlZ2F0ZVF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZVF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYXRlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UXVhbGl0eVNjb3JlUmVwb3J0fVxuICAgKiBAbWVtYmVyb2YgRGFpbHlBZ2dyZWdhdGVRdWFsaXR5U2NvcmVSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgcmVwb3J0OiBRdWFsaXR5U2NvcmVSZXBvcnQ7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlU0RLVXNhZ2VSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlU0RLVXNhZ2VSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGFpbHlBZ2dyZWdhdGVTREtVc2FnZVJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYXRlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7U0RLVXNhZ2VSZXBvcnR9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZVNES1VzYWdlUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHJlcG9ydDogU0RLVXNhZ2VSZXBvcnQ7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERhaWx5QWdncmVnYXRlVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEYWlseUFnZ3JlZ2F0ZVVzZXJGZWVkYmFja1JlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEYWlseUFnZ3JlZ2F0ZVVzZXJGZWVkYmFja1JlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYXRlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlckZlZWRiYWNrUmVwb3J0fVxuICAgKiBAbWVtYmVyb2YgRGFpbHlBZ2dyZWdhdGVVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgcmVwb3J0OiBVc2VyRmVlZGJhY2tSZXBvcnQ7XG59XG4vKipcbiAqIERlbGV0ZUNhbGxSZXF1ZXN0IGlzIHRoZSBwYXlsb2FkIGZvciBkZWxldGluZyBhIGNhbGwuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERlbGV0ZUNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlQ2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICogaWYgdHJ1ZSB0aGUgY2FsbCB3aWxsIGJlIGhhcmQgZGVsZXRlZCBhbG9uZyB3aXRoIGFsbCByZWxhdGVkIGRhdGFcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBEZWxldGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgaGFyZD86IGJvb2xlYW47XG59XG4vKipcbiAqIERlbGV0ZUNhbGxSZXNwb25zZSBpcyB0aGUgcGF5bG9hZCBmb3IgZGVsZXRpbmcgYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBEZWxldGVDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWxldGVDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIERlbGV0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERlbGV0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZWxldGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIHRhc2tfaWQ/OiBzdHJpbmc7XG59XG4vKipcbiAqIFJlc3BvbnNlIGZvciBEZWxldGVSZWNvcmRpbmdcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGVsZXRlUmVjb3JkaW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZWxldGVSZWNvcmRpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERlbGV0ZVJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBEZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIGRlbGV0aW5nIGEgdHJhbnNjcmlwdGlvbi5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRGVsZXRlVHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGVsZXRlVHJhbnNjcmlwdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGVsZXRlVHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBSZXNwb25zZSBmb3IgRGV2aWNlXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIERldmljZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGV2aWNlUmVzcG9uc2Uge1xuICAvKipcbiAgICogRGF0ZS90aW1lIG9mIGNyZWF0aW9uXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBEZXZpY2VSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogV2hldGhlciBkZXZpY2UgaXMgZGlzYWJsZWQgb3Igbm90XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFJlYXNvbiBleHBsYWluaW5nIHdoeSBkZXZpY2UgaGFkIGJlZW4gZGlzYWJsZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERldmljZVJlc3BvbnNlXG4gICAqL1xuICBkaXNhYmxlZF9yZWFzb24/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEZXZpY2UgSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERldmljZVJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICogUHVzaCBwcm92aWRlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIHB1c2hfcHJvdmlkZXI6IHN0cmluZztcbiAgLyoqXG4gICAqIFB1c2ggcHJvdmlkZXIgbmFtZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRGV2aWNlUmVzcG9uc2VcbiAgICovXG4gIHB1c2hfcHJvdmlkZXJfbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFVzZXIgSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIERldmljZVJlc3BvbnNlXG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBXaGVuIHRydWUgdGhlIHRva2VuIGlzIGZvciBBcHBsZSBWb0lQIHB1c2ggbm90aWZpY2F0aW9uc1xuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIERldmljZVJlc3BvbnNlXG4gICAqL1xuICB2b2lwPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRWRnZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRWRnZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGNvbnRpbmVudF9jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBjb3VudHJ5X2lzb19jb2RlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBncmVlbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGxhdGVuY3lfdGVzdF91cmw6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIGxhdGl0dWRlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRWRnZVJlc3BvbnNlXG4gICAqL1xuICBsb25naXR1ZGU6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIHJlZDogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVkZ2VSZXNwb25zZVxuICAgKi9cbiAgc3ViZGl2aXNpb25faXNvX2NvZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBFZGdlUmVzcG9uc2VcbiAgICovXG4gIHllbGxvdzogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFZ3Jlc3NITFNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVncmVzc0hMU1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NITFNSZXNwb25zZVxuICAgKi9cbiAgcGxheWxpc3RfdXJsOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzSExTUmVzcG9uc2VcbiAgICovXG4gIHN0YXR1czogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFZ3Jlc3NSVE1QUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFZ3Jlc3NSVE1QUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVncmVzc1JUTVBSZXNwb25zZVxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVncmVzc1JUTVBSZXNwb25zZVxuICAgKi9cbiAgc3RhcnRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEVncmVzc1JUTVBSZXNwb25zZVxuICAgKi9cbiAgc3RyZWFtX2tleT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSVE1QUmVzcG9uc2VcbiAgICovXG4gIHN0cmVhbV91cmw/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEVncmVzc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRWdyZXNzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgYnJvYWRjYXN0aW5nOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0ZyYW1lUmVjb3JkaW5nUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBFZ3Jlc3NSZXNwb25zZVxuICAgKi9cbiAgZnJhbWVfcmVjb3JkaW5nPzogRnJhbWVSZWNvcmRpbmdSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtFZ3Jlc3NITFNSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEVncmVzc1Jlc3BvbnNlXG4gICAqL1xuICBobHM/OiBFZ3Jlc3NITFNSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxFZ3Jlc3NSVE1QUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgRWdyZXNzUmVzcG9uc2VcbiAgICovXG4gIHJ0bXBzOiBBcnJheTxFZ3Jlc3NSVE1QUmVzcG9uc2U+O1xufVxuLyoqXG4gKiBSZXNwb25zZSBmb3IgZW5kaW5nIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBFbmRDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFbmRDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBFbmRDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEZyYW1lUmVjb3JkaW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGcmFtZVJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBGcmFtZVJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBzdGF0dXM6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGNhcHR1cmVfaW50ZXJ2YWxfaW5fc2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtb2RlOiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdE1vZGVFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBxdWFsaXR5PzogRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdE1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0gPVxuICAodHlwZW9mIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0pW2tleW9mIHR5cGVvZiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdE1vZGVFbnVtXTtcblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtID0ge1xuICBfMzYwUDogJzM2MHAnLFxuICBfNDgwUDogJzQ4MHAnLFxuICBfNzIwUDogJzcyMHAnLFxuICBfMTA4MFA6ICcxMDgwcCcsXG4gIF8xNDQwUDogJzE0NDBwJyxcbiAgXzIxNjBQOiAnMjE2MHAnLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPVxuICAodHlwZW9mIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0pW2tleW9mIHR5cGVvZiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtXTtcblxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgY2FwdHVyZV9pbnRlcnZhbF9pbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtb2RlOiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVzcG9uc2VNb2RlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIHF1YWxpdHk/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0gPSB7XG4gIEFWQUlMQUJMRTogJ2F2YWlsYWJsZScsXG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBBVVRPX09OOiAnYXV0by1vbicsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0gPVxuICAodHlwZW9mIEZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtKVtrZXlvZiB0eXBlb2YgRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdlb2ZlbmNlU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgR2VvZmVuY2VTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBHZW9mZW5jZVNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbmFtZXM/OiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBHZW9mZW5jZVNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG5hbWVzOiBBcnJheTxzdHJpbmc+O1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRDYWxsUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRDYWxsUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NoYXRBY3Rpdml0eVN0YXRzUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGNoYXRfYWN0aXZpdHk/OiBDaGF0QWN0aXZpdHlTdGF0c1Jlc3BvbnNlO1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHJlcG9ydDogUmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBzZXNzaW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8VmlkZW9SZWFjdGlvbnNSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHZpZGVvX3JlYWN0aW9ucz86IEFycmF5PFZpZGVvUmVhY3Rpb25zUmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHZXRDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBHZXRDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZW1iZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEdldENhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgR2V0Q2FsbFJlc3BvbnNlXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5Pjtcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2V0RWRnZXNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldEVkZ2VzUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHZXRFZGdlc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PEVkZ2VSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBHZXRFZGdlc1Jlc3BvbnNlXG4gICAqL1xuICBlZGdlczogQXJyYXk8RWRnZVJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgZGF0YT86IENhbGxSZXF1ZXN0O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1lbWJlcnNfbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBpZiBwcm92aWRlZCBpdCBzZW5kcyBhIG5vdGlmaWNhdGlvbiBldmVudCB0byB0aGUgbWVtYmVycyBmb3IgdGhpcyBjYWxsXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgbm90aWZ5PzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIGlmIHByb3ZpZGVkIGl0IHNlbmRzIGEgcmluZyBldmVudCB0byB0aGUgbWVtYmVycyBmb3IgdGhpcyBjYWxsXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgcmluZz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZW1iZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzaGlwPzogTWVtYmVyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBHZXRPckNyZWF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEdvTGl2ZVJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb0xpdmVSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXF1ZXN0XG4gICAqL1xuICByZWNvcmRpbmdfc3RvcmFnZV9uYW1lPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXF1ZXN0XG4gICAqL1xuICBzdGFydF9jbG9zZWRfY2FwdGlvbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X2hscz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X3JlY29yZGluZz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHN0YXJ0X3RyYW5zY3JpcHRpb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEdvTGl2ZVJlcXVlc3RcbiAgICovXG4gIHRyYW5zY3JpcHRpb25fc3RvcmFnZV9uYW1lPzogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBHb0xpdmVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEdvTGl2ZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBHb0xpdmVSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgR3JvdXBlZFN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHcm91cGVkU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgR3JvdXBlZFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBHcm91cGVkU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgdW5pcXVlOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEhMU1NldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhMU1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgYXV0b19vbj86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIEhMU1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcXVhbGl0eV90cmFja3M6IEFycmF5PHN0cmluZz47XG59XG4vKipcbiAqIEhMU1NldHRpbmdzIGlzIHRoZSBwYXlsb2FkIGZvciBITFMgc2V0dGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSExTU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhMU1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdXRvX29uOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBITFNTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3RyYWNrczogQXJyYXk8c3RyaW5nPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSGVhbHRoQ2hlY2tFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIGNpZD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBIZWFsdGhDaGVja0V2ZW50XG4gICAqL1xuICBjb25uZWN0aW9uX2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgSGVhbHRoQ2hlY2tFdmVudFxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIHJlY2VpdmVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIEhlYWx0aENoZWNrRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSUNFU2VydmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFU2VydmVyIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBJQ0VTZXJ2ZXJcbiAgICovXG4gIHBhc3N3b3JkOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIElDRVNlcnZlclxuICAgKi9cbiAgdXJsczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBJQ0VTZXJ2ZXJcbiAgICovXG4gIHVzZXJuYW1lOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIEpvaW5DYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5DYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBpZiB0cnVlIHRoZSBjYWxsIHdpbGwgYmUgY3JlYXRlZCBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBjcmVhdGU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBkYXRhPzogQ2FsbFJlcXVlc3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXF1ZXN0XG4gICAqL1xuICBsb2NhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVxdWVzdFxuICAgKi9cbiAgbWVtYmVyc19saW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqIElmIHRoZSBwYXJ0aWNpcGFudCBpcyBtaWdyYXRpbmcgZnJvbSBhbm90aGVyIFNGVSwgdGhlbiB0aGlzIGlzIHRoZSBJRCBvZiB0aGUgcHJldmlvdXMgU0ZVXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIG1pZ3JhdGluZ19mcm9tPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIG5vdGlmeT86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBpZiB0cnVlIGFuZCB0aGUgY2FsbCBpcyBjcmVhdGVkLCB0aGUgbm90aWZpY2F0aW9uIHdpbGwgaW5jbHVkZSByaW5nPXRydWVcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIHJpbmc/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlcXVlc3RcbiAgICovXG4gIHZpZGVvPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgSm9pbkNhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5DYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgSm9pbkNhbGxSZXNwb25zZVxuICAgKi9cbiAgY3JlYXRlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDcmVkZW50aWFsc31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBKb2luQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE1lbWJlclJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZW1iZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnNoaXA/OiBNZW1iZXJSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxPd25DYXBhYmlsaXR5Pn1cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N0YXRzT3B0aW9uc31cbiAgICogQG1lbWJlcm9mIEpvaW5DYWxsUmVzcG9uc2VcbiAgICovXG4gIHN0YXRzX29wdGlvbnM6IFN0YXRzT3B0aW9ucztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGF5b3V0U2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGF5b3V0U2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTGF5b3V0U2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBkZXRlY3Rfb3JpZW50YXRpb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExheW91dFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZXh0ZXJuYWxfYXBwX3VybD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMYXlvdXRTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGV4dGVybmFsX2Nzc191cmw/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTGF5b3V0U2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBuYW1lOiBMYXlvdXRTZXR0aW5nc1JlcXVlc3ROYW1lRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIExheW91dFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgb3B0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgTGF5b3V0U2V0dGluZ3NSZXF1ZXN0TmFtZUVudW0gPSB7XG4gIFNQT1RMSUdIVDogJ3Nwb3RsaWdodCcsXG4gIEdSSUQ6ICdncmlkJyxcbiAgU0lOR0xFX1BBUlRJQ0lQQU5UOiAnc2luZ2xlLXBhcnRpY2lwYW50JyxcbiAgTU9CSUxFOiAnbW9iaWxlJyxcbiAgQ1VTVE9NOiAnY3VzdG9tJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBMYXlvdXRTZXR0aW5nc1JlcXVlc3ROYW1lRW51bSA9XG4gICh0eXBlb2YgTGF5b3V0U2V0dGluZ3NSZXF1ZXN0TmFtZUVudW0pW2tleW9mIHR5cGVvZiBMYXlvdXRTZXR0aW5nc1JlcXVlc3ROYW1lRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGltaXRzU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGltaXRzU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBMaW1pdHNTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1heF9kdXJhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbWF4X3BhcnRpY2lwYW50cz86IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTGltaXRzU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpbWl0c1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1heF9kdXJhdGlvbl9zZWNvbmRzPzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIExpbWl0c1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1heF9wYXJ0aWNpcGFudHM/OiBudW1iZXI7XG59XG4vKipcbiAqIExpc3QgZGV2aWNlcyByZXNwb25zZVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBMaXN0RGV2aWNlc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdERldmljZXNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBMaXN0IG9mIGRldmljZXNcbiAgICogQHR5cGUge0FycmF5PERldmljZVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIExpc3REZXZpY2VzUmVzcG9uc2VcbiAgICovXG4gIGRldmljZXM6IEFycmF5PERldmljZVJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMaXN0RGV2aWNlc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBSZXNwb25zZSBmb3IgbGlzdGluZyByZWNvcmRpbmdzXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpc3RSZWNvcmRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBMaXN0UmVjb3JkaW5nc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENhbGxSZWNvcmRpbmc+fVxuICAgKiBAbWVtYmVyb2YgTGlzdFJlY29yZGluZ3NSZXNwb25zZVxuICAgKi9cbiAgcmVjb3JkaW5nczogQXJyYXk8Q2FsbFJlY29yZGluZz47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICAvKipcbiAgICogTGlzdCBvZiB0cmFuc2NyaXB0aW9ucyBmb3IgdGhlIGNhbGxcbiAgICogQHR5cGUge0FycmF5PENhbGxUcmFuc2NyaXB0aW9uPn1cbiAgICogQG1lbWJlcm9mIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlXG4gICAqL1xuICB0cmFuc2NyaXB0aW9uczogQXJyYXk8Q2FsbFRyYW5zY3JpcHRpb24+O1xufVxuLyoqXG4gKiBNZW1iZXJSZXF1ZXN0IGlzIHRoZSBwYXlsb2FkIGZvciBhZGRpbmcgYSBtZW1iZXIgdG8gYSBjYWxsLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNZW1iZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTWVtYmVyUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBvYmplY3RcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXF1ZXN0XG4gICAqL1xuICByb2xlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlcXVlc3RcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICogTWVtYmVyUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIGEgbWVtYmVyIG9mIGEgY2FsbC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTWVtYmVyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZW1iZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgY3JlYXRpb25cbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDdXN0b20gbWVtYmVyIHJlc3BvbnNlIGRhdGFcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbTogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBkZWxldGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIHJvbGU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlL3RpbWUgb2YgdGhlIGxhc3QgdXBkYXRlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBNZW1iZXJSZXNwb25zZVxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1VzZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIE1lbWJlclJlc3BvbnNlXG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgTWVtYmVyUmVzcG9uc2VcbiAgICovXG4gIHVzZXJfaWQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTWVzc2FnZVN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNZXNzYWdlU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q291bnRCeU1pbnV0ZVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIE1lc3NhZ2VTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBjb3VudF9vdmVyX3RpbWU/OiBBcnJheTxDb3VudEJ5TWludXRlUmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBNdXRlVXNlcnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTXV0ZVVzZXJzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIGF1ZGlvPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgbXV0ZV9hbGxfdXNlcnM/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICBzY3JlZW5zaGFyZT86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1JlcXVlc3RcbiAgICovXG4gIHNjcmVlbnNoYXJlX2F1ZGlvPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgTXV0ZVVzZXJzUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZHM/OiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBNdXRlVXNlcnNSZXF1ZXN0XG4gICAqL1xuICB2aWRlbz86IGJvb2xlYW47XG59XG4vKipcbiAqIE11dGVVc2Vyc1Jlc3BvbnNlIGlzIHRoZSByZXNwb25zZSBwYXlsb2FkIGZvciB0aGUgbXV0ZSB1c2VycyBlbmRwb2ludC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgTXV0ZVVzZXJzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNdXRlVXNlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE11dGVVc2Vyc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV9jb25uZWN0aW9uX3RpbWU/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV9qaXR0ZXI/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgTmV0d29ya01ldHJpY3NSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYXZlcmFnZV9sYXRlbmN5PzogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIE5ldHdvcmtNZXRyaWNzUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGF2ZXJhZ2VfdGltZV90b19yZWNvbm5lY3Q/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzXG4gICAqL1xuICBtb2RlOiBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIE5vaXNlQ2FuY2VsbGF0aW9uU2V0dGluZ3NNb2RlRW51bSA9XG4gICh0eXBlb2YgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtKVtrZXlvZiB0eXBlb2YgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtXTtcblxuLyoqXG4gKiBBbGwgcG9zc2liaWxpdHkgb2Ygc3RyaW5nIHRvIHVzZVxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgT3duQ2FwYWJpbGl0eSA9IHtcbiAgQkxPQ0tfVVNFUlM6ICdibG9jay11c2VycycsXG4gIENIQU5HRV9NQVhfRFVSQVRJT046ICdjaGFuZ2UtbWF4LWR1cmF0aW9uJyxcbiAgQ1JFQVRFX0NBTEw6ICdjcmVhdGUtY2FsbCcsXG4gIENSRUFURV9SRUFDVElPTjogJ2NyZWF0ZS1yZWFjdGlvbicsXG4gIEVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT046ICdlbmFibGUtbm9pc2UtY2FuY2VsbGF0aW9uJyxcbiAgRU5EX0NBTEw6ICdlbmQtY2FsbCcsXG4gIEpPSU5fQkFDS1NUQUdFOiAnam9pbi1iYWNrc3RhZ2UnLFxuICBKT0lOX0NBTEw6ICdqb2luLWNhbGwnLFxuICBKT0lOX0VOREVEX0NBTEw6ICdqb2luLWVuZGVkLWNhbGwnLFxuICBNVVRFX1VTRVJTOiAnbXV0ZS11c2VycycsXG4gIFBJTl9GT1JfRVZFUllPTkU6ICdwaW4tZm9yLWV2ZXJ5b25lJyxcbiAgUkVBRF9DQUxMOiAncmVhZC1jYWxsJyxcbiAgUkVNT1ZFX0NBTExfTUVNQkVSOiAncmVtb3ZlLWNhbGwtbWVtYmVyJyxcbiAgU0NSRUVOU0hBUkU6ICdzY3JlZW5zaGFyZScsXG4gIFNFTkRfQVVESU86ICdzZW5kLWF1ZGlvJyxcbiAgU0VORF9WSURFTzogJ3NlbmQtdmlkZW8nLFxuICBTVEFSVF9CUk9BRENBU1RfQ0FMTDogJ3N0YXJ0LWJyb2FkY2FzdC1jYWxsJyxcbiAgU1RBUlRfQ0xPU0VEX0NBUFRJT05TX0NBTEw6ICdzdGFydC1jbG9zZWQtY2FwdGlvbnMtY2FsbCcsXG4gIFNUQVJUX0ZSQU1FX1JFQ09SRF9DQUxMOiAnc3RhcnQtZnJhbWUtcmVjb3JkLWNhbGwnLFxuICBTVEFSVF9SRUNPUkRfQ0FMTDogJ3N0YXJ0LXJlY29yZC1jYWxsJyxcbiAgU1RBUlRfVFJBTlNDUklQVElPTl9DQUxMOiAnc3RhcnQtdHJhbnNjcmlwdGlvbi1jYWxsJyxcbiAgU1RPUF9CUk9BRENBU1RfQ0FMTDogJ3N0b3AtYnJvYWRjYXN0LWNhbGwnLFxuICBTVE9QX0NMT1NFRF9DQVBUSU9OU19DQUxMOiAnc3RvcC1jbG9zZWQtY2FwdGlvbnMtY2FsbCcsXG4gIFNUT1BfRlJBTUVfUkVDT1JEX0NBTEw6ICdzdG9wLWZyYW1lLXJlY29yZC1jYWxsJyxcbiAgU1RPUF9SRUNPUkRfQ0FMTDogJ3N0b3AtcmVjb3JkLWNhbGwnLFxuICBTVE9QX1RSQU5TQ1JJUFRJT05fQ0FMTDogJ3N0b3AtdHJhbnNjcmlwdGlvbi1jYWxsJyxcbiAgVVBEQVRFX0NBTEw6ICd1cGRhdGUtY2FsbCcsXG4gIFVQREFURV9DQUxMX01FTUJFUjogJ3VwZGF0ZS1jYWxsLW1lbWJlcicsXG4gIFVQREFURV9DQUxMX1BFUk1JU1NJT05TOiAndXBkYXRlLWNhbGwtcGVybWlzc2lvbnMnLFxuICBVUERBVEVfQ0FMTF9TRVRUSU5HUzogJ3VwZGF0ZS1jYWxsLXNldHRpbmdzJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBPd25DYXBhYmlsaXR5ID0gKHR5cGVvZiBPd25DYXBhYmlsaXR5KVtrZXlvZiB0eXBlb2YgT3duQ2FwYWJpbGl0eV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgT3duVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgT3duVXNlclJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBibG9ja2VkX3VzZXJfaWRzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGVhY3RpdmF0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERldmljZVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgZGV2aWNlczogQXJyYXk8RGV2aWNlUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGltYWdlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhc3RfYWN0aXZlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtvYmplY3R9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHByaXZhY3lfc2V0dGluZ3M/OiBvYmplY3Q7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHVzaFByZWZlcmVuY2VzfVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICBwdXNoX3ByZWZlcmVuY2VzPzogUHVzaFByZWZlcmVuY2VzO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIE93blVzZXJSZXNwb25zZVxuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHRlYW1zOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgT3duVXNlclJlc3BvbnNlXG4gICAqL1xuICB0ZWFtc19yb2xlPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBPd25Vc2VyUmVzcG9uc2VcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGFydGljaXBhbnRDb3VudEJ5TWludXRlUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudENvdW50QnlNaW51dGVSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRDb3VudEJ5TWludXRlUmVzcG9uc2VcbiAgICovXG4gIGZpcnN0OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRDb3VudEJ5TWludXRlUmVzcG9uc2VcbiAgICovXG4gIGxhc3Q6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNpcGFudENvdW50QnlNaW51dGVSZXNwb25zZVxuICAgKi9cbiAgbWF4OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRDb3VudEJ5TWludXRlUmVzcG9uc2VcbiAgICovXG4gIG1pbjogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50Q291bnRCeU1pbnV0ZVJlc3BvbnNlXG4gICAqL1xuICBzdGFydF90czogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQYXJ0aWNpcGFudENvdW50T3ZlclRpbWVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50Q291bnRPdmVyVGltZVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxQYXJ0aWNpcGFudENvdW50QnlNaW51dGVSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNpcGFudENvdW50T3ZlclRpbWVSZXNwb25zZVxuICAgKi9cbiAgYnlfbWludXRlPzogQXJyYXk8UGFydGljaXBhbnRDb3VudEJ5TWludXRlUmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQYXJ0aWNpcGFudFJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8R3JvdXBlZFN0YXRzUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgYnlfYnJvd3Nlcj86IEFycmF5PEdyb3VwZWRTdGF0c1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxHcm91cGVkU3RhdHNSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNpcGFudFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBieV9jb3VudHJ5PzogQXJyYXk8R3JvdXBlZFN0YXRzUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PEdyb3VwZWRTdGF0c1Jlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGJ5X2RldmljZT86IEFycmF5PEdyb3VwZWRTdGF0c1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxHcm91cGVkU3RhdHNSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNpcGFudFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBieV9vcGVyYXRpbmdfc3lzdGVtPzogQXJyYXk8R3JvdXBlZFN0YXRzUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1BhcnRpY2lwYW50Q291bnRPdmVyVGltZVJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgY291bnRfb3Zlcl90aW1lPzogUGFydGljaXBhbnRDb3VudE92ZXJUaW1lUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgbWF4X2NvbmN1cnJlbnQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UHVibGlzaGVyU3RhdHNSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFBhcnRpY2lwYW50UmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHB1Ymxpc2hlcnM/OiBQdWJsaXNoZXJTdGF0c1Jlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1N1YnNjcmliZXJTdGF0c1Jlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgc3Vic2NyaWJlcnM/OiBTdWJzY3JpYmVyU3RhdHNSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNpcGFudFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBzdW06IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBQYXJ0aWNpcGFudFJlcG9ydFJlc3BvbnNlXG4gICAqL1xuICB1bmlxdWU6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGVyU0RLVXNhZ2VSZXBvcnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQZXJTREtVc2FnZVJlcG9ydCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBudW1iZXI7IH19XG4gICAqIEBtZW1iZXJvZiBQZXJTREtVc2FnZVJlcG9ydFxuICAgKi9cbiAgYnlfdmVyc2lvbjogeyBba2V5OiBzdHJpbmddOiBudW1iZXIgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBQZXJTREtVc2FnZVJlcG9ydFxuICAgKi9cbiAgdG90YWw6IG51bWJlcjtcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIHJlcXVlc3RzIGFjY2VzcyB0byBhIGZlYXR1cmUgb24gYSBjYWxsLFxuICogY2xpZW50cyByZWNlaXZpbmcgdGhpcyBldmVudCBzaG91bGQgZGlzcGxheSBhIHBlcm1pc3Npb24gcmVxdWVzdCB0byB0aGUgdXNlclxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGVybWlzc2lvblJlcXVlc3RFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUGVybWlzc2lvblJlcXVlc3RFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBwZXJtaXNzaW9ucyByZXF1ZXN0ZWQgYnkgdGhlIHVzZXJcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICBwZXJtaXNzaW9uczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIFRoZSB0eXBlIG9mIGV2ZW50OiBcImNhbGwucGVybWlzc2lvbl9yZXF1ZXN0XCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQZXJtaXNzaW9uUmVxdWVzdEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUGVybWlzc2lvblJlcXVlc3RFdmVudFxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKiBQaW5SZXF1ZXN0IGlzIHRoZSBwYXlsb2FkIGZvciBwaW5uaW5nIGEgbWVzc2FnZS5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUGluUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBpblJlcXVlc3Qge1xuICAvKipcbiAgICogdGhlIHNlc3Npb24gSUQgb2YgdGhlIHVzZXIgd2hvIHBpbm5lZCB0aGUgbWVzc2FnZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUGluUmVxdWVzdFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIHVzZXIgSUQgb2YgdGhlIHVzZXIgd2hvIHBpbm5lZCB0aGUgbWVzc2FnZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUGluUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBQaW5SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBpblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUGluUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFB1Ymxpc2hlclN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdWJsaXNoZXJTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxUcmFja1N0YXRzUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUHVibGlzaGVyU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgYnlfdHJhY2s/OiBBcnJheTxUcmFja1N0YXRzUmVzcG9uc2U+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFB1Ymxpc2hlclN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHRvdGFsOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUHVibGlzaGVyU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgdW5pcXVlOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFB1c2hQcmVmZXJlbmNlc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1c2hQcmVmZXJlbmNlcyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUHVzaFByZWZlcmVuY2VzXG4gICAqL1xuICBjYWxsX2xldmVsPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFB1c2hQcmVmZXJlbmNlc1xuICAgKi9cbiAgY2hhdF9sZXZlbD86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBQdXNoUHJlZmVyZW5jZXNcbiAgICovXG4gIGRpc2FibGVkX3VudGlsPzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWFsaXR5U2NvcmVSZXBvcnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWFsaXR5U2NvcmVSZXBvcnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFJlcG9ydEJ5SGlzdG9ncmFtQnVja2V0Pn1cbiAgICogQG1lbWJlcm9mIFF1YWxpdHlTY29yZVJlcG9ydFxuICAgKi9cbiAgaGlzdG9ncmFtOiBBcnJheTxSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldD47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PERhaWx5QWdncmVnYXRlUXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhaWx5OiBBcnJheTxEYWlseUFnZ3JlZ2F0ZVF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIGZyb20/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdFxuICAgKi9cbiAgcmVwb3J0X3R5cGVzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIHRvPzogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbER1cmF0aW9uUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsX2R1cmF0aW9uX3JlcG9ydD86IENhbGxEdXJhdGlvblJlcG9ydFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsX3BhcnRpY2lwYW50X2NvdW50X3JlcG9ydD86IENhbGxQYXJ0aWNpcGFudENvdW50UmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxzX3Blcl9kYXlfcmVwb3J0PzogQ2FsbHNQZXJEYXlSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtOZXR3b3JrTWV0cmljc1JlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgbmV0d29ya19tZXRyaWNzX3JlcG9ydD86IE5ldHdvcmtNZXRyaWNzUmVwb3J0UmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7UXVhbGl0eVNjb3JlUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5X3Njb3JlX3JlcG9ydD86IFF1YWxpdHlTY29yZVJlcG9ydFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1NES1VzYWdlUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBzZGtfdXNhZ2VfcmVwb3J0PzogU0RLVXNhZ2VSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHVzZXJfZmVlZGJhY2tfcmVwb3J0PzogVXNlckZlZWRiYWNrUmVwb3J0UmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIGZpbHRlcl9jb25kaXRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8U29ydFBhcmFtUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgKi9cbiAgc29ydD86IEFycmF5PFNvcnRQYXJhbVJlcXVlc3Q+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsUGFydGljaXBhbnRzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXF1ZXN0XG4gICAqL1xuICBmaWx0ZXJfY29uZGl0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbFBhcnRpY2lwYW50c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsUGFydGljaXBhbnRzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFBhcnRpY2lwYW50c1Jlc3BvbnNlXG4gICAqL1xuICBjYWxsOiBDYWxsUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsUGFydGljaXBhbnRzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVzcG9uc2U+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsUGFydGljaXBhbnRzUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZW1iZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFBhcnRpY2lwYW50c1Jlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzaGlwPzogTWVtYmVyUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXNwb25zZVxuICAgKi9cbiAgb3duX2NhcGFiaWxpdGllczogQXJyYXk8T3duQ2FwYWJpbGl0eT47XG4gIC8qKlxuICAgKiBMaXN0IG9mIGNhbGwgcGFydGljaXBhbnRzXG4gICAqIEB0eXBlIHtBcnJheTxDYWxsUGFydGljaXBhbnRSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXNwb25zZVxuICAgKi9cbiAgcGFydGljaXBhbnRzOiBBcnJheTxDYWxsUGFydGljaXBhbnRSZXNwb25zZT47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsUGFydGljaXBhbnRzUmVzcG9uc2VcbiAgICovXG4gIHRvdGFsX3BhcnRpY2lwYW50czogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBmaWx0ZXJfY29uZGl0aW9ucz86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBsaW1pdD86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PFNvcnRQYXJhbVJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0XG4gICAqL1xuICBzb3J0PzogQXJyYXk8U29ydFBhcmFtUmVxdWVzdD47XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlXG4gICAqL1xuICBuZXh0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8Q2FsbFN0YXRzUmVwb3J0U3VtbWFyeVJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHJlcG9ydHM6IEFycmF5PENhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIGZpbHRlcl9jb25kaXRpb25zPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVxdWVzdFxuICAgKi9cbiAgbGltaXQ/OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIHByZXY/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBBcnJheSBvZiBzb3J0IHBhcmFtZXRlcnNcbiAgICogQHR5cGUge0FycmF5PFNvcnRQYXJhbVJlcXVlc3Q+fVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIHNvcnQ/OiBBcnJheTxTb3J0UGFyYW1SZXF1ZXN0PjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1JlcXVlc3RcbiAgICovXG4gIHdhdGNoPzogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlDYWxsc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxDYWxsU3RhdGVSZXNwb25zZUZpZWxkcz59XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVzcG9uc2VcbiAgICovXG4gIGNhbGxzOiBBcnJheTxDYWxsU3RhdGVSZXNwb25zZUZpZWxkcz47XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFF1ZXJ5Q2FsbHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBRdWVyeUNhbGxzUmVzcG9uc2VcbiAgICovXG4gIG5leHQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUXVlcnlDYWxsc1Jlc3BvbnNlXG4gICAqL1xuICBwcmV2Pzogc3RyaW5nO1xufVxuLyoqXG4gKiBSVE1QQnJvYWRjYXN0UmVxdWVzdCBpcyB0aGUgcGF5bG9hZCBmb3Igc3RhcnRpbmcgYW4gUlRNUCBicm9hZGNhc3QuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJUTVBCcm9hZGNhc3RSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUlRNUEJyb2FkY2FzdFJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0xheW91dFNldHRpbmdzUmVxdWVzdH1cbiAgICogQG1lbWJlcm9mIFJUTVBCcm9hZGNhc3RSZXF1ZXN0XG4gICAqL1xuICBsYXlvdXQ/OiBMYXlvdXRTZXR0aW5nc1JlcXVlc3Q7XG4gIC8qKlxuICAgKiBOYW1lIGlkZW50aWZpZXIgZm9yIFJUTVAgYnJvYWRjYXN0LCBtdXN0IGJlIHVuaXF1ZSBpbiBjYWxsXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSVE1QQnJvYWRjYXN0UmVxdWVzdFxuICAgKi9cbiAgbmFtZTogc3RyaW5nO1xuICAvKipcbiAgICogSWYgcHJvdmlkZWQsIHdpbGwgb3ZlcnJpZGUgdGhlIGNhbGwncyBSVE1QIHNldHRpbmdzIHF1YWxpdHlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJUTVBCcm9hZGNhc3RSZXF1ZXN0XG4gICAqL1xuICBxdWFsaXR5PzogUlRNUEJyb2FkY2FzdFJlcXVlc3RRdWFsaXR5RW51bTtcbiAgLyoqXG4gICAqIElmIHByb3ZpZGVkLCB3aWxsIGJlIGFwcGVuZGVkIGF0IHRoZSBlbmQgb2Ygc3RyZWFtX3VybFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUlRNUEJyb2FkY2FzdFJlcXVlc3RcbiAgICovXG4gIHN0cmVhbV9rZXk/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBVUkwgZm9yIHRoZSBSVE1QIHNlcnZlciB0byBzZW5kIHRoZSBjYWxsIHRvXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSVE1QQnJvYWRjYXN0UmVxdWVzdFxuICAgKi9cbiAgc3RyZWFtX3VybDogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFJUTVBCcm9hZGNhc3RSZXF1ZXN0UXVhbGl0eUVudW0gPSB7XG4gIF8zNjBQOiAnMzYwcCcsXG4gIF80ODBQOiAnNDgwcCcsXG4gIF83MjBQOiAnNzIwcCcsXG4gIF8xMDgwUDogJzEwODBwJyxcbiAgXzE0NDBQOiAnMTQ0MHAnLFxuICBfMjE2MFA6ICcyMTYwcCcsXG4gIFBPUlRSQUlUXzM2MFg2NDA6ICdwb3J0cmFpdC0zNjB4NjQwJyxcbiAgUE9SVFJBSVRfNDgwWDg1NDogJ3BvcnRyYWl0LTQ4MHg4NTQnLFxuICBQT1JUUkFJVF83MjBYMTI4MDogJ3BvcnRyYWl0LTcyMHgxMjgwJyxcbiAgUE9SVFJBSVRfMTA4MFgxOTIwOiAncG9ydHJhaXQtMTA4MHgxOTIwJyxcbiAgUE9SVFJBSVRfMTQ0MFgyNTYwOiAncG9ydHJhaXQtMTQ0MHgyNTYwJyxcbiAgUE9SVFJBSVRfMjE2MFgzODQwOiAncG9ydHJhaXQtMjE2MHgzODQwJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBSVE1QQnJvYWRjYXN0UmVxdWVzdFF1YWxpdHlFbnVtID1cbiAgKHR5cGVvZiBSVE1QQnJvYWRjYXN0UmVxdWVzdFF1YWxpdHlFbnVtKVtrZXlvZiB0eXBlb2YgUlRNUEJyb2FkY2FzdFJlcXVlc3RRdWFsaXR5RW51bV07XG5cbi8qKlxuICogUlRNUCBpbnB1dCBzZXR0aW5nc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSVE1QSW5ncmVzc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJUTVBJbmdyZXNzIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSVE1QSW5ncmVzc1xuICAgKi9cbiAgYWRkcmVzczogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSVE1QU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUlRNUFNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFJUTVBTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICogUmVzb2x1dGlvbiB0byBzZXQgZm9yIHRoZSBSVE1QIHN0cmVhbVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUlRNUFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgcXVhbGl0eT86IFJUTVBTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bTtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBSVE1QU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPSB7XG4gIF8zNjBQOiAnMzYwcCcsXG4gIF80ODBQOiAnNDgwcCcsXG4gIF83MjBQOiAnNzIwcCcsXG4gIF8xMDgwUDogJzEwODBwJyxcbiAgXzE0NDBQOiAnMTQ0MHAnLFxuICBfMjE2MFA6ICcyMTYwcCcsXG4gIFBPUlRSQUlUXzM2MFg2NDA6ICdwb3J0cmFpdC0zNjB4NjQwJyxcbiAgUE9SVFJBSVRfNDgwWDg1NDogJ3BvcnRyYWl0LTQ4MHg4NTQnLFxuICBQT1JUUkFJVF83MjBYMTI4MDogJ3BvcnRyYWl0LTcyMHgxMjgwJyxcbiAgUE9SVFJBSVRfMTA4MFgxOTIwOiAncG9ydHJhaXQtMTA4MHgxOTIwJyxcbiAgUE9SVFJBSVRfMTQ0MFgyNTYwOiAncG9ydHJhaXQtMTQ0MHgyNTYwJyxcbiAgUE9SVFJBSVRfMjE2MFgzODQwOiAncG9ydHJhaXQtMjE2MHgzODQwJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBSVE1QU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPVxuICAodHlwZW9mIFJUTVBTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bSlba2V5b2YgdHlwZW9mIFJUTVBTZXR0aW5nc1JlcXVlc3RRdWFsaXR5RW51bV07XG5cbi8qKlxuICogUlRNUFNldHRpbmdzUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIFJUTVAgc2V0dGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUlRNUFNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSVE1QU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFJUTVBTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJUTVBTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlYWN0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWFjdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgZW1vamlfY29kZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWFjdGlvblJlc3BvbnNlXG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgdXNlcjogVXNlclJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSZWNvcmRTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZWNvcmRTZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGF1ZGlvX29ubHk/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgbW9kZTogUmVjb3JkU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBxdWFsaXR5PzogUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0gPSB7XG4gIEFWQUlMQUJMRTogJ2F2YWlsYWJsZScsXG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBBVVRPX09OOiAnYXV0by1vbicsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0gPVxuICAodHlwZW9mIFJlY29yZFNldHRpbmdzUmVxdWVzdE1vZGVFbnVtKVtrZXlvZiB0eXBlb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW1dO1xuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtID0ge1xuICBfMzYwUDogJzM2MHAnLFxuICBfNDgwUDogJzQ4MHAnLFxuICBfNzIwUDogJzcyMHAnLFxuICBfMTA4MFA6ICcxMDgwcCcsXG4gIF8xNDQwUDogJzE0NDBwJyxcbiAgXzIxNjBQOiAnMjE2MHAnLFxuICBQT1JUUkFJVF8zNjBYNjQwOiAncG9ydHJhaXQtMzYweDY0MCcsXG4gIFBPUlRSQUlUXzQ4MFg4NTQ6ICdwb3J0cmFpdC00ODB4ODU0JyxcbiAgUE9SVFJBSVRfNzIwWDEyODA6ICdwb3J0cmFpdC03MjB4MTI4MCcsXG4gIFBPUlRSQUlUXzEwODBYMTkyMDogJ3BvcnRyYWl0LTEwODB4MTkyMCcsXG4gIFBPUlRSQUlUXzE0NDBYMjU2MDogJ3BvcnRyYWl0LTE0NDB4MjU2MCcsXG4gIFBPUlRSQUlUXzIxNjBYMzg0MDogJ3BvcnRyYWl0LTIxNjB4Mzg0MCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0gPVxuICAodHlwZW9mIFJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtKVtrZXlvZiB0eXBlb2YgUmVjb3JkU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW1dO1xuXG4vKipcbiAqIFJlY29yZFNldHRpbmdzIGlzIHRoZSBwYXlsb2FkIGZvciByZWNvcmRpbmcgc2V0dGluZ3NcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVjb3JkU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29yZFNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdWRpb19vbmx5OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlY29yZFNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIG1vZGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBSZWNvcmRTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBxdWFsaXR5OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlamVjdENhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVqZWN0Q2FsbFJlcXVlc3Qge1xuICAvKipcbiAgICogUmVhc29uIGZvciByZWplY3RpbmcgdGhlIGNhbGxcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlamVjdENhbGxSZXF1ZXN0XG4gICAqL1xuICByZWFzb24/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlamVjdENhbGxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlamVjdENhbGxSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlamVjdENhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAgICovXG4gIGNhdGVnb3J5OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0QnlIaXN0b2dyYW1CdWNrZXRcbiAgICovXG4gIGNvdW50OiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Qm91bmR9XG4gICAqIEBtZW1iZXJvZiBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldFxuICAgKi9cbiAgbG93ZXJfYm91bmQ/OiBCb3VuZDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldFxuICAgKi9cbiAgc3VtOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Qm91bmR9XG4gICAqIEBtZW1iZXJvZiBSZXBvcnRCeUhpc3RvZ3JhbUJ1Y2tldFxuICAgKi9cbiAgdXBwZXJfYm91bmQ/OiBCb3VuZDtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVwb3J0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGNhbGw6IENhbGxSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtQYXJ0aWNpcGFudFJlcG9ydFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIHBhcnRpY2lwYW50czogUGFydGljaXBhbnRSZXBvcnRSZXNwb25zZTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmF0aW5nUmVwb3J0UmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBSZXBvcnRSZXNwb25zZVxuICAgKi9cbiAgdXNlcl9yYXRpbmdzOiBVc2VyUmF0aW5nUmVwb3J0UmVzcG9uc2U7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlcXVlc3RQZXJtaXNzaW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlcXVlc3RQZXJtaXNzaW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFJlcXVlc3RQZXJtaXNzaW9uUmVxdWVzdFxuICAgKi9cbiAgcGVybWlzc2lvbnM6IEFycmF5PHN0cmluZz47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXF1ZXN0UGVybWlzc2lvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBSaW5nU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmluZ1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBXaGVuIG5vbmUgb2YgdGhlIGNhbGxlZXMgYWNjZXB0IGEgcmluZyBjYWxsIGluIHRoaXMgdGltZSBhIHJlamVjdGlvbiB3aWxsIGJlIHNlbnQgYnkgdGhlIGNhbGxlciB3aXRoIHJlYXNvbiAndGltZW91dCcgYnkgdGhlIFNES3NcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGF1dG9fY2FuY2VsX3RpbWVvdXRfbXM6IG51bWJlcjtcbiAgLyoqXG4gICAqIFdoZW4gYSBjYWxsZWUgaXMgb25saW5lIGJ1dCBkb2Vzbid0IGFuc3dlciBhIHJpbmcgY2FsbCBpbiB0aGlzIHRpbWUgYSByZWplY3Rpb24gd2lsbCBiZSBzZW50IHdpdGggcmVhc29uICd0aW1lb3V0JyBieSB0aGUgU0RLc1xuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgaW5jb21pbmdfY2FsbF90aW1lb3V0X21zOiBudW1iZXI7XG4gIC8qKlxuICAgKiBXaGVuIGEgY2FsbGVlIGRvZXNuJ3QgYWNjZXB0IG9yIHJlamVjdCBhIHJpbmcgY2FsbCBpbiB0aGlzIHRpbWUgYSBtaXNzZWQgY2FsbCBldmVudCB3aWxsIGJlIHNlbnRcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIG1pc3NlZF9jYWxsX3RpbWVvdXRfbXM/OiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmluZ1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBhdXRvX2NhbmNlbF90aW1lb3V0X21zOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgUmluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGluY29taW5nX2NhbGxfdGltZW91dF9tczogbnVtYmVyO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtaXNzZWRfY2FsbF90aW1lb3V0X21zOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNES1VzYWdlUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU0RLVXNhZ2VSZXBvcnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogUGVyU0RLVXNhZ2VSZXBvcnQ7IH19XG4gICAqIEBtZW1iZXJvZiBTREtVc2FnZVJlcG9ydFxuICAgKi9cbiAgcGVyX3Nka191c2FnZTogeyBba2V5OiBzdHJpbmddOiBQZXJTREtVc2FnZVJlcG9ydCB9O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTREtVc2FnZVJlcG9ydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU0RLVXNhZ2VSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8RGFpbHlBZ2dyZWdhdGVTREtVc2FnZVJlcG9ydFJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFNES1VzYWdlUmVwb3J0UmVzcG9uc2VcbiAgICovXG4gIGRhaWx5OiBBcnJheTxEYWlseUFnZ3JlZ2F0ZVNES1VzYWdlUmVwb3J0UmVzcG9uc2U+O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTRlVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNGVVJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTRlVSZXNwb25zZVxuICAgKi9cbiAgZWRnZV9uYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU0ZVUmVzcG9uc2VcbiAgICovXG4gIHVybDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFNGVVJlc3BvbnNlXG4gICAqL1xuICB3c19lbmRwb2ludDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBlbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUYXJnZXRSZXNvbHV0aW9ufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdGFyZ2V0X3Jlc29sdXRpb24/OiBUYXJnZXRSZXNvbHV0aW9uO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU2NyZWVuc2hhcmluZ1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFNjcmVlbnNoYXJpbmdTZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBlbmFibGVkOiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RhcmdldFJlc29sdXRpb259XG4gICAqIEBtZW1iZXJvZiBTY3JlZW5zaGFyaW5nU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgdGFyZ2V0X3Jlc29sdXRpb24/OiBUYXJnZXRSZXNvbHV0aW9uO1xufVxuLyoqXG4gKiBTZW5kIGEgY2FsbCBldmVudCB0byB0aGUgb3RoZXIgdXNlclxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kQ2FsbEV2ZW50UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRDYWxsRXZlbnRSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFNlbmRDYWxsRXZlbnRSZXF1ZXN0XG4gICAqL1xuICBjdXN0b20/OiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZW5kQ2FsbEV2ZW50UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kQ2FsbEV2ZW50UmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTZW5kQ2FsbEV2ZW50UmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNlbmRSZWFjdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kUmVhY3Rpb25SZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IGFueTsgfX1cbiAgICogQG1lbWJlcm9mIFNlbmRSZWFjdGlvblJlcXVlc3RcbiAgICovXG4gIGN1c3RvbT86IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVxdWVzdFxuICAgKi9cbiAgZW1vamlfY29kZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTZW5kUmVhY3Rpb25SZXF1ZXN0XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNlbmRSZWFjdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2VuZFJlYWN0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTZW5kUmVhY3Rpb25SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtSZWFjdGlvblJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgU2VuZFJlYWN0aW9uUmVzcG9uc2VcbiAgICovXG4gIHJlYWN0aW9uOiBSZWFjdGlvblJlc3BvbnNlO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTZXNzaW9uU2V0dGluZ3NSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2Vzc2lvblNldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU2Vzc2lvblNldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgaW5hY3Rpdml0eV90aW1lb3V0X3NlY29uZHM6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU2Vzc2lvblNldHRpbmdzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXNzaW9uU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU2Vzc2lvblNldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGluYWN0aXZpdHlfdGltZW91dF9zZWNvbmRzOiBudW1iZXI7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFNvcnRQYXJhbVJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTb3J0UGFyYW1SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIERpcmVjdGlvbiBvZiBzb3J0aW5nLCAxIGZvciBBc2NlbmRpbmcsIC0xIGZvciBEZXNjZW5kaW5nLCBkZWZhdWx0IGlzIDFcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFNvcnRQYXJhbVJlcXVlc3RcbiAgICovXG4gIGRpcmVjdGlvbj86IG51bWJlcjtcbiAgLyoqXG4gICAqIE5hbWUgb2YgZmllbGQgdG8gc29ydCBieVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU29ydFBhcmFtUmVxdWVzdFxuICAgKi9cbiAgZmllbGQ/OiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICogRW5hYmxlIHRyYW5zY3JpcHRpb25zIGFsb25nIHdpdGggY2xvc2VkIGNhcHRpb25zXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZV90cmFuc2NyaXB0aW9uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFdoaWNoIGV4dGVybmFsIHN0b3JhZ2UgdG8gdXNlIGZvciB0cmFuc2NyaXB0aW9ucyAob25seSBhcHBsaWNhYmxlIGlmIGVuYWJsZV90cmFuc2NyaXB0aW9uIGlzIHRydWUpXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdFxuICAgKi9cbiAgZXh0ZXJuYWxfc3RvcmFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBzcG9rZW4gbGFuZ3VhZ2UgaW4gdGhlIGNhbGwsIGlmIG5vdCBwcm92aWRlZCB0aGUgbGFuZ3VhZ2UgZGVmaW5lZCBpbiB0aGUgdHJhbnNjcmlwdGlvbiBzZXR0aW5ncyB3aWxsIGJlIHVzZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0XG4gICAqL1xuICBsYW5ndWFnZT86IFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0TGFuZ3VhZ2VFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0TGFuZ3VhZ2VFbnVtID0ge1xuICBBVVRPOiAnYXV0bycsXG4gIEVOOiAnZW4nLFxuICBGUjogJ2ZyJyxcbiAgRVM6ICdlcycsXG4gIERFOiAnZGUnLFxuICBJVDogJ2l0JyxcbiAgTkw6ICdubCcsXG4gIFBUOiAncHQnLFxuICBQTDogJ3BsJyxcbiAgQ0E6ICdjYScsXG4gIENTOiAnY3MnLFxuICBEQTogJ2RhJyxcbiAgRUw6ICdlbCcsXG4gIEZJOiAnZmknLFxuICBJRDogJ2lkJyxcbiAgSkE6ICdqYScsXG4gIFJVOiAncnUnLFxuICBTVjogJ3N2JyxcbiAgVEE6ICd0YScsXG4gIFRIOiAndGgnLFxuICBUUjogJ3RyJyxcbiAgSFU6ICdodScsXG4gIFJPOiAncm8nLFxuICBaSDogJ3poJyxcbiAgQVI6ICdhcicsXG4gIFRMOiAndGwnLFxuICBIRTogJ2hlJyxcbiAgSEk6ICdoaScsXG4gIEhSOiAnaHInLFxuICBLTzogJ2tvJyxcbiAgTVM6ICdtcycsXG4gIE5POiAnbm8nLFxuICBVSzogJ3VrJyxcbiAgQkc6ICdiZycsXG4gIEVUOiAnZXQnLFxuICBTTDogJ3NsJyxcbiAgU0s6ICdzaycsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3RMYW5ndWFnZUVudW0gPVxuICAodHlwZW9mIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0TGFuZ3VhZ2VFbnVtKVtrZXlvZiB0eXBlb2YgU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3RMYW5ndWFnZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydEZyYW1lUmVjb3JkaW5nUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydEZyYW1lUmVjb3JkaW5nUmVxdWVzdFxuICAgKi9cbiAgcmVjb3JkaW5nX2V4dGVybmFsX3N0b3JhZ2U/OiBzdHJpbmc7XG59XG4vKipcbiAqIFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXNwb25zZSBpcyB0aGUgcmVzcG9uc2UgcGF5bG9hZCBmb3IgdGhlIHN0YXJ0IGZyYW1lIHJlY29yZGluZyBlbmRwb2ludC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRGcmFtZVJlY29yZGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRGcmFtZVJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRGcmFtZVJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBTdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlIGlzIHRoZSBwYXlsb2FkIGZvciBzdGFydGluZyBhbiBITFMgYnJvYWRjYXN0aW5nLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBVUkwgb2YgdGhlIEhMUyBwbGF5bGlzdFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZVxuICAgKi9cbiAgcGxheWxpc3RfdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqIFN0YXJ0UlRNUEJyb2FkY2FzdHNSZXF1ZXN0IGlzIHRoZSBwYXlsb2FkIGZvciBzdGFydGluZyBSVE1QIGJyb2FkY2FzdHMuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0UlRNUEJyb2FkY2FzdHNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRSVE1QQnJvYWRjYXN0c1JlcXVlc3Qge1xuICAvKipcbiAgICogTGlzdCBvZiBicm9hZGNhc3RzIHRvIHN0YXJ0XG4gICAqIEB0eXBlIHtBcnJheTxSVE1QQnJvYWRjYXN0UmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBTdGFydFJUTVBCcm9hZGNhc3RzUmVxdWVzdFxuICAgKi9cbiAgYnJvYWRjYXN0czogQXJyYXk8UlRNUEJyb2FkY2FzdFJlcXVlc3Q+O1xufVxuLyoqXG4gKiBTdGFydFJUTVBCcm9hZGNhc3RzUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIHN0YXJ0aW5nIGFuIFJUTVAgYnJvYWRjYXN0LlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFJUTVBCcm9hZGNhc3RzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFJUTVBCcm9hZGNhc3RzUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydFJUTVBCcm9hZGNhc3RzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRSZWNvcmRpbmdSZXF1ZXN0XG4gICAqL1xuICByZWNvcmRpbmdfZXh0ZXJuYWxfc3RvcmFnZT86IHN0cmluZztcbn1cbi8qKlxuICogU3RhcnRSZWNvcmRpbmdSZXNwb25zZSBpcyB0aGUgcmVzcG9uc2UgcGF5bG9hZCBmb3IgdGhlIHN0YXJ0IHJlY29yZGluZyBlbmRwb2ludC5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRSZWNvcmRpbmdSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdGFydFJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBFbmFibGUgY2xvc2VkIGNhcHRpb25zIGFsb25nIHdpdGggdHJhbnNjcmlwdGlvbnNcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gICAqL1xuICBlbmFibGVfY2xvc2VkX2NhcHRpb25zPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqIFRoZSBzcG9rZW4gbGFuZ3VhZ2UgaW4gdGhlIGNhbGwsIGlmIG5vdCBwcm92aWRlZCB0aGUgbGFuZ3VhZ2UgZGVmaW5lZCBpbiB0aGUgdHJhbnNjcmlwdGlvbiBzZXR0aW5ncyB3aWxsIGJlIHVzZWRcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlPzogU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdExhbmd1YWdlRW51bTtcbiAgLyoqXG4gICAqIFN0b3JlIHRyYW5zY3JpcHRpb25zIGluIHRoaXMgZXh0ZXJuYWwgc3RvcmFnZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdFxuICAgKi9cbiAgdHJhbnNjcmlwdGlvbl9leHRlcm5hbF9zdG9yYWdlPzogc3RyaW5nO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFN0YXJ0VHJhbnNjcmlwdGlvblJlcXVlc3RMYW5ndWFnZUVudW0gPSB7XG4gIEFVVE86ICdhdXRvJyxcbiAgRU46ICdlbicsXG4gIEZSOiAnZnInLFxuICBFUzogJ2VzJyxcbiAgREU6ICdkZScsXG4gIElUOiAnaXQnLFxuICBOTDogJ25sJyxcbiAgUFQ6ICdwdCcsXG4gIFBMOiAncGwnLFxuICBDQTogJ2NhJyxcbiAgQ1M6ICdjcycsXG4gIERBOiAnZGEnLFxuICBFTDogJ2VsJyxcbiAgRkk6ICdmaScsXG4gIElEOiAnaWQnLFxuICBKQTogJ2phJyxcbiAgUlU6ICdydScsXG4gIFNWOiAnc3YnLFxuICBUQTogJ3RhJyxcbiAgVEg6ICd0aCcsXG4gIFRSOiAndHInLFxuICBIVTogJ2h1JyxcbiAgUk86ICdybycsXG4gIFpIOiAnemgnLFxuICBBUjogJ2FyJyxcbiAgVEw6ICd0bCcsXG4gIEhFOiAnaGUnLFxuICBISTogJ2hpJyxcbiAgSFI6ICdocicsXG4gIEtPOiAna28nLFxuICBNUzogJ21zJyxcbiAgTk86ICdubycsXG4gIFVLOiAndWsnLFxuICBCRzogJ2JnJyxcbiAgRVQ6ICdldCcsXG4gIFNMOiAnc2wnLFxuICBTSzogJ3NrJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0TGFuZ3VhZ2VFbnVtID1cbiAgKHR5cGVvZiBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0TGFuZ3VhZ2VFbnVtKVtrZXlvZiB0eXBlb2YgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdExhbmd1YWdlRW51bV07XG5cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0YXJ0VHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdGF0c09wdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGF0c09wdGlvbnMge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdGF0c09wdGlvbnNcbiAgICovXG4gIGVuYWJsZV9ydGNfc3RhdHM6IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3RhdHNPcHRpb25zXG4gICAqL1xuICByZXBvcnRpbmdfaW50ZXJ2YWxfbXM6IG51bWJlcjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcEFsbFJUTVBCcm9hZGNhc3RzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wQWxsUlRNUEJyb2FkY2FzdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BBbGxSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcENsb3NlZENhcHRpb25zUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFN0b3BDbG9zZWRDYXB0aW9uc1JlcXVlc3RcbiAgICovXG4gIHN0b3BfdHJhbnNjcmlwdGlvbj86IGJvb2xlYW47XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcENsb3NlZENhcHRpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcEZyYW1lUmVjb3JkaW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wRnJhbWVSZWNvcmRpbmdSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BGcmFtZVJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wSExTQnJvYWRjYXN0aW5nUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BMaXZlUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BMaXZlUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFN0b3BMaXZlUmVxdWVzdFxuICAgKi9cbiAgY29udGludWVfY2xvc2VkX2NhcHRpb24/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdG9wTGl2ZVJlcXVlc3RcbiAgICovXG4gIGNvbnRpbnVlX2hscz86IGJvb2xlYW47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFN0b3BMaXZlUmVxdWVzdFxuICAgKi9cbiAgY29udGludWVfcmVjb3JkaW5nPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgU3RvcExpdmVSZXF1ZXN0XG4gICAqL1xuICBjb250aW51ZV9ydG1wX2Jyb2FkY2FzdHM/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdG9wTGl2ZVJlcXVlc3RcbiAgICovXG4gIGNvbnRpbnVlX3RyYW5zY3JpcHRpb24/OiBib29sZWFuO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wTGl2ZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcExpdmVSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Q2FsbFJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgU3RvcExpdmVSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFN0b3BMaXZlUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFN0b3BSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcFJUTVBCcm9hZGNhc3RzUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wUlRNUEJyb2FkY2FzdHNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcFJlY29yZGluZ1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RvcFJlY29yZGluZ1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgU3RvcFJlY29yZGluZ1Jlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdG9wVHJhbnNjcmlwdGlvblJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wVHJhbnNjcmlwdGlvblJlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBTdG9wVHJhbnNjcmlwdGlvblJlcXVlc3RcbiAgICovXG4gIHN0b3BfY2xvc2VkX2NhcHRpb25zPzogYm9vbGVhbjtcbn1cbi8qKlxuICogQmFzaWMgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgU3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2Uge1xuICAvKipcbiAgICogRHVyYXRpb24gb2YgdGhlIHJlcXVlc3QgaW4gbWlsbGlzZWNvbmRzXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlXG4gICAqL1xuICBkdXJhdGlvbjogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBTdWJzY3JpYmVyU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmliZXJTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTdWJzY3JpYmVyU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgdG90YWw6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBTdWJzY3JpYmVyU3RhdHNSZXNwb25zZVxuICAgKi9cbiAgdG90YWxfc3Vic2NyaWJlZF9kdXJhdGlvbl9zZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgU3Vic2NyaWJlclN0YXRzUmVzcG9uc2VcbiAgICovXG4gIHVuaXF1ZTogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUYXJnZXRSZXNvbHV0aW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGFyZ2V0UmVzb2x1dGlvbiB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVGFyZ2V0UmVzb2x1dGlvblxuICAgKi9cbiAgYml0cmF0ZT86IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBUYXJnZXRSZXNvbHV0aW9uXG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBUYXJnZXRSZXNvbHV0aW9uXG4gICAqL1xuICB3aWR0aDogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBUaHVtYm5haWxSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRodW1ibmFpbFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUaHVtYm5haWxSZXNwb25zZVxuICAgKi9cbiAgaW1hZ2VfdXJsOiBzdHJpbmc7XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRodW1ibmFpbHNTZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaHVtYm5haWxzU2V0dGluZ3NSZXF1ZXN0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVGh1bWJuYWlsc1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgZW5hYmxlZD86IGJvb2xlYW47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRodW1ibmFpbHNTZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVGh1bWJuYWlsc1NldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge2Jvb2xlYW59XG4gICAqIEBtZW1iZXJvZiBUaHVtYm5haWxzU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVHJhY2tTdGF0c1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tTdGF0c1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtudW1iZXJ9XG4gICAqIEBtZW1iZXJvZiBUcmFja1N0YXRzUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uX3NlY29uZHM6IG51bWJlcjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFja1N0YXRzUmVzcG9uc2VcbiAgICovXG4gIHRyYWNrX3R5cGU6IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGNsb3NlZF9jYXB0aW9uX21vZGU/OiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0Q2xvc2VkQ2FwdGlvbk1vZGVFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGxhbmd1YWdlPzogVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdExhbmd1YWdlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBtb2RlOiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW07XG59XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdENsb3NlZENhcHRpb25Nb2RlRW51bSA9IHtcbiAgQVZBSUxBQkxFOiAnYXZhaWxhYmxlJyxcbiAgRElTQUJMRUQ6ICdkaXNhYmxlZCcsXG4gIEFVVE9fT046ICdhdXRvLW9uJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0Q2xvc2VkQ2FwdGlvbk1vZGVFbnVtID1cbiAgKHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0Q2xvc2VkQ2FwdGlvbk1vZGVFbnVtKVtrZXlvZiB0eXBlb2YgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdENsb3NlZENhcHRpb25Nb2RlRW51bV07XG5cbi8qKlxuICogQGV4cG9ydFxuICovXG5leHBvcnQgY29uc3QgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdExhbmd1YWdlRW51bSA9IHtcbiAgQVVUTzogJ2F1dG8nLFxuICBFTjogJ2VuJyxcbiAgRlI6ICdmcicsXG4gIEVTOiAnZXMnLFxuICBERTogJ2RlJyxcbiAgSVQ6ICdpdCcsXG4gIE5MOiAnbmwnLFxuICBQVDogJ3B0JyxcbiAgUEw6ICdwbCcsXG4gIENBOiAnY2EnLFxuICBDUzogJ2NzJyxcbiAgREE6ICdkYScsXG4gIEVMOiAnZWwnLFxuICBGSTogJ2ZpJyxcbiAgSUQ6ICdpZCcsXG4gIEpBOiAnamEnLFxuICBSVTogJ3J1JyxcbiAgU1Y6ICdzdicsXG4gIFRBOiAndGEnLFxuICBUSDogJ3RoJyxcbiAgVFI6ICd0cicsXG4gIEhVOiAnaHUnLFxuICBSTzogJ3JvJyxcbiAgWkg6ICd6aCcsXG4gIEFSOiAnYXInLFxuICBUTDogJ3RsJyxcbiAgSEU6ICdoZScsXG4gIEhJOiAnaGknLFxuICBIUjogJ2hyJyxcbiAgS086ICdrbycsXG4gIE1TOiAnbXMnLFxuICBOTzogJ25vJyxcbiAgVUs6ICd1aycsXG4gIEJHOiAnYmcnLFxuICBFVDogJ2V0JyxcbiAgU0w6ICdzbCcsXG4gIFNLOiAnc2snLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RMYW5ndWFnZUVudW0gPVxuICAodHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RMYW5ndWFnZUVudW0pW2tleW9mIHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TGFuZ3VhZ2VFbnVtXTtcblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0gPSB7XG4gIEFWQUlMQUJMRTogJ2F2YWlsYWJsZScsXG4gIERJU0FCTEVEOiAnZGlzYWJsZWQnLFxuICBBVVRPX09OOiAnYXV0by1vbicsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtID1cbiAgKHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0pW2tleW9mIHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBjbG9zZWRfY2FwdGlvbl9tb2RlOiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUNsb3NlZENhcHRpb25Nb2RlRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgbGFuZ3VhZ2U6IFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTGFuZ3VhZ2VFbnVtO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBtb2RlOiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlQ2xvc2VkQ2FwdGlvbk1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlQ2xvc2VkQ2FwdGlvbk1vZGVFbnVtID1cbiAgKHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUNsb3NlZENhcHRpb25Nb2RlRW51bSlba2V5b2YgdHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlQ2xvc2VkQ2FwdGlvbk1vZGVFbnVtXTtcblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUxhbmd1YWdlRW51bSA9IHtcbiAgQVVUTzogJ2F1dG8nLFxuICBFTjogJ2VuJyxcbiAgRlI6ICdmcicsXG4gIEVTOiAnZXMnLFxuICBERTogJ2RlJyxcbiAgSVQ6ICdpdCcsXG4gIE5MOiAnbmwnLFxuICBQVDogJ3B0JyxcbiAgUEw6ICdwbCcsXG4gIENBOiAnY2EnLFxuICBDUzogJ2NzJyxcbiAgREE6ICdkYScsXG4gIEVMOiAnZWwnLFxuICBGSTogJ2ZpJyxcbiAgSUQ6ICdpZCcsXG4gIEpBOiAnamEnLFxuICBSVTogJ3J1JyxcbiAgU1Y6ICdzdicsXG4gIFRBOiAndGEnLFxuICBUSDogJ3RoJyxcbiAgVFI6ICd0cicsXG4gIEhVOiAnaHUnLFxuICBSTzogJ3JvJyxcbiAgWkg6ICd6aCcsXG4gIEFSOiAnYXInLFxuICBUTDogJ3RsJyxcbiAgSEU6ICdoZScsXG4gIEhJOiAnaGknLFxuICBIUjogJ2hyJyxcbiAgS086ICdrbycsXG4gIE1TOiAnbXMnLFxuICBOTzogJ25vJyxcbiAgVUs6ICd1aycsXG4gIEJHOiAnYmcnLFxuICBFVDogJ2V0JyxcbiAgU0w6ICdzbCcsXG4gIFNLOiAnc2snLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTGFuZ3VhZ2VFbnVtID1cbiAgKHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUxhbmd1YWdlRW51bSlba2V5b2YgdHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTGFuZ3VhZ2VFbnVtXTtcblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtID0ge1xuICBBVkFJTEFCTEU6ICdhdmFpbGFibGUnLFxuICBESVNBQkxFRDogJ2Rpc2FibGVkJyxcbiAgQVVUT19PTjogJ2F1dG8tb24nLFxufSBhcyBjb25zdDtcbmV4cG9ydCB0eXBlIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0gPVxuICAodHlwZW9mIFRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0pW2tleW9mIHR5cGVvZiBUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZU1vZGVFbnVtXTtcblxuLyoqXG4gKiBVbmJsb2NrVXNlclJlcXVlc3QgaXMgdGhlIHBheWxvYWQgZm9yIHVuYmxvY2tpbmcgYSB1c2VyLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbmJsb2NrVXNlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbmJsb2NrVXNlclJlcXVlc3Qge1xuICAvKipcbiAgICogdGhlIHVzZXIgdG8gdW5ibG9ja1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja1VzZXJSZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqIFVuYmxvY2tVc2VyUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIHVuYmxvY2tpbmcgYSB1c2VyLlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVbmJsb2NrVXNlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5ibG9ja1VzZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBEdXJhdGlvbiBvZiB0aGUgcmVxdWVzdCBpbiBtaWxsaXNlY29uZHNcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tVc2VyUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB3aGVuIGEgdXNlciBpcyB1bmJsb2NrZWQgb24gYSBjYWxsLFxuICogdGhpcyBjYW4gYmUgdXNlZnVsIHRvIG5vdGlmeSB0aGUgdXNlciB0aGF0IHRoZXkgY2FuIG5vdyBqb2luIHRoZSBjYWxsIGFnYWluXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVuYmxvY2tlZFVzZXJFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVuYmxvY2tlZFVzZXJFdmVudCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICBjYWxsX2NpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVuYmxvY2tlZFVzZXJFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC51bmJsb2NrZWRfdXNlclwiIGluIHRoaXMgY2FzZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVW5ibG9ja2VkVXNlckV2ZW50XG4gICAqL1xuICB1c2VyOiBVc2VyUmVzcG9uc2U7XG59XG4vKipcbiAqIFVucGluUmVxdWVzdCBpcyB0aGUgcGF5bG9hZCBmb3IgdW5waW5uaW5nIGEgbWVzc2FnZS5cbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVW5waW5SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVW5waW5SZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHRoZSBzZXNzaW9uIElEIG9mIHRoZSB1c2VyIHdobyBwaW5uZWQgdGhlIG1lc3NhZ2VcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVucGluUmVxdWVzdFxuICAgKi9cbiAgc2Vzc2lvbl9pZDogc3RyaW5nO1xuICAvKipcbiAgICogdGhlIHVzZXIgSUQgb2YgdGhlIHVzZXIgd2hvIHBpbm5lZCB0aGUgbWVzc2FnZVxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5waW5SZXF1ZXN0XG4gICAqL1xuICB1c2VyX2lkOiBzdHJpbmc7XG59XG4vKipcbiAqIFVucGluUmVzcG9uc2UgaXMgdGhlIHBheWxvYWQgZm9yIHVucGlubmluZyBhIG1lc3NhZ2UuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVucGluUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVbnBpblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVW5waW5SZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbn1cbi8qKlxuICogVXBkYXRlIGNhbGwgbWVtYmVyc1xuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3Qge1xuICAvKipcbiAgICogTGlzdCBvZiB1c2VySUQgdG8gcmVtb3ZlXG4gICAqIEB0eXBlIHtBcnJheTxzdHJpbmc+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbE1lbWJlcnNSZXF1ZXN0XG4gICAqL1xuICByZW1vdmVfbWVtYmVycz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKiBMaXN0IG9mIG1lbWJlcnMgdG8gdXBkYXRlIG9yIGluc2VydFxuICAgKiBAdHlwZSB7QXJyYXk8TWVtYmVyUmVxdWVzdD59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICovXG4gIHVwZGF0ZV9tZW1iZXJzPzogQXJyYXk8TWVtYmVyUmVxdWVzdD47XG59XG4vKipcbiAqIEJhc2ljIHJlc3BvbnNlIGluZm9ybWF0aW9uXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlXG4gICAqL1xuICBtZW1iZXJzOiBBcnJheTxNZW1iZXJSZXNwb25zZT47XG59XG4vKipcbiAqIFJlcXVlc3QgZm9yIHVwZGF0aW5nIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVDYWxsUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZUNhbGxSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEN1c3RvbSBkYXRhIGZvciB0aGlzIG9iamVjdFxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtDYWxsU2V0dGluZ3NSZXF1ZXN0fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIHNldHRpbmdzX292ZXJyaWRlPzogQ2FsbFNldHRpbmdzUmVxdWVzdDtcbiAgLyoqXG4gICAqIHRoZSB0aW1lIHRoZSBjYWxsIGlzIHNjaGVkdWxlZCB0byBzdGFydFxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlcXVlc3RcbiAgICovXG4gIHN0YXJ0c19hdD86IHN0cmluZztcbn1cbi8qKlxuICogUmVzcG9uc2UgZm9yIHVwZGF0aW5nIGEgY2FsbFxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVDYWxsUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVDYWxsUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0NhbGxSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgY2FsbDogQ2FsbFJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgZHVyYXRpb246IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxNZW1iZXJSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVDYWxsUmVzcG9uc2VcbiAgICovXG4gIG1lbWJlcnM6IEFycmF5PE1lbWJlclJlc3BvbnNlPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtNZW1iZXJSZXNwb25zZX1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZUNhbGxSZXNwb25zZVxuICAgKi9cbiAgbWVtYmVyc2hpcD86IE1lbWJlclJlc3BvbnNlO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PE93bkNhcGFiaWxpdHk+fVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlQ2FsbFJlc3BvbnNlXG4gICAqL1xuICBvd25fY2FwYWJpbGl0aWVzOiBBcnJheTxPd25DYXBhYmlsaXR5Pjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3Qge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0XG4gICAqL1xuICBncmFudF9wZXJtaXNzaW9ucz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAgICovXG4gIHJldm9rZV9wZXJtaXNzaW9ucz86IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVxdWVzdFxuICAgKi9cbiAgdXNlcl9pZDogc3RyaW5nO1xufVxuLyoqXG4gKiBCYXNpYyByZXNwb25zZSBpbmZvcm1hdGlvblxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIER1cmF0aW9uIG9mIHRoZSByZXF1ZXN0IGluIG1pbGxpc2Vjb25kc1xuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXBkYXRlVXNlclBlcm1pc3Npb25zUmVzcG9uc2VcbiAgICovXG4gIGR1cmF0aW9uOiBzdHJpbmc7XG59XG4vKipcbiAqIFRoaXMgZXZlbnQgaXMgc2VudCB0byBub3RpZnkgYWJvdXQgcGVybWlzc2lvbiBjaGFuZ2VzIGZvciBhIHVzZXIsIGNsaWVudHMgcmVjZWl2aW5nIHRoaXMgZXZlbnQgc2hvdWxkIHVwZGF0ZSB0aGVpciBVSSBhY2NvcmRpbmdseVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnQge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudFxuICAgKi9cbiAgY2FsbF9jaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBjYXBhYmlsaXRpZXMgb2YgdGhlIGN1cnJlbnQgdXNlclxuICAgKiBAdHlwZSB7QXJyYXk8T3duQ2FwYWJpbGl0eT59XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIG93bl9jYXBhYmlsaXRpZXM6IEFycmF5PE93bkNhcGFiaWxpdHk+O1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwiY2FsbC5wZXJtaXNzaW9uc191cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtVc2VyUmVzcG9uc2V9XG4gICAqIEBtZW1iZXJvZiBVcGRhdGVkQ2FsbFBlcm1pc3Npb25zRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZTtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVXNlckZlZWRiYWNrUmVwb3J0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlckZlZWRiYWNrUmVwb3J0IHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IG51bWJlcjsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJGZWVkYmFja1JlcG9ydFxuICAgKi9cbiAgY291bnRfYnlfcmF0aW5nOiB7IFtrZXk6IHN0cmluZ106IG51bWJlciB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge251bWJlcn1cbiAgICogQG1lbWJlcm9mIFVzZXJGZWVkYmFja1JlcG9ydFxuICAgKi9cbiAgdW5yZXBvcnRlZF9jb3VudDogbnVtYmVyO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJGZWVkYmFja1JlcG9ydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtBcnJheTxEYWlseUFnZ3JlZ2F0ZVVzZXJGZWVkYmFja1JlcG9ydFJlc3BvbnNlPn1cbiAgICogQG1lbWJlcm9mIFVzZXJGZWVkYmFja1JlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBkYWlseTogQXJyYXk8RGFpbHlBZ2dyZWdhdGVVc2VyRmVlZGJhY2tSZXBvcnRSZXNwb25zZT47XG59XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJSYXRpbmdSZXBvcnRSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJSYXRpbmdSZXBvcnRSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclJhdGluZ1JlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBhdmVyYWdlOiBudW1iZXI7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7bnVtYmVyfVxuICAgKiBAbWVtYmVyb2YgVXNlclJhdGluZ1JlcG9ydFJlc3BvbnNlXG4gICAqL1xuICBjb3VudDogbnVtYmVyO1xufVxuLyoqXG4gKiBVc2VyIHJlcXVlc3Qgb2JqZWN0XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclJlcXVlc3Qge1xuICAvKipcbiAgICogQ3VzdG9tIHVzZXIgZGF0YVxuICAgKiBAdHlwZSB7eyBba2V5OiBzdHJpbmddOiBhbnk7IH19XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgY3VzdG9tPzogeyBba2V5OiBzdHJpbmddOiBhbnkgfTtcbiAgLyoqXG4gICAqIFVzZXIgSURcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICogVXNlcidzIHByb2ZpbGUgaW1hZ2UgVVJMXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVxdWVzdFxuICAgKi9cbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBpbnZpc2libGU/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXF1ZXN0XG4gICAqL1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqIE9wdGlvbmFsIG5hbWUgb2YgdXNlclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlcXVlc3RcbiAgICovXG4gIHByaXZhY3lfc2V0dGluZ3M/OiBvYmplY3Q7XG59XG4vKipcbiAqIFVzZXIgcmVzcG9uc2Ugb2JqZWN0XG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVzZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgYmxvY2tlZF91c2VyX2lkczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBjcmVhdGVkX2F0OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBvYmplY3RcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBjdXN0b206IHsgW2tleTogc3RyaW5nXTogYW55IH07XG4gIC8qKlxuICAgKiBEYXRlIG9mIGRlYWN0aXZhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBkZWFjdGl2YXRlZF9hdD86IHN0cmluZztcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBkZWxldGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBkZWxldGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogVW5pcXVlIHVzZXIgaWRlbnRpZmllclxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICBpZDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgaW1hZ2U/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBQcmVmZXJyZWQgbGFuZ3VhZ2Ugb2YgYSB1c2VyXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIGxhbmd1YWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBEYXRlIG9mIGxhc3QgYWN0aXZpdHlcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgbGFzdF9hY3RpdmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKiBPcHRpb25hbCBuYW1lIG9mIHVzZXJcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgbmFtZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFJldm9jYXRpb24gZGF0ZSBmb3IgdG9rZW5zXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZT86IHN0cmluZztcbiAgLyoqXG4gICAqIERldGVybWluZXMgdGhlIHNldCBvZiB1c2VyIHBlcm1pc3Npb25zXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIHJvbGU6IHN0cmluZztcbiAgLyoqXG4gICAqIExpc3Qgb2YgdGVhbXMgdXNlciBpcyBhIHBhcnQgb2ZcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VcbiAgICovXG4gIHRlYW1zOiBBcnJheTxzdHJpbmc+O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogc3RyaW5nOyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlXG4gICAqL1xuICB0ZWFtc19yb2xlPzogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiB0aGUgbGFzdCB1cGRhdGVcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVxuICAgKi9cbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuLyoqXG4gKlxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkcyB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIGJsb2NrZWRfdXNlcl9pZHM6IEFycmF5PHN0cmluZz47XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIGRlYWN0aXZhdGVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIGRlbGV0ZWRfYXQ/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gICAqL1xuICBpbWFnZT86IHN0cmluZztcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgaW52aXNpYmxlPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gICAqL1xuICBsYW5ndWFnZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIGxhc3RfYWN0aXZlPzogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIG5hbWU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgcHJpdmFjeV9zZXR0aW5ncz86IG9iamVjdDtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gICAqL1xuICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU/OiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc1xuICAgKi9cbiAgcm9sZTogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PHN0cmluZz59XG4gICAqIEBtZW1iZXJvZiBVc2VyUmVzcG9uc2VQcml2YWN5RmllbGRzXG4gICAqL1xuICB0ZWFtczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHt7IFtrZXk6IHN0cmluZ106IHN0cmluZzsgfX1cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIHRlYW1zX3JvbGU/OiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHNcbiAgICovXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZztcbn1cbi8qKlxuICogVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSB1c2VyIGdldHMgdXBkYXRlZC4gVGhlIGV2ZW50IGNvbnRhaW5zIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1cGRhdGVkIHVzZXIuXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFVzZXJVcGRhdGVkRXZlbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVc2VyVXBkYXRlZEV2ZW50IHtcbiAgLyoqXG4gICAqIERhdGUvdGltZSBvZiBjcmVhdGlvblxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3sgW2tleTogc3RyaW5nXTogYW55OyB9fVxuICAgKiBAbWVtYmVyb2YgVXNlclVwZGF0ZWRFdmVudFxuICAgKi9cbiAgY3VzdG9tOiB7IFtrZXk6IHN0cmluZ106IGFueSB9O1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge3N0cmluZ31cbiAgICogQG1lbWJlcm9mIFVzZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIHJlY2VpdmVkX2F0Pzogc3RyaW5nO1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgZXZlbnQ6IFwidXNlci51cGRhdGVkXCIgaW4gdGhpcyBjYXNlXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBVc2VyVXBkYXRlZEV2ZW50XG4gICAqL1xuICB0eXBlOiBzdHJpbmc7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7VXNlclJlc3BvbnNlUHJpdmFjeUZpZWxkc31cbiAgICogQG1lbWJlcm9mIFVzZXJVcGRhdGVkRXZlbnRcbiAgICovXG4gIHVzZXI6IFVzZXJSZXNwb25zZVByaXZhY3lGaWVsZHM7XG59XG4vKipcbiAqIEB0eXBlIFZpZGVvRXZlbnRcbiAqIFRoZSBkaXNjcmltaW5hdG9yIG9iamVjdCBmb3IgYWxsIHdlYnNvY2tldCBldmVudHMsIGl0IG1hcHMgZXZlbnRzJyBwYXlsb2FkIHRvIHRoZSBmaW5hbCB0eXBlXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCB0eXBlIFZpZGVvRXZlbnQgPVxuICB8ICh7IHR5cGU6ICdjYWxsLmFjY2VwdGVkJyB9ICYgQ2FsbEFjY2VwdGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuYmxvY2tlZF91c2VyJyB9ICYgQmxvY2tlZFVzZXJFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5jbG9zZWRfY2FwdGlvbicgfSAmIENsb3NlZENhcHRpb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5jbG9zZWRfY2FwdGlvbnNfZmFpbGVkJyB9ICYgQ2FsbENsb3NlZENhcHRpb25zRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuY2xvc2VkX2NhcHRpb25zX3N0YXJ0ZWQnIH0gJiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdGFydGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuY2xvc2VkX2NhcHRpb25zX3N0b3BwZWQnIH0gJiBDYWxsQ2xvc2VkQ2FwdGlvbnNTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuY3JlYXRlZCcgfSAmIENhbGxDcmVhdGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuZGVsZXRlZCcgfSAmIENhbGxEZWxldGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuZW5kZWQnIH0gJiBDYWxsRW5kZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5mcmFtZV9yZWNvcmRpbmdfZmFpbGVkJyB9ICYgQ2FsbEZyYW1lUmVjb3JkaW5nRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuZnJhbWVfcmVjb3JkaW5nX3JlYWR5JyB9ICYgQ2FsbEZyYW1lUmVjb3JkaW5nRnJhbWVSZWFkeUV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmZyYW1lX3JlY29yZGluZ19zdGFydGVkJyB9ICYgQ2FsbEZyYW1lUmVjb3JkaW5nU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmZyYW1lX3JlY29yZGluZ19zdG9wcGVkJyB9ICYgQ2FsbEZyYW1lUmVjb3JkaW5nU3RvcHBlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmhsc19icm9hZGNhc3RpbmdfZmFpbGVkJyB9ICYgQ2FsbEhMU0Jyb2FkY2FzdGluZ0ZhaWxlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWQnO1xuICAgIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nU3RhcnRlZEV2ZW50KVxuICB8ICh7XG4gICAgICB0eXBlOiAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0b3BwZWQnO1xuICAgIH0gJiBDYWxsSExTQnJvYWRjYXN0aW5nU3RvcHBlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLmxpdmVfc3RhcnRlZCcgfSAmIENhbGxMaXZlU3RhcnRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl9hZGRlZCcgfSAmIENhbGxNZW1iZXJBZGRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLm1lbWJlcl9yZW1vdmVkJyB9ICYgQ2FsbE1lbWJlclJlbW92ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5tZW1iZXJfdXBkYXRlZCcgfSAmIENhbGxNZW1iZXJVcGRhdGVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLm1lbWJlcl91cGRhdGVkX3Blcm1pc3Npb24nO1xuICAgIH0gJiBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5taXNzZWQnIH0gJiBDYWxsTWlzc2VkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubW9kZXJhdGlvbl9ibHVyJyB9ICYgQ2FsbE1vZGVyYXRpb25CbHVyRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubW9kZXJhdGlvbl93YXJuaW5nJyB9ICYgQ2FsbE1vZGVyYXRpb25XYXJuaW5nRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwubm90aWZpY2F0aW9uJyB9ICYgQ2FsbE5vdGlmaWNhdGlvbkV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnBlcm1pc3Npb25fcmVxdWVzdCcgfSAmIFBlcm1pc3Npb25SZXF1ZXN0RXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucGVybWlzc2lvbnNfdXBkYXRlZCcgfSAmIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWFjdGlvbl9uZXcnIH0gJiBDYWxsUmVhY3Rpb25FdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWNvcmRpbmdfZmFpbGVkJyB9ICYgQ2FsbFJlY29yZGluZ0ZhaWxlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19yZWFkeScgfSAmIENhbGxSZWNvcmRpbmdSZWFkeUV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJlY29yZGluZ19zdGFydGVkJyB9ICYgQ2FsbFJlY29yZGluZ1N0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yZWNvcmRpbmdfc3RvcHBlZCcgfSAmIENhbGxSZWNvcmRpbmdTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwucmVqZWN0ZWQnIH0gJiBDYWxsUmVqZWN0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5yaW5nJyB9ICYgQ2FsbFJpbmdFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5ydG1wX2Jyb2FkY2FzdF9mYWlsZWQnIH0gJiBDYWxsUnRtcEJyb2FkY2FzdEZhaWxlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjYWxsLnJ0bXBfYnJvYWRjYXN0X3N0YXJ0ZWQnIH0gJiBDYWxsUnRtcEJyb2FkY2FzdFN0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC5ydG1wX2Jyb2FkY2FzdF9zdG9wcGVkJyB9ICYgQ2FsbFJ0bXBCcm9hZGNhc3RTdG9wcGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuc2Vzc2lvbl9lbmRlZCcgfSAmIENhbGxTZXNzaW9uRW5kZWRFdmVudClcbiAgfCAoe1xuICAgICAgdHlwZTogJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9jb3VudF91cGRhdGVkJztcbiAgICB9ICYgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudClcbiAgfCAoe1xuICAgICAgdHlwZTogJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9qb2luZWQnO1xuICAgIH0gJiBDYWxsU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkRXZlbnQpXG4gIHwgKHtcbiAgICAgIHR5cGU6ICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfbGVmdCc7XG4gICAgfSAmIENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuc2Vzc2lvbl9zdGFydGVkJyB9ICYgQ2FsbFNlc3Npb25TdGFydGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwuc3RhdHNfcmVwb3J0X3JlYWR5JyB9ICYgQ2FsbFN0YXRzUmVwb3J0UmVhZHlFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX2ZhaWxlZCcgfSAmIENhbGxUcmFuc2NyaXB0aW9uRmFpbGVkRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2NhbGwudHJhbnNjcmlwdGlvbl9yZWFkeScgfSAmIENhbGxUcmFuc2NyaXB0aW9uUmVhZHlFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3N0YXJ0ZWQnIH0gJiBDYWxsVHJhbnNjcmlwdGlvblN0YXJ0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC50cmFuc2NyaXB0aW9uX3N0b3BwZWQnIH0gJiBDYWxsVHJhbnNjcmlwdGlvblN0b3BwZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51bmJsb2NrZWRfdXNlcicgfSAmIFVuYmxvY2tlZFVzZXJFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51cGRhdGVkJyB9ICYgQ2FsbFVwZGF0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY2FsbC51c2VyX211dGVkJyB9ICYgQ2FsbFVzZXJNdXRlZEV2ZW50KVxuICB8ICh7IHR5cGU6ICdjb25uZWN0aW9uLmVycm9yJyB9ICYgQ29ubmVjdGlvbkVycm9yRXZlbnQpXG4gIHwgKHsgdHlwZTogJ2Nvbm5lY3Rpb24ub2snIH0gJiBDb25uZWN0ZWRFdmVudClcbiAgfCAoeyB0eXBlOiAnY3VzdG9tJyB9ICYgQ3VzdG9tVmlkZW9FdmVudClcbiAgfCAoeyB0eXBlOiAnaGVhbHRoLmNoZWNrJyB9ICYgSGVhbHRoQ2hlY2tFdmVudClcbiAgfCAoeyB0eXBlOiAndXNlci51cGRhdGVkJyB9ICYgVXNlclVwZGF0ZWRFdmVudCk7XG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFZpZGVvUmVhY3Rpb25PdmVyVGltZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9SZWFjdGlvbk92ZXJUaW1lUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0FycmF5PENvdW50QnlNaW51dGVSZXNwb25zZT59XG4gICAqIEBtZW1iZXJvZiBWaWRlb1JlYWN0aW9uT3ZlclRpbWVSZXNwb25zZVxuICAgKi9cbiAgYnlfbWludXRlPzogQXJyYXk8Q291bnRCeU1pbnV0ZVJlc3BvbnNlPjtcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVmlkZW9SZWFjdGlvbnNSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvUmVhY3Rpb25zUmVzcG9uc2Uge1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1ZpZGVvUmVhY3Rpb25PdmVyVGltZVJlc3BvbnNlfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9SZWFjdGlvbnNSZXNwb25zZVxuICAgKi9cbiAgY291bnRfb3Zlcl90aW1lPzogVmlkZW9SZWFjdGlvbk92ZXJUaW1lUmVzcG9uc2U7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgKiBAbWVtYmVyb2YgVmlkZW9SZWFjdGlvbnNSZXNwb25zZVxuICAgKi9cbiAgcmVhY3Rpb246IHN0cmluZztcbn1cbi8qKlxuICpcbiAqIEBleHBvcnRcbiAqIEBpbnRlcmZhY2UgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBWaWRlb1NldHRpbmdzUmVxdWVzdCB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXF1ZXN0XG4gICAqL1xuICBhY2Nlc3NfcmVxdWVzdF9lbmFibGVkPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGNhbWVyYV9kZWZhdWx0X29uPzogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgY2FtZXJhX2ZhY2luZz86IFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bTtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1JlcXVlc3RcbiAgICovXG4gIGVuYWJsZWQ/OiBib29sZWFuO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge1RhcmdldFJlc29sdXRpb259XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVxdWVzdFxuICAgKi9cbiAgdGFyZ2V0X3Jlc29sdXRpb24/OiBUYXJnZXRSZXNvbHV0aW9uO1xufVxuXG4vKipcbiAqIEBleHBvcnRcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvU2V0dGluZ3NSZXF1ZXN0Q2FtZXJhRmFjaW5nRW51bSA9IHtcbiAgRlJPTlQ6ICdmcm9udCcsXG4gIEJBQ0s6ICdiYWNrJyxcbiAgRVhURVJOQUw6ICdleHRlcm5hbCcsXG59IGFzIGNvbnN0O1xuZXhwb3J0IHR5cGUgVmlkZW9TZXR0aW5nc1JlcXVlc3RDYW1lcmFGYWNpbmdFbnVtID1cbiAgKHR5cGVvZiBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW0pW2tleW9mIHR5cGVvZiBWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW1dO1xuXG4vKipcbiAqXG4gKiBAZXhwb3J0XG4gKiBAaW50ZXJmYWNlIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvU2V0dGluZ3NSZXNwb25zZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgYWNjZXNzX3JlcXVlc3RfZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtib29sZWFufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICBjYW1lcmFfZGVmYXVsdF9vbjogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VcbiAgICovXG4gIGNhbWVyYV9mYWNpbmc6IFZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW07XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7Ym9vbGVhbn1cbiAgICogQG1lbWJlcm9mIFZpZGVvU2V0dGluZ3NSZXNwb25zZVxuICAgKi9cbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtUYXJnZXRSZXNvbHV0aW9ufVxuICAgKiBAbWVtYmVyb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlXG4gICAqL1xuICB0YXJnZXRfcmVzb2x1dGlvbjogVGFyZ2V0UmVzb2x1dGlvbjtcbn1cblxuLyoqXG4gKiBAZXhwb3J0XG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtID0ge1xuICBGUk9OVDogJ2Zyb250JyxcbiAgQkFDSzogJ2JhY2snLFxuICBFWFRFUk5BTDogJ2V4dGVybmFsJyxcbn0gYXMgY29uc3Q7XG5leHBvcnQgdHlwZSBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtID1cbiAgKHR5cGVvZiBWaWRlb1NldHRpbmdzUmVzcG9uc2VDYW1lcmFGYWNpbmdFbnVtKVtrZXlvZiB0eXBlb2YgVmlkZW9TZXR0aW5nc1Jlc3BvbnNlQ2FtZXJhRmFjaW5nRW51bV07XG5cbi8qKlxuICogV2Vic29ja2V0IGF1dGggbWVzc2FnZVxuICogQGV4cG9ydFxuICogQGludGVyZmFjZSBXU0F1dGhNZXNzYWdlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgV1NBdXRoTWVzc2FnZSB7XG4gIC8qKlxuICAgKlxuICAgKiBAdHlwZSB7QXJyYXk8c3RyaW5nPn1cbiAgICogQG1lbWJlcm9mIFdTQXV0aE1lc3NhZ2VcbiAgICovXG4gIHByb2R1Y3RzPzogQXJyYXk8c3RyaW5nPjtcbiAgLyoqXG4gICAqXG4gICAqIEB0eXBlIHtzdHJpbmd9XG4gICAqIEBtZW1iZXJvZiBXU0F1dGhNZXNzYWdlXG4gICAqL1xuICB0b2tlbjogc3RyaW5nO1xuICAvKipcbiAgICpcbiAgICogQHR5cGUge0Nvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3R9XG4gICAqIEBtZW1iZXJvZiBXU0F1dGhNZXNzYWdlXG4gICAqL1xuICB1c2VyX2RldGFpbHM6IENvbm5lY3RVc2VyRGV0YWlsc1JlcXVlc3Q7XG59XG4iLCJpbXBvcnQgeyBBeGlvc1JlcXVlc3RDb25maWcsIEF4aW9zUmVzcG9uc2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBDb25uZWN0ZWRFdmVudCwgVXNlclJlcXVlc3QsIFZpZGVvRXZlbnQgfSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgQWxsU2Z1RXZlbnRzIH0gZnJvbSAnLi4vLi4vcnRjJztcblxuZXhwb3J0IHR5cGUgVVIgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuZXhwb3J0IHR5cGUgVXNlciA9XG4gIHwgKE9taXQ8VXNlclJlcXVlc3QsICdyb2xlJz4gJiB7IHR5cGU/OiAnYXV0aGVudGljYXRlZCcgfSlcbiAgfCAoT21pdDxVc2VyUmVxdWVzdCwgJ3JvbGUnPiAmIHsgdHlwZTogJ2d1ZXN0JyB9KVxuICB8IChPbWl0PFVzZXJSZXF1ZXN0LCAnaWQnIHwgJ3JvbGUnPiAmIHtcbiAgICAgIGlkPzogJyFhbm9uJztcbiAgICAgIHR5cGU6ICdhbm9ueW1vdXMnO1xuICAgIH0pO1xuXG5leHBvcnQgdHlwZSBVc2VyV2l0aElkID1cbiAgfCAoVXNlclJlcXVlc3QgJiB7IHR5cGU/OiAnYXV0aGVudGljYXRlZCcgfSlcbiAgfCAoVXNlclJlcXVlc3QgJiB7IHR5cGU6ICdndWVzdCcgfSlcbiAgfCAoVXNlclJlcXVlc3QgJiB7XG4gICAgICBpZDogJyFhbm9uJztcbiAgICAgIHR5cGU6ICdhbm9ueW1vdXMnO1xuICAgIH0pO1xuXG5leHBvcnQgdHlwZSB7IE93blVzZXJSZXNwb25zZSB9IGZyb20gJy4uLy4uL2dlbi9jb29yZGluYXRvcic7XG5cbmV4cG9ydCB0eXBlIENvbm5lY3RBUElSZXNwb25zZSA9IFByb21pc2U8dm9pZCB8IENvbm5lY3RlZEV2ZW50PjtcblxuZXhwb3J0IHR5cGUgTG9nTGV2ZWwgPSAndHJhY2UnIHwgJ2RlYnVnJyB8ICdpbmZvJyB8ICd3YXJuJyB8ICdlcnJvcic7XG5cbnR5cGUgRXJyb3JSZXNwb25zZURldGFpbHMgPSB7XG4gIGNvZGU6IG51bWJlcjtcbiAgbWVzc2FnZXM6IHN0cmluZ1tdO1xufTtcblxuZXhwb3J0IHR5cGUgQVBJRXJyb3JSZXNwb25zZSA9IHtcbiAgY29kZTogbnVtYmVyO1xuICBkdXJhdGlvbjogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIG1vcmVfaW5mbzogc3RyaW5nO1xuICBTdGF0dXNDb2RlOiBudW1iZXI7XG4gIGRldGFpbHM/OiBFcnJvclJlc3BvbnNlRGV0YWlscztcbiAgdW5yZWNvdmVyYWJsZT86IGJvb2xlYW47XG59O1xuXG5leHBvcnQgY2xhc3MgRXJyb3JGcm9tUmVzcG9uc2U8VD4gZXh0ZW5kcyBFcnJvciB7XG4gIHB1YmxpYyBjb2RlOiBudW1iZXIgfCBudWxsO1xuICBwdWJsaWMgc3RhdHVzOiBudW1iZXI7XG4gIHB1YmxpYyByZXNwb25zZTogQXhpb3NSZXNwb25zZTxUPjtcbiAgcHVibGljIG5hbWUgPSAnRXJyb3JGcm9tUmVzcG9uc2UnO1xuICBwdWJsaWMgdW5yZWNvdmVyYWJsZTogYm9vbGVhbiB8IG51bGw7XG5cbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgY29kZSxcbiAgICBzdGF0dXMsXG4gICAgcmVzcG9uc2UsXG4gICAgdW5yZWNvdmVyYWJsZSxcbiAgfTogUGljazxcbiAgICBFcnJvckZyb21SZXNwb25zZTxUPixcbiAgICAnbWVzc2FnZScgfCAnY29kZScgfCAnc3RhdHVzJyB8ICdyZXNwb25zZScgfCAndW5yZWNvdmVyYWJsZSdcbiAgPikge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgIHRoaXMudW5yZWNvdmVyYWJsZSA9IHVucmVjb3ZlcmFibGU7XG4gIH1cblxuICAvLyBWaXRlc3QgaGVscGVyIChzZXJpYWxpemVkIGVycm9ycyBhcmUgdG9vIGxhcmdlIHRvIHJlYWQpXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS92aXRlc3QtZGV2L3ZpdGVzdC9ibG9iL3YzLjEuMy9wYWNrYWdlcy91dGlscy9zcmMvZXJyb3IudHMjTDYwLUw2MlxuICBwdWJsaWMgdG9KU09OKCkge1xuICAgIGNvbnN0IGV4dHJhID0gW1xuICAgICAgWydzdGF0dXMnLCB0aGlzLnN0YXR1c10sXG4gICAgICBbJ2NvZGUnLCB0aGlzLmNvZGVdLFxuICAgICAgWyd1bnJlY292ZXJhYmxlJywgdGhpcy51bnJlY292ZXJhYmxlXSxcbiAgICBdIGFzIGNvbnN0O1xuXG4gICAgY29uc3Qgam9pbmFibGUgPSBbXTtcblxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIGV4dHJhKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBqb2luYWJsZS5wdXNoKGAke2tleX06ICR7dmFsdWV9YCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc3NhZ2U6IGAoJHtqb2luYWJsZS5qb2luKCcsICcpfSkgLSAke3RoaXMubWVzc2FnZX1gLFxuICAgICAgc3RhY2s6IHRoaXMuc3RhY2ssXG4gICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgfTtcbiAgfVxufVxuXG5leHBvcnQgdHlwZSBDb25uZWN0aW9uQ2hhbmdlZEV2ZW50ID0ge1xuICB0eXBlOiAnY29ubmVjdGlvbi5jaGFuZ2VkJztcbiAgb25saW5lOiBib29sZWFuO1xufTtcblxuZXhwb3J0IHR5cGUgTmV0d29ya0NoYW5nZWRFdmVudCA9IHtcbiAgdHlwZTogJ25ldHdvcmsuY2hhbmdlZCc7XG4gIG9ubGluZTogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFRyYW5zcG9ydENoYW5nZWRFdmVudCA9IHtcbiAgdHlwZTogJ3RyYW5zcG9ydC5jaGFuZ2VkJztcbiAgbW9kZTogJ2xvbmdwb2xsJztcbn07XG5cbmV4cG9ydCB0eXBlIENvbm5lY3Rpb25SZWNvdmVyZWRFdmVudCA9IHtcbiAgdHlwZTogJ2Nvbm5lY3Rpb24ucmVjb3ZlcmVkJztcbn07XG5cbmV4cG9ydCB0eXBlIFN0cmVhbVZpZGVvRXZlbnQgPSAoXG4gIHwgVmlkZW9FdmVudFxuICB8IE5ldHdvcmtDaGFuZ2VkRXZlbnRcbiAgfCBDb25uZWN0aW9uQ2hhbmdlZEV2ZW50XG4gIHwgVHJhbnNwb3J0Q2hhbmdlZEV2ZW50XG4gIHwgQ29ubmVjdGlvblJlY292ZXJlZEV2ZW50XG4pICYgeyByZWNlaXZlZF9hdD86IHN0cmluZyB8IERhdGUgfTtcblxuLy8gVE9ETzogd2Ugc2hvdWxkIHVzZSBXU0NhbGxFdmVudCBoZXJlIGJ1dCB0aGF0IG5lZWRzIGZpeGluZ1xuZXhwb3J0IHR5cGUgU3RyZWFtQ2FsbEV2ZW50ID0gRXh0cmFjdDxTdHJlYW1WaWRlb0V2ZW50LCB7IGNhbGxfY2lkOiBzdHJpbmcgfT47XG5leHBvcnQgdHlwZSBFdmVudFR5cGVzID0gJ2FsbCcgfCBWaWRlb0V2ZW50Wyd0eXBlJ107XG5cbmV4cG9ydCB0eXBlIEFsbENsaWVudEV2ZW50VHlwZXMgPSAnYWxsJyB8IFN0cmVhbVZpZGVvRXZlbnRbJ3R5cGUnXTtcbmV4cG9ydCB0eXBlIEFsbENsaWVudEV2ZW50cyA9IHtcbiAgW0sgaW4gQWxsQ2xpZW50RXZlbnRUeXBlc106IEV4dHJhY3Q8U3RyZWFtVmlkZW9FdmVudCwgeyB0eXBlOiBLIH0+O1xufTtcbmV4cG9ydCB0eXBlIENsaWVudEV2ZW50TGlzdGVuZXI8RSBleHRlbmRzIGtleW9mIEFsbENsaWVudEV2ZW50cz4gPSAoXG4gIGV2ZW50OiBBbGxDbGllbnRFdmVudHNbRV0sXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIEFsbENsaWVudENhbGxFdmVudHMgPSB7XG4gIFtLIGluIEV2ZW50VHlwZXNdOiBFeHRyYWN0PFZpZGVvRXZlbnQsIHsgdHlwZTogSyB9Pjtcbn07XG5cbmV4cG9ydCB0eXBlIEFsbENhbGxFdmVudHMgPSBBbGxDbGllbnRDYWxsRXZlbnRzICYgQWxsU2Z1RXZlbnRzO1xuZXhwb3J0IHR5cGUgQ2FsbEV2ZW50TGlzdGVuZXI8RSBleHRlbmRzIGtleW9mIEFsbENhbGxFdmVudHM+ID0gKFxuICBldmVudDogQWxsQ2FsbEV2ZW50c1tFXSxcbikgPT4gdm9pZDtcblxuZXhwb3J0IHR5cGUgTG9nZ2VyID0gKFxuICBsb2dMZXZlbDogTG9nTGV2ZWwsXG4gIG1lc3NhZ2U6IHN0cmluZyxcbiAgLi4uYXJnczogdW5rbm93bltdXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIFN0cmVhbUNsaWVudE9wdGlvbnMgPSBQYXJ0aWFsPEF4aW9zUmVxdWVzdENvbmZpZz4gJiB7XG4gIC8qKlxuICAgKiBVc2VkIHRvIGRpc2FibGUgd2FybmluZ3MgdGhhdCBhcmUgdHJpZ2dlcmVkIGJ5IHVzaW5nIGNvbm5lY3RVc2VyIG9yIGNvbm5lY3RBbm9ueW1vdXNVc2VyIHNlcnZlci1zaWRlLlxuICAgKi9cbiAgYWxsb3dTZXJ2ZXJTaWRlQ29ubmVjdD86IGJvb2xlYW47XG4gIGF4aW9zUmVxdWVzdENvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZztcbiAgLyoqXG4gICAqIEJhc2UgdXJsIHRvIHVzZSBmb3IgQVBJXG4gICAqIHN1Y2ggYXMgaHR0cHM6Ly9jaGF0LXByb3h5LWR1Ymxpbi5zdHJlYW0taW8tYXBpLmNvbVxuICAgKi9cbiAgYmFzZVVSTD86IHN0cmluZztcbiAgYnJvd3Nlcj86IGJvb2xlYW47XG4gIGxvZ2dlcj86IExvZ2dlcjtcbiAgbG9nTGV2ZWw/OiBMb2dMZXZlbDtcbiAgLyoqXG4gICAqIFRoZSBVUkwgdG8gdXNlIGZvciB0aGUgbG9jYXRpb24gaGludC5cbiAgICovXG4gIGxvY2F0aW9uSGludFVybD86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHRpbWVvdXQgZm9yIHJlcXVlc3RpbmcgYSBsb2NhdGlvbiBoaW50LlxuICAgKi9cbiAgbG9jYXRpb25IaW50VGltZW91dD86IG51bWJlcjtcbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiBhdHRlbXB0cyB0byByZXF1ZXN0IGEgbG9jYXRpb24gaGludC5cbiAgICovXG4gIGxvY2F0aW9uSGludE1heEF0dGVtcHRzPzogbnVtYmVyO1xuICAvKipcbiAgICogV2hlbiB0cnVlLCB1c2VyIHdpbGwgYmUgcGVyc2lzdGVkIG9uIGNsaWVudC4gT3RoZXJ3aXNlIGlmIGBjb25uZWN0VXNlcmAgY2FsbCBmYWlscywgdGhlbiB5b3UgbmVlZCB0b1xuICAgKiBjYWxsIGBjb25uZWN0VXNlcmAgYWdhaW4gdG8gcmV0cnkuXG4gICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBmb3IgY2hhdCBhcHBsaWNhdGlvbiB3b3JraW5nIGluIG9mZmxpbmUgbW9kZSwgd2hlcmUgeW91IHdpbGwgbmVlZCBjbGllbnQudXNlciB0b1xuICAgKiBwZXJzaXN0IGV2ZW4gaWYgY29ubmVjdFVzZXIgY2FsbCBmYWlscy5cbiAgICovXG4gIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZT86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBzZWNyZXQga2V5IGZvciB0aGUgQVBJIGtleS4gVGhpcyBpcyBvbmx5IG5lZWRlZCBmb3Igc2VydmVyIHNpZGUgYXV0aGVudGljYXRpb24uXG4gICAqL1xuICBzZWNyZXQ/OiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBXZWJTb2NrZXQgaW1wbGVtZW50YXRpb24gdG8gdXNlLiBUaGlzIGlzIG1haW5seSB1c2VmdWwgZm9yIHRlc3RpbmcuXG4gICAqIEluIE5vZGUuanMgZW52aXJvbm1lbnQsIHlvdSBjYW4gdXNlIHRoZSBgd3NgIHBhY2thZ2UuXG4gICAqL1xuICBXZWJTb2NrZXRJbXBsPzogdHlwZW9mIFdlYlNvY2tldDtcblxuICAvKipcbiAgICogQ3JlYXRlIFdlYiBXb3JrZXIgdG8gaW5pdGlhdGUgdGltZXIgZXZlbnRzIGxpa2UgaGVhbHRoIGNoZWNrcy4gQ2FuIHBvc3NpYmx5IHByZXZlbnRcbiAgICogdGltZXIgdGhyb3R0bGluZyBpc3N1ZXMgaW4gaW5hY3RpdmUgYnJvd3NlciB0YWJzLlxuICAgKi9cbiAgZW5hYmxlVGltZXJXb3JrZXI/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgY2xpZW50IGFwcCBpZGVudGlmaWVyLlxuICAgKi9cbiAgY2xpZW50QXBwSWRlbnRpZmllcj86IENsaWVudEFwcElkZW50aWZpZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IHRpbWVvdXQgZm9yIFdlYlNvY2tldCBjb25uZWN0aW9ucy5cbiAgICovXG4gIGRlZmF1bHRXc1RpbWVvdXQ/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXRyaWVzIHRvIGNvbm5lY3QgYSB1c2VyLlxuICAgKi9cbiAgbWF4Q29ubmVjdFVzZXJSZXRyaWVzPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBvbmUgdGhlIG1heFVzZXJDb25uZWN0UmV0cmllcyBpcyBleGhhdXN0ZWQuXG4gICAqIEBwYXJhbSBsYXN0RXJyb3IgdGhlIGxhc3QgZXJyb3IuXG4gICAqIEBwYXJhbSBhbGxFcnJvcnMgYWxsIGVycm9ycy5cbiAgICovXG4gIG9uQ29ubmVjdFVzZXJFcnJvcj86IChsYXN0RXJyb3I6IEVycm9yLCBhbGxFcnJvcnM6IEVycm9yW10pID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgdHlwZSBDbGllbnRBcHBJZGVudGlmaWVyID0ge1xuICBzZGtOYW1lPzogJ3JlYWN0JyB8ICdyZWFjdC1uYXRpdmUnIHwgJ3BsYWluLWphdmFzY3JpcHQnIHwgKHN0cmluZyAmIHt9KTtcbiAgc2RrVmVyc2lvbj86IHN0cmluZztcbiAgYXBwPzogc3RyaW5nO1xuICBhcHBfdmVyc2lvbj86IHN0cmluZztcbiAgb3M/OiBzdHJpbmc7XG4gIGRldmljZV9tb2RlbD86IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFRva2VuUHJvdmlkZXIgPSAoKSA9PiBQcm9taXNlPHN0cmluZz47XG5leHBvcnQgdHlwZSBUb2tlbk9yUHJvdmlkZXIgPSBudWxsIHwgc3RyaW5nIHwgVG9rZW5Qcm92aWRlciB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IHR5cGUgQnVpbHRJblJlamVjdFJlYXNvbiA9ICdidXN5JyB8ICdkZWNsaW5lJyB8ICdjYW5jZWwnIHwgJ3RpbWVvdXQnO1xuZXhwb3J0IHR5cGUgUmVqZWN0UmVhc29uID0gQnVpbHRJblJlamVjdFJlYXNvbiB8IChzdHJpbmcgJiB7fSk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHR5cGUge1xuICBKc29uT2JqZWN0LFxuICBKc29uUmVhZE9wdGlvbnMsXG4gIEpzb25WYWx1ZSxcbiAgSnNvbldyaXRlT3B0aW9ucyxcbn0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjEwLjAgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwiZ29vZ2xlL3Byb3RvYnVmL3N0cnVjdC5wcm90b1wiIChwYWNrYWdlIFwiZ29vZ2xlLnByb3RvYnVmXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuLy9cbi8vIFByb3RvY29sIEJ1ZmZlcnMgLSBHb29nbGUncyBkYXRhIGludGVyY2hhbmdlIGZvcm1hdFxuLy8gQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL1xuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuLy8gbWV0OlxuLy9cbi8vICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyXG4vLyBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlXG4vLyBkaXN0cmlidXRpb24uXG4vLyAgICAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4vLyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4vLyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1Jcbi8vIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4vLyBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuLy8gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4vLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4vLyAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0Vcbi8vIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4vL1xuaW1wb3J0IHtcbiAgaXNKc29uT2JqZWN0LFxuICBNZXNzYWdlVHlwZSxcbiAgdHlwZW9mSnNvblZhbHVlLFxufSBmcm9tICdAcHJvdG9idWYtdHMvcnVudGltZSc7XG5cbi8qKlxuICogYFN0cnVjdGAgcmVwcmVzZW50cyBhIHN0cnVjdHVyZWQgZGF0YSB2YWx1ZSwgY29uc2lzdGluZyBvZiBmaWVsZHNcbiAqIHdoaWNoIG1hcCB0byBkeW5hbWljYWxseSB0eXBlZCB2YWx1ZXMuIEluIHNvbWUgbGFuZ3VhZ2VzLCBgU3RydWN0YFxuICogbWlnaHQgYmUgc3VwcG9ydGVkIGJ5IGEgbmF0aXZlIHJlcHJlc2VudGF0aW9uLiBGb3IgZXhhbXBsZSwgaW5cbiAqIHNjcmlwdGluZyBsYW5ndWFnZXMgbGlrZSBKUyBhIHN0cnVjdCBpcyByZXByZXNlbnRlZCBhcyBhblxuICogb2JqZWN0LiBUaGUgZGV0YWlscyBvZiB0aGF0IHJlcHJlc2VudGF0aW9uIGFyZSBkZXNjcmliZWQgdG9nZXRoZXJcbiAqIHdpdGggdGhlIHByb3RvIHN1cHBvcnQgZm9yIHRoZSBsYW5ndWFnZS5cbiAqXG4gKiBUaGUgSlNPTiByZXByZXNlbnRhdGlvbiBmb3IgYFN0cnVjdGAgaXMgSlNPTiBvYmplY3QuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlN0cnVjdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cnVjdCB7XG4gIC8qKlxuICAgKiBVbm9yZGVyZWQgbWFwIG9mIGR5bmFtaWNhbGx5IHR5cGVkIHZhbHVlcy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBtYXA8c3RyaW5nLCBnb29nbGUucHJvdG9idWYuVmFsdWU+IGZpZWxkcyA9IDE7XG4gICAqL1xuICBmaWVsZHM6IHtcbiAgICBba2V5OiBzdHJpbmddOiBWYWx1ZTtcbiAgfTtcbn1cbi8qKlxuICogYFZhbHVlYCByZXByZXNlbnRzIGEgZHluYW1pY2FsbHkgdHlwZWQgdmFsdWUgd2hpY2ggY2FuIGJlIGVpdGhlclxuICogbnVsbCwgYSBudW1iZXIsIGEgc3RyaW5nLCBhIGJvb2xlYW4sIGEgcmVjdXJzaXZlIHN0cnVjdCB2YWx1ZSwgb3IgYVxuICogbGlzdCBvZiB2YWx1ZXMuIEEgcHJvZHVjZXIgb2YgdmFsdWUgaXMgZXhwZWN0ZWQgdG8gc2V0IG9uZSBvZiB0aGVzZVxuICogdmFyaWFudHMuIEFic2VuY2Ugb2YgYW55IHZhcmlhbnQgaW5kaWNhdGVzIGFuIGVycm9yLlxuICpcbiAqIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgVmFsdWVgIGlzIEpTT04gdmFsdWUuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlZhbHVlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmFsdWUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiBraW5kXG4gICAqL1xuICBraW5kOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdudWxsVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIG51bGwgdmFsdWUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZSBudWxsX3ZhbHVlID0gMTtcbiAgICAgICAgICovXG4gICAgICAgIG51bGxWYWx1ZTogTnVsbFZhbHVlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdudW1iZXJWYWx1ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIGEgZG91YmxlIHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGRvdWJsZSBudW1iZXJfdmFsdWUgPSAyO1xuICAgICAgICAgKi9cbiAgICAgICAgbnVtYmVyVmFsdWU6IG51bWJlcjtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnc3RyaW5nVmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIHN0cmluZyB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc3RyaW5nX3ZhbHVlID0gMztcbiAgICAgICAgICovXG4gICAgICAgIHN0cmluZ1ZhbHVlOiBzdHJpbmc7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2Jvb2xWYWx1ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIGEgYm9vbGVhbiB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGJvb2xfdmFsdWUgPSA0O1xuICAgICAgICAgKi9cbiAgICAgICAgYm9vbFZhbHVlOiBib29sZWFuO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdzdHJ1Y3RWYWx1ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXByZXNlbnRzIGEgc3RydWN0dXJlZCB2YWx1ZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuU3RydWN0IHN0cnVjdF92YWx1ZSA9IDU7XG4gICAgICAgICAqL1xuICAgICAgICBzdHJ1Y3RWYWx1ZTogU3RydWN0O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdsaXN0VmFsdWUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVwcmVzZW50cyBhIHJlcGVhdGVkIGBWYWx1ZWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZSBsaXN0X3ZhbHVlID0gNjtcbiAgICAgICAgICovXG4gICAgICAgIGxpc3RWYWx1ZTogTGlzdFZhbHVlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6IHVuZGVmaW5lZDtcbiAgICAgIH07XG59XG4vKipcbiAqIGBMaXN0VmFsdWVgIGlzIGEgd3JhcHBlciBhcm91bmQgYSByZXBlYXRlZCBmaWVsZCBvZiB2YWx1ZXMuXG4gKlxuICogVGhlIEpTT04gcmVwcmVzZW50YXRpb24gZm9yIGBMaXN0VmFsdWVgIGlzIEpTT04gYXJyYXkuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIExpc3RWYWx1ZSB7XG4gIC8qKlxuICAgKiBSZXBlYXRlZCBmaWVsZCBvZiBkeW5hbWljYWxseSB0eXBlZCB2YWx1ZXMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgZ29vZ2xlLnByb3RvYnVmLlZhbHVlIHZhbHVlcyA9IDE7XG4gICAqL1xuICB2YWx1ZXM6IFZhbHVlW107XG59XG4vKipcbiAqIGBOdWxsVmFsdWVgIGlzIGEgc2luZ2xldG9uIGVudW1lcmF0aW9uIHRvIHJlcHJlc2VudCB0aGUgbnVsbCB2YWx1ZSBmb3IgdGhlXG4gKiBgVmFsdWVgIHR5cGUgdW5pb24uXG4gKlxuICogIFRoZSBKU09OIHJlcHJlc2VudGF0aW9uIGZvciBgTnVsbFZhbHVlYCBpcyBKU09OIGBudWxsYC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBnb29nbGUucHJvdG9idWYuTnVsbFZhbHVlXG4gKi9cbmV4cG9ydCBlbnVtIE51bGxWYWx1ZSB7XG4gIC8qKlxuICAgKiBOdWxsIHZhbHVlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogTlVMTF9WQUxVRSA9IDA7XG4gICAqL1xuICBOVUxMX1ZBTFVFID0gMCxcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0cnVjdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3RydWN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdnb29nbGUucHJvdG9idWYuU3RydWN0JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ2ZpZWxkcycsXG4gICAgICAgIGtpbmQ6ICdtYXAnLFxuICAgICAgICBLOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgICAgVjogeyBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFZhbHVlIH0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG4gIC8qKlxuICAgKiBFbmNvZGUgYFN0cnVjdGAgdG8gSlNPTiBvYmplY3QuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBTdHJ1Y3QsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIGxldCBqc29uOiBKc29uT2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKG1lc3NhZ2UuZmllbGRzKSkge1xuICAgICAganNvbltrXSA9IFZhbHVlLnRvSnNvbih2KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzb247XG4gIH1cbiAgLyoqXG4gICAqIERlY29kZSBgU3RydWN0YCBmcm9tIEpTT04gb2JqZWN0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uUmVhZChcbiAgICBqc29uOiBKc29uVmFsdWUsXG4gICAgb3B0aW9uczogSnNvblJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFN0cnVjdCxcbiAgKTogU3RydWN0IHtcbiAgICBpZiAoIWlzSnNvbk9iamVjdChqc29uKSlcbiAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIHBhcnNlIG1lc3NhZ2UgJyArXG4gICAgICAgICAgdGhpcy50eXBlTmFtZSArXG4gICAgICAgICAgJyBmcm9tIEpTT04gJyArXG4gICAgICAgICAgdHlwZW9mSnNvblZhbHVlKGpzb24pICtcbiAgICAgICAgICAnLicsXG4gICAgICApO1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIGZvciAobGV0IFtrLCB2XSBvZiBnbG9iYWxUaGlzLk9iamVjdC5lbnRyaWVzKGpzb24pKSB7XG4gICAgICB0YXJnZXQuZmllbGRzW2tdID0gVmFsdWUuZnJvbUpzb24odik7XG4gICAgfVxuICAgIHJldHVybiB0YXJnZXQ7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBnb29nbGUucHJvdG9idWYuU3RydWN0XG4gKi9cbmV4cG9ydCBjb25zdCBTdHJ1Y3QgPSBuZXcgU3RydWN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZhbHVlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWYWx1ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLlZhbHVlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ251bGxfdmFsdWUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6ICgpID0+IFsnZ29vZ2xlLnByb3RvYnVmLk51bGxWYWx1ZScsIE51bGxWYWx1ZV0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ251bWJlcl92YWx1ZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAxIC8qU2NhbGFyVHlwZS5ET1VCTEUqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnc3RyaW5nX3ZhbHVlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdib29sX3ZhbHVlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnc3RydWN0X3ZhbHVlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2tpbmQnLFxuICAgICAgICBUOiAoKSA9PiBTdHJ1Y3QsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2xpc3RfdmFsdWUnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAna2luZCcsXG4gICAgICAgIFQ6ICgpID0+IExpc3RWYWx1ZSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbiAgLyoqXG4gICAqIEVuY29kZSBgVmFsdWVgIHRvIEpTT04gdmFsdWUuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBWYWx1ZSwgb3B0aW9uczogSnNvbldyaXRlT3B0aW9ucyk6IEpzb25WYWx1ZSB7XG4gICAgaWYgKG1lc3NhZ2Uua2luZC5vbmVvZktpbmQgPT09IHVuZGVmaW5lZCkgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoKTtcbiAgICBzd2l0Y2ggKG1lc3NhZ2Uua2luZC5vbmVvZktpbmQpIHtcbiAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcigpO1xuICAgICAgY2FzZSAnYm9vbFZhbHVlJzpcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2Uua2luZC5ib29sVmFsdWU7XG4gICAgICBjYXNlICdudWxsVmFsdWUnOlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIGNhc2UgJ251bWJlclZhbHVlJzpcbiAgICAgICAgbGV0IG51bWJlclZhbHVlID0gbWVzc2FnZS5raW5kLm51bWJlclZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIG51bWJlclZhbHVlID09ICdudW1iZXInICYmICFOdW1iZXIuaXNGaW5pdGUobnVtYmVyVmFsdWUpKVxuICAgICAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgICAgIHJldHVybiBudW1iZXJWYWx1ZTtcbiAgICAgIGNhc2UgJ3N0cmluZ1ZhbHVlJzpcbiAgICAgICAgcmV0dXJuIG1lc3NhZ2Uua2luZC5zdHJpbmdWYWx1ZTtcbiAgICAgIGNhc2UgJ2xpc3RWYWx1ZSc6XG4gICAgICAgIGxldCBsaXN0VmFsdWVGaWVsZCA9IHRoaXMuZmllbGRzLmZpbmQoKGYpID0+IGYubm8gPT09IDYpO1xuICAgICAgICBpZiAobGlzdFZhbHVlRmllbGQ/LmtpbmQgIT09ICdtZXNzYWdlJykgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoKTtcbiAgICAgICAgcmV0dXJuIGxpc3RWYWx1ZUZpZWxkLlQoKS50b0pzb24obWVzc2FnZS5raW5kLmxpc3RWYWx1ZSk7XG4gICAgICBjYXNlICdzdHJ1Y3RWYWx1ZSc6XG4gICAgICAgIGxldCBzdHJ1Y3RWYWx1ZUZpZWxkID0gdGhpcy5maWVsZHMuZmluZCgoZikgPT4gZi5ubyA9PT0gNSk7XG4gICAgICAgIGlmIChzdHJ1Y3RWYWx1ZUZpZWxkPy5raW5kICE9PSAnbWVzc2FnZScpIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKCk7XG4gICAgICAgIHJldHVybiBzdHJ1Y3RWYWx1ZUZpZWxkLlQoKS50b0pzb24obWVzc2FnZS5raW5kLnN0cnVjdFZhbHVlKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERlY29kZSBgVmFsdWVgIGZyb20gSlNPTiB2YWx1ZS5cbiAgICovXG4gIGludGVybmFsSnNvblJlYWQoXG4gICAganNvbjogSnNvblZhbHVlLFxuICAgIG9wdGlvbnM6IEpzb25SZWFkT3B0aW9ucyxcbiAgICB0YXJnZXQ/OiBWYWx1ZSxcbiAgKTogVmFsdWUge1xuICAgIGlmICghdGFyZ2V0KSB0YXJnZXQgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIHN3aXRjaCAodHlwZW9mIGpzb24pIHtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHRhcmdldC5raW5kID0geyBvbmVvZktpbmQ6ICdudW1iZXJWYWx1ZScsIG51bWJlclZhbHVlOiBqc29uIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgdGFyZ2V0LmtpbmQgPSB7IG9uZW9mS2luZDogJ3N0cmluZ1ZhbHVlJywgc3RyaW5nVmFsdWU6IGpzb24gfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgdGFyZ2V0LmtpbmQgPSB7IG9uZW9mS2luZDogJ2Jvb2xWYWx1ZScsIGJvb2xWYWx1ZToganNvbiB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIGlmIChqc29uID09PSBudWxsKSB7XG4gICAgICAgICAgdGFyZ2V0LmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdudWxsVmFsdWUnLFxuICAgICAgICAgICAgbnVsbFZhbHVlOiBOdWxsVmFsdWUuTlVMTF9WQUxVRSxcbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKGdsb2JhbFRoaXMuQXJyYXkuaXNBcnJheShqc29uKSkge1xuICAgICAgICAgIHRhcmdldC5raW5kID0ge1xuICAgICAgICAgICAgb25lb2ZLaW5kOiAnbGlzdFZhbHVlJyxcbiAgICAgICAgICAgIGxpc3RWYWx1ZTogTGlzdFZhbHVlLmZyb21Kc29uKGpzb24pLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0LmtpbmQgPSB7XG4gICAgICAgICAgICBvbmVvZktpbmQ6ICdzdHJ1Y3RWYWx1ZScsXG4gICAgICAgICAgICBzdHJ1Y3RWYWx1ZTogU3RydWN0LmZyb21Kc29uKGpzb24pLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgZ2xvYmFsVGhpcy5FcnJvcihcbiAgICAgICAgICAnVW5hYmxlIHRvIHBhcnNlICcgK1xuICAgICAgICAgICAgdGhpcy50eXBlTmFtZSArXG4gICAgICAgICAgICAnIGZyb20gSlNPTiAnICtcbiAgICAgICAgICAgIHR5cGVvZkpzb25WYWx1ZShqc29uKSxcbiAgICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5WYWx1ZVxuICovXG5leHBvcnQgY29uc3QgVmFsdWUgPSBuZXcgVmFsdWUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgTGlzdFZhbHVlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxMaXN0VmFsdWU+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ2dvb2dsZS5wcm90b2J1Zi5MaXN0VmFsdWUnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAndmFsdWVzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFZhbHVlLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxuICAvKipcbiAgICogRW5jb2RlIGBMaXN0VmFsdWVgIHRvIEpTT04gYXJyYXkuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBMaXN0VmFsdWUsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIHJldHVybiBtZXNzYWdlLnZhbHVlcy5tYXAoKHYpID0+IFZhbHVlLnRvSnNvbih2KSk7XG4gIH1cbiAgLyoqXG4gICAqIERlY29kZSBgTGlzdFZhbHVlYCBmcm9tIEpTT04gYXJyYXkuXG4gICAqL1xuICBpbnRlcm5hbEpzb25SZWFkKFxuICAgIGpzb246IEpzb25WYWx1ZSxcbiAgICBvcHRpb25zOiBKc29uUmVhZE9wdGlvbnMsXG4gICAgdGFyZ2V0PzogTGlzdFZhbHVlLFxuICApOiBMaXN0VmFsdWUge1xuICAgIGlmICghZ2xvYmFsVGhpcy5BcnJheS5pc0FycmF5KGpzb24pKVxuICAgICAgdGhyb3cgbmV3IGdsb2JhbFRoaXMuRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gcGFyc2UgJyArXG4gICAgICAgICAgdGhpcy50eXBlTmFtZSArXG4gICAgICAgICAgJyBmcm9tIEpTT04gJyArXG4gICAgICAgICAgdHlwZW9mSnNvblZhbHVlKGpzb24pLFxuICAgICAgKTtcbiAgICBpZiAoIXRhcmdldCkgdGFyZ2V0ID0gdGhpcy5jcmVhdGUoKTtcbiAgICBsZXQgdmFsdWVzID0ganNvbi5tYXAoKHYpID0+IFZhbHVlLmZyb21Kc29uKHYpKTtcbiAgICB0YXJnZXQudmFsdWVzLnB1c2goLi4udmFsdWVzKTtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZVxuICovXG5leHBvcnQgY29uc3QgTGlzdFZhbHVlID0gbmV3IExpc3RWYWx1ZSRUeXBlKCk7XG4iLCIvKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IHR5cGUge1xuICBKc29uUmVhZE9wdGlvbnMsXG4gIEpzb25WYWx1ZSxcbiAgSnNvbldyaXRlT3B0aW9ucyxcbn0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjEwLjAgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwiZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5wcm90b1wiIChwYWNrYWdlIFwiZ29vZ2xlLnByb3RvYnVmXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuLy9cbi8vIFByb3RvY29sIEJ1ZmZlcnMgLSBHb29nbGUncyBkYXRhIGludGVyY2hhbmdlIGZvcm1hdFxuLy8gQ29weXJpZ2h0IDIwMDggR29vZ2xlIEluYy4gIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9wcm90b2NvbC1idWZmZXJzL1xuLy9cbi8vIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuLy8gbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZVxuLy8gbWV0OlxuLy9cbi8vICAgICAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0XG4vLyBub3RpY2UsIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIuXG4vLyAgICAgKiBSZWRpc3RyaWJ1dGlvbnMgaW4gYmluYXJ5IGZvcm0gbXVzdCByZXByb2R1Y2UgdGhlIGFib3ZlXG4vLyBjb3B5cmlnaHQgbm90aWNlLCB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyXG4vLyBpbiB0aGUgZG9jdW1lbnRhdGlvbiBhbmQvb3Igb3RoZXIgbWF0ZXJpYWxzIHByb3ZpZGVkIHdpdGggdGhlXG4vLyBkaXN0cmlidXRpb24uXG4vLyAgICAgKiBOZWl0aGVyIHRoZSBuYW1lIG9mIEdvb2dsZSBJbmMuIG5vciB0aGUgbmFtZXMgb2YgaXRzXG4vLyBjb250cmlidXRvcnMgbWF5IGJlIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbVxuLy8gdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cbi8vXG4vLyBUSElTIFNPRlRXQVJFIElTIFBST1ZJREVEIEJZIFRIRSBDT1BZUklHSFQgSE9MREVSUyBBTkQgQ09OVFJJQlVUT1JTXG4vLyBcIkFTIElTXCIgQU5EIEFOWSBFWFBSRVNTIE9SIElNUExJRUQgV0FSUkFOVElFUywgSU5DTFVESU5HLCBCVVQgTk9UXG4vLyBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSBBTkQgRklUTkVTUyBGT1Jcbi8vIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRSBESVNDTEFJTUVELiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQ09QWVJJR0hUXG4vLyBPV05FUiBPUiBDT05UUklCVVRPUlMgQkUgTElBQkxFIEZPUiBBTlkgRElSRUNULCBJTkRJUkVDVCwgSU5DSURFTlRBTCxcbi8vIFNQRUNJQUwsIEVYRU1QTEFSWSwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIChJTkNMVURJTkcsIEJVVCBOT1Rcbi8vIExJTUlURUQgVE8sIFBST0NVUkVNRU5UIE9GIFNVQlNUSVRVVEUgR09PRFMgT1IgU0VSVklDRVM7IExPU1MgT0YgVVNFLFxuLy8gREFUQSwgT1IgUFJPRklUUzsgT1IgQlVTSU5FU1MgSU5URVJSVVBUSU9OKSBIT1dFVkVSIENBVVNFRCBBTkQgT04gQU5ZXG4vLyBUSEVPUlkgT0YgTElBQklMSVRZLCBXSEVUSEVSIElOIENPTlRSQUNULCBTVFJJQ1QgTElBQklMSVRZLCBPUiBUT1JUXG4vLyAoSU5DTFVESU5HIE5FR0xJR0VOQ0UgT1IgT1RIRVJXSVNFKSBBUklTSU5HIElOIEFOWSBXQVkgT1VUIE9GIFRIRSBVU0Vcbi8vIE9GIFRISVMgU09GVFdBUkUsIEVWRU4gSUYgQURWSVNFRCBPRiBUSEUgUE9TU0lCSUxJVFkgT0YgU1VDSCBEQU1BR0UuXG4vL1xuaW1wb3J0IHsgTWVzc2FnZVR5cGUsIFBiTG9uZywgdHlwZW9mSnNvblZhbHVlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuXG4vKipcbiAqIEEgVGltZXN0YW1wIHJlcHJlc2VudHMgYSBwb2ludCBpbiB0aW1lIGluZGVwZW5kZW50IG9mIGFueSB0aW1lIHpvbmUgb3IgbG9jYWxcbiAqIGNhbGVuZGFyLCBlbmNvZGVkIGFzIGEgY291bnQgb2Ygc2Vjb25kcyBhbmQgZnJhY3Rpb25zIG9mIHNlY29uZHMgYXRcbiAqIG5hbm9zZWNvbmQgcmVzb2x1dGlvbi4gVGhlIGNvdW50IGlzIHJlbGF0aXZlIHRvIGFuIGVwb2NoIGF0IFVUQyBtaWRuaWdodCBvblxuICogSmFudWFyeSAxLCAxOTcwLCBpbiB0aGUgcHJvbGVwdGljIEdyZWdvcmlhbiBjYWxlbmRhciB3aGljaCBleHRlbmRzIHRoZVxuICogR3JlZ29yaWFuIGNhbGVuZGFyIGJhY2t3YXJkcyB0byB5ZWFyIG9uZS5cbiAqXG4gKiBBbGwgbWludXRlcyBhcmUgNjAgc2Vjb25kcyBsb25nLiBMZWFwIHNlY29uZHMgYXJlIFwic21lYXJlZFwiIHNvIHRoYXQgbm8gbGVhcFxuICogc2Vjb25kIHRhYmxlIGlzIG5lZWRlZCBmb3IgaW50ZXJwcmV0YXRpb24sIHVzaW5nIGEgWzI0LWhvdXIgbGluZWFyXG4gKiBzbWVhcl0oaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vdGltZS9zbWVhcikuXG4gKlxuICogVGhlIHJhbmdlIGlzIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OS45OTk5OTk5OTlaLiBCeVxuICogcmVzdHJpY3RpbmcgdG8gdGhhdCByYW5nZSwgd2UgZW5zdXJlIHRoYXQgd2UgY2FuIGNvbnZlcnQgdG8gYW5kIGZyb20gW1JGQ1xuICogMzMzOV0oaHR0cHM6Ly93d3cuaWV0Zi5vcmcvcmZjL3JmYzMzMzkudHh0KSBkYXRlIHN0cmluZ3MuXG4gKlxuICogIyBFeGFtcGxlc1xuICpcbiAqIEV4YW1wbGUgMTogQ29tcHV0ZSBUaW1lc3RhbXAgZnJvbSBQT1NJWCBgdGltZSgpYC5cbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcDtcbiAqICAgICB0aW1lc3RhbXAuc2V0X3NlY29uZHModGltZShOVUxMKSk7XG4gKiAgICAgdGltZXN0YW1wLnNldF9uYW5vcygwKTtcbiAqXG4gKiBFeGFtcGxlIDI6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gUE9TSVggYGdldHRpbWVvZmRheSgpYC5cbiAqXG4gKiAgICAgc3RydWN0IHRpbWV2YWwgdHY7XG4gKiAgICAgZ2V0dGltZW9mZGF5KCZ0diwgTlVMTCk7XG4gKlxuICogICAgIFRpbWVzdGFtcCB0aW1lc3RhbXA7XG4gKiAgICAgdGltZXN0YW1wLnNldF9zZWNvbmRzKHR2LnR2X3NlYyk7XG4gKiAgICAgdGltZXN0YW1wLnNldF9uYW5vcyh0di50dl91c2VjICogMTAwMCk7XG4gKlxuICogRXhhbXBsZSAzOiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIFdpbjMyIGBHZXRTeXN0ZW1UaW1lQXNGaWxlVGltZSgpYC5cbiAqXG4gKiAgICAgRklMRVRJTUUgZnQ7XG4gKiAgICAgR2V0U3lzdGVtVGltZUFzRmlsZVRpbWUoJmZ0KTtcbiAqICAgICBVSU5UNjQgdGlja3MgPSAoKChVSU5UNjQpZnQuZHdIaWdoRGF0ZVRpbWUpIDw8IDMyKSB8IGZ0LmR3TG93RGF0ZVRpbWU7XG4gKlxuICogICAgIC8vIEEgV2luZG93cyB0aWNrIGlzIDEwMCBuYW5vc2Vjb25kcy4gV2luZG93cyBlcG9jaCAxNjAxLTAxLTAxVDAwOjAwOjAwWlxuICogICAgIC8vIGlzIDExNjQ0NDczNjAwIHNlY29uZHMgYmVmb3JlIFVuaXggZXBvY2ggMTk3MC0wMS0wMVQwMDowMDowMFouXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcDtcbiAqICAgICB0aW1lc3RhbXAuc2V0X3NlY29uZHMoKElOVDY0KSAoKHRpY2tzIC8gMTAwMDAwMDApIC0gMTE2NDQ0NzM2MDBMTCkpO1xuICogICAgIHRpbWVzdGFtcC5zZXRfbmFub3MoKElOVDMyKSAoKHRpY2tzICUgMTAwMDAwMDApICogMTAwKSk7XG4gKlxuICogRXhhbXBsZSA0OiBDb21wdXRlIFRpbWVzdGFtcCBmcm9tIEphdmEgYFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpYC5cbiAqXG4gKiAgICAgbG9uZyBtaWxsaXMgPSBTeXN0ZW0uY3VycmVudFRpbWVNaWxsaXMoKTtcbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcCA9IFRpbWVzdGFtcC5uZXdCdWlsZGVyKCkuc2V0U2Vjb25kcyhtaWxsaXMgLyAxMDAwKVxuICogICAgICAgICAuc2V0TmFub3MoKGludCkgKChtaWxsaXMgJSAxMDAwKSAqIDEwMDAwMDApKS5idWlsZCgpO1xuICpcbiAqXG4gKiBFeGFtcGxlIDU6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gSmF2YSBgSW5zdGFudC5ub3coKWAuXG4gKlxuICogICAgIEluc3RhbnQgbm93ID0gSW5zdGFudC5ub3coKTtcbiAqXG4gKiAgICAgVGltZXN0YW1wIHRpbWVzdGFtcCA9XG4gKiAgICAgICAgIFRpbWVzdGFtcC5uZXdCdWlsZGVyKCkuc2V0U2Vjb25kcyhub3cuZ2V0RXBvY2hTZWNvbmQoKSlcbiAqICAgICAgICAgICAgIC5zZXROYW5vcyhub3cuZ2V0TmFubygpKS5idWlsZCgpO1xuICpcbiAqXG4gKiBFeGFtcGxlIDY6IENvbXB1dGUgVGltZXN0YW1wIGZyb20gY3VycmVudCB0aW1lIGluIFB5dGhvbi5cbiAqXG4gKiAgICAgdGltZXN0YW1wID0gVGltZXN0YW1wKClcbiAqICAgICB0aW1lc3RhbXAuR2V0Q3VycmVudFRpbWUoKVxuICpcbiAqICMgSlNPTiBNYXBwaW5nXG4gKlxuICogSW4gSlNPTiBmb3JtYXQsIHRoZSBUaW1lc3RhbXAgdHlwZSBpcyBlbmNvZGVkIGFzIGEgc3RyaW5nIGluIHRoZVxuICogW1JGQyAzMzM5XShodHRwczovL3d3dy5pZXRmLm9yZy9yZmMvcmZjMzMzOS50eHQpIGZvcm1hdC4gVGhhdCBpcywgdGhlXG4gKiBmb3JtYXQgaXMgXCJ7eWVhcn0te21vbnRofS17ZGF5fVR7aG91cn06e21pbn06e3NlY31bLntmcmFjX3NlY31dWlwiXG4gKiB3aGVyZSB7eWVhcn0gaXMgYWx3YXlzIGV4cHJlc3NlZCB1c2luZyBmb3VyIGRpZ2l0cyB3aGlsZSB7bW9udGh9LCB7ZGF5fSxcbiAqIHtob3VyfSwge21pbn0sIGFuZCB7c2VjfSBhcmUgemVyby1wYWRkZWQgdG8gdHdvIGRpZ2l0cyBlYWNoLiBUaGUgZnJhY3Rpb25hbFxuICogc2Vjb25kcywgd2hpY2ggY2FuIGdvIHVwIHRvIDkgZGlnaXRzIChpLmUuIHVwIHRvIDEgbmFub3NlY29uZCByZXNvbHV0aW9uKSxcbiAqIGFyZSBvcHRpb25hbC4gVGhlIFwiWlwiIHN1ZmZpeCBpbmRpY2F0ZXMgdGhlIHRpbWV6b25lIChcIlVUQ1wiKTsgdGhlIHRpbWV6b25lXG4gKiBpcyByZXF1aXJlZC4gQSBwcm90bzMgSlNPTiBzZXJpYWxpemVyIHNob3VsZCBhbHdheXMgdXNlIFVUQyAoYXMgaW5kaWNhdGVkIGJ5XG4gKiBcIlpcIikgd2hlbiBwcmludGluZyB0aGUgVGltZXN0YW1wIHR5cGUgYW5kIGEgcHJvdG8zIEpTT04gcGFyc2VyIHNob3VsZCBiZVxuICogYWJsZSB0byBhY2NlcHQgYm90aCBVVEMgYW5kIG90aGVyIHRpbWV6b25lcyAoYXMgaW5kaWNhdGVkIGJ5IGFuIG9mZnNldCkuXG4gKlxuICogRm9yIGV4YW1wbGUsIFwiMjAxNy0wMS0xNVQwMTozMDoxNS4wMVpcIiBlbmNvZGVzIDE1LjAxIHNlY29uZHMgcGFzdFxuICogMDE6MzAgVVRDIG9uIEphbnVhcnkgMTUsIDIwMTcuXG4gKlxuICogSW4gSmF2YVNjcmlwdCwgb25lIGNhbiBjb252ZXJ0IGEgRGF0ZSBvYmplY3QgdG8gdGhpcyBmb3JtYXQgdXNpbmcgdGhlXG4gKiBzdGFuZGFyZFxuICogW3RvSVNPU3RyaW5nKCldKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0RhdGUvdG9JU09TdHJpbmcpXG4gKiBtZXRob2QuIEluIFB5dGhvbiwgYSBzdGFuZGFyZCBgZGF0ZXRpbWUuZGF0ZXRpbWVgIG9iamVjdCBjYW4gYmUgY29udmVydGVkXG4gKiB0byB0aGlzIGZvcm1hdCB1c2luZ1xuICogW2BzdHJmdGltZWBdKGh0dHBzOi8vZG9jcy5weXRob24ub3JnLzIvbGlicmFyeS90aW1lLmh0bWwjdGltZS5zdHJmdGltZSkgd2l0aFxuICogdGhlIHRpbWUgZm9ybWF0IHNwZWMgJyVZLSVtLSVkVCVIOiVNOiVTLiVmWicuIExpa2V3aXNlLCBpbiBKYXZhLCBvbmUgY2FuIHVzZVxuICogdGhlIEpvZGEgVGltZSdzIFtgSVNPRGF0ZVRpbWVGb3JtYXQuZGF0ZVRpbWUoKWBdKFxuICogaHR0cDovL3d3dy5qb2RhLm9yZy9qb2RhLXRpbWUvYXBpZG9jcy9vcmcvam9kYS90aW1lL2Zvcm1hdC9JU09EYXRlVGltZUZvcm1hdC5odG1sI2RhdGVUaW1lJTJEJTJEXG4gKiApIHRvIG9idGFpbiBhIGZvcm1hdHRlciBjYXBhYmxlIG9mIGdlbmVyYXRpbmcgdGltZXN0YW1wcyBpbiB0aGlzIGZvcm1hdC5cbiAqXG4gKlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXBcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUaW1lc3RhbXAge1xuICAvKipcbiAgICogUmVwcmVzZW50cyBzZWNvbmRzIG9mIFVUQyB0aW1lIHNpbmNlIFVuaXggZXBvY2hcbiAgICogMTk3MC0wMS0wMVQwMDowMDowMFouIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0b1xuICAgKiA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50NjQgc2Vjb25kcyA9IDE7XG4gICAqL1xuICBzZWNvbmRzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBOb24tbmVnYXRpdmUgZnJhY3Rpb25zIG9mIGEgc2Vjb25kIGF0IG5hbm9zZWNvbmQgcmVzb2x1dGlvbi4gTmVnYXRpdmVcbiAgICogc2Vjb25kIHZhbHVlcyB3aXRoIGZyYWN0aW9ucyBtdXN0IHN0aWxsIGhhdmUgbm9uLW5lZ2F0aXZlIG5hbm9zIHZhbHVlc1xuICAgKiB0aGF0IGNvdW50IGZvcndhcmQgaW4gdGltZS4gTXVzdCBiZSBmcm9tIDAgdG8gOTk5LDk5OSw5OTlcbiAgICogaW5jbHVzaXZlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIG5hbm9zID0gMjtcbiAgICovXG4gIG5hbm9zOiBudW1iZXI7XG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBUaW1lc3RhbXAkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRpbWVzdGFtcD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZWNvbmRzJywga2luZDogJ3NjYWxhcicsIFQ6IDMgLypTY2FsYXJUeXBlLklOVDY0Ki8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICduYW5vcycsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgXSk7XG4gIH1cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgYFRpbWVzdGFtcGAgZm9yIHRoZSBjdXJyZW50IHRpbWUuXG4gICAqL1xuICBub3coKTogVGltZXN0YW1wIHtcbiAgICBjb25zdCBtc2cgPSB0aGlzLmNyZWF0ZSgpO1xuICAgIGNvbnN0IG1zID0gRGF0ZS5ub3coKTtcbiAgICBtc2cuc2Vjb25kcyA9IFBiTG9uZy5mcm9tKE1hdGguZmxvb3IobXMgLyAxMDAwKSkudG9TdHJpbmcoKTtcbiAgICBtc2cubmFub3MgPSAobXMgJSAxMDAwKSAqIDEwMDAwMDA7XG4gICAgcmV0dXJuIG1zZztcbiAgfVxuICAvKipcbiAgICogQ29udmVydHMgYSBgVGltZXN0YW1wYCB0byBhIEphdmFTY3JpcHQgRGF0ZS5cbiAgICovXG4gIHRvRGF0ZShtZXNzYWdlOiBUaW1lc3RhbXApOiBEYXRlIHtcbiAgICByZXR1cm4gbmV3IERhdGUoXG4gICAgICBQYkxvbmcuZnJvbShtZXNzYWdlLnNlY29uZHMpLnRvTnVtYmVyKCkgKiAxMDAwICtcbiAgICAgICAgTWF0aC5jZWlsKG1lc3NhZ2UubmFub3MgLyAxMDAwMDAwKSxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBDb252ZXJ0cyBhIEphdmFTY3JpcHQgRGF0ZSB0byBhIGBUaW1lc3RhbXBgLlxuICAgKi9cbiAgZnJvbURhdGUoZGF0ZTogRGF0ZSk6IFRpbWVzdGFtcCB7XG4gICAgY29uc3QgbXNnID0gdGhpcy5jcmVhdGUoKTtcbiAgICBjb25zdCBtcyA9IGRhdGUuZ2V0VGltZSgpO1xuICAgIG1zZy5zZWNvbmRzID0gUGJMb25nLmZyb20oTWF0aC5mbG9vcihtcyAvIDEwMDApKS50b1N0cmluZygpO1xuICAgIG1zZy5uYW5vcyA9XG4gICAgICAoKG1zICUgMTAwMCkgKyAobXMgPCAwICYmIG1zICUgMTAwMCAhPT0gMCA/IDEwMDAgOiAwKSkgKiAxMDAwMDAwO1xuICAgIHJldHVybiBtc2c7XG4gIH1cbiAgLyoqXG4gICAqIEluIEpTT04gZm9ybWF0LCB0aGUgYFRpbWVzdGFtcGAgdHlwZSBpcyBlbmNvZGVkIGFzIGEgc3RyaW5nXG4gICAqIGluIHRoZSBSRkMgMzMzOSBmb3JtYXQuXG4gICAqL1xuICBpbnRlcm5hbEpzb25Xcml0ZShtZXNzYWdlOiBUaW1lc3RhbXAsIG9wdGlvbnM6IEpzb25Xcml0ZU9wdGlvbnMpOiBKc29uVmFsdWUge1xuICAgIGxldCBtcyA9IFBiTG9uZy5mcm9tKG1lc3NhZ2Uuc2Vjb25kcykudG9OdW1iZXIoKSAqIDEwMDA7XG4gICAgaWYgKFxuICAgICAgbXMgPCBEYXRlLnBhcnNlKCcwMDAxLTAxLTAxVDAwOjAwOjAwWicpIHx8XG4gICAgICBtcyA+IERhdGUucGFyc2UoJzk5OTktMTItMzFUMjM6NTk6NTlaJylcbiAgICApXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVbmFibGUgdG8gZW5jb2RlIFRpbWVzdGFtcCB0byBKU09OLiBNdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG8gOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlLicsXG4gICAgICApO1xuICAgIGlmIChtZXNzYWdlLm5hbm9zIDwgMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1VuYWJsZSB0byBlbmNvZGUgaW52YWxpZCBUaW1lc3RhbXAgdG8gSlNPTi4gTmFub3MgbXVzdCBub3QgYmUgbmVnYXRpdmUuJyxcbiAgICAgICk7XG4gICAgbGV0IHogPSAnWic7XG4gICAgaWYgKG1lc3NhZ2UubmFub3MgPiAwKSB7XG4gICAgICBsZXQgbmFub3NTdHIgPSAobWVzc2FnZS5uYW5vcyArIDEwMDAwMDAwMDApLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDEpO1xuICAgICAgaWYgKG5hbm9zU3RyLnN1YnN0cmluZygzKSA9PT0gJzAwMDAwMCcpXG4gICAgICAgIHogPSAnLicgKyBuYW5vc1N0ci5zdWJzdHJpbmcoMCwgMykgKyAnWic7XG4gICAgICBlbHNlIGlmIChuYW5vc1N0ci5zdWJzdHJpbmcoNikgPT09ICcwMDAnKVxuICAgICAgICB6ID0gJy4nICsgbmFub3NTdHIuc3Vic3RyaW5nKDAsIDYpICsgJ1onO1xuICAgICAgZWxzZSB6ID0gJy4nICsgbmFub3NTdHIgKyAnWic7XG4gICAgfVxuICAgIHJldHVybiBuZXcgRGF0ZShtcykudG9JU09TdHJpbmcoKS5yZXBsYWNlKCcuMDAwWicsIHopO1xuICB9XG4gIC8qKlxuICAgKiBJbiBKU09OIGZvcm1hdCwgdGhlIGBUaW1lc3RhbXBgIHR5cGUgaXMgZW5jb2RlZCBhcyBhIHN0cmluZ1xuICAgKiBpbiB0aGUgUkZDIDMzMzkgZm9ybWF0LlxuICAgKi9cbiAgaW50ZXJuYWxKc29uUmVhZChcbiAgICBqc29uOiBKc29uVmFsdWUsXG4gICAgb3B0aW9uczogSnNvblJlYWRPcHRpb25zLFxuICAgIHRhcmdldD86IFRpbWVzdGFtcCxcbiAgKTogVGltZXN0YW1wIHtcbiAgICBpZiAodHlwZW9mIGpzb24gIT09ICdzdHJpbmcnKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIHBhcnNlIFRpbWVzdGFtcCBmcm9tIEpTT04gJyArIHR5cGVvZkpzb25WYWx1ZShqc29uKSArICcuJyxcbiAgICAgICk7XG4gICAgbGV0IG1hdGNoZXMgPSBqc29uLm1hdGNoKFxuICAgICAgL14oWzAtOV17NH0pLShbMC05XXsyfSktKFswLTldezJ9KVQoWzAtOV17Mn0pOihbMC05XXsyfSk6KFswLTldezJ9KSg/Olp8XFwuKFswLTldezMsOX0pWnwoWystXVswLTldWzAtOV06WzAtOV1bMC05XSkpJC8sXG4gICAgKTtcbiAgICBpZiAoIW1hdGNoZXMpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBwYXJzZSBUaW1lc3RhbXAgZnJvbSBKU09OLiBJbnZhbGlkIGZvcm1hdC4nKTtcbiAgICBsZXQgbXMgPSBEYXRlLnBhcnNlKFxuICAgICAgbWF0Y2hlc1sxXSArXG4gICAgICAgICctJyArXG4gICAgICAgIG1hdGNoZXNbMl0gK1xuICAgICAgICAnLScgK1xuICAgICAgICBtYXRjaGVzWzNdICtcbiAgICAgICAgJ1QnICtcbiAgICAgICAgbWF0Y2hlc1s0XSArXG4gICAgICAgICc6JyArXG4gICAgICAgIG1hdGNoZXNbNV0gK1xuICAgICAgICAnOicgK1xuICAgICAgICBtYXRjaGVzWzZdICtcbiAgICAgICAgKG1hdGNoZXNbOF0gPyBtYXRjaGVzWzhdIDogJ1onKSxcbiAgICApO1xuICAgIGlmIChOdW1iZXIuaXNOYU4obXMpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcGFyc2UgVGltZXN0YW1wIGZyb20gSlNPTi4gSW52YWxpZCB2YWx1ZS4nKTtcbiAgICBpZiAoXG4gICAgICBtcyA8IERhdGUucGFyc2UoJzAwMDEtMDEtMDFUMDA6MDA6MDBaJykgfHxcbiAgICAgIG1zID4gRGF0ZS5wYXJzZSgnOTk5OS0xMi0zMVQyMzo1OTo1OVonKVxuICAgIClcbiAgICAgIHRocm93IG5ldyBnbG9iYWxUaGlzLkVycm9yKFxuICAgICAgICAnVW5hYmxlIHRvIHBhcnNlIFRpbWVzdGFtcCBmcm9tIEpTT04uIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0byA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuJyxcbiAgICAgICk7XG4gICAgaWYgKCF0YXJnZXQpIHRhcmdldCA9IHRoaXMuY3JlYXRlKCk7XG4gICAgdGFyZ2V0LnNlY29uZHMgPSBQYkxvbmcuZnJvbShtcyAvIDEwMDApLnRvU3RyaW5nKCk7XG4gICAgdGFyZ2V0Lm5hbm9zID0gMDtcbiAgICBpZiAobWF0Y2hlc1s3XSlcbiAgICAgIHRhcmdldC5uYW5vcyA9XG4gICAgICAgIHBhcnNlSW50KCcxJyArIG1hdGNoZXNbN10gKyAnMCcucmVwZWF0KDkgLSBtYXRjaGVzWzddLmxlbmd0aCkpIC1cbiAgICAgICAgMTAwMDAwMDAwMDtcbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2UgZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcFxuICovXG5leHBvcnQgY29uc3QgVGltZXN0YW1wID0gbmV3IFRpbWVzdGFtcCRUeXBlKCk7XG4iLCIvLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuMTAuMCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvbW9kZWxzL21vZGVscy5wcm90b1wiIChwYWNrYWdlIFwic3RyZWFtLnZpZGVvLnNmdS5tb2RlbHNcIiwgc3ludGF4IHByb3RvMylcbi8vIHRzbGludDpkaXNhYmxlXG5pbXBvcnQgeyBNZXNzYWdlVHlwZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lJztcbmltcG9ydCB7IFN0cnVjdCB9IGZyb20gJy4uLy4uLy4uL2dvb2dsZS9wcm90b2J1Zi9zdHJ1Y3QnO1xuaW1wb3J0IHsgVGltZXN0YW1wIH0gZnJvbSAnLi4vLi4vLi4vZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcCc7XG5cbi8qKlxuICogQ2FsbFN0YXRlIGlzIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBjYWxsXG4gKiBhcyBzZWVuIGJ5IGFuIFNGVS5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsU3RhdGUge1xuICAvKipcbiAgICogcGFydGljaXBhbnRzIGlzIHRoZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbC5cbiAgICogSW4gbGFyZ2UgY2FsbHMsIHRoZSBsaXN0IGNvdWxkIGJlIHRydW5jYXRlZCBpbiB3aGljaFxuICAgKiBjYXNlLCB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgY29udGFpbnMgZmV3ZXIgcGFydGljaXBhbnRzXG4gICAqIHRoYW4gdGhlIGNvdW50cyByZXR1cm5lZCBpbiBwYXJ0aWNpcGFudF9jb3VudC4gQW5vbnltb3VzXG4gICAqIHBhcnRpY2lwYW50cyBhcmUgKipOT1QqKiBpbmNsdWRlZCBpbiB0aGUgbGlzdC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudHMgPSAxO1xuICAgKi9cbiAgcGFydGljaXBhbnRzOiBQYXJ0aWNpcGFudFtdO1xuICAvKipcbiAgICogc3RhcnRlZF9hdCBpcyB0aGUgdGltZSB0aGUgY2FsbCBzZXNzaW9uIGFjdHVhbGx5IHN0YXJ0ZWQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBzdGFydGVkX2F0ID0gMjtcbiAgICovXG4gIHN0YXJ0ZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIHBhcnRpY2lwYW50X2NvdW50IGNvbnRhaW5zIHRoZSBzdW1tYXJ5IG9mIHRoZSBjb3VudHMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudCBwYXJ0aWNpcGFudF9jb3VudCA9IDM7XG4gICAqL1xuICBwYXJ0aWNpcGFudENvdW50PzogUGFydGljaXBhbnRDb3VudDtcbiAgLyoqXG4gICAqIHRoZSBsaXN0IG9mIHBpbnMgaW4gdGhlIGNhbGwuXG4gICAqIFBpbnMgYXJlIG9yZGVyZWQgaW4gZGVzY2VuZGluZyBvcmRlciAobW9zdCBpbXBvcnRhbnQgZmlyc3QpLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpbiBwaW5zID0gNDtcbiAgICovXG4gIHBpbnM6IFBpbltdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydGljaXBhbnRDb3VudCB7XG4gIC8qKlxuICAgKiBUb3RhbCBudW1iZXIgb2YgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsIGluY2x1ZGluZ1xuICAgKiB0aGUgYW5vbnltb3VzIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgdG90YWwgPSAxO1xuICAgKi9cbiAgdG90YWw6IG51bWJlcjtcbiAgLyoqXG4gICAqIFRvdGFsIG51bWJlciBvZiBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBhbm9ueW1vdXMgPSAyO1xuICAgKi9cbiAgYW5vbnltb3VzOiBudW1iZXI7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBpblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBpbiB7XG4gIC8qKlxuICAgKiB0aGUgdXNlciB0byBwaW5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSB1c2VyIHNlc2lvbl9pZCB0byBwaW4sIGlmIG5vdCBwcm92aWRlZCwgYXBwbGllcyB0byBhbGwgc2Vzc2lvbnNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogdGhvc2Ugd2hvIGFyZSBvbmxpbmUgaW4gdGhlIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogbWFwIG9mIHRyYWNrIGlkIHRvIHRyYWNrIHR5cGVcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgcHVibGlzaGVkX3RyYWNrcyA9IDM7XG4gICAqL1xuICBwdWJsaXNoZWRUcmFja3M6IFRyYWNrVHlwZVtdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuVGltZXN0YW1wIGpvaW5lZF9hdCA9IDQ7XG4gICAqL1xuICBqb2luZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRyYWNrX2xvb2t1cF9wcmVmaXggPSA1O1xuICAgKi9cbiAgdHJhY2tMb29rdXBQcmVmaXg6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHkgY29ubmVjdGlvbl9xdWFsaXR5ID0gNjtcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5OiBDb25uZWN0aW9uUXVhbGl0eTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpc19zcGVha2luZyA9IDc7XG4gICAqL1xuICBpc1NwZWFraW5nOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX2RvbWluYW50X3NwZWFrZXIgPSA4O1xuICAgKi9cbiAgaXNEb21pbmFudFNwZWFrZXI6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IGF1ZGlvX2xldmVsID0gOTtcbiAgICovXG4gIGF1ZGlvTGV2ZWw6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG5hbWUgPSAxMDtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGltYWdlID0gMTE7XG4gICAqL1xuICBpbWFnZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBnb29nbGUucHJvdG9idWYuU3RydWN0IGN1c3RvbSA9IDEyO1xuICAgKi9cbiAgY3VzdG9tPzogU3RydWN0O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJpbmcgcm9sZXMgPSAxMztcbiAgICovXG4gIHJvbGVzOiBzdHJpbmdbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3RyZWFtUXVhbGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0cmVhbVF1YWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHkgdmlkZW9fcXVhbGl0eSA9IDE7XG4gICAqL1xuICB2aWRlb1F1YWxpdHk6IFZpZGVvUXVhbGl0eTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAyO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvRGltZW5zaW9uXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9EaW1lbnNpb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgd2lkdGggPSAxO1xuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGhlaWdodCA9IDI7XG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9MYXllclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvTGF5ZXIge1xuICAvKipcbiAgICogZm9yIHRyYWNrcyB3aXRoIGEgc2luZ2xlIGxheWVyLCB0aGlzIHNob3VsZCBiZSBISUdIXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHJpZCA9IDE7XG4gICAqL1xuICByaWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24gdmlkZW9fZGltZW5zaW9uID0gMjtcbiAgICovXG4gIHZpZGVvRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG4gIC8qKlxuICAgKiB0YXJnZXQgYml0cmF0ZSwgc2VydmVyIHdpbGwgbWVhc3VyZSBhY3R1YWxcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgYml0cmF0ZSA9IDQ7XG4gICAqL1xuICBiaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBmcHMgPSA1O1xuICAgKi9cbiAgZnBzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvUXVhbGl0eSBxdWFsaXR5ID0gNjtcbiAgICovXG4gIHF1YWxpdHk6IFZpZGVvUXVhbGl0eTtcbn1cbi8qKlxuICogU3Vic2NyaWJlT3B0aW9uIHJlcHJlc2VudHMgdGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3Igc3Vic2NyaWJpbmcgdG8gYSB0cmFjay5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdWJzY3JpYmVPcHRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdWJzY3JpYmVPcHRpb24ge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHRyYWNrIGJlaW5nIHN1YnNjcmliZWQgKGUuZy4sIHZpZGVvLCBzY3JlZW5zaGFyZSkuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAxO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBUaGUgY29kZWNzIHN1cHBvcnRlZCBieSB0aGUgc3Vic2NyaWJlciBmb3IgZGVjb2RpbmcgdHJhY2tzLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjcyA9IDI7XG4gICAqL1xuICBjb2RlY3M6IENvZGVjW107XG59XG4vKipcbiAqIFB1Ymxpc2hPcHRpb24gcmVwcmVzZW50cyB0aGUgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBwdWJsaXNoaW5nIGEgdHJhY2suXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFB1Ymxpc2hPcHRpb24ge1xuICAvKipcbiAgICogVGhlIHR5cGUgb2YgdGhlIHRyYWNrIGJlaW5nIHB1Ymxpc2hlZCAoZS5nLiwgdmlkZW8sIHNjcmVlbnNoYXJlKS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDE7XG4gICAqL1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIFRoZSBjb2RlYyB0byBiZSB1c2VkIGZvciBlbmNvZGluZyB0aGUgdHJhY2sgKGUuZy4sIFZQOCwgVlA5LCBIMjY0KS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDI7XG4gICAqL1xuICBjb2RlYz86IENvZGVjO1xuICAvKipcbiAgICogVGhlIHRhcmdldCBiaXRyYXRlIGZvciB0aGUgcHVibGlzaGVkIHRyYWNrLCBpbiBiaXRzIHBlciBzZWNvbmQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgYml0cmF0ZSA9IDM7XG4gICAqL1xuICBiaXRyYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgdGFyZ2V0IGZyYW1lcyBwZXIgc2Vjb25kIChGUFMpIGZvciB2aWRlbyBlbmNvZGluZy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBmcHMgPSA0O1xuICAgKi9cbiAgZnBzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2Ygc3BhdGlhbCBsYXllcnMgdG8gc2VuZC5cbiAgICogLSBGb3IgU1ZDIChlLmcuLCBWUDkpLCBzcGF0aWFsIGxheWVycyBkb3duc2NhbGUgYnkgYSBmYWN0b3Igb2YgMjpcbiAgICogICAtIDEgbGF5ZXI6IGZ1bGwgcmVzb2x1dGlvblxuICAgKiAgIC0gMiBsYXllcnM6IGZ1bGwgcmVzb2x1dGlvbiArIGhhbGYgcmVzb2x1dGlvblxuICAgKiAgIC0gMyBsYXllcnM6IGZ1bGwgcmVzb2x1dGlvbiArIGhhbGYgcmVzb2x1dGlvbiArIHF1YXJ0ZXIgcmVzb2x1dGlvblxuICAgKiAtIEZvciBub24tU1ZDIGNvZGVjcyAoZS5nLiwgVlA4L0gyNjQpLCB0aGlzIGRldGVybWluZXMgdGhlIG51bWJlciBvZlxuICAgKiAgIGVuY29kZWQgcmVzb2x1dGlvbnMgKGUuZy4sIHF1YXJ0ZXIsIGhhbGYsIGZ1bGwpIHNlbnQgZm9yIHNpbXVsY2FzdC5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBpbnQzMiBtYXhfc3BhdGlhbF9sYXllcnMgPSA1O1xuICAgKi9cbiAgbWF4U3BhdGlhbExheWVyczogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHRlbXBvcmFsIGxheWVycyBmb3Igc2NhbGFibGUgdmlkZW8gY29kaW5nIChTVkMpLlxuICAgKiBUZW1wb3JhbCBsYXllcnMgYWxsb3cgdmFyeWluZyBmcmFtZSByYXRlcyBmb3IgZGlmZmVyZW50IGJhbmR3aWR0aHMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgbWF4X3RlbXBvcmFsX2xheWVycyA9IDY7XG4gICAqL1xuICBtYXhUZW1wb3JhbExheWVyczogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIGRpbWVuc2lvbnMgb2YgdGhlIHZpZGVvIChlLmcuLCB3aWR0aCBhbmQgaGVpZ2h0IGluIHBpeGVscykuXG4gICAqIFNwYXRpYWwgbGF5ZXJzIGFyZSBiYXNlZCBvbiB0aGlzIGJhc2UgcmVzb2x1dGlvbi4gRm9yIGV4YW1wbGUsIGlmIHRoZSBiYXNlXG4gICAqIHJlc29sdXRpb24gaXMgMTI4MHg3MjA6XG4gICAqIC0gRnVsbCByZXNvbHV0aW9uICgxIGxheWVyKSA9IDEyODB4NzIwXG4gICAqIC0gSGFsZiByZXNvbHV0aW9uICgyIGxheWVycykgPSA2NDB4MzYwXG4gICAqIC0gUXVhcnRlciByZXNvbHV0aW9uICgzIGxheWVycykgPSAzMjB4MTgwXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24gdmlkZW9fZGltZW5zaW9uID0gNztcbiAgICovXG4gIHZpZGVvRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG4gIC8qKlxuICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBwdWJsaXNoIHJlcXVlc3QuXG4gICAqIC0gVGhpcyBgaWRgIGlzIGFzc2lnbmVkIGV4Y2x1c2l2ZWx5IGJ5IHRoZSBTRlUuIEFueSBgaWRgIHNldCBieSB0aGUgY2xpZW50XG4gICAqICAgaW4gdGhlIGBQdWJsaXNoT3B0aW9uYCB3aWxsIGJlIGlnbm9yZWQgYW5kIG92ZXJ3cml0dGVuIGJ5IHRoZSBTRlUuXG4gICAqIC0gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIGBpZGAgaXMgdG8gdW5pcXVlbHkgaWRlbnRpZnkgZWFjaCBwdWJsaXNoXG4gICAqICAgcmVxdWVzdCwgZXZlbiBpbiBzY2VuYXJpb3Mgd2hlcmUgbXVsdGlwbGUgcHVibGlzaCByZXF1ZXN0cyBmb3IgdGhlIHNhbWVcbiAgICogICBgdHJhY2tfdHlwZWAgYW5kIGBjb2RlY2AgYXJlIGFjdGl2ZSBzaW11bHRhbmVvdXNseS5cbiAgICogICBGb3IgZXhhbXBsZTpcbiAgICogICAgIC0gQSB1c2VyIG1heSBwdWJsaXNoIHR3byB0cmFja3Mgb2YgdGhlIHNhbWUgdHlwZSAoZS5nLiwgdmlkZW8pIGFuZCBjb2RlY1xuICAgKiAgICAgICAoZS5nLiwgVlA5KSBjb25jdXJyZW50bHkuXG4gICAqIC0gVGhpcyB1bmlxdWVuZXNzIGVuc3VyZXMgdGhhdCBpbmRpdmlkdWFsIHJlcXVlc3RzIGNhbiBiZSBtYW5hZ2VkXG4gICAqICAgaW5kZXBlbmRlbnRseS4gRm9yIGluc3RhbmNlLCBhbiBgaWRgIGlzIGNyaXRpY2FsIHdoZW4gc3RvcHBpbmcgYSBzcGVjaWZpY1xuICAgKiAgIHB1Ymxpc2ggcmVxdWVzdCB3aXRob3V0IGFmZmVjdGluZyBvdGhlcnMuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgaWQgPSA4O1xuICAgKi9cbiAgaWQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIElmIHRydWUsIGluc3RydWN0cyB0aGUgcHVibGlzaGVyIHRvIHNlbmQgb25seSB0aGUgaGlnaGVzdCBhdmFpbGFibGUgc2ltdWxjYXN0IGxheWVyLFxuICAgKiBkaXNhYmxpbmcgYWxsIGxvd2VyIGxheWVycy4gVGhpcyBhcHBsaWVzIHRvIHNpbXVsY2FzdCBlbmNvZGluZ3MuXG4gICAqIEZvciBTVkMgY29kZWNzLCBwcmVmZXIgdXNpbmcgdGhlIEwxVDMgKHNpbmdsZSBzcGF0aWFsLCAzIHRlbXBvcmFsIGxheWVycykgbW9kZSBpbnN0ZWFkLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgdXNlX3NpbmdsZV9sYXllciA9IDk7XG4gICAqL1xuICB1c2VTaW5nbGVMYXllcjogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDb2RlYyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBwYXlsb2FkX3R5cGUgPSAxNjtcbiAgICovXG4gIHBheWxvYWRUeXBlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTA7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBjbG9ja19yYXRlID0gMTQ7XG4gICAqL1xuICBjbG9ja1JhdGU6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGVuY29kaW5nX3BhcmFtZXRlcnMgPSAxNTtcbiAgICovXG4gIGVuY29kaW5nUGFyYW1ldGVyczogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZm10cCA9IDEyO1xuICAgKi9cbiAgZm10cDogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBpY2VfY2FuZGlkYXRlID0gMjtcbiAgICovXG4gIGljZUNhbmRpZGF0ZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDM7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tJbmZvIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHRyYWNrX2lkID0gMTtcbiAgICovXG4gIHRyYWNrSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAyO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXIgbGF5ZXJzID0gNTtcbiAgICovXG4gIGxheWVyczogVmlkZW9MYXllcltdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWlkID0gNjtcbiAgICovXG4gIG1pZDogc3RyaW5nO1xuICAvKipcbiAgICogZm9yIGF1ZGlvIHRyYWNrc1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgZHR4ID0gNztcbiAgICovXG4gIGR0eDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBzdGVyZW8gPSA4O1xuICAgKi9cbiAgc3RlcmVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIHJlZCA9IDk7XG4gICAqL1xuICByZWQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAxMDtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db2RlYyBjb2RlYyA9IDExO1xuICAgKi9cbiAgY29kZWM/OiBDb2RlYztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgcHVibGlzaF9vcHRpb25faWQgPSAxMjtcbiAgICovXG4gIHB1Ymxpc2hPcHRpb25JZDogbnVtYmVyO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlIGNvZGUgPSAxO1xuICAgKi9cbiAgY29kZTogRXJyb3JDb2RlO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbWVzc2FnZSA9IDI7XG4gICAqL1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgc2hvdWxkX3JldHJ5ID0gMztcbiAgICovXG4gIHNob3VsZFJldHJ5OiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DbGllbnREZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50RGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNkayBzZGsgPSAxO1xuICAgKi9cbiAgc2RrPzogU2RrO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PUyBvcyA9IDI7XG4gICAqL1xuICBvcz86IE9TO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyIGJyb3dzZXIgPSAzO1xuICAgKi9cbiAgYnJvd3Nlcj86IEJyb3dzZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkRldmljZSBkZXZpY2UgPSA0O1xuICAgKi9cbiAgZGV2aWNlPzogRGV2aWNlO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZGsge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtUeXBlIHR5cGUgPSAxO1xuICAgKi9cbiAgdHlwZTogU2RrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIG1ham9yID0gMjtcbiAgICovXG4gIG1ham9yOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtaW5vciA9IDM7XG4gICAqL1xuICBtaW5vcjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcGF0Y2ggPSA0O1xuICAgKi9cbiAgcGF0Y2g6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuT1NcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBPUyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgYXJjaGl0ZWN0dXJlID0gMztcbiAgICovXG4gIGFyY2hpdGVjdHVyZTogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Ccm93c2VyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQnJvd3NlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBuYW1lID0gMTtcbiAgICovXG4gIG5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHZlcnNpb24gPSAyO1xuICAgKi9cbiAgdmVyc2lvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5SVE1QSW5ncmVzc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFJUTVBJbmdyZXNzIHtcbiAgLyoqXG4gICAqIFZpZGVvIGRpbWVuc2lvbnMgYW5kIGZyYW1lIHJhdGVcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiB1aW50MzIgd2lkdGggPSAxO1xuICAgKi9cbiAgd2lkdGg6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogdWludDMyIGhlaWdodCA9IDI7XG4gICAqL1xuICBoZWlnaHQ6IG51bWJlcjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZG91YmxlIGZyYW1lX3JhdGUgPSAzO1xuICAgKi9cbiAgZnJhbWVSYXRlOiBudW1iZXI7XG4gIC8qKlxuICAgKiBDbGllbnQgaW5mb1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzb2Z0d2FyZSA9IDQ7XG4gICAqL1xuICBzb2Z0d2FyZTogc3RyaW5nOyAvLyBlLmcuIFwib2JzLXN0dWRpb1wiXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB2ZXJzaW9uID0gNTtcbiAgICovXG4gIHZlcnNpb246IHN0cmluZzsgLy8gZS5nLiBcIjI5LjEuM1wiXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBlbmNvZGVyID0gNjtcbiAgICovXG4gIGVuY29kZXI6IHN0cmluZzsgLy8gZS5nLiBcIngyNjRcIiBvciBcIk5WSURJQSBOVkVOQ1wiXG4gIC8qKlxuICAgKiBDb25uZWN0aW9uIGluZm9cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcmVtb3RlX2FkZHIgPSA3O1xuICAgKi9cbiAgcmVtb3RlQWRkcjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEZXZpY2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDE7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB2ZXJzaW9uID0gMjtcbiAgICovXG4gIHZlcnNpb246IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENhbGwge1xuICAvKipcbiAgICogdGhlIGNhbGwgdHlwZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB0eXBlID0gMTtcbiAgICovXG4gIHR5cGU6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSBjYWxsIGlkXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGlkID0gMjtcbiAgICovXG4gIGlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgaWQgb2YgdGhlIHVzZXIgdGhhdCBjcmVhdGVkIHRoaXMgY2FsbFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjcmVhdGVkX2J5X3VzZXJfaWQgPSAzO1xuICAgKi9cbiAgY3JlYXRlZEJ5VXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiB0aGUgaWQgb2YgdGhlIGN1cnJlbnQgaG9zdCBmb3IgdGhpcyBjYWxsXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIGhvc3RfdXNlcl9pZCA9IDQ7XG4gICAqL1xuICBob3N0VXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3QgY3VzdG9tID0gNTtcbiAgICovXG4gIGN1c3RvbT86IFN0cnVjdDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBjcmVhdGVkX2F0ID0gNjtcbiAgICovXG4gIGNyZWF0ZWRBdD86IFRpbWVzdGFtcDtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCB1cGRhdGVkX2F0ID0gNztcbiAgICovXG4gIHVwZGF0ZWRBdD86IFRpbWVzdGFtcDtcbn1cbi8qKlxuICogQ2FsbEdyYW50cyByZXByZXNlbnRzIHRoZSBzZXQgb2YgcGVybWlzc2lvbnMgZ2l2ZW5cbiAqIHRvIHRoZSB1c2VyIGZvciB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsR3JhbnRzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBjYW5fcHVibGlzaF9hdWRpbyA9IDE7XG4gICAqL1xuICBjYW5QdWJsaXNoQXVkaW86IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgY2FuX3B1Ymxpc2hfdmlkZW8gPSAyO1xuICAgKi9cbiAgY2FuUHVibGlzaFZpZGVvOiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGNhbl9zY3JlZW5zaGFyZSA9IDM7XG4gICAqL1xuICBjYW5TY3JlZW5zaGFyZTogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSW5wdXREZXZpY2VzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSW5wdXREZXZpY2VzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyaW5nIGF2YWlsYWJsZV9kZXZpY2VzID0gMTtcbiAgICovXG4gIGF2YWlsYWJsZURldmljZXM6IHN0cmluZ1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY3VycmVudF9kZXZpY2UgPSAyO1xuICAgKi9cbiAgY3VycmVudERldmljZTogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGlzX3Blcm1pdHRlZCA9IDM7XG4gICAqL1xuICBpc1Blcm1pdHRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFN0YXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQW5kcm9pZFN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFRoZXJtYWxTdGF0ZSB0aGVybWFsX3N0YXRlID0gMTtcbiAgICovXG4gIHRoZXJtYWxTdGF0ZTogQW5kcm9pZFRoZXJtYWxTdGF0ZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBpc19wb3dlcl9zYXZlcl9tb2RlID0gMjtcbiAgICovXG4gIGlzUG93ZXJTYXZlck1vZGU6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFwcGxlU3RhdGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBcHBsZVN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVUaGVybWFsU3RhdGUgdGhlcm1hbF9zdGF0ZSA9IDE7XG4gICAqL1xuICB0aGVybWFsU3RhdGU6IEFwcGxlVGhlcm1hbFN0YXRlO1xuICAvKipcbiAgICogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vZm91bmRhdGlvbi9wcm9jZXNzaW5mby8xNjE3MDQ3LWlzbG93cG93ZXJtb2RlZW5hYmxlZFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfbG93X3Bvd2VyX21vZGVfZW5hYmxlZCA9IDI7XG4gICAqL1xuICBpc0xvd1Bvd2VyTW9kZUVuYWJsZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIFBlcmZvcm1hbmNlU3RhdHMgcmVwcmVzZW50cyB0aGUgZW5jb2RpbmcvZGVjb2Rpbmcgc3RhdGlzdGljcyBmb3IgYSB0cmFjay5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZXJmb3JtYW5jZVN0YXRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VTdGF0cyB7XG4gIC8qKlxuICAgKiB0aGUgdHlwZSBvZiB0aGUgdHJhY2sgKGUuZy4sIHZpZGVvLCBhdWRpbywgc2NyZWVuIHNoYXJlKVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0cmFja190eXBlID0gMTtcbiAgICovXG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICAvKipcbiAgICogdGhlIGNvZGVjIHVzZWQgZm9yIHRoZSB0cmFja1xuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gMjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiB0aGUgYXZlcmFnZSBlbmNvZGUvZGVjb2RlIHRpbWUgaW4gbXNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBhdmdfZnJhbWVfdGltZV9tcyA9IDM7XG4gICAqL1xuICBhdmdGcmFtZVRpbWVNczogbnVtYmVyO1xuICAvKipcbiAgICogdGhlIGF2ZXJhZ2UgZnBzIGZvciB0aGUgdHJhY2tcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBhdmdfZnBzID0gNDtcbiAgICovXG4gIGF2Z0ZwczogbnVtYmVyO1xuICAvKipcbiAgICogdGhlIHRyYWNrIGRpbWVuc2lvbnNcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb0RpbWVuc2lvbiB2aWRlb19kaW1lbnNpb24gPSA1O1xuICAgKi9cbiAgdmlkZW9EaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcbiAgLyoqXG4gICAqIHRoZSB0YXJnZXQgYml0cmF0ZSBmb3IgdGhlIHRyYWNrLCBvbmx5IGZvciBwdWJsaXNoZWQgdHJhY2tzXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgdGFyZ2V0X2JpdHJhdGUgPSA2O1xuICAgKi9cbiAgdGFyZ2V0Qml0cmF0ZTogbnVtYmVyO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZVxuICovXG5leHBvcnQgZW51bSBQZWVyVHlwZSB7XG4gIC8qKlxuICAgKiB0b2RvIGZpeCBtZSAobWFyY2VsbylcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFBFRVJfVFlQRV9QVUJMSVNIRVJfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgUFVCTElTSEVSX1VOU1BFQ0lGSUVEID0gMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBQRUVSX1RZUEVfU1VCU0NSSUJFUiA9IDE7XG4gICAqL1xuICBTVUJTQ1JJQkVSID0gMSxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHlcbiAqL1xuZXhwb3J0IGVudW0gQ29ubmVjdGlvblF1YWxpdHkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENPTk5FQ1RJT05fUVVBTElUWV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX1BPT1IgPSAxO1xuICAgKi9cbiAgUE9PUiA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX0dPT0QgPSAyO1xuICAgKi9cbiAgR09PRCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ09OTkVDVElPTl9RVUFMSVRZX0VYQ0VMTEVOVCA9IDM7XG4gICAqL1xuICBFWENFTExFTlQgPSAzLFxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHlcbiAqL1xuZXhwb3J0IGVudW0gVmlkZW9RdWFsaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBWSURFT19RVUFMSVRZX0xPV19VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBMT1dfVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFZJREVPX1FVQUxJVFlfTUlEID0gMTtcbiAgICovXG4gIE1JRCA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVklERU9fUVVBTElUWV9ISUdIID0gMjtcbiAgICovXG4gIEhJR0ggPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFZJREVPX1FVQUxJVFlfT0ZGID0gMztcbiAgICovXG4gIE9GRiA9IDMsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZVxuICovXG5leHBvcnQgZW51bSBUcmFja1R5cGUge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfQVVESU8gPSAxO1xuICAgKi9cbiAgQVVESU8gPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfVklERU8gPSAyO1xuICAgKi9cbiAgVklERU8gPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1RZUEVfU0NSRUVOX1NIQVJFID0gMztcbiAgICovXG4gIFNDUkVFTl9TSEFSRSA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkVfQVVESU8gPSA0O1xuICAgKi9cbiAgU0NSRUVOX1NIQVJFX0FVRElPID0gNCxcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JDb2RlXG4gKi9cbmV4cG9ydCBlbnVtIEVycm9yQ29kZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QVUJMSVNIX1RSQUNLX05PVF9GT1VORCA9IDEwMDtcbiAgICovXG4gIFBVQkxJU0hfVFJBQ0tfTk9UX0ZPVU5EID0gMTAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUFVCTElTSF9UUkFDS1NfTUlTTUFUQ0ggPSAxMDE7XG4gICAqL1xuICBQVUJMSVNIX1RSQUNLU19NSVNNQVRDSCA9IDEwMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BVQkxJU0hfVFJBQ0tfT1VUX09GX09SREVSID0gMTAyO1xuICAgKi9cbiAgUFVCTElTSF9UUkFDS19PVVRfT0ZfT1JERVIgPSAxMDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QVUJMSVNIX1RSQUNLX1ZJREVPX0xBWUVSX05PVF9GT1VORCA9IDEwMztcbiAgICovXG4gIFBVQkxJU0hfVFJBQ0tfVklERU9fTEFZRVJfTk9UX0ZPVU5EID0gMTAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfTElWRV9FTkRFRCA9IDEwNDtcbiAgICovXG4gIExJVkVfRU5ERUQgPSAxMDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9OT1RfRk9VTkQgPSAyMDA7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9OT1RfRk9VTkQgPSAyMDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9NSUdSQVRJTkdfT1VUID0gMjAxO1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTUlHUkFUSU5HX09VVCA9IDIwMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BBUlRJQ0lQQU5UX01JR1JBVElPTl9GQUlMRUQgPSAyMDI7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9NSUdSQVRJT05fRkFJTEVEID0gMjAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfTUlHUkFUSU5HID0gMjAzO1xuICAgKi9cbiAgUEFSVElDSVBBTlRfTUlHUkFUSU5HID0gMjAzLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfUkVDT05ORUNUX0ZBSUxFRCA9IDIwNDtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX1JFQ09OTkVDVF9GQUlMRUQgPSAyMDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9QQVJUSUNJUEFOVF9NRURJQV9UUkFOU1BPUlRfRkFJTFVSRSA9IDIwNTtcbiAgICovXG4gIFBBUlRJQ0lQQU5UX01FRElBX1RSQU5TUE9SVF9GQUlMVVJFID0gMjA1LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfUEFSVElDSVBBTlRfU0lHTkFMX0xPU1QgPSAyMDY7XG4gICAqL1xuICBQQVJUSUNJUEFOVF9TSUdOQUxfTE9TVCA9IDIwNixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX0NBTExfTk9UX0ZPVU5EID0gMzAwO1xuICAgKi9cbiAgQ0FMTF9OT1RfRk9VTkQgPSAzMDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9SRVFVRVNUX1ZBTElEQVRJT05fRkFJTEVEID0gNDAwO1xuICAgKi9cbiAgUkVRVUVTVF9WQUxJREFUSU9OX0ZBSUxFRCA9IDQwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1VOQVVUSEVOVElDQVRFRCA9IDQwMTtcbiAgICovXG4gIFVOQVVUSEVOVElDQVRFRCA9IDQwMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1BFUk1JU1NJT05fREVOSUVEID0gNDAzO1xuICAgKi9cbiAgUEVSTUlTU0lPTl9ERU5JRUQgPSA0MDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogRVJST1JfQ09ERV9UT09fTUFOWV9SRVFVRVNUUyA9IDQyOTtcbiAgICovXG4gIFRPT19NQU5ZX1JFUVVFU1RTID0gNDI5LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfSU5URVJOQUxfU0VSVkVSX0VSUk9SID0gNTAwO1xuICAgKi9cbiAgSU5URVJOQUxfU0VSVkVSX0VSUk9SID0gNTAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEVSUk9SX0NPREVfU0ZVX1NIVVRUSU5HX0RPV04gPSA2MDA7XG4gICAqL1xuICBTRlVfU0hVVFRJTkdfRE9XTiA9IDYwMCxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBFUlJPUl9DT0RFX1NGVV9GVUxMID0gNzAwO1xuICAgKi9cbiAgU0ZVX0ZVTEwgPSA3MDAsXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlNka1R5cGVcbiAqL1xuZXhwb3J0IGVudW0gU2RrVHlwZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1JFQUNUID0gMTtcbiAgICovXG4gIFJFQUNUID0gMSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9BTkdVTEFSID0gMjtcbiAgICovXG4gIEFOR1VMQVIgPSAyLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX0FORFJPSUQgPSAzO1xuICAgKi9cbiAgQU5EUk9JRCA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfSU9TID0gNDtcbiAgICovXG4gIElPUyA9IDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfRkxVVFRFUiA9IDU7XG4gICAqL1xuICBGTFVUVEVSID0gNSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9SRUFDVF9OQVRJVkUgPSA2O1xuICAgKi9cbiAgUkVBQ1RfTkFUSVZFID0gNixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBTREtfVFlQRV9VTklUWSA9IDc7XG4gICAqL1xuICBVTklUWSA9IDcsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogU0RLX1RZUEVfR08gPSA4O1xuICAgKi9cbiAgR08gPSA4LFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFNES19UWVBFX1BMQUlOX0pBVkFTQ1JJUFQgPSA5O1xuICAgKi9cbiAgUExBSU5fSkFWQVNDUklQVCA9IDksXG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVW5wdWJsaXNoUmVhc29uXG4gKi9cbmV4cG9ydCBlbnVtIFRyYWNrVW5wdWJsaXNoUmVhc29uIHtcbiAgLyoqXG4gICAqIERlZmF1bHQgdmFsdWUgd2hpY2ggaXMgdXNlZCB3aGVuIHRoZSBzcGVjaWZpYyByZWFzb25cbiAgICogZm9yIG11dGluZyB0aGUgdHJhY2sgaXMgbm90IGtub3duLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBSZXByZXNlbnRzIHVzZXIgbXV0aW5nIHRoZWlyIHRyYWNrcy5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFRSQUNLX1VOUFVCTElTSF9SRUFTT05fVVNFUl9NVVRFRCA9IDE7XG4gICAqL1xuICBVU0VSX01VVEVEID0gMSxcbiAgLyoqXG4gICAqIFJlcHJlc2VudHMgbXV0aW5nIHRoZSB0cmFjayBiZWNhdXNlIHRoZSBwZXJtaXNzaW9uIHRvXG4gICAqIHB1Ymxpc2ggdGhlIHRyYWNrIGhhcyBiZWVuIHJldm9rZWQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBUUkFDS19VTlBVQkxJU0hfUkVBU09OX1BFUk1JU1NJT05fUkVWT0tFRCA9IDI7XG4gICAqL1xuICBQRVJNSVNTSU9OX1JFVk9LRUQgPSAyLFxuICAvKipcbiAgICogUmVwcmVzZW50cyBtdXRpbmcgdGhlIHRyYWNrIGR1ZSB0byBtb2RlcmF0aW9uIGFjdGlvbnMuXG4gICAqIFRoaXMgaXMgZGlmZmVyZW50IGZyb20gcGVybWlzc2lvbiByZXZva2VkIGJlY2F1c2UgdGhlXG4gICAqIHBhcnRpY2lwYW50IGNhbiB1bm11dGUgdGhlbXNlbHZlcyBoZXJlIHdoZXJlYXMgaW4gY2FzZVxuICAgKiBvZiBcInBlcm1pc3Npb24gcmV2b2tlXCIgaXQgaXMgbm90IHBvc3NpYmxlIHVudGlsIHRoZVxuICAgKiBjYWxsIHBlcm1pc3Npb25zIGFyZSB1cGRhdGVkLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogVFJBQ0tfVU5QVUJMSVNIX1JFQVNPTl9NT0RFUkFUSU9OID0gMztcbiAgICovXG4gIE1PREVSQVRJT04gPSAzLFxufVxuLyoqXG4gKiBHb0F3YXlSZWFzb24gcmVwcmVzZW50cyB0aGUgcmVhc29uIGZvciB0aGUgU0ZVIHRvXG4gKiBkaXNjb25uZWN0IHRoZSBjbGllbnQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuR29Bd2F5UmVhc29uXG4gKi9cbmV4cG9ydCBlbnVtIEdvQXdheVJlYXNvbiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogR09fQVdBWV9SRUFTT05fVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEdPX0FXQVlfUkVBU09OX1NIVVRUSU5HX0RPV04gPSAxO1xuICAgKi9cbiAgU0hVVFRJTkdfRE9XTiA9IDEsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogR09fQVdBWV9SRUFTT05fUkVCQUxBTkNFID0gMjtcbiAgICovXG4gIFJFQkFMQU5DRSA9IDIsXG59XG4vKipcbiAqIENhbGxFbmRlZFJlYXNvbiByZXByZXNlbnRzIHRoZSByZWFzb24gZm9yIHRoZSBjYWxsIHRvIGVuZC5cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsRW5kZWRSZWFzb25cbiAqL1xuZXhwb3J0IGVudW0gQ2FsbEVuZGVkUmVhc29uIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBDQUxMX0VOREVEX1JFQVNPTl9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fRU5ERUQgPSAxO1xuICAgKi9cbiAgRU5ERUQgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IENBTExfRU5ERURfUkVBU09OX0xJVkVfRU5ERUQgPSAyO1xuICAgKi9cbiAgTElWRV9FTkRFRCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fS0lDS0VEID0gMztcbiAgICovXG4gIEtJQ0tFRCA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQ0FMTF9FTkRFRF9SRUFTT05fU0VTU0lPTl9FTkRFRCA9IDQ7XG4gICAqL1xuICBTRVNTSU9OX0VOREVEID0gNCxcbn1cbi8qKlxuICogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kgZGVmaW5lcyB0aGUgd3Mgc3RyYXRlZ2llcyBhdmFpbGFibGUgZm9yIGhhbmRsaW5nIHJlY29ubmVjdGlvbnMuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lcbiAqL1xuZXhwb3J0IGVudW0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IFdFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogU2VudCBhZnRlciByZWFjaGluZyB0aGUgbWF4aW11bSByZWNvbm5lY3Rpb24gYXR0ZW1wdHMsIG9yIGFueSBvdGhlciB1bnJlY292ZXJhYmxlIGVycm9yIGxlYWRpbmcgdG8gcGVybWFuZW50IGRpc2Nvbm5lY3QuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX0RJU0NPTk5FQ1QgPSAxO1xuICAgKi9cbiAgRElTQ09OTkVDVCA9IDEsXG4gIC8qKlxuICAgKiBTREsgc2hvdWxkIG1haW50YWluaW5nIGV4aXN0aW5nIHB1Ymxpc2hlci9zdWJzY3JpYmVyIHBjIGluc3RhbmNlc1xuICAgKiBhbmQgZXN0YWJsaXNoIGEgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9GQVNUID0gMjtcbiAgICovXG4gIEZBU1QgPSAyLFxuICAvKipcbiAgICogU0RLIHNob3VsZCBvYnRhaW4gbmV3IGNyZWRlbnRpYWxzIGZyb20gdGhlIGNvb3JkaW5hdG9yLCBkcm9wcyBleGlzdGluZyBwYyBpbnN0YW5jZXMsIHNldCBhIG5ldyBzZXNzaW9uX2lkIGFuZCBpbml0aWFsaXplc1xuICAgKiBhIGNvbXBsZXRlbHkgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uLCBlbnN1cmluZyBhIGNvbXByZWhlbnNpdmUgcmVzZXQuXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZX1JFSk9JTiA9IDM7XG4gICAqL1xuICBSRUpPSU4gPSAzLFxuICAvKipcbiAgICogU0RLIHNob3VsZCBtaWdyYXRlIHRvIGEgbmV3IFNGVSBpbnN0YW5jZVxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogV0VCU09DS0VUX1JFQ09OTkVDVF9TVFJBVEVHWV9NSUdSQVRFID0gNDtcbiAgICovXG4gIE1JR1JBVEUgPSA0LFxufVxuLyoqXG4gKiBBbmRyb2lkVGhlcm1hbFN0YXRlIGlzIHJlcG9ydGVkIGJ5IHRoZSBBbmRyb2lkIEFQSS4gVGhlIGZ1bGwgbGlzdCBvZiB2YWx1ZXMgaXMgZG9jdW1lbnRlZCBoZXJlXG4gKiBodHRwczovL2RldmVsb3Blci5hbmRyb2lkLmNvbS9yZWZlcmVuY2UvYW5kcm9pZC9vcy9Qb3dlck1hbmFnZXIuaHRtbCNnZXRDdXJyZW50VGhlcm1hbFN0YXR1cygpXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFRoZXJtYWxTdGF0ZVxuICovXG5leHBvcnQgZW51bSBBbmRyb2lkVGhlcm1hbFN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfVU5TUEVDSUZJRUQgPSAwO1xuICAgKi9cbiAgVU5TUEVDSUZJRUQgPSAwLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9OT05FID0gMTtcbiAgICovXG4gIE5PTkUgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFORFJPSURfVEhFUk1BTF9TVEFURV9MSUdIVCA9IDI7XG4gICAqL1xuICBMSUdIVCA9IDIsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX01PREVSQVRFID0gMztcbiAgICovXG4gIE1PREVSQVRFID0gMyxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfU0VWRVJFID0gNDtcbiAgICovXG4gIFNFVkVSRSA9IDQsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX0NSSVRJQ0FMID0gNTtcbiAgICovXG4gIENSSVRJQ0FMID0gNSxcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBTkRST0lEX1RIRVJNQUxfU1RBVEVfRU1FUkdFTkNZID0gNjtcbiAgICovXG4gIEVNRVJHRU5DWSA9IDYsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQU5EUk9JRF9USEVSTUFMX1NUQVRFX1NIVVRET1dOID0gNztcbiAgICovXG4gIFNIVVRET1dOID0gNyxcbn1cbi8qKlxuICogQXBwbGVUaGVybWFsU3RhdGUgaXMgdGhlIHRoZXJtYWwgc3RhdGUgYXMgcmVwb3J0ZWQgYnkgQXBwbGUgZGV2aWNlcyB3aGVuIGF2YWlsYWJsZSBvciBhcHBsaWNhYmxlIHRvIHRoZSBwbGF0Zm9ybS5cbiAqIFRoZSBmdWxsIGxpc3Qgb2Ygc3RhdGVzIChlbnVtKSBpcyBhdmFpbGFibGUgaGVyZTogaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vZm91bmRhdGlvbi9wcm9jZXNzaW5mby90aGVybWFsc3RhdGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BcHBsZVRoZXJtYWxTdGF0ZVxuICovXG5leHBvcnQgZW51bSBBcHBsZVRoZXJtYWxTdGF0ZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQVBQTEVfVEhFUk1BTF9TVEFURV9VTlNQRUNJRklFRCA9IDA7XG4gICAqL1xuICBVTlNQRUNJRklFRCA9IDAsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQVBQTEVfVEhFUk1BTF9TVEFURV9OT01JTkFMID0gMTtcbiAgICovXG4gIE5PTUlOQUwgPSAxLFxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGVudW0gdmFsdWU6IEFQUExFX1RIRVJNQUxfU1RBVEVfRkFJUiA9IDI7XG4gICAqL1xuICBGQUlSID0gMixcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBlbnVtIHZhbHVlOiBBUFBMRV9USEVSTUFMX1NUQVRFX1NFUklPVVMgPSAzO1xuICAgKi9cbiAgU0VSSU9VUyA9IDMsXG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZW51bSB2YWx1ZTogQVBQTEVfVEhFUk1BTF9TVEFURV9DUklUSUNBTCA9IDQ7XG4gICAqL1xuICBDUklUSUNBTCA9IDQsXG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENhbGxTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFN0YXRlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50cycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQYXJ0aWNpcGFudCxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc3RhcnRlZF9hdCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gVGltZXN0YW1wIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfY291bnQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50Q291bnQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3BpbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUGluLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZVxuICovXG5leHBvcnQgY29uc3QgQ2FsbFN0YXRlID0gbmV3IENhbGxTdGF0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudENvdW50JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudENvdW50PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudENvdW50JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3RvdGFsJywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2Fub255bW91cycsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50Q291bnRcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50Q291bnQgPSBuZXcgUGFydGljaXBhbnRDb3VudCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQaW4kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBpbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGluJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QaW5cbiAqL1xuZXhwb3J0IGNvbnN0IFBpbiA9IG5ldyBQaW4kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hlZF90cmFja3MnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIHJlcGVhdDogMSAvKlJlcGVhdFR5cGUuUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnam9pbmVkX2F0Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUaW1lc3RhbXAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICd0cmFja19sb29rdXBfcHJlZml4JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29ubmVjdGlvblF1YWxpdHknLFxuICAgICAgICAgIENvbm5lY3Rpb25RdWFsaXR5LFxuICAgICAgICAgICdDT05ORUNUSU9OX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA3LCBuYW1lOiAnaXNfc3BlYWtpbmcnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA4LFxuICAgICAgICBuYW1lOiAnaXNfZG9taW5hbnRfc3BlYWtlcicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogOSwgbmFtZTogJ2F1ZGlvX2xldmVsJywga2luZDogJ3NjYWxhcicsIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8gfSxcbiAgICAgIHsgbm86IDEwLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMTEsIG5hbWU6ICdpbWFnZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMTIsIG5hbWU6ICdjdXN0b20nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFN0cnVjdCB9LFxuICAgICAge1xuICAgICAgICBubzogMTMsXG4gICAgICAgIG5hbWU6ICdyb2xlcycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50XG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudCA9IG5ldyBQYXJ0aWNpcGFudCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdHJlYW1RdWFsaXR5JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdHJlYW1RdWFsaXR5PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdHJlYW1RdWFsaXR5JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3ZpZGVvX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9RdWFsaXR5JyxcbiAgICAgICAgICBWaWRlb1F1YWxpdHksXG4gICAgICAgICAgJ1ZJREVPX1FVQUxJVFlfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3RyZWFtUXVhbGl0eVxuICovXG5leHBvcnQgY29uc3QgU3RyZWFtUXVhbGl0eSA9IG5ldyBTdHJlYW1RdWFsaXR5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvRGltZW5zaW9uJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb0RpbWVuc2lvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24nLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnd2lkdGgnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnaGVpZ2h0Jywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb25cbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvRGltZW5zaW9uID0gbmV3IFZpZGVvRGltZW5zaW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvTGF5ZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFZpZGVvTGF5ZXI+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXInLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAncmlkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAndmlkZW9fZGltZW5zaW9uJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb0RpbWVuc2lvbixcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnYml0cmF0ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8gfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdmcHMnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAncXVhbGl0eScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5WaWRlb1F1YWxpdHknLFxuICAgICAgICAgIFZpZGVvUXVhbGl0eSxcbiAgICAgICAgICAnVklERU9fUVVBTElUWV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlZpZGVvTGF5ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTGF5ZXIgPSBuZXcgVmlkZW9MYXllciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdWJzY3JpYmVPcHRpb24kVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN1YnNjcmliZU9wdGlvbj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU3Vic2NyaWJlT3B0aW9uJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnY29kZWNzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IENvZGVjLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlN1YnNjcmliZU9wdGlvblxuICovXG5leHBvcnQgY29uc3QgU3Vic2NyaWJlT3B0aW9uID0gbmV3IFN1YnNjcmliZU9wdGlvbiRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQdWJsaXNoT3B0aW9uJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQdWJsaXNoT3B0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QdWJsaXNoT3B0aW9uJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnY29kZWMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENvZGVjIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnYml0cmF0ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZnBzJywga2luZDogJ3NjYWxhcicsIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdtYXhfc3BhdGlhbF9sYXllcnMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAnbWF4X3RlbXBvcmFsX2xheWVycycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDcsXG4gICAgICAgIG5hbWU6ICd2aWRlb19kaW1lbnNpb24nLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFZpZGVvRGltZW5zaW9uLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDgsIG5hbWU6ICdpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA5LFxuICAgICAgICBuYW1lOiAndXNlX3NpbmdsZV9sYXllcicsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvblxuICovXG5leHBvcnQgY29uc3QgUHVibGlzaE9wdGlvbiA9IG5ldyBQdWJsaXNoT3B0aW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENvZGVjJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDb2RlYz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxNixcbiAgICAgICAgbmFtZTogJ3BheWxvYWRfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogMTAsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNCxcbiAgICAgICAgbmFtZTogJ2Nsb2NrX3JhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDE1LFxuICAgICAgICBuYW1lOiAnZW5jb2RpbmdfcGFyYW1ldGVycycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAxMiwgbmFtZTogJ2ZtdHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjXG4gKi9cbmV4cG9ydCBjb25zdCBDb2RlYyA9IG5ldyBDb2RlYyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VUcmlja2xlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxJQ0VUcmlja2xlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpY2VfY2FuZGlkYXRlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBjb25zdCBJQ0VUcmlja2xlID0gbmV3IElDRVRyaWNrbGUkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tJbmZvJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxUcmFja0luZm8+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd0cmFja19pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnbGF5ZXJzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFZpZGVvTGF5ZXIsXG4gICAgICB9LFxuICAgICAgeyBubzogNiwgbmFtZTogJ21pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogNywgbmFtZTogJ2R0eCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDgsIG5hbWU6ICdzdGVyZW8nLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgICB7IG5vOiA5LCBuYW1lOiAncmVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogMTAsIG5hbWU6ICdtdXRlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDExLCBuYW1lOiAnY29kZWMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENvZGVjIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMixcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hfb3B0aW9uX2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja0luZm8gPSBuZXcgVHJhY2tJbmZvJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEVycm9yJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxFcnJvcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3InLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnY29kZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvckNvZGUnLFxuICAgICAgICAgIEVycm9yQ29kZSxcbiAgICAgICAgICAnRVJST1JfQ09ERV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtZXNzYWdlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAzLCBuYW1lOiAnc2hvdWxkX3JldHJ5Jywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3JcbiAqL1xuZXhwb3J0IGNvbnN0IEVycm9yID0gbmV3IEVycm9yJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENsaWVudERldGFpbHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENsaWVudERldGFpbHM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNsaWVudERldGFpbHMnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2RrJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBTZGsgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdvcycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gT1MgfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdicm93c2VyJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBCcm93c2VyIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZGV2aWNlJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBEZXZpY2UgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNsaWVudERldGFpbHNcbiAqL1xuZXhwb3J0IGNvbnN0IENsaWVudERldGFpbHMgPSBuZXcgQ2xpZW50RGV0YWlscyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZGskVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNkaz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuU2RrVHlwZScsIFNka1R5cGUsICdTREtfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnbWFqb3InLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdtaW5vcicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ3BhdGNoJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TZGtcbiAqL1xuZXhwb3J0IGNvbnN0IFNkayA9IG5ldyBTZGskVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgT1MkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPE9TPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PUycsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAndmVyc2lvbicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2FyY2hpdGVjdHVyZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5PU1xuICovXG5leHBvcnQgY29uc3QgT1MgPSBuZXcgT1MkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQnJvd3NlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QnJvd3Nlcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQnJvd3NlcicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICduYW1lJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAndmVyc2lvbicsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQnJvd3NlclxuICovXG5leHBvcnQgY29uc3QgQnJvd3NlciA9IG5ldyBCcm93c2VyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFJUTVBJbmdyZXNzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxSVE1QSW5ncmVzcz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUlRNUEluZ3Jlc3MnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnd2lkdGgnLCBraW5kOiAnc2NhbGFyJywgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnaGVpZ2h0Jywga2luZDogJ3NjYWxhcicsIFQ6IDEzIC8qU2NhbGFyVHlwZS5VSU5UMzIqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2ZyYW1lX3JhdGUnLCBraW5kOiAnc2NhbGFyJywgVDogMSAvKlNjYWxhclR5cGUuRE9VQkxFKi8gfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdzb2Z0d2FyZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ3ZlcnNpb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDYsIG5hbWU6ICdlbmNvZGVyJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA3LFxuICAgICAgICBuYW1lOiAncmVtb3RlX2FkZHInLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUlRNUEluZ3Jlc3NcbiAqL1xuZXhwb3J0IGNvbnN0IFJUTVBJbmdyZXNzID0gbmV3IFJUTVBJbmdyZXNzJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIERldmljZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RGV2aWNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5EZXZpY2UnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3ZlcnNpb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkRldmljZVxuICovXG5leHBvcnQgY29uc3QgRGV2aWNlID0gbmV3IERldmljZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDYWxsPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5DYWxsJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3R5cGUnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2NyZWF0ZWRfYnlfdXNlcl9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnaG9zdF91c2VyX2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDUsIG5hbWU6ICdjdXN0b20nLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFN0cnVjdCB9LFxuICAgICAgeyBubzogNiwgbmFtZTogJ2NyZWF0ZWRfYXQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFRpbWVzdGFtcCB9LFxuICAgICAgeyBubzogNywgbmFtZTogJ3VwZGF0ZWRfYXQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFRpbWVzdGFtcCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbFxuICovXG5leHBvcnQgY29uc3QgQ2FsbCA9IG5ldyBDYWxsJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGxHcmFudHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPENhbGxHcmFudHM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnY2FuX3B1Ymxpc2hfYXVkaW8nLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdjYW5fcHVibGlzaF92aWRlbycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Nhbl9zY3JlZW5zaGFyZScsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEdyYW50c1xuICovXG5leHBvcnQgY29uc3QgQ2FsbEdyYW50cyA9IG5ldyBDYWxsR3JhbnRzJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIElucHV0RGV2aWNlcyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SW5wdXREZXZpY2VzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5JbnB1dERldmljZXMnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnYXZhaWxhYmxlX2RldmljZXMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnY3VycmVudF9kZXZpY2UnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2lzX3Blcm1pdHRlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklucHV0RGV2aWNlc1xuICovXG5leHBvcnQgY29uc3QgSW5wdXREZXZpY2VzID0gbmV3IElucHV0RGV2aWNlcyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBBbmRyb2lkU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEFuZHJvaWRTdGF0ZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFN0YXRlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3RoZXJtYWxfc3RhdGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFRoZXJtYWxTdGF0ZScsXG4gICAgICAgICAgQW5kcm9pZFRoZXJtYWxTdGF0ZSxcbiAgICAgICAgICAnQU5EUk9JRF9USEVSTUFMX1NUQVRFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2lzX3Bvd2VyX3NhdmVyX21vZGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFuZHJvaWRTdGF0ZVxuICovXG5leHBvcnQgY29uc3QgQW5kcm9pZFN0YXRlID0gbmV3IEFuZHJvaWRTdGF0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBBcHBsZVN0YXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBcHBsZVN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5BcHBsZVN0YXRlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3RoZXJtYWxfc3RhdGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQXBwbGVUaGVybWFsU3RhdGUnLFxuICAgICAgICAgIEFwcGxlVGhlcm1hbFN0YXRlLFxuICAgICAgICAgICdBUFBMRV9USEVSTUFMX1NUQVRFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2lzX2xvd19wb3dlcl9tb2RlX2VuYWJsZWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFwcGxlU3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IEFwcGxlU3RhdGUgPSBuZXcgQXBwbGVTdGF0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQZXJmb3JtYW5jZVN0YXRzJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQZXJmb3JtYW5jZVN0YXRzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZXJmb3JtYW5jZVN0YXRzJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnY29kZWMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENvZGVjIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnYXZnX2ZyYW1lX3RpbWVfbXMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMiAvKlNjYWxhclR5cGUuRkxPQVQqLyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnYXZnX2ZwcycsIGtpbmQ6ICdzY2FsYXInLCBUOiAyIC8qU2NhbGFyVHlwZS5GTE9BVCovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAndmlkZW9fZGltZW5zaW9uJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb0RpbWVuc2lvbixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA2LFxuICAgICAgICBuYW1lOiAndGFyZ2V0X2JpdHJhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZXJmb3JtYW5jZVN0YXRzXG4gKi9cbmV4cG9ydCBjb25zdCBQZXJmb3JtYW5jZVN0YXRzID0gbmV3IFBlcmZvcm1hbmNlU3RhdHMkVHlwZSgpO1xuIiwiLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjEwLjAgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwidmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLnByb3RvXCIgKHBhY2thZ2UgXCJzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbFwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbmltcG9ydCB7XG4gIEFuZHJvaWRTdGF0ZSxcbiAgQXBwbGVTdGF0ZSxcbiAgRXJyb3IsXG4gIElDRVRyaWNrbGUsXG4gIElucHV0RGV2aWNlcyxcbiAgUGVlclR5cGUsXG4gIFBlcmZvcm1hbmNlU3RhdHMsXG4gIFJUTVBJbmdyZXNzLFxuICBUcmFja0luZm8sXG4gIFRyYWNrVHlwZSxcbiAgVmlkZW9EaW1lbnNpb24sXG4gIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxufSBmcm9tICcuLi9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFNlcnZpY2VUeXBlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUtcnBjJztcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuXG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSAxO1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gMTtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlJlY29ubmVjdGlvblxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlY29ubmVjdGlvbiB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IHRpbWVfc2Vjb25kcyA9IDE7XG4gICAqL1xuICB0aW1lU2Vjb25kczogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSBzdHJhdGVneSA9IDI7XG4gICAqL1xuICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3k7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRlbGVtZXRyeVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRlbGVtZXRyeSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgb25lb2Y6IGRhdGFcbiAgICovXG4gIGRhdGE6XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2Nvbm5lY3Rpb25UaW1lU2Vjb25kcyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IGNvbm5lY3Rpb25fdGltZV9zZWNvbmRzID0gMTtcbiAgICAgICAgICovXG4gICAgICAgIGNvbm5lY3Rpb25UaW1lU2Vjb25kczogbnVtYmVyO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdyZWNvbm5lY3Rpb24nO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5SZWNvbm5lY3Rpb24gcmVjb25uZWN0aW9uID0gMjtcbiAgICAgICAgICovXG4gICAgICAgIHJlY29ubmVjdGlvbjogUmVjb25uZWN0aW9uO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6IHVuZGVmaW5lZDtcbiAgICAgIH07XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kU3RhdHNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAxO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzdWJzY3JpYmVyX3N0YXRzID0gMjtcbiAgICovXG4gIHN1YnNjcmliZXJTdGF0czogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcHVibGlzaGVyX3N0YXRzID0gMztcbiAgICovXG4gIHB1Ymxpc2hlclN0YXRzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB3ZWJydGNfdmVyc2lvbiA9IDQ7XG4gICAqL1xuICB3ZWJydGNWZXJzaW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZGsgPSA1O1xuICAgKi9cbiAgc2RrOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZGtfdmVyc2lvbiA9IDY7XG4gICAqL1xuICBzZGtWZXJzaW9uOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklucHV0RGV2aWNlcyBhdWRpb19kZXZpY2VzID0gNztcbiAgICovXG4gIGF1ZGlvRGV2aWNlcz86IElucHV0RGV2aWNlcztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSW5wdXREZXZpY2VzIHZpZGVvX2RldmljZXMgPSA4O1xuICAgKi9cbiAgdmlkZW9EZXZpY2VzPzogSW5wdXREZXZpY2VzO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiBkZXZpY2Vfc3RhdGVcbiAgICovXG4gIGRldmljZVN0YXRlOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdhbmRyb2lkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQW5kcm9pZFN0YXRlIGFuZHJvaWQgPSA5O1xuICAgICAgICAgKi9cbiAgICAgICAgYW5kcm9pZDogQW5kcm9pZFN0YXRlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdhcHBsZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkFwcGxlU3RhdGUgYXBwbGUgPSAxMDtcbiAgICAgICAgICovXG4gICAgICAgIGFwcGxlOiBBcHBsZVN0YXRlO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6IHVuZGVmaW5lZDtcbiAgICAgIH07XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRlbGVtZXRyeSB0ZWxlbWV0cnkgPSAxMTtcbiAgICovXG4gIHRlbGVtZXRyeT86IFRlbGVtZXRyeTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUlRNUEluZ3Jlc3MgcnRtcCA9IDEyO1xuICAgKi9cbiAgcnRtcD86IFJUTVBJbmdyZXNzO1xuICAvKipcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc3Vic2NyaWJlcl9ydGNfc3RhdHMgPSAxMyBbZGVwcmVjYXRlZCA9IHRydWVdO1xuICAgKi9cbiAgc3Vic2NyaWJlclJ0Y1N0YXRzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBwdWJsaXNoZXJfcnRjX3N0YXRzID0gMTQgW2RlcHJlY2F0ZWQgPSB0cnVlXTtcbiAgICovXG4gIHB1Ymxpc2hlclJ0Y1N0YXRzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBydGNfc3RhdHMgPSAxNTtcbiAgICovXG4gIHJ0Y1N0YXRzOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBFbmNvZGUgc3RhdHMgZm9yIHRoZSBwdWJsaXNoZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZXJmb3JtYW5jZVN0YXRzIGVuY29kZV9zdGF0cyA9IDE2O1xuICAgKi9cbiAgZW5jb2RlU3RhdHM6IFBlcmZvcm1hbmNlU3RhdHNbXTtcbiAgLyoqXG4gICAqIERlY29kZSBzdGF0cyBmb3IgdGhlIHN1YnNjcmliZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZXJmb3JtYW5jZVN0YXRzIGRlY29kZV9zdGF0cyA9IDE3O1xuICAgKi9cbiAgZGVjb2RlU3RhdHM6IFBlcmZvcm1hbmNlU3RhdHNbXTtcbiAgLyoqXG4gICAqIHVzZXJfc2Vzc2lvbiBpZCBjYW4gY2hhbmdlIGR1cmluZyByZWNvbm5lY3RzLCB0aGlzIGhlbHBzIHVzIHRvXG4gICAqIGlkZW50aWZ5IHRoZSB1c2VyIGFjcm9zcyByZWNvbm5lY3RzIGFuZCBzaG91bGQgcmVtYWluIGNvbnNpc3RlbnQgdW50aWwgdGhlIHVzZXIgZXhwbGljaXRseVxuICAgKiBkaXNjb25uZWN0cywgaXMga2lja2VkIG9yIHRoZSBjYWxsIGlzIGVuZGVkLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1bmlmaWVkX3Nlc3Npb25faWQgPSAxODtcbiAgICovXG4gIHVuaWZpZWRTZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZW5kU3RhdHNSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gMTtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFUmVzdGFydFJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDE7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlID0gMjtcbiAgICovXG4gIHBlZXJUeXBlOiBQZWVyVHlwZTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFUmVzdGFydFJlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSAxO1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja011dGVTdGF0ZSBtdXRlX3N0YXRlcyA9IDM7XG4gICAqL1xuICBtdXRlU3RhdGVzOiBUcmFja011dGVTdGF0ZVtdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2Uge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5FcnJvciBlcnJvciA9IDQ7XG4gICAqL1xuICBlcnJvcj86IEVycm9yO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja011dGVTdGF0ZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrTXV0ZVN0YXRlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAxO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgbXV0ZWQgPSAyO1xuICAgKi9cbiAgbXV0ZWQ6IGJvb2xlYW47XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLkF1ZGlvTXV0ZUNoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb011dGVDaGFuZ2VkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCBtdXRlZCA9IDE7XG4gICAqL1xuICBtdXRlZDogYm9vbGVhbjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVmlkZW9NdXRlQ2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvTXV0ZUNoYW5nZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIG11dGVkID0gMjtcbiAgICovXG4gIG11dGVkOiBib29sZWFuO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyB0cmFja3MgPSAzO1xuICAgKi9cbiAgdHJhY2tzOiBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHNbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvcjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDM7XG4gICAqL1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVmlkZW9EaW1lbnNpb24gZGltZW5zaW9uID0gNDtcbiAgICovXG4gIGRpbWVuc2lvbj86IFZpZGVvRGltZW5zaW9uO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRBbnN3ZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlID0gMTtcbiAgICovXG4gIHBlZXJUeXBlOiBQZWVyVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDI7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAzO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNlbmRBbnN3ZXJSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIElDRVRyaWNrbGVSZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNldFB1Ymxpc2hlclJlcXVlc3RcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXRQdWJsaXNoZXJSZXF1ZXN0IHtcbiAgLyoqXG4gICAqIHNkcCBvZmZlclxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZHAgPSAxO1xuICAgKi9cbiAgc2RwOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja0luZm8gdHJhY2tzID0gMztcbiAgICovXG4gIHRyYWNrczogVHJhY2tJbmZvW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNldFB1Ymxpc2hlclJlc3BvbnNlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2V0UHVibGlzaGVyUmVzcG9uc2Uge1xuICAvKipcbiAgICogc2RwIGFuc3dlclxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZHAgPSAxO1xuICAgKi9cbiAgc2RwOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBib29sIGljZV9yZXN0YXJ0ID0gMztcbiAgICovXG4gIGljZVJlc3RhcnQ6IGJvb2xlYW47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkVycm9yIGVycm9yID0gNDtcbiAgICovXG4gIGVycm9yPzogRXJyb3I7XG59XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCA9XG4gIG5ldyBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UgPVxuICBuZXcgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCA9XG4gIG5ldyBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UgPVxuICBuZXcgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUmVjb25uZWN0aW9uJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxSZWNvbm5lY3Rpb24+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlJlY29ubmVjdGlvbicsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0aW1lX3NlY29uZHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMiAvKlNjYWxhclR5cGUuRkxPQVQqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnc3RyYXRlZ3knLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3knLFxuICAgICAgICAgIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxuICAgICAgICAgICdXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuUmVjb25uZWN0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBSZWNvbm5lY3Rpb24gPSBuZXcgUmVjb25uZWN0aW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFRlbGVtZXRyeSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VGVsZW1ldHJ5PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UZWxlbWV0cnknLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnY29ubmVjdGlvbl90aW1lX3NlY29uZHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgb25lb2Y6ICdkYXRhJyxcbiAgICAgICAgVDogMiAvKlNjYWxhclR5cGUuRkxPQVQqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAncmVjb25uZWN0aW9uJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2RhdGEnLFxuICAgICAgICBUOiAoKSA9PiBSZWNvbm5lY3Rpb24sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVGVsZW1ldHJ5XG4gKi9cbmV4cG9ydCBjb25zdCBUZWxlbWV0cnkgPSBuZXcgVGVsZW1ldHJ5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNlbmRTdGF0c1JlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNlbmRTdGF0c1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1JlcXVlc3QnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ3N1YnNjcmliZXJfc3RhdHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hlcl9zdGF0cycsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnd2VicnRjX3ZlcnNpb24nLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ3NkaycsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ3Nka192ZXJzaW9uJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDcsIG5hbWU6ICdhdWRpb19kZXZpY2VzJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBJbnB1dERldmljZXMgfSxcbiAgICAgIHsgbm86IDgsIG5hbWU6ICd2aWRlb19kZXZpY2VzJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBJbnB1dERldmljZXMgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDksXG4gICAgICAgIG5hbWU6ICdhbmRyb2lkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2RldmljZVN0YXRlJyxcbiAgICAgICAgVDogKCkgPT4gQW5kcm9pZFN0YXRlLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEwLFxuICAgICAgICBuYW1lOiAnYXBwbGUnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZGV2aWNlU3RhdGUnLFxuICAgICAgICBUOiAoKSA9PiBBcHBsZVN0YXRlLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDExLCBuYW1lOiAndGVsZW1ldHJ5Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBUZWxlbWV0cnkgfSxcbiAgICAgIHsgbm86IDEyLCBuYW1lOiAncnRtcCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUlRNUEluZ3Jlc3MgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEzLFxuICAgICAgICBuYW1lOiAnc3Vic2NyaWJlcl9ydGNfc3RhdHMnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTQsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoZXJfcnRjX3N0YXRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDE1LCBuYW1lOiAncnRjX3N0YXRzJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNixcbiAgICAgICAgbmFtZTogJ2VuY29kZV9zdGF0cycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQZXJmb3JtYW5jZVN0YXRzLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDE3LFxuICAgICAgICBuYW1lOiAnZGVjb2RlX3N0YXRzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFBlcmZvcm1hbmNlU3RhdHMsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTgsXG4gICAgICAgIG5hbWU6ICd1bmlmaWVkX3Nlc3Npb25faWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgU2VuZFN0YXRzUmVxdWVzdCA9IG5ldyBTZW5kU3RhdHNSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNlbmRTdGF0c1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZW5kU3RhdHNSZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kU3RhdHNSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU2VuZFN0YXRzUmVzcG9uc2UgPSBuZXcgU2VuZFN0YXRzUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFUmVzdGFydFJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVJlc3RhcnRSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAncGVlcl90eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlJywgUGVlclR5cGUsICdQRUVSX1RZUEVfJ10sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVJlc3RhcnRSZXF1ZXN0ID0gbmV3IElDRVJlc3RhcnRSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIElDRVJlc3RhcnRSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFUmVzdGFydFJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5JQ0VSZXN0YXJ0UmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVJlc3RhcnRSZXNwb25zZSA9IG5ldyBJQ0VSZXN0YXJ0UmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnbXV0ZV9zdGF0ZXMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tNdXRlU3RhdGUsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0ID0gbmV3IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnZXJyb3InLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IEVycm9yIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSA9IG5ldyBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tNdXRlU3RhdGUkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrTXV0ZVN0YXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja011dGVTdGF0ZScsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ211dGVkJywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tNdXRlU3RhdGVcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrTXV0ZVN0YXRlID0gbmV3IFRyYWNrTXV0ZVN0YXRlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEF1ZGlvTXV0ZUNoYW5nZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvTXV0ZUNoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLkF1ZGlvTXV0ZUNoYW5nZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbXV0ZWQnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5BdWRpb011dGVDaGFuZ2VkXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb011dGVDaGFuZ2VkID0gbmV3IEF1ZGlvTXV0ZUNoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVmlkZW9NdXRlQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9NdXRlQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVmlkZW9NdXRlQ2hhbmdlZCcsIFtcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtdXRlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlZpZGVvTXV0ZUNoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTXV0ZUNoYW5nZWQgPSBuZXcgVmlkZW9NdXRlQ2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0JywgW1xuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0cmFja3MnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0XG4gKi9cbmV4cG9ydCBjb25zdCBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCA9IG5ldyBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlJywgW1xuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2UgPVxuICBuZXcgVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5UcmFja1N1YnNjcmlwdGlvbkRldGFpbHMnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICd0cmFja190eXBlJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZScsXG4gICAgICAgICAgVHJhY2tUeXBlLFxuICAgICAgICAgICdUUkFDS19UWVBFXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ2RpbWVuc2lvbicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gVmlkZW9EaW1lbnNpb24gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1xuICovXG5leHBvcnQgY29uc3QgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzID0gbmV3IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZW5kQW5zd2VyUmVxdWVzdCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U2VuZEFuc3dlclJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXF1ZXN0JywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgU2VuZEFuc3dlclJlcXVlc3QgPSBuZXcgU2VuZEFuc3dlclJlcXVlc3QkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgU2VuZEFuc3dlclJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZW5kQW5zd2VyUmVzcG9uc2U+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdlcnJvcicsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gRXJyb3IgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRBbnN3ZXJSZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgU2VuZEFuc3dlclJlc3BvbnNlID0gbmV3IFNlbmRBbnN3ZXJSZXNwb25zZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBJQ0VUcmlja2xlUmVzcG9uc2UkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVRyaWNrbGVSZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlJywgW1xuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBJQ0VUcmlja2xlUmVzcG9uc2UgPSBuZXcgSUNFVHJpY2tsZVJlc3BvbnNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNldFB1Ymxpc2hlclJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFNldFB1Ymxpc2hlclJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNldFB1Ymxpc2hlclJlcXVlc3QnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2RwJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3RyYWNrcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja0luZm8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgU2V0UHVibGlzaGVyUmVxdWVzdCA9IG5ldyBTZXRQdWJsaXNoZXJSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNldFB1Ymxpc2hlclJlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZXRQdWJsaXNoZXJSZXNwb25zZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVzcG9uc2UnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnc2RwJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMywgbmFtZTogJ2ljZV9yZXN0YXJ0Jywga2luZDogJ3NjYWxhcicsIFQ6IDggLypTY2FsYXJUeXBlLkJPT0wqLyB9LFxuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2V0UHVibGlzaGVyUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGNvbnN0IFNldFB1Ymxpc2hlclJlc3BvbnNlID0gbmV3IFNldFB1Ymxpc2hlclJlc3BvbnNlJFR5cGUoKTtcbi8qKlxuICogQGdlbmVyYXRlZCBTZXJ2aWNlVHlwZSBmb3IgcHJvdG9idWYgc2VydmljZSBzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TaWduYWxTZXJ2ZXJcbiAqL1xuZXhwb3J0IGNvbnN0IFNpZ25hbFNlcnZlciA9IG5ldyBTZXJ2aWNlVHlwZShcbiAgJ3N0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNpZ25hbFNlcnZlcicsXG4gIFtcbiAgICB7XG4gICAgICBuYW1lOiAnU2V0UHVibGlzaGVyJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogU2V0UHVibGlzaGVyUmVxdWVzdCxcbiAgICAgIE86IFNldFB1Ymxpc2hlclJlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1NlbmRBbnN3ZXInLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBTZW5kQW5zd2VyUmVxdWVzdCxcbiAgICAgIE86IFNlbmRBbnN3ZXJSZXNwb25zZSxcbiAgICB9LFxuICAgIHsgbmFtZTogJ0ljZVRyaWNrbGUnLCBvcHRpb25zOiB7fSwgSTogSUNFVHJpY2tsZSwgTzogSUNFVHJpY2tsZVJlc3BvbnNlIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1VwZGF0ZVN1YnNjcmlwdGlvbnMnLFxuICAgICAgb3B0aW9uczoge30sXG4gICAgICBJOiBVcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCxcbiAgICAgIE86IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdVcGRhdGVNdXRlU3RhdGVzJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsXG4gICAgICBPOiBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnSWNlUmVzdGFydCcsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IElDRVJlc3RhcnRSZXF1ZXN0LFxuICAgICAgTzogSUNFUmVzdGFydFJlc3BvbnNlLFxuICAgIH0sXG4gICAge1xuICAgICAgbmFtZTogJ1NlbmRTdGF0cycsXG4gICAgICBvcHRpb25zOiB7fSxcbiAgICAgIEk6IFNlbmRTdGF0c1JlcXVlc3QsXG4gICAgICBPOiBTZW5kU3RhdHNSZXNwb25zZSxcbiAgICB9LFxuICAgIHtcbiAgICAgIG5hbWU6ICdTdGFydE5vaXNlQ2FuY2VsbGF0aW9uJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgICBPOiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UsXG4gICAgfSxcbiAgICB7XG4gICAgICBuYW1lOiAnU3RvcE5vaXNlQ2FuY2VsbGF0aW9uJyxcbiAgICAgIG9wdGlvbnM6IHt9LFxuICAgICAgSTogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICAgIE86IFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlLFxuICAgIH0sXG4gIF0sXG4pO1xuIiwiLy8gQGdlbmVyYXRlZCBieSBwcm90b2J1Zi10cyAyLjEwLjAgd2l0aCBwYXJhbWV0ZXIgbG9uZ190eXBlX3N0cmluZyxjbGllbnRfZ2VuZXJpYyxzZXJ2ZXJfbm9uZSxlc2xpbnRfZGlzYWJsZSxvcHRpbWl6ZV9jb2RlX3NpemVcbi8vIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWxlIFwidmlkZW8vc2Z1L2V2ZW50L2V2ZW50cy5wcm90b1wiIChwYWNrYWdlIFwic3RyZWFtLnZpZGVvLnNmdS5ldmVudFwiLCBzeW50YXggcHJvdG8zKVxuLy8gdHNsaW50OmRpc2FibGVcbmltcG9ydCB7IE1lc3NhZ2VUeXBlIH0gZnJvbSAnQHByb3RvYnVmLXRzL3J1bnRpbWUnO1xuaW1wb3J0IHtcbiAgQ2FsbEVuZGVkUmVhc29uLFxuICBDYWxsR3JhbnRzLFxuICBDYWxsU3RhdGUsXG4gIENsaWVudERldGFpbHMsXG4gIENvZGVjLFxuICBDb25uZWN0aW9uUXVhbGl0eSxcbiAgRXJyb3IgYXMgRXJyb3IkLFxuICBHb0F3YXlSZWFzb24sXG4gIElDRVRyaWNrbGUgYXMgSUNFVHJpY2tsZSQsXG4gIFBhcnRpY2lwYW50LFxuICBQYXJ0aWNpcGFudENvdW50LFxuICBQZWVyVHlwZSxcbiAgUGluLFxuICBQdWJsaXNoT3B0aW9uLFxuICBTdWJzY3JpYmVPcHRpb24sXG4gIFRyYWNrSW5mbyxcbiAgVHJhY2tUeXBlLFxuICBUcmFja1VucHVibGlzaFJlYXNvbixcbiAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG59IGZyb20gJy4uL21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIH0gZnJvbSAnLi4vc2lnbmFsX3JwYy9zaWduYWwnO1xuXG4vKipcbiAqIFNGVUV2ZW50IGlzIGEgbWVzc2FnZSB0aGF0IGlzIHNlbnQgZnJvbSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVFdmVudFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNmdUV2ZW50IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBvbmVvZjogZXZlbnRfcGF5bG9hZFxuICAgKi9cbiAgZXZlbnRQYXlsb2FkOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdzdWJzY3JpYmVyT2ZmZXInO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3Vic2NyaWJlck9mZmVyIHNlbmRzIHRoZSBTRFAgb2ZmZXIgZm9yIGVzdGFibGlzaGluZyB0aGVcbiAgICAgICAgICogc3Vic2NyaWJlciBQZWVyQ29ubmVjdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlciBzdWJzY3JpYmVyX29mZmVyID0gMTtcbiAgICAgICAgICovXG4gICAgICAgIHN1YnNjcmliZXJPZmZlcjogU3Vic2NyaWJlck9mZmVyO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwdWJsaXNoZXJBbnN3ZXInO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHVibGlzaGVyQW5zd2VyIHNlbmRzIHRoZSBTRFAgYW5zd2VyIHRvIHRoZSBvZmZlciBzZW50IGJ5XG4gICAgICAgICAqIHRoZSBjbGllbnQgZm9yIGVzdGFibGlzaGluZyB0aGUgUHVibGlzaGVyIFBlZXJDb25uZWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUHVibGlzaGVyQW5zd2VyIHB1Ymxpc2hlcl9hbnN3ZXIgPSAyO1xuICAgICAgICAgKi9cbiAgICAgICAgcHVibGlzaGVyQW5zd2VyOiBQdWJsaXNoZXJBbnN3ZXI7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2Nvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQgaXMgc2VudCB0byBpbmZvcm0gdGhlIGNvbm5lY3Rpb25cbiAgICAgICAgICogcXVhbGl0eSBvZiB0aGUgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLiBJdCBkb2VzIG5vdCBoYXZlXG4gICAgICAgICAqIHRvIGNvbnRhaW4gdGhlIGZ1bGwgbGlzdCBvZiBjYWxsIHBhcnRpY2lwYW50cyBpbiBpdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCBjb25uZWN0aW9uX3F1YWxpdHlfY2hhbmdlZCA9IDM7XG4gICAgICAgICAqL1xuICAgICAgICBjb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQ6IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnYXVkaW9MZXZlbENoYW5nZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXVkaW9MZXZlbENoYW5nZWQgaXMgc2VudCBmb3IgY2hhbmdlIGluIGF1ZGlvIGxldmVscyBvZlxuICAgICAgICAgKiB0aGUgcGFydGljaXBhbnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWQgYXVkaW9fbGV2ZWxfY2hhbmdlZCA9IDQ7XG4gICAgICAgICAqL1xuICAgICAgICBhdWRpb0xldmVsQ2hhbmdlZDogQXVkaW9MZXZlbENoYW5nZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2ljZVRyaWNrbGUnO1xuICAgICAgICAvKipcbiAgICAgICAgICogSUNFVHJpY2tsZSBjb250YWlucyB0aGUgSUNFIGNhbmRpZGF0ZSByZXF1aXJlZCB0byBlc3RhYmxpc2hcbiAgICAgICAgICogdGhlIElDRSB0cmFuc3BvcnQ6IHBhcnQgb2YgZXN0YWJsaXNoaW5nIHRoZSBQZWVyQ29ubmVjdGlvblxuICAgICAgICAgKiBhbmQgYWxzbyBmb3IgSUNFIHJlc3RhcnRzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUgaWNlX3RyaWNrbGUgPSA1O1xuICAgICAgICAgKi9cbiAgICAgICAgaWNlVHJpY2tsZTogSUNFVHJpY2tsZSQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2NoYW5nZVB1Ymxpc2hRdWFsaXR5JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoYW5nZVB1Ymxpc2hRdWFsaXR5IGFkdmlzZXMgdGhlIHB1Ymxpc2hlciB0byBzd2l0Y2ggb24vb2ZmXG4gICAgICAgICAqIHZhcmlvdXMgcXVhbGl0aWVzIG9mIHRoZWlyIHZpZGVvIHN0cmVhbSBiYXNlZCBvbiB0aGUgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgKiBUaGlzIGlzIGRvbmUgdG8gc2F2ZSB0aGUgYmFuZHdpZHRoIGFuZCB0aGUgQ1BVIG9mIHRoZSBwdWJsaXNoZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eSBjaGFuZ2VfcHVibGlzaF9xdWFsaXR5ID0gNjtcbiAgICAgICAgICovXG4gICAgICAgIGNoYW5nZVB1Ymxpc2hRdWFsaXR5OiBDaGFuZ2VQdWJsaXNoUXVhbGl0eTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRKb2luZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFydGljaXBhbnRKb2luZWQgbm90aWZpZXMgdGhlIGNsaWVudCB0aGF0IGEgbmV3IHBhcnRpY2lwYW50XG4gICAgICAgICAqIGhhcyBqb2luZWQgdGhlIGNhbGwuIFRoaXMgaXMgbm90IHNlbnQgZm9yIGFub255bW91cyB1c2Vycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50Sm9pbmVkIHBhcnRpY2lwYW50X2pvaW5lZCA9IDEwO1xuICAgICAgICAgKi9cbiAgICAgICAgcGFydGljaXBhbnRKb2luZWQ6IFBhcnRpY2lwYW50Sm9pbmVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdwYXJ0aWNpcGFudExlZnQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGFydGljaXBhbnRMZWZ0IG5vdGlmaWVzIHRoZSBjbGllbnQgdGhhdCBhIGNhbGwgcGFydGljaXBhbnRcbiAgICAgICAgICogaGFzIGxlZnQgdGhlIGNhbGwuIFRoaXMgaXMgbm90IHNlbnQgZm9yIGFub255bW91cyB1c2Vycy5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdCBwYXJ0aWNpcGFudF9sZWZ0ID0gMTE7XG4gICAgICAgICAqL1xuICAgICAgICBwYXJ0aWNpcGFudExlZnQ6IFBhcnRpY2lwYW50TGVmdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnZG9taW5hbnRTcGVha2VyQ2hhbmdlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkIG5vdGlmaWVzIHRoZSBjbGllbnQgYWJvdXQgdGhlIGN1cnJlbnRcbiAgICAgICAgICogZG9taW5hbnQgc3BlYWtlci4gVGhpcyBpcyByZXF1aXJlZCBmb3IgY2VydGFpbiB1c2UgY2FzZXMgbGlrZVxuICAgICAgICAgKiB0aGUgc3BvdGxpZ2h0IHZpZXcuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Eb21pbmFudFNwZWFrZXJDaGFuZ2VkIGRvbWluYW50X3NwZWFrZXJfY2hhbmdlZCA9IDEyO1xuICAgICAgICAgKi9cbiAgICAgICAgZG9taW5hbnRTcGVha2VyQ2hhbmdlZDogRG9taW5hbnRTcGVha2VyQ2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnam9pblJlc3BvbnNlJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEpvaW5SZXNwb25zZSBhY2tub3dsZWRnZXMgYSBwYXJ0aWNpcGFudCBzdWNjZXNzZnVsbHkgam9pbmluZ1xuICAgICAgICAgKiB0aGUgY2FsbC4gVGhpcyBpcyBzZW50IGluIHJlc3BvbnNlIHRvIHRoZSBKb2luUmVxdWVzdC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZSBqb2luX3Jlc3BvbnNlID0gMTM7XG4gICAgICAgICAqL1xuICAgICAgICBqb2luUmVzcG9uc2U6IEpvaW5SZXNwb25zZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaGVhbHRoQ2hlY2tSZXNwb25zZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIZWFsdGhDaGVja1Jlc3BvbnNlIGlzIHNlbnQgaW4gcmVzcG9uc2UgdG8gdGhlIEhlYWx0aENoZWNrUmVxdWVzdC5cbiAgICAgICAgICogSXQgY29udGFpbnMgdGhlIHBhcnRpY2lwYW50IGNvdW50IGluIHRoZSBjYWxsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSGVhbHRoQ2hlY2tSZXNwb25zZSBoZWFsdGhfY2hlY2tfcmVzcG9uc2UgPSAxNDtcbiAgICAgICAgICovXG4gICAgICAgIGhlYWx0aENoZWNrUmVzcG9uc2U6IEhlYWx0aENoZWNrUmVzcG9uc2U7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3RyYWNrUHVibGlzaGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRyYWNrUHVibGlzaGVkIGlzIHNlbnQgd2hlbiBhIG5ldyB0cmFjayAobGlrZSBhdWRpbywgdmlkZW8sIHNjcmVlbnNoYXJlKVxuICAgICAgICAgKiBpcyBwdWJsaXNoZWQgYnkgYSBwYXJ0aWNpcGFudCBpbiB0aGUgY2FsbC4gSXQgaXMgYWxzbyBzZW50IG9uIG11dGUvdW5tdXRlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWQgdHJhY2tfcHVibGlzaGVkID0gMTY7XG4gICAgICAgICAqL1xuICAgICAgICB0cmFja1B1Ymxpc2hlZDogVHJhY2tQdWJsaXNoZWQ7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ3RyYWNrVW5wdWJsaXNoZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhY2tVbnB1Ymxpc2hlZCBpcyBzZW50IHdoZW4gYSB0cmFjayAobGlrZSBhdWRpbywgdmlkZW8sIHNjcmVlbnNoYXJlKVxuICAgICAgICAgKiBpcyBubyBsb25nZXIgcHVibGlzaGVkLiBJdCBpcyBzZW50IG9uIG11dGluZyBhIHRyYWNrIG9yIHdoZW4gdGhlIHBhcnRpY2lwYW50XG4gICAgICAgICAqIGlzIGxlYXZpbmcgdGhlIGNhbGwuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkIHRyYWNrX3VucHVibGlzaGVkID0gMTc7XG4gICAgICAgICAqL1xuICAgICAgICB0cmFja1VucHVibGlzaGVkOiBUcmFja1VucHVibGlzaGVkO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdlcnJvcic7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFcnJvciBpcyB1c2VkIHRvIGNvbW11bmljYXRlIGFueSBlcnJvciByZWxhdGVkIHRvIHRoZSBwYXJ0aWNpcGFudC4gVGhlXG4gICAgICAgICAqIGVycm9yIGNvZGUgYW5kIHRoZSBtZXNzYWdlIGV4cGxhaW4gd2hhdCB3ZW50IHdyb25nLiBXaGV0aGVyIHRoZSBwYXJ0aWNpcGFudFxuICAgICAgICAgKiBjYW4gcmV0cnkgaXMgYWxzbyBpbmRpY2F0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvciBlcnJvciA9IDE4O1xuICAgICAgICAgKi9cbiAgICAgICAgZXJyb3I6IEVycm9yO1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdjYWxsR3JhbnRzVXBkYXRlZCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsR3JhbnRzVXBkYXRlZCB0ZWxscyB3aGF0IHRyYWNrcyBhIHBhcnRpY2lwYW50IGlzIGFsbG93ZWQgdG8gcHVibGlzaC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkIGNhbGxfZ3JhbnRzX3VwZGF0ZWQgPSAxOTtcbiAgICAgICAgICovXG4gICAgICAgIGNhbGxHcmFudHNVcGRhdGVkOiBDYWxsR3JhbnRzVXBkYXRlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnZ29Bd2F5JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdvQXdheSB0ZWxscyB0aGUgY2xpZW50IHRvIG1pZ3JhdGUgYXdheSBmcm9tIHRoZSBTRlUgaXQgaXMgY29ubmVjdGVkIHRvLlxuICAgICAgICAgKiBUaGUgcmVhc29uIGZpZWxkIGluZGljYXRlcyB3aHkgdGhpcyBtZXNzYWdlIHdhcyBzZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuR29Bd2F5IGdvX2F3YXkgPSAyMDtcbiAgICAgICAgICovXG4gICAgICAgIGdvQXdheTogR29Bd2F5O1xuICAgICAgfVxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdpY2VSZXN0YXJ0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElDRVJlc3RhcnQgdGVsbHMgdGhlIGNsaWVudCB0byBwZXJmb3JtIElDRSByZXN0YXJ0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydCBpY2VfcmVzdGFydCA9IDIxO1xuICAgICAgICAgKi9cbiAgICAgICAgaWNlUmVzdGFydDogSUNFUmVzdGFydDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGluc1VwZGF0ZWQnO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGluc0NoYW5nZWQgaXMgc2VudCB0aGUgbGlzdCBvZiBwaW5zIGluIHRoZSBjYWxsIGNoYW5nZXMuIFRoaXMgZXZlbnQgY29udGFpbnMgdGhlIGVudGlyZSBsaXN0IG9mIHBpbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZCBwaW5zX3VwZGF0ZWQgPSAyMjtcbiAgICAgICAgICovXG4gICAgICAgIHBpbnNVcGRhdGVkOiBQaW5zQ2hhbmdlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY2FsbEVuZGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxFbmRlZCBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gdGhlIGNsaWVudCB0byBzaWduYWwgdGhhdCB0aGUgY2FsbCBoYXMgZW5kZWQuXG4gICAgICAgICAqIFRoZSByZWFzb24gbWF5IHNwZWNpZnkgd2h5IHRoZSBjYWxsIGhhcyBlbmRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZCBjYWxsX2VuZGVkID0gMjM7XG4gICAgICAgICAqL1xuICAgICAgICBjYWxsRW5kZWQ6IENhbGxFbmRlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRVcGRhdGVkJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcnRpY2lwYW50VXBkYXRlZCBpcyBzZW50IHdoZW4gdXNlciBkYXRhIGlzIHVwZGF0ZWRcbiAgICAgICAgICpcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50VXBkYXRlZCBwYXJ0aWNpcGFudF91cGRhdGVkID0gMjQ7XG4gICAgICAgICAqL1xuICAgICAgICBwYXJ0aWNpcGFudFVwZGF0ZWQ6IFBhcnRpY2lwYW50VXBkYXRlZDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAncGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIGlzIHNlbnQgd2hlbiB0aGUgcGFydGljaXBhbnQgbWlncmF0aW9uIGlzIGNvbXBsZXRlXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIHBhcnRpY2lwYW50X21pZ3JhdGlvbl9jb21wbGV0ZSA9IDI1O1xuICAgICAgICAgKi9cbiAgICAgICAgcGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZTogUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZTtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnY2hhbmdlUHVibGlzaE9wdGlvbnMnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2hhbmdlUHVibGlzaE9wdGlvbnMgaXMgc2VudCB0byBzaWduYWwgdGhlIGNoYW5nZSBpbiBwdWJsaXNoIG9wdGlvbnMgc3VjaCBhcyBhIG5ldyBjb2RlYyBvciBzaW11bGNhc3QgbGF5ZXJzXG4gICAgICAgICAqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoT3B0aW9ucyBjaGFuZ2VfcHVibGlzaF9vcHRpb25zID0gMjc7XG4gICAgICAgICAqL1xuICAgICAgICBjaGFuZ2VQdWJsaXNoT3B0aW9uczogQ2hhbmdlUHVibGlzaE9wdGlvbnM7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogdW5kZWZpbmVkO1xuICAgICAgfTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoT3B0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5nZVB1Ymxpc2hPcHRpb25zIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUHVibGlzaE9wdGlvbiBwdWJsaXNoX29wdGlvbnMgPSAxO1xuICAgKi9cbiAgcHVibGlzaE9wdGlvbnM6IFB1Ymxpc2hPcHRpb25bXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHJlYXNvbiA9IDI7XG4gICAqL1xuICByZWFzb246IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2hhbmdlUHVibGlzaE9wdGlvbnNDb21wbGV0ZSB7fVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIHt9XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGluc0NoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQaW5zQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiB0aGUgbGlzdCBvZiBwaW5zIGluIHRoZSBjYWxsLlxuICAgKiBQaW5zIGFyZSBvcmRlcmVkIGluIGRlc2NlbmRpbmcgb3JkZXIgKG1vc3QgaW1wb3J0YW50IGZpcnN0KS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QaW4gcGlucyA9IDE7XG4gICAqL1xuICBwaW5zOiBQaW5bXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEVycm9yIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuRXJyb3IgZXJyb3IgPSA0O1xuICAgKi9cbiAgZXJyb3I/OiBFcnJvciQ7XG4gIC8qKlxuICAgKiByZXR1cm5zIHRoZSByZWNvbm5lY3Qgc3RyYXRlZ3kgdG8gYmUgdXNlZCBieSB0aGUgY2xpZW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kgcmVjb25uZWN0X3N0cmF0ZWd5ID0gNTtcbiAgICovXG4gIHJlY29ubmVjdFN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VUcmlja2xlXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSUNFVHJpY2tsZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBlZXJUeXBlIHBlZXJfdHlwZSA9IDE7XG4gICAqL1xuICBwZWVyVHlwZTogUGVlclR5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBpY2VfY2FuZGlkYXRlID0gMjtcbiAgICovXG4gIGljZUNhbmRpZGF0ZTogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBJQ0VSZXN0YXJ0IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUgcGVlcl90eXBlID0gMTtcbiAgICovXG4gIHBlZXJUeXBlOiBQZWVyVHlwZTtcbn1cbi8qKlxuICogU2Z1UmVxdWVzdCBpcyBhIG1lc3NhZ2UgdGhhdCBpcyBzZW50IGZyb20gdGhlIGNsaWVudCB0byB0aGUgU0ZVLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1UmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNmdVJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG9uZW9mOiByZXF1ZXN0X3BheWxvYWRcbiAgICovXG4gIHJlcXVlc3RQYXlsb2FkOlxuICAgIHwge1xuICAgICAgICBvbmVvZktpbmQ6ICdqb2luUmVxdWVzdCc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlcXVlc3Qgam9pbl9yZXF1ZXN0ID0gMTtcbiAgICAgICAgICovXG4gICAgICAgIGpvaW5SZXF1ZXN0OiBKb2luUmVxdWVzdDtcbiAgICAgIH1cbiAgICB8IHtcbiAgICAgICAgb25lb2ZLaW5kOiAnaGVhbHRoQ2hlY2tSZXF1ZXN0JztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3QgaGVhbHRoX2NoZWNrX3JlcXVlc3QgPSAyO1xuICAgICAgICAgKi9cbiAgICAgICAgaGVhbHRoQ2hlY2tSZXF1ZXN0OiBIZWFsdGhDaGVja1JlcXVlc3Q7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogJ2xlYXZlQ2FsbFJlcXVlc3QnO1xuICAgICAgICAvKipcbiAgICAgICAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkxlYXZlQ2FsbFJlcXVlc3QgbGVhdmVfY2FsbF9yZXF1ZXN0ID0gMztcbiAgICAgICAgICovXG4gICAgICAgIGxlYXZlQ2FsbFJlcXVlc3Q6IExlYXZlQ2FsbFJlcXVlc3Q7XG4gICAgICB9XG4gICAgfCB7XG4gICAgICAgIG9uZW9mS2luZDogdW5kZWZpbmVkO1xuICAgICAgfTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5MZWF2ZUNhbGxSZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgTGVhdmVDYWxsUmVxdWVzdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMTtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcmVhc29uID0gMjtcbiAgICovXG4gIHJlYXNvbjogc3RyaW5nO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEhlYWx0aENoZWNrUmVxdWVzdCB7fVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVzcG9uc2VcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBIZWFsdGhDaGVja1Jlc3BvbnNlIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGFydGljaXBhbnRDb3VudCBwYXJ0aWNpcGFudF9jb3VudCA9IDE7XG4gICAqL1xuICBwYXJ0aWNpcGFudENvdW50PzogUGFydGljaXBhbnRDb3VudDtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1B1Ymxpc2hlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrUHVibGlzaGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHlwZSA9IDM7XG4gICAqL1xuICB0eXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBQYXJ0aWNpcGFudCBpbmZvcm1hdGlvbiBoZXJlIGlzIGluY2x1ZGVkIGFzIGFuIG9wdGltaXNhdGlvblxuICAgKiBmb3IgbGFyZ2UgY2FsbHMgd2hlcmUgYnJvYWRjYXN0aW5nIG9uIGV2ZXJ5IHBhcnRpY2lwYW50IGpvaW5cbiAgICogaXMgZXhwZW5zaXZlLiBZb3Ugc2hvdWxkICoqTk9UKiogYXNzdW1lIHRoYXQgdGhpcyB3aWxsIGFsd2F5c1xuICAgKiBiZSBhdmFpbGFibGUgdGhvdWdoIHlvdSBjYW4gdXNlIGl0IHRvIHVwZGF0ZSB0aGUgcGFydGljaXBhbnRcbiAgICogbGlzdCB3aGVuIGl0IGlzIHRoZXJlLlxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gNDtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tVbnB1Ymxpc2hlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyYWNrVW5wdWJsaXNoZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdXNlcl9pZCA9IDE7XG4gICAqL1xuICB1c2VySWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrVHlwZSB0eXBlID0gMztcbiAgICovXG4gIHR5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tVbnB1Ymxpc2hSZWFzb24gY2F1c2UgPSA0O1xuICAgKi9cbiAgY2F1c2U6IFRyYWNrVW5wdWJsaXNoUmVhc29uO1xuICAvKipcbiAgICogUGFydGljaXBhbnQgaW5mb3JtYXRpb24gaGVyZSBpcyBpbmNsdWRlZCBhcyBhbiBvcHRpbWlzYXRpb25cbiAgICogZm9yIGxhcmdlIGNhbGxzIHdoZXJlIGJyb2FkY2FzdGluZyBvbiBldmVyeSBwYXJ0aWNpcGFudCBqb2luXG4gICAqIGlzIGV4cGVuc2l2ZS4gWW91IHNob3VsZCAqKk5PVCoqIGFzc3VtZSB0aGF0IHRoaXMgd2lsbCBhbHdheXNcbiAgICogYmUgYXZhaWxhYmxlIHRob3VnaCB5b3UgY2FuIHVzZSBpdCB0byB1cGRhdGUgdGhlIHBhcnRpY2lwYW50XG4gICAqIGxpc3Qgd2hlbiBpdCBpcyB0aGVyZS5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDU7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXF1ZXN0XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSm9pblJlcXVlc3Qge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgdG9rZW4gPSAxO1xuICAgKi9cbiAgdG9rZW46IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNlc3Npb25faWQgPSAyO1xuICAgKi9cbiAgc2Vzc2lvbklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBkdW1iIFNEUCB0aGF0IGFsbG93IHVzIHRvIGV4dHJhY3Qgc3Vic2NyaWJlcidzIGRlY29kZSBjb2RlY3NcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc3Vic2NyaWJlcl9zZHAgPSAzO1xuICAgKi9cbiAgc3Vic2NyaWJlclNkcDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgcHVibGlzaGVyX3NkcCA9IDg7XG4gICAqL1xuICBwdWJsaXNoZXJTZHA6IHN0cmluZztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2xpZW50RGV0YWlscyBjbGllbnRfZGV0YWlscyA9IDQ7XG4gICAqL1xuICBjbGllbnREZXRhaWxzPzogQ2xpZW50RGV0YWlscztcbiAgLyoqXG4gICAqIERlcHJlY2F0ZWQ6IHVzZSBSZWNvbm5lY3REZXRhaWxzIGluc3RlYWRcbiAgICpcbiAgICogQGRlcHJlY2F0ZWRcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50Lk1pZ3JhdGlvbiBtaWdyYXRpb24gPSA1IFtkZXByZWNhdGVkID0gdHJ1ZV07XG4gICAqL1xuICBtaWdyYXRpb24/OiBNaWdyYXRpb247XG4gIC8qKlxuICAgKiBGYXN0IHJlY29ubmVjdCBmbGFnIGV4cGxpY2l0bHkgaW5kaWNhdGVzIHRoYXQgaWYgdGhlIHBhcnRpY2lwYW50IHNlc3Npb25cbiAgICogYW5kIHRoZSBhc3NvY2lhdGVkIHN0YXRlIGlzIHN0aWxsIHByZXNlbnQgaW4gdGhlIFNGVSwgdGhlIGNsaWVudCBpcyByZWFkeVxuICAgKiB0byByZXN0b3JlIHRoZSBQZWVyQ29ubmVjdGlvbiB3aXRoIGFuIElDRSByZXN0YXJ0LiBJZiB0aGUgU0ZVIHJlcGxpZXMgd2l0aFxuICAgKiBcInJlY29ubmVjdGVkOiB0cnVlXCIgaW4gaXRzIEpvaW5SZXNwb25zZSwgdGhlbiBpdCBpcyBzYWZlIHRvIHBlcmZvcm0gYW4gSUNFXG4gICAqIHJlc3RhcnQgb3IgZWxzZSB0aGUgZXhpc3RpbmcgUGVlckNvbm5lY3Rpb25zIG11c3QgYmUgY2xlYW5lZCB1cC5cbiAgICpcbiAgICogRm9yIHRoZSBTRlUsIGZhc3RfcmVjb25uZWN0OmZhbHNlIGluZGljYXRlcyB0aGF0IGV2ZW4gaWYgaXQgaGFzIHRoZSBzdGF0ZVxuICAgKiBjYWNoZWQsIHRoZSBjbGllbnQgc3RhdGUgaXMgbm90IGluIHN5bmMgYW5kIGhlbmNlIGl0IG11c3QgYmUgY2xlYW5lZCB1cCBiZWZvcmVcbiAgICogcHJvY2VlZGluZyBmdXJ0aGVyLlxuICAgKlxuICAgKiBAZGVwcmVjYXRlZFxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgZmFzdF9yZWNvbm5lY3QgPSA2IFtkZXByZWNhdGVkID0gdHJ1ZV07XG4gICAqL1xuICBmYXN0UmVjb25uZWN0OiBib29sZWFuO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlJlY29ubmVjdERldGFpbHMgcmVjb25uZWN0X2RldGFpbHMgPSA3O1xuICAgKi9cbiAgcmVjb25uZWN0RGV0YWlscz86IFJlY29ubmVjdERldGFpbHM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlB1Ymxpc2hPcHRpb24gcHJlZmVycmVkX3B1Ymxpc2hfb3B0aW9ucyA9IDk7XG4gICAqL1xuICBwcmVmZXJyZWRQdWJsaXNoT3B0aW9uczogUHVibGlzaE9wdGlvbltdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiByZXBlYXRlZCBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5TdWJzY3JpYmVPcHRpb24gcHJlZmVycmVkX3N1YnNjcmliZV9vcHRpb25zID0gMTA7XG4gICAqL1xuICBwcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zOiBTdWJzY3JpYmVPcHRpb25bXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5SZWNvbm5lY3REZXRhaWxzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb25uZWN0RGV0YWlscyB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLldlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5IHN0cmF0ZWd5ID0gMTtcbiAgICovXG4gIHN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tJbmZvIGFubm91bmNlZF90cmFja3MgPSAzO1xuICAgKi9cbiAgYW5ub3VuY2VkVHJhY2tzOiBUcmFja0luZm9bXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzIHN1YnNjcmlwdGlvbnMgPSA0O1xuICAgKi9cbiAgc3Vic2NyaXB0aW9uczogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiByZWNvbm5lY3RfYXR0ZW1wdCA9IDU7XG4gICAqL1xuICByZWNvbm5lY3RBdHRlbXB0OiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBmcm9tX3NmdV9pZCA9IDY7XG4gICAqL1xuICBmcm9tU2Z1SWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIG9ubHkgc2V0IGluIGNhc2Ugb2YgcmVqb2luXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHByZXZpb3VzX3Nlc3Npb25faWQgPSA3O1xuICAgKi9cbiAgcHJldmlvdXNTZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIHRoZSByZWNvbm5lY3QgcmVhc29uXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHJlYXNvbiA9IDg7XG4gICAqL1xuICByZWFzb246IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5NaWdyYXRpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBNaWdyYXRpb24ge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgZnJvbV9zZnVfaWQgPSAxO1xuICAgKi9cbiAgZnJvbVNmdUlkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlRyYWNrSW5mbyBhbm5vdW5jZWRfdHJhY2tzID0gMjtcbiAgICovXG4gIGFubm91bmNlZFRyYWNrczogVHJhY2tJbmZvW107XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyBzdWJzY3JpcHRpb25zID0gMztcbiAgICovXG4gIHN1YnNjcmlwdGlvbnM6IFRyYWNrU3Vic2NyaXB0aW9uRGV0YWlsc1tdO1xufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpvaW5SZXNwb25zZSB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxTdGF0ZSBjYWxsX3N0YXRlID0gMTtcbiAgICovXG4gIGNhbGxTdGF0ZT86IENhbGxTdGF0ZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogYm9vbCByZWNvbm5lY3RlZCA9IDI7XG4gICAqL1xuICByZWNvbm5lY3RlZDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgZmFzdF9yZWNvbm5lY3RfZGVhZGxpbmVfc2Vjb25kcyA9IDM7XG4gICAqL1xuICBmYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlB1Ymxpc2hPcHRpb24gcHVibGlzaF9vcHRpb25zID0gNDtcbiAgICovXG4gIHB1Ymxpc2hPcHRpb25zOiBQdWJsaXNoT3B0aW9uW107XG59XG4vKipcbiAqIFBhcnRpY2lwYW50Sm9pbmVkIGlzIGZpcmVkIHdoZW4gYSB1c2VyIGpvaW5zIGEgY2FsbFxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRKb2luZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudEpvaW5lZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjYWxsX2NpZCA9IDE7XG4gICAqL1xuICBjYWxsQ2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gMjtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIFBhcnRpY2lwYW50Sm9pbmVkIGlzIGZpcmVkIHdoZW4gYSB1c2VyIGxlYXZlcyBhIGNhbGxcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFBhcnRpY2lwYW50TGVmdCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBjYWxsX2NpZCA9IDE7XG4gICAqL1xuICBjYWxsQ2lkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLlBhcnRpY2lwYW50IHBhcnRpY2lwYW50ID0gMjtcbiAgICovXG4gIHBhcnRpY2lwYW50PzogUGFydGljaXBhbnQ7XG59XG4vKipcbiAqIFBhcnRpY2lwYW50VXBkYXRlZCBpcyBmaXJlZCB3aGVuIHVzZXIgZGF0YSBpcyB1cGRhdGVkXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudFVwZGF0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0aWNpcGFudFVwZGF0ZWQge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgY2FsbF9jaWQgPSAxO1xuICAgKi9cbiAgY2FsbENpZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QYXJ0aWNpcGFudCBwYXJ0aWNpcGFudCA9IDI7XG4gICAqL1xuICBwYXJ0aWNpcGFudD86IFBhcnRpY2lwYW50O1xufVxuLyoqXG4gKiBTdWJzY3JpYmVyT2ZmZXIgaXMgc2VudCB3aGVuIHRoZSBTRlUgYWRkcyB0cmFja3MgdG8gYSBzdWJzY3JpcHRpb25cbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN1YnNjcmliZXJPZmZlciB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaWNlX3Jlc3RhcnQgPSAxO1xuICAgKi9cbiAgaWNlUmVzdGFydDogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHNkcCA9IDI7XG4gICAqL1xuICBzZHA6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QdWJsaXNoZXJBbnN3ZXJcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQdWJsaXNoZXJBbnN3ZXIge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2RwID0gMTtcbiAgICovXG4gIHNkcDogc3RyaW5nO1xufVxuLyoqXG4gKiBDb25uZWN0aW9uUXVhbGl0eSBpcyBzZW50IHRvIGluZm9ybSBhYm91dCBjb25uZWN0aW9uIHF1YWxpdHkgY2hhbmdlc1xuICogZWcuIHRoaWVycnkncyBjb25uZWN0aW9uIGlzIG5vdCBnb29kIC0+IHJlbmRlciBhIHJlZCBpY29uIFpvb20gc3R5bGVcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZFxuICovXG5leHBvcnQgaW50ZXJmYWNlIENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlJbmZvIGNvbm5lY3Rpb25fcXVhbGl0eV91cGRhdGVzID0gMTtcbiAgICovXG4gIGNvbm5lY3Rpb25RdWFsaXR5VXBkYXRlczogQ29ubmVjdGlvblF1YWxpdHlJbmZvW107XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlJbmZvXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29ubmVjdGlvblF1YWxpdHlJbmZvIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyaW5nIHVzZXJfaWQgPSAxO1xuICAgKi9cbiAgdXNlcklkOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBzZXNzaW9uX2lkID0gMjtcbiAgICovXG4gIHNlc3Npb25JZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Db25uZWN0aW9uUXVhbGl0eSBjb25uZWN0aW9uX3F1YWxpdHkgPSAzO1xuICAgKi9cbiAgY29ubmVjdGlvblF1YWxpdHk6IENvbm5lY3Rpb25RdWFsaXR5O1xufVxuLyoqXG4gKiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkIGlzIHNlbnQgYnkgdGhlIFNGVSB0byBub3RpZnkgd2hlbiB0aGVyZSBpcyBhIG5ldyBkb21pbmFudCBzcGVha2VyIGluIHRoZSBjYWxsXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Eb21pbmFudFNwZWFrZXJDaGFuZ2VkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaW9MZXZlbCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyB1c2VyX2lkID0gMTtcbiAgICovXG4gIHVzZXJJZDogc3RyaW5nO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2Vzc2lvbl9pZCA9IDI7XG4gICAqL1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgLyoqXG4gICAqIDAuMCBtZWFucyBjb21wbGV0ZSBzaWxlbmNlLCAxLjAgbG91ZGVzdFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGZsb2F0IGxldmVsID0gMztcbiAgICovXG4gIGxldmVsOiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgaXNfc3BlYWtpbmcgPSA0O1xuICAgKi9cbiAgaXNTcGVha2luZzogYm9vbGVhbjtcbn1cbi8qKlxuICogQXVkaW9MZXZlbENoYW5nZWQgaXMgc2VudCBieSB0aGUgU0ZVIHRvIG5vdGlmeSBhYm91dCBhdWRpbyBsZXZlbHMgYnkgdXNlclxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBdWRpb0xldmVsQ2hhbmdlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHJlcGVhdGVkIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbCBhdWRpb19sZXZlbHMgPSAxO1xuICAgKi9cbiAgYXVkaW9MZXZlbHM6IEF1ZGlvTGV2ZWxbXTtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIEF1ZGlvU2VuZGVyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMgY29kZWMgPSAyO1xuICAgKi9cbiAgY29kZWM/OiBDb2RlYztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlIHRyYWNrX3R5cGUgPSAzO1xuICAgKi9cbiAgdHJhY2tUeXBlOiBUcmFja1R5cGU7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGludDMyIHB1Ymxpc2hfb3B0aW9uX2lkID0gNDtcbiAgICovXG4gIHB1Ymxpc2hPcHRpb25JZDogbnVtYmVyO1xufVxuLyoqXG4gKiBWaWRlb0xheWVyU2V0dGluZyBpcyB1c2VkIHRvIHNwZWNpZnkgdmFyaW91cyBwYXJhbWV0ZXJzIG9mIGEgcGFydGljdWxhciBlbmNvZGluZyBpbiBzaW11bGNhc3QuXG4gKiBUaGUgcGFyYW1ldGVycyBhcmUgc3BlY2lmaWVkIGhlcmUgLSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUlRDUnRwRW5jb2RpbmdQYXJhbWV0ZXJzXG4gKiBTREtzIHVzZSB0aGVzZSBwYXJhbWV0ZXJzIHNlbnQgZnJvbSB0aGUgc2VydmVyIHRvIGR5bmFtaWNhbGx5IGFkanVzdCB0aGVzZSBwYXJhbWV0ZXJzIHRvIHNhdmUgQ1BVLCBiYW5kd2lkdGhcbiAqXG4gKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvTGF5ZXJTZXR0aW5nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgVmlkZW9MYXllclNldHRpbmcge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgbmFtZSA9IDE7XG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IGJvb2wgYWN0aXZlID0gMjtcbiAgICovXG4gIGFjdGl2ZTogYm9vbGVhbjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgbWF4X2JpdHJhdGUgPSAzO1xuICAgKi9cbiAgbWF4Qml0cmF0ZTogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBmbG9hdCBzY2FsZV9yZXNvbHV0aW9uX2Rvd25fYnkgPSA0O1xuICAgKi9cbiAgc2NhbGVSZXNvbHV0aW9uRG93bkJ5OiBudW1iZXI7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvZGVjIGNvZGVjID0gNjtcbiAgICovXG4gIGNvZGVjPzogQ29kZWM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHVpbnQzMiBtYXhfZnJhbWVyYXRlID0gNztcbiAgICovXG4gIG1heEZyYW1lcmF0ZTogbnVtYmVyO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJpbmcgc2NhbGFiaWxpdHlfbW9kZSA9IDg7XG4gICAqL1xuICBzY2FsYWJpbGl0eU1vZGU6IHN0cmluZztcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlclxuICovXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvU2VuZGVyIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ29kZWMgY29kZWMgPSAyO1xuICAgKi9cbiAgY29kZWM/OiBDb2RlYztcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb0xheWVyU2V0dGluZyBsYXllcnMgPSAzO1xuICAgKi9cbiAgbGF5ZXJzOiBWaWRlb0xheWVyU2V0dGluZ1tdO1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUgdHJhY2tfdHlwZSA9IDQ7XG4gICAqL1xuICB0cmFja1R5cGU6IFRyYWNrVHlwZTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogaW50MzIgcHVibGlzaF9vcHRpb25faWQgPSA1O1xuICAgKi9cbiAgcHVibGlzaE9wdGlvbklkOiBudW1iZXI7XG59XG4vKipcbiAqIHNlbnQgdG8gdXNlcnMgd2hlbiB0aGV5IG5lZWQgdG8gY2hhbmdlIHRoZSBxdWFsaXR5IG9mIHRoZWlyIHZpZGVvXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoUXVhbGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIENoYW5nZVB1Ymxpc2hRdWFsaXR5IHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb1NlbmRlciBhdWRpb19zZW5kZXJzID0gMTtcbiAgICovXG4gIGF1ZGlvU2VuZGVyczogQXVkaW9TZW5kZXJbXTtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogcmVwZWF0ZWQgc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlciB2aWRlb19zZW5kZXJzID0gMjtcbiAgICovXG4gIHZpZGVvU2VuZGVyczogVmlkZW9TZW5kZXJbXTtcbn1cbi8qKlxuICogQ2FsbEdyYW50cyBpcyBzZW50IHRvIHVzZXJzIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UgaW4gdGhlIGNhbGwgcGVybWlzc2lvbnNcbiAqIHRvIHB1Ymxpc2ggYXVkaW8sIHZpZGVvIG9yIHNoYXJlIHRoZSBzY3JlZW4gZm9yIGEgdXNlciBvciBhIHJvbGUuIFRoaXMgaXNcbiAqIGlkZW1wb3RlbnQgYW5kIGNhbiBiZSBzZW50IGF0IGFueSB0aW1lLiBPbmx5IHRoZSBjdXJyZW50X2dyYW50cyBpbiB0aGUgbGF0ZXN0XG4gKiBtZXNzYWdlIHNob3VsZCBiZSBjb25zaWRlcmVkLiBJbiBvdGhlciB3b3JkcywgdGhpcyBpcyBub3QgZGVwZW5kZW50IG9uIGFueVxuICogb3RoZXIgbWVzc2FnZSAoaW5jbHVkaW5nIHByZXZpb3VzIGNhbGxfZ3JhbnRzX3VwZGF0ZWQgbWVzc2FnZSlcbiAqXG4gKiBXaGVuIHRoaXMgbWVzc2FnZSBpcyByZWNlaXZlZCwgdGhlIGNsaWVudCAoc2F5LCBSZWFjdCBjb21wb25lbnQpIHNob3VsZCBtdXRlXG4gKiB0aGUgdHJhY2tzIHdoaWNoIGFyZSBub3QgYWxsb3dlZCBhbnltb3JlLiBGb3IgZXhhbXBsZSwgaWYgdGhlIG1lc3NhZ2UgaGFzXG4gKiBncmFudHMge2F1ZGlvOnRydWUsIHZpZGVvOmZhbHNlfSB3aGlsZSB0aGUgdXNlciBpcyBwdWJsaXNoaW5nIHZpZGVvLCB0aGVuIHRoZVxuICogY2xpZW50IGNvbXBvbmVudCBzaG91bGQgbXV0ZSB0aGUgdmlkZW8gdHJhY2sgYW5kIGdyYXkgb3V0IHRoZSB2aWRlbyBidXR0b24uXG4gKiBUaGlzIHdheSwgdGhlIHVzZXIgd2lsbCBub3QgYmUgYWJsZSB0byBwdWJsaXNoIHZpZGVvIHVudGlsIHRoZSBwZXJtaXNzaW9uc1xuICogYXJlIGdyYW50ZWQgYWdhaW4uIEFsc28sIG11dGluZyB0aGUgdHJhY2sgb24gdGhlIGNsaWVudCBzaWRlIHdpbGwgcHJldmVudFxuICogdGhlIFNGVSBmcm9tIHJlY2VpdmluZyB0aGUgdmlkZW8gdHJhY2sgYW5kIHdpbGwgc2F2ZSBiYW5kd2lkdGguXG4gKlxuICogSW4gc2ltcGxlIHdvcmRzLCB0aGlzIGlzIGV4YWN0bHkgdGhlIHNhbWUgYXMgbXV0aW5nIGEgdHJhY2sgb24gdGhlIGNsaWVudC5cbiAqIEhlcmUsIGluc3RlYWQgb2YgdGhlIHVzZXIgaW5zdHJ1Y3RpbmcgdGhlIGNsaWVudCwgU0ZVIHdvdWxkIGJlIGRvaW5nIGl0LlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBDYWxsR3JhbnRzVXBkYXRlZCB7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmVhbS52aWRlby5zZnUubW9kZWxzLkNhbGxHcmFudHMgY3VycmVudF9ncmFudHMgPSAxO1xuICAgKi9cbiAgY3VycmVudEdyYW50cz86IENhbGxHcmFudHM7XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgZmllbGQ6IHN0cmluZyBtZXNzYWdlID0gMjtcbiAgICovXG4gIG1lc3NhZ2U6IHN0cmluZztcbn1cbi8qKlxuICogR28gYXdheSBpcyBzZW50IGJ5IHRoZSBTRlUgdG8gdGhlIGNsaWVudCB0byBzaWduYWwgdG8gbWlncmF0ZSBhd2F5IGZyb20gdGhlIFNGVS5cbiAqIFRoZSBldmljdCByZWFzb24gbWF5IHNwZWNpZnkgd2h5IHRoZSB1c2VyIGlzIGJlaW5nIGV2aWN0ZWQuXG4gKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXlcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBHb0F3YXkge1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpZWxkOiBzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5Hb0F3YXlSZWFzb24gcmVhc29uID0gMTtcbiAgICovXG4gIHJlYXNvbjogR29Bd2F5UmVhc29uO1xufVxuLyoqXG4gKiBDYWxsRW5kZWQgaXMgc2VudCBieSB0aGUgU0ZVIHRvIHRoZSBjbGllbnQgdG8gc2lnbmFsIHRoYXQgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICogVGhlIHJlYXNvbiBtYXkgc3BlY2lmeSB3aHkgdGhlIGNhbGwgaGFzIGVuZGVkLlxuICpcbiAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEVuZGVkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbEVuZGVkIHtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBmaWVsZDogc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uIHJlYXNvbiA9IDE7XG4gICAqL1xuICByZWFzb246IENhbGxFbmRlZFJlYXNvbjtcbn1cbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFNmdUV2ZW50JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZnVFdmVudD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5TZnVFdmVudCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdzdWJzY3JpYmVyX29mZmVyJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFN1YnNjcmliZXJPZmZlcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAncHVibGlzaGVyX2Fuc3dlcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBQdWJsaXNoZXJBbnN3ZXIsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ2Nvbm5lY3Rpb25fcXVhbGl0eV9jaGFuZ2VkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnYXVkaW9fbGV2ZWxfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBBdWRpb0xldmVsQ2hhbmdlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAnaWNlX3RyaWNrbGUnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSUNFVHJpY2tsZSQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2NoYW5nZV9wdWJsaXNoX3F1YWxpdHknLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2hhbmdlUHVibGlzaFF1YWxpdHksXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTAsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9qb2luZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRKb2luZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTEsXG4gICAgICAgIG5hbWU6ICdwYXJ0aWNpcGFudF9sZWZ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50TGVmdCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxMixcbiAgICAgICAgbmFtZTogJ2RvbWluYW50X3NwZWFrZXJfY2hhbmdlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBEb21pbmFudFNwZWFrZXJDaGFuZ2VkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDEzLFxuICAgICAgICBuYW1lOiAnam9pbl9yZXNwb25zZScsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBKb2luUmVzcG9uc2UsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTQsXG4gICAgICAgIG5hbWU6ICdoZWFsdGhfY2hlY2tfcmVzcG9uc2UnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSGVhbHRoQ2hlY2tSZXNwb25zZSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNixcbiAgICAgICAgbmFtZTogJ3RyYWNrX3B1Ymxpc2hlZCcsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBUcmFja1B1Ymxpc2hlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxNyxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3VucHVibGlzaGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFRyYWNrVW5wdWJsaXNoZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTgsXG4gICAgICAgIG5hbWU6ICdlcnJvcicsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgb25lb2Y6ICdldmVudFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBFcnJvcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAxOSxcbiAgICAgICAgbmFtZTogJ2NhbGxfZ3JhbnRzX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gQ2FsbEdyYW50c1VwZGF0ZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjAsXG4gICAgICAgIG5hbWU6ICdnb19hd2F5JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IEdvQXdheSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyMSxcbiAgICAgICAgbmFtZTogJ2ljZV9yZXN0YXJ0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IElDRVJlc3RhcnQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjIsXG4gICAgICAgIG5hbWU6ICdwaW5zX3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGluc0NoYW5nZWQsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjMsXG4gICAgICAgIG5hbWU6ICdjYWxsX2VuZGVkJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENhbGxFbmRlZCxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyNCxcbiAgICAgICAgbmFtZTogJ3BhcnRpY2lwYW50X3VwZGF0ZWQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAnZXZlbnRQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gUGFydGljaXBhbnRVcGRhdGVkLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDI1LFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfbWlncmF0aW9uX2NvbXBsZXRlJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMjcsXG4gICAgICAgIG5hbWU6ICdjaGFuZ2VfcHVibGlzaF9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ2V2ZW50UGF5bG9hZCcsXG4gICAgICAgIFQ6ICgpID0+IENoYW5nZVB1Ymxpc2hPcHRpb25zLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1RXZlbnRcbiAqL1xuZXhwb3J0IGNvbnN0IFNmdUV2ZW50ID0gbmV3IFNmdUV2ZW50JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENoYW5nZVB1Ymxpc2hPcHRpb25zJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDaGFuZ2VQdWJsaXNoT3B0aW9ucz4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DaGFuZ2VQdWJsaXNoT3B0aW9ucycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoX29wdGlvbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gUHVibGlzaE9wdGlvbixcbiAgICAgIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncmVhc29uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zXG4gKi9cbmV4cG9ydCBjb25zdCBDaGFuZ2VQdWJsaXNoT3B0aW9ucyA9IG5ldyBDaGFuZ2VQdWJsaXNoT3B0aW9ucyRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGUnLCBbXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGVcbiAqL1xuZXhwb3J0IGNvbnN0IENoYW5nZVB1Ymxpc2hPcHRpb25zQ29tcGxldGUgPVxuICBuZXcgQ2hhbmdlUHVibGlzaE9wdGlvbnNDb21wbGV0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUnLCBbXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGVcbiAqL1xuZXhwb3J0IGNvbnN0IFBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUgPVxuICBuZXcgUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQaW5zQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UGluc0NoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGluc0NoYW5nZWQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGlucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQaW4sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QaW5zQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgUGluc0NoYW5nZWQgPSBuZXcgUGluc0NoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgRXJyb3IkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEVycm9yPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkVycm9yJywgW1xuICAgICAgeyBubzogNCwgbmFtZTogJ2Vycm9yJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBFcnJvciQgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdyZWNvbm5lY3Rfc3RyYXRlZ3knLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3knLFxuICAgICAgICAgIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxuICAgICAgICAgICdXRUJTT0NLRVRfUkVDT05ORUNUX1NUUkFURUdZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5FcnJvclxuICovXG5leHBvcnQgY29uc3QgRXJyb3IgPSBuZXcgRXJyb3IkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSUNFVHJpY2tsZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8SUNFVHJpY2tsZT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5JQ0VUcmlja2xlJywgW1xuICAgICAge1xuICAgICAgICBubzogMSxcbiAgICAgICAgbmFtZTogJ3BlZXJfdHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gWydzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5QZWVyVHlwZScsIFBlZXJUeXBlLCAnUEVFUl9UWVBFXyddLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDIsXG4gICAgICAgIG5hbWU6ICdpY2VfY2FuZGlkYXRlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFVHJpY2tsZVxuICovXG5leHBvcnQgY29uc3QgSUNFVHJpY2tsZSA9IG5ldyBJQ0VUcmlja2xlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIElDRVJlc3RhcnQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPElDRVJlc3RhcnQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuSUNFUmVzdGFydCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdwZWVyX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFsnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuUGVlclR5cGUnLCBQZWVyVHlwZSwgJ1BFRVJfVFlQRV8nXSxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LklDRVJlc3RhcnRcbiAqL1xuZXhwb3J0IGNvbnN0IElDRVJlc3RhcnQgPSBuZXcgSUNFUmVzdGFydCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBTZnVSZXF1ZXN0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxTZnVSZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlNmdVJlcXVlc3QnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnam9pbl9yZXF1ZXN0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ3JlcXVlc3RQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSm9pblJlcXVlc3QsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMixcbiAgICAgICAgbmFtZTogJ2hlYWx0aF9jaGVja19yZXF1ZXN0JyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBvbmVvZjogJ3JlcXVlc3RQYXlsb2FkJyxcbiAgICAgICAgVDogKCkgPT4gSGVhbHRoQ2hlY2tSZXF1ZXN0LFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdsZWF2ZV9jYWxsX3JlcXVlc3QnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIG9uZW9mOiAncmVxdWVzdFBheWxvYWQnLFxuICAgICAgICBUOiAoKSA9PiBMZWF2ZUNhbGxSZXF1ZXN0LFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU2Z1UmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgU2Z1UmVxdWVzdCA9IG5ldyBTZnVSZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIExlYXZlQ2FsbFJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPExlYXZlQ2FsbFJlcXVlc3Q+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuTGVhdmVDYWxsUmVxdWVzdCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncmVhc29uJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkxlYXZlQ2FsbFJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IExlYXZlQ2FsbFJlcXVlc3QgPSBuZXcgTGVhdmVDYWxsUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBIZWFsdGhDaGVja1JlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEhlYWx0aENoZWNrUmVxdWVzdD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1JlcXVlc3QnLCBbXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVxdWVzdFxuICovXG5leHBvcnQgY29uc3QgSGVhbHRoQ2hlY2tSZXF1ZXN0ID0gbmV3IEhlYWx0aENoZWNrUmVxdWVzdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBIZWFsdGhDaGVja1Jlc3BvbnNlJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxIZWFsdGhDaGVja1Jlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkhlYWx0aENoZWNrUmVzcG9uc2UnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncGFydGljaXBhbnRfY291bnQnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIFQ6ICgpID0+IFBhcnRpY2lwYW50Q291bnQsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5IZWFsdGhDaGVja1Jlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBIZWFsdGhDaGVja1Jlc3BvbnNlID0gbmV3IEhlYWx0aENoZWNrUmVzcG9uc2UkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgVHJhY2tQdWJsaXNoZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrUHVibGlzaGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlRyYWNrUHVibGlzaGVkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAndHlwZScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5UcmFja1R5cGUnLFxuICAgICAgICAgIFRyYWNrVHlwZSxcbiAgICAgICAgICAnVFJBQ0tfVFlQRV8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDQsIG5hbWU6ICdwYXJ0aWNpcGFudCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUGFydGljaXBhbnQgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tQdWJsaXNoZWRcbiAqL1xuZXhwb3J0IGNvbnN0IFRyYWNrUHVibGlzaGVkID0gbmV3IFRyYWNrUHVibGlzaGVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFRyYWNrVW5wdWJsaXNoZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFRyYWNrVW5wdWJsaXNoZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVHJhY2tVbnB1Ymxpc2hlZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICd1c2VyX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnY2F1c2UnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tVbnB1Ymxpc2hSZWFzb24nLFxuICAgICAgICAgIFRyYWNrVW5wdWJsaXNoUmVhc29uLFxuICAgICAgICAgICdUUkFDS19VTlBVQkxJU0hfUkVBU09OXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgeyBubzogNSwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5UcmFja1VucHVibGlzaGVkXG4gKi9cbmV4cG9ydCBjb25zdCBUcmFja1VucHVibGlzaGVkID0gbmV3IFRyYWNrVW5wdWJsaXNoZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgSm9pblJlcXVlc3QkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEpvaW5SZXF1ZXN0PiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXF1ZXN0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3Rva2VuJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAnc2Vzc2lvbl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3N1YnNjcmliZXJfc2RwJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDgsXG4gICAgICAgIG5hbWU6ICdwdWJsaXNoZXJfc2RwJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDQsXG4gICAgICAgIG5hbWU6ICdjbGllbnRfZGV0YWlscycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgVDogKCkgPT4gQ2xpZW50RGV0YWlscyxcbiAgICAgIH0sXG4gICAgICB7IG5vOiA1LCBuYW1lOiAnbWlncmF0aW9uJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBNaWdyYXRpb24gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDYsXG4gICAgICAgIG5hbWU6ICdmYXN0X3JlY29ubmVjdCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNyxcbiAgICAgICAgbmFtZTogJ3JlY29ubmVjdF9kZXRhaWxzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICBUOiAoKSA9PiBSZWNvbm5lY3REZXRhaWxzLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDksXG4gICAgICAgIG5hbWU6ICdwcmVmZXJyZWRfcHVibGlzaF9vcHRpb25zJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IFB1Ymxpc2hPcHRpb24sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMTAsXG4gICAgICAgIG5hbWU6ICdwcmVmZXJyZWRfc3Vic2NyaWJlX29wdGlvbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gU3Vic2NyaWJlT3B0aW9uLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IEpvaW5SZXF1ZXN0ID0gbmV3IEpvaW5SZXF1ZXN0JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFJlY29ubmVjdERldGFpbHMkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFJlY29ubmVjdERldGFpbHM+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUmVjb25uZWN0RGV0YWlscycsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdzdHJhdGVneScsXG4gICAgICAgIGtpbmQ6ICdlbnVtJyxcbiAgICAgICAgVDogKCkgPT4gW1xuICAgICAgICAgICdzdHJlYW0udmlkZW8uc2Z1Lm1vZGVscy5XZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneScsXG4gICAgICAgICAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG4gICAgICAgICAgJ1dFQlNPQ0tFVF9SRUNPTk5FQ1RfU1RSQVRFR1lfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnYW5ub3VuY2VkX3RyYWNrcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja0luZm8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3N1YnNjcmlwdGlvbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDUsXG4gICAgICAgIG5hbWU6ICdyZWNvbm5lY3RfYXR0ZW1wdCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiAxMyAvKlNjYWxhclR5cGUuVUlOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNixcbiAgICAgICAgbmFtZTogJ2Zyb21fc2Z1X2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDcsXG4gICAgICAgIG5hbWU6ICdwcmV2aW91c19zZXNzaW9uX2lkJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICAgIHsgbm86IDgsIG5hbWU6ICdyZWFzb24nLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUmVjb25uZWN0RGV0YWlsc1xuICovXG5leHBvcnQgY29uc3QgUmVjb25uZWN0RGV0YWlscyA9IG5ldyBSZWNvbm5lY3REZXRhaWxzJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIE1pZ3JhdGlvbiRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8TWlncmF0aW9uPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50Lk1pZ3JhdGlvbicsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdmcm9tX3NmdV9pZCcsXG4gICAgICAgIGtpbmQ6ICdzY2FsYXInLFxuICAgICAgICBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAnYW5ub3VuY2VkX3RyYWNrcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBUcmFja0luZm8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3N1YnNjcmlwdGlvbnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuTWlncmF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBNaWdyYXRpb24gPSBuZXcgTWlncmF0aW9uJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIEpvaW5SZXNwb25zZSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Sm9pblJlc3BvbnNlPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkpvaW5SZXNwb25zZScsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX3N0YXRlJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDYWxsU3RhdGUgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdyZWNvbm5lY3RlZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdmYXN0X3JlY29ubmVjdF9kZWFkbGluZV9zZWNvbmRzJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDUgLypTY2FsYXJUeXBlLklOVDMyKi8sXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3B1Ymxpc2hfb3B0aW9ucycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBQdWJsaXNoT3B0aW9uLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuSm9pblJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBKb2luUmVzcG9uc2UgPSBuZXcgSm9pblJlc3BvbnNlJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFBhcnRpY2lwYW50Sm9pbmVkJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudEpvaW5lZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudEpvaW5lZCcsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdjYWxsX2NpZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3BhcnRpY2lwYW50Jywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBQYXJ0aWNpcGFudCB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudEpvaW5lZFxuICovXG5leHBvcnQgY29uc3QgUGFydGljaXBhbnRKb2luZWQgPSBuZXcgUGFydGljaXBhbnRKb2luZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgUGFydGljaXBhbnRMZWZ0JFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxQYXJ0aWNpcGFudExlZnQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRMZWZ0JywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ2NhbGxfY2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7IG5vOiAyLCBuYW1lOiAncGFydGljaXBhbnQnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IFBhcnRpY2lwYW50IH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlBhcnRpY2lwYW50TGVmdFxuICovXG5leHBvcnQgY29uc3QgUGFydGljaXBhbnRMZWZ0ID0gbmV3IFBhcnRpY2lwYW50TGVmdCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBQYXJ0aWNpcGFudFVwZGF0ZWQkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPFBhcnRpY2lwYW50VXBkYXRlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5QYXJ0aWNpcGFudFVwZGF0ZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnY2FsbF9jaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdwYXJ0aWNpcGFudCcsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gUGFydGljaXBhbnQgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUGFydGljaXBhbnRVcGRhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBQYXJ0aWNpcGFudFVwZGF0ZWQgPSBuZXcgUGFydGljaXBhbnRVcGRhdGVkJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFN1YnNjcmliZXJPZmZlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8U3Vic2NyaWJlck9mZmVyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlN1YnNjcmliZXJPZmZlcicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdpY2VfcmVzdGFydCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuU3Vic2NyaWJlck9mZmVyXG4gKi9cbmV4cG9ydCBjb25zdCBTdWJzY3JpYmVyT2ZmZXIgPSBuZXcgU3Vic2NyaWJlck9mZmVyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFB1Ymxpc2hlckFuc3dlciRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8UHVibGlzaGVyQW5zd2VyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlB1Ymxpc2hlckFuc3dlcicsIFtcbiAgICAgIHsgbm86IDEsIG5hbWU6ICdzZHAnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuUHVibGlzaGVyQW5zd2VyXG4gKi9cbmV4cG9ydCBjb25zdCBQdWJsaXNoZXJBbnN3ZXIgPSBuZXcgUHVibGlzaGVyQW5zd2VyJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdjb25uZWN0aW9uX3F1YWxpdHlfdXBkYXRlcycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBDb25uZWN0aW9uUXVhbGl0eUluZm8sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUNoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCA9IG5ldyBDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQ29ubmVjdGlvblF1YWxpdHlJbmZvJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxDb25uZWN0aW9uUXVhbGl0eUluZm8+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ29ubmVjdGlvblF1YWxpdHlJbmZvJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAzLFxuICAgICAgICBuYW1lOiAnY29ubmVjdGlvbl9xdWFsaXR5JyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkNvbm5lY3Rpb25RdWFsaXR5JyxcbiAgICAgICAgICBDb25uZWN0aW9uUXVhbGl0eSxcbiAgICAgICAgICAnQ09OTkVDVElPTl9RVUFMSVRZXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Db25uZWN0aW9uUXVhbGl0eUluZm9cbiAqL1xuZXhwb3J0IGNvbnN0IENvbm5lY3Rpb25RdWFsaXR5SW5mbyA9IG5ldyBDb25uZWN0aW9uUXVhbGl0eUluZm8kVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8RG9taW5hbnRTcGVha2VyQ2hhbmdlZD4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Eb21pbmFudFNwZWFrZXJDaGFuZ2VkJywgW1xuICAgICAgeyBubzogMSwgbmFtZTogJ3VzZXJfaWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdzZXNzaW9uX2lkJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkRvbWluYW50U3BlYWtlckNoYW5nZWRcbiAqL1xuZXhwb3J0IGNvbnN0IERvbWluYW50U3BlYWtlckNoYW5nZWQgPSBuZXcgRG9taW5hbnRTcGVha2VyQ2hhbmdlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBBdWRpb0xldmVsJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxBdWRpb0xldmVsPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWwnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAndXNlcl9pZCcsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ3Nlc3Npb25faWQnLCBraW5kOiAnc2NhbGFyJywgVDogOSAvKlNjYWxhclR5cGUuU1RSSU5HKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdsZXZlbCcsIGtpbmQ6ICdzY2FsYXInLCBUOiAyIC8qU2NhbGFyVHlwZS5GTE9BVCovIH0sXG4gICAgICB7IG5vOiA0LCBuYW1lOiAnaXNfc3BlYWtpbmcnLCBraW5kOiAnc2NhbGFyJywgVDogOCAvKlNjYWxhclR5cGUuQk9PTCovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvTGV2ZWxcbiAqL1xuZXhwb3J0IGNvbnN0IEF1ZGlvTGV2ZWwgPSBuZXcgQXVkaW9MZXZlbCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBBdWRpb0xldmVsQ2hhbmdlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8QXVkaW9MZXZlbENoYW5nZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQXVkaW9MZXZlbENoYW5nZWQnLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnYXVkaW9fbGV2ZWxzJyxcbiAgICAgICAga2luZDogJ21lc3NhZ2UnLFxuICAgICAgICByZXBlYXQ6IDIgLypSZXBlYXRUeXBlLlVOUEFDS0VEKi8sXG4gICAgICAgIFQ6ICgpID0+IEF1ZGlvTGV2ZWwsXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5BdWRpb0xldmVsQ2hhbmdlZFxuICovXG5leHBvcnQgY29uc3QgQXVkaW9MZXZlbENoYW5nZWQgPSBuZXcgQXVkaW9MZXZlbENoYW5nZWQkVHlwZSgpO1xuLy8gQGdlbmVyYXRlZCBtZXNzYWdlIHR5cGUgd2l0aCByZWZsZWN0aW9uIGluZm9ybWF0aW9uLCBtYXkgcHJvdmlkZSBzcGVlZCBvcHRpbWl6ZWQgbWV0aG9kc1xuY2xhc3MgQXVkaW9TZW5kZXIkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEF1ZGlvU2VuZGVyPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvU2VuZGVyJywgW1xuICAgICAgeyBubzogMiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAge1xuICAgICAgICBubzogMyxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAncHVibGlzaF9vcHRpb25faWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkF1ZGlvU2VuZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBBdWRpb1NlbmRlciA9IG5ldyBBdWRpb1NlbmRlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBWaWRlb0xheWVyU2V0dGluZyRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8VmlkZW9MYXllclNldHRpbmc+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmcnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnbmFtZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA5IC8qU2NhbGFyVHlwZS5TVFJJTkcqLyB9LFxuICAgICAgeyBubzogMiwgbmFtZTogJ2FjdGl2ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA4IC8qU2NhbGFyVHlwZS5CT09MKi8gfSxcbiAgICAgIHsgbm86IDMsIG5hbWU6ICdtYXhfYml0cmF0ZScsIGtpbmQ6ICdzY2FsYXInLCBUOiA1IC8qU2NhbGFyVHlwZS5JTlQzMiovIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA0LFxuICAgICAgICBuYW1lOiAnc2NhbGVfcmVzb2x1dGlvbl9kb3duX2J5JyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDIgLypTY2FsYXJUeXBlLkZMT0FUKi8sXG4gICAgICB9LFxuICAgICAgeyBubzogNiwgbmFtZTogJ2NvZGVjJywga2luZDogJ21lc3NhZ2UnLCBUOiAoKSA9PiBDb2RlYyB9LFxuICAgICAge1xuICAgICAgICBubzogNyxcbiAgICAgICAgbmFtZTogJ21heF9mcmFtZXJhdGUnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogMTMgLypTY2FsYXJUeXBlLlVJTlQzMiovLFxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDgsXG4gICAgICAgIG5hbWU6ICdzY2FsYWJpbGl0eV9tb2RlJyxcbiAgICAgICAga2luZDogJ3NjYWxhcicsXG4gICAgICAgIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuVmlkZW9MYXllclNldHRpbmdcbiAqL1xuZXhwb3J0IGNvbnN0IFZpZGVvTGF5ZXJTZXR0aW5nID0gbmV3IFZpZGVvTGF5ZXJTZXR0aW5nJFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIFZpZGVvU2VuZGVyJFR5cGUgZXh0ZW5kcyBNZXNzYWdlVHlwZTxWaWRlb1NlbmRlcj4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5WaWRlb1NlbmRlcicsIFtcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdjb2RlYycsIGtpbmQ6ICdtZXNzYWdlJywgVDogKCkgPT4gQ29kZWMgfSxcbiAgICAgIHtcbiAgICAgICAgbm86IDMsXG4gICAgICAgIG5hbWU6ICdsYXllcnMnLFxuICAgICAgICBraW5kOiAnbWVzc2FnZScsXG4gICAgICAgIHJlcGVhdDogMiAvKlJlcGVhdFR5cGUuVU5QQUNLRUQqLyxcbiAgICAgICAgVDogKCkgPT4gVmlkZW9MYXllclNldHRpbmcsXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBubzogNCxcbiAgICAgICAgbmFtZTogJ3RyYWNrX3R5cGUnLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuVHJhY2tUeXBlJyxcbiAgICAgICAgICBUcmFja1R5cGUsXG4gICAgICAgICAgJ1RSQUNLX1RZUEVfJyxcbiAgICAgICAgXSxcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiA1LFxuICAgICAgICBuYW1lOiAncHVibGlzaF9vcHRpb25faWQnLFxuICAgICAgICBraW5kOiAnc2NhbGFyJyxcbiAgICAgICAgVDogNSAvKlNjYWxhclR5cGUuSU5UMzIqLyxcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LlZpZGVvU2VuZGVyXG4gKi9cbmV4cG9ydCBjb25zdCBWaWRlb1NlbmRlciA9IG5ldyBWaWRlb1NlbmRlciRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDaGFuZ2VQdWJsaXNoUXVhbGl0eSRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2hhbmdlUHVibGlzaFF1YWxpdHk+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2hhbmdlUHVibGlzaFF1YWxpdHknLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAnYXVkaW9fc2VuZGVycycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBBdWRpb1NlbmRlcixcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIG5vOiAyLFxuICAgICAgICBuYW1lOiAndmlkZW9fc2VuZGVycycsXG4gICAgICAgIGtpbmQ6ICdtZXNzYWdlJyxcbiAgICAgICAgcmVwZWF0OiAyIC8qUmVwZWF0VHlwZS5VTlBBQ0tFRCovLFxuICAgICAgICBUOiAoKSA9PiBWaWRlb1NlbmRlcixcbiAgICAgIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNoYW5nZVB1Ymxpc2hRdWFsaXR5XG4gKi9cbmV4cG9ydCBjb25zdCBDaGFuZ2VQdWJsaXNoUXVhbGl0eSA9IG5ldyBDaGFuZ2VQdWJsaXNoUXVhbGl0eSRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBDYWxsR3JhbnRzVXBkYXRlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbEdyYW50c1VwZGF0ZWQ+IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoJ3N0cmVhbS52aWRlby5zZnUuZXZlbnQuQ2FsbEdyYW50c1VwZGF0ZWQnLCBbXG4gICAgICB7IG5vOiAxLCBuYW1lOiAnY3VycmVudF9ncmFudHMnLCBraW5kOiAnbWVzc2FnZScsIFQ6ICgpID0+IENhbGxHcmFudHMgfSxcbiAgICAgIHsgbm86IDIsIG5hbWU6ICdtZXNzYWdlJywga2luZDogJ3NjYWxhcicsIFQ6IDkgLypTY2FsYXJUeXBlLlNUUklORyovIH0sXG4gICAgXSk7XG4gIH1cbn1cbi8qKlxuICogQGdlbmVyYXRlZCBNZXNzYWdlVHlwZSBmb3IgcHJvdG9idWYgbWVzc2FnZSBzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxHcmFudHNVcGRhdGVkXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsR3JhbnRzVXBkYXRlZCA9IG5ldyBDYWxsR3JhbnRzVXBkYXRlZCRUeXBlKCk7XG4vLyBAZ2VuZXJhdGVkIG1lc3NhZ2UgdHlwZSB3aXRoIHJlZmxlY3Rpb24gaW5mb3JtYXRpb24sIG1heSBwcm92aWRlIHNwZWVkIG9wdGltaXplZCBtZXRob2RzXG5jbGFzcyBHb0F3YXkkVHlwZSBleHRlbmRzIE1lc3NhZ2VUeXBlPEdvQXdheT4ge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5Hb0F3YXknLCBbXG4gICAgICB7XG4gICAgICAgIG5vOiAxLFxuICAgICAgICBuYW1lOiAncmVhc29uJyxcbiAgICAgICAga2luZDogJ2VudW0nLFxuICAgICAgICBUOiAoKSA9PiBbXG4gICAgICAgICAgJ3N0cmVhbS52aWRlby5zZnUubW9kZWxzLkdvQXdheVJlYXNvbicsXG4gICAgICAgICAgR29Bd2F5UmVhc29uLFxuICAgICAgICAgICdHT19BV0FZX1JFQVNPTl8nLFxuICAgICAgICBdLFxuICAgICAgfSxcbiAgICBdKTtcbiAgfVxufVxuLyoqXG4gKiBAZ2VuZXJhdGVkIE1lc3NhZ2VUeXBlIGZvciBwcm90b2J1ZiBtZXNzYWdlIHN0cmVhbS52aWRlby5zZnUuZXZlbnQuR29Bd2F5XG4gKi9cbmV4cG9ydCBjb25zdCBHb0F3YXkgPSBuZXcgR29Bd2F5JFR5cGUoKTtcbi8vIEBnZW5lcmF0ZWQgbWVzc2FnZSB0eXBlIHdpdGggcmVmbGVjdGlvbiBpbmZvcm1hdGlvbiwgbWF5IHByb3ZpZGUgc3BlZWQgb3B0aW1pemVkIG1ldGhvZHNcbmNsYXNzIENhbGxFbmRlZCRUeXBlIGV4dGVuZHMgTWVzc2FnZVR5cGU8Q2FsbEVuZGVkPiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCdzdHJlYW0udmlkZW8uc2Z1LmV2ZW50LkNhbGxFbmRlZCcsIFtcbiAgICAgIHtcbiAgICAgICAgbm86IDEsXG4gICAgICAgIG5hbWU6ICdyZWFzb24nLFxuICAgICAgICBraW5kOiAnZW51bScsXG4gICAgICAgIFQ6ICgpID0+IFtcbiAgICAgICAgICAnc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuQ2FsbEVuZGVkUmVhc29uJyxcbiAgICAgICAgICBDYWxsRW5kZWRSZWFzb24sXG4gICAgICAgICAgJ0NBTExfRU5ERURfUkVBU09OXycsXG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgIF0pO1xuICB9XG59XG4vKipcbiAqIEBnZW5lcmF0ZWQgTWVzc2FnZVR5cGUgZm9yIHByb3RvYnVmIG1lc3NhZ2Ugc3RyZWFtLnZpZGVvLnNmdS5ldmVudC5DYWxsRW5kZWRcbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxFbmRlZCA9IG5ldyBDYWxsRW5kZWQkVHlwZSgpO1xuIiwiaW1wb3J0IHR5cGUge1xuICBQYXJ0aWNpcGFudCxcbiAgVmlkZW9EaW1lbnNpb24sXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB0eXBlIHtcbiAgSm9pbkNhbGxSZXF1ZXN0LFxuICBNZW1iZXJSZXNwb25zZSxcbiAgT3duQ2FwYWJpbGl0eSxcbiAgUmVhY3Rpb25SZXNwb25zZSxcbn0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHR5cGUgeyBTdHJlYW1DbGllbnQgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50JztcbmltcG9ydCB0eXBlIHsgQ29tcGFyYXRvciB9IGZyb20gJy4vc29ydGluZyc7XG5pbXBvcnQgdHlwZSB7IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSB9IGZyb20gJy4vc3RvcmUnO1xuaW1wb3J0IHsgQXhpb3NFcnJvciB9IGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IFJlamVjdFJlYXNvbiB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5cbmV4cG9ydCB0eXBlIFN0cmVhbVJlYWN0aW9uID0gUGljazxcbiAgUmVhY3Rpb25SZXNwb25zZSxcbiAgJ3R5cGUnIHwgJ2Vtb2ppX2NvZGUnIHwgJ2N1c3RvbSdcbj47XG5cbmV4cG9ydCBlbnVtIFZpc2liaWxpdHlTdGF0ZSB7XG4gIFVOS05PV04gPSAnVU5LTk9XTicsXG4gIFZJU0lCTEUgPSAnVklTSUJMRScsXG4gIElOVklTSUJMRSA9ICdJTlZJU0lCTEUnLFxufVxuXG5leHBvcnQgZW51bSBEZWJvdW5jZVR5cGUge1xuICBJTU1FRElBVEUgPSAyMCxcbiAgRkFTVCA9IDEwMCxcbiAgTUVESVVNID0gNjAwLFxuICBTTE9XID0gMTIwMCxcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IGV4dGVuZHMgUGFydGljaXBhbnQge1xuICAvKipcbiAgICogVGhlIHBhcnRpY2lwYW50J3MgYXVkaW8gc3RyZWFtLCBpZiB0aGV5IGFyZSBwdWJsaXNoaW5nIGF1ZGlvIGFuZFxuICAgKiB3ZSBoYXZlIHN1YnNjcmliZWQgdG8gaXQuXG4gICAqL1xuICBhdWRpb1N0cmVhbT86IE1lZGlhU3RyZWFtO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFydGljaXBhbnQncyB2aWRlbyBzdHJlYW0sIGlmIHRoZXkgYXJlIHNoYXJpbmcgdGhlaXIgdmlkZW8sXG4gICAqIGFuZCB3ZSBhcmUgc3Vic2NyaWJlZCB0byBpdC5cbiAgICovXG4gIHZpZGVvU3RyZWFtPzogTWVkaWFTdHJlYW07XG5cbiAgLyoqXG4gICAqIFRoZSBwYXJ0aWNpcGFudCdzIHNjcmVlbiBzaGFyZSBzdHJlYW0sIGlmIHRoZXkgYXJlIHNoYXJpbmcgdGhlaXIgc2NyZWVuLFxuICAgKiBhbmQgd2UgYXJlIHN1YnNjcmliZWQgdG8gaXQuXG4gICAqL1xuICBzY3JlZW5TaGFyZVN0cmVhbT86IE1lZGlhU3RyZWFtO1xuXG4gIC8qKlxuICAgKiBUaGUgcGFydGljaXBhbnQncyBzY3JlZW4gYXVkaW8gc3RyZWFtLCBpZiB0aGV5IGFyZSBzaGFyaW5nIHRoZWlyIGF1ZGlvLFxuICAgKiBhbmQgd2UgYXJlIHN1YnNjcmliZWQgdG8gaXQuXG4gICAqL1xuICBzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtPzogTWVkaWFTdHJlYW07XG5cbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgdmlkZW8gZGltZW5zaW9ucyBmb3IgdGhpcyBwYXJ0aWNpcGFudC5cbiAgICogU2V0IGl0IHRvIGB1bmRlZmluZWRgIHRvIHVuc3Vic2NyaWJlIGZyb20gdGhpcyBwYXJ0aWNpcGFudCdzIHZpZGVvLlxuICAgKi9cbiAgdmlkZW9EaW1lbnNpb24/OiBWaWRlb0RpbWVuc2lvbjtcblxuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCBzY3JlZW4gc2hhcmUgZGltZW5zaW9ucyBmb3IgdGhpcyBwYXJ0aWNpcGFudC5cbiAgICogU2V0IGl0IHRvIGB1bmRlZmluZWRgIHRvIHVuc3Vic2NyaWJlIGZyb20gdGhpcyBwYXJ0aWNpcGFudCdzIHNjcmVlbiBzaGFyZS5cbiAgICovXG4gIHNjcmVlblNoYXJlRGltZW5zaW9uPzogVmlkZW9EaW1lbnNpb247XG5cbiAgLyoqXG4gICAqIFRydWUgaWYgdGhlIHBhcnRpY2lwYW50IGlzIHRoZSBsb2NhbCBwYXJ0aWNpcGFudC5cbiAgICovXG4gIGlzTG9jYWxQYXJ0aWNpcGFudD86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRoZSBwaW4gc3RhdGUgb2YgdGhlIHBhcnRpY2lwYW50LlxuICAgKi9cbiAgcGluPzogUGFydGljaXBhbnRQaW47XG5cbiAgLyoqXG4gICAqIFRoZSBsYXN0IHJlYWN0aW9uIHRoaXMgdXNlciBoYXMgc2VudCB0byB0aGlzIGNhbGwuXG4gICAqIEludGVncmF0b3JzIGNhbiBiYXRjaC9jb2xsZWN0IHBhc3QgcmVhY3Rpb25zIGFuZCBzaG93IHRoZW0gdG8gdGhlIFVJLlxuICAgKi9cbiAgcmVhY3Rpb24/OiBTdHJlYW1SZWFjdGlvbjtcblxuICAvKipcbiAgICogVGhlIHZpc2liaWxpdHkgc3RhdGUgb2YgdGhlIHBhcnRpY2lwYW50J3MgdHJhY2tzIHdpdGhpbiBhIGRlZmluZWQgdmlld3BvcnQuXG4gICAqL1xuICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT86IFJlY29yZDxWaWRlb1RyYWNrVHlwZSwgVmlzaWJpbGl0eVN0YXRlPjtcblxuICAvKipcbiAgICogVGhlIHZvbHVtZSBvZiB0aGUgcGFydGljaXBhbnQncyBhdWRpbyBzdHJlYW0gKGZyb20gMCB0byAxKS5cbiAgICogU2V0IGl0IHRvIGB1bmRlZmluZWRgIHRvIHVzZSB0aGUgZGVmYXVsdCB2b2x1bWUuXG4gICAqXG4gICAqIE5vdGU6IHRoaXMgdmFsdWUgaXMgbm90IGFwcGxpY2FibGUgaW4gUmVhY3QgTmF0aXZlLlxuICAgKi9cbiAgYXVkaW9Wb2x1bWU/OiBudW1iZXI7XG59XG5cbmV4cG9ydCB0eXBlIFZpZGVvVHJhY2tUeXBlID0gJ3ZpZGVvVHJhY2snIHwgJ3NjcmVlblNoYXJlVHJhY2snO1xuZXhwb3J0IHR5cGUgQXVkaW9UcmFja1R5cGUgPSAnYXVkaW9UcmFjaycgfCAnc2NyZWVuU2hhcmVBdWRpb1RyYWNrJztcbmV4cG9ydCB0eXBlIFRyYWNrTXV0ZVR5cGUgPVxuICB8ICdhdWRpbydcbiAgfCAndmlkZW8nXG4gIHwgJ3NjcmVlbnNoYXJlJ1xuICB8ICdzY3JlZW5zaGFyZV9hdWRpbyc7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIHBhcnRpY2lwYW50J3MgcGluIHN0YXRlLlxuICovXG5leHBvcnQgdHlwZSBQYXJ0aWNpcGFudFBpbiA9IHtcbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHRoZSBwYXJ0aWNpcGFudCBpcyBwaW5uZWQgYnkgdGhlIGxvY2FsIHVzZXIuXG4gICAqIEZhbHNlIGlmIHRoZSBwYXJ0aWNpcGFudCBpcyBwaW5uZWQgc2VydmVyLXNpZGUsIGJ5IHRoZSBjYWxsIG1vZGVyYXRvci5cbiAgICovXG4gIGlzTG9jYWxQaW46IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFRpbWVzdGFtcCB3aGVuIHRoZSBwYXJ0aWNpcGFudCBpcyBwaW5uZWQuXG4gICAqL1xuICBwaW5uZWRBdDogbnVtYmVyO1xufTtcblxuZXhwb3J0IHR5cGUgQ2xvc2VkQ2FwdGlvbnNTZXR0aW5ncyA9IHtcbiAgLyoqXG4gICAqIFRoZSB0aW1lIGluIG1pbGxpc2Vjb25kcyB0byBrZWVwIGEgY2xvc2VkIGNhcHRpb24gaW4gdGhlIHN0YXRlICh2aXNpYmxlKS5cbiAgICogRGVmYXVsdCBpcyAyNzAwIG1zLlxuICAgKi9cbiAgdmlzaWJpbGl0eUR1cmF0aW9uTXM/OiBudW1iZXI7XG4gIC8qKlxuICAgKiBUaGUgbWF4aW11bSBudW1iZXIgb2YgY2xvc2VkIGNhcHRpb25zIHRvIGtlZXAgaW4gdGhlIHN0YXRlICh2aXNpYmxlKS5cbiAgICogV2hlbiB0aGUgbWF4aW11bSBudW1iZXIgaXMgcmVhY2hlZCwgdGhlIG9sZGVzdCBjbG9zZWQgY2FwdGlvbiBpcyByZW1vdmVkLlxuICAgKlxuICAgKiBEZWZhdWx0IGlzIDIuXG4gICAqL1xuICBtYXhWaXNpYmxlQ2FwdGlvbnM/OiBudW1iZXI7XG59O1xuXG4vKipcbiAqIEEgcGFydGlhbCByZXByZXNlbnRhdGlvbiBvZiB0aGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoID0gUGFydGlhbDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PjtcblxuLyoqXG4gKiBBIGNvbGxlY3Rpb24gb2Yge0BsaW5rIFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaH0gb3JnYW5pemVkIGJ5IHNlc3Npb25JZC5cbiAqL1xuZXhwb3J0IHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgPSB7XG4gIFtzZXNzaW9uSWQ6IHN0cmluZ106IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaDtcbn07XG5cbmV4cG9ydCB0eXBlIFN1YnNjcmlwdGlvbkNoYW5nZSA9IHtcbiAgLyoqXG4gICAqIFRoZSB2aWRlbyBkaW1lbnNpb24gdG8gcmVxdWVzdC5cbiAgICogU2V0IGl0IHRvIGB1bmRlZmluZWRgIGluIGNhc2UgeW91IHdhbnQgdG8gdW5zdWJzY3JpYmUuXG4gICAqL1xuICBkaW1lbnNpb246IFZpZGVvRGltZW5zaW9uIHwgdW5kZWZpbmVkO1xufTtcblxuZXhwb3J0IHR5cGUgU3Vic2NyaXB0aW9uQ2hhbmdlcyA9IHtcbiAgW3Nlc3Npb25JZDogc3RyaW5nXTogU3Vic2NyaXB0aW9uQ2hhbmdlO1xufTtcblxuLyoqXG4gKiBBIHByZWZlcnJlZCBjb2RlYyB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIGEgdmlkZW8gb3IgYXVkaW8gdHJhY2suXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IHR5cGUgUHJlZmVycmVkQ29kZWMgPSAndnA4JyB8ICdoMjY0JyB8ICd2cDknIHwgJ2F2MSc7XG5cbi8qKlxuICogQSBjb2xsZWN0aW9uIG9mIHRyYWNrIHB1YmxpY2F0aW9uIG9wdGlvbnMuXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IHR5cGUgQ2xpZW50UHVibGlzaE9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIGNvZGVjIHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgdGhlIHZpZGVvIHN0cmVhbS5cbiAgICovXG4gIHByZWZlcnJlZENvZGVjPzogUHJlZmVycmVkQ29kZWM7XG4gIC8qKlxuICAgKiBUaGUgZm10cCBsaW5lIGZvciB0aGUgdmlkZW8gY29kZWMuXG4gICAqL1xuICBmbXRwTGluZT86IHN0cmluZztcbiAgLyoqXG4gICAqIFRoZSBwcmVmZXJyZWQgYml0cmF0ZSB0byB1c2Ugd2hlbiBwdWJsaXNoaW5nIHRoZSB2aWRlbyBzdHJlYW0uXG4gICAqL1xuICBwcmVmZXJyZWRCaXRyYXRlPzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHNpbXVsY2FzdCBsYXllcnMgdG8gdXNlIHdoZW4gcHVibGlzaGluZyB0aGUgdmlkZW8gc3RyZWFtLlxuICAgKi9cbiAgbWF4U2ltdWxjYXN0TGF5ZXJzPzogbnVtYmVyO1xuICAvKipcbiAgICogVGhlIHByZWZlcnJlZCBzdWJzY3JpcHRpb24gKGluY29taW5nIHZpZGVvIHN0cmVhbSkgY29kZWMuXG4gICAqL1xuICBzdWJzY3JpYmVyQ29kZWM/OiBQcmVmZXJyZWRDb2RlYztcbiAgLyoqXG4gICAqIFRoZSBmbXRwIGxpbmUgZm9yIHRoZSBzdWJzY3JpYmVyIGNvZGVjLlxuICAgKi9cbiAgc3Vic2NyaWJlckZtdHBMaW5lPzogc3RyaW5nO1xuICAvKipcbiAgICogU2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgc2NyZWVuU2hhcmVTZXR0aW5ncz86IFNjcmVlblNoYXJlU2V0dGluZ3M7XG59O1xuXG5leHBvcnQgdHlwZSBTY3JlZW5TaGFyZVNldHRpbmdzID0ge1xuICAvKipcbiAgICogTGltaXRzIHRoZSBtYXhpbXVtIGZyYW1lcmF0ZSAoaW4gZnJhbWVzIHBlciBzZWNvbmQpIG9mIHRoZSBzY3JlZW4gc2hhcmUuXG4gICAqIERlZmF1bHRzIHRvIDMwLlxuICAgKi9cbiAgbWF4RnJhbWVyYXRlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBMaW1pdHMgdGhlIG1heGltdW0gYml0cmF0ZSAoaW4gYml0cyBwZXIgc2Vjb25kKSBvZiB0aGUgc2NyZWVuIHNoYXJlLlxuICAgKiBEZWZhdWx0cyB0byAzMDAwMDAwICgzTWJwcykuXG4gICAqL1xuICBtYXhCaXRyYXRlPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBUaGUgY29udGVudCBoaW50IHRvIHVzZSB3aGVuIHB1Ymxpc2hpbmcgdGhlIHNjcmVlbiBzaGFyZS5cbiAgICogVGhpcyBjYW4gYmUgdXNlZCB0byBvcHRpbWl6ZSB0aGUgdmlkZW8gcXVhbGl0eSBmb3IgZGlmZmVyZW50IHR5cGVzIG9mIGNvbnRlbnQuXG4gICAqXG4gICAqIERlZmF1bHRzIHRvICcnIChubyBoaW50LCBicm93c2VyJ3MgZGVmYXVsdCBiZWhhdmlvcikuXG4gICAqIFVzZSAnbW90aW9uJyBmb3IgdmlkZW8gY29udGVudCwgJ2RldGFpbCcgZm9yIHByZXNlbnRhdGlvbnMgb3IgZG9jdW1lbnRzLCBhbmQgJ3RleHQnIGZvciB0ZXh0LWhlYXZ5IGNvbnRlbnQuXG4gICAqXG4gICAqIFBsZWFzZSByZWFkIHRoZSBkb2N1bWVudGF0aW9uIGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIGNvbnRlbnQgaGludHM6XG4gICAqIC0gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL01lZGlhU3RyZWFtVHJhY2svY29udGVudEhpbnRcbiAgICovXG4gIGNvbnRlbnRIaW50PzogJycgfCAnbW90aW9uJyB8ICdkZXRhaWwnIHwgJ3RleHQnO1xufTtcblxuZXhwb3J0IHR5cGUgQ2FsbExlYXZlT3B0aW9ucyA9IHtcbiAgLyoqXG4gICAqIElmIHRydWUsIHRoZSBjYWxsZXIgd2lsbCBnZXQgYSBgY2FsbC5yZWplY3RlZGAgZXZlbnQuXG4gICAqIEhhcyBhbiBlZmZlY3Qgb25seSBpZiB0aGUgY2FsbCBpcyBpbiB0aGUgYHJpbmdpbmdgIHN0YXRlLlxuICAgKi9cbiAgcmVqZWN0PzogYm9vbGVhbjtcblxuICAvKipcbiAgICogVGhlIHJlYXNvbiBmb3IgbGVhdmluZyB0aGUgY2FsbC5cbiAgICogVGhpcyB3aWxsIGJlIHNlbnQgYXMgdGhlIGByZWFzb25gIGZpZWxkIGluIHRoZSBgY2FsbC5yZWplY3RlZGAgZXZlbnQuXG4gICAqL1xuICByZWFzb24/OiBSZWplY3RSZWFzb247XG5cbiAgLyoqXG4gICAqIFlvdSBjYW4gcHJvdmlkZSBleHRyYSBpbmZvcm1hdGlvbiBhYm91dCB3aHkgdGhlIGNhbGwgaXMgYmVpbmcgbGVmdCBhbmQvb3IgcmVqZWN0ZWQsIHVzZWQgZm9yIGxvZ2dpbmcgcHVycG9zZXMuXG4gICAqL1xuICBtZXNzYWdlPzogc3RyaW5nO1xufTtcblxuLyoqXG4gKiBUaGUgb3B0aW9ucyB0byBwYXNzIHRvIHtAbGluayBDYWxsfSBjb25zdHJ1Y3Rvci5cbiAqL1xuZXhwb3J0IHR5cGUgQ2FsbENvbnN0cnVjdG9yID0ge1xuICAvKipcbiAgICogVGhlIHN0cmVhbUNsaWVudCBpbnN0YW5jZSB0byB1c2UuXG4gICAqL1xuICBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcblxuICAvKipcbiAgICogVGhlIENhbGwgdHlwZS5cbiAgICovXG4gIHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIENhbGwgSUQuXG4gICAqL1xuICBpZDogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBBbiBvcHRpb25hbCBsaXN0IG9mIHtAbGluayBNZW1iZXJSZXNwb25zZX0gZnJvbSB0aGUgYmFja2VuZC5cbiAgICogSWYgcHJvdmlkZWQsIHRoZSBjYWxsIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZGF0YSBmcm9tIHRoaXMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGluaXRpYWxpemluZyBhIG5ldyBcInBlbmRpbmcgY2FsbFwiIGZyb20gYW4gZXZlbnQuXG4gICAqL1xuICBtZW1iZXJzPzogTWVtYmVyUmVzcG9uc2VbXTtcblxuICAvKipcbiAgICogQW4gb3B0aW9uYWwgbGlzdCBvZiB7QGxpbmsgT3duQ2FwYWJpbGl0eX0gY29taW5nIGZyb20gdGhlIGJhY2tlZC5cbiAgICogSWYgcHJvdmlkZWQsIHRoZSBjYWxsIHdpbGwgYmUgaW5pdGlhbGl6ZWQgd2l0aCB0aGUgZGF0YSBmcm9tIHRoaXMgb2JqZWN0LlxuICAgKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIGluaXRpYWxpemluZyBhIG5ldyBcInBlbmRpbmcgY2FsbFwiIGZyb20gYW4gZXZlbnQuXG4gICAqL1xuICBvd25DYXBhYmlsaXRpZXM/OiBPd25DYXBhYmlsaXR5W107XG5cbiAgLyoqXG4gICAqIEZsYWdzIHRoZSBjYWxsIGFzIGEgcmluZ2luZyBjYWxsLlxuICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgKi9cbiAgcmluZ2luZz86IGJvb2xlYW47XG5cbiAgLyoqXG4gICAqIFNldCB0byB0cnVlIGlmIHRoaXMgY2FsbCBpbnN0YW5jZSBzaG91bGQgcmVjZWl2ZSB1cGRhdGVzIGZyb20gdGhlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBkZWZhdWx0IGZhbHNlLlxuICAgKi9cbiAgd2F0Y2hpbmc/OiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBUaGUgZGVmYXVsdCBjb21wYXJhdG9yIHRvIHVzZSB3aGVuIHNvcnRpbmcgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc29ydFBhcnRpY2lwYW50c0J5PzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PjtcblxuICAvKipcbiAgICogVGhlIHN0YXRlIHN0b3JlIG9mIHRoZSBjbGllbnRcbiAgICovXG4gIGNsaWVudFN0b3JlOiBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmU7XG59O1xuXG4vKipcbiAqIFRoZSBvcHRpb25zIHRvIHBhc3MgdG8ge0BsaW5rIENhbGwuam9pbn0gbWV0aG9kLlxuICovXG5leHBvcnQgdHlwZSBKb2luQ2FsbERhdGEgPSBPbWl0PEpvaW5DYWxsUmVxdWVzdCwgJ2xvY2F0aW9uJz47XG5leHBvcnQgeyBBeGlvc0Vycm9yIH07XG4iLCIvLyBAZ2VuZXJhdGVkIGJ5IHByb3RvYnVmLXRzIDIuMTAuMCB3aXRoIHBhcmFtZXRlciBsb25nX3R5cGVfc3RyaW5nLGNsaWVudF9nZW5lcmljLHNlcnZlcl9ub25lLGVzbGludF9kaXNhYmxlLG9wdGltaXplX2NvZGVfc2l6ZVxuLy8gQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIGZpbGUgXCJ2aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwucHJvdG9cIiAocGFja2FnZSBcInN0cmVhbS52aWRlby5zZnUuc2lnbmFsXCIsIHN5bnRheCBwcm90bzMpXG4vLyB0c2xpbnQ6ZGlzYWJsZVxuaW1wb3J0IHR5cGUge1xuICBScGNPcHRpb25zLFxuICBScGNUcmFuc3BvcnQsXG4gIFNlcnZpY2VJbmZvLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgeyBzdGFja0ludGVyY2VwdCB9IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgdHlwZSB7XG4gIElDRVJlc3RhcnRSZXF1ZXN0LFxuICBJQ0VSZXN0YXJ0UmVzcG9uc2UsXG4gIElDRVRyaWNrbGVSZXNwb25zZSxcbiAgU2VuZEFuc3dlclJlcXVlc3QsXG4gIFNlbmRBbnN3ZXJSZXNwb25zZSxcbiAgU2VuZFN0YXRzUmVxdWVzdCxcbiAgU2VuZFN0YXRzUmVzcG9uc2UsXG4gIFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gIFNldFB1Ymxpc2hlclJlc3BvbnNlLFxuICBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlLFxuICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSxcbiAgVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsXG4gIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZSxcbiAgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsXG4gIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZSxcbn0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHsgU2lnbmFsU2VydmVyIH0gZnJvbSAnLi9zaWduYWwnO1xuaW1wb3J0IHR5cGUgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi4vbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHNlcnZpY2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgSVNpZ25hbFNlcnZlckNsaWVudCB7XG4gIC8qKlxuICAgKiBTZXRQdWJsaXNoZXIgc2VuZHMgdGhlIFdlYlJUQyBvZmZlciBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiB1c2VkIHRvIHB1Ymxpc2ggQS9WXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNldFB1Ymxpc2hlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZXRQdWJsaXNoZXIoXG4gICAgaW5wdXQ6IFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBhbnN3ZXIgaXMgc2VudCBieSB0aGUgY2xpZW50IHRvIHRoZSBTRlUgYWZ0ZXIgcmVjZWl2aW5nIGEgc3Vic2NyaWJlcl9vZmZlci5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZEFuc3dlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRBbnN3ZXIoXG4gICAgaW5wdXQ6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZEFuc3dlclJlcXVlc3QsIFNlbmRBbnN3ZXJSZXNwb25zZT47XG4gIC8qKlxuICAgKiBTZW5kSUNFQ2FuZGlkYXRlIHNlbmRzIGFuIElDRSBjYW5kaWRhdGUgdG8gdGhlIGNsaWVudFxuICAgKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBJY2VUcmlja2xlKHN0cmVhbS52aWRlby5zZnUubW9kZWxzLklDRVRyaWNrbGUpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVRyaWNrbGVSZXNwb25zZSk7XG4gICAqL1xuICBpY2VUcmlja2xlKFxuICAgIGlucHV0OiBJQ0VUcmlja2xlLFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8SUNFVHJpY2tsZSwgSUNFVHJpY2tsZVJlc3BvbnNlPjtcbiAgLyoqXG4gICAqIFVwZGF0ZVN1YnNjcmliZXJzIGlzIHVzZWQgdG8gbm90aWZ5IHRoZSBTRlUgYWJvdXQgdGhlIGxpc3Qgb2YgdmlkZW8gc3Vic2NyaXB0aW9uc1xuICAgKiBUT0RPOiBzeW5jIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdGhpcyArIHVwZGF0ZSB0cmFja3MgdXNpbmcgdGhlIGRpbWVuc2lvbiBpbmZvIHNlbnQgYnkgdGhlIHVzZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlU3Vic2NyaXB0aW9ucyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMoXG4gICAgaW5wdXQ6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT47XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBVcGRhdGVNdXRlU3RhdGVzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UpO1xuICAgKi9cbiAgdXBkYXRlTXV0ZVN0YXRlcyhcbiAgICBpbnB1dDogVXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxVcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCwgVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVJlc3RhcnQoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZSk7XG4gICAqL1xuICBpY2VSZXN0YXJ0KFxuICAgIGlucHV0OiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVJlc3RhcnRSZXF1ZXN0LCBJQ0VSZXN0YXJ0UmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZFN0YXRzKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1JlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlNlbmRTdGF0c1Jlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRTdGF0cyhcbiAgICBpbnB1dDogU2VuZFN0YXRzUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFNlbmRTdGF0c1JlcXVlc3QsIFNlbmRTdGF0c1Jlc3BvbnNlPjtcbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZSk7XG4gICAqL1xuICBzdGFydE5vaXNlQ2FuY2VsbGF0aW9uKFxuICAgIGlucHV0OiBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LCBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2U+O1xuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0b3BOb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPjtcbn1cbi8qKlxuICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHNlcnZpY2Ugc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2lnbmFsU2VydmVyXG4gKi9cbmV4cG9ydCBjbGFzcyBTaWduYWxTZXJ2ZXJDbGllbnQgaW1wbGVtZW50cyBJU2lnbmFsU2VydmVyQ2xpZW50LCBTZXJ2aWNlSW5mbyB7XG4gIHR5cGVOYW1lID0gU2lnbmFsU2VydmVyLnR5cGVOYW1lO1xuICBtZXRob2RzID0gU2lnbmFsU2VydmVyLm1ldGhvZHM7XG4gIG9wdGlvbnMgPSBTaWduYWxTZXJ2ZXIub3B0aW9ucztcbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBfdHJhbnNwb3J0OiBScGNUcmFuc3BvcnQpIHt9XG4gIC8qKlxuICAgKiBTZXRQdWJsaXNoZXIgc2VuZHMgdGhlIFdlYlJUQyBvZmZlciBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiB1c2VkIHRvIHB1Ymxpc2ggQS9WXG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IFNldFB1Ymxpc2hlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXF1ZXN0KSByZXR1cm5zIChzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZXRQdWJsaXNoZXJSZXNwb25zZSk7XG4gICAqL1xuICBzZXRQdWJsaXNoZXIoXG4gICAgaW5wdXQ6IFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxTZXRQdWJsaXNoZXJSZXF1ZXN0LCBTZXRQdWJsaXNoZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1swXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFNldFB1Ymxpc2hlclJlcXVlc3QsIFNldFB1Ymxpc2hlclJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBhbnN3ZXIgaXMgc2VudCBieSB0aGUgY2xpZW50IHRvIHRoZSBTRlUgYWZ0ZXIgcmVjZWl2aW5nIGEgc3Vic2NyaWJlcl9vZmZlci5cbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU2VuZEFuc3dlcihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TZW5kQW5zd2VyUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZEFuc3dlclJlc3BvbnNlKTtcbiAgICovXG4gIHNlbmRBbnN3ZXIoXG4gICAgaW5wdXQ6IFNlbmRBbnN3ZXJSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZEFuc3dlclJlcXVlc3QsIFNlbmRBbnN3ZXJSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1sxXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFNlbmRBbnN3ZXJSZXF1ZXN0LCBTZW5kQW5zd2VyUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFNlbmRJQ0VDYW5kaWRhdGUgc2VuZHMgYW4gSUNFIGNhbmRpZGF0ZSB0byB0aGUgY2xpZW50XG4gICAqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVRyaWNrbGUoc3RyZWFtLnZpZGVvLnNmdS5tb2RlbHMuSUNFVHJpY2tsZSkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFVHJpY2tsZVJlc3BvbnNlKTtcbiAgICovXG4gIGljZVRyaWNrbGUoXG4gICAgaW5wdXQ6IElDRVRyaWNrbGUsXG4gICAgb3B0aW9ucz86IFJwY09wdGlvbnMsXG4gICk6IFVuYXJ5Q2FsbDxJQ0VUcmlja2xlLCBJQ0VUcmlja2xlUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbMl0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxJQ0VUcmlja2xlLCBJQ0VUcmlja2xlUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIFVwZGF0ZVN1YnNjcmliZXJzIGlzIHVzZWQgdG8gbm90aWZ5IHRoZSBTRlUgYWJvdXQgdGhlIGxpc3Qgb2YgdmlkZW8gc3Vic2NyaXB0aW9uc1xuICAgKiBUT0RPOiBzeW5jIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdGhpcyArIHVwZGF0ZSB0cmFja3MgdXNpbmcgdGhlIGRpbWVuc2lvbiBpbmZvIHNlbnQgYnkgdGhlIHVzZXJcbiAgICpcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlU3Vic2NyaXB0aW9ucyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVTdWJzY3JpcHRpb25zUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZVN1YnNjcmlwdGlvbnMoXG4gICAgaW5wdXQ6IFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsIFVwZGF0ZVN1YnNjcmlwdGlvbnNSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1szXSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QsXG4gICAgICBVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogVXBkYXRlTXV0ZVN0YXRlcyhzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5VcGRhdGVNdXRlU3RhdGVzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlKTtcbiAgICovXG4gIHVwZGF0ZU11dGVTdGF0ZXMoXG4gICAgaW5wdXQ6IFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8VXBkYXRlTXV0ZVN0YXRlc1JlcXVlc3QsIFVwZGF0ZU11dGVTdGF0ZXNSZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s0XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0LCBVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2U+KFxuICAgICAgJ3VuYXJ5JyxcbiAgICAgIHRoaXMuX3RyYW5zcG9ydCxcbiAgICAgIG1ldGhvZCxcbiAgICAgIG9wdCxcbiAgICAgIGlucHV0LFxuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEBnZW5lcmF0ZWQgZnJvbSBwcm90b2J1ZiBycGM6IEljZVJlc3RhcnQoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuSUNFUmVzdGFydFJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLklDRVJlc3RhcnRSZXNwb25zZSk7XG4gICAqL1xuICBpY2VSZXN0YXJ0KFxuICAgIGlucHV0OiBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPElDRVJlc3RhcnRSZXF1ZXN0LCBJQ0VSZXN0YXJ0UmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNV0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxJQ0VSZXN0YXJ0UmVxdWVzdCwgSUNFUmVzdGFydFJlc3BvbnNlPihcbiAgICAgICd1bmFyeScsXG4gICAgICB0aGlzLl90cmFuc3BvcnQsXG4gICAgICBtZXRob2QsXG4gICAgICBvcHQsXG4gICAgICBpbnB1dCxcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBAZ2VuZXJhdGVkIGZyb20gcHJvdG9idWYgcnBjOiBTZW5kU3RhdHMoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU2VuZFN0YXRzUmVzcG9uc2UpO1xuICAgKi9cbiAgc2VuZFN0YXRzKFxuICAgIGlucHV0OiBTZW5kU3RhdHNSZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U2VuZFN0YXRzUmVxdWVzdCwgU2VuZFN0YXRzUmVzcG9uc2U+IHtcbiAgICBjb25zdCBtZXRob2QgPSB0aGlzLm1ldGhvZHNbNl0sXG4gICAgICBvcHQgPSB0aGlzLl90cmFuc3BvcnQubWVyZ2VPcHRpb25zKG9wdGlvbnMpO1xuICAgIHJldHVybiBzdGFja0ludGVyY2VwdDxTZW5kU3RhdHNSZXF1ZXN0LCBTZW5kU3RhdHNSZXNwb25zZT4oXG4gICAgICAndW5hcnknLFxuICAgICAgdGhpcy5fdHJhbnNwb3J0LFxuICAgICAgbWV0aG9kLFxuICAgICAgb3B0LFxuICAgICAgaW5wdXQsXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RhcnROb2lzZUNhbmNlbGxhdGlvbihzdHJlYW0udmlkZW8uc2Z1LnNpZ25hbC5TdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCkgcmV0dXJucyAoc3RyZWFtLnZpZGVvLnNmdS5zaWduYWwuU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24oXG4gICAgaW5wdXQ6IFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgIG9wdGlvbnM/OiBScGNPcHRpb25zLFxuICApOiBVbmFyeUNhbGw8U3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXNwb25zZT4ge1xuICAgIGNvbnN0IG1ldGhvZCA9IHRoaXMubWV0aG9kc1s3XSxcbiAgICAgIG9wdCA9IHRoaXMuX3RyYW5zcG9ydC5tZXJnZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgcmV0dXJuIHN0YWNrSW50ZXJjZXB0PFxuICAgICAgU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsXG4gICAgICBTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxuICAvKipcbiAgICogQGdlbmVyYXRlZCBmcm9tIHByb3RvYnVmIHJwYzogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QpIHJldHVybnMgKHN0cmVhbS52aWRlby5zZnUuc2lnbmFsLlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlKTtcbiAgICovXG4gIHN0b3BOb2lzZUNhbmNlbGxhdGlvbihcbiAgICBpbnB1dDogU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVxdWVzdCxcbiAgICBvcHRpb25zPzogUnBjT3B0aW9ucyxcbiAgKTogVW5hcnlDYWxsPFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QsIFN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlPiB7XG4gICAgY29uc3QgbWV0aG9kID0gdGhpcy5tZXRob2RzWzhdLFxuICAgICAgb3B0ID0gdGhpcy5fdHJhbnNwb3J0Lm1lcmdlT3B0aW9ucyhvcHRpb25zKTtcbiAgICByZXR1cm4gc3RhY2tJbnRlcmNlcHQ8XG4gICAgICBTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0LFxuICAgICAgU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2VcbiAgICA+KCd1bmFyeScsIHRoaXMuX3RyYW5zcG9ydCwgbWV0aG9kLCBvcHQsIGlucHV0KTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgTWV0aG9kSW5mbyxcbiAgTmV4dFVuYXJ5Rm4sXG4gIFJwY0ludGVyY2VwdG9yLFxuICBScGNPcHRpb25zLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQge1xuICBUd2lycEZldGNoVHJhbnNwb3J0LFxuICBUd2lycE9wdGlvbnMsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy90d2lycC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgU2lnbmFsU2VydmVyQ2xpZW50IH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbC5jbGllbnQnO1xuaW1wb3J0IHsgTG9nZ2VyLCBMb2dMZXZlbCB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBUcmFjZSB9IGZyb20gJy4uL3N0YXRzJztcbmltcG9ydCB0eXBlIHsgU2Z1UmVzcG9uc2VXaXRoRXJyb3IgfSBmcm9tICcuL3JldHJ5YWJsZSc7XG5cbmNvbnN0IGRlZmF1bHRPcHRpb25zOiBUd2lycE9wdGlvbnMgPSB7XG4gIGJhc2VVcmw6ICcnLFxuICBzZW5kSnNvbjogdHJ1ZSxcbiAgdGltZW91dDogNSAqIDEwMDAsIC8vIG1zLlxuICBqc29uT3B0aW9uczoge1xuICAgIGlnbm9yZVVua25vd25GaWVsZHM6IHRydWUsXG4gIH0sXG59O1xuXG5leHBvcnQgY29uc3Qgd2l0aEhlYWRlcnMgPSAoXG4gIGhlYWRlcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG4pOiBScGNJbnRlcmNlcHRvciA9PiB7XG4gIHJldHVybiB7XG4gICAgaW50ZXJjZXB0VW5hcnkoXG4gICAgICBuZXh0OiBOZXh0VW5hcnlGbixcbiAgICAgIG1ldGhvZDogTWV0aG9kSW5mbyxcbiAgICAgIGlucHV0OiBvYmplY3QsXG4gICAgICBvcHRpb25zOiBScGNPcHRpb25zLFxuICAgICk6IFVuYXJ5Q2FsbCB7XG4gICAgICBvcHRpb25zLm1ldGEgPSB7IC4uLm9wdGlvbnMubWV0YSwgLi4uaGVhZGVycyB9O1xuICAgICAgcmV0dXJuIG5leHQobWV0aG9kLCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgfSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCB3aXRoUmVxdWVzdExvZ2dlciA9IChcbiAgbG9nZ2VyOiBMb2dnZXIsXG4gIGxldmVsOiBMb2dMZXZlbCxcbik6IFJwY0ludGVyY2VwdG9yID0+IHtcbiAgcmV0dXJuIHtcbiAgICBpbnRlcmNlcHRVbmFyeTogKFxuICAgICAgbmV4dDogTmV4dFVuYXJ5Rm4sXG4gICAgICBtZXRob2Q6IE1ldGhvZEluZm8sXG4gICAgICBpbnB1dDogb2JqZWN0LFxuICAgICAgb3B0aW9uczogUnBjT3B0aW9ucyxcbiAgICApOiBVbmFyeUNhbGwgPT4ge1xuICAgICAgY29uc3QgaW52b2NhdGlvbiA9IG5leHQobWV0aG9kLCBpbnB1dCwgb3B0aW9ucyk7XG4gICAgICBsb2dnZXIobGV2ZWwsIGBJbnZva2VkIFNGVSBSUEMgbWV0aG9kICR7bWV0aG9kLm5hbWV9YCwge1xuICAgICAgICByZXF1ZXN0OiBpbnZvY2F0aW9uLnJlcXVlc3QsXG4gICAgICAgIGhlYWRlcnM6IGludm9jYXRpb24ucmVxdWVzdEhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlOiBpbnZvY2F0aW9uLnJlc3BvbnNlLFxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBpbnZvY2F0aW9uO1xuICAgIH0sXG4gIH07XG59O1xuXG5leHBvcnQgY29uc3Qgd2l0aFJlcXVlc3RUcmFjZXIgPSAodHJhY2U6IFRyYWNlKTogUnBjSW50ZXJjZXB0b3IgPT4ge1xuICB0eXBlIFJwY01ldGhvZE5hbWVzID0ge1xuICAgIFtLIGluIGtleW9mIFNpZ25hbFNlcnZlckNsaWVudCBhcyBDYXBpdGFsaXplPEs+XTogYm9vbGVhbjtcbiAgfTtcblxuICBjb25zdCB0cmFjZUVycm9yID0gKG5hbWU6IHN0cmluZywgaW5wdXQ6IG9iamVjdCwgZXJyOiB1bmtub3duKSA9PlxuICAgIHRyYWNlKGAke25hbWV9T25GYWlsdXJlYCwgW2VyciwgaW5wdXRdKTtcblxuICBjb25zdCBleGNsdXNpb25zOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuIHwgdW5kZWZpbmVkPiA9IHtcbiAgICBTZW5kU3RhdHM6IHRydWUsXG4gIH0gc2F0aXNmaWVzIFBhcnRpYWw8UnBjTWV0aG9kTmFtZXM+O1xuICByZXR1cm4ge1xuICAgIGludGVyY2VwdFVuYXJ5KFxuICAgICAgbmV4dDogTmV4dFVuYXJ5Rm4sXG4gICAgICBtZXRob2Q6IE1ldGhvZEluZm8sXG4gICAgICBpbnB1dDogb2JqZWN0LFxuICAgICAgb3B0aW9uczogUnBjT3B0aW9ucyxcbiAgICApOiBVbmFyeUNhbGwge1xuICAgICAgaWYgKGV4Y2x1c2lvbnNbbWV0aG9kLm5hbWUgYXMga2V5b2YgUnBjTWV0aG9kTmFtZXNdKSB7XG4gICAgICAgIHJldHVybiBuZXh0KG1ldGhvZCwgaW5wdXQsIG9wdGlvbnMpO1xuICAgICAgfVxuXG4gICAgICB0cmFjZShtZXRob2QubmFtZSwgaW5wdXQpO1xuICAgICAgY29uc3QgdW5hcnlDYWxsID0gbmV4dChtZXRob2QsIGlucHV0LCBvcHRpb25zKTtcbiAgICAgIHVuYXJ5Q2FsbC50aGVuKFxuICAgICAgICAoaW52b2NhdGlvbikgPT4ge1xuICAgICAgICAgIGNvbnN0IGVyciA9IChpbnZvY2F0aW9uLnJlc3BvbnNlIGFzIFNmdVJlc3BvbnNlV2l0aEVycm9yKT8uZXJyb3I7XG4gICAgICAgICAgaWYgKGVycikgdHJhY2VFcnJvcihtZXRob2QubmFtZSwgaW5wdXQsIGVycik7XG4gICAgICAgIH0sXG4gICAgICAgIChlcnIpID0+IHRyYWNlRXJyb3IobWV0aG9kLm5hbWUsIGlucHV0LCBlcnIpLFxuICAgICAgKTtcbiAgICAgIHJldHVybiB1bmFyeUNhbGw7XG4gICAgfSxcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBuZXcgU2lnbmFsU2VydmVyQ2xpZW50IGluc3RhbmNlLlxuICpcbiAqIEBwYXJhbSBvcHRpb25zIHRoZSB0d2lycCBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlU2lnbmFsQ2xpZW50ID0gKG9wdGlvbnM/OiBUd2lycE9wdGlvbnMpID0+IHtcbiAgY29uc3QgdHJhbnNwb3J0ID0gbmV3IFR3aXJwRmV0Y2hUcmFuc3BvcnQoe1xuICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgIC4uLm9wdGlvbnMsXG4gIH0pO1xuXG4gIHJldHVybiBuZXcgU2lnbmFsU2VydmVyQ2xpZW50KHRyYW5zcG9ydCk7XG59O1xuIiwiaW1wb3J0IHR5cGUgeyBBeGlvc1Jlc3BvbnNlIH0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHR5cGUgeyBBUElFcnJvclJlc3BvbnNlIH0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7IENvbm5lY3Rpb25FcnJvckV2ZW50IH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG06IG51bWJlcikgPT4gbmV3IFByb21pc2UoKHIpID0+IHNldFRpbWVvdXQociwgbSkpO1xuXG5leHBvcnQgZnVuY3Rpb24gaXNGdW5jdGlvbjxUPih2YWx1ZTogRnVuY3Rpb24gfCBUKTogdmFsdWUgaXMgRnVuY3Rpb24ge1xuICByZXR1cm4gKFxuICAgIHZhbHVlICYmXG4gICAgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScgfHxcbiAgICAgICdmdW5jdGlvbicgPT09IHR5cGVvZiB2YWx1ZSB8fFxuICAgICAgdmFsdWUgaW5zdGFuY2VvZiBGdW5jdGlvbilcbiAgKTtcbn1cblxuLyoqXG4gKiBBIG1hcCBvZiBrbm93biBlcnJvciBjb2Rlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IEtub3duQ29kZXMgPSB7XG4gIFRPS0VOX0VYUElSRUQ6IDQwLFxuICBXU19DTE9TRURfU1VDQ0VTUzogMTAwMCxcbn07XG5cbi8qKlxuICogcmV0cnlJbnRlcnZhbCAtIEEgcmV0cnkgaW50ZXJ2YWwgd2hpY2ggaW5jcmVhc2VzIGFjYyB0byBudW1iZXIgb2YgZmFpbHVyZXNcbiAqXG4gKiBAcmV0dXJuIHtudW1iZXJ9IER1cmF0aW9uIHRvIHdhaXQgaW4gbWlsbGlzZWNvbmRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZXRyeUludGVydmFsKG51bWJlck9mRmFpbHVyZXM6IG51bWJlcik6IG51bWJlciB7XG4gIC8vIHRyeSB0byByZWNvbm5lY3QgaW4gMC4yNS01IHNlY29uZHMgKHJhbmRvbSB0byBzcHJlYWQgb3V0IHRoZSBsb2FkIGZyb20gZmFpbHVyZXMpXG4gIGNvbnN0IG1heCA9IE1hdGgubWluKDUwMCArIG51bWJlck9mRmFpbHVyZXMgKiAyMDAwLCA1MDAwKTtcbiAgY29uc3QgbWluID0gTWF0aC5taW4oTWF0aC5tYXgoMjUwLCAobnVtYmVyT2ZGYWlsdXJlcyAtIDEpICogMjAwMCksIDUwMDApO1xuICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbikgKyBtaW4pO1xufVxuXG5mdW5jdGlvbiBoZXgoYnl0ZXM6IFVpbnQ4QXJyYXkpOiBzdHJpbmcge1xuICBsZXQgcyA9ICcnO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgcyArPSBieXRlc1tpXS50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTtcbiAgfVxuICByZXR1cm4gcztcbn1cblxuLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzQxMjJcbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVVVSUR2NCgpIHtcbiAgY29uc3QgYnl0ZXMgPSBnZXRSYW5kb21CeXRlcygxNik7XG4gIGJ5dGVzWzZdID0gKGJ5dGVzWzZdICYgMHgwZikgfCAweDQwOyAvLyB2ZXJzaW9uXG4gIGJ5dGVzWzhdID0gKGJ5dGVzWzhdICYgMHhiZikgfCAweDgwOyAvLyB2YXJpYW50XG5cbiAgcmV0dXJuIFtcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoMCwgNCkpLFxuICAgIGhleChieXRlcy5zdWJhcnJheSg0LCA2KSksXG4gICAgaGV4KGJ5dGVzLnN1YmFycmF5KDYsIDgpKSxcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoOCwgMTApKSxcbiAgICBoZXgoYnl0ZXMuc3ViYXJyYXkoMTAsIDE2KSksXG4gIF0uam9pbignLScpO1xufVxuXG5jb25zdCBnZXRSYW5kb21WYWx1ZXMgPSAoKCkgPT4ge1xuICBpZiAodHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcykge1xuICAgIHJldHVybiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24gZ2V0UmFuZG9tVmFsdWVzV2l0aE1hdGhSYW5kb20oYnl0ZXM6IFVpbnQ4QXJyYXkpOiB2b2lkIHtcbiAgICBjb25zdCBtYXggPSBNYXRoLnBvdygyLCAoOCAqIGJ5dGVzLmJ5dGVMZW5ndGgpIC8gYnl0ZXMubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJ5dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBieXRlc1tpXSA9IE1hdGgucmFuZG9tKCkgKiBtYXg7XG4gICAgfVxuICB9O1xufSkoKTtcblxuZnVuY3Rpb24gZ2V0UmFuZG9tQnl0ZXMobGVuZ3RoOiBudW1iZXIpOiBVaW50OEFycmF5IHtcbiAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICBnZXRSYW5kb21WYWx1ZXMoYnl0ZXMpO1xuICByZXR1cm4gYnl0ZXM7XG59XG5cbi8qKlxuICogbGlzdGVuRm9yQ29ubmVjdGlvbkNoYW5nZXMgLSBBZGRzIGFuIGV2ZW50IGxpc3RlbmVyIGZpcmVkIG9uIGJyb3dzZXIgZ29pbmcgb25saW5lIG9yIG9mZmxpbmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyhjYjogKGU6IEV2ZW50KSA9PiB2b2lkKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgY2IpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyhjYjogKGU6IEV2ZW50KSA9PiB2b2lkKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcikge1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgY2IpO1xuICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBjYik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRXJyb3JSZXNwb25zZShcbiAgcmVzOiBBeGlvc1Jlc3BvbnNlPHVua25vd24+LFxuKTogcmVzIGlzIEF4aW9zUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4ge1xuICByZXR1cm4gIXJlcy5zdGF0dXMgfHwgcmVzLnN0YXR1cyA8IDIwMCB8fCAzMDAgPD0gcmVzLnN0YXR1cztcbn1cblxuLy8gVHlwZSBndWFyZHMgdG8gY2hlY2sgV2ViU29ja2V0IGVycm9yIHR5cGVcbmV4cG9ydCBmdW5jdGlvbiBpc0Nsb3NlRXZlbnQoXG4gIHJlczogQ2xvc2VFdmVudCB8IENvbm5lY3Rpb25FcnJvckV2ZW50LFxuKTogcmVzIGlzIENsb3NlRXZlbnQge1xuICByZXR1cm4gKHJlcyBhcyBDbG9zZUV2ZW50KS5jb2RlICE9PSB1bmRlZmluZWQ7XG59XG4iLCIvKipcbiAqIENoZWNrcyB3aGV0aGVyIHdlIGFyZSB1c2luZyBSZWFjdCBOYXRpdmVcbiAqL1xuZXhwb3J0IGNvbnN0IGlzUmVhY3ROYXRpdmUgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gbmF2aWdhdG9yLnByb2R1Y3Q/LnRvTG93ZXJDYXNlKCkgPT09ICdyZWFjdG5hdGl2ZSc7XG59O1xuIiwiaW1wb3J0IHsgTG9nZ2VyLCBMb2dMZXZlbCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5cbi8vIGxvZyBsZXZlbHMsIHNvcnRlZCBieSB2ZXJib3NpdHlcbmV4cG9ydCBjb25zdCBsb2dMZXZlbHM6IFJlY29yZDxMb2dMZXZlbCwgbnVtYmVyPiA9IE9iamVjdC5mcmVlemUoe1xuICB0cmFjZTogMCxcbiAgZGVidWc6IDEsXG4gIGluZm86IDIsXG4gIHdhcm46IDMsXG4gIGVycm9yOiA0LFxufSk7XG5cbmxldCBsb2dnZXI6IExvZ2dlciB8IHVuZGVmaW5lZDtcbmxldCBsZXZlbDogTG9nTGV2ZWwgPSAnaW5mbyc7XG5cbmV4cG9ydCBjb25zdCBsb2dUb0NvbnNvbGU6IExvZ2dlciA9IChsb2dMZXZlbCwgbWVzc2FnZSwgLi4uYXJncykgPT4ge1xuICBsZXQgbG9nTWV0aG9kO1xuICBzd2l0Y2ggKGxvZ0xldmVsKSB7XG4gICAgY2FzZSAnZXJyb3InOlxuICAgICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICBtZXNzYWdlID0gYEVSUk9SOiAke21lc3NhZ2V9YDtcbiAgICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5pbmZvO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd3YXJuJzpcbiAgICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgbWVzc2FnZSA9IGBXQVJOOiAke21lc3NhZ2V9YDtcbiAgICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5pbmZvO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGxvZ01ldGhvZCA9IGNvbnNvbGUud2FybjtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2luZm8nOlxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS5pbmZvO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndHJhY2UnOlxuICAgICAgbG9nTWV0aG9kID0gY29uc29sZS50cmFjZTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBsb2dNZXRob2QgPSBjb25zb2xlLmxvZztcbiAgICAgIGJyZWFrO1xuICB9XG5cbiAgbG9nTWV0aG9kKG1lc3NhZ2UsIC4uLmFyZ3MpO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldExvZ2dlciA9IChsOiBMb2dnZXIsIGx2bD86IExvZ0xldmVsKSA9PiB7XG4gIGxvZ2dlciA9IGw7XG4gIGlmIChsdmwpIHtcbiAgICBzZXRMb2dMZXZlbChsdmwpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0TG9nTGV2ZWwgPSAobDogTG9nTGV2ZWwpID0+IHtcbiAgbGV2ZWwgPSBsO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldExvZ0xldmVsID0gKCk6IExvZ0xldmVsID0+IGxldmVsO1xuXG5leHBvcnQgY29uc3QgZ2V0TG9nZ2VyID0gKHdpdGhUYWdzPzogc3RyaW5nW10pID0+IHtcbiAgY29uc3QgbG9nZ2VyTWV0aG9kID0gbG9nZ2VyIHx8IGxvZ1RvQ29uc29sZTtcbiAgY29uc3QgdGFncyA9ICh3aXRoVGFncyB8fCBbXSkuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJzonKTtcbiAgY29uc3QgcmVzdWx0OiBMb2dnZXIgPSAobG9nTGV2ZWwsIG1lc3NhZ2UsIC4uLmFyZ3MpID0+IHtcbiAgICBpZiAobG9nTGV2ZWxzW2xvZ0xldmVsXSA+PSBsb2dMZXZlbHNbbGV2ZWxdKSB7XG4gICAgICBsb2dnZXJNZXRob2QobG9nTGV2ZWwsIGBbJHt0YWdzfV06ICR7bWVzc2FnZX1gLCAuLi5hcmdzKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiByZXN1bHQ7XG59O1xuIiwiaW1wb3J0IHtcbiAgRmluaXNoZWRVbmFyeUNhbGwsXG4gIFJwY0Vycm9yLFxuICBVbmFyeUNhbGwsXG59IGZyb20gJ0Bwcm90b2J1Zi10cy9ydW50aW1lLXJwYyc7XG5pbXBvcnQgeyBUd2lycEVycm9yQ29kZSB9IGZyb20gJ0Bwcm90b2J1Zi10cy90d2lycC10cmFuc3BvcnQnO1xuaW1wb3J0IHsgcmV0cnlJbnRlcnZhbCwgc2xlZXAgfSBmcm9tICcuLi9jb29yZGluYXRvci9jb25uZWN0aW9uL3V0aWxzJztcbmltcG9ydCB7IEVycm9yIGFzIFNmdUVycm9yIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbi8qKlxuICogQW4gaW50ZXJuYWwgaW50ZXJmYWNlIHdoaWNoIGFzc2VydHMgdGhhdCBcInJldHJ5YWJsZVwiIFNGVSByZXNwb25zZXNcbiAqIGNvbnRhaW4gYSBmaWVsZCBjYWxsZWQgXCJlcnJvclwiLlxuICogSWRlYWxseSwgdGhpcyBzaG91bGQgYmUgY29taW5nIGZyb20gdGhlIFByb3RvYnVmIGRlZmluaXRpb25zLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNmdVJlc3BvbnNlV2l0aEVycm9yIHtcbiAgLyoqXG4gICAqIEFuIG9wdGlvbmFsIGVycm9yIGZpZWxkIHdoaWNoIHNob3VsZCBiZSBwcmVzZW50IGluIGFsbCBTRlUgcmVzcG9uc2VzLlxuICAgKi9cbiAgZXJyb3I/OiBTZnVFcnJvcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgY2xvc3VyZSB3aGljaCB3cmFwcyB0aGUgZ2l2ZW4gUlBDIGNhbGwgYW5kIHJldHJpZXMgaW52b2tpbmdcbiAqIHRoZSBSUEMgdW50aWwgaXQgc3VjY2VlZHMgb3IgdGhlIG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgaXMgcmVhY2hlZC5cbiAqXG4gKiBGb3IgZWFjaCByZXRyeSwgdGhlcmUgd291bGQgYmUgYSBkZWxheSB0byBhdm9pZCByZXF1ZXN0IGJ1cnN0cyB0b3dhcmQgdGhlIFNGVS5cbiAqXG4gKiBAcGFyYW0gcnBjIHRoZSBjbG9zdXJlIGFyb3VuZCB0aGUgUlBDIGNhbGwgdG8gZXhlY3V0ZS5cbiAqIEBwYXJhbSBzaWduYWwgdGhlIHNpZ25hbCB0byBhYm9ydCB0aGUgUlBDIGNhbGwgYW5kIHJldHJpZXMgbG9vcC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJldHJ5YWJsZSA9IGFzeW5jIDxcbiAgSSBleHRlbmRzIG9iamVjdCxcbiAgTyBleHRlbmRzIFNmdVJlc3BvbnNlV2l0aEVycm9yLFxuPihcbiAgcnBjOiAoKSA9PiBVbmFyeUNhbGw8SSwgTz4sXG4gIHNpZ25hbD86IEFib3J0U2lnbmFsLFxuKTogUHJvbWlzZTxGaW5pc2hlZFVuYXJ5Q2FsbDxJLCBPPj4gPT4ge1xuICBsZXQgYXR0ZW1wdCA9IDA7XG4gIGxldCByZXN1bHQ6IEZpbmlzaGVkVW5hcnlDYWxsPEksIE8+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICBkbyB7XG4gICAgaWYgKGF0dGVtcHQgPiAwKSBhd2FpdCBzbGVlcChyZXRyeUludGVydmFsKGF0dGVtcHQpKTtcbiAgICB0cnkge1xuICAgICAgcmVzdWx0ID0gYXdhaXQgcnBjKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zdCBpc1JlcXVlc3RDYW5jZWxsZWQgPVxuICAgICAgICBlcnIgaW5zdGFuY2VvZiBScGNFcnJvciAmJlxuICAgICAgICBlcnIuY29kZSA9PT0gVHdpcnBFcnJvckNvZGVbVHdpcnBFcnJvckNvZGUuY2FuY2VsbGVkXTtcbiAgICAgIGNvbnN0IGlzQWJvcnRlZCA9IHNpZ25hbD8uYWJvcnRlZCA/PyBmYWxzZTtcbiAgICAgIGlmIChpc1JlcXVlc3RDYW5jZWxsZWQgfHwgaXNBYm9ydGVkKSB0aHJvdyBlcnI7XG4gICAgICBnZXRMb2dnZXIoWydzZnUtY2xpZW50JywgJ3JwYyddKSgnZGVidWcnLCBgcnBjIGZhaWxlZCAoJHthdHRlbXB0fSlgLCBlcnIpO1xuICAgICAgYXR0ZW1wdCsrO1xuICAgIH1cbiAgfSB3aGlsZSAoIXJlc3VsdCB8fCByZXN1bHQucmVzcG9uc2UuZXJyb3I/LnNob3VsZFJldHJ5KTtcblxuICByZXR1cm4gcmVzdWx0O1xufTtcbiIsIi8qKlxuICogUmV0dXJucyBhIGdlbmVyaWMgU0RQIGZvciB0aGUgZ2l2ZW4gZGlyZWN0aW9uLlxuICogV2UgdXNlIHRoaXMgU0RQIHRvIHNlbmQgaXQgYXMgcGFydCBvZiBvdXIgSm9pblJlcXVlc3Qgc28gdGhhdCB0aGUgU0ZVXG4gKiBjYW4gdXNlIGl0IHRvIGRldGVybWluZSB0aGUgY2xpZW50J3MgY29kZWMgY2FwYWJpbGl0aWVzLlxuICpcbiAqIEBwYXJhbSBkaXJlY3Rpb24gdGhlIGRpcmVjdGlvbiBvZiB0aGUgdHJhbnNjZWl2ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRHZW5lcmljU2RwID0gYXN5bmMgKGRpcmVjdGlvbjogUlRDUnRwVHJhbnNjZWl2ZXJEaXJlY3Rpb24pID0+IHtcbiAgY29uc3QgdGVtcFBjID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKCk7XG4gIHRlbXBQYy5hZGRUcmFuc2NlaXZlcigndmlkZW8nLCB7IGRpcmVjdGlvbiB9KTtcbiAgdGVtcFBjLmFkZFRyYW5zY2VpdmVyKCdhdWRpbycsIHsgZGlyZWN0aW9uIH0pO1xuXG4gIGNvbnN0IG9mZmVyID0gYXdhaXQgdGVtcFBjLmNyZWF0ZU9mZmVyKCk7XG4gIGNvbnN0IHNkcCA9IG9mZmVyLnNkcCA/PyAnJztcblxuICB0ZW1wUGMuZ2V0VHJhbnNjZWl2ZXJzKCkuZm9yRWFjaCgodCkgPT4ge1xuICAgIHQuc3RvcD8uKCk7XG4gIH0pO1xuICB0ZW1wUGMuY2xvc2UoKTtcbiAgcmV0dXJuIHNkcDtcbn07XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSBjb2RlYyBpcyBhbiBTVkMgY29kZWMuXG4gKlxuICogQHBhcmFtIGNvZGVjT3JNaW1lVHlwZSB0aGUgY29kZWMgdG8gY2hlY2suXG4gKi9cbmV4cG9ydCBjb25zdCBpc1N2Y0NvZGVjID0gKGNvZGVjT3JNaW1lVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkKSA9PiB7XG4gIGlmICghY29kZWNPck1pbWVUeXBlKSByZXR1cm4gZmFsc2U7XG4gIGNvZGVjT3JNaW1lVHlwZSA9IGNvZGVjT3JNaW1lVHlwZS50b0xvd2VyQ2FzZSgpO1xuICByZXR1cm4gKFxuICAgIGNvZGVjT3JNaW1lVHlwZSA9PT0gJ3ZwOScgfHxcbiAgICBjb2RlY09yTWltZVR5cGUgPT09ICdhdjEnIHx8XG4gICAgY29kZWNPck1pbWVUeXBlID09PSAndmlkZW8vdnA5JyB8fFxuICAgIGNvZGVjT3JNaW1lVHlwZSA9PT0gJ3ZpZGVvL2F2MSdcbiAgKTtcbn07XG4iLCJpbXBvcnQgeyBDYWxsRXZlbnRMaXN0ZW5lciwgRXZlbnRUeXBlcyB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHR5cGUgeyBTZnVFdmVudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmV4cG9ydCB0eXBlIFNmdUV2ZW50S2luZHMgPSBOb25OdWxsYWJsZTxTZnVFdmVudFsnZXZlbnRQYXlsb2FkJ11bJ29uZW9mS2luZCddPjtcbmV4cG9ydCB0eXBlIEFsbFNmdUV2ZW50cyA9IHtcbiAgW0sgaW4gU2Z1RXZlbnRLaW5kc106IEsgZXh0ZW5kcyBrZXlvZiBFeHRyYWN0PFxuICAgIFNmdUV2ZW50WydldmVudFBheWxvYWQnXSxcbiAgICB7IG9uZW9mS2luZDogSyB9XG4gID5cbiAgICA/IEV4dHJhY3Q8U2Z1RXZlbnRbJ2V2ZW50UGF5bG9hZCddLCB7IG9uZW9mS2luZDogSyB9PltLXVxuICAgIDogbmV2ZXI7XG59O1xuXG5leHBvcnQgdHlwZSBEaXNwYXRjaGFibGVNZXNzYWdlPEsgZXh0ZW5kcyBTZnVFdmVudEtpbmRzPiA9IHtcbiAgZXZlbnRQYXlsb2FkOiB7XG4gICAgb25lb2ZLaW5kOiBLO1xuICB9ICYge1xuICAgIFtLZXkgaW4gS106IEFsbFNmdUV2ZW50c1tLZXldO1xuICB9O1xufTtcblxuY29uc3Qgc2Z1RXZlbnRLaW5kczogUmVjb3JkPFNmdUV2ZW50S2luZHMsIHVuZGVmaW5lZD4gPSB7XG4gIHN1YnNjcmliZXJPZmZlcjogdW5kZWZpbmVkLFxuICBwdWJsaXNoZXJBbnN3ZXI6IHVuZGVmaW5lZCxcbiAgY29ubmVjdGlvblF1YWxpdHlDaGFuZ2VkOiB1bmRlZmluZWQsXG4gIGF1ZGlvTGV2ZWxDaGFuZ2VkOiB1bmRlZmluZWQsXG4gIGljZVRyaWNrbGU6IHVuZGVmaW5lZCxcbiAgY2hhbmdlUHVibGlzaFF1YWxpdHk6IHVuZGVmaW5lZCxcbiAgcGFydGljaXBhbnRKb2luZWQ6IHVuZGVmaW5lZCxcbiAgcGFydGljaXBhbnRMZWZ0OiB1bmRlZmluZWQsXG4gIGRvbWluYW50U3BlYWtlckNoYW5nZWQ6IHVuZGVmaW5lZCxcbiAgam9pblJlc3BvbnNlOiB1bmRlZmluZWQsXG4gIGhlYWx0aENoZWNrUmVzcG9uc2U6IHVuZGVmaW5lZCxcbiAgdHJhY2tQdWJsaXNoZWQ6IHVuZGVmaW5lZCxcbiAgdHJhY2tVbnB1Ymxpc2hlZDogdW5kZWZpbmVkLFxuICBlcnJvcjogdW5kZWZpbmVkLFxuICBjYWxsR3JhbnRzVXBkYXRlZDogdW5kZWZpbmVkLFxuICBnb0F3YXk6IHVuZGVmaW5lZCxcbiAgaWNlUmVzdGFydDogdW5kZWZpbmVkLFxuICBwaW5zVXBkYXRlZDogdW5kZWZpbmVkLFxuICBjYWxsRW5kZWQ6IHVuZGVmaW5lZCxcbiAgcGFydGljaXBhbnRVcGRhdGVkOiB1bmRlZmluZWQsXG4gIHBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGU6IHVuZGVmaW5lZCxcbiAgY2hhbmdlUHVibGlzaE9wdGlvbnM6IHVuZGVmaW5lZCxcbn07XG5cbmV4cG9ydCBjb25zdCBpc1NmdUV2ZW50ID0gKFxuICBldmVudE5hbWU6IFNmdUV2ZW50S2luZHMgfCBFdmVudFR5cGVzLFxuKTogZXZlbnROYW1lIGlzIFNmdUV2ZW50S2luZHMgPT4ge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNmdUV2ZW50S2luZHMsIGV2ZW50TmFtZSk7XG59O1xuXG5leHBvcnQgY2xhc3MgRGlzcGF0Y2hlciB7XG4gIHByaXZhdGUgcmVhZG9ubHkgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnRGlzcGF0Y2hlciddKTtcbiAgcHJpdmF0ZSBzdWJzY3JpYmVyczogUGFydGlhbDxcbiAgICBSZWNvcmQ8U2Z1RXZlbnRLaW5kcywgQ2FsbEV2ZW50TGlzdGVuZXI8YW55PltdIHwgdW5kZWZpbmVkPlxuICA+ID0ge307XG5cbiAgZGlzcGF0Y2ggPSA8SyBleHRlbmRzIFNmdUV2ZW50S2luZHM+KFxuICAgIG1lc3NhZ2U6IERpc3BhdGNoYWJsZU1lc3NhZ2U8Sz4sXG4gICAgbG9nVGFnOiBzdHJpbmcgPSAnMCcsXG4gICkgPT4ge1xuICAgIGNvbnN0IGV2ZW50S2luZCA9IG1lc3NhZ2UuZXZlbnRQYXlsb2FkLm9uZW9mS2luZDtcbiAgICBpZiAoIWV2ZW50S2luZCkgcmV0dXJuO1xuICAgIGNvbnN0IHBheWxvYWQgPSBtZXNzYWdlLmV2ZW50UGF5bG9hZFtldmVudEtpbmRdO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBEaXNwYXRjaGluZyAke2V2ZW50S2luZH0sIHRhZz0ke2xvZ1RhZ31gLCBwYXlsb2FkKTtcbiAgICBjb25zdCBsaXN0ZW5lcnMgPSB0aGlzLnN1YnNjcmliZXJzW2V2ZW50S2luZF07XG4gICAgaWYgKCFsaXN0ZW5lcnMpIHJldHVybjtcbiAgICBmb3IgKGNvbnN0IGZuIG9mIGxpc3RlbmVycykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZm4ocGF5bG9hZCk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0xpc3RlbmVyIGZhaWxlZCB3aXRoIGVycm9yJywgZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxTZnVFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBmbjogQ2FsbEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgICh0aGlzLnN1YnNjcmliZXJzW2V2ZW50TmFtZV0gPz89IFtdKS5wdXNoKGZuIGFzIG5ldmVyKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5vZmYoZXZlbnROYW1lLCBmbik7XG4gICAgfTtcbiAgfTtcblxuICBvZmYgPSA8RSBleHRlbmRzIGtleW9mIEFsbFNmdUV2ZW50cz4oXG4gICAgZXZlbnROYW1lOiBFLFxuICAgIGZuOiBDYWxsRXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpYmVyc1tldmVudE5hbWVdID0gKHRoaXMuc3Vic2NyaWJlcnNbZXZlbnROYW1lXSB8fCBbXSkuZmlsdGVyKFxuICAgICAgKGYpID0+IGYgIT09IGZuLFxuICAgICk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBSZXBsYXlTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHsgUGVlclR5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxuLyoqXG4gKiBBIGJ1ZmZlciBmb3IgSUNFIENhbmRpZGF0ZXMuIFVzZWQgZm9yIElDRSBUcmlja2xlOlxuICogLSBodHRwczovL2Jsb2dnZWVrLm1lL3dlYnJ0Y2dsb3NzYXJ5L3RyaWNrbGUtaWNlL1xuICovXG5leHBvcnQgY2xhc3MgSWNlVHJpY2tsZUJ1ZmZlciB7XG4gIHJlYWRvbmx5IHN1YnNjcmliZXJDYW5kaWRhdGVzID0gbmV3IFJlcGxheVN1YmplY3Q8UlRDSWNlQ2FuZGlkYXRlSW5pdD4oKTtcbiAgcmVhZG9ubHkgcHVibGlzaGVyQ2FuZGlkYXRlcyA9IG5ldyBSZXBsYXlTdWJqZWN0PFJUQ0ljZUNhbmRpZGF0ZUluaXQ+KCk7XG5cbiAgcHVzaCA9IChpY2VUcmlja2xlOiBJQ0VUcmlja2xlKSA9PiB7XG4gICAgY29uc3QgaWNlQ2FuZGlkYXRlID0gdG9JY2VDYW5kaWRhdGUoaWNlVHJpY2tsZSk7XG4gICAgaWYgKCFpY2VDYW5kaWRhdGUpIHJldHVybjtcblxuICAgIGlmIChpY2VUcmlja2xlLnBlZXJUeXBlID09PSBQZWVyVHlwZS5TVUJTQ1JJQkVSKSB7XG4gICAgICB0aGlzLnN1YnNjcmliZXJDYW5kaWRhdGVzLm5leHQoaWNlQ2FuZGlkYXRlKTtcbiAgICB9IGVsc2UgaWYgKGljZVRyaWNrbGUucGVlclR5cGUgPT09IFBlZXJUeXBlLlBVQkxJU0hFUl9VTlNQRUNJRklFRCkge1xuICAgICAgdGhpcy5wdWJsaXNoZXJDYW5kaWRhdGVzLm5leHQoaWNlQ2FuZGlkYXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnc2Z1LWNsaWVudCddKTtcbiAgICAgIGxvZ2dlcignd2FybicsIGBJQ0VUcmlja2xlLCBVbmtub3duIHBlZXIgdHlwZWAsIGljZVRyaWNrbGUpO1xuICAgIH1cbiAgfTtcblxuICBkaXNwb3NlID0gKCkgPT4ge1xuICAgIHRoaXMuc3Vic2NyaWJlckNhbmRpZGF0ZXMuY29tcGxldGUoKTtcbiAgICB0aGlzLnB1Ymxpc2hlckNhbmRpZGF0ZXMuY29tcGxldGUoKTtcbiAgfTtcbn1cblxuY29uc3QgdG9JY2VDYW5kaWRhdGUgPSAoXG4gIGljZVRyaWNrbGU6IElDRVRyaWNrbGUsXG4pOiBSVENJY2VDYW5kaWRhdGVJbml0IHwgdW5kZWZpbmVkID0+IHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShpY2VUcmlja2xlLmljZUNhbmRpZGF0ZSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydzZnUtY2xpZW50J10pO1xuICAgIGxvZ2dlcignZXJyb3InLCBgRmFpbGVkIHRvIHBhcnNlIElDRSBUcmlja2xlYCwgZSwgaWNlVHJpY2tsZSk7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcbiIsImludGVyZmFjZSBQZW5kaW5nUHJvbWlzZSB7XG4gIHByb21pc2U6IFByb21pc2U8dW5rbm93bj47XG4gIG9uQ29udGludWVkOiAoKSA9PiB2b2lkO1xufVxuXG50eXBlIEFzeW5jV3JhcHBlcjxQIGV4dGVuZHMgdW5rbm93bltdLCBUPiA9IChcbiAgdGFnOiBzdHJpbmcgfCBzeW1ib2wsXG4gIGNiOiAoLi4uYXJnczogUCkgPT4gUHJvbWlzZTxUPixcbikgPT4ge1xuICBjYjogKCkgPT4gUHJvbWlzZTxUPjtcbiAgb25Db250aW51ZWQ6ICgpID0+IHZvaWQ7XG59O1xuXG4vKipcbiAqIFJ1bnMgYXN5bmMgZnVuY3Rpb25zIHNlcmlhbGx5LiBVc2VmdWwgZm9yIHdyYXBwaW5nIGFzeW5jIGFjdGlvbnMgdGhhdFxuICogc2hvdWxkIG5ldmVyIHJ1biBzaW11bHRhbmVvdXNseTogaWYgbWFya2VkIHdpdGggdGhlIHNhbWUgdGFnLCBmdW5jdGlvbnNcbiAqIHdpbGwgcnVuIG9uZSBhZnRlciBhbm90aGVyLlxuICpcbiAqIEBwYXJhbSB0YWcgQXN5bmMgZnVuY3Rpb25zIHdpdGggdGhlIHNhbWUgdGFnIHdpbGwgcnVuIHNlcmlhbGx5LiBBc3luYyBmdW5jdGlvbnNcbiAqIHdpdGggZGlmZmVyZW50IHRhZ3MgY2FuIHJ1biBpbiBwYXJhbGxlbC5cbiAqIEBwYXJhbSBjYiBBc3luYyBmdW5jdGlvbiB0byBydW4uXG4gKiBAcmV0dXJucyBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhc3luYyBmdW5jdGlvbnMgcmV0dXJucy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdpdGhvdXRDb25jdXJyZW5jeSA9IGNyZWF0ZVJ1bm5lcih3cmFwV2l0aENvbnRpbnVhdGlvblRyYWNraW5nKTtcblxuLyoqXG4gKiBSdW5zIGFzeW5jIGZ1bmN0aW9ucyBzZXJpYWxseSwgYW5kIGNhbmNlbHMgYWxsIG90aGVyIGFjdGlvbnMgd2l0aCB0aGUgc2FtZSB0YWdcbiAqIHdoZW4gYSBuZXcgYWN0aW9uIGlzIHNjaGVkdWxlZC4gVXNlZnVsIGZvciB3cmFwcGluZyBhc3luYyBhY3Rpb25zIHRoYXQgb3ZlcnJpZGVcbiAqIGVhY2ggb3RoZXIgKGUuZy4gZW5hYmxpbmcgYW5kIGRpc2FibGluZyBjYW1lcmEpLlxuICpcbiAqIElmIGFuIGFzeW5jIGZ1bmN0aW9uIGhhc24ndCBzdGFydGVkIHlldCBhbmQgd2FzIGNhbmNlbGVkLCBpdCB3aWxsIG5ldmVyIHJ1bi5cbiAqIElmIGFuIGFzeW5jIGZ1bmN0aW9uIGlzIGFscmVhZHkgcnVubmluZyBhbmQgd2FzIGNhbmNlbGVkLCBpdCB3aWxsIGJlIG5vdGlmaWVkXG4gKiB2aWEgYW4gYWJvcnQgc2lnbmFsIHBhc3NlZCBhcyBhbiBhcmd1bWVudC5cbiAqXG4gKiBAcGFyYW0gdGFnIEFzeW5jIGZ1bmN0aW9ucyB3aXRoIHRoZSBzYW1lIHRhZyB3aWxsIHJ1biBzZXJpYWxseSBhbmQgYXJlIGNhbmNlbGVkXG4gKiB3aGVuIGEgbmV3IGFjdGlvbiB3aXRoIHRoZSBzYW1lIHRhZyBpcyBzY2hlZHVsZWQuXG4gKiBAcGFyYW0gY2IgQXN5bmMgZnVuY3Rpb24gdG8gcnVuLiBSZWNlaXZlcyBBYm9ydFNpZ25hbCBhcyB0aGUgb25seSBhcmd1bWVudC5cbiAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFzeW5jIGZ1bmN0aW9ucyByZXR1cm5zLiBJZiB0aGUgZnVuY3Rpb24gZGlkbid0XG4gKiBzdGFydCBhbmQgd2FzIGNhbmNlbGVkLCB3aWxsIHJlc29sdmUgd2l0aCAnY2FuY2VsZWQnLiBJZiB0aGUgZnVuY3Rpb24gc3RhcnRlZCB0byBydW4sXG4gKiBpdCdzIHVwIHRvIHRoZSBmdW5jdGlvbiB0byBkZWNpZGUgaG93IHRvIHJlYWN0IHRvIGNhbmNlbGF0aW9uLlxuICovXG5leHBvcnQgY29uc3Qgd2l0aENhbmNlbGxhdGlvbiA9IGNyZWF0ZVJ1bm5lcih3cmFwV2l0aENhbmNlbGxhdGlvbik7XG5cbmNvbnN0IHBlbmRpbmdQcm9taXNlcyA9IG5ldyBNYXA8c3RyaW5nIHwgc3ltYm9sLCBQZW5kaW5nUHJvbWlzZT4oKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1BlbmRpbmcodGFnOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgcmV0dXJuIHBlbmRpbmdQcm9taXNlcy5oYXModGFnKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNldHRsZWQodGFnOiBzdHJpbmcgfCBzeW1ib2wpIHtcbiAgbGV0IHBlbmRpbmc6IFBlbmRpbmdQcm9taXNlIHwgdW5kZWZpbmVkO1xuICB3aGlsZSAoKHBlbmRpbmcgPSBwZW5kaW5nUHJvbWlzZXMuZ2V0KHRhZykpKSB7XG4gICAgYXdhaXQgcGVuZGluZy5wcm9taXNlO1xuICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBjb21tb24gZnVuY3Rpb25hbGl0eSBvZiBydW5uaW5nIGFzeW5jIGZ1bmN0aW9ucyBzZXJpYWxseSwgYnkgY2hhaW5pbmdcbiAqIHRoZWlyIHByb21pc2VzIG9uZSBhZnRlciBhbm90aGVyLlxuICpcbiAqIEJlZm9yZSBydW5uaW5nLCBhc3luYyBmdW5jdGlvbiBpcyBcIndyYXBwZWRcIiB1c2luZyB0aGUgcHJvdmlkZWQgd3JhcHBlci4gVGhpcyB3cmFwcGVyXG4gKiBjYW4gYWRkIGFkZGl0aW9uYWwgc3RlcHMgdG8gcnVuIGJlZm9yZSBvciBhZnRlciB0aGUgZnVuY3Rpb24uXG4gKlxuICogV2hlbiBhc3luYyBmdW5jdGlvbiBpcyBzY2hlZHVsZWQgdG8gcnVuLCB0aGUgcHJldmlvdXMgZnVuY3Rpb24gaXMgbm90aWZpZWRcbiAqIGJ5IGNhbGxpbmcgdGhlIGFzc29jaWF0ZWQgb25Db250aW51ZWQgY2FsbGJhY2suIFRoaXMgYmVoYXZpb3Igb2YgdGhpcyBjYWxsYmFja1xuICogaXMgZGVmaW5lZCBieSB0aGUgd3JhcHBlci5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlUnVubmVyPFAgZXh0ZW5kcyB1bmtub3duW10sIFQ+KHdyYXBwZXI6IEFzeW5jV3JhcHBlcjxQLCBUPikge1xuICByZXR1cm4gZnVuY3Rpb24gcnVuKHRhZzogc3RyaW5nIHwgc3ltYm9sLCBjYjogKC4uLmFyZ3M6IFApID0+IFByb21pc2U8VD4pIHtcbiAgICBjb25zdCB7IGNiOiB3cmFwcGVkLCBvbkNvbnRpbnVlZCB9ID0gd3JhcHBlcih0YWcsIGNiKTtcbiAgICBjb25zdCBwZW5kaW5nID0gcGVuZGluZ1Byb21pc2VzLmdldCh0YWcpO1xuICAgIHBlbmRpbmc/Lm9uQ29udGludWVkKCk7XG4gICAgY29uc3QgcHJvbWlzZSA9IHBlbmRpbmdcbiAgICAgID8gcGVuZGluZy5wcm9taXNlLnRoZW4od3JhcHBlZCwgd3JhcHBlZClcbiAgICAgIDogd3JhcHBlZCgpO1xuICAgIHBlbmRpbmdQcm9taXNlcy5zZXQodGFnLCB7IHByb21pc2UsIG9uQ29udGludWVkIH0pO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9O1xufVxuXG4vKipcbiAqIFdyYXBzIGFuIGFzeW5jIGZ1bmN0aW9uIHdpdGggYW4gYWRkaXRpb25hbCBzdGVwIHJ1biBhZnRlciB0aGUgZnVuY3Rpb246XG4gKiBpZiB0aGUgZnVuY3Rpb24gaXMgdGhlIGxhc3QgaW4gdGhlIHF1ZXVlLCBpdCBjbGVhbnMgdXAgdGhlIHdob2xlIGNoYWluXG4gKiBvZiBwcm9taXNlcyBhZnRlciBmaW5pc2hpbmcuXG4gKi9cbmZ1bmN0aW9uIHdyYXBXaXRoQ29udGludWF0aW9uVHJhY2tpbmc8VD4oXG4gIHRhZzogc3RyaW5nIHwgc3ltYm9sLFxuICBjYjogKCkgPT4gUHJvbWlzZTxUPixcbikge1xuICBsZXQgaGFzQ29udGludWF0aW9uID0gZmFsc2U7XG4gIGNvbnN0IHdyYXBwZWQgPSAoKSA9PlxuICAgIGNiKCkuZmluYWxseSgoKSA9PiB7XG4gICAgICBpZiAoIWhhc0NvbnRpbnVhdGlvbikge1xuICAgICAgICBwZW5kaW5nUHJvbWlzZXMuZGVsZXRlKHRhZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIGNvbnN0IG9uQ29udGludWVkID0gKCkgPT4gKGhhc0NvbnRpbnVhdGlvbiA9IHRydWUpO1xuICByZXR1cm4geyBjYjogd3JhcHBlZCwgb25Db250aW51ZWQgfTtcbn1cblxuLyoqXG4gKiBXcmFwcyBhbiBhc3luYyBmdW5jdGlvbiB3aXRoIGFkZGl0aW9uYWwgZnVuY3Rpb25hbGlsdHk6XG4gKiAxLiBBc3NvY2lhdGVzIGFuIGFib3J0IHNpZ25hbCB3aXRoIGV2ZXJ5IGZ1bmN0aW9uLCB0aGF0IGlzIHBhc3NlZCB0byBpdFxuICogICAgYXMgYW4gYXJndW1lbnQuIFdoZW4gYSBuZXcgZnVuY3Rpb24gaXMgc2NoZWR1bGVkIHRvIHJ1biBhZnRlciB0aGUgY3VycmVudFxuICogICAgb25lLCBjdXJyZW50IHNpZ25hbCBpcyBhYm9ydGVkLlxuICogMi4gSWYgY3VycmVudCBmdW5jdGlvbiBkaWRuJ3Qgc3RhcnQgYW5kIHdhcyBhYm9ydGVkLCBpbiB3aWxsIG5ldmVyIHN0YXJ0LlxuICogMy4gSWYgdGhlIGZ1bmN0aW9uIGlzIHRoZSBsYXN0IGluIHRoZSBxdWV1ZSwgaXQgY2xlYW5zIHVwIHRoZSB3aG9sZSBjaGFpblxuICogICAgb2YgcHJvbWlzZXMgYWZ0ZXIgZmluaXNoaW5nLlxuICovXG5mdW5jdGlvbiB3cmFwV2l0aENhbmNlbGxhdGlvbjxUPihcbiAgdGFnOiBzdHJpbmcgfCBzeW1ib2wsXG4gIGNiOiAoc2lnbmFsOiBBYm9ydFNpZ25hbCkgPT4gUHJvbWlzZTxUIHwgJ2NhbmNlbGVkJz4sXG4pIHtcbiAgY29uc3QgYWMgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIGNvbnN0IHdyYXBwZWQgPSAoKSA9PiB7XG4gICAgaWYgKGFjLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCdjYW5jZWxlZCcgYXMgY29uc3QpO1xuICAgIH1cblxuICAgIHJldHVybiBjYihhYy5zaWduYWwpLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgaWYgKCFhYy5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICBwZW5kaW5nUHJvbWlzZXMuZGVsZXRlKHRhZyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IG9uQ29udGludWVkID0gKCkgPT4gYWMuYWJvcnQoKTtcbiAgcmV0dXJuIHsgY2I6IHdyYXBwZWQsIG9uQ29udGludWVkIH07XG59XG4iLCJpbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIGNvbWJpbmVMYXRlc3QsIE9ic2VydmFibGUsIFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcblxudHlwZSBGdW5jdGlvblBhdGNoPFQ+ID0gKGN1cnJlbnRWYWx1ZTogVCkgPT4gVDtcblxuLyoqXG4gKiBBIHZhbHVlIG9yIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdGhlIGN1cnJlbnQgdmFsdWUgYW5kIHJldHVybnMgYSBuZXcgdmFsdWUuXG4gKi9cbmV4cG9ydCB0eXBlIFBhdGNoPFQ+ID0gVCB8IEZ1bmN0aW9uUGF0Y2g8VD47XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBwcm92aWRlZCB1cGRhdGUgaXMgYSBmdW5jdGlvbiBwYXRjaC5cbiAqXG4gKiBAcGFyYW0gdXBkYXRlIHRoZSB2YWx1ZSB0byBjaGVjay5cbiAqL1xuY29uc3QgaXNGdW5jdGlvblBhdGNoID0gPFQ+KHVwZGF0ZTogUGF0Y2g8VD4pOiB1cGRhdGUgaXMgRnVuY3Rpb25QYXRjaDxUPiA9PlxuICB0eXBlb2YgdXBkYXRlID09PSAnZnVuY3Rpb24nO1xuXG4vKipcbiAqIEdldHMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgYW4gb2JzZXJ2YWJsZSwgb3IgdW5kZWZpbmVkIGlmIHRoZSBvYnNlcnZhYmxlIGhhc1xuICogbm90IGVtaXR0ZWQgYSB2YWx1ZSB5ZXQuXG4gKlxuICogQHBhcmFtIG9ic2VydmFibGUkIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgdmFsdWUgZnJvbS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEN1cnJlbnRWYWx1ZSA9IDxUPihvYnNlcnZhYmxlJDogT2JzZXJ2YWJsZTxUPikgPT4ge1xuICBsZXQgdmFsdWUhOiBUO1xuICBsZXQgZXJyOiBFcnJvciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgY29tYmluZUxhdGVzdChbb2JzZXJ2YWJsZSRdKVxuICAgIC5zdWJzY3JpYmUoe1xuICAgICAgbmV4dDogKFt2XSkgPT4ge1xuICAgICAgICB2YWx1ZSA9IHY7XG4gICAgICB9LFxuICAgICAgZXJyb3I6IChlKSA9PiB7XG4gICAgICAgIGVyciA9IGU7XG4gICAgICB9LFxuICAgIH0pXG4gICAgLnVuc3Vic2NyaWJlKCk7XG5cbiAgaWYgKGVycikgdGhyb3cgZXJyO1xuICByZXR1cm4gdmFsdWU7XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBTdWJqZWN0LlxuICogQW4gYHVwZGF0ZWAgY2FuIGVpdGhlciBiZSBhIG5ldyB2YWx1ZSBvciBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzXG4gKiB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gc3ViamVjdCB0aGUgc3ViamVjdCB0byB1cGRhdGUuXG4gKiBAcGFyYW0gdXBkYXRlIHRoZSB1cGRhdGUgdG8gYXBwbHkgdG8gdGhlIHN1YmplY3QuXG4gKiBAcmV0dXJuIHRoZSB1cGRhdGVkIHZhbHVlLlxuICovXG5leHBvcnQgY29uc3Qgc2V0Q3VycmVudFZhbHVlID0gPFQ+KHN1YmplY3Q6IFN1YmplY3Q8VD4sIHVwZGF0ZTogUGF0Y2g8VD4pID0+IHtcbiAgY29uc3QgbmV4dCA9IGlzRnVuY3Rpb25QYXRjaCh1cGRhdGUpXG4gICAgPyB1cGRhdGUoZ2V0Q3VycmVudFZhbHVlKHN1YmplY3QpKVxuICAgIDogdXBkYXRlO1xuXG4gIHN1YmplY3QubmV4dChuZXh0KTtcbiAgcmV0dXJuIG5leHQ7XG59O1xuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBTdWJqZWN0IGFuZCByZXR1cm5zIHRoZSBwcmV2aW91cyB2YWx1ZVxuICogYW5kIGEgZnVuY3Rpb24gdG8gcm9sbCBiYWNrIHRoZSB1cGRhdGUuXG4gKiBUaGlzIGlzIHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIG9wdGltaXN0aWNhbGx5IHVwZGF0ZSBhIHZhbHVlXG4gKiBhbmQgcm9sbCBiYWNrIHRoZSB1cGRhdGUgaWYgYW4gZXJyb3Igb2NjdXJzLlxuICpcbiAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB1cGRhdGUgdGhlIHVwZGF0ZSB0byBhcHBseSB0byB0aGUgc3ViamVjdC5cbiAqL1xuZXhwb3J0IGNvbnN0IHVwZGF0ZVZhbHVlID0gPFQ+KFxuICBzdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8VD4sXG4gIHVwZGF0ZTogUGF0Y2g8VD4sXG4pID0+IHtcbiAgY29uc3QgbGFzdFZhbHVlID0gc3ViamVjdC5nZXRWYWx1ZSgpO1xuICBjb25zdCB2YWx1ZSA9IHNldEN1cnJlbnRWYWx1ZShzdWJqZWN0LCB1cGRhdGUpO1xuICByZXR1cm4ge1xuICAgIGxhc3RWYWx1ZSxcbiAgICB2YWx1ZSxcbiAgICByb2xsYmFjazogKCkgPT4gc2V0Q3VycmVudFZhbHVlKHN1YmplY3QsIGxhc3RWYWx1ZSksXG4gIH07XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBzdWJzY3JpcHRpb24gYW5kIHJldHVybnMgYSBmdW5jdGlvbiB0byB1bnN1YnNjcmliZS5cbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSB0aGUgb2JzZXJ2YWJsZSB0byBzdWJzY3JpYmUgdG8uXG4gKiBAcGFyYW0gaGFuZGxlciB0aGUgaGFuZGxlciB0byBjYWxsIHdoZW4gdGhlIG9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZS5cbiAqIEBwYXJhbSBvbkVycm9yIGFuIG9wdGlvbmFsIGVycm9yIGhhbmRsZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVTdWJzY3JpcHRpb24gPSA8VD4oXG4gIG9ic2VydmFibGU6IE9ic2VydmFibGU8VD4sXG4gIGhhbmRsZXI6ICh2YWx1ZTogVCkgPT4gdm9pZCxcbiAgb25FcnJvcjogKGVycm9yOiBhbnkpID0+IHZvaWQgPSAoZXJyb3IpID0+XG4gICAgZ2V0TG9nZ2VyKFsnUnhVdGlscyddKSgnd2FybicsICdBbiBvYnNlcnZhYmxlIGVtaXR0ZWQgYW4gZXJyb3InLCBlcnJvciksXG4pID0+IHtcbiAgY29uc3Qgc3Vic2NyaXB0aW9uID0gb2JzZXJ2YWJsZS5zdWJzY3JpYmUoeyBuZXh0OiBoYW5kbGVyLCBlcnJvcjogb25FcnJvciB9KTtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIHN1YnNjcmlwdGlvbiBhbmQgcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVuc3Vic2NyaWJlLiBNYWtlcyBzdXJlIHRoYXRcbiAqIG9ubHkgb25lIGFzeW5jIGhhbmRsZXIgcnVucyBhdCB0aGUgc2FtZSB0aW1lLiBJZiB1cGRhdGVzIGNvbWUgaW4gcXVpY2tlciB0aGFuXG4gKiBpdCB0YWtlcyBmb3IgdGhlIGN1cnJlbnQgaGFuZGxlciB0byBmaW5pc2gsIG90aGVyIGhhbmRsZXJzIHdpbGwgd2FpdC5cbiAqXG4gKiBAcGFyYW0gb2JzZXJ2YWJsZSB0aGUgb2JzZXJ2YWJsZSB0byBzdWJzY3JpYmUgdG8uXG4gKiBAcGFyYW0gaGFuZGxlciB0aGUgYXN5bmMgaGFuZGxlciB0byBjYWxsIHdoZW4gdGhlIG9ic2VydmFibGUgZW1pdHMgYSB2YWx1ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbiA9IDxUPihcbiAgb2JzZXJ2YWJsZTogT2JzZXJ2YWJsZTxUPixcbiAgaGFuZGxlcjogKHZhbHVlOiBUKSA9PiBQcm9taXNlPHZvaWQ+LFxuKSA9PiB7XG4gIGNvbnN0IHRhZyA9IFN5bWJvbCgpO1xuICByZXR1cm4gY3JlYXRlU3Vic2NyaXB0aW9uKG9ic2VydmFibGUsICh2YWx1ZSkgPT4ge1xuICAgIHdpdGhvdXRDb25jdXJyZW5jeSh0YWcsICgpID0+IGhhbmRsZXIodmFsdWUpKTtcbiAgfSk7XG59O1xuIiwiLyoqXG4gKiBSZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICovXG5leHBvcnQgZW51bSBDYWxsaW5nU3RhdGUge1xuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gYW4gdW5rbm93biBzdGF0ZS5cbiAgICovXG4gIFVOS05PV04gPSAndW5rbm93bicsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIGFuIGlkbGUgc3RhdGUuXG4gICAqL1xuICBJRExFID0gJ2lkbGUnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiB0aGUgcHJvY2VzcyBvZiByaW5naW5nLlxuICAgKiAoVXNlciBoYXNuJ3QgYWNjZXB0ZWQgbm9yIHJlamVjdGVkIHRoZSBjYWxsIHlldC4pXG4gICAqL1xuICBSSU5HSU5HID0gJ3JpbmdpbmcnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiB0aGUgcHJvY2VzcyBvZiBqb2luaW5nLlxuICAgKi9cbiAgSk9JTklORyA9ICdqb2luaW5nJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAgICovXG4gIEpPSU5FRCA9ICdqb2luZWQnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBoYXMgYmVlbiBsZWZ0LlxuICAgKi9cbiAgTEVGVCA9ICdsZWZ0JyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgcmVjb25uZWN0aW5nLlxuICAgKi9cbiAgUkVDT05ORUNUSU5HID0gJ3JlY29ubmVjdGluZycsXG5cbiAgLyoqXG4gICAqIFRoZSBjYWxsIGlzIGluIHRoZSBwcm9jZXNzIG9mIG1pZ3JhdGluZyBmcm9tIG9uZSBub2RlIHRvIGFub3RoZXIuXG4gICAqL1xuICBNSUdSQVRJTkcgPSAnbWlncmF0aW5nJyxcblxuICAvKipcbiAgICogVGhlIGNhbGwgaGFzIGZhaWxlZCB0byByZWNvbm5lY3QuXG4gICAqL1xuICBSRUNPTk5FQ1RJTkdfRkFJTEVEID0gJ3JlY29ubmVjdGluZy1mYWlsZWQnLFxuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBpcyBpbiBvZmZsaW5lIG1vZGUuXG4gICAqL1xuICBPRkZMSU5FID0gJ29mZmxpbmUnLFxufVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgdHlwZSB7IFBhdGNoIH0gZnJvbSAnLi9yeFV0aWxzJztcbmltcG9ydCAqIGFzIFJ4VXRpbHMgZnJvbSAnLi9yeFV0aWxzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4vQ2FsbGluZ1N0YXRlJztcbmltcG9ydCB0eXBlIHsgT3duVXNlclJlc3BvbnNlIH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW1WaWRlb1dyaXRlYWJsZVN0YXRlU3RvcmUge1xuICAvKipcbiAgICogQSBzdG9yZSBrZWVwaW5nIGRhdGEgb2YgYSBzdWNjZXNzZnVsbHkgY29ubmVjdGVkIHVzZXIgb3ZlciBXUyB0byB0aGUgY29vcmRpbmF0b3Igc2VydmVyLlxuICAgKi9cbiAgY29ubmVjdGVkVXNlclN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD4oXG4gICAgdW5kZWZpbmVkLFxuICApO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKi9cbiAgY2FsbHNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsW10+KFtdKTtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNvbm5lY3RlZFVzZXJTdWJqZWN0LnN1YnNjcmliZShhc3luYyAodXNlcikgPT4ge1xuICAgICAgLy8gbGVhdmUgYWxsIGNhbGxzIHdoZW4gdGhlIHVzZXIgZGlzY29ubmVjdHMuXG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY2xpZW50LXN0YXRlJ10pO1xuICAgICAgICBmb3IgKGNvbnN0IGNhbGwgb2YgdGhpcy5jYWxscykge1xuICAgICAgICAgIGlmIChjYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgbG9nZ2VyKCdpbmZvJywgYFVzZXIgZGlzY29ubmVjdGVkLCBsZWF2aW5nIGNhbGw6ICR7Y2FsbC5jaWR9YCk7XG4gICAgICAgICAgYXdhaXQgY2FsbFxuICAgICAgICAgICAgLmxlYXZlKHsgbWVzc2FnZTogJ2NsaWVudC5kaXNjb25uZWN0VXNlcigpIGNhbGxlZCcgfSlcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIGxvZ2dlcignZXJyb3InLCBgRXJyb3IgbGVhdmluZyBjYWxsOiAke2NhbGwuY2lkfWAsIGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50bHkgY29ubmVjdGVkIHVzZXIuXG4gICAqL1xuICBnZXQgY29ubmVjdGVkVXNlcigpOiBPd25Vc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNvbm5lY3RlZFVzZXJTdWJqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIHVzZXIuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gdXNlciB0aGUgdXNlciB0byBzZXQgYXMgY29ubmVjdGVkLlxuICAgKi9cbiAgc2V0Q29ubmVjdGVkVXNlciA9ICh1c2VyOiBQYXRjaDxPd25Vc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQ+KSA9PiB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY29ubmVjdGVkVXNlclN1YmplY3QsIHVzZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKi9cbiAgZ2V0IGNhbGxzKCk6IENhbGxbXSB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbHNTdWJqZWN0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICogQHBhcmFtIGNhbGxzXG4gICAqL1xuICBzZXRDYWxscyA9IChjYWxsczogUGF0Y2g8Q2FsbFtdPikgPT4ge1xuICAgIHJldHVybiBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxzU3ViamVjdCwgY2FsbHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGEge0BsaW5rIENhbGx9IG9iamVjdCB0byB0aGUgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHRvIGFkZC5cbiAgICovXG4gIHJlZ2lzdGVyQ2FsbCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gICAgaWYgKCF0aGlzLmNhbGxzLmZpbmQoKGMpID0+IGMuY2lkID09PSBjYWxsLmNpZCkpIHtcbiAgICAgIHRoaXMuc2V0Q2FsbHMoKGNhbGxzKSA9PiBbLi4uY2FsbHMsIGNhbGxdKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSB7QGxpbmsgQ2FsbH0gb2JqZWN0IGZyb20gdGhlIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byByZW1vdmVcbiAgICovXG4gIHVucmVnaXN0ZXJDYWxsID0gKGNhbGw6IENhbGwpID0+IHtcbiAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydjbGllbnQtc3RhdGUnXSk7XG4gICAgbG9nZ2VyKCd0cmFjZScsIGBVbnJlZ2lzdGVyaW5nIGNhbGw6ICR7Y2FsbC5jaWR9YCk7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q2FsbHMoKGNhbGxzKSA9PiBjYWxscy5maWx0ZXIoKGMpID0+IGMgIT09IGNhbGwpKTtcbiAgfTtcblxuICAvKipcbiAgICogRmluZHMgYSB7QGxpbmsgQ2FsbH0gb2JqZWN0IGluIHRoZSBsaXN0IG9mIHtAbGluayBDYWxsfSBvYmplY3RzIGNyZWF0ZWQvdHJhY2tlZCBieSB0aGlzIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgY2FsbCB0byBmaW5kLlxuICAgKiBAcGFyYW0gaWQgdGhlIGlkIG9mIHRoZSBjYWxsIHRvIGZpbmQuXG4gICAqL1xuICBmaW5kQ2FsbCA9ICh0eXBlOiBzdHJpbmcsIGlkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxscy5maW5kKChjKSA9PiBjLnR5cGUgPT09IHR5cGUgJiYgYy5pZCA9PT0gaWQpO1xuICB9O1xufVxuXG4vKipcbiAqIEEgcmVhY3RpdmUgc3RvcmUgdGhhdCBleHBvc2VzIHN0YXRlIHZhcmlhYmxlcyBpbiBhIHJlYWN0aXZlIG1hbm5lci5cbiAqIFlvdSBjYW4gc3Vic2NyaWJlIHRvIGNoYW5nZXMgb2YgdGhlIGRpZmZlcmVudCBzdGF0ZSB2YXJpYWJsZXMuXG4gKiBUaGlzIGNlbnRyYWwgc3RvcmUgY29udGFpbnMgYWxsIHRoZSBzdGF0ZSB2YXJpYWJsZXMgcmVsYXRlZCB0byBbYFN0cmVhbVZpZGVvQ2xpZW50YF0oLi9TdHJlYW1WaWRlQ2xpZW50Lm1kKSBhbmQgW2BDYWxsYF0oLi9DYWxsLm1kKS5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlIHtcbiAgLyoqXG4gICAqIERhdGEgZGVzY3JpYmluZyBhIHVzZXIgc3VjY2Vzc2Z1bGx5IGNvbm5lY3RlZCBvdmVyIFdTIHRvIGNvb3JkaW5hdG9yIHNlcnZlci5cbiAgICovXG4gIGNvbm5lY3RlZFVzZXIkOiBPYnNlcnZhYmxlPE93blVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBvZiB7QGxpbmsgQ2FsbH0gb2JqZWN0cyBjcmVhdGVkL3RyYWNrZWQgYnkgdGhpcyBjbGllbnQuXG4gICAqL1xuICBjYWxscyQ6IE9ic2VydmFibGU8Q2FsbFtdPjtcblxuICAvKipcbiAgICogVGhpcyBtZXRob2QgYWxsb3dzIHlvdSB0aGUgZ2V0IHRoZSBjdXJyZW50IHZhbHVlIG9mIGEgc3RhdGUgdmFyaWFibGUuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlIHRoZSBvYnNlcnZhYmxlIHRvIGdldCB0aGUgY3VycmVudCB2YWx1ZSBvZi5cbiAgICogQHJldHVybnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIG9ic2VydmFibGUuXG4gICAqL1xuICBnZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZTtcblxuICBjb25zdHJ1Y3RvcihzdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlKSB7XG4gICAgLy8gY29udmVydCBhbmQgZXhwb3NlIHN1YmplY3RzIGFzIG9ic2VydmFibGVzXG4gICAgdGhpcy5jb25uZWN0ZWRVc2VyJCA9IHN0b3JlLmNvbm5lY3RlZFVzZXJTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuY2FsbHMkID0gc3RvcmUuY2FsbHNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHVzZXIgY29ubmVjdGVkIG92ZXIgV1MgdG8gdGhlIGJhY2tlbmQuXG4gICAqL1xuICBnZXQgY29ubmVjdGVkVXNlcigpOiBPd25Vc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNvbm5lY3RlZFVzZXIkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2Yge0BsaW5rIENhbGx9IG9iamVjdHMgY3JlYXRlZC90cmFja2VkIGJ5IHRoaXMgY2xpZW50LlxuICAgKi9cbiAgZ2V0IGNhbGxzKCk6IENhbGxbXSB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbHMkKTtcbiAgfVxufVxuIiwiLyoqXG4gKiBEZWZpbmVzIGEgY29tcGFyYXRvciBmdW5jdGlvbiB3aGljaCBjYW4gYmUgdXNlZCBmb3Igc29ydGluZyBpdGVtcy5cbiAqL1xuZXhwb3J0IHR5cGUgQ29tcGFyYXRvcjxUPiA9IChhOiBULCBiOiBUKSA9PiAtMSB8IDAgfCAxO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgY29tYmluZWQge0BsaW5rIENvbXBhcmF0b3I8VD59IHdoaWNoIHNvcnRzIGl0ZW1zIGJ5IHRoZSBnaXZlbiBjb21wYXJhdG9ycy5cbiAqIFRoZSBjb21wYXJhdG9ycyBhcmUgYXBwbGllZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgZ2l2ZW4gKGxlZnQgLT4gcmlnaHQpLlxuICpcbiAqIEBwYXJhbSBjb21wYXJhdG9ycyB0aGUgY29tcGFyYXRvcnMgdG8gdXNlIGZvciBzb3J0aW5nLlxuICogQHJldHVybnMgYSBjb21iaW5lZCB7QGxpbmsgQ29tcGFyYXRvcjxUPn0uXG4gKi9cbmV4cG9ydCBjb25zdCBjb21iaW5lQ29tcGFyYXRvcnMgPSA8VD4oXG4gIC4uLmNvbXBhcmF0b3JzOiBDb21wYXJhdG9yPFQ+W11cbik6IENvbXBhcmF0b3I8VD4gPT4ge1xuICByZXR1cm4gKGEsIGIpID0+IHtcbiAgICBmb3IgKGNvbnN0IGNvbXBhcmF0b3Igb2YgY29tcGFyYXRvcnMpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNvbXBhcmF0b3IoYSwgYik7XG4gICAgICBpZiAocmVzdWx0ICE9PSAwKSByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfTtcbn07XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIGl0ZW1zIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gKlxuICogQGV4YW1wbGVcbiAqIGNvbnN0IGJ5VmFsdWUgPSAoYSwgYikgPT4gYSA8IGIgPyAtIDEgOiBhID4gYiA/IDEgOiAwO1xuICogY29uc3QgYnlWYWx1ZURlc2MgPSBkZXNjZW5kaW5nKGJ5VmFsdWUpO1xuICpcbiAqIEBwYXJhbSBjb21wYXJhdG9yIHRoZSBjb21wYXJhdG9yIHRvIHdyYXAuXG4gKi9cbmV4cG9ydCBjb25zdCBkZXNjZW5kaW5nID0gPFQ+KGNvbXBhcmF0b3I6IENvbXBhcmF0b3I8VD4pOiBDb21wYXJhdG9yPFQ+ID0+IHtcbiAgcmV0dXJuIChhLCBiKSA9PiBjb21wYXJhdG9yKGIsIGEpO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IGNvbXBhcmF0b3Igd2hpY2ggY29uZGl0aW9uYWxseSBhcHBsaWVzIHRoZSBnaXZlbiBjb21wYXJhdG9yLlxuICpcbiAqIEBleGFtcGxlXG4gKiBjb25zdCBzaG91bGRTb3J0QnlWYWx1ZSA9IChhLCBiKSA9PiBhICUgMiA9PT0gMDsgLy8gcmV0dXJuIGZhbHNlIHRvIHR1cm4gaXQgb2ZmXG4gKiBjb25zdCBieVZhbHVlID0gKGEsIGIpID0+IGEgPCBiID8gLSAxIDogYSA+IGIgPyAxIDogMDtcbiAqIGNvbnN0IGNvbXBhcmF0b3IgPSBjb25kaXRpb25hbChzaG91bGRTb3J0QnlWYWx1ZSkoYnlWYWx1ZSk7XG4gKlxuICogQHBhcmFtIHByZWRpY2F0ZSB0aGUgcHJlZGljYXRlIHRvIHVzZSBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0byBhcHBseSB0aGUgY29tcGFyYXRvci5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbmRpdGlvbmFsID0gPFQ+KHByZWRpY2F0ZTogKGE6IFQsIGI6IFQpID0+IGJvb2xlYW4pID0+IHtcbiAgcmV0dXJuIChjb21wYXJhdG9yOiBDb21wYXJhdG9yPFQ+KTogQ29tcGFyYXRvcjxUPiA9PiB7XG4gICAgcmV0dXJuIChhLCBiKSA9PiB7XG4gICAgICBpZiAoIXByZWRpY2F0ZShhLCBiKSkgcmV0dXJuIDA7XG4gICAgICByZXR1cm4gY29tcGFyYXRvcihhLCBiKTtcbiAgICB9O1xuICB9O1xufTtcblxuLyoqXG4gKiBBIG5vLW9wIGNvbXBhcmF0b3Igd2hpY2ggYWx3YXlzIHJldHVybnMgMC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5vb3BDb21wYXJhdG9yID0gPFQ+KCk6IENvbXBhcmF0b3I8VD4gPT4ge1xuICByZXR1cm4gKCkgPT4gMDtcbn07XG4iLCJpbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGhhcyBhIHZpZGVvLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1ZpZGVvID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5WSURFTyk7XG5cbi8qKlxuICogQ2hlY2sgaWYgYSBwYXJ0aWNpcGFudCBoYXMgYXVkaW8uXG4gKlxuICogQHBhcmFtIHAgdGhlIHBhcnRpY2lwYW50IHRvIGNoZWNrLlxuICovXG5leHBvcnQgY29uc3QgaGFzQXVkaW8gPSAocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCk6IGJvb2xlYW4gPT5cbiAgcC5wdWJsaXNoZWRUcmFja3MuaW5jbHVkZXMoVHJhY2tUeXBlLkFVRElPKTtcblxuLyoqXG4gKiBDaGVjayBpZiBhIHBhcnRpY2lwYW50IGlzIHNjcmVlbiBzaGFyaW5nLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudCB0byBjaGVjay5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhc1NjcmVlblNoYXJlID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gIHAucHVibGlzaGVkVHJhY2tzLmluY2x1ZGVzKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpO1xuXG4vKipcbiAqIENoZWNrIGlmIGEgcGFydGljaXBhbnQgaXMgc2NyZWVuIHNoYXJpbmcgYXVkaW8uXG4gKlxuICogQHBhcmFtIHAgdGhlIHBhcnRpY2lwYW50IHRvIGNoZWNrLlxuICovXG5leHBvcnQgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpbyA9IChwOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50KTogYm9vbGVhbiA9PlxuICBwLnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyhUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgcGFydGljaXBhbnQgaXMgcGlubmVkLlxuICpcbiAqIEBwYXJhbSBwIHRoZSBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzUGlubmVkID0gKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpOiBib29sZWFuID0+XG4gICEhcC5waW4gJiYgKHAucGluLmlzTG9jYWxQaW4gfHwgcC5waW4ucGlubmVkQXQgPiAwKTtcbiIsImltcG9ydCB7IENvbXBhcmF0b3IgfSBmcm9tICcuLyc7XG5pbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgaGFzQXVkaW8sXG4gIGhhc1NjcmVlblNoYXJlLFxuICBoYXNWaWRlbyxcbn0gZnJvbSAnLi4vaGVscGVycy9wYXJ0aWNpcGFudFV0aWxzJztcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IHRoZSBmYWN0IHRoYXQgdGhleSBhcmUgdGhlIGRvbWluYW50IHNwZWFrZXIgb3Igbm90LlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBkb21pbmFudFNwZWFrZXI6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5pc0RvbWluYW50U3BlYWtlciAmJiAhYi5pc0RvbWluYW50U3BlYWtlcikgcmV0dXJuIC0xO1xuICBpZiAoIWEuaXNEb21pbmFudFNwZWFrZXIgJiYgYi5pc0RvbWluYW50U3BlYWtlcikgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IHRoZSBmYWN0IHRoYXQgdGhleSBhcmUgc3BlYWtpbmcgb3Igbm90LlxuICpcbiAqIEBwYXJhbSBhIHRoZSBmaXJzdCBwYXJ0aWNpcGFudC5cbiAqIEBwYXJhbSBiIHRoZSBzZWNvbmQgcGFydGljaXBhbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBzcGVha2luZzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChhLmlzU3BlYWtpbmcgJiYgIWIuaXNTcGVha2luZykgcmV0dXJuIC0xO1xuICBpZiAoIWEuaXNTcGVha2luZyAmJiBiLmlzU3BlYWtpbmcpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSBzY3JlZW4gc2hhcmluZyBzdGF0dXMuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHNjcmVlblNoYXJpbmc6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoaGFzU2NyZWVuU2hhcmUoYSkgJiYgIWhhc1NjcmVlblNoYXJlKGIpKSByZXR1cm4gLTE7XG4gIGlmICghaGFzU2NyZWVuU2hhcmUoYSkgJiYgaGFzU2NyZWVuU2hhcmUoYikpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIHdoaWNoIHNvcnRzIHBhcnRpY2lwYW50cyBieSB2aWRlbyBzdGF0dXMuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHB1Ymxpc2hpbmdWaWRlbzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChoYXNWaWRlbyhhKSAmJiAhaGFzVmlkZW8oYikpIHJldHVybiAtMTtcbiAgaWYgKCFoYXNWaWRlbyhhKSAmJiBoYXNWaWRlbyhiKSkgcmV0dXJuIDE7XG4gIHJldHVybiAwO1xufTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IGF1ZGlvIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0gYSB0aGUgZmlyc3QgcGFydGljaXBhbnQuXG4gKiBAcGFyYW0gYiB0aGUgc2Vjb25kIHBhcnRpY2lwYW50LlxuICovXG5leHBvcnQgY29uc3QgcHVibGlzaGluZ0F1ZGlvOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+ID0gKGEsIGIpID0+IHtcbiAgaWYgKGhhc0F1ZGlvKGEpICYmICFoYXNBdWRpbyhiKSkgcmV0dXJuIC0xO1xuICBpZiAoIWhhc0F1ZGlvKGEpICYmIGhhc0F1ZGlvKGIpKSByZXR1cm4gMTtcbiAgcmV0dXJuIDA7XG59O1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB3aGljaCBwcmlvcml0aXplcyBwYXJ0aWNpcGFudHMgd2hvIGFyZSBwaW5uZWQuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHBpbm5lZDogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9IChhLCBiKSA9PiB7XG4gIGlmIChhLnBpbiAmJiBiLnBpbikge1xuICAgIGlmICghYS5waW4uaXNMb2NhbFBpbiAmJiBiLnBpbi5pc0xvY2FsUGluKSByZXR1cm4gLTE7XG4gICAgaWYgKGEucGluLmlzTG9jYWxQaW4gJiYgIWIucGluLmlzTG9jYWxQaW4pIHJldHVybiAxO1xuICAgIGlmIChhLnBpbi5waW5uZWRBdCA+IGIucGluLnBpbm5lZEF0KSByZXR1cm4gLTE7XG4gICAgaWYgKGEucGluLnBpbm5lZEF0IDwgYi5waW4ucGlubmVkQXQpIHJldHVybiAxO1xuICB9XG5cbiAgaWYgKGEucGluICYmICFiLnBpbikgcmV0dXJuIC0xO1xuICBpZiAoIWEucGluICYmIGIucGluKSByZXR1cm4gMTtcblxuICByZXR1cm4gMDtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIGNyZWF0b3Igd2hpY2ggd2lsbCBzZXQgdXAgYSBjb21wYXJhdG9yIHdoaWNoIHByaW9yaXRpemVzXG4gKiBwYXJ0aWNpcGFudHMgd2hvIGhhdmUgYSBzcGVjaWZpYyByZWFjdGlvbi5cbiAqXG4gKiBAcGFyYW0gdHlwZSB0aGUgcmVhY3Rpb24gdHlwZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWN0aW9uVHlwZSA9IChcbiAgdHlwZTogc3RyaW5nLFxuKTogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9PiB7XG4gIHJldHVybiAoYSwgYikgPT4ge1xuICAgIGlmIChhLnJlYWN0aW9uPy50eXBlID09PSB0eXBlICYmIGIucmVhY3Rpb24/LnR5cGUgIT09IHR5cGUpIHJldHVybiAtMTtcbiAgICBpZiAoYS5yZWFjdGlvbj8udHlwZSAhPT0gdHlwZSAmJiBiLnJlYWN0aW9uPy50eXBlID09PSB0eXBlKSByZXR1cm4gMTtcbiAgICByZXR1cm4gMDtcbiAgfTtcbn07XG5cbi8qKlxuICogQSBjb21wYXJhdG9yIGNyZWF0b3Igd2hpY2ggd2lsbCBzZXQgdXAgYSBjb21wYXJhdG9yIHdoaWNoIHByaW9yaXRpemVzXG4gKiBwYXJ0aWNpcGFudHMgd2hvIGhhdmUgYSBzcGVjaWZpYyByb2xlLlxuICpcbiAqIEBwYXJhbSByb2xlcyB0aGUgcm9sZXMgdG8gcHJpb3JpdGl6ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IHJvbGUgPVxuICAoLi4ucm9sZXM6IHN0cmluZ1tdKTogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50PiA9PlxuICAoYSwgYikgPT4ge1xuICAgIGlmIChoYXNBbnlSb2xlKGEsIHJvbGVzKSAmJiAhaGFzQW55Um9sZShiLCByb2xlcykpIHJldHVybiAtMTtcbiAgICBpZiAoIWhhc0FueVJvbGUoYSwgcm9sZXMpICYmIGhhc0FueVJvbGUoYiwgcm9sZXMpKSByZXR1cm4gMTtcbiAgICByZXR1cm4gMDtcbiAgfTtcblxuLyoqXG4gKiBBIGNvbXBhcmF0b3Igd2hpY2ggc29ydHMgcGFydGljaXBhbnRzIGJ5IG5hbWUuXG4gKlxuICogQHBhcmFtIGEgdGhlIGZpcnN0IHBhcnRpY2lwYW50LlxuICogQHBhcmFtIGIgdGhlIHNlY29uZCBwYXJ0aWNpcGFudC5cbiAqL1xuZXhwb3J0IGNvbnN0IG5hbWU6IENvbXBhcmF0b3I8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4gPSAoYSwgYikgPT4ge1xuICBpZiAoYS5uYW1lIDwgYi5uYW1lKSByZXR1cm4gLTE7XG4gIGlmIChhLm5hbWUgPiBiLm5hbWUpIHJldHVybiAxO1xuICByZXR1cm4gMDtcbn07XG5cbmNvbnN0IGhhc0FueVJvbGUgPSAocDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCwgcm9sZXM6IHN0cmluZ1tdKSA9PlxuICAocC5yb2xlcyB8fCBbXSkuc29tZSgocikgPT4gcm9sZXMuaW5jbHVkZXMocikpO1xuIiwiaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCwgVmlzaWJpbGl0eVN0YXRlIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY29tYmluZUNvbXBhcmF0b3JzLCBjb25kaXRpb25hbCB9IGZyb20gJy4vY29tcGFyYXRvcic7XG5pbXBvcnQge1xuICBkb21pbmFudFNwZWFrZXIsXG4gIHBpbm5lZCxcbiAgcHVibGlzaGluZ0F1ZGlvLFxuICBwdWJsaXNoaW5nVmlkZW8sXG4gIHJlYWN0aW9uVHlwZSxcbiAgcm9sZSxcbiAgc2NyZWVuU2hhcmluZyxcbiAgc3BlYWtpbmcsXG59IGZyb20gJy4vcGFydGljaXBhbnRzJztcblxuLy8gYSBjb21wYXJhdG9yIGRlY29yYXRvciB3aGljaCBhcHBsaWVzIHRoZSBkZWNvcmF0ZWQgY29tcGFyYXRvciBvbmx5IGlmIHRoZVxuLy8gcGFydGljaXBhbnQgaXMgaW52aXNpYmxlLlxuLy8gVGhpcyBlbnN1cmVzIHN0YWJsZSBzb3J0aW5nIHdoZW4gYWxsIHBhcnRpY2lwYW50cyBhcmUgdmlzaWJsZS5cbmNvbnN0IGlmSW52aXNpYmxlQnkgPSBjb25kaXRpb25hbChcbiAgKGE6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQsIGI6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpID0+XG4gICAgYS52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSB8fFxuICAgIGIudmlld3BvcnRWaXNpYmlsaXR5U3RhdGU/LnZpZGVvVHJhY2sgPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEUsXG4pO1xuXG4vKipcbiAqIEEgY29tcGFyYXRvciB0aGF0IGFwcGxpZXMgdGhlIGRlY29yYXRlZCBjb21wYXJhdG9yIHdoZW4gYSBwYXJ0aWNpcGFudCBpc1xuICogZWl0aGVyIGludmlzaWJsZSBvciBpdHMgdmlzaWJpbGl0eSBzdGF0ZSBpc24ndCBrbm93bi5cbiAqIEZvciB2aXNpYmxlIHBhcnRpY2lwYW50cywgaXQgZW5zdXJlcyBzdGFibGUgc29ydGluZy5cbiAqL1xuY29uc3QgaWZJbnZpc2libGVPclVua25vd25CeSA9IGNvbmRpdGlvbmFsKFxuICAoYTogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCwgYjogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCkgPT5cbiAgICBhLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy52aWRlb1RyYWNrID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFIHx8XG4gICAgYS52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLlVOS05PV04gfHxcbiAgICBiLnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlPy52aWRlb1RyYWNrID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFIHx8XG4gICAgYi52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8udmlkZW9UcmFjayA9PT0gVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4pO1xuXG4vKipcbiAqIFRoZSBkZWZhdWx0IHNvcnRpbmcgcHJlc2V0LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFNvcnRQcmVzZXQgPSBjb21iaW5lQ29tcGFyYXRvcnMoXG4gIHBpbm5lZCxcbiAgc2NyZWVuU2hhcmluZyxcbiAgaWZJbnZpc2libGVCeShcbiAgICBjb21iaW5lQ29tcGFyYXRvcnMoXG4gICAgICBkb21pbmFudFNwZWFrZXIsXG4gICAgICBzcGVha2luZyxcbiAgICAgIHJlYWN0aW9uVHlwZSgncmFpc2VkLWhhbmQnKSxcbiAgICAgIHB1Ymxpc2hpbmdWaWRlbyxcbiAgICAgIHB1Ymxpc2hpbmdBdWRpbyxcbiAgICApLFxuICApLFxuICAvLyBpZkludmlzaWJsZUJ5KG5hbWUpLFxuKTtcblxuLyoqXG4gKiBUaGUgc29ydGluZyBwcmVzZXQgZm9yIHNwZWFrZXIgbGF5b3V0LlxuICovXG5leHBvcnQgY29uc3Qgc3BlYWtlckxheW91dFNvcnRQcmVzZXQgPSBjb21iaW5lQ29tcGFyYXRvcnMoXG4gIHBpbm5lZCxcbiAgc2NyZWVuU2hhcmluZyxcbiAgZG9taW5hbnRTcGVha2VyLFxuICBpZkludmlzaWJsZUJ5KFxuICAgIGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgICAgIHNwZWFraW5nLFxuICAgICAgcmVhY3Rpb25UeXBlKCdyYWlzZWQtaGFuZCcpLFxuICAgICAgcHVibGlzaGluZ1ZpZGVvLFxuICAgICAgcHVibGlzaGluZ0F1ZGlvLFxuICAgICksXG4gICksXG4gIC8vIGlmSW52aXNpYmxlQnkobmFtZSksXG4pO1xuXG4vKipcbiAqIFRoZSBzb3J0aW5nIHByZXNldCBmb3IgbGF5b3V0cyB0aGF0IGRvbid0IHJlbmRlciBhbGwgcGFydGljaXBhbnRzIGJ1dFxuICogaW5zdGVhZCwgcmVuZGVyIHRoZW0gaW4gcGFnZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBwYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBwaW5uZWQsXG4gIGlmSW52aXNpYmxlT3JVbmtub3duQnkoXG4gICAgY29tYmluZUNvbXBhcmF0b3JzKFxuICAgICAgZG9taW5hbnRTcGVha2VyLFxuICAgICAgc3BlYWtpbmcsXG4gICAgICByZWFjdGlvblR5cGUoJ3JhaXNlZC1oYW5kJyksXG4gICAgICBwdWJsaXNoaW5nVmlkZW8sXG4gICAgICBwdWJsaXNoaW5nQXVkaW8sXG4gICAgKSxcbiAgKSxcbiAgLy8gaWZJbnZpc2libGVPclVua25vd25CeShuYW1lKSxcbik7XG5cbi8qKlxuICogVGhlIHNvcnRpbmcgcHJlc2V0IGZvciBsaXZlc3RyZWFtcyBhbmQgYXVkaW8gcm9vbXMuXG4gKi9cbmV4cG9ydCBjb25zdCBsaXZlc3RyZWFtT3JBdWRpb1Jvb21Tb3J0UHJlc2V0ID0gY29tYmluZUNvbXBhcmF0b3JzKFxuICBpZkludmlzaWJsZUJ5KFxuICAgIGNvbWJpbmVDb21wYXJhdG9ycyhcbiAgICAgIGRvbWluYW50U3BlYWtlcixcbiAgICAgIHNwZWFraW5nLFxuICAgICAgcmVhY3Rpb25UeXBlKCdyYWlzZWQtaGFuZCcpLFxuICAgICAgcHVibGlzaGluZ1ZpZGVvLFxuICAgICAgcHVibGlzaGluZ0F1ZGlvLFxuICAgICksXG4gICksXG4gIHJvbGUoJ2FkbWluJywgJ2hvc3QnLCAnc3BlYWtlcicpLFxuICAvLyBuYW1lLFxuKTtcbiIsImltcG9ydCB7XG4gIEJlaGF2aW9yU3ViamVjdCxcbiAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gIG1hcCxcbiAgT2JzZXJ2YWJsZSxcbiAgc2hhcmVSZXBsYXksXG59IGZyb20gJ3J4anMnO1xuaW1wb3J0IHR5cGUgeyBQYXRjaCB9IGZyb20gJy4vcnhVdGlscyc7XG5pbXBvcnQgKiBhcyBSeFV0aWxzIGZyb20gJy4vcnhVdGlscyc7XG5pbXBvcnQgeyBDYWxsaW5nU3RhdGUgfSBmcm9tICcuL0NhbGxpbmdTdGF0ZSc7XG5pbXBvcnQge1xuICB0eXBlIENsb3NlZENhcHRpb25zU2V0dGluZ3MsXG4gIHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgdHlwZSBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2gsXG4gIHR5cGUgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMsXG4gIHR5cGUgU3Vic2NyaXB0aW9uQ2hhbmdlcyxcbiAgVmlkZW9UcmFja1R5cGUsXG4gIFZpc2liaWxpdHlTdGF0ZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRzUmVwb3J0IH0gZnJvbSAnLi4vc3RhdHMnO1xuaW1wb3J0IHtcbiAgQmxvY2tlZFVzZXJFdmVudCxcbiAgQ2FsbENsb3NlZENhcHRpb24sXG4gIENhbGxJbmdyZXNzUmVzcG9uc2UsXG4gIENhbGxNZW1iZXJBZGRlZEV2ZW50LFxuICBDYWxsTWVtYmVyUmVtb3ZlZEV2ZW50LFxuICBDYWxsTWVtYmVyVXBkYXRlZEV2ZW50LFxuICBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudCxcbiAgQ2FsbFJlYWN0aW9uRXZlbnQsXG4gIENhbGxSZXNwb25zZSxcbiAgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudENvdW50c1VwZGF0ZWRFdmVudCxcbiAgQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50LFxuICBDYWxsU2Vzc2lvblBhcnRpY2lwYW50TGVmdEV2ZW50LFxuICBDYWxsU2Vzc2lvblJlc3BvbnNlLFxuICBDYWxsU2V0dGluZ3NSZXNwb25zZSxcbiAgQ2xvc2VkQ2FwdGlvbkV2ZW50LFxuICBFZ3Jlc3NSZXNwb25zZSxcbiAgTWVtYmVyUmVzcG9uc2UsXG4gIE93bkNhcGFiaWxpdHksXG4gIFRodW1ibmFpbFJlc3BvbnNlLFxuICBVbmJsb2NrZWRVc2VyRXZlbnQsXG4gIFVwZGF0ZWRDYWxsUGVybWlzc2lvbnNFdmVudCxcbiAgVXNlclJlc3BvbnNlLFxuICBWaWRlb0V2ZW50LFxufSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgVGltZXN0YW1wIH0gZnJvbSAnLi4vZ2VuL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAnO1xuaW1wb3J0IHsgUmVjb25uZWN0RGV0YWlscyB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIENhbGxTdGF0ZSBhcyBTZnVDYWxsU3RhdGUsXG4gIFBpbixcbiAgVHJhY2tUeXBlLFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQ29tcGFyYXRvciwgZGVmYXVsdFNvcnRQcmVzZXQgfSBmcm9tICcuLi9zb3J0aW5nJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBoYXNTY3JlZW5TaGFyZSB9IGZyb20gJy4uL2hlbHBlcnMvcGFydGljaXBhbnRVdGlscyc7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZGVmYXVsdCBlZ3Jlc3Mgb2JqZWN0IC0gd2hlbiBubyBlZ3Jlc3MgZGF0YSBpcyBhdmFpbGFibGUuXG4gKi9cbmNvbnN0IGRlZmF1bHRFZ3Jlc3M6IEVncmVzc1Jlc3BvbnNlID0ge1xuICBicm9hZGNhc3Rpbmc6IGZhbHNlLFxuICBobHM6IHsgcGxheWxpc3RfdXJsOiAnJywgc3RhdHVzOiAnJyB9LFxuICBydG1wczogW10sXG59O1xuXG50eXBlIE9ycGhhbmVkVHJhY2sgPSB7XG4gIGlkOiBzdHJpbmc7XG4gIHRyYWNrTG9va3VwUHJlZml4OiBzdHJpbmc7XG4gIHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICB0cmFjazogTWVkaWFTdHJlYW07XG59O1xuXG4vKipcbiAqIEhvbGRzIHRoZSBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICogQHJlYWN0IFlvdSBkb24ndCBoYXZlIHRvIHVzZSB0aGlzIGNsYXNzIGRpcmVjdGx5LCBhcyB3ZSBhcmUgZXhwb3NpbmcgdGhlIHN0YXRlIHRocm91Z2ggSG9va3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBDYWxsU3RhdGUge1xuICBwcml2YXRlIGJhY2tzdGFnZVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KHRydWUpO1xuICBwcml2YXRlIGJsb2NrZWRVc2VySWRzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nW10+KFtdKTtcbiAgcHJpdmF0ZSBjcmVhdGVkQXRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxEYXRlPihuZXcgRGF0ZSgpKTtcbiAgcHJpdmF0ZSBlbmRlZEF0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RGF0ZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcbiAgcHJpdmF0ZSBzdGFydHNBdFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PERhdGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgdXBkYXRlZEF0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RGF0ZT4obmV3IERhdGUoKSk7XG4gIHByaXZhdGUgY3JlYXRlZEJ5U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgY3VzdG9tU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8UmVjb3JkPHN0cmluZywgYW55Pj4oe30pO1xuICBwcml2YXRlIGVncmVzc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PEVncmVzc1Jlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgaW5ncmVzc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENhbGxJbmdyZXNzUmVzcG9uc2UgfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJpdmF0ZSByZWNvcmRpbmdTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XG4gIHByaXZhdGUgc2Vzc2lvblN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENhbGxTZXNzaW9uUmVzcG9uc2UgfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJpdmF0ZSBzZXR0aW5nc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFxuICAgIENhbGxTZXR0aW5nc1Jlc3BvbnNlIHwgdW5kZWZpbmVkXG4gID4odW5kZWZpbmVkKTtcbiAgcHJpdmF0ZSB0cmFuc2NyaWJpbmdTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XG4gIHByaXZhdGUgY2FwdGlvbmluZ1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KGZhbHNlKTtcbiAgcHJpdmF0ZSBlbmRlZEJ5U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8VXNlclJlc3BvbnNlIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByaXZhdGUgdGh1bWJuYWlsc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFxuICAgIFRodW1ibmFpbFJlc3BvbnNlIHwgdW5kZWZpbmVkXG4gID4odW5kZWZpbmVkKTtcbiAgcHJpdmF0ZSBtZW1iZXJzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8TWVtYmVyUmVzcG9uc2VbXT4oW10pO1xuICBwcml2YXRlIG93bkNhcGFiaWxpdGllc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PE93bkNhcGFiaWxpdHlbXT4oW10pO1xuICBwcml2YXRlIGNhbGxpbmdTdGF0ZVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENhbGxpbmdTdGF0ZT4oXG4gICAgQ2FsbGluZ1N0YXRlLlVOS05PV04sXG4gICk7XG4gIHByaXZhdGUgc3RhcnRlZEF0U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8RGF0ZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcbiAgcHJpdmF0ZSBwYXJ0aWNpcGFudENvdW50U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8bnVtYmVyPigwKTtcbiAgcHJpdmF0ZSBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50U3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8bnVtYmVyPigwKTtcbiAgcHJpdmF0ZSBwYXJ0aWNpcGFudHNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50W10+KFxuICAgIFtdLFxuICApO1xuICBwcml2YXRlIGNhbGxTdGF0c1JlcG9ydFN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFxuICAgIENhbGxTdGF0c1JlcG9ydCB8IHVuZGVmaW5lZFxuICA+KHVuZGVmaW5lZCk7XG4gIHByaXZhdGUgY2xvc2VkQ2FwdGlvbnNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDYWxsQ2xvc2VkQ2FwdGlvbltdPihbXSk7XG5cbiAgLy8gVGhlc2UgYXJlIHRyYWNrcyB0aGF0IHdlcmUgZGVsaXZlcmVkIHRvIHRoZSBTdWJzY3JpYmVyJ3Mgb25UcmFjayBldmVudFxuICAvLyB0aGF0IHdlIGNvdWxkbid0IGFzc29jaWF0ZSB3aXRoIGEgcGFydGljaXBhbnQgeWV0LlxuICAvLyBUaGlzIGhhcHBlbnMgd2hlbiB0aGUgcGFydGljaXBhbnRKb2luZWQgZXZlbnQgaGFzbid0IGJlZW4gcmVjZWl2ZWQgeWV0LlxuICAvLyBXZSBrZWVwIHRoZXNlIHRyYWNrcyBhcm91bmQgdW50aWwgd2UgY2FuIGFzc29jaWF0ZSB0aGVtIHdpdGggYSBwYXJ0aWNpcGFudC5cbiAgcHJpdmF0ZSBvcnBoYW5lZFRyYWNrczogT3JwaGFuZWRUcmFja1tdID0gW107XG5cbiAgLy8gRGVyaXZlZCBzdGF0ZVxuXG4gIC8qKlxuICAgKiBUaGUgdGltZSB0aGUgY2FsbCBzZXNzaW9uIGFjdHVhbGx5IHN0YXJ0ZWQuXG4gICAqIFVzZWZ1bCBmb3IgZGlzcGxheWluZyB0aGUgY2FsbCBkdXJhdGlvbi5cbiAgICovXG4gIHN0YXJ0ZWRBdCQ6IE9ic2VydmFibGU8RGF0ZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgY29ubmVjdGVkIHRvIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFRoaXMgbnVtYmVyIGluY2x1ZGVzIHRoZSBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGFzIHdlbGwuXG4gICAqL1xuICBwYXJ0aWNpcGFudENvdW50JDogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4gIC8qKlxuICAgKiBUaGUgc2VydmVyLXNpZGUgY291bnRlZCBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgZXhjbHVkZXMgdGhlIHJlZ3VsYXIgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCQ6IE9ic2VydmFibGU8bnVtYmVyPjtcblxuICAvKipcbiAgICogQWxsIHBhcnRpY2lwYW50cyBvZiB0aGUgY3VycmVudCBjYWxsICh0aGlzIGluY2x1ZGVzIHRoZSBjdXJyZW50IHVzZXIgYW5kIG90aGVyIHBhcnRpY2lwYW50cyBhcyB3ZWxsKSxcbiAgICogdW5zb3J0ZWQuIFRoaXMgb2JzZXJ2YWJsZSBvbmx5IHVwZGF0ZXMgd2hlbiBwYXJ0aWNpcGFudHMgam9pbiBvciBsZWF2ZSB0aGUgY2FsbC5cbiAgICovXG4gIHJhd1BhcnRpY2lwYW50cyQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPjtcblxuICAvKipcbiAgICogQWxsIHBhcnRpY2lwYW50cyBvZiB0aGUgY3VycmVudCBjYWxsICh0aGlzIGluY2x1ZGVzIHRoZSBjdXJyZW50IHVzZXIgYW5kIG90aGVyIHBhcnRpY2lwYW50cyBhcyB3ZWxsKSxcbiAgICogc29ydGVkIGFjY29yZGluZyB0byB0aGUgY3VycmVudCBgc29ydEJ5UGFydGljaXBhbnRzQnlgIHNldHRpbmdcbiAgICovXG4gIHBhcnRpY2lwYW50cyQ6IE9ic2VydmFibGU8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPjtcblxuICAvKipcbiAgICogUmVtb3RlIHBhcnRpY2lwYW50cyBvZiB0aGUgY3VycmVudCBjYWxsICh0aGlzIGluY2x1ZGVzIGV2ZXJ5IHBhcnRpY2lwYW50IGV4Y2VwdCB0aGUgbG9nZ2VkLWluIHVzZXIpLlxuICAgKi9cbiAgcmVtb3RlUGFydGljaXBhbnRzJDogT2JzZXJ2YWJsZTxTdHJlYW1WaWRlb1BhcnRpY2lwYW50W10+O1xuXG4gIC8qKlxuICAgKiBUaGUgbG9jYWwgcGFydGljaXBhbnQgb2YgdGhlIGN1cnJlbnQgY2FsbCAodGhlIGxvZ2dlZC1pbiB1c2VyKS5cbiAgICovXG4gIGxvY2FsUGFydGljaXBhbnQkOiBPYnNlcnZhYmxlPFN0cmVhbVZpZGVvUGFydGljaXBhbnQgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBQaW5uZWQgcGFydGljaXBhbnRzIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBwaW5uZWRQYXJ0aWNpcGFudHMkOiBPYnNlcnZhYmxlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRbXT47XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50bHkgZWxlY3RlZCBkb21pbmFudCBzcGVha2VyIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBkb21pbmFudFNwZWFrZXIkOiBPYnNlcnZhYmxlPFN0cmVhbVZpZGVvUGFydGljaXBhbnQgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBFbWl0cyB0cnVlIHdoZW5ldmVyIHRoZXJlIGlzIGFuIGFjdGl2ZSBzY3JlZW4gc2hhcmluZyBzZXNzaW9uIHdpdGhpblxuICAgKiB0aGUgY3VycmVudCBjYWxsLiBVc2VmdWwgZm9yIGRpc3BsYXlpbmcgYSBcInNjcmVlbiBzaGFyaW5nXCIgaW5kaWNhdG9yIGFuZFxuICAgKiBzd2l0Y2hpbmcgdGhlIGxheW91dCB0byBhIHNjcmVlbiBzaGFyaW5nIGxheW91dC5cbiAgICpcbiAgICogVGhlIGFjdHVhbCBzY3JlZW4gc2hhcmluZyB0cmFjayBpc24ndCBleHBvc2VkIGhlcmUsIGJ1dCBjYW4gYmUgcmV0cmlldmVkXG4gICAqIGZyb20gdGhlIGxpc3Qgb2YgY2FsbCBwYXJ0aWNpcGFudHMuIFdlIGFsc28gZG9uJ3Qgd2FudCB0byBiZSBsaW1pdGluZ1xuICAgKiB0byB0aGUgbnVtYmVyIG9mIHNoYXJlIHNjcmVlbiB0cmFja3MgYXJlIGRpc3BsYXllZCBpbiBhIGNhbGwuXG4gICAqL1xuICBoYXNPbmdvaW5nU2NyZWVuU2hhcmUkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBUaGUgbGF0ZXN0IHN0YXRzIHJlcG9ydCBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKiBXaGVuIHN0YXRzIGdhdGhlcmluZyBpcyBlbmFibGVkLCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0IGEgbmV3IHZhbHVlXG4gICAqIGF0IGEgcmVndWxhciAoY29uZmlndXJhYmxlKSBpbnRlcnZhbC5cbiAgICpcbiAgICogQ29uc3VtZXJzIG9mIHRoaXMgb2JzZXJ2YWJsZSBjYW4gaW1wbGVtZW50IHRoZWlyIG93biBiYXRjaGluZyBsb2dpY1xuICAgKiBpbiBjYXNlIHRoZXkgd2FudCB0byBzaG93IGhpc3RvcmljYWwgc3RhdHMgZGF0YS5cbiAgICovXG4gIGNhbGxTdGF0c1JlcG9ydCQ6IE9ic2VydmFibGU8Q2FsbFN0YXRzUmVwb3J0IHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgbWVtYmVycyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgbWVtYmVycyQ6IE9ic2VydmFibGU8TWVtYmVyUmVzcG9uc2VbXT47XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIGNhcGFiaWxpdGllcyBvZiB0aGUgY3VycmVudCB1c2VyLlxuICAgKi9cbiAgb3duQ2FwYWJpbGl0aWVzJDogT2JzZXJ2YWJsZTxPd25DYXBhYmlsaXR5W10+O1xuXG4gIC8qKlxuICAgKiBUaGUgY2FsbGluZyBzdGF0ZS5cbiAgICovXG4gIGNhbGxpbmdTdGF0ZSQ6IE9ic2VydmFibGU8Q2FsbGluZ1N0YXRlPjtcblxuICAvKipcbiAgICogVGhlIGJhY2tzdGFnZSBzdGF0ZS5cbiAgICovXG4gIGJhY2tzdGFnZSQ6IE9ic2VydmFibGU8Ym9vbGVhbj47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgbGlzdCBvZiBibG9ja2VkIHVzZXIgSURzLlxuICAgKi9cbiAgYmxvY2tlZFVzZXJJZHMkOiBPYnNlcnZhYmxlPHN0cmluZ1tdPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIGNyZWF0ZWQuXG4gICAqL1xuICBjcmVhdGVkQXQkOiBPYnNlcnZhYmxlPERhdGU+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gZW5kZWQuXG4gICAqL1xuICBlbmRlZEF0JDogT2JzZXJ2YWJsZTxEYXRlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIHNjaGVkdWxlZCB0byBzdGFydC5cbiAgICovXG4gIHN0YXJ0c0F0JDogT2JzZXJ2YWJsZTxEYXRlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIHVwZGF0ZWQuXG4gICAqL1xuICB1cGRhdGVkQXQkOiBPYnNlcnZhYmxlPERhdGU+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHVzZXIgd2hvIGNyZWF0ZWQgdGhpcyBjYWxsLlxuICAgKi9cbiAgY3JlYXRlZEJ5JDogT2JzZXJ2YWJsZTxVc2VyUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGN1c3RvbSBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGN1c3RvbSQ6IE9ic2VydmFibGU8UmVjb3JkPHN0cmluZywgYW55Pj47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgZWdyZXNzIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZWdyZXNzJDogT2JzZXJ2YWJsZTxFZ3Jlc3NSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgaW5ncmVzcyBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGluZ3Jlc3MkOiBPYnNlcnZhYmxlPENhbGxJbmdyZXNzUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHJlY29yZGluZyBzdGF0ZSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICByZWNvcmRpbmckOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHNlc3Npb24gZGF0YSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBzZXNzaW9uJDogT2JzZXJ2YWJsZTxDYWxsU2Vzc2lvblJlc3BvbnNlIHwgdW5kZWZpbmVkPjtcblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBzZXR0aW5ncyBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICBzZXR0aW5ncyQ6IE9ic2VydmFibGU8Q2FsbFNldHRpbmdzUmVzcG9uc2UgfCB1bmRlZmluZWQ+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRyYW5zY3JpYmluZyBzdGF0ZSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICB0cmFuc2NyaWJpbmckOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGNsb3NlZCBjYXB0aW9uaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGNhcHRpb25pbmckOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHVzZXIgd2hvIGVuZGVkIHRoaXMgY2FsbC5cbiAgICovXG4gIGVuZGVkQnkkOiBPYnNlcnZhYmxlPFVzZXJSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGh1bWJuYWlscyBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICB0aHVtYm5haWxzJDogT2JzZXJ2YWJsZTxUaHVtYm5haWxSZXNwb25zZSB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFRoZSBxdWV1ZSBvZiBjbG9zZWQgY2FwdGlvbnMuXG4gICAqL1xuICBjbG9zZWRDYXB0aW9ucyQ6IE9ic2VydmFibGU8Q2FsbENsb3NlZENhcHRpb25bXT47XG5cbiAgcmVhZG9ubHkgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnQ2FsbFN0YXRlJ10pO1xuXG4gIC8qKlxuICAgKiBBIGxpc3Qgb2YgY29tcGFyYXRvcnMgdGhhdCBhcmUgdXNlZCB0byBzb3J0IHRoZSBwYXJ0aWNpcGFudHMuXG4gICAqL1xuICBwcml2YXRlIHNvcnRQYXJ0aWNpcGFudHNCeSA9IGRlZmF1bHRTb3J0UHJlc2V0O1xuXG4gIC8qKlxuICAgKiBUaGUgY2xvc2VkIGNhcHRpb25zIGNvbmZpZ3VyYXRpb24uXG4gICAqL1xuICBwcml2YXRlIGNsb3NlZENhcHRpb25zU2V0dGluZ3M6IENsb3NlZENhcHRpb25zU2V0dGluZ3MgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgY2xvc2VkQ2FwdGlvbnNUYXNrcyA9IG5ldyBNYXA8c3RyaW5nLCBOb2RlSlMuVGltZW91dD4oKTtcblxuICBwcml2YXRlIHJlYWRvbmx5IGV2ZW50SGFuZGxlcnM6IHtcbiAgICBbRXZlbnRUeXBlIGluIFZpZGVvRXZlbnRbJ3R5cGUnXV06XG4gICAgICB8ICgoZXZlbnQ6IEV4dHJhY3Q8VmlkZW9FdmVudCwgeyB0eXBlOiBFdmVudFR5cGUgfT4pID0+IHZvaWQpXG4gICAgICB8IHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgQ2FsbFN0YXRlIGNsYXNzLlxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yYXdQYXJ0aWNpcGFudHMkID0gdGhpcy5wYXJ0aWNpcGFudHNTdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSkpO1xuXG4gICAgdGhpcy5wYXJ0aWNpcGFudHMkID0gdGhpcy5wYXJ0aWNpcGFudHNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpLnBpcGUoXG4gICAgICAvLyBtYWludGFpbiBzdGFibGUtc29ydCBieSBtdXRhdGluZyB0aGUgcGFydGljaXBhbnRzIHN0b3JlZFxuICAgICAgLy8gaW4gdGhlIG9yaWdpbmFsIHN1YmplY3RcbiAgICAgIG1hcCgocHMpID0+IHBzLnNvcnQodGhpcy5zb3J0UGFydGljaXBhbnRzQnkpKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMubG9jYWxQYXJ0aWNpcGFudCQgPSB0aGlzLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocGFydGljaXBhbnRzKSA9PiBwYXJ0aWNpcGFudHMuZmluZCgocCkgPT4gcC5pc0xvY2FsUGFydGljaXBhbnQpKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMucmVtb3RlUGFydGljaXBhbnRzJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5maWx0ZXIoKHApID0+ICFwLmlzTG9jYWxQYXJ0aWNpcGFudCkpLFxuICAgICAgc2hhcmVSZXBsYXkoeyBidWZmZXJTaXplOiAxLCByZWZDb3VudDogdHJ1ZSB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5waW5uZWRQYXJ0aWNpcGFudHMkID0gdGhpcy5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoKHBhcnRpY2lwYW50cykgPT4gcGFydGljaXBhbnRzLmZpbHRlcigocCkgPT4gISFwLnBpbikpLFxuICAgICAgc2hhcmVSZXBsYXkoeyBidWZmZXJTaXplOiAxLCByZWZDb3VudDogdHJ1ZSB9KSxcbiAgICApO1xuXG4gICAgdGhpcy5kb21pbmFudFNwZWFrZXIkID0gdGhpcy5wYXJ0aWNpcGFudHMkLnBpcGUoXG4gICAgICBtYXAoKHBhcnRpY2lwYW50cykgPT4gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IHAuaXNEb21pbmFudFNwZWFrZXIpKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIHRoaXMuaGFzT25nb2luZ1NjcmVlblNoYXJlJCA9IHRoaXMucGFydGljaXBhbnRzJC5waXBlKFxuICAgICAgbWFwKChwYXJ0aWNpcGFudHMpID0+IHBhcnRpY2lwYW50cy5zb21lKChwKSA9PiBoYXNTY3JlZW5TaGFyZShwKSkpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIC8vIGRhdGVzXG4gICAgdGhpcy5jcmVhdGVkQXQkID0gdGhpcy5jcmVhdGVkQXRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuZW5kZWRBdCQgPSB0aGlzLmVuZGVkQXRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuc3RhcnRzQXQkID0gdGhpcy5zdGFydHNBdFN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5zdGFydGVkQXQkID0gdGhpcy5zdGFydGVkQXRTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMudXBkYXRlZEF0JCA9IHRoaXMudXBkYXRlZEF0U3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICAgIHRoaXMuY2FsbFN0YXRzUmVwb3J0JCA9IHRoaXMuY2FsbFN0YXRzUmVwb3J0U3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLm1lbWJlcnMkID0gdGhpcy5tZW1iZXJzU3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICAgIC8vIGNvbXBsZXggb2JqZWN0cyBzaG91bGQgd29yayBhcyBzdHJlYW1zIG9mIGRhdGFcbiAgICB0aGlzLmNyZWF0ZWRCeSQgPSB0aGlzLmNyZWF0ZWRCeVN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgdGhpcy5jdXN0b20kID0gdGhpcy5jdXN0b21TdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuZWdyZXNzJCA9IHRoaXMuZWdyZXNzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLmluZ3Jlc3MkID0gdGhpcy5pbmdyZXNzU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnNlc3Npb24kID0gdGhpcy5zZXNzaW9uU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB0aGlzLnNldHRpbmdzJCA9IHRoaXMuc2V0dGluZ3NTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuZW5kZWRCeSQgPSB0aGlzLmVuZGVkQnlTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMudGh1bWJuYWlscyQgPSB0aGlzLnRodW1ibmFpbHNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuICAgIHRoaXMuY2xvc2VkQ2FwdGlvbnMkID0gdGhpcy5jbG9zZWRDYXB0aW9uc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBzaGFsbG93IGNvbXBhcmlzb24gb2YgdHdvIGFycmF5cy5cbiAgICAgKiBFeHBlY3RzIHByaW1pdGl2ZSB2YWx1ZXM6IFsxLCAyLCAzXSBpcyBlcXVhbCB0byBbMiwgMSwgM10uXG4gICAgICovXG4gICAgY29uc3QgaXNTaGFsbG93RXF1YWwgPSA8VD4oYTogQXJyYXk8VD4sIGI6IEFycmF5PFQ+KTogYm9vbGVhbiA9PiB7XG4gICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYSkgaWYgKCFiLmluY2x1ZGVzKGl0ZW0pKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgYikgaWYgKCFhLmluY2x1ZGVzKGl0ZW0pKSByZXR1cm4gZmFsc2U7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBPYnNlcnZhYmxlIGZyb20gdGhlIGdpdmVuIHN1YmplY3QgYnkgcGlwaW5nIHRvIHRoZVxuICAgICAqIGBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpYCBvcGVyYXRvci5cbiAgICAgKi9cbiAgICBjb25zdCBkdWMgPSA8VD4oXG4gICAgICBzdWJqZWN0OiBCZWhhdmlvclN1YmplY3Q8VD4sXG4gICAgICBjb21wYXJhdG9yPzogKGE6IFQsIGI6IFQpID0+IGJvb2xlYW4sXG4gICAgKTogT2JzZXJ2YWJsZTxUPiA9PlxuICAgICAgc3ViamVjdC5hc09ic2VydmFibGUoKS5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKGNvbXBhcmF0b3IpKTtcblxuICAgIC8vIHByaW1pdGl2ZSB2YWx1ZXMgc2hvdWxkIG9ubHkgZW1pdCBvbmNlIHRoZSB2YWx1ZSB0aGV5IGhvbGQgY2hhbmdlc1xuICAgIHRoaXMuYW5vbnltb3VzUGFydGljaXBhbnRDb3VudCQgPSBkdWMoXG4gICAgICB0aGlzLmFub255bW91c1BhcnRpY2lwYW50Q291bnRTdWJqZWN0LFxuICAgICk7XG4gICAgdGhpcy5ibG9ja2VkVXNlcklkcyQgPSBkdWModGhpcy5ibG9ja2VkVXNlcklkc1N1YmplY3QsIGlzU2hhbGxvd0VxdWFsKTtcbiAgICB0aGlzLmJhY2tzdGFnZSQgPSBkdWModGhpcy5iYWNrc3RhZ2VTdWJqZWN0KTtcbiAgICB0aGlzLmNhbGxpbmdTdGF0ZSQgPSBkdWModGhpcy5jYWxsaW5nU3RhdGVTdWJqZWN0KTtcbiAgICB0aGlzLm93bkNhcGFiaWxpdGllcyQgPSBkdWModGhpcy5vd25DYXBhYmlsaXRpZXNTdWJqZWN0LCBpc1NoYWxsb3dFcXVhbCk7XG4gICAgdGhpcy5wYXJ0aWNpcGFudENvdW50JCA9IGR1Yyh0aGlzLnBhcnRpY2lwYW50Q291bnRTdWJqZWN0KTtcbiAgICB0aGlzLnJlY29yZGluZyQgPSBkdWModGhpcy5yZWNvcmRpbmdTdWJqZWN0KTtcbiAgICB0aGlzLnRyYW5zY3JpYmluZyQgPSBkdWModGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0KTtcbiAgICB0aGlzLmNhcHRpb25pbmckID0gZHVjKHRoaXMuY2FwdGlvbmluZ1N1YmplY3QpO1xuXG4gICAgdGhpcy5ldmVudEhhbmRsZXJzID0ge1xuICAgICAgLy8gdGhlc2UgZXZlbnRzIGFyZSBub3QgdXBkYXRpbmcgdGhlIGNhbGwgc3RhdGU6XG4gICAgICAnY2FsbC5mcmFtZV9yZWNvcmRpbmdfcmVhZHknOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5tb2RlcmF0aW9uX2JsdXInOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5tb2RlcmF0aW9uX3dhcm5pbmcnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3QnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5yZWNvcmRpbmdfcmVhZHknOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5ydG1wX2Jyb2FkY2FzdF9mYWlsZWQnOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC5ydG1wX2Jyb2FkY2FzdF9zdGFydGVkJzogdW5kZWZpbmVkLFxuICAgICAgJ2NhbGwucnRtcF9icm9hZGNhc3Rfc3RvcHBlZCc6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLnN0YXRzX3JlcG9ydF9yZWFkeSc6IHVuZGVmaW5lZCxcbiAgICAgICdjYWxsLnRyYW5zY3JpcHRpb25fcmVhZHknOiB1bmRlZmluZWQsXG4gICAgICAnY2FsbC51c2VyX211dGVkJzogdW5kZWZpbmVkLFxuICAgICAgJ2Nvbm5lY3Rpb24uZXJyb3InOiB1bmRlZmluZWQsXG4gICAgICAnY29ubmVjdGlvbi5vayc6IHVuZGVmaW5lZCxcbiAgICAgICdoZWFsdGguY2hlY2snOiB1bmRlZmluZWQsXG4gICAgICAndXNlci51cGRhdGVkJzogdW5kZWZpbmVkLFxuICAgICAgY3VzdG9tOiB1bmRlZmluZWQsXG5cbiAgICAgIC8vIGV2ZW50cyB0aGF0IHVwZGF0ZSBjYWxsIHN0YXRlOlxuICAgICAgJ2NhbGwuYWNjZXB0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5ibG9ja2VkX3VzZXInOiB0aGlzLmJsb2NrVXNlcixcbiAgICAgICdjYWxsLmNsb3NlZF9jYXB0aW9uJzogdGhpcy51cGRhdGVGcm9tQ2xvc2VkQ2FwdGlvbnMsXG4gICAgICAnY2FsbC5jbG9zZWRfY2FwdGlvbnNfZmFpbGVkJzogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNhcHRpb25pbmdTdWJqZWN0LCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwuY2xvc2VkX2NhcHRpb25zX3N0YXJ0ZWQnOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FwdGlvbmluZ1N1YmplY3QsIHRydWUpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLmNsb3NlZF9jYXB0aW9uc19zdG9wcGVkJzogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNhcHRpb25pbmdTdWJqZWN0LCBmYWxzZSk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwuY3JlYXRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLmRlbGV0ZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5lbmRlZCc6IChlKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpO1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmVuZGVkQnlTdWJqZWN0LCBlLnVzZXIpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLmZyYW1lX3JlY29yZGluZ19mYWlsZWQnOiAoZSkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC5mcmFtZV9yZWNvcmRpbmdfc3RhcnRlZCc6IChlKSA9PiB7XG4gICAgICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLmZyYW1lX3JlY29yZGluZ19zdG9wcGVkJzogKGUpID0+IHtcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwuaGxzX2Jyb2FkY2FzdGluZ19mYWlsZWQnOiB0aGlzLnVwZGF0ZUZyb21ITFNCcm9hZGNhc3RpbmdGYWlsZWQsXG4gICAgICAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0YXJ0ZWQnOiAoZSkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC5obHNfYnJvYWRjYXN0aW5nX3N0b3BwZWQnOiB0aGlzLnVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdG9wcGVkLFxuICAgICAgJ2NhbGwubGl2ZV9zdGFydGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwubWVtYmVyX2FkZGVkJzogdGhpcy51cGRhdGVGcm9tTWVtYmVyQWRkZWQsXG4gICAgICAnY2FsbC5tZW1iZXJfcmVtb3ZlZCc6IHRoaXMudXBkYXRlRnJvbU1lbWJlclJlbW92ZWQsXG4gICAgICAnY2FsbC5tZW1iZXJfdXBkYXRlZF9wZXJtaXNzaW9uJzogdGhpcy51cGRhdGVNZW1iZXJzLFxuICAgICAgJ2NhbGwubWVtYmVyX3VwZGF0ZWQnOiB0aGlzLnVwZGF0ZU1lbWJlcnMsXG4gICAgICAnY2FsbC5ub3RpZmljYXRpb24nOiAoZSkgPT4ge1xuICAgICAgICB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKTtcbiAgICAgICAgdGhpcy5zZXRNZW1iZXJzKGUubWVtYmVycyk7XG4gICAgICB9LFxuICAgICAgJ2NhbGwucGVybWlzc2lvbnNfdXBkYXRlZCc6IHRoaXMudXBkYXRlT3duQ2FwYWJpbGl0aWVzLFxuICAgICAgJ2NhbGwucmVhY3Rpb25fbmV3JzogdGhpcy51cGRhdGVQYXJ0aWNpcGFudFJlYWN0aW9uLFxuICAgICAgJ2NhbGwucmVjb3JkaW5nX3N0YXJ0ZWQnOiAoKSA9PlxuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnJlY29yZGluZ1N1YmplY3QsIHRydWUpLFxuICAgICAgJ2NhbGwucmVjb3JkaW5nX3N0b3BwZWQnOiAoKSA9PlxuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnJlY29yZGluZ1N1YmplY3QsIGZhbHNlKSxcbiAgICAgICdjYWxsLnJlY29yZGluZ19mYWlsZWQnOiAoKSA9PlxuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnJlY29yZGluZ1N1YmplY3QsIGZhbHNlKSxcbiAgICAgICdjYWxsLnJlamVjdGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgICAgJ2NhbGwucmluZyc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLm1pc3NlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLnNlc3Npb25fZW5kZWQnOiAoZSkgPT4gdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGUuY2FsbCksXG4gICAgICAnY2FsbC5zZXNzaW9uX3BhcnRpY2lwYW50X2NvdW50X3VwZGF0ZWQnOlxuICAgICAgICB0aGlzLnVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRDb3VudFVwZGF0ZSxcbiAgICAgICdjYWxsLnNlc3Npb25fcGFydGljaXBhbnRfam9pbmVkJzpcbiAgICAgICAgdGhpcy51cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50Sm9pbmVkLFxuICAgICAgJ2NhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9sZWZ0JzogdGhpcy51cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50TGVmdCxcbiAgICAgICdjYWxsLnNlc3Npb25fc3RhcnRlZCc6IChlKSA9PiB0aGlzLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZS5jYWxsKSxcbiAgICAgICdjYWxsLnRyYW5zY3JpcHRpb25fc3RhcnRlZCc6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCB0cnVlKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC50cmFuc2NyaXB0aW9uX3N0b3BwZWQnOiAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMudHJhbnNjcmliaW5nU3ViamVjdCwgZmFsc2UpO1xuICAgICAgfSxcbiAgICAgICdjYWxsLnRyYW5zY3JpcHRpb25fZmFpbGVkJzogKCkgPT4ge1xuICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRyYW5zY3JpYmluZ1N1YmplY3QsIGZhbHNlKTtcbiAgICAgIH0sXG4gICAgICAnY2FsbC51bmJsb2NrZWRfdXNlcic6IHRoaXMudW5ibG9ja1VzZXIsXG4gICAgICAnY2FsbC51cGRhdGVkJzogKGUpID0+IHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShlLmNhbGwpLFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUnVucyB0aGUgY2xlYW51cCB0YXNrcy5cbiAgICovXG4gIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgZm9yIChjb25zdCBbY2NLZXksIHRhc2tJZF0gb2YgdGhpcy5jbG9zZWRDYXB0aW9uc1Rhc2tzLmVudHJpZXMoKSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRhc2tJZCk7XG4gICAgICB0aGlzLmNsb3NlZENhcHRpb25zVGFza3MuZGVsZXRlKGNjS2V5KTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdGhhdCBhcmUgdXNlZCB0byBzb3J0IHRoZSBwYXJ0aWNpcGFudHMuXG4gICAqIFRvIGRpc2FibGUgc29ydGluZywgeW91IGNhbiBwYXNzIGBub29wQ29tcGFyYXRvcigpYC5cbiAgICpcbiAgICogQHBhcmFtIGNvbXBhcmF0b3IgdGhlIGNvbXBhcmF0b3IgdG8gdXNlIHRvIHNvcnQgdGhlIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNldFNvcnRQYXJ0aWNpcGFudHNCeSA9IChjb21wYXJhdG9yOiBDb21wYXJhdG9yPFN0cmVhbVZpZGVvUGFydGljaXBhbnQ+KSA9PiB7XG4gICAgdGhpcy5zb3J0UGFydGljaXBhbnRzQnkgPSBjb21wYXJhdG9yO1xuICAgIC8vIHRyaWdnZXIgcmUtc29ydGluZyBvZiBwYXJ0aWNpcGFudHNcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50c1N1YmplY3QsIChwcykgPT4gcHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGFuIG9ic2VydmFibGUsIG9yIHVuZGVmaW5lZCBpZiB0aGUgb2JzZXJ2YWJsZSBoYXNcbiAgICogbm90IGVtaXR0ZWQgYSB2YWx1ZSB5ZXQuXG4gICAqXG4gICAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byBnZXQgdGhlIHZhbHVlIGZyb20uXG4gICAqL1xuICBnZXRDdXJyZW50VmFsdWUgPSBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgdmFsdWUgb2YgdGhlIHByb3ZpZGVkIFN1YmplY3QuXG4gICAqIEFuIGB1cGRhdGVgIGNhbiBlaXRoZXIgYmUgYSBuZXcgdmFsdWUgb3IgYSBmdW5jdGlvbiB3aGljaCB0YWtlc1xuICAgKiB0aGUgY3VycmVudCB2YWx1ZSBhbmQgcmV0dXJucyBhIG5ldyB2YWx1ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBzdWJqZWN0IHRoZSBzdWJqZWN0IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHVwZGF0ZSB0aGUgdXBkYXRlIHRvIGFwcGx5IHRvIHRoZSBzdWJqZWN0LlxuICAgKiBAcmV0dXJuIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgKi9cbiAgc2V0Q3VycmVudFZhbHVlID0gUnhVdGlscy5zZXRDdXJyZW50VmFsdWU7XG5cbiAgLyoqXG4gICAqIFRoZSBzZXJ2ZXItc2lkZSBjb3VudGVkIG51bWJlciBvZiBwYXJ0aWNpcGFudHMgY29ubmVjdGVkIHRvIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqIFRoaXMgbnVtYmVyIGluY2x1ZGVzIHRoZSBhbm9ueW1vdXMgcGFydGljaXBhbnRzIGFzIHdlbGwuXG4gICAqL1xuICBnZXQgcGFydGljaXBhbnRDb3VudCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5wYXJ0aWNpcGFudENvdW50JCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvdW50IHRoZSBudW1iZXIgb2YgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRDb3VudCA9IChjb3VudDogUGF0Y2g8bnVtYmVyPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50Q291bnRTdWJqZWN0LCBjb3VudCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICogVXNlZnVsIGZvciBkaXNwbGF5aW5nIHRoZSBjYWxsIGR1cmF0aW9uLlxuICAgKi9cbiAgZ2V0IHN0YXJ0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5zdGFydGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB0aW1lIHRoZSBjYWxsIHNlc3Npb24gYWN0dWFsbHkgc3RhcnRlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdGFydGVkQXQgdGhlIHRpbWUgdGhlIGNhbGwgc2Vzc2lvbiBhY3R1YWxseSBzdGFydGVkLlxuICAgKi9cbiAgc2V0U3RhcnRlZEF0ID0gKHN0YXJ0ZWRBdDogUGF0Y2g8RGF0ZSB8IHVuZGVmaW5lZD4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zdGFydGVkQXRTdWJqZWN0LCBzdGFydGVkQXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgY2xvc2VkIGNhcHRpb25zIGFyZSBlbmFibGVkIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBnZXQgY2FwdGlvbmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5jYXB0aW9uaW5nJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2xvc2VkIGNhcHRpb25pbmcgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBjYXB0aW9uaW5nIHRoZSBjbG9zZWQgY2FwdGlvbmluZyBzdGF0ZS5cbiAgICovXG4gIHNldENhcHRpb25pbmcgPSAoY2FwdGlvbmluZzogYm9vbGVhbikgPT4ge1xuICAgIHJldHVybiBSeFV0aWxzLnVwZGF0ZVZhbHVlKHRoaXMuY2FwdGlvbmluZ1N1YmplY3QsIGNhcHRpb25pbmcpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgc2VydmVyLXNpZGUgY291bnRlZCBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICogVGhpcyBudW1iZXIgaW5jbHVkZXMgdGhlIGFub255bW91cyBwYXJ0aWNpcGFudHMgYXMgd2VsbC5cbiAgICovXG4gIGdldCBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmFub255bW91c1BhcnRpY2lwYW50Q291bnQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIGNvdW50IHRoZSBudW1iZXIgb2YgYW5vbnltb3VzIHBhcnRpY2lwYW50cy5cbiAgICovXG4gIHNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQgPSAoY291bnQ6IFBhdGNoPG51bWJlcj4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5hbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50U3ViamVjdCwgY291bnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBwYXJ0aWNpcGFudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucGFydGljaXBhbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHN0YWJsZSBsaXN0IG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLCB1bnNvcnRlZC5cbiAgICovXG4gIGdldCByYXdQYXJ0aWNpcGFudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucmF3UGFydGljaXBhbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBwYXJ0aWNpcGFudHMgdGhlIGxpc3Qgb2YgcGFydGljaXBhbnRzLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRzID0gKHBhcnRpY2lwYW50czogUGF0Y2g8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudFtdPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnBhcnRpY2lwYW50c1N1YmplY3QsIHBhcnRpY2lwYW50cyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBsb2NhbCBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IGxvY2FsUGFydGljaXBhbnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubG9jYWxQYXJ0aWNpcGFudCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBsaXN0IG9mIHJlbW90ZSBwYXJ0aWNpcGFudHMgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCByZW1vdGVQYXJ0aWNpcGFudHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucmVtb3RlUGFydGljaXBhbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRvbWluYW50IHNwZWFrZXIgaW4gdGhlIGN1cnJlbnQgY2FsbC5cbiAgICovXG4gIGdldCBkb21pbmFudFNwZWFrZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZG9taW5hbnRTcGVha2VyJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGxpc3Qgb2YgcGlubmVkIHBhcnRpY2lwYW50cyBpbiB0aGUgY3VycmVudCBjYWxsLlxuICAgKi9cbiAgZ2V0IHBpbm5lZFBhcnRpY2lwYW50cygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5waW5uZWRQYXJ0aWNpcGFudHMkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUZWxsIGlmIHRoZXJlIGlzIGFuIG9uZ29pbmcgc2NyZWVuIHNoYXJlIGluIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuaGFzT25nb2luZ1NjcmVlblNoYXJlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqL1xuICBnZXQgY2FsbGluZ1N0YXRlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxpbmdTdGF0ZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGNhbGxpbmcgc3RhdGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gc3RhdGUgdGhlIG5ldyBjYWxsaW5nIHN0YXRlLlxuICAgKi9cbiAgc2V0Q2FsbGluZ1N0YXRlID0gKHN0YXRlOiBQYXRjaDxDYWxsaW5nU3RhdGU+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY2FsbGluZ1N0YXRlU3ViamVjdCwgc3RhdGUpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY2FsbCBzdGF0cyByZXBvcnQuXG4gICAqL1xuICBnZXQgY2FsbFN0YXRzUmVwb3J0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxTdGF0c1JlcG9ydCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgd2hldGhlciB0aGUgY2FsbCBzdGF0cyByZXBvcnQgaXMgYmVpbmcgb2JzZXJ2ZWQgb3Igbm90LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGdldCBpc0NhbGxTdGF0c1JlcG9ydE9ic2VydmVkKCkge1xuICAgIHJldHVybiB0aGlzLmNhbGxTdGF0c1JlcG9ydFN1YmplY3Qub2JzZXJ2ZWQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY2FsbCBzdGF0cyByZXBvcnQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gcmVwb3J0IHRoZSByZXBvcnQgdG8gc2V0LlxuICAgKi9cbiAgc2V0Q2FsbFN0YXRzUmVwb3J0ID0gKHJlcG9ydDogUGF0Y2g8Q2FsbFN0YXRzUmVwb3J0IHwgdW5kZWZpbmVkPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNhbGxTdGF0c1JlcG9ydFN1YmplY3QsIHJlcG9ydCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBtZW1iZXJzIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBnZXQgbWVtYmVycygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5tZW1iZXJzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgbWVtYmVycyBvZiB0aGUgY3VycmVudCBjYWxsLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIG1lbWJlcnMgdGhlIG1lbWJlcnMgdG8gc2V0LlxuICAgKi9cbiAgc2V0TWVtYmVycyA9IChtZW1iZXJzOiBQYXRjaDxNZW1iZXJSZXNwb25zZVtdPikgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMubWVtYmVyc1N1YmplY3QsIG1lbWJlcnMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBUaGUgY2FwYWJpbGl0aWVzIG9mIHRoZSBjdXJyZW50IHVzZXIgZm9yIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqL1xuICBnZXQgb3duQ2FwYWJpbGl0aWVzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLm93bkNhcGFiaWxpdGllcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG93biBjYXBhYmlsaXRpZXMuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gY2FwYWJpbGl0aWVzIHRoZSBjYXBhYmlsaXRpZXMgdG8gc2V0LlxuICAgKi9cbiAgc2V0T3duQ2FwYWJpbGl0aWVzID0gKGNhcGFiaWxpdGllczogUGF0Y2g8T3duQ2FwYWJpbGl0eVtdPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm93bkNhcGFiaWxpdGllc1N1YmplY3QsIGNhcGFiaWxpdGllcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFRoZSBiYWNrc3RhZ2Ugc3RhdGUuXG4gICAqL1xuICBnZXQgYmFja3N0YWdlKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmJhY2tzdGFnZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGJhY2tzdGFnZSBzdGF0ZS5cbiAgICogQHBhcmFtIGJhY2tzdGFnZSB0aGUgYmFja3N0YWdlIHN0YXRlLlxuICAgKi9cbiAgc2V0QmFja3N0YWdlID0gKGJhY2tzdGFnZTogUGF0Y2g8Ym9vbGVhbj4pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5iYWNrc3RhZ2VTdWJqZWN0LCBiYWNrc3RhZ2UpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGxpc3Qgb2YgYmxvY2tlZCB1c2VyIElEcy5cbiAgICovXG4gIGdldCBibG9ja2VkVXNlcklkcygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5ibG9ja2VkVXNlcklkcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBjcmVhdGVkLlxuICAgKi9cbiAgZ2V0IGNyZWF0ZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5jcmVhdGVkQXQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gZW5kZWQuXG4gICAqL1xuICBnZXQgZW5kZWRBdCgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5lbmRlZEF0JCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgdGltZSB3aGVuIHRoaXMgY2FsbCBoYXMgYmVlbiBlbmRlZC5cbiAgICogQHBhcmFtIGVuZGVkQXQgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gZW5kZWQuXG4gICAqL1xuICBzZXRFbmRlZEF0ID0gKGVuZGVkQXQ6IFBhdGNoPERhdGUgfCB1bmRlZmluZWQ+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZW5kZWRBdFN1YmplY3QsIGVuZGVkQXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRpbWUgd2hlbiB0aGlzIGNhbGwgaGFzIGJlZW4gc2NoZWR1bGVkIHRvIHN0YXJ0LlxuICAgKi9cbiAgZ2V0IHN0YXJ0c0F0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXJ0c0F0JCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0aW1lIHdoZW4gdGhpcyBjYWxsIGhhcyBiZWVuIHVwZGF0ZWQuXG4gICAqL1xuICBnZXQgdXBkYXRlZEF0KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnVwZGF0ZWRBdCQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgdXNlciB3aG8gY3JlYXRlZCB0aGlzIGNhbGwuXG4gICAqL1xuICBnZXQgY3JlYXRlZEJ5KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRCeSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgY3VzdG9tIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGN1c3RvbSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy5jdXN0b20kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIGVncmVzcyBkYXRhIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBlZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBpbmdyZXNzIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IGluZ3Jlc3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuaW5ncmVzcyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgcmVjb3JkaW5nIHN0YXRlIG9mIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCByZWNvcmRpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMucmVjb3JkaW5nJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSBzZXNzaW9uIGRhdGEgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHNlc3Npb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc2Vzc2lvbiQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFdpbGwgcHJvdmlkZSB0aGUgc2V0dGluZ3Mgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHNldHRpbmdzKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBwcm92aWRlIHRoZSB0cmFuc2NyaWJpbmcgc3RhdGUgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgZ2V0IHRyYW5zY3JpYmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmckKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHVzZXIgd2hvIGVuZGVkIHRoaXMgY2FsbC5cbiAgICovXG4gIGdldCBlbmRlZEJ5KCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmVuZGVkQnkkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHByb3ZpZGUgdGhlIHRodW1ibmFpbHMgb2YgdGhpcyBjYWxsLCBpZiBlbmFibGVkIGluIHRoZSBjYWxsIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0IHRodW1ibmFpbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0Q3VycmVudFZhbHVlKHRoaXMudGh1bWJuYWlscyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgcXVldWUgb2YgY2xvc2VkIGNhcHRpb25zLlxuICAgKi9cbiAgZ2V0IGNsb3NlZENhcHRpb25zKCkge1xuICAgIHJldHVybiB0aGlzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmNsb3NlZENhcHRpb25zJCk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCB0cnkgdG8gZmluZCB0aGUgcGFydGljaXBhbnQgd2l0aCB0aGUgZ2l2ZW4gc2Vzc2lvbklkIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb25JZCBvZiB0aGUgcGFydGljaXBhbnQgdG8gZmluZC5cbiAgICogQHJldHVybnMgdGhlIHBhcnRpY2lwYW50IHdpdGggdGhlIGdpdmVuIHNlc3Npb25JZCBvciB1bmRlZmluZWQgaWYgbm90IGZvdW5kLlxuICAgKi9cbiAgZmluZFBhcnRpY2lwYW50QnlTZXNzaW9uSWQgPSAoXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICk6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQgfCB1bmRlZmluZWQgPT4ge1xuICAgIHJldHVybiB0aGlzLnBhcnRpY2lwYW50cy5maW5kKChwKSA9PiBwLnNlc3Npb25JZCA9PT0gc2Vzc2lvbklkKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyBhIG5ldyBsb29rdXAgdGFibGUgb2YgcGFydGljaXBhbnRzIGluZGV4ZWQgYnkgdGhlaXIgc2Vzc2lvbiBJRC5cbiAgICovXG4gIGdldFBhcnRpY2lwYW50TG9va3VwQnlTZXNzaW9uSWQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGFydGljaXBhbnRzLnJlZHVjZTx7XG4gICAgICBbc2Vzc2lvbklkOiBzdHJpbmddOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IHwgdW5kZWZpbmVkO1xuICAgIH0+KChsb29rdXBUYWJsZSwgcGFydGljaXBhbnQpID0+IHtcbiAgICAgIGxvb2t1cFRhYmxlW3BhcnRpY2lwYW50LnNlc3Npb25JZF0gPSBwYXJ0aWNpcGFudDtcbiAgICAgIHJldHVybiBsb29rdXBUYWJsZTtcbiAgICB9LCB7fSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYSBwYXJ0aWNpcGFudCBpbiB0aGUgY3VycmVudCBjYWxsIGlkZW50aWZpZWQgYnkgdGhlIGdpdmVuIGBzZXNzaW9uSWRgLlxuICAgKiBJZiB0aGUgcGFydGljaXBhbnQgY2FuJ3QgYmUgZm91bmQsIHRoaXMgb3BlcmF0aW9uIGlzIG5vLW9wLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBJRCBvZiB0aGUgcGFydGljaXBhbnQgdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gcGF0Y2ggdGhlIHBhdGNoIHRvIGFwcGx5IHRvIHRoZSBwYXJ0aWNpcGFudC5cbiAgICogQHJldHVybnMgdGhlIHVwZGF0ZWQgcGFydGljaXBhbnQgb3IgYHVuZGVmaW5lZGAgaWYgdGhlIHBhcnRpY2lwYW50IGNvdWxkbid0IGJlIGZvdW5kLlxuICAgKi9cbiAgdXBkYXRlUGFydGljaXBhbnQgPSAoXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgcGF0Y2g6XG4gICAgICB8IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaFxuICAgICAgfCAoKHA6IFN0cmVhbVZpZGVvUGFydGljaXBhbnQpID0+IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaCksXG4gICkgPT4ge1xuICAgIGNvbnN0IHBhcnRpY2lwYW50ID0gdGhpcy5maW5kUGFydGljaXBhbnRCeVNlc3Npb25JZChzZXNzaW9uSWQpO1xuICAgIGlmICghcGFydGljaXBhbnQpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYFBhcnRpY2lwYW50IHdpdGggc2Vzc2lvbklkICR7c2Vzc2lvbklkfSBub3QgZm91bmRgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0aGVQYXRjaCA9IHR5cGVvZiBwYXRjaCA9PT0gJ2Z1bmN0aW9uJyA/IHBhdGNoKHBhcnRpY2lwYW50KSA6IHBhdGNoO1xuICAgIGNvbnN0IHVwZGF0ZWRQYXJ0aWNpcGFudDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCA9IHtcbiAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgLi4udGhlUGF0Y2gsXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5tYXAoKHApID0+XG4gICAgICAgIHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQgPyB1cGRhdGVkUGFydGljaXBhbnQgOiBwLFxuICAgICAgKSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIGEgcGFydGljaXBhbnQgaW4gdGhlIGN1cnJlbnQgY2FsbCBpZGVudGlmaWVkIGJ5IHRoZSBnaXZlbiBgc2Vzc2lvbklkYC5cbiAgICogSWYgYSBwYXJ0aWNpcGFudCB3aXRoIG1hdGNoaW5nIGBzZXNzaW9uSWRgIGNhbid0IGJlIGZvdW5kLCB0aGUgcHJvdmlkZWRcbiAgICogYHBhcnRpY2lwYW50YCBpcyBhZGRlZCB0byB0aGUgbGlzdCBvZiBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gSUQgb2YgdGhlIHBhcnRpY2lwYW50IHRvIHVwZGF0ZS5cbiAgICogQHBhcmFtIHBhcnRpY2lwYW50IHRoZSBwYXJ0aWNpcGFudCB0byB1cGRhdGUgb3IgYWRkLlxuICAgKi9cbiAgdXBkYXRlT3JBZGRQYXJ0aWNpcGFudCA9IChcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICBwYXJ0aWNpcGFudDogU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+IHtcbiAgICAgIGxldCBhZGQgPSB0cnVlO1xuICAgICAgY29uc3QgbmV4dFBhcnRpY2lwYW50cyA9IHBhcnRpY2lwYW50cy5tYXAoKHApID0+IHtcbiAgICAgICAgaWYgKHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpIHtcbiAgICAgICAgICBhZGQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucCxcbiAgICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9KTtcbiAgICAgIGlmIChhZGQpIG5leHRQYXJ0aWNpcGFudHMucHVzaChwYXJ0aWNpcGFudCk7XG4gICAgICByZXR1cm4gbmV4dFBhcnRpY2lwYW50cztcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyBhbGwgcGFydGljaXBhbnRzIGluIHRoZSBjdXJyZW50IGNhbGwgd2hvc2Ugc2Vzc2lvbiBJRCBpcyBpbiB0aGUgZ2l2ZW4gYHNlc3Npb25JZHNgLlxuICAgKiBJZiBubyBwYXRjaGVzIGFyZSBwcm92aWRlZCwgdGhpcyBvcGVyYXRpb24gaXMgbm8tb3AuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gcGF0Y2ggdGhlIHBhdGNoIHRvIGFwcGx5IHRvIHRoZSBwYXJ0aWNpcGFudHMuXG4gICAqIEByZXR1cm5zIGFsbCBwYXJ0aWNpcGFudHMsIHdpdGggYWxsIHBhdGNoIGFwcGxpZWQuXG4gICAqL1xuICB1cGRhdGVQYXJ0aWNpcGFudHMgPSAocGF0Y2g6IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzKSA9PiB7XG4gICAgaWYgKE9iamVjdC5rZXlzKHBhdGNoKS5sZW5ndGggPT09IDApIHJldHVybiB0aGlzLnBhcnRpY2lwYW50cztcbiAgICByZXR1cm4gdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5tYXAoKHApID0+IHtcbiAgICAgICAgY29uc3QgdGhlUGF0Y2ggPSBwYXRjaFtwLnNlc3Npb25JZF07XG4gICAgICAgIGlmICh0aGVQYXRjaCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wLFxuICAgICAgICAgICAgLi4udGhlUGF0Y2gsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0cmFjayBzdWJzY3JpcHRpb24gY29uZmlndXJhdGlvbiBmb3Igb25lIG9yIG1vcmUgcGFydGljaXBhbnRzLlxuICAgKiBZb3UgaGF2ZSB0byBjcmVhdGUgYSBzdWJzY3JpcHRpb24gZm9yIGVhY2ggcGFydGljaXBhbnQgZm9yIGFsbCB0aGUgZGlmZmVyZW50IGtpbmRzIG9mIHRyYWNrcyB5b3Ugd2FudCB0byByZWNlaXZlLlxuICAgKiBZb3UgY2FuIG9ubHkgc3Vic2NyaWJlIGZvciB0cmFja3MgYWZ0ZXIgdGhlIHBhcnRpY2lwYW50IHN0YXJ0ZWQgcHVibGlzaGluZyB0aGUgZ2l2ZW4ga2luZCBvZiB0cmFjay5cbiAgICpcbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiBzdWJzY3JpcHRpb24gdG8gdXBkYXRlLlxuICAgKiBAcGFyYW0gY2hhbmdlcyB0aGUgbGlzdCBvZiBzdWJzY3JpcHRpb24gY2hhbmdlcyB0byBkby5cbiAgICovXG4gIHVwZGF0ZVBhcnRpY2lwYW50VHJhY2tzID0gKFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICAgY2hhbmdlczogU3Vic2NyaXB0aW9uQ2hhbmdlcyxcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlUGFydGljaXBhbnRzKFxuICAgICAgT2JqZWN0LmVudHJpZXMoY2hhbmdlcykucmVkdWNlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzPihcbiAgICAgICAgKGFjYywgW3Nlc3Npb25JZCwgY2hhbmdlXSkgPT4ge1xuICAgICAgICAgIGlmIChjaGFuZ2UuZGltZW5zaW9uKSB7XG4gICAgICAgICAgICBjaGFuZ2UuZGltZW5zaW9uLmhlaWdodCA9IE1hdGguY2VpbChjaGFuZ2UuZGltZW5zaW9uLmhlaWdodCk7XG4gICAgICAgICAgICBjaGFuZ2UuZGltZW5zaW9uLndpZHRoID0gTWF0aC5jZWlsKGNoYW5nZS5kaW1lbnNpb24ud2lkdGgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb25zdCBwcm9wOiBrZXlvZiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50IHwgdW5kZWZpbmVkID1cbiAgICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snXG4gICAgICAgICAgICAgID8gJ3ZpZGVvRGltZW5zaW9uJ1xuICAgICAgICAgICAgICA6IHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlVHJhY2snXG4gICAgICAgICAgICAgICAgPyAnc2NyZWVuU2hhcmVEaW1lbnNpb24nXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgaWYgKHByb3ApIHtcbiAgICAgICAgICAgIGFjY1tzZXNzaW9uSWRdID0ge1xuICAgICAgICAgICAgICBbcHJvcF06IGNoYW5nZS5kaW1lbnNpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9LFxuICAgICAgICB7fSxcbiAgICAgICksXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBldmVudCB0aGUgdmlkZW8gZXZlbnQgdGhhdCBvdXIgYmFja2VuZCBzZW50IHVzLlxuICAgKi9cbiAgdXBkYXRlRnJvbUV2ZW50ID0gKGV2ZW50OiBWaWRlb0V2ZW50KSA9PiB7XG4gICAgY29uc3QgdXBkYXRlID0gdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50LnR5cGVdO1xuICAgIGlmICh1cGRhdGUpIHtcbiAgICAgIHVwZGF0ZShldmVudCBhcyBhbnkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgcGFydGljaXBhbnQgcGlubmVkIHN0YXRlIHdpdGggc2VydmVyIHNpZGUgcGlubmluZyBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gcGlucyB0aGUgbGF0ZXN0IHBpbnMgZnJvbSB0aGUgc2VydmVyLlxuICAgKi9cbiAgc2V0U2VydmVyU2lkZVBpbnMgPSAocGluczogUGluW10pID0+IHtcbiAgICBjb25zdCBwaW5zTG9va3VwID0gcGlucy5yZWR1Y2U8eyBbc2Vzc2lvbklkOiBzdHJpbmddOiBudW1iZXIgfCB1bmRlZmluZWQgfT4oXG4gICAgICAobG9va3VwLCBwaW4pID0+IHtcbiAgICAgICAgbG9va3VwW3Bpbi5zZXNzaW9uSWRdID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIGxvb2t1cDtcbiAgICAgIH0sXG4gICAgICB7fSxcbiAgICApO1xuXG4gICAgcmV0dXJuIHRoaXMuc2V0UGFydGljaXBhbnRzKChwYXJ0aWNpcGFudHMpID0+XG4gICAgICBwYXJ0aWNpcGFudHMubWFwKChwYXJ0aWNpcGFudCkgPT4ge1xuICAgICAgICBjb25zdCBzZXJ2ZXJTaWRlUGlubmVkQXQgPSBwaW5zTG9va3VwW3BhcnRpY2lwYW50LnNlc3Npb25JZF07XG4gICAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCBpcyBuZXdseSBwaW5uZWRcbiAgICAgICAgaWYgKHNlcnZlclNpZGVQaW5uZWRBdCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICAgIHBpbjoge1xuICAgICAgICAgICAgICBpc0xvY2FsUGluOiBmYWxzZSxcbiAgICAgICAgICAgICAgcGlubmVkQXQ6IHNlcnZlclNpZGVQaW5uZWRBdCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyB0aGUgcGFydGljaXBhbnQgaXMgbm8gbG9uZ2VyIHBpbm5lZCBzZXJ2ZXIgc2lkZVxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHJlc2V0IHRoZSBwaW5cbiAgICAgICAgaWYgKHBhcnRpY2lwYW50LnBpbiAmJiAhcGFydGljaXBhbnQucGluLmlzTG9jYWxQaW4pIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBwaW46IHVuZGVmaW5lZCxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vIGNoYW5nZXMgdG8gYmUgYXBwbGllZFxuICAgICAgICByZXR1cm4gcGFydGljaXBhbnQ7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBZGRzIGFuIG9ycGhhbmVkIHRyYWNrIHRvIHRoZSBjYWxsIHN0YXRlLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIG9ycGhhbmVkVHJhY2sgdGhlIG9ycGhhbmVkIHRyYWNrIHRvIGFkZC5cbiAgICovXG4gIHJlZ2lzdGVyT3JwaGFuZWRUcmFjayA9IChvcnBoYW5lZFRyYWNrOiBPcnBoYW5lZFRyYWNrKSA9PiB7XG4gICAgdGhpcy5vcnBoYW5lZFRyYWNrcy5wdXNoKG9ycGhhbmVkVHJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFuIG9ycGhhbmVkIHRyYWNrIGZyb20gdGhlIGNhbGwgc3RhdGUuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKlxuICAgKiBAcGFyYW0gaWQgdGhlIElEIG9mIHRoZSBvcnBoYW5lZCB0cmFjayB0byByZW1vdmUuXG4gICAqL1xuICByZW1vdmVPcnBoYW5lZFRyYWNrID0gKGlkOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLm9ycGhhbmVkVHJhY2tzID0gdGhpcy5vcnBoYW5lZFRyYWNrcy5maWx0ZXIoKG8pID0+IG8uaWQgIT09IGlkKTtcbiAgfTtcblxuICAvKipcbiAgICogVGFrZXMgYWxsIG9ycGhhbmVkIHRyYWNrcyB3aXRoIHRoZSBnaXZlbiB0cmFjayBsb29rdXAgcHJlZml4LlxuICAgKiBBbGwgb3JwaGFuZWQgdHJhY2tzIHdpdGggdGhlIGdpdmVuIHRyYWNrIGxvb2t1cCBwcmVmaXggYXJlIHJlbW92ZWQgZnJvbSB0aGUgY2FsbCBzdGF0ZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSB0cmFja0xvb2t1cFByZWZpeCB0aGUgdHJhY2sgbG9va3VwIHByZWZpeCB0byBtYXRjaCB0aGUgb3JwaGFuZWQgdHJhY2tzIGJ5LlxuICAgKi9cbiAgdGFrZU9ycGhhbmVkVHJhY2tzID0gKHRyYWNrTG9va3VwUHJlZml4OiBzdHJpbmcpOiBPcnBoYW5lZFRyYWNrW10gPT4ge1xuICAgIGNvbnN0IG9ycGhhbnMgPSB0aGlzLm9ycGhhbmVkVHJhY2tzLmZpbHRlcihcbiAgICAgIChvcnBoYW4pID0+IG9ycGhhbi50cmFja0xvb2t1cFByZWZpeCA9PT0gdHJhY2tMb29rdXBQcmVmaXgsXG4gICAgKTtcbiAgICBpZiAob3JwaGFucy5sZW5ndGggPiAwKSB7XG4gICAgICB0aGlzLm9ycGhhbmVkVHJhY2tzID0gdGhpcy5vcnBoYW5lZFRyYWNrcy5maWx0ZXIoXG4gICAgICAgIChvcnBoYW4pID0+IG9ycGhhbi50cmFja0xvb2t1cFByZWZpeCAhPT0gdHJhY2tMb29rdXBQcmVmaXgsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gb3JwaGFucztcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2xvc2VkIGNhcHRpb25zIHNldHRpbmdzLlxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIHRoZSBuZXcgY2xvc2VkIGNhcHRpb25zIHNldHRpbmdzLlxuICAgKi9cbiAgdXBkYXRlQ2xvc2VkQ2FwdGlvblNldHRpbmdzID0gKGNvbmZpZzogUGFydGlhbDxDbG9zZWRDYXB0aW9uc1NldHRpbmdzPikgPT4ge1xuICAgIHRoaXMuY2xvc2VkQ2FwdGlvbnNTZXR0aW5ncyA9IHsgLi4udGhpcy5jbG9zZWRDYXB0aW9uc1NldHRpbmdzLCAuLi5jb25maWcgfTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2FsbCBzdGF0ZSB3aXRoIHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlci5cbiAgICovXG4gIHVwZGF0ZUZyb21DYWxsUmVzcG9uc2UgPSAoY2FsbDogQ2FsbFJlc3BvbnNlKSA9PiB7XG4gICAgdGhpcy5zZXRCYWNrc3RhZ2UoY2FsbC5iYWNrc3RhZ2UpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCBjYWxsLmJsb2NrZWRfdXNlcl9pZHMpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuY3JlYXRlZEF0U3ViamVjdCwgbmV3IERhdGUoY2FsbC5jcmVhdGVkX2F0KSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy51cGRhdGVkQXRTdWJqZWN0LCBuZXcgRGF0ZShjYWxsLnVwZGF0ZWRfYXQpKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZShcbiAgICAgIHRoaXMuc3RhcnRzQXRTdWJqZWN0LFxuICAgICAgY2FsbC5zdGFydHNfYXQgPyBuZXcgRGF0ZShjYWxsLnN0YXJ0c19hdCkgOiB1bmRlZmluZWQsXG4gICAgKTtcbiAgICB0aGlzLnNldEVuZGVkQXQoY2FsbC5lbmRlZF9hdCA/IG5ldyBEYXRlKGNhbGwuZW5kZWRfYXQpIDogdW5kZWZpbmVkKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNyZWF0ZWRCeVN1YmplY3QsIGNhbGwuY3JlYXRlZF9ieSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jdXN0b21TdWJqZWN0LCBjYWxsLmN1c3RvbSk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5lZ3Jlc3NTdWJqZWN0LCBjYWxsLmVncmVzcyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5pbmdyZXNzU3ViamVjdCwgY2FsbC5pbmdyZXNzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnJlY29yZGluZ1N1YmplY3QsIGNhbGwucmVjb3JkaW5nKTtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgY2FsbC5zZXNzaW9uKTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNldHRpbmdzU3ViamVjdCwgY2FsbC5zZXR0aW5ncyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy50cmFuc2NyaWJpbmdTdWJqZWN0LCBjYWxsLnRyYW5zY3JpYmluZyk7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jYXB0aW9uaW5nU3ViamVjdCwgY2FsbC5jYXB0aW9uaW5nKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnRodW1ibmFpbHNTdWJqZWN0LCBjYWxsLnRodW1ibmFpbHMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjYWxsIHN0YXRlIHdpdGggdGhlIGRhdGEgcmVjZWl2ZWQgZnJvbSB0aGUgU0ZVIHNlcnZlci5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsU3RhdGUgdGhlIGNhbGwgc3RhdGUgZnJvbSB0aGUgU0ZVIHNlcnZlci5cbiAgICogQHBhcmFtIGN1cnJlbnRTZXNzaW9uSWQgdGhlIHNlc3Npb24gSUQgb2YgdGhlIGN1cnJlbnQgdXNlci5cbiAgICogQHBhcmFtIHJlY29ubmVjdERldGFpbHMgb3B0aW9uYWwgcmVjb25uZWN0IGRldGFpbHMuXG4gICAqL1xuICB1cGRhdGVGcm9tU2Z1Q2FsbFN0YXRlID0gKFxuICAgIGNhbGxTdGF0ZTogU2Z1Q2FsbFN0YXRlLFxuICAgIGN1cnJlbnRTZXNzaW9uSWQ6IHN0cmluZyxcbiAgICByZWNvbm5lY3REZXRhaWxzPzogUmVjb25uZWN0RGV0YWlscyxcbiAgKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudHMsIHBhcnRpY2lwYW50Q291bnQsIHN0YXJ0ZWRBdCwgcGlucyB9ID0gY2FsbFN0YXRlO1xuICAgIGNvbnN0IGxvY2FsUHVibGlzaGVkVHJhY2tzID1cbiAgICAgIHJlY29ubmVjdERldGFpbHM/LmFubm91bmNlZFRyYWNrcy5tYXAoKHQpID0+IHQudHJhY2tUeXBlKSA/PyBbXTtcbiAgICB0aGlzLnNldFBhcnRpY2lwYW50cygoKSA9PiB7XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudExvb2t1cCA9IHRoaXMuZ2V0UGFydGljaXBhbnRMb29rdXBCeVNlc3Npb25JZCgpO1xuICAgICAgcmV0dXJuIHBhcnRpY2lwYW50cy5tYXA8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD4oKHApID0+IHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBwcmVzZXJ2ZSB0aGUgbG9jYWwgc3RhdGUgb2YgdGhlIHBhcnRpY2lwYW50XG4gICAgICAgIC8vIChlLmcuIHZpZGVvRGltZW5zaW9uLCB2aXNpYmlsaXR5U3RhdGUsIHBpbm5lZEF0LCBldGMuKVxuICAgICAgICAvLyBhcyBpdCBkb2Vzbid0IGV4aXN0IG9uIHRoZSBzZXJ2ZXIuXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nUGFydGljaXBhbnQgPSBwYXJ0aWNpcGFudExvb2t1cFtwLnNlc3Npb25JZF07XG4gICAgICAgIGNvbnN0IGlzTG9jYWxQYXJ0aWNpcGFudCA9IHAuc2Vzc2lvbklkID09PSBjdXJyZW50U2Vzc2lvbklkO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZXhpc3RpbmdQYXJ0aWNpcGFudCwgcCwge1xuICAgICAgICAgIGlzTG9jYWxQYXJ0aWNpcGFudCxcbiAgICAgICAgICBwdWJsaXNoZWRUcmFja3M6IGlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgICAgICAgPyBsb2NhbFB1Ymxpc2hlZFRyYWNrc1xuICAgICAgICAgICAgOiBwLnB1Ymxpc2hlZFRyYWNrcyxcbiAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZTpcbiAgICAgICAgICAgIGV4aXN0aW5nUGFydGljaXBhbnQ/LnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/IHtcbiAgICAgICAgICAgICAgdmlkZW9UcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gICAgICAgICAgICAgIHNjcmVlblNoYXJlVHJhY2s6IFZpc2liaWxpdHlTdGF0ZS5VTktOT1dOLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSBzYXRpc2ZpZXMgUGFydGlhbDxTdHJlYW1WaWRlb1BhcnRpY2lwYW50Pik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoaXMuc2V0UGFydGljaXBhbnRDb3VudChwYXJ0aWNpcGFudENvdW50Py50b3RhbCB8fCAwKTtcbiAgICB0aGlzLnNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudD8uYW5vbnltb3VzIHx8IDApO1xuICAgIHRoaXMuc2V0U3RhcnRlZEF0KHN0YXJ0ZWRBdCA/IFRpbWVzdGFtcC50b0RhdGUoc3RhcnRlZEF0KSA6IG5ldyBEYXRlKCkpO1xuICAgIHRoaXMuc2V0U2VydmVyU2lkZVBpbnMocGlucyk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tTWVtYmVyUmVtb3ZlZCA9IChldmVudDogQ2FsbE1lbWJlclJlbW92ZWRFdmVudCkgPT4ge1xuICAgIHRoaXMudXBkYXRlRnJvbUNhbGxSZXNwb25zZShldmVudC5jYWxsKTtcbiAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm1lbWJlcnNTdWJqZWN0LCAobWVtYmVycykgPT5cbiAgICAgIG1lbWJlcnMuZmlsdGVyKChtKSA9PiBldmVudC5tZW1iZXJzLmluZGV4T2YobS51c2VyX2lkKSA9PT0gLTEpLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tTWVtYmVyQWRkZWQgPSAoZXZlbnQ6IENhbGxNZW1iZXJBZGRlZEV2ZW50KSA9PiB7XG4gICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGV2ZW50LmNhbGwpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMubWVtYmVyc1N1YmplY3QsIChtZW1iZXJzKSA9PiBbXG4gICAgICAuLi5tZW1iZXJzLFxuICAgICAgLi4uZXZlbnQubWVtYmVycyxcbiAgICBdKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdG9wcGVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzU3ViamVjdCwgKGVncmVzcyA9IGRlZmF1bHRFZ3Jlc3MpID0+ICh7XG4gICAgICAuLi5lZ3Jlc3MsXG4gICAgICBicm9hZGNhc3Rpbmc6IGZhbHNlLFxuICAgICAgaGxzOiB7XG4gICAgICAgIC4uLmVncmVzcy5obHMhLFxuICAgICAgICBzdGF0dXM6ICcnLFxuICAgICAgfSxcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tSExTQnJvYWRjYXN0aW5nRmFpbGVkID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuZWdyZXNzU3ViamVjdCwgKGVncmVzcyA9IGRlZmF1bHRFZ3Jlc3MpID0+ICh7XG4gICAgICAuLi5lZ3Jlc3MsXG4gICAgICBicm9hZGNhc3Rpbmc6IGZhbHNlLFxuICAgICAgaGxzOiB7XG4gICAgICAgIC4uLmVncmVzcy5obHMhLFxuICAgICAgICBzdGF0dXM6ICcnLFxuICAgICAgfSxcbiAgICB9KSk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVQYXJ0aWNpcGFudENvdW50RnJvbVNlc3Npb24gPSAoXG4gICAgc2Vzc2lvbjogQ2FsbFNlc3Npb25SZXNwb25zZSB8IHVuZGVmaW5lZCxcbiAgKSA9PiB7XG4gICAgLy8gd2hlbiBpbiBKT0lORUQgc3RhdGUsIHdlIHNob3VsZCB1c2UgdGhlIHBhcnRpY2lwYW50IGNvdW50IGNvbWluZyB0aHJvdWdoXG4gICAgLy8gdGhlIFNGVSBoZWFsdGhjaGVjayBldmVudCwgYXMgaXQncyBtb3JlIGFjY3VyYXRlLlxuICAgIGlmICghc2Vzc2lvbiB8fCB0aGlzLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkgcmV0dXJuO1xuICAgIGNvbnN0IGJ5Um9sZUNvdW50ID0gT2JqZWN0LnZhbHVlcyhcbiAgICAgIHNlc3Npb24ucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgKS5yZWR1Y2UoKHRvdGFsLCBjb3VudEJ5Um9sZSkgPT4gdG90YWwgKyBjb3VudEJ5Um9sZSwgMCk7XG4gICAgY29uc3QgcGFydGljaXBhbnRDb3VudCA9IE1hdGgubWF4KGJ5Um9sZUNvdW50LCBzZXNzaW9uLnBhcnRpY2lwYW50cy5sZW5ndGgpO1xuICAgIHRoaXMuc2V0UGFydGljaXBhbnRDb3VudChwYXJ0aWNpcGFudENvdW50KTtcbiAgICB0aGlzLnNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQoc2Vzc2lvbi5hbm9ueW1vdXNfcGFydGljaXBhbnRfY291bnQgfHwgMCk7XG4gIH07XG5cbiAgcHJpdmF0ZSB1cGRhdGVGcm9tU2Vzc2lvblBhcnRpY2lwYW50Q291bnRVcGRhdGUgPSAoXG4gICAgZXZlbnQ6IENhbGxTZXNzaW9uUGFydGljaXBhbnRDb3VudHNVcGRhdGVkRXZlbnQsXG4gICkgPT4ge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNlc3Npb25TdWJqZWN0LCAoc2Vzc2lvbikgPT4ge1xuICAgICAgaWYgKCFzZXNzaW9uKSByZXR1cm4gc2Vzc2lvbjtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnNlc3Npb24sXG4gICAgICAgIGFub255bW91c19wYXJ0aWNpcGFudF9jb3VudDogZXZlbnQuYW5vbnltb3VzX3BhcnRpY2lwYW50X2NvdW50LFxuICAgICAgICBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZTogZXZlbnQucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uKHMpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudExlZnQgPSAoXG4gICAgZXZlbnQ6IENhbGxTZXNzaW9uUGFydGljaXBhbnRMZWZ0RXZlbnQsXG4gICkgPT4ge1xuICAgIGNvbnN0IHMgPSB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnNlc3Npb25TdWJqZWN0LCAoc2Vzc2lvbikgPT4ge1xuICAgICAgaWYgKCFzZXNzaW9uKSByZXR1cm4gc2Vzc2lvbjtcbiAgICAgIGNvbnN0IHsgcGFydGljaXBhbnRzLCBwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZSB9ID0gc2Vzc2lvbjtcbiAgICAgIGNvbnN0IHsgdXNlciwgdXNlcl9zZXNzaW9uX2lkIH0gPSBldmVudC5wYXJ0aWNpcGFudDtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnNlc3Npb24sXG4gICAgICAgIHBhcnRpY2lwYW50czogcGFydGljaXBhbnRzLmZpbHRlcihcbiAgICAgICAgICAocCkgPT4gcC51c2VyX3Nlc3Npb25faWQgIT09IHVzZXJfc2Vzc2lvbl9pZCxcbiAgICAgICAgKSxcbiAgICAgICAgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGU6IHtcbiAgICAgICAgICAuLi5wYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZSxcbiAgICAgICAgICBbdXNlci5yb2xlXTogTWF0aC5tYXgoXG4gICAgICAgICAgICAwLFxuICAgICAgICAgICAgKHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlW3VzZXIucm9sZV0gfHwgMCkgLSAxLFxuICAgICAgICAgICksXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMudXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uKHMpO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZCA9IChcbiAgICBldmVudDogQ2FsbFNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZEV2ZW50LFxuICApID0+IHtcbiAgICBjb25zdCBzID0gdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXNzaW9uU3ViamVjdCwgKHNlc3Npb24pID0+IHtcbiAgICAgIGlmICghc2Vzc2lvbikgcmV0dXJuIHNlc3Npb247XG4gICAgICBjb25zdCB7IHBhcnRpY2lwYW50cywgcGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUgfSA9IHNlc3Npb247XG4gICAgICBjb25zdCB7IHVzZXIsIHVzZXJfc2Vzc2lvbl9pZCB9ID0gZXZlbnQucGFydGljaXBhbnQ7XG4gICAgICAvLyBJdCBjb3VsZCBoYXBwZW4gdGhhdCB0aGUgYmFja2VuZCBkZWxpdmVycyB0aGUgc2FtZSBwYXJ0aWNpcGFudCBtb3JlIHRoYW4gb25jZS5cbiAgICAgIC8vIE9uY2Ugd2l0aCB0aGUgY2FsbC5zZXNzaW9uX3N0YXJ0ZWQgZXZlbnQgYW5kIG9uY2UgYWdhaW4gd2l0aCB0aGVcbiAgICAgIC8vIGNhbGwuc2Vzc2lvbl9wYXJ0aWNpcGFudF9qb2luZWQgZXZlbnQuIEluIHRoaXMgY2FzZSxcbiAgICAgIC8vIHdlIHNob3VsZCB1cGRhdGUgdGhlIGV4aXN0aW5nIHBhcnRpY2lwYW50IGFuZCBwcmV2ZW50IGR1cGxpY2F0aW5nIGl0LlxuICAgICAgbGV0IHNob3VsZEluc2VydFBhcnRpY2lwYW50ID0gdHJ1ZTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRQYXJ0aWNpcGFudHMgPSBwYXJ0aWNpcGFudHMubWFwKChwKSA9PiB7XG4gICAgICAgIGlmIChwLnVzZXJfc2Vzc2lvbl9pZCA9PT0gdXNlcl9zZXNzaW9uX2lkKSB7XG4gICAgICAgICAgc2hvdWxkSW5zZXJ0UGFydGljaXBhbnQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gZXZlbnQucGFydGljaXBhbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHA7XG4gICAgICB9KTtcbiAgICAgIGlmIChzaG91bGRJbnNlcnRQYXJ0aWNpcGFudCkge1xuICAgICAgICAvLyB0aGlzIGlzIGEgbmV3IGFycmF5LCB3ZSBjYW4gc2FmZWx5IHB1c2ggdGhlIG5ldyBwYXJ0aWNpcGFudFxuICAgICAgICB1cGRhdGVkUGFydGljaXBhbnRzLnB1c2goZXZlbnQucGFydGljaXBhbnQpO1xuICAgICAgfVxuXG4gICAgICAvLyBJZiB3ZSBhcmUgdXBkYXRpbmcgYW4gZXhpc3RpbmcgcGFydGljaXBhbnQsIHdlIGRvbid0IHdhbnQgdG8gaW5jcmVtZW50XG4gICAgICAvLyB0aGUgcGFydGljaXBhbnRfYnlfcm9sZSBjb3VudC5cbiAgICAgIGNvbnN0IGluY3JlbWVudCA9IHNob3VsZEluc2VydFBhcnRpY2lwYW50ID8gMSA6IDA7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5zZXNzaW9uLFxuICAgICAgICBwYXJ0aWNpcGFudHM6IHVwZGF0ZWRQYXJ0aWNpcGFudHMsXG4gICAgICAgIHBhcnRpY2lwYW50c19jb3VudF9ieV9yb2xlOiB7XG4gICAgICAgICAgLi4ucGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUsXG4gICAgICAgICAgW3VzZXIucm9sZV06IChwYXJ0aWNpcGFudHNfY291bnRfYnlfcm9sZVt1c2VyLnJvbGVdIHx8IDApICsgaW5jcmVtZW50LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9KTtcbiAgICB0aGlzLnVwZGF0ZVBhcnRpY2lwYW50Q291bnRGcm9tU2Vzc2lvbihzKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZU1lbWJlcnMgPSAoXG4gICAgZXZlbnQ6IENhbGxNZW1iZXJVcGRhdGVkRXZlbnQgfCBDYWxsTWVtYmVyVXBkYXRlZFBlcm1pc3Npb25FdmVudCxcbiAgKSA9PiB7XG4gICAgdGhpcy51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGV2ZW50LmNhbGwpO1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMubWVtYmVyc1N1YmplY3QsIChtZW1iZXJzKSA9PlxuICAgICAgbWVtYmVycy5tYXAoKG1lbWJlcikgPT4ge1xuICAgICAgICBjb25zdCBtZW1iZXJVcGRhdGUgPSBldmVudC5tZW1iZXJzLmZpbmQoXG4gICAgICAgICAgKG0pID0+IG0udXNlcl9pZCA9PT0gbWVtYmVyLnVzZXJfaWQsXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiBtZW1iZXJVcGRhdGUgPyBtZW1iZXJVcGRhdGUgOiBtZW1iZXI7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgdXBkYXRlUGFydGljaXBhbnRSZWFjdGlvbiA9IChldmVudDogQ2FsbFJlYWN0aW9uRXZlbnQpID0+IHtcbiAgICBjb25zdCB7IHVzZXIsIGN1c3RvbSwgdHlwZSwgZW1vamlfY29kZSB9ID0gZXZlbnQucmVhY3Rpb247XG4gICAgdGhpcy5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT4ge1xuICAgICAgcmV0dXJuIHBhcnRpY2lwYW50cy5tYXAoKHApID0+IHtcbiAgICAgICAgLy8gc2tpcCBpZiB0aGUgcmVhY3Rpb24gaXMgbm90IGZvciB0aGlzIHBhcnRpY2lwYW50XG4gICAgICAgIGlmIChwLnVzZXJJZCAhPT0gdXNlci5pZCkgcmV0dXJuIHA7XG4gICAgICAgIC8vIHVwZGF0ZSB0aGUgcGFydGljaXBhbnQgd2l0aCB0aGUgbmV3IHJlYWN0aW9uXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4ucCxcbiAgICAgICAgICByZWFjdGlvbjoge1xuICAgICAgICAgICAgdHlwZSxcbiAgICAgICAgICAgIGVtb2ppX2NvZGUsXG4gICAgICAgICAgICBjdXN0b20sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgdW5ibG9ja1VzZXIgPSAoZXZlbnQ6IFVuYmxvY2tlZFVzZXJFdmVudCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCAoY3VycmVudCkgPT4ge1xuICAgICAgaWYgKCFjdXJyZW50KSByZXR1cm4gY3VycmVudDtcbiAgICAgIHJldHVybiBjdXJyZW50LmZpbHRlcigoaWQpID0+IGlkICE9PSBldmVudC51c2VyLmlkKTtcbiAgICB9KTtcbiAgfTtcblxuICBwcml2YXRlIGJsb2NrVXNlciA9IChldmVudDogQmxvY2tlZFVzZXJFdmVudCkgPT4ge1xuICAgIHRoaXMuc2V0Q3VycmVudFZhbHVlKHRoaXMuYmxvY2tlZFVzZXJJZHNTdWJqZWN0LCAoY3VycmVudCkgPT4gW1xuICAgICAgLi4uKGN1cnJlbnQgfHwgW10pLFxuICAgICAgZXZlbnQudXNlci5pZCxcbiAgICBdKTtcbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZU93bkNhcGFiaWxpdGllcyA9IChldmVudDogVXBkYXRlZENhbGxQZXJtaXNzaW9uc0V2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LnVzZXIuaWQgPT09IHRoaXMubG9jYWxQYXJ0aWNpcGFudD8udXNlcklkKSB7XG4gICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLm93bkNhcGFiaWxpdGllc1N1YmplY3QsIGV2ZW50Lm93bl9jYXBhYmlsaXRpZXMpO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIHVwZGF0ZUZyb21DbG9zZWRDYXB0aW9ucyA9IChldmVudDogQ2xvc2VkQ2FwdGlvbkV2ZW50KSA9PiB7XG4gICAgdGhpcy5zZXRDdXJyZW50VmFsdWUodGhpcy5jbG9zZWRDYXB0aW9uc1N1YmplY3QsIChxdWV1ZSkgPT4ge1xuICAgICAgY29uc3QgeyBjbG9zZWRfY2FwdGlvbiB9ID0gZXZlbnQ7XG5cbiAgICAgIGNvbnN0IGtleU9mID0gKGM6IENhbGxDbG9zZWRDYXB0aW9uKSA9PiBgJHtjLnNwZWFrZXJfaWR9LyR7Yy5zdGFydF90aW1lfWA7XG4gICAgICBjb25zdCBjdXJyZW50S2V5ID0ga2V5T2YoY2xvc2VkX2NhcHRpb24pO1xuXG4gICAgICBjb25zdCBkdXBsaWNhdGUgPSBxdWV1ZS5zb21lKChjYXB0aW9uKSA9PiBrZXlPZihjYXB0aW9uKSA9PT0gY3VycmVudEtleSk7XG4gICAgICBpZiAoZHVwbGljYXRlKSByZXR1cm4gcXVldWU7XG5cbiAgICAgIGNvbnN0IG5leHRRdWV1ZSA9IFsuLi5xdWV1ZSwgY2xvc2VkX2NhcHRpb25dO1xuXG4gICAgICBjb25zdCB7IHZpc2liaWxpdHlEdXJhdGlvbk1zID0gMjcwMCwgbWF4VmlzaWJsZUNhcHRpb25zID0gMiB9ID1cbiAgICAgICAgdGhpcy5jbG9zZWRDYXB0aW9uc1NldHRpbmdzIHx8IHt9O1xuICAgICAgLy8gc2NoZWR1bGUgdGhlIHJlbW92YWwgb2YgdGhlIGNsb3NlZCBjYXB0aW9uIGFmdGVyIHRoZSByZXRlbnRpb24gdGltZVxuICAgICAgaWYgKHZpc2liaWxpdHlEdXJhdGlvbk1zID4gMCkge1xuICAgICAgICBjb25zdCB0YXNrSWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLmNsb3NlZENhcHRpb25zU3ViamVjdCwgKGNhcHRpb25zKSA9PlxuICAgICAgICAgICAgY2FwdGlvbnMuZmlsdGVyKChjYXB0aW9uKSA9PiBjYXB0aW9uICE9PSBjbG9zZWRfY2FwdGlvbiksXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLmNsb3NlZENhcHRpb25zVGFza3MuZGVsZXRlKGN1cnJlbnRLZXkpO1xuICAgICAgICB9LCB2aXNpYmlsaXR5RHVyYXRpb25Ncyk7XG4gICAgICAgIHRoaXMuY2xvc2VkQ2FwdGlvbnNUYXNrcy5zZXQoY3VycmVudEtleSwgdGFza0lkKTtcblxuICAgICAgICAvLyBjYW5jZWwgdGhlIGNsZWFudXAgdGFza3MgZm9yIHRoZSBjbG9zZWQgY2FwdGlvbnMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHRoZSBxdWV1ZVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5leHRRdWV1ZS5sZW5ndGggLSBtYXhWaXNpYmxlQ2FwdGlvbnM7IGkrKykge1xuICAgICAgICAgIGNvbnN0IGtleSA9IGtleU9mKG5leHRRdWV1ZVtpXSk7XG4gICAgICAgICAgY29uc3QgdGFzayA9IHRoaXMuY2xvc2VkQ2FwdGlvbnNUYXNrcy5nZXQoa2V5KTtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGFzayk7XG4gICAgICAgICAgdGhpcy5jbG9zZWRDYXB0aW9uc1Rhc2tzLmRlbGV0ZShrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIHRyaW0gdGhlIHF1ZXVlXG4gICAgICByZXR1cm4gbmV4dFF1ZXVlLnNsaWNlKC1tYXhWaXNpYmxlQ2FwdGlvbnMpO1xuICAgIH0pO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgRXJyb3IgYXMgU2Z1RXJyb3IgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuXG4vKipcbiAqIE5lZ290aWF0aW9uRXJyb3IgaXMgdGhyb3duIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3IgZHVyaW5nIHRoZSBuZWdvdGlhdGlvbiBwcm9jZXNzLlxuICogSXQgZXh0ZW5kcyB0aGUgYnVpbHQtaW4gRXJyb3IgY2xhc3MgYW5kIGluY2x1ZGVzIGFuIFNmdUVycm9yIG9iamVjdCBmb3IgbW9yZSBkZXRhaWxzLlxuICovXG5leHBvcnQgY2xhc3MgTmVnb3RpYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgLyoqXG4gICAqIFRoZSBTZnVFcnJvciBvYmplY3QgdGhhdCBjb250YWlucyBkZXRhaWxzIGFib3V0IHRoZSBlcnJvci5cbiAgICovXG4gIGVycm9yOiBTZnVFcnJvcjtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBOZWdvdGlhdGlvbkVycm9yLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZXJyb3I6IFNmdUVycm9yKSB7XG4gICAgc3VwZXIoZXJyb3IubWVzc2FnZSk7XG4gICAgdGhpcy5uYW1lID0gJ05lZ290aWF0aW9uRXJyb3InO1xuICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ2xpZW50RGV0YWlscywgU2RrLCBTZGtUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcblxuLyoqXG4gKiBGbGF0dGVuIHRoZSBzdGF0cyByZXBvcnQgaW50byBhbiBhcnJheSBvZiBzdGF0cyBvYmplY3RzLlxuICpcbiAqIEBwYXJhbSByZXBvcnQgdGhlIHJlcG9ydCB0byBmbGF0dGVuLlxuICovXG5leHBvcnQgY29uc3QgZmxhdHRlbiA9IChyZXBvcnQ6IFJUQ1N0YXRzUmVwb3J0KSA9PiB7XG4gIGNvbnN0IHN0YXRzOiBSVENTdGF0c1tdID0gW107XG4gIHJlcG9ydC5mb3JFYWNoKChzKSA9PiB7XG4gICAgc3RhdHMucHVzaChzKTtcbiAgfSk7XG4gIHJldHVybiBzdGF0cztcbn07XG5cbi8qKlxuICogRHVtcCB0aGUgcHJvdmlkZWQgTWVkaWFTdHJlYW0gaW50byBhIEpTT04gb2JqZWN0LlxuICovXG5leHBvcnQgY29uc3QgZHVtcFN0cmVhbSA9IChzdHJlYW06IE1lZGlhU3RyZWFtKSA9PiAoe1xuICBpZDogc3RyZWFtLmlkLFxuICB0cmFja3M6IHN0cmVhbS5nZXRUcmFja3MoKS5tYXAoKHRyYWNrKSA9PiAoe1xuICAgIGlkOiB0cmFjay5pZCxcbiAgICBraW5kOiB0cmFjay5raW5kLFxuICAgIGxhYmVsOiB0cmFjay5sYWJlbCxcbiAgICBlbmFibGVkOiB0cmFjay5lbmFibGVkLFxuICAgIG11dGVkOiB0cmFjay5tdXRlZCxcbiAgICByZWFkeVN0YXRlOiB0cmFjay5yZWFkeVN0YXRlLFxuICB9KSksXG59KTtcblxuZXhwb3J0IGNvbnN0IGdldFNka1NpZ25hdHVyZSA9IChjbGllbnREZXRhaWxzOiBDbGllbnREZXRhaWxzKSA9PiB7XG4gIGNvbnN0IHsgc2RrLCAuLi5wbGF0Zm9ybSB9ID0gY2xpZW50RGV0YWlscztcbiAgY29uc3Qgc2RrTmFtZSA9IGdldFNka05hbWUoc2RrKTtcbiAgY29uc3Qgc2RrVmVyc2lvbiA9IGdldFNka1ZlcnNpb24oc2RrKTtcblxuICByZXR1cm4ge1xuICAgIHNka05hbWUsXG4gICAgc2RrVmVyc2lvbixcbiAgICAuLi5wbGF0Zm9ybSxcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtOYW1lID0gKHNkazogU2RrIHwgdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBzZGsgJiYgc2RrLnR5cGUgPT09IFNka1R5cGUuUkVBQ1RcbiAgICA/ICdzdHJlYW0tcmVhY3QnXG4gICAgOiBzZGsgJiYgc2RrLnR5cGUgPT09IFNka1R5cGUuUkVBQ1RfTkFUSVZFXG4gICAgICA/ICdzdHJlYW0tcmVhY3QtbmF0aXZlJ1xuICAgICAgOiAnc3RyZWFtLWpzJztcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRTZGtWZXJzaW9uID0gKHNkazogU2RrIHwgdW5kZWZpbmVkKSA9PiB7XG4gIHJldHVybiBzZGsgPyBgJHtzZGsubWFqb3J9LiR7c2RrLm1pbm9yfS4ke3Nkay5wYXRjaH1gIDogJzAuMC4wLWRldmVsb3BtZW50Jztcbn07XG4iLCIvKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgU2FmYXJpLlxuICovXG5leHBvcnQgY29uc3QgaXNTYWZhcmkgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuICByZXR1cm4gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50IHx8ICcnKTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgdGhlIGN1cnJlbnQgYnJvd3NlciBpcyBGaXJlZm94LlxuICovXG5leHBvcnQgY29uc3QgaXNGaXJlZm94ID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQ/LmluY2x1ZGVzKCdGaXJlZm94Jyk7XG59O1xuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IGJyb3dzZXIgaXMgR29vZ2xlIENocm9tZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzQ2hyb21lID0gKCkgPT4ge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiBmYWxzZTtcbiAgcmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQ/LmluY2x1ZGVzKCdDaHJvbWUnKTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7XG4gIEFnZ3JlZ2F0ZWRTdGF0c1JlcG9ydCxcbiAgQmFzZVN0YXRzLFxuICBQYXJ0aWNpcGFudHNTdGF0c1JlcG9ydCxcbiAgUlRDQ29kZWNTdGF0cyxcbiAgUlRDTWVkaWFTb3VyY2VTdGF0cyxcbiAgU3RhdHNSZXBvcnQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgUHVibGlzaGVyLCBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vcnRjJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBmbGF0dGVuIH0gZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgaXNGaXJlZm94IH0gZnJvbSAnLi4vaGVscGVycy9icm93c2Vycyc7XG5cbmV4cG9ydCB0eXBlIFN0YXRzUmVwb3J0ZXJPcHRzID0ge1xuICBzdWJzY3JpYmVyOiBTdWJzY3JpYmVyO1xuICBwdWJsaXNoZXI/OiBQdWJsaXNoZXI7XG4gIHN0YXRlOiBDYWxsU3RhdGU7XG4gIGRhdGFjZW50ZXI6IHN0cmluZztcbiAgcG9sbGluZ0ludGVydmFsSW5Ncz86IG51bWJlcjtcbn07XG5cbnR5cGUgUGVlckNvbm5lY3Rpb25LaW5kID0gJ3N1YnNjcmliZXInIHwgJ3B1Ymxpc2hlcic7XG5cbmV4cG9ydCB0eXBlIFN0YXRzUmVwb3J0ZXIgPSB7XG4gIC8qKlxuICAgKiBXaWxsIHR1cm4gb24gc3RhdHMgcmVwb3J0aW5nIGZvciBhIGdpdmVuIHNlc3Npb25JZC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICovXG4gIHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3I6IChzZXNzaW9uSWQ6IHN0cmluZykgPT4gdm9pZDtcblxuICAvKipcbiAgICogV2lsbCB0dXJuIG9mZiBzdGF0cyByZXBvcnRpbmcgZm9yIGEgZ2l2ZW4gc2Vzc2lvbklkLlxuICAgKlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKi9cbiAgc3RvcFJlcG9ydGluZ1N0YXRzRm9yOiAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHZvaWQ7XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHJldHJpZXZpbmcgc3RhdHMgZm9yIGEgZ2l2ZW4gcGVlciBjb25uZWN0aW9uIGtpbmRcbiAgICogYW5kIG1lZGlhIHN0cmVhbSBmbG93aW5nIHRocm91Z2ggaXQuXG4gICAqXG4gICAqIEBwYXJhbSBraW5kIHRoZSBwZWVyIGNvbm5lY3Rpb24ga2luZCAoc3Vic2NyaWJlciBvciBwdWJsaXNoZXIpLlxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW0gdGhlIG1lZGlhIHN0cmVhbS5cbiAgICovXG4gIGdldFN0YXRzRm9yU3RyZWFtOiAoXG4gICAga2luZDogUGVlckNvbm5lY3Rpb25LaW5kLFxuICAgIHRyYWNrczogTWVkaWFTdHJlYW1UcmFja1tdLFxuICApID0+IFByb21pc2U8U3RhdHNSZXBvcnRbXT47XG5cbiAgLyoqXG4gICAqIEhlbHBlciBtZXRob2QgZm9yIHJldHJpZXZpbmcgcmF3IHN0YXRzIGZvciBhIGdpdmVuIHBlZXIgY29ubmVjdGlvbiBraW5kLlxuICAgKlxuICAgKiBAcGFyYW0ga2luZCB0aGUgcGVlciBjb25uZWN0aW9uIGtpbmQgKHN1YnNjcmliZXIgb3IgcHVibGlzaGVyKS5cbiAgICogQHBhcmFtIHNlbGVjdG9yIHRoZSB0cmFjayBzZWxlY3Rvci4gSWYgbm90IHByb3ZpZGVkLCBzdGF0cyBmb3IgYWxsIHRyYWNrcyB3aWxsIGJlIHJldHVybmVkLlxuICAgKi9cbiAgZ2V0UmF3U3RhdHNGb3JUcmFjazogKFxuICAgIGtpbmQ6IFBlZXJDb25uZWN0aW9uS2luZCxcbiAgICBzZWxlY3Rvcj86IE1lZGlhU3RyZWFtVHJhY2ssXG4gICkgPT4gUHJvbWlzZTxSVENTdGF0c1JlcG9ydCB8IHVuZGVmaW5lZD47XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBzdGF0cyByZXBvcnRlciBhbmQgcmVsZWFzZXMgYWxsIHJlc291cmNlcy5cbiAgICovXG4gIHN0b3A6ICgpID0+IHZvaWQ7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgU3RhdHNSZXBvcnRlciBpbnN0YW5jZSB0aGF0IGNvbGxlY3RzIG1ldHJpY3MgYWJvdXQgdGhlIG9uZ29pbmcgY2FsbCBhbmQgcmVwb3J0cyB0aGVtIHRvIHRoZSBzdGF0ZSBzdG9yZVxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlU3RhdHNSZXBvcnRlciA9ICh7XG4gIHN1YnNjcmliZXIsXG4gIHB1Ymxpc2hlcixcbiAgc3RhdGUsXG4gIGRhdGFjZW50ZXIsXG4gIHBvbGxpbmdJbnRlcnZhbEluTXMgPSAyMDAwLFxufTogU3RhdHNSZXBvcnRlck9wdHMpOiBTdGF0c1JlcG9ydGVyID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnc3RhdHMnXSk7XG4gIGNvbnN0IGdldFJhd1N0YXRzRm9yVHJhY2sgPSBhc3luYyAoXG4gICAga2luZDogUGVlckNvbm5lY3Rpb25LaW5kLFxuICAgIHNlbGVjdG9yPzogTWVkaWFTdHJlYW1UcmFjayxcbiAgKSA9PiB7XG4gICAgaWYgKGtpbmQgPT09ICdzdWJzY3JpYmVyJyAmJiBzdWJzY3JpYmVyKSB7XG4gICAgICByZXR1cm4gc3Vic2NyaWJlci5nZXRTdGF0cyhzZWxlY3Rvcik7XG4gICAgfSBlbHNlIGlmIChraW5kID09PSAncHVibGlzaGVyJyAmJiBwdWJsaXNoZXIpIHtcbiAgICAgIHJldHVybiBwdWJsaXNoZXIuZ2V0U3RhdHMoc2VsZWN0b3IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBnZXRTdGF0c0ZvclN0cmVhbSA9IGFzeW5jIChcbiAgICBraW5kOiBQZWVyQ29ubmVjdGlvbktpbmQsXG4gICAgdHJhY2tzOiBNZWRpYVN0cmVhbVRyYWNrW10sXG4gICkgPT4ge1xuICAgIGNvbnN0IHBjID0ga2luZCA9PT0gJ3N1YnNjcmliZXInID8gc3Vic2NyaWJlciA6IHB1Ymxpc2hlcjtcbiAgICBpZiAoIXBjKSByZXR1cm4gW107XG4gICAgY29uc3Qgc3RhdHNGb3JTdHJlYW06IFN0YXRzUmVwb3J0W10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHRyYWNrIG9mIHRyYWNrcykge1xuICAgICAgY29uc3QgcmVwb3J0ID0gYXdhaXQgcGMuZ2V0U3RhdHModHJhY2spO1xuICAgICAgY29uc3Qgc3RhdHMgPSB0cmFuc2Zvcm0ocmVwb3J0LCB7XG4gICAgICAgIHRyYWNrS2luZDogdHJhY2sua2luZCBhcyAnYXVkaW8nIHwgJ3ZpZGVvJyxcbiAgICAgICAga2luZCxcbiAgICAgICAgcHVibGlzaGVyOiB1bmRlZmluZWQsXG4gICAgICB9KTtcbiAgICAgIHN0YXRzRm9yU3RyZWFtLnB1c2goc3RhdHMpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdHNGb3JTdHJlYW07XG4gIH07XG5cbiAgY29uc3Qgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvciA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHNlc3Npb25JZHNUb1RyYWNrLmFkZChzZXNzaW9uSWQpO1xuICAgIHZvaWQgcnVuKCk7XG4gIH07XG5cbiAgY29uc3Qgc3RvcFJlcG9ydGluZ1N0YXRzRm9yID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgc2Vzc2lvbklkc1RvVHJhY2suZGVsZXRlKHNlc3Npb25JZCk7XG4gICAgdm9pZCBydW4oKTtcbiAgfTtcblxuICBjb25zdCBzZXNzaW9uSWRzVG9UcmFjayA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuXG4gIC8qKlxuICAgKiBUaGUgbWFpbiBzdGF0cyByZXBvcnRpbmcgbG9vcC5cbiAgICovXG4gIGNvbnN0IHJ1biA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudFN0YXRzOiBQYXJ0aWNpcGFudHNTdGF0c1JlcG9ydCA9IHt9O1xuICAgIGlmIChzZXNzaW9uSWRzVG9UcmFjay5zaXplID4gMCkge1xuICAgICAgY29uc3Qgc2Vzc2lvbklkcyA9IG5ldyBTZXQoc2Vzc2lvbklkc1RvVHJhY2spO1xuICAgICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiBzdGF0ZS5wYXJ0aWNpcGFudHMpIHtcbiAgICAgICAgaWYgKCFzZXNzaW9uSWRzLmhhcyhwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSBjb250aW51ZTtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGF1ZGlvU3RyZWFtLFxuICAgICAgICAgIGlzTG9jYWxQYXJ0aWNpcGFudCxcbiAgICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIHZpZGVvU3RyZWFtLFxuICAgICAgICB9ID0gcGFydGljaXBhbnQ7XG4gICAgICAgIGNvbnN0IGtpbmQgPSBpc0xvY2FsUGFydGljaXBhbnQgPyAncHVibGlzaGVyJyA6ICdzdWJzY3JpYmVyJztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB0cmFja3MgPSBpc0xvY2FsUGFydGljaXBhbnRcbiAgICAgICAgICAgID8gcHVibGlzaGVyPy5nZXRQdWJsaXNoZWRUcmFja3MoKSB8fCBbXVxuICAgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgLi4uKHZpZGVvU3RyZWFtPy5nZXRWaWRlb1RyYWNrcygpIHx8IFtdKSxcbiAgICAgICAgICAgICAgICAuLi4oYXVkaW9TdHJlYW0/LmdldEF1ZGlvVHJhY2tzKCkgfHwgW10pLFxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgIHBhcnRpY2lwYW50U3RhdHNbc2Vzc2lvbklkXSA9IGF3YWl0IGdldFN0YXRzRm9yU3RyZWFtKGtpbmQsIHRyYWNrcyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBsb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIGNvbGxlY3QgJHtraW5kfSBzdGF0cyBmb3IgJHt1c2VySWR9YCwgZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBbc3Vic2NyaWJlclJhd1N0YXRzLCBwdWJsaXNoZXJSYXdTdGF0c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICBnZXRSYXdTdGF0c0ZvclRyYWNrKCdzdWJzY3JpYmVyJyksXG4gICAgICBwdWJsaXNoZXIgPyBnZXRSYXdTdGF0c0ZvclRyYWNrKCdwdWJsaXNoZXInKSA6IHVuZGVmaW5lZCxcbiAgICBdKTtcblxuICAgIGNvbnN0IHByb2Nlc3MgPSAocmVwb3J0OiBSVENTdGF0c1JlcG9ydCwga2luZDogUGVlckNvbm5lY3Rpb25LaW5kKSA9PlxuICAgICAgYWdncmVnYXRlKHRyYW5zZm9ybShyZXBvcnQsIHsga2luZCwgdHJhY2tLaW5kOiAndmlkZW8nLCBwdWJsaXNoZXIgfSkpO1xuXG4gICAgY29uc3Qgc3Vic2NyaWJlclN0YXRzID0gc3Vic2NyaWJlclJhd1N0YXRzXG4gICAgICA/IHByb2Nlc3Moc3Vic2NyaWJlclJhd1N0YXRzLCAnc3Vic2NyaWJlcicpXG4gICAgICA6IGdldEVtcHR5U3RhdHMoKTtcbiAgICBjb25zdCBwdWJsaXNoZXJTdGF0cyA9IHB1Ymxpc2hlclJhd1N0YXRzXG4gICAgICA/IHByb2Nlc3MocHVibGlzaGVyUmF3U3RhdHMsICdwdWJsaXNoZXInKVxuICAgICAgOiBnZXRFbXB0eVN0YXRzKCk7XG5cbiAgICBzdGF0ZS5zZXRDYWxsU3RhdHNSZXBvcnQoe1xuICAgICAgZGF0YWNlbnRlcixcbiAgICAgIHB1Ymxpc2hlclN0YXRzLFxuICAgICAgc3Vic2NyaWJlclN0YXRzLFxuICAgICAgc3Vic2NyaWJlclJhd1N0YXRzLFxuICAgICAgcHVibGlzaGVyUmF3U3RhdHMsXG4gICAgICBwYXJ0aWNpcGFudHM6IHBhcnRpY2lwYW50U3RhdHMsXG4gICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgfSk7XG4gIH07XG5cbiAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQgfCB1bmRlZmluZWQ7XG4gIGlmIChwb2xsaW5nSW50ZXJ2YWxJbk1zID4gMCkge1xuICAgIGNvbnN0IGxvb3AgPSBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBiYWlsIG91dCBvZiB0aGUgbG9vcCBhcyB3ZSBkb24ndCB3YW50IHRvIGNvbGxlY3Qgc3RhdHNcbiAgICAgIC8vICh0aGV5IGFyZSBleHBlbnNpdmUpIGlmIG5vIG9uZSBpcyBsaXN0ZW5pbmcgdG8gdGhlbVxuICAgICAgaWYgKHN0YXRlLmlzQ2FsbFN0YXRzUmVwb3J0T2JzZXJ2ZWQpIHtcbiAgICAgICAgYXdhaXQgcnVuKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICBsb2dnZXIoJ2RlYnVnJywgJ0ZhaWxlZCB0byBjb2xsZWN0IHN0YXRzJywgZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGltZW91dElkID0gc2V0VGltZW91dChsb29wLCBwb2xsaW5nSW50ZXJ2YWxJbk1zKTtcbiAgICB9O1xuICAgIHZvaWQgbG9vcCgpO1xuICB9XG5cbiAgY29uc3Qgc3RvcCA9ICgpID0+IHtcbiAgICBpZiAodGltZW91dElkKSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHtcbiAgICBnZXRSYXdTdGF0c0ZvclRyYWNrLFxuICAgIGdldFN0YXRzRm9yU3RyZWFtLFxuICAgIHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3IsXG4gICAgc3RvcFJlcG9ydGluZ1N0YXRzRm9yLFxuICAgIHN0b3AsXG4gIH07XG59O1xuXG5leHBvcnQgdHlwZSBTdGF0c1RyYW5zZm9ybU9wdHMgPSB7XG4gIC8qKlxuICAgKiBUaGUga2luZCBvZiB0cmFjayB3ZSBhcmUgdHJhbnNmb3JtaW5nIHN0YXRzIGZvci5cbiAgICovXG4gIHRyYWNrS2luZDogJ2F1ZGlvJyB8ICd2aWRlbyc7XG4gIC8qKlxuICAgKiBUaGUga2luZCBvZiBwZWVyIGNvbm5lY3Rpb24gd2UgYXJlIHRyYW5zZm9ybWluZyBzdGF0cyBmb3IuXG4gICAqL1xuICBraW5kOiBQZWVyQ29ubmVjdGlvbktpbmQ7XG4gIC8qKlxuICAgKiBUaGUgcHVibGlzaGVyIGluc3RhbmNlLlxuICAgKi9cbiAgcHVibGlzaGVyOiBQdWJsaXNoZXIgfCB1bmRlZmluZWQ7XG59O1xuXG4vKipcbiAqIFRyYW5zZm9ybXMgcmF3IFJUQyBzdGF0cyBpbnRvIGEgc2xpbW1lciBhbmQgdW5pZm9ybSBhY3Jvc3MgYnJvd3NlcnMgZm9ybWF0LlxuICpcbiAqIEBwYXJhbSByZXBvcnQgdGhlIHJlcG9ydCB0byB0cmFuc2Zvcm0uXG4gKiBAcGFyYW0gb3B0cyB0aGUgdHJhbnNmb3JtIG9wdGlvbnMuXG4gKi9cbmNvbnN0IHRyYW5zZm9ybSA9IChcbiAgcmVwb3J0OiBSVENTdGF0c1JlcG9ydCxcbiAgb3B0czogU3RhdHNUcmFuc2Zvcm1PcHRzLFxuKTogU3RhdHNSZXBvcnQgPT4ge1xuICBjb25zdCB7IHRyYWNrS2luZCwga2luZCwgcHVibGlzaGVyIH0gPSBvcHRzO1xuICBjb25zdCBkaXJlY3Rpb24gPSBraW5kID09PSAnc3Vic2NyaWJlcicgPyAnaW5ib3VuZC1ydHAnIDogJ291dGJvdW5kLXJ0cCc7XG4gIGNvbnN0IHN0YXRzID0gZmxhdHRlbihyZXBvcnQpO1xuICBjb25zdCBzdHJlYW1zID0gc3RhdHNcbiAgICAuZmlsdGVyKFxuICAgICAgKHN0YXQpID0+XG4gICAgICAgIHN0YXQudHlwZSA9PT0gZGlyZWN0aW9uICYmXG4gICAgICAgIChzdGF0IGFzIFJUQ1J0cFN0cmVhbVN0YXRzKS5raW5kID09PSB0cmFja0tpbmQsXG4gICAgKVxuICAgIC5tYXAoKHN0YXQpOiBCYXNlU3RhdHMgPT4ge1xuICAgICAgY29uc3QgcnRjU3RyZWFtU3RhdHMgPSBzdGF0IGFzIFJUQ0luYm91bmRSdHBTdHJlYW1TdGF0cyAmXG4gICAgICAgIFJUQ091dGJvdW5kUnRwU3RyZWFtU3RhdHM7XG5cbiAgICAgIGNvbnN0IGNvZGVjID0gc3RhdHMuZmluZChcbiAgICAgICAgKHMpID0+IHMudHlwZSA9PT0gJ2NvZGVjJyAmJiBzLmlkID09PSBydGNTdHJlYW1TdGF0cy5jb2RlY0lkLFxuICAgICAgKSBhcyBSVENDb2RlY1N0YXRzIHwgdW5kZWZpbmVkO1xuXG4gICAgICBjb25zdCB0cmFuc3BvcnQgPSBzdGF0cy5maW5kKFxuICAgICAgICAocykgPT4gcy50eXBlID09PSAndHJhbnNwb3J0JyAmJiBzLmlkID09PSBydGNTdHJlYW1TdGF0cy50cmFuc3BvcnRJZCxcbiAgICAgICkgYXMgUlRDVHJhbnNwb3J0U3RhdHMgfCB1bmRlZmluZWQ7XG5cbiAgICAgIGxldCByb3VuZFRyaXBUaW1lOiBudW1iZXIgfCB1bmRlZmluZWQ7XG4gICAgICBpZiAodHJhbnNwb3J0ICYmIHRyYW5zcG9ydC5kdGxzU3RhdGUgPT09ICdjb25uZWN0ZWQnKSB7XG4gICAgICAgIGNvbnN0IGNhbmRpZGF0ZVBhaXIgPSBzdGF0cy5maW5kKFxuICAgICAgICAgIChzKSA9PlxuICAgICAgICAgICAgcy50eXBlID09PSAnY2FuZGlkYXRlLXBhaXInICYmXG4gICAgICAgICAgICBzLmlkID09PSB0cmFuc3BvcnQuc2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQsXG4gICAgICAgICkgYXMgUlRDSWNlQ2FuZGlkYXRlUGFpclN0YXRzIHwgdW5kZWZpbmVkO1xuICAgICAgICByb3VuZFRyaXBUaW1lID0gY2FuZGlkYXRlUGFpcj8uY3VycmVudFJvdW5kVHJpcFRpbWU7XG4gICAgICB9XG5cbiAgICAgIGxldCB0cmFja1R5cGU6IFRyYWNrVHlwZSB8IHVuZGVmaW5lZDtcbiAgICAgIGlmIChraW5kID09PSAncHVibGlzaGVyJyAmJiBwdWJsaXNoZXIpIHtcbiAgICAgICAgY29uc3QgZmlyZWZveCA9IGlzRmlyZWZveCgpO1xuICAgICAgICBjb25zdCBtZWRpYVNvdXJjZSA9IHN0YXRzLmZpbmQoXG4gICAgICAgICAgKHMpID0+XG4gICAgICAgICAgICBzLnR5cGUgPT09ICdtZWRpYS1zb3VyY2UnICYmXG4gICAgICAgICAgICAvLyBGaXJlZm94IGRvZXNuJ3QgaGF2ZSBtZWRpYVNvdXJjZUlkLCBzbyB3ZSBuZWVkIHRvIGd1ZXNzIHRoZSBtZWRpYSBzb3VyY2VcbiAgICAgICAgICAgIChmaXJlZm94ID8gdHJ1ZSA6IHMuaWQgPT09IHJ0Y1N0cmVhbVN0YXRzLm1lZGlhU291cmNlSWQpLFxuICAgICAgICApIGFzIFJUQ01lZGlhU291cmNlU3RhdHMgfCB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChtZWRpYVNvdXJjZSkge1xuICAgICAgICAgIHRyYWNrVHlwZSA9IHB1Ymxpc2hlci5nZXRUcmFja1R5cGUobWVkaWFTb3VyY2UudHJhY2tJZGVudGlmaWVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBieXRlc1NlbnQ6IHJ0Y1N0cmVhbVN0YXRzLmJ5dGVzU2VudCxcbiAgICAgICAgYnl0ZXNSZWNlaXZlZDogcnRjU3RyZWFtU3RhdHMuYnl0ZXNSZWNlaXZlZCxcbiAgICAgICAgY29kZWM6IGNvZGVjPy5taW1lVHlwZSxcbiAgICAgICAgY3VycmVudFJvdW5kVHJpcFRpbWU6IHJvdW5kVHJpcFRpbWUsXG4gICAgICAgIGZyYW1lSGVpZ2h0OiBydGNTdHJlYW1TdGF0cy5mcmFtZUhlaWdodCxcbiAgICAgICAgZnJhbWVXaWR0aDogcnRjU3RyZWFtU3RhdHMuZnJhbWVXaWR0aCxcbiAgICAgICAgZnJhbWVzUGVyU2Vjb25kOiBydGNTdHJlYW1TdGF0cy5mcmFtZXNQZXJTZWNvbmQsXG4gICAgICAgIGppdHRlcjogcnRjU3RyZWFtU3RhdHMuaml0dGVyLFxuICAgICAgICBraW5kOiBydGNTdHJlYW1TdGF0cy5raW5kLFxuICAgICAgICBtZWRpYVNvdXJjZUlkOiBydGNTdHJlYW1TdGF0cy5tZWRpYVNvdXJjZUlkLFxuICAgICAgICBxdWFsaXR5TGltaXRhdGlvblJlYXNvbjogcnRjU3RyZWFtU3RhdHMucXVhbGl0eUxpbWl0YXRpb25SZWFzb24sXG4gICAgICAgIHJpZDogcnRjU3RyZWFtU3RhdHMucmlkLFxuICAgICAgICBzc3JjOiBydGNTdHJlYW1TdGF0cy5zc3JjLFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgICB9O1xuICAgIH0pO1xuXG4gIHJldHVybiB7XG4gICAgcmF3U3RhdHM6IHJlcG9ydCxcbiAgICBzdHJlYW1zLFxuICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgfTtcbn07XG5cbmNvbnN0IGdldEVtcHR5U3RhdHMgPSAoc3RhdHM/OiBTdGF0c1JlcG9ydCk6IEFnZ3JlZ2F0ZWRTdGF0c1JlcG9ydCA9PiB7XG4gIHJldHVybiB7XG4gICAgcmF3UmVwb3J0OiBzdGF0cyA/PyB7IHN0cmVhbXM6IFtdLCB0aW1lc3RhbXA6IERhdGUubm93KCkgfSxcbiAgICB0b3RhbEJ5dGVzU2VudDogMCxcbiAgICB0b3RhbEJ5dGVzUmVjZWl2ZWQ6IDAsXG4gICAgYXZlcmFnZUppdHRlckluTXM6IDAsXG4gICAgYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zOiAwLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uczogJ25vbmUnLFxuICAgIGhpZ2hlc3RGcmFtZVdpZHRoOiAwLFxuICAgIGhpZ2hlc3RGcmFtZUhlaWdodDogMCxcbiAgICBoaWdoZXN0RnJhbWVzUGVyU2Vjb25kOiAwLFxuICAgIGNvZGVjOiAnJyxcbiAgICBjb2RlY1BlclRyYWNrVHlwZToge30sXG4gICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICB9O1xufTtcblxuLyoqXG4gKiBBZ2dyZWdhdGVzIGdlbmVyaWMgc3RhdHMuXG4gKlxuICogQHBhcmFtIHN0YXRzIHRoZSBzdGF0cyB0byBhZ2dyZWdhdGUuXG4gKi9cbmNvbnN0IGFnZ3JlZ2F0ZSA9IChzdGF0czogU3RhdHNSZXBvcnQpOiBBZ2dyZWdhdGVkU3RhdHNSZXBvcnQgPT4ge1xuICBjb25zdCBhZ2dyZWdhdGVkU3RhdHMgPSBnZXRFbXB0eVN0YXRzKHN0YXRzKTtcblxuICBsZXQgbWF4QXJlYSA9IC0xO1xuICBjb25zdCBhcmVhID0gKHc6IG51bWJlciwgaDogbnVtYmVyKSA9PiB3ICogaDtcblxuICBjb25zdCBxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMgPSBuZXcgU2V0PHN0cmluZz4oKTtcbiAgY29uc3Qgc3RyZWFtcyA9IHN0YXRzLnN0cmVhbXM7XG4gIGNvbnN0IHJlcG9ydCA9IHN0cmVhbXMucmVkdWNlKChhY2MsIHN0cmVhbSkgPT4ge1xuICAgIGFjYy50b3RhbEJ5dGVzU2VudCArPSBzdHJlYW0uYnl0ZXNTZW50IHx8IDA7XG4gICAgYWNjLnRvdGFsQnl0ZXNSZWNlaXZlZCArPSBzdHJlYW0uYnl0ZXNSZWNlaXZlZCB8fCAwO1xuICAgIGFjYy5hdmVyYWdlSml0dGVySW5NcyArPSBzdHJlYW0uaml0dGVyIHx8IDA7XG4gICAgYWNjLmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyArPSBzdHJlYW0uY3VycmVudFJvdW5kVHJpcFRpbWUgfHwgMDtcblxuICAgIC8vIG5haXZlIGNhbGN1bGF0aW9uIG9mIHRoZSBoaWdoZXN0IHJlc29sdXRpb25cbiAgICBjb25zdCBzdHJlYW1BcmVhID0gYXJlYShzdHJlYW0uZnJhbWVXaWR0aCB8fCAwLCBzdHJlYW0uZnJhbWVIZWlnaHQgfHwgMCk7XG4gICAgaWYgKHN0cmVhbUFyZWEgPiBtYXhBcmVhKSB7XG4gICAgICBhY2MuaGlnaGVzdEZyYW1lV2lkdGggPSBzdHJlYW0uZnJhbWVXaWR0aCB8fCAwO1xuICAgICAgYWNjLmhpZ2hlc3RGcmFtZUhlaWdodCA9IHN0cmVhbS5mcmFtZUhlaWdodCB8fCAwO1xuICAgICAgYWNjLmhpZ2hlc3RGcmFtZXNQZXJTZWNvbmQgPSBzdHJlYW0uZnJhbWVzUGVyU2Vjb25kIHx8IDA7XG4gICAgICBtYXhBcmVhID0gc3RyZWFtQXJlYTtcbiAgICB9XG5cbiAgICBxdWFsaXR5TGltaXRhdGlvblJlYXNvbnMuYWRkKHN0cmVhbS5xdWFsaXR5TGltaXRhdGlvblJlYXNvbiB8fCAnJyk7XG4gICAgcmV0dXJuIGFjYztcbiAgfSwgYWdncmVnYXRlZFN0YXRzKTtcblxuICBpZiAoc3RyZWFtcy5sZW5ndGggPiAwKSB7XG4gICAgcmVwb3J0LmF2ZXJhZ2VKaXR0ZXJJbk1zID0gTWF0aC5yb3VuZChcbiAgICAgIChyZXBvcnQuYXZlcmFnZUppdHRlckluTXMgLyBzdHJlYW1zLmxlbmd0aCkgKiAxMDAwLFxuICAgICk7XG4gICAgcmVwb3J0LmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyA9IE1hdGgucm91bmQoXG4gICAgICAocmVwb3J0LmF2ZXJhZ2VSb3VuZFRyaXBUaW1lSW5NcyAvIHN0cmVhbXMubGVuZ3RoKSAqIDEwMDAsXG4gICAgKTtcbiAgICAvLyB3ZSB0YWtlIHRoZSBmaXJzdCBjb2RlYyB3ZSBmaW5kLCBhcyBpdCBzaG91bGQgYmUgdGhlIHNhbWUgZm9yIGFsbCBzdHJlYW1zXG4gICAgcmVwb3J0LmNvZGVjID0gc3RyZWFtc1swXS5jb2RlYyB8fCAnJztcbiAgICByZXBvcnQuY29kZWNQZXJUcmFja1R5cGUgPSBzdHJlYW1zLnJlZHVjZShcbiAgICAgIChhY2MsIHN0cmVhbSkgPT4ge1xuICAgICAgICBpZiAoc3RyZWFtLnRyYWNrVHlwZSkge1xuICAgICAgICAgIGFjY1tzdHJlYW0udHJhY2tUeXBlXSA9IHN0cmVhbS5jb2RlYyB8fCAnJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSxcbiAgICAgIHt9IGFzIFJlY29yZDxUcmFja1R5cGUsIHN0cmluZz4sXG4gICAgKTtcbiAgfVxuXG4gIGNvbnN0IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uID0gW1xuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ2NwdScpICYmICdjcHUnLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ2JhbmR3aWR0aCcpICYmICdiYW5kd2lkdGgnLFxuICAgIHF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucy5oYXMoJ290aGVyJykgJiYgJ290aGVyJyxcbiAgXVxuICAgIC5maWx0ZXIoQm9vbGVhbilcbiAgICAuam9pbignLCAnKTtcbiAgaWYgKHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uKSB7XG4gICAgcmVwb3J0LnF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyA9IHF1YWxpdHlMaW1pdGF0aW9uUmVhc29uO1xuICB9XG5cbiAgcmV0dXJuIHJlcG9ydDtcbn07XG4iLCJpbXBvcnQge1xuICBBbmRyb2lkVGhlcm1hbFN0YXRlLFxuICBBcHBsZVRoZXJtYWxTdGF0ZSxcbiAgQ2xpZW50RGV0YWlscyxcbiAgRGV2aWNlLFxuICBPUyxcbiAgU2RrLFxuICBTZGtUeXBlLFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU2VuZFN0YXRzUmVxdWVzdCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvc2lnbmFsX3JwYy9zaWduYWwnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4vcGxhdGZvcm1zJztcbmltcG9ydCB7IFVBUGFyc2VyIH0gZnJvbSAndWEtcGFyc2VyLWpzJztcblxudHlwZSBXZWJSVENJbmZvVHlwZSA9IHtcbiAgdmVyc2lvbjogc3RyaW5nO1xufTtcblxuY29uc3QgdmVyc2lvbiA9IHByb2Nlc3MuZW52LlBLR19WRVJTSU9OIHx8ICcwLjAuMCc7XG5jb25zdCBbbWFqb3IsIG1pbm9yLCBwYXRjaF0gPSB2ZXJzaW9uLnNwbGl0KCcuJyk7XG5cbmxldCBzZGtJbmZvOiBTZGsgfCB1bmRlZmluZWQgPSB7XG4gIHR5cGU6IFNka1R5cGUuUExBSU5fSkFWQVNDUklQVCxcbiAgbWFqb3IsXG4gIG1pbm9yLFxuICBwYXRjaCxcbn07XG5cbmxldCBvc0luZm86IE9TIHwgdW5kZWZpbmVkO1xubGV0IGRldmljZUluZm86IERldmljZSB8IHVuZGVmaW5lZDtcbmxldCB3ZWJSdGNJbmZvOiBXZWJSVENJbmZvVHlwZSB8IHVuZGVmaW5lZDtcbmxldCBkZXZpY2VTdGF0ZTogU2VuZFN0YXRzUmVxdWVzdFsnZGV2aWNlU3RhdGUnXSA9IHsgb25lb2ZLaW5kOiB1bmRlZmluZWQgfTtcblxuZXhwb3J0IGNvbnN0IHNldFNka0luZm8gPSAoaW5mbzogU2RrKSA9PiB7XG4gIHNka0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFNka0luZm8gPSAoKSA9PiB7XG4gIHJldHVybiBzZGtJbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldE9TSW5mbyA9IChpbmZvOiBPUykgPT4ge1xuICBvc0luZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldERldmljZUluZm8gPSAoaW5mbzogRGV2aWNlKSA9PiB7XG4gIGRldmljZUluZm8gPSBpbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFdlYlJUQ0luZm8gPSAoKSA9PiB7XG4gIHJldHVybiB3ZWJSdGNJbmZvO1xufTtcblxuZXhwb3J0IGNvbnN0IHNldFdlYlJUQ0luZm8gPSAoaW5mbzogV2ViUlRDSW5mb1R5cGUpID0+IHtcbiAgd2ViUnRjSW5mbyA9IGluZm87XG59O1xuXG5leHBvcnQgY29uc3Qgc2V0VGhlcm1hbFN0YXRlID0gKHN0YXRlOiBzdHJpbmcpID0+IHtcbiAgaWYgKCFvc0luZm8pIHtcbiAgICBkZXZpY2VTdGF0ZSA9IHsgb25lb2ZLaW5kOiB1bmRlZmluZWQgfTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAob3NJbmZvLm5hbWUgPT09ICdhbmRyb2lkJykge1xuICAgIGNvbnN0IHRoZXJtYWxTdGF0ZSA9XG4gICAgICBBbmRyb2lkVGhlcm1hbFN0YXRlW3N0YXRlIGFzIGtleW9mIHR5cGVvZiBBbmRyb2lkVGhlcm1hbFN0YXRlXSB8fFxuICAgICAgQW5kcm9pZFRoZXJtYWxTdGF0ZS5VTlNQRUNJRklFRDtcblxuICAgIGRldmljZVN0YXRlID0ge1xuICAgICAgb25lb2ZLaW5kOiAnYW5kcm9pZCcsXG4gICAgICBhbmRyb2lkOiB7XG4gICAgICAgIHRoZXJtYWxTdGF0ZSxcbiAgICAgICAgaXNQb3dlclNhdmVyTW9kZTpcbiAgICAgICAgICBkZXZpY2VTdGF0ZT8ub25lb2ZLaW5kID09PSAnYW5kcm9pZCcgJiZcbiAgICAgICAgICBkZXZpY2VTdGF0ZS5hbmRyb2lkLmlzUG93ZXJTYXZlck1vZGUsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBpZiAob3NJbmZvLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lvcycpIHtcbiAgICBjb25zdCB0aGVybWFsU3RhdGUgPVxuICAgICAgQXBwbGVUaGVybWFsU3RhdGVbc3RhdGUgYXMga2V5b2YgdHlwZW9mIEFwcGxlVGhlcm1hbFN0YXRlXSB8fFxuICAgICAgQXBwbGVUaGVybWFsU3RhdGUuVU5TUEVDSUZJRUQ7XG5cbiAgICBkZXZpY2VTdGF0ZSA9IHtcbiAgICAgIG9uZW9mS2luZDogJ2FwcGxlJyxcbiAgICAgIGFwcGxlOiB7XG4gICAgICAgIHRoZXJtYWxTdGF0ZSxcbiAgICAgICAgaXNMb3dQb3dlck1vZGVFbmFibGVkOlxuICAgICAgICAgIGRldmljZVN0YXRlPy5vbmVvZktpbmQgPT09ICdhcHBsZScgJiZcbiAgICAgICAgICBkZXZpY2VTdGF0ZS5hcHBsZS5pc0xvd1Bvd2VyTW9kZUVuYWJsZWQsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBzZXRQb3dlclN0YXRlID0gKHBvd2VyTW9kZTogYm9vbGVhbikgPT4ge1xuICBpZiAoIW9zSW5mbykge1xuICAgIGRldmljZVN0YXRlID0geyBvbmVvZktpbmQ6IHVuZGVmaW5lZCB9O1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChvc0luZm8ubmFtZSA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgZGV2aWNlU3RhdGUgPSB7XG4gICAgICBvbmVvZktpbmQ6ICdhbmRyb2lkJyxcbiAgICAgIGFuZHJvaWQ6IHtcbiAgICAgICAgdGhlcm1hbFN0YXRlOlxuICAgICAgICAgIGRldmljZVN0YXRlPy5vbmVvZktpbmQgPT09ICdhbmRyb2lkJ1xuICAgICAgICAgICAgPyBkZXZpY2VTdGF0ZS5hbmRyb2lkLnRoZXJtYWxTdGF0ZVxuICAgICAgICAgICAgOiBBbmRyb2lkVGhlcm1hbFN0YXRlLlVOU1BFQ0lGSUVELFxuICAgICAgICBpc1Bvd2VyU2F2ZXJNb2RlOiBwb3dlck1vZGUsXG4gICAgICB9LFxuICAgIH07XG4gIH1cblxuICBpZiAob3NJbmZvLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2lvcycpIHtcbiAgICBkZXZpY2VTdGF0ZSA9IHtcbiAgICAgIG9uZW9mS2luZDogJ2FwcGxlJyxcbiAgICAgIGFwcGxlOiB7XG4gICAgICAgIHRoZXJtYWxTdGF0ZTpcbiAgICAgICAgICBkZXZpY2VTdGF0ZT8ub25lb2ZLaW5kID09PSAnYXBwbGUnXG4gICAgICAgICAgICA/IGRldmljZVN0YXRlLmFwcGxlLnRoZXJtYWxTdGF0ZVxuICAgICAgICAgICAgOiBBcHBsZVRoZXJtYWxTdGF0ZS5VTlNQRUNJRklFRCxcbiAgICAgICAgaXNMb3dQb3dlck1vZGVFbmFibGVkOiBwb3dlck1vZGUsXG4gICAgICB9LFxuICAgIH07XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXREZXZpY2VTdGF0ZSA9ICgpID0+IHtcbiAgcmV0dXJuIGRldmljZVN0YXRlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldENsaWVudERldGFpbHMgPSBhc3luYyAoKTogUHJvbWlzZTxDbGllbnREZXRhaWxzPiA9PiB7XG4gIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAvLyBTaW5jZSBSTiBkb2Vzbid0IHN1cHBvcnQgd2ViLCBzaGFyaW5nIGJyb3dzZXIgaW5mbyBpcyBub3QgcmVxdWlyZWRcbiAgICByZXR1cm4ge1xuICAgICAgc2RrOiBzZGtJbmZvLFxuICAgICAgb3M6IG9zSW5mbyxcbiAgICAgIGRldmljZTogZGV2aWNlSW5mbyxcbiAgICB9O1xuICB9XG5cbiAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIHVzZXJBZ2VudERhdGEgaXMgbm90IHlldCBpbiB0aGUgVFMgdHlwZXNcbiAgY29uc3QgdXNlckFnZW50RGF0YUFwaSA9IG5hdmlnYXRvci51c2VyQWdlbnREYXRhO1xuICBsZXQgdXNlckFnZW50RGF0YTpcbiAgICB8IHsgcGxhdGZvcm0/OiBzdHJpbmc7IHBsYXRmb3JtVmVyc2lvbj86IHN0cmluZyB9XG4gICAgfCB1bmRlZmluZWQ7XG4gIGlmICh1c2VyQWdlbnREYXRhQXBpICYmIHVzZXJBZ2VudERhdGFBcGkuZ2V0SGlnaEVudHJvcHlWYWx1ZXMpIHtcbiAgICB0cnkge1xuICAgICAgdXNlckFnZW50RGF0YSA9IGF3YWl0IHVzZXJBZ2VudERhdGFBcGkuZ2V0SGlnaEVudHJvcHlWYWx1ZXMoW1xuICAgICAgICAncGxhdGZvcm0nLFxuICAgICAgICAncGxhdGZvcm1WZXJzaW9uJyxcbiAgICAgIF0pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gSWdub3JlIHRoZSBlcnJvclxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHVzZXJBZ2VudCA9IG5ldyBVQVBhcnNlcihuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgY29uc3QgeyBicm93c2VyLCBvcywgZGV2aWNlLCBjcHUgfSA9IHVzZXJBZ2VudC5nZXRSZXN1bHQoKTtcbiAgcmV0dXJuIHtcbiAgICBzZGs6IHNka0luZm8sXG4gICAgYnJvd3Nlcjoge1xuICAgICAgbmFtZTogYnJvd3Nlci5uYW1lIHx8IG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICB2ZXJzaW9uOiBicm93c2VyLnZlcnNpb24gfHwgJycsXG4gICAgfSxcbiAgICBvczoge1xuICAgICAgbmFtZTogdXNlckFnZW50RGF0YT8ucGxhdGZvcm0gfHwgb3MubmFtZSB8fCAnJyxcbiAgICAgIHZlcnNpb246IHVzZXJBZ2VudERhdGE/LnBsYXRmb3JtVmVyc2lvbiB8fCBvcy52ZXJzaW9uIHx8ICcnLFxuICAgICAgYXJjaGl0ZWN0dXJlOiBjcHUuYXJjaGl0ZWN0dXJlIHx8ICcnLFxuICAgIH0sXG4gICAgZGV2aWNlOiB7XG4gICAgICBuYW1lOiBbZGV2aWNlLnZlbmRvciwgZGV2aWNlLm1vZGVsLCBkZXZpY2UudHlwZV1cbiAgICAgICAgLmZpbHRlcihCb29sZWFuKVxuICAgICAgICAuam9pbignICcpLFxuICAgICAgdmVyc2lvbjogJycsXG4gICAgfSxcbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBjb21iaW5lTGF0ZXN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBTdHJlYW1TZnVDbGllbnQgfSBmcm9tICcuLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHsgT3duQ2FwYWJpbGl0eSwgU3RhdHNPcHRpb25zIH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBQdWJsaXNoZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgVHJhY2VyLCBUcmFjZVJlY29yZCB9IGZyb20gJy4vcnRjJztcbmltcG9ydCB7IGZsYXR0ZW4sIGdldFNka05hbWUsIGdldFNka1ZlcnNpb24gfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7IGdldERldmljZVN0YXRlLCBnZXRXZWJSVENJbmZvIH0gZnJvbSAnLi4vaGVscGVycy9jbGllbnQtZGV0YWlscyc7XG5pbXBvcnQge1xuICBDbGllbnREZXRhaWxzLFxuICBJbnB1dERldmljZXMsXG4gIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxufSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgQ2FtZXJhTWFuYWdlciwgTWljcm9waG9uZU1hbmFnZXIgfSBmcm9tICcuLi9kZXZpY2VzJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3N0b3JlL3J4VXRpbHMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgVGVsZW1ldHJ5IH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbCc7XG5cbmV4cG9ydCB0eXBlIFNmdVN0YXRzUmVwb3J0ZXJPcHRpb25zID0ge1xuICBvcHRpb25zOiBTdGF0c09wdGlvbnM7XG4gIGNsaWVudERldGFpbHM6IENsaWVudERldGFpbHM7XG4gIHN1YnNjcmliZXI6IFN1YnNjcmliZXI7XG4gIHB1Ymxpc2hlcj86IFB1Ymxpc2hlcjtcbiAgbWljcm9waG9uZTogTWljcm9waG9uZU1hbmFnZXI7XG4gIGNhbWVyYTogQ2FtZXJhTWFuYWdlcjtcbiAgc3RhdGU6IENhbGxTdGF0ZTtcbiAgdHJhY2VyOiBUcmFjZXI7XG4gIHVuaWZpZWRTZXNzaW9uSWQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCBjbGFzcyBTZnVTdGF0c1JlcG9ydGVyIHtcbiAgcHJpdmF0ZSByZWFkb25seSBsb2dnZXIgPSBnZXRMb2dnZXIoWydTZnVTdGF0c1JlcG9ydGVyJ10pO1xuXG4gIHJlYWRvbmx5IG9wdGlvbnM6IFN0YXRzT3B0aW9ucztcblxuICBwcml2YXRlIHJlYWRvbmx5IHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuICBwcml2YXRlIHJlYWRvbmx5IHN1YnNjcmliZXI6IFN1YnNjcmliZXI7XG4gIHByaXZhdGUgcmVhZG9ubHkgcHVibGlzaGVyPzogUHVibGlzaGVyO1xuICBwcml2YXRlIHJlYWRvbmx5IG1pY3JvcGhvbmU6IE1pY3JvcGhvbmVNYW5hZ2VyO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbWVyYTogQ2FtZXJhTWFuYWdlcjtcbiAgcHJpdmF0ZSByZWFkb25seSBzdGF0ZTogQ2FsbFN0YXRlO1xuICBwcml2YXRlIHJlYWRvbmx5IHRyYWNlcjogVHJhY2VyO1xuICBwcml2YXRlIHJlYWRvbmx5IHVuaWZpZWRTZXNzaW9uSWQ6IHN0cmluZztcblxuICBwcml2YXRlIGludGVydmFsSWQ6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgdW5zdWJzY3JpYmVEZXZpY2VQZXJtaXNzaW9uc1N1YnNjcmlwdGlvbj86ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgdW5zdWJzY3JpYmVMaXN0RGV2aWNlc1N1YnNjcmlwdGlvbj86ICgpID0+IHZvaWQ7XG4gIHByaXZhdGUgcmVhZG9ubHkgc2RrTmFtZTogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IHNka1ZlcnNpb246IHN0cmluZztcbiAgcHJpdmF0ZSByZWFkb25seSB3ZWJSVENWZXJzaW9uOiBzdHJpbmc7XG4gIHByaXZhdGUgcmVhZG9ubHkgaW5wdXREZXZpY2VzID0gbmV3IE1hcDwnbWljJyB8ICdjYW1lcmEnLCBJbnB1dERldmljZXM+KCk7XG5cbiAgY29uc3RydWN0b3IoXG4gICAgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQsXG4gICAge1xuICAgICAgb3B0aW9ucyxcbiAgICAgIGNsaWVudERldGFpbHMsXG4gICAgICBzdWJzY3JpYmVyLFxuICAgICAgcHVibGlzaGVyLFxuICAgICAgbWljcm9waG9uZSxcbiAgICAgIGNhbWVyYSxcbiAgICAgIHN0YXRlLFxuICAgICAgdHJhY2VyLFxuICAgICAgdW5pZmllZFNlc3Npb25JZCxcbiAgICB9OiBTZnVTdGF0c1JlcG9ydGVyT3B0aW9ucyxcbiAgKSB7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLnN1YnNjcmliZXIgPSBzdWJzY3JpYmVyO1xuICAgIHRoaXMucHVibGlzaGVyID0gcHVibGlzaGVyO1xuICAgIHRoaXMubWljcm9waG9uZSA9IG1pY3JvcGhvbmU7XG4gICAgdGhpcy5jYW1lcmEgPSBjYW1lcmE7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMudHJhY2VyID0gdHJhY2VyO1xuICAgIHRoaXMudW5pZmllZFNlc3Npb25JZCA9IHVuaWZpZWRTZXNzaW9uSWQ7XG5cbiAgICBjb25zdCB7IHNkaywgYnJvd3NlciB9ID0gY2xpZW50RGV0YWlscztcbiAgICB0aGlzLnNka05hbWUgPSBnZXRTZGtOYW1lKHNkayk7XG4gICAgdGhpcy5zZGtWZXJzaW9uID0gZ2V0U2RrVmVyc2lvbihzZGspO1xuXG4gICAgLy8gdXNlIHRoZSBXZWJSVEMgdmVyc2lvbiBpZiBzZXQgYnkgdGhlIFNESyAoUmVhY3QgTmF0aXZlKSBvdGhlcndpc2UsXG4gICAgLy8gdXNlIHRoZSBicm93c2VyIHZlcnNpb24gYXMgYSBmYWxsYmFja1xuICAgIGNvbnN0IHdlYlJUQ0luZm8gPSBnZXRXZWJSVENJbmZvKCk7XG4gICAgdGhpcy53ZWJSVENWZXJzaW9uID1cbiAgICAgIHdlYlJUQ0luZm8/LnZlcnNpb24gfHxcbiAgICAgIGAke2Jyb3dzZXI/Lm5hbWUgfHwgJyd9LSR7YnJvd3Nlcj8udmVyc2lvbiB8fCAnJ31gIHx8XG4gICAgICAnTi9BJztcbiAgfVxuXG4gIHByaXZhdGUgb2JzZXJ2ZURldmljZSA9IChcbiAgICBkZXZpY2U6IENhbWVyYU1hbmFnZXIgfCBNaWNyb3Bob25lTWFuYWdlcixcbiAgICBraW5kOiAnbWljJyB8ICdjYW1lcmEnLFxuICApID0+IHtcbiAgICBjb25zdCB7IGJyb3dzZXJQZXJtaXNzaW9uU3RhdGUkIH0gPSBkZXZpY2Uuc3RhdGU7XG4gICAgdGhpcy51bnN1YnNjcmliZURldmljZVBlcm1pc3Npb25zU3Vic2NyaXB0aW9uPy4oKTtcbiAgICB0aGlzLnVuc3Vic2NyaWJlRGV2aWNlUGVybWlzc2lvbnNTdWJzY3JpcHRpb24gPSBjcmVhdGVTdWJzY3JpcHRpb24oXG4gICAgICBjb21iaW5lTGF0ZXN0KFticm93c2VyUGVybWlzc2lvblN0YXRlJCwgdGhpcy5zdGF0ZS5vd25DYXBhYmlsaXRpZXMkXSksXG4gICAgICAoW2Jyb3dzZXJQZXJtaXNzaW9uU3RhdGUsIG93bkNhcGFiaWxpdGllc10pID0+IHtcbiAgICAgICAgLy8gY2xlYW51cCB0aGUgcHJldmlvdXMgbGlzdERldmljZXMoKSBzdWJzY3JpcHRpb24gaW4gY2FzZVxuICAgICAgICAvLyBwZXJtaXNzaW9ucyBvciBjYXBhYmlsaXRpZXMgaGF2ZSBjaGFuZ2VkLlxuICAgICAgICAvLyB3ZSB3aWxsIHN1YnNjcmliZSBhZ2FpbiBpZiBldmVyeXRoaW5nIGlzIGluIG9yZGVyLlxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24/LigpO1xuICAgICAgICBjb25zdCBoYXNDYXBhYmlsaXR5ID1cbiAgICAgICAgICBraW5kID09PSAnbWljJ1xuICAgICAgICAgICAgPyBvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKVxuICAgICAgICAgICAgOiBvd25DYXBhYmlsaXRpZXMuaW5jbHVkZXMoT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKTtcbiAgICAgICAgaWYgKGJyb3dzZXJQZXJtaXNzaW9uU3RhdGUgIT09ICdncmFudGVkJyB8fCAhaGFzQ2FwYWJpbGl0eSkge1xuICAgICAgICAgIHRoaXMuaW5wdXREZXZpY2VzLnNldChraW5kLCB7XG4gICAgICAgICAgICBjdXJyZW50RGV2aWNlOiAnJyxcbiAgICAgICAgICAgIGF2YWlsYWJsZURldmljZXM6IFtdLFxuICAgICAgICAgICAgaXNQZXJtaXR0ZWQ6IGZhbHNlLFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24gPSBjcmVhdGVTdWJzY3JpcHRpb24oXG4gICAgICAgICAgY29tYmluZUxhdGVzdChbZGV2aWNlLmxpc3REZXZpY2VzKCksIGRldmljZS5zdGF0ZS5zZWxlY3RlZERldmljZSRdKSxcbiAgICAgICAgICAoW2RldmljZXMsIGRldmljZUlkXSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBkZXZpY2VzLmZpbmQoKGQpID0+IGQuZGV2aWNlSWQgPT09IGRldmljZUlkKTtcbiAgICAgICAgICAgIHRoaXMuaW5wdXREZXZpY2VzLnNldChraW5kLCB7XG4gICAgICAgICAgICAgIGN1cnJlbnREZXZpY2U6IHNlbGVjdGVkPy5sYWJlbCB8fCBkZXZpY2VJZCB8fCAnJyxcbiAgICAgICAgICAgICAgYXZhaWxhYmxlRGV2aWNlczogZGV2aWNlcy5tYXAoKGQpID0+IGQubGFiZWwpLFxuICAgICAgICAgICAgICBpc1Blcm1pdHRlZDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICk7XG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgc2VuZENvbm5lY3Rpb25UaW1lID0gKGNvbm5lY3Rpb25UaW1lU2Vjb25kczogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5zZW5kVGVsZW1ldHJ5RGF0YSh7XG4gICAgICBkYXRhOiB7XG4gICAgICAgIG9uZW9mS2luZDogJ2Nvbm5lY3Rpb25UaW1lU2Vjb25kcycsXG4gICAgICAgIGNvbm5lY3Rpb25UaW1lU2Vjb25kcyxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH07XG5cbiAgc2VuZFJlY29ubmVjdGlvblRpbWUgPSAoXG4gICAgc3RyYXRlZ3k6IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxuICAgIHRpbWVTZWNvbmRzOiBudW1iZXIsXG4gICkgPT4ge1xuICAgIHRoaXMuc2VuZFRlbGVtZXRyeURhdGEoe1xuICAgICAgZGF0YToge1xuICAgICAgICBvbmVvZktpbmQ6ICdyZWNvbm5lY3Rpb24nLFxuICAgICAgICByZWNvbm5lY3Rpb246IHsgc3RyYXRlZ3ksIHRpbWVTZWNvbmRzIH0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gIHByaXZhdGUgc2VuZFRlbGVtZXRyeURhdGEgPSAodGVsZW1ldHJ5RGF0YTogVGVsZW1ldHJ5KSA9PiB7XG4gICAgLy8gaW50ZW50aW9uYWxseSBub3QgYXdhaXRpbmcgdGhlIHByb21pc2UgaGVyZVxuICAgIC8vIHRvIGF2b2lkIGltcGVkaW5nIHdpdGggdGhlIG9uZ29pbmcgYWN0aW9ucy5cbiAgICB0aGlzLnJ1bih0ZWxlbWV0cnlEYXRhKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gc2VuZCB0ZWxlbWV0cnkgZGF0YScsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBydW4gPSBhc3luYyAodGVsZW1ldHJ5PzogVGVsZW1ldHJ5KSA9PiB7XG4gICAgY29uc3QgW3N1YnNjcmliZXJTdGF0cywgcHVibGlzaGVyU3RhdHNdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgdGhpcy5zdWJzY3JpYmVyLnN0YXRzLmdldCgpLFxuICAgICAgdGhpcy5wdWJsaXNoZXI/LnN0YXRzLmdldCgpLFxuICAgIF0pO1xuXG4gICAgdGhpcy5zdWJzY3JpYmVyLnRyYWNlcj8udHJhY2UoJ2dldHN0YXRzJywgc3Vic2NyaWJlclN0YXRzLmRlbHRhKTtcbiAgICBpZiAocHVibGlzaGVyU3RhdHMpIHtcbiAgICAgIHRoaXMucHVibGlzaGVyPy50cmFjZXI/LnRyYWNlKCdnZXRzdGF0cycsIHB1Ymxpc2hlclN0YXRzLmRlbHRhKTtcbiAgICB9XG5cbiAgICBjb25zdCBzdWJzY3JpYmVyVHJhY2UgPSB0aGlzLnN1YnNjcmliZXIudHJhY2VyPy50YWtlKCk7XG4gICAgY29uc3QgcHVibGlzaGVyVHJhY2UgPSB0aGlzLnB1Ymxpc2hlcj8udHJhY2VyPy50YWtlKCk7XG4gICAgY29uc3QgdHJhY2VyID0gdGhpcy50cmFjZXIudGFrZSgpO1xuICAgIGNvbnN0IHNmdVRyYWNlID0gdGhpcy5zZnVDbGllbnQuZ2V0VHJhY2UoKTtcbiAgICBjb25zdCB0cmFjZXM6IFRyYWNlUmVjb3JkW10gPSBbXG4gICAgICAuLi50cmFjZXIuc25hcHNob3QsXG4gICAgICAuLi4oc2Z1VHJhY2U/LnNuYXBzaG90ID8/IFtdKSxcbiAgICAgIC4uLihwdWJsaXNoZXJUcmFjZT8uc25hcHNob3QgPz8gW10pLFxuICAgICAgLi4uKHN1YnNjcmliZXJUcmFjZT8uc25hcHNob3QgPz8gW10pLFxuICAgIF07XG5cbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5zZnVDbGllbnQuc2VuZFN0YXRzKHtcbiAgICAgICAgc2RrOiB0aGlzLnNka05hbWUsXG4gICAgICAgIHNka1ZlcnNpb246IHRoaXMuc2RrVmVyc2lvbixcbiAgICAgICAgd2VicnRjVmVyc2lvbjogdGhpcy53ZWJSVENWZXJzaW9uLFxuICAgICAgICBzdWJzY3JpYmVyU3RhdHM6IEpTT04uc3RyaW5naWZ5KGZsYXR0ZW4oc3Vic2NyaWJlclN0YXRzLnN0YXRzKSksXG4gICAgICAgIHB1Ymxpc2hlclN0YXRzOiBwdWJsaXNoZXJTdGF0c1xuICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkoZmxhdHRlbihwdWJsaXNoZXJTdGF0cy5zdGF0cykpXG4gICAgICAgICAgOiAnW10nLFxuICAgICAgICBzdWJzY3JpYmVyUnRjU3RhdHM6ICcnLFxuICAgICAgICBwdWJsaXNoZXJSdGNTdGF0czogJycsXG4gICAgICAgIHJ0Y1N0YXRzOiBKU09OLnN0cmluZ2lmeSh0cmFjZXMpLFxuICAgICAgICBlbmNvZGVTdGF0czogcHVibGlzaGVyU3RhdHM/LnBlcmZvcm1hbmNlU3RhdHMgPz8gW10sXG4gICAgICAgIGRlY29kZVN0YXRzOiBzdWJzY3JpYmVyU3RhdHMucGVyZm9ybWFuY2VTdGF0cyxcbiAgICAgICAgYXVkaW9EZXZpY2VzOiB0aGlzLmlucHV0RGV2aWNlcy5nZXQoJ21pYycpLFxuICAgICAgICB2aWRlb0RldmljZXM6IHRoaXMuaW5wdXREZXZpY2VzLmdldCgnY2FtZXJhJyksXG4gICAgICAgIHVuaWZpZWRTZXNzaW9uSWQ6IHRoaXMudW5pZmllZFNlc3Npb25JZCxcbiAgICAgICAgZGV2aWNlU3RhdGU6IGdldERldmljZVN0YXRlKCksXG4gICAgICAgIHRlbGVtZXRyeSxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcHVibGlzaGVyVHJhY2U/LnJvbGxiYWNrKCk7XG4gICAgICBzdWJzY3JpYmVyVHJhY2U/LnJvbGxiYWNrKCk7XG4gICAgICB0cmFjZXIucm9sbGJhY2soKTtcbiAgICAgIHNmdVRyYWNlPy5yb2xsYmFjaygpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICBzdGFydCA9ICgpID0+IHtcbiAgICBpZiAodGhpcy5vcHRpb25zLnJlcG9ydGluZ19pbnRlcnZhbF9tcyA8PSAwKSByZXR1cm47XG5cbiAgICB0aGlzLm9ic2VydmVEZXZpY2UodGhpcy5taWNyb3Bob25lLCAnbWljJyk7XG4gICAgdGhpcy5vYnNlcnZlRGV2aWNlKHRoaXMuY2FtZXJhLCAnY2FtZXJhJyk7XG5cbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7XG4gICAgdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgdGhpcy5ydW4oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byByZXBvcnQgc3RhdHMnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfSwgdGhpcy5vcHRpb25zLnJlcG9ydGluZ19pbnRlcnZhbF9tcyk7XG4gIH07XG5cbiAgc3RvcCA9ICgpID0+IHtcbiAgICB0aGlzLnVuc3Vic2NyaWJlRGV2aWNlUGVybWlzc2lvbnNTdWJzY3JpcHRpb24/LigpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVEZXZpY2VQZXJtaXNzaW9uc1N1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24/LigpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVMaXN0RGV2aWNlc1N1YnNjcmlwdGlvbiA9IHVuZGVmaW5lZDtcblxuICAgIHRoaXMuaW5wdXREZXZpY2VzLmNsZWFyKCk7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpO1xuICAgIHRoaXMuaW50ZXJ2YWxJZCA9IHVuZGVmaW5lZDtcbiAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lb3V0SWQpO1xuICAgIHRoaXMudGltZW91dElkID0gdW5kZWZpbmVkO1xuICB9O1xuXG4gIGZsdXNoID0gKCkgPT4ge1xuICAgIHRoaXMucnVuKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIGZsdXNoIHJlcG9ydCBzdGF0cycsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgc2NoZWR1bGVPbmUgPSAodGltZW91dDogbnVtYmVyKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcbiAgICB0aGlzLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5ydW4oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byByZXBvcnQgc3RhdHMnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfSwgdGltZW91dCk7XG4gIH07XG59XG4iLCJpbXBvcnQgdHlwZSB7IFJUQ1N0YXRzRGF0YVR5cGUsIFRyYWNlIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBjb25zdCB0cmFjZVJUQ1BlZXJDb25uZWN0aW9uID0gKHBjOiBSVENQZWVyQ29ubmVjdGlvbiwgdHJhY2U6IFRyYWNlKSA9PiB7XG4gIHBjLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIChlKSA9PiB7XG4gICAgdHJhY2UoJ29uaWNlY2FuZGlkYXRlJywgZS5jYW5kaWRhdGUpO1xuICB9KTtcbiAgcGMuYWRkRXZlbnRMaXN0ZW5lcigndHJhY2snLCAoZSkgPT4ge1xuICAgIGNvbnN0IHN0cmVhbXMgPSBlLnN0cmVhbXMubWFwKChzdHJlYW0pID0+IGBzdHJlYW06JHtzdHJlYW0uaWR9YCk7XG4gICAgdHJhY2UoJ29udHJhY2snLCBgJHtlLnRyYWNrLmtpbmR9OiR7ZS50cmFjay5pZH0gJHtzdHJlYW1zfWApO1xuICB9KTtcbiAgcGMuYWRkRXZlbnRMaXN0ZW5lcignc2lnbmFsaW5nc3RhdGVjaGFuZ2UnLCAoKSA9PiB7XG4gICAgdHJhY2UoJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJywgcGMuc2lnbmFsaW5nU3RhdGUpO1xuICB9KTtcbiAgcGMuYWRkRXZlbnRMaXN0ZW5lcignaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJywgKCkgPT4ge1xuICAgIHRyYWNlKCdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCBwYy5pY2VDb25uZWN0aW9uU3RhdGUpO1xuICB9KTtcbiAgcGMuYWRkRXZlbnRMaXN0ZW5lcignaWNlZ2F0aGVyaW5nc3RhdGVjaGFuZ2UnLCAoKSA9PiB7XG4gICAgdHJhY2UoJ2ljZWdhdGhlcmluZ3N0YXRlY2hhbmdlJywgcGMuaWNlR2F0aGVyaW5nU3RhdGUpO1xuICB9KTtcbiAgcGMuYWRkRXZlbnRMaXN0ZW5lcignY29ubmVjdGlvbnN0YXRlY2hhbmdlJywgKCkgPT4ge1xuICAgIHRyYWNlKCdjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLCBwYy5jb25uZWN0aW9uU3RhdGUpO1xuICB9KTtcbiAgcGMuYWRkRXZlbnRMaXN0ZW5lcignbmVnb3RpYXRpb25uZWVkZWQnLCAoKSA9PiB7XG4gICAgdHJhY2UoJ25lZ290aWF0aW9ubmVlZGVkJywgdW5kZWZpbmVkKTtcbiAgfSk7XG4gIHBjLmFkZEV2ZW50TGlzdGVuZXIoJ2RhdGFjaGFubmVsJywgKHsgY2hhbm5lbCB9KSA9PiB7XG4gICAgdHJhY2UoJ2RhdGFjaGFubmVsJywgW2NoYW5uZWwuaWQsIGNoYW5uZWwubGFiZWxdKTtcbiAgfSk7XG5cbiAgY29uc3Qgb3JpZ0Nsb3NlID0gcGMuY2xvc2U7XG4gIHBjLmNsb3NlID0gZnVuY3Rpb24gdHJhY2VkQ2xvc2UoKSB7XG4gICAgdHJhY2UoJ2Nsb3NlJywgdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gb3JpZ0Nsb3NlLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgZm9yIChjb25zdCBtZXRob2Qgb2YgW1xuICAgICdjcmVhdGVPZmZlcicsXG4gICAgJ2NyZWF0ZUFuc3dlcicsXG4gICAgJ3NldExvY2FsRGVzY3JpcHRpb24nLFxuICAgICdzZXRSZW1vdGVEZXNjcmlwdGlvbicsXG4gICAgJ2FkZEljZUNhbmRpZGF0ZScsXG4gIF0gYXMgY29uc3QpIHtcbiAgICBjb25zdCBvcmlnaW5hbCA9IHBjW21ldGhvZF07XG4gICAgaWYgKCFvcmlnaW5hbCkgY29udGludWU7XG5cbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHdlIGRvbid0IHVzZSBkZXByZWNhdGVkIEFQSXNcbiAgICBwY1ttZXRob2RdID0gYXN5bmMgZnVuY3Rpb24gdHJhY2VkTWV0aG9kKC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0cmFjZShtZXRob2QsIGFyZ3MpO1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIGltcHJvcGVyIHR5cGVzXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG9yaWdpbmFsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB0cmFjZShgJHttZXRob2R9T25TdWNjZXNzYCwgcmVzdWx0IGFzIFJUQ1N0YXRzRGF0YVR5cGUpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRyYWNlKGAke21ldGhvZH1PbkZhaWx1cmVgLCAoZXJyIGFzIEVycm9yKS50b1N0cmluZygpKTtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG4iLCJpbXBvcnQge1xuICBDb2RlYyxcbiAgUGVlclR5cGUsXG4gIFBlcmZvcm1hbmNlU3RhdHMsXG4gIFRyYWNrVHlwZSxcbn0gZnJvbSAnLi4vLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB0eXBlIHsgUlRDQ29kZWNTdGF0cywgUlRDTWVkaWFTb3VyY2VTdGF0cyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB0eXBlIHsgQ29tcHV0ZWRTdGF0cyB9IGZyb20gJy4vdHlwZXMnO1xuXG4vKipcbiAqIFN0YXRzVHJhY2VyIGlzIGEgY2xhc3MgdGhhdCBjb2xsZWN0cyBhbmQgcHJvY2Vzc2VzIFdlYlJUQyBzdGF0cy5cbiAqIEl0IGlzIHVzZWQgdG8gdHJhY2sgdGhlIHBlcmZvcm1hbmNlIG9mIHRoZSBXZWJSVEMgY29ubmVjdGlvblxuICogYW5kIHRvIHByb3ZpZGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIG1lZGlhIHN0cmVhbXMuXG4gKiBJdCBpcyB1c2VkIGJ5IGJvdGggdGhlIFB1Ymxpc2hlciBhbmQgU3Vic2NyaWJlciBjbGFzc2VzLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgU3RhdHNUcmFjZXIge1xuICBwcml2YXRlIHJlYWRvbmx5IHBjOiBSVENQZWVyQ29ubmVjdGlvbjtcbiAgcHJpdmF0ZSByZWFkb25seSBwZWVyVHlwZTogUGVlclR5cGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgdHJhY2tJZFRvVHJhY2tUeXBlOiBNYXA8c3RyaW5nLCBUcmFja1R5cGU+O1xuXG4gIHByaXZhdGUgY29zdE92ZXJyaWRlcz86IE1hcDxUcmFja1R5cGUsIG51bWJlcj47XG5cbiAgcHJpdmF0ZSBwcmV2aW91c1N0YXRzOiBSZWNvcmQ8c3RyaW5nLCBSVENTdGF0cz4gPSB7fTtcbiAgcHJpdmF0ZSBmcmFtZVRpbWVIaXN0b3J5OiBudW1iZXJbXSA9IFtdO1xuICBwcml2YXRlIGZwc0hpc3Rvcnk6IG51bWJlcltdID0gW107XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgU3RhdHNUcmFjZXIgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwYzogUlRDUGVlckNvbm5lY3Rpb24sXG4gICAgcGVlclR5cGU6IFBlZXJUeXBlLFxuICAgIHRyYWNrSWRUb1RyYWNrVHlwZTogTWFwPHN0cmluZywgVHJhY2tUeXBlPixcbiAgKSB7XG4gICAgdGhpcy5wYyA9IHBjO1xuICAgIHRoaXMucGVlclR5cGUgPSBwZWVyVHlwZTtcbiAgICB0aGlzLnRyYWNrSWRUb1RyYWNrVHlwZSA9IHRyYWNrSWRUb1RyYWNrVHlwZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIHN0YXRzIGZyb20gdGhlIFJUQ1BlZXJDb25uZWN0aW9uLlxuICAgKiBXaGVuIGNhbGxlZCwgaXQgd2lsbCByZXR1cm4gdGhlIHN0YXRzIGZvciB0aGUgY3VycmVudCBjb25uZWN0aW9uLlxuICAgKiBJdCB3aWxsIGFsc28gcmV0dXJuIHRoZSBkZWx0YSBiZXR3ZWVuIHRoZSBjdXJyZW50IHN0YXRzIGFuZCB0aGUgcHJldmlvdXMgc3RhdHMuXG4gICAqIFRoaXMgaXMgdXNlZCB0byB0cmFjayB0aGUgcGVyZm9ybWFuY2Ugb2YgdGhlIGNvbm5lY3Rpb24uXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZ2V0ID0gYXN5bmMgKCk6IFByb21pc2U8Q29tcHV0ZWRTdGF0cz4gPT4ge1xuICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5wYy5nZXRTdGF0cygpO1xuICAgIGNvbnN0IGN1cnJlbnRTdGF0cyA9IHRvT2JqZWN0KHN0YXRzKTtcblxuICAgIGNvbnN0IHBlcmZvcm1hbmNlU3RhdHMgPSB0aGlzLndpdGhPdmVycmlkZXMoXG4gICAgICB0aGlzLnBlZXJUeXBlID09PSBQZWVyVHlwZS5TVUJTQ1JJQkVSXG4gICAgICAgID8gdGhpcy5nZXREZWNvZGVTdGF0cyhjdXJyZW50U3RhdHMpXG4gICAgICAgIDogdGhpcy5nZXRFbmNvZGVTdGF0cyhjdXJyZW50U3RhdHMpLFxuICAgICk7XG5cbiAgICBjb25zdCBkZWx0YSA9IGRlbHRhQ29tcHJlc3Npb24odGhpcy5wcmV2aW91c1N0YXRzLCBjdXJyZW50U3RhdHMpO1xuXG4gICAgLy8gc3RvcmUgdGhlIGN1cnJlbnQgZGF0YSBmb3IgdGhlIG5leHQgaXRlcmF0aW9uXG4gICAgdGhpcy5wcmV2aW91c1N0YXRzID0gY3VycmVudFN0YXRzO1xuICAgIHRoaXMuZnJhbWVUaW1lSGlzdG9yeSA9IHRoaXMuZnJhbWVUaW1lSGlzdG9yeS5zbGljZSgtMik7XG4gICAgdGhpcy5mcHNIaXN0b3J5ID0gdGhpcy5mcHNIaXN0b3J5LnNsaWNlKC0yKTtcblxuICAgIHJldHVybiB7IHBlcmZvcm1hbmNlU3RhdHMsIGRlbHRhLCBzdGF0cyB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb2xsZWN0cyBlbmNvZGUgc3RhdHMgZnJvbSB0aGUgUlRDUGVlckNvbm5lY3Rpb24uXG4gICAqL1xuICBwcml2YXRlIGdldEVuY29kZVN0YXRzID0gKFxuICAgIGN1cnJlbnRTdGF0czogUmVjb3JkPHN0cmluZywgUlRDU3RhdHM+LFxuICApOiBQZXJmb3JtYW5jZVN0YXRzW10gPT4ge1xuICAgIGNvbnN0IGVuY29kZVN0YXRzOiBQZXJmb3JtYW5jZVN0YXRzW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJ0cCBvZiBPYmplY3QudmFsdWVzKGN1cnJlbnRTdGF0cykpIHtcbiAgICAgIGlmIChydHAudHlwZSAhPT0gJ291dGJvdW5kLXJ0cCcpIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCB7XG4gICAgICAgIGNvZGVjSWQsXG4gICAgICAgIGZyYW1lc1NlbnQgPSAwLFxuICAgICAgICBraW5kLFxuICAgICAgICBpZCxcbiAgICAgICAgdG90YWxFbmNvZGVUaW1lID0gMCxcbiAgICAgICAgZnJhbWVzUGVyU2Vjb25kID0gMCxcbiAgICAgICAgZnJhbWVIZWlnaHQgPSAwLFxuICAgICAgICBmcmFtZVdpZHRoID0gMCxcbiAgICAgICAgdGFyZ2V0Qml0cmF0ZSA9IDAsXG4gICAgICAgIG1lZGlhU291cmNlSWQsXG4gICAgICB9ID0gcnRwIGFzIFJUQ091dGJvdW5kUnRwU3RyZWFtU3RhdHM7XG5cbiAgICAgIGlmIChraW5kID09PSAnYXVkaW8nIHx8ICF0aGlzLnByZXZpb3VzU3RhdHNbaWRdKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IHByZXZSdHAgPSB0aGlzLnByZXZpb3VzU3RhdHNbaWRdIGFzIFJUQ091dGJvdW5kUnRwU3RyZWFtU3RhdHM7XG5cbiAgICAgIGNvbnN0IGRlbHRhVG90YWxFbmNvZGVUaW1lID1cbiAgICAgICAgdG90YWxFbmNvZGVUaW1lIC0gKHByZXZSdHAudG90YWxFbmNvZGVUaW1lIHx8IDApO1xuICAgICAgY29uc3QgZGVsdGFGcmFtZXNTZW50ID0gZnJhbWVzU2VudCAtIChwcmV2UnRwLmZyYW1lc1NlbnQgfHwgMCk7XG4gICAgICBjb25zdCBmcmFtZXNFbmNvZGVUaW1lID1cbiAgICAgICAgZGVsdGFGcmFtZXNTZW50ID4gMFxuICAgICAgICAgID8gKGRlbHRhVG90YWxFbmNvZGVUaW1lIC8gZGVsdGFGcmFtZXNTZW50KSAqIDEwMDBcbiAgICAgICAgICA6IDA7XG5cbiAgICAgIHRoaXMuZnJhbWVUaW1lSGlzdG9yeS5wdXNoKGZyYW1lc0VuY29kZVRpbWUpO1xuICAgICAgdGhpcy5mcHNIaXN0b3J5LnB1c2goZnJhbWVzUGVyU2Vjb25kKTtcblxuICAgICAgbGV0IHRyYWNrVHlwZSA9IFRyYWNrVHlwZS5WSURFTztcbiAgICAgIGlmIChtZWRpYVNvdXJjZUlkICYmIGN1cnJlbnRTdGF0c1ttZWRpYVNvdXJjZUlkXSkge1xuICAgICAgICBjb25zdCBtZWRpYVNvdXJjZSA9IGN1cnJlbnRTdGF0c1ttZWRpYVNvdXJjZUlkXSBhcyBSVENNZWRpYVNvdXJjZVN0YXRzO1xuICAgICAgICB0cmFja1R5cGUgPVxuICAgICAgICAgIHRoaXMudHJhY2tJZFRvVHJhY2tUeXBlLmdldChtZWRpYVNvdXJjZS50cmFja0lkZW50aWZpZXIpIHx8IHRyYWNrVHlwZTtcbiAgICAgIH1cblxuICAgICAgZW5jb2RlU3RhdHMucHVzaCh7XG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICAgICAgY29kZWM6IGdldENvZGVjRnJvbVN0YXRzKGN1cnJlbnRTdGF0cywgY29kZWNJZCksXG4gICAgICAgIGF2Z0ZyYW1lVGltZU1zOiBhdmVyYWdlKHRoaXMuZnJhbWVUaW1lSGlzdG9yeSksXG4gICAgICAgIGF2Z0ZwczogYXZlcmFnZSh0aGlzLmZwc0hpc3RvcnkpLFxuICAgICAgICB0YXJnZXRCaXRyYXRlOiBNYXRoLnJvdW5kKHRhcmdldEJpdHJhdGUpLFxuICAgICAgICB2aWRlb0RpbWVuc2lvbjogeyB3aWR0aDogZnJhbWVXaWR0aCwgaGVpZ2h0OiBmcmFtZUhlaWdodCB9LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVuY29kZVN0YXRzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb2xsZWN0cyBkZWNvZGUgc3RhdHMgZnJvbSB0aGUgUlRDUGVlckNvbm5lY3Rpb24uXG4gICAqL1xuICBwcml2YXRlIGdldERlY29kZVN0YXRzID0gKFxuICAgIGN1cnJlbnRTdGF0czogUmVjb3JkPHN0cmluZywgUlRDU3RhdHM+LFxuICApOiBQZXJmb3JtYW5jZVN0YXRzW10gPT4ge1xuICAgIGxldCBydHA6IFJUQ0luYm91bmRSdHBTdHJlYW1TdGF0cyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBsZXQgbWF4ID0gMDtcbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgT2JqZWN0LnZhbHVlcyhjdXJyZW50U3RhdHMpKSB7XG4gICAgICBpZiAoaXRlbS50eXBlICE9PSAnaW5ib3VuZC1ydHAnKSBjb250aW51ZTtcbiAgICAgIGNvbnN0IHJ0cEl0ZW0gPSBpdGVtIGFzIFJUQ0luYm91bmRSdHBTdHJlYW1TdGF0cztcbiAgICAgIGNvbnN0IHsga2luZCwgZnJhbWVXaWR0aCA9IDAsIGZyYW1lSGVpZ2h0ID0gMCB9ID0gcnRwSXRlbTtcbiAgICAgIGNvbnN0IGFyZWEgPSBmcmFtZVdpZHRoICogZnJhbWVIZWlnaHQ7XG4gICAgICBpZiAoa2luZCA9PT0gJ3ZpZGVvJyAmJiBhcmVhID4gbWF4KSB7XG4gICAgICAgIHJ0cCA9IHJ0cEl0ZW07XG4gICAgICAgIG1heCA9IGFyZWE7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFydHAgfHwgIXRoaXMucHJldmlvdXNTdGF0c1tydHAuaWRdKSByZXR1cm4gW107XG4gICAgY29uc3QgcHJldlJ0cCA9IHRoaXMucHJldmlvdXNTdGF0c1tydHAuaWRdIGFzIFJUQ0luYm91bmRSdHBTdHJlYW1TdGF0cztcblxuICAgIGNvbnN0IHtcbiAgICAgIGZyYW1lc0RlY29kZWQgPSAwLFxuICAgICAgZnJhbWVzUGVyU2Vjb25kID0gMCxcbiAgICAgIHRvdGFsRGVjb2RlVGltZSA9IDAsXG4gICAgICB0cmFja0lkZW50aWZpZXIsXG4gICAgfSA9IHJ0cDtcbiAgICBjb25zdCBkZWx0YVRvdGFsRGVjb2RlVGltZSA9XG4gICAgICB0b3RhbERlY29kZVRpbWUgLSAocHJldlJ0cC50b3RhbERlY29kZVRpbWUgfHwgMCk7XG4gICAgY29uc3QgZGVsdGFGcmFtZXNEZWNvZGVkID0gZnJhbWVzRGVjb2RlZCAtIChwcmV2UnRwLmZyYW1lc0RlY29kZWQgfHwgMCk7XG5cbiAgICBjb25zdCBmcmFtZXNEZWNvZGVUaW1lID1cbiAgICAgIGRlbHRhRnJhbWVzRGVjb2RlZCA+IDBcbiAgICAgICAgPyAoZGVsdGFUb3RhbERlY29kZVRpbWUgLyBkZWx0YUZyYW1lc0RlY29kZWQpICogMTAwMFxuICAgICAgICA6IDA7XG5cbiAgICB0aGlzLmZyYW1lVGltZUhpc3RvcnkucHVzaChmcmFtZXNEZWNvZGVUaW1lKTtcbiAgICB0aGlzLmZwc0hpc3RvcnkucHVzaChmcmFtZXNQZXJTZWNvbmQpO1xuXG4gICAgY29uc3QgdHJhY2tUeXBlID1cbiAgICAgIHRoaXMudHJhY2tJZFRvVHJhY2tUeXBlLmdldCh0cmFja0lkZW50aWZpZXIpIHx8IFRyYWNrVHlwZS5WSURFTztcblxuICAgIHJldHVybiBbXG4gICAgICBQZXJmb3JtYW5jZVN0YXRzLmNyZWF0ZSh7XG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICAgICAgY29kZWM6IGdldENvZGVjRnJvbVN0YXRzKGN1cnJlbnRTdGF0cywgcnRwLmNvZGVjSWQpLFxuICAgICAgICBhdmdGcmFtZVRpbWVNczogYXZlcmFnZSh0aGlzLmZyYW1lVGltZUhpc3RvcnkpLFxuICAgICAgICBhdmdGcHM6IGF2ZXJhZ2UodGhpcy5mcHNIaXN0b3J5KSxcbiAgICAgICAgdmlkZW9EaW1lbnNpb246IHsgd2lkdGg6IHJ0cC5mcmFtZVdpZHRoLCBoZWlnaHQ6IHJ0cC5mcmFtZUhlaWdodCB9LFxuICAgICAgfSksXG4gICAgXTtcbiAgfTtcblxuICAvKipcbiAgICogQXBwbGllcyBjb3N0IG92ZXJyaWRlcyB0byB0aGUgcGVyZm9ybWFuY2Ugc3RhdHMuXG4gICAqIFRoaXMgaXMgdXNlZCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdCBlbmNvZGUvZGVjb2RlIHRpbWVzIHdpdGggY3VzdG9tIHZhbHVlcy5cbiAgICogVGhpcyBpcyB1c2VmdWwgZm9yIHRlc3RpbmcgYW5kIGRlYnVnZ2luZyBwdXJwb3NlcywgYW5kIGl0IHNob3VsZG4ndCBiZSB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAqL1xuICBwcml2YXRlIHdpdGhPdmVycmlkZXMgPSAoXG4gICAgcGVyZm9ybWFuY2VTdGF0czogUGVyZm9ybWFuY2VTdGF0c1tdLFxuICApOiBQZXJmb3JtYW5jZVN0YXRzW10gPT4ge1xuICAgIGlmICh0aGlzLmNvc3RPdmVycmlkZXMpIHtcbiAgICAgIGZvciAoY29uc3QgcyBvZiBwZXJmb3JtYW5jZVN0YXRzKSB7XG4gICAgICAgIGNvbnN0IG92ZXJyaWRlID0gdGhpcy5jb3N0T3ZlcnJpZGVzLmdldChzLnRyYWNrVHlwZSk7XG4gICAgICAgIGlmIChvdmVycmlkZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgLy8gb3ZlcnJpZGUgdGhlIGF2ZXJhZ2UgZW5jb2RlL2RlY29kZSB0aW1lIHdpdGggdGhlIHByb3ZpZGVkIGNvc3QuXG4gICAgICAgICAgLy8gZm9ybWF0OiBbb3ZlcnJpZGVdLltvcmlnaW5hbC1mcmFtZS10aW1lXVxuICAgICAgICAgIHMuYXZnRnJhbWVUaW1lTXMgPSBvdmVycmlkZSArIChzLmF2Z0ZyYW1lVGltZU1zIHx8IDApIC8gMTAwMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGVyZm9ybWFuY2VTdGF0cztcbiAgfTtcblxuICAvKipcbiAgICogU2V0IHRoZSBlbmNvZGUvZGVjb2RlIGNvc3QgZm9yIGEgc3BlY2lmaWMgdHJhY2sgdHlwZS5cbiAgICogVGhpcyBpcyB1c2VkIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGVuY29kZS9kZWNvZGUgdGltZXMgd2l0aCBjdXN0b20gdmFsdWVzLlxuICAgKiBUaGlzIGlzIHVzZWZ1bCBmb3IgdGVzdGluZyBhbmQgZGVidWdnaW5nIHB1cnBvc2VzLCBhbmQgaXQgc2hvdWxkbid0IGJlIHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBzZXRDb3N0ID0gKGNvc3Q6IG51bWJlciwgdHJhY2tUeXBlID0gVHJhY2tUeXBlLlZJREVPKSA9PiB7XG4gICAgaWYgKCF0aGlzLmNvc3RPdmVycmlkZXMpIHRoaXMuY29zdE92ZXJyaWRlcyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmNvc3RPdmVycmlkZXMuc2V0KHRyYWNrVHlwZSwgY29zdCk7XG4gIH07XG59XG5cbi8qKlxuICogQ29udmVydCB0aGUgc3RhdCByZXBvcnQgdG8gYW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSByZXBvcnQgdGhlIHN0YXQgcmVwb3J0IHRvIGNvbnZlcnQuXG4gKi9cbmNvbnN0IHRvT2JqZWN0ID0gKHJlcG9ydDogUlRDU3RhdHNSZXBvcnQpOiBSZWNvcmQ8c3RyaW5nLCBSVENTdGF0cz4gPT4ge1xuICBjb25zdCBvYmo6IFJlY29yZDxzdHJpbmcsIFJUQ1N0YXRzPiA9IHt9O1xuICByZXBvcnQuZm9yRWFjaCgodiwgaykgPT4ge1xuICAgIG9ialtrXSA9IHY7XG4gIH0pO1xuICByZXR1cm4gb2JqO1xufTtcblxuLyoqXG4gKiBBcHBseSBkZWx0YSBjb21wcmVzc2lvbiB0byB0aGUgc3RhdHMgcmVwb3J0LlxuICogUmVkdWNlcyBzaXplIGJ5IH45MCUuXG4gKiBUbyByZWR1Y2UgZnVydGhlciwgcmVwb3J0IGtleXMgY291bGQgYmUgY29tcHJlc3NlZC5cbiAqL1xuY29uc3QgZGVsdGFDb21wcmVzc2lvbiA9IChcbiAgb2xkU3RhdHM6IFJlY29yZDxhbnksIGFueT4sXG4gIG5ld1N0YXRzOiBSZWNvcmQ8YW55LCBhbnk+LFxuKTogUmVjb3JkPGFueSwgYW55PiA9PiB7XG4gIG5ld1N0YXRzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXdTdGF0cykpO1xuXG4gIGZvciAoY29uc3QgW2lkLCByZXBvcnRdIG9mIE9iamVjdC5lbnRyaWVzKG5ld1N0YXRzKSkge1xuICAgIGRlbGV0ZSByZXBvcnQuaWQ7XG4gICAgaWYgKCFvbGRTdGF0c1tpZF0pIGNvbnRpbnVlO1xuXG4gICAgZm9yIChjb25zdCBbbmFtZSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJlcG9ydCkpIHtcbiAgICAgIGlmICh2YWx1ZSA9PT0gb2xkU3RhdHNbaWRdW25hbWVdKSB7XG4gICAgICAgIGRlbGV0ZSByZXBvcnRbbmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgbGV0IHRpbWVzdGFtcCA9IC1JbmZpbml0eTtcbiAgY29uc3QgdmFsdWVzID0gT2JqZWN0LnZhbHVlcyhuZXdTdGF0cyk7XG4gIGZvciAoY29uc3QgcmVwb3J0IG9mIHZhbHVlcykge1xuICAgIGlmIChyZXBvcnQudGltZXN0YW1wID4gdGltZXN0YW1wKSB7XG4gICAgICB0aW1lc3RhbXAgPSByZXBvcnQudGltZXN0YW1wO1xuICAgIH1cbiAgfVxuICBmb3IgKGNvbnN0IHJlcG9ydCBvZiB2YWx1ZXMpIHtcbiAgICBpZiAocmVwb3J0LnRpbWVzdGFtcCA9PT0gdGltZXN0YW1wKSB7XG4gICAgICByZXBvcnQudGltZXN0YW1wID0gMDtcbiAgICB9XG4gIH1cbiAgbmV3U3RhdHMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICByZXR1cm4gbmV3U3RhdHM7XG59O1xuXG4vKipcbiAqIENhbGN1bGF0ZXMgYW4gYXZlcmFnZSB2YWx1ZS5cbiAqL1xuY29uc3QgYXZlcmFnZSA9IChhcnI6IG51bWJlcltdKSA9PiBhcnIucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCkgLyBhcnIubGVuZ3RoO1xuXG4vKipcbiAqIENyZWF0ZSBhIENvZGVjIG9iamVjdCBmcm9tIHRoZSBjb2RlYyBzdGF0cy5cbiAqXG4gKiBAcGFyYW0gc3RhdHMgdGhlIHN0YXRzIHJlcG9ydC5cbiAqIEBwYXJhbSBjb2RlY0lkIHRoZSBjb2RlYyBJRCB0byBsb29rIGZvci5cbiAqL1xuY29uc3QgZ2V0Q29kZWNGcm9tU3RhdHMgPSAoXG4gIHN0YXRzOiBSZWNvcmQ8c3RyaW5nLCBSVENTdGF0cz4sXG4gIGNvZGVjSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCxcbik6IENvZGVjIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCFjb2RlY0lkIHx8ICFzdGF0c1tjb2RlY0lkXSkgcmV0dXJuO1xuICBjb25zdCBjb2RlY1N0YXRzID0gc3RhdHNbY29kZWNJZF0gYXMgUlRDQ29kZWNTdGF0cztcbiAgcmV0dXJuIENvZGVjLmNyZWF0ZSh7XG4gICAgbmFtZTogY29kZWNTdGF0cy5taW1lVHlwZS5zcGxpdCgnLycpLnBvcCgpLCAvLyB2aWRlby9hdjEgLT4gYXYxXG4gICAgY2xvY2tSYXRlOiBjb2RlY1N0YXRzLmNsb2NrUmF0ZSxcbiAgICBwYXlsb2FkVHlwZTogY29kZWNTdGF0cy5wYXlsb2FkVHlwZSxcbiAgICBmbXRwOiBjb2RlY1N0YXRzLnNkcEZtdHBMaW5lLFxuICB9KTtcbn07XG4iLCJpbXBvcnQgdHlwZSB7IFRyYWNlLCBUcmFjZVJlY29yZCwgVHJhY2VTbGljZSB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgVHJhY2VyIHtcbiAgcHJpdmF0ZSBidWZmZXI6IFRyYWNlUmVjb3JkW10gPSBbXTtcbiAgcHJpdmF0ZSBlbmFibGVkID0gdHJ1ZTtcbiAgcHJpdmF0ZSByZWFkb25seSBpZDogc3RyaW5nIHwgbnVsbDtcblxuICBjb25zdHJ1Y3RvcihpZDogc3RyaW5nIHwgbnVsbCkge1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgfVxuXG4gIHNldEVuYWJsZWQgPSAoZW5hYmxlZDogYm9vbGVhbikgPT4ge1xuICAgIGlmICh0aGlzLmVuYWJsZWQgPT09IGVuYWJsZWQpIHJldHVybjtcbiAgICB0aGlzLmVuYWJsZWQgPSBlbmFibGVkO1xuICAgIHRoaXMuYnVmZmVyID0gW107XG4gIH07XG5cbiAgdHJhY2U6IFRyYWNlID0gKHRhZywgZGF0YSkgPT4ge1xuICAgIGlmICghdGhpcy5lbmFibGVkKSByZXR1cm47XG4gICAgdGhpcy5idWZmZXIucHVzaChbdGFnLCB0aGlzLmlkLCBkYXRhLCBEYXRlLm5vdygpXSk7XG4gIH07XG5cbiAgdGFrZSA9ICgpOiBUcmFjZVNsaWNlID0+IHtcbiAgICBjb25zdCBzbmFwc2hvdCA9IHRoaXMuYnVmZmVyO1xuICAgIHRoaXMuYnVmZmVyID0gW107XG4gICAgcmV0dXJuIHtcbiAgICAgIHNuYXBzaG90LFxuICAgICAgcm9sbGJhY2s6ICgpID0+IHtcbiAgICAgICAgdGhpcy5idWZmZXIudW5zaGlmdCguLi5zbmFwc2hvdCk7XG4gICAgICB9LFxuICAgIH07XG4gIH07XG5cbiAgZGlzcG9zZSA9ICgpID0+IHtcbiAgICB0aGlzLmJ1ZmZlciA9IFtdO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB0eXBlIHtcbiAgQ2FsbEV2ZW50TGlzdGVuZXIsXG4gIExvZ2dlcixcbn0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBDYWxsaW5nU3RhdGUsIENhbGxTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IGNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3N0b3JlL3J4VXRpbHMnO1xuaW1wb3J0IHtcbiAgRXJyb3JDb2RlLFxuICBQZWVyVHlwZSxcbiAgVHJhY2tUeXBlLFxuICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IE5lZ290aWF0aW9uRXJyb3IgfSBmcm9tICcuL05lZ290aWF0aW9uRXJyb3InO1xuaW1wb3J0IHsgU3RyZWFtU2Z1Q2xpZW50IH0gZnJvbSAnLi4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7IEFsbFNmdUV2ZW50cywgRGlzcGF0Y2hlciB9IGZyb20gJy4vRGlzcGF0Y2hlcic7XG5pbXBvcnQgeyB3aXRob3V0Q29uY3VycmVuY3kgfSBmcm9tICcuLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7IFN0YXRzVHJhY2VyLCBUcmFjZXIsIHRyYWNlUlRDUGVlckNvbm5lY3Rpb24gfSBmcm9tICcuLi9zdGF0cyc7XG5cbmV4cG9ydCB0eXBlIE9uUmVjb25uZWN0aW9uTmVlZGVkID0gKFxuICBraW5kOiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbiAgcmVhc29uOiBzdHJpbmcsXG4pID0+IHZvaWQ7XG5cbmV4cG9ydCB0eXBlIEJhc2VQZWVyQ29ubmVjdGlvbk9wdHMgPSB7XG4gIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuICBzdGF0ZTogQ2FsbFN0YXRlO1xuICBjb25uZWN0aW9uQ29uZmlnPzogUlRDQ29uZmlndXJhdGlvbjtcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgb25SZWNvbm5lY3Rpb25OZWVkZWQ/OiBPblJlY29ubmVjdGlvbk5lZWRlZDtcbiAgbG9nVGFnOiBzdHJpbmc7XG4gIGVuYWJsZVRyYWNpbmc6IGJvb2xlYW47XG4gIGljZVJlc3RhcnREZWxheT86IG51bWJlcjtcbn07XG5cbi8qKlxuICogQSBiYXNlIGNsYXNzIGZvciB0aGUgYFB1Ymxpc2hlcmAgYW5kIGBTdWJzY3JpYmVyYCBjbGFzc2VzLlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBCYXNlUGVlckNvbm5lY3Rpb24ge1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgbG9nZ2VyOiBMb2dnZXI7XG4gIHByb3RlY3RlZCByZWFkb25seSBwZWVyVHlwZTogUGVlclR5cGU7XG4gIHByb3RlY3RlZCByZWFkb25seSBwYzogUlRDUGVlckNvbm5lY3Rpb247XG4gIHByb3RlY3RlZCByZWFkb25seSBzdGF0ZTogQ2FsbFN0YXRlO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcjtcbiAgcHJvdGVjdGVkIHNmdUNsaWVudDogU3RyZWFtU2Z1Q2xpZW50O1xuXG4gIHByaXZhdGUgb25SZWNvbm5lY3Rpb25OZWVkZWQ/OiBPblJlY29ubmVjdGlvbk5lZWRlZDtcbiAgcHJpdmF0ZSByZWFkb25seSBpY2VSZXN0YXJ0RGVsYXk6IG51bWJlcjtcbiAgcHJpdmF0ZSBpY2VSZXN0YXJ0VGltZW91dD86IE5vZGVKUy5UaW1lb3V0O1xuICBwcm90ZWN0ZWQgaXNJY2VSZXN0YXJ0aW5nID0gZmFsc2U7XG4gIHByaXZhdGUgaXNEaXNwb3NlZCA9IGZhbHNlO1xuXG4gIHByb3RlY3RlZCB0cmFja0lkVG9UcmFja1R5cGUgPSBuZXcgTWFwPHN0cmluZywgVHJhY2tUeXBlPigpO1xuXG4gIHJlYWRvbmx5IHRyYWNlcj86IFRyYWNlcjtcbiAgcmVhZG9ubHkgc3RhdHM6IFN0YXRzVHJhY2VyO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgc3Vic2NyaXB0aW9uczogKCgpID0+IHZvaWQpW10gPSBbXTtcbiAgcHJpdmF0ZSB1bnN1YnNjcmliZUljZVRyaWNrbGU/OiAoKSA9PiB2b2lkO1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgbG9jayA9IE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnNsaWNlKDIpO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBCYXNlUGVlckNvbm5lY3Rpb25gIGluc3RhbmNlLlxuICAgKi9cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKFxuICAgIHBlZXJUeXBlOiBQZWVyVHlwZSxcbiAgICB7XG4gICAgICBzZnVDbGllbnQsXG4gICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgc3RhdGUsXG4gICAgICBkaXNwYXRjaGVyLFxuICAgICAgb25SZWNvbm5lY3Rpb25OZWVkZWQsXG4gICAgICBsb2dUYWcsXG4gICAgICBlbmFibGVUcmFjaW5nLFxuICAgICAgaWNlUmVzdGFydERlbGF5ID0gMjUwMCxcbiAgICB9OiBCYXNlUGVlckNvbm5lY3Rpb25PcHRzLFxuICApIHtcbiAgICB0aGlzLnBlZXJUeXBlID0gcGVlclR5cGU7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMuZGlzcGF0Y2hlciA9IGRpc3BhdGNoZXI7XG4gICAgdGhpcy5pY2VSZXN0YXJ0RGVsYXkgPSBpY2VSZXN0YXJ0RGVsYXk7XG4gICAgdGhpcy5vblJlY29ubmVjdGlvbk5lZWRlZCA9IG9uUmVjb25uZWN0aW9uTmVlZGVkO1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFtcbiAgICAgIHBlZXJUeXBlID09PSBQZWVyVHlwZS5TVUJTQ1JJQkVSID8gJ1N1YnNjcmliZXInIDogJ1B1Ymxpc2hlcicsXG4gICAgICBsb2dUYWcsXG4gICAgXSk7XG4gICAgdGhpcy5wYyA9IHRoaXMuY3JlYXRlUGVlckNvbm5lY3Rpb24oY29ubmVjdGlvbkNvbmZpZyk7XG4gICAgdGhpcy5zdGF0cyA9IG5ldyBTdGF0c1RyYWNlcih0aGlzLnBjLCBwZWVyVHlwZSwgdGhpcy50cmFja0lkVG9UcmFja1R5cGUpO1xuICAgIGlmIChlbmFibGVUcmFjaW5nKSB7XG4gICAgICBjb25zdCB0YWcgPSBgJHtsb2dUYWd9LSR7cGVlclR5cGUgPT09IFBlZXJUeXBlLlNVQlNDUklCRVIgPyAnc3ViJyA6ICdwdWInfWA7XG4gICAgICB0aGlzLnRyYWNlciA9IG5ldyBUcmFjZXIodGFnKTtcbiAgICAgIHRoaXMudHJhY2VyLnRyYWNlKCdjcmVhdGUnLCB7XG4gICAgICAgIHVybDogc2Z1Q2xpZW50LmVkZ2VOYW1lLFxuICAgICAgICAuLi5jb25uZWN0aW9uQ29uZmlnLFxuICAgICAgfSk7XG4gICAgICB0cmFjZVJUQ1BlZXJDb25uZWN0aW9uKHRoaXMucGMsIHRoaXMudHJhY2VyLnRyYWNlKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZVBlZXJDb25uZWN0aW9uID0gKGNvbm5lY3Rpb25Db25maWc/OiBSVENDb25maWd1cmF0aW9uKSA9PiB7XG4gICAgY29uc3QgcGMgPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oY29ubmVjdGlvbkNvbmZpZyk7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlJywgdGhpcy5vbkljZUNhbmRpZGF0ZSk7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlZXJyb3InLCB0aGlzLm9uSWNlQ2FuZGlkYXRlRXJyb3IpO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAnaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlJyxcbiAgICAgIHRoaXMub25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UsXG4gICAgKTtcbiAgICBwYy5hZGRFdmVudExpc3RlbmVyKCdpY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZScsIHRoaXMub25JY2VHYXRoZXJDaGFuZ2UpO1xuICAgIHBjLmFkZEV2ZW50TGlzdGVuZXIoJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJywgdGhpcy5vblNpZ25hbGluZ0NoYW5nZSk7XG4gICAgcGMuYWRkRXZlbnRMaXN0ZW5lcignY29ubmVjdGlvbnN0YXRlY2hhbmdlJywgdGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSk7XG4gICAgcmV0dXJuIHBjO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNwb3NlcyB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYCBpbnN0YW5jZS5cbiAgICovXG4gIGRpc3Bvc2UoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuaWNlUmVzdGFydFRpbWVvdXQpO1xuICAgIHRoaXMuaWNlUmVzdGFydFRpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5vblJlY29ubmVjdGlvbk5lZWRlZCA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmlzRGlzcG9zZWQgPSB0cnVlO1xuICAgIHRoaXMuZGV0YWNoRXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMucGMuY2xvc2UoKTtcbiAgICB0aGlzLnRyYWNlcj8uZGlzcG9zZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERldGFjaGVzIHRoZSBldmVudCBoYW5kbGVycyBmcm9tIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gLlxuICAgKi9cbiAgZGV0YWNoRXZlbnRIYW5kbGVycygpIHtcbiAgICBjb25zdCBwYyA9IHRoaXMucGM7XG4gICAgcGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlJywgdGhpcy5vbkljZUNhbmRpZGF0ZSk7XG4gICAgcGMucmVtb3ZlRXZlbnRMaXN0ZW5lcignaWNlY2FuZGlkYXRlZXJyb3InLCB0aGlzLm9uSWNlQ2FuZGlkYXRlRXJyb3IpO1xuICAgIHBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NpZ25hbGluZ3N0YXRlY2hhbmdlJywgdGhpcy5vblNpZ25hbGluZ0NoYW5nZSk7XG4gICAgcGMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICdpY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UnLFxuICAgICAgdGhpcy5vbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxcbiAgICApO1xuICAgIHBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ljZWdhdGhlcmluZ3N0YXRlY2hhbmdlJywgdGhpcy5vbkljZUdhdGhlckNoYW5nZSk7XG4gICAgdGhpcy51bnN1YnNjcmliZUljZVRyaWNrbGU/LigpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKCh1bnN1YnNjcmliZSkgPT4gdW5zdWJzY3JpYmUoKSk7XG4gIH1cblxuICAvKipcbiAgICogUGVyZm9ybXMgYW4gSUNFIHJlc3RhcnQgb24gdGhlIGBSVENQZWVyQ29ubmVjdGlvbmAuXG4gICAqL1xuICBwcm90ZWN0ZWQgYWJzdHJhY3QgcmVzdGFydEljZSgpOiBQcm9taXNlPHZvaWQ+O1xuXG4gIC8qKlxuICAgKiBBdHRlbXB0cyB0byByZXN0YXJ0IElDRSBvbiB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYC5cbiAgICogVGhpcyBtZXRob2QgaW50ZW50aW9uYWxseSBkb2Vzbid0IGF3YWl0IHRoZSBgcmVzdGFydEljZSgpYCBtZXRob2QsXG4gICAqIGFsbG93aW5nIGl0IHRvIHJ1biBpbiB0aGUgYmFja2dyb3VuZCBhbmQgaGFuZGxlIGFueSBlcnJvcnMgdGhhdCBtYXkgb2NjdXIuXG4gICAqL1xuICBwcm90ZWN0ZWQgdHJ5UmVzdGFydEljZSA9ICgpID0+IHtcbiAgICB0aGlzLnJlc3RhcnRJY2UoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgY29uc3QgcmVhc29uID0gJ3Jlc3RhcnRJQ0UoKSBmYWlsZWQsIGluaXRpYXRpbmcgcmVjb25uZWN0JztcbiAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIHJlYXNvbiwgZSk7XG4gICAgICBjb25zdCBzdHJhdGVneSA9XG4gICAgICAgIGUgaW5zdGFuY2VvZiBOZWdvdGlhdGlvbkVycm9yICYmXG4gICAgICAgIGUuZXJyb3IuY29kZSA9PT0gRXJyb3JDb2RlLlBBUlRJQ0lQQU5UX1NJR05BTF9MT1NUXG4gICAgICAgICAgPyBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5GQVNUXG4gICAgICAgICAgOiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU47XG4gICAgICB0aGlzLm9uUmVjb25uZWN0aW9uTmVlZGVkPy4oc3RyYXRlZ3ksIHJlYXNvbik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgZXZlbnRzIHN5bmNocm9ub3VzbHkuXG4gICAqIENvbnNlY3V0aXZlIGV2ZW50cyBhcmUgcXVldWVkIGFuZCBleGVjdXRlZCBvbmUgYWZ0ZXIgdGhlIG90aGVyLlxuICAgKi9cbiAgcHJvdGVjdGVkIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxTZnVFdmVudHM+KFxuICAgIGV2ZW50OiBFLFxuICAgIGZuOiBDYWxsRXZlbnRMaXN0ZW5lcjxFPixcbiAgKTogdm9pZCA9PiB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICB0aGlzLmRpc3BhdGNoZXIub24oZXZlbnQsIChlKSA9PiB7XG4gICAgICAgIGNvbnN0IGxvY2tLZXkgPSBgcGMuJHt0aGlzLmxvY2t9LiR7ZXZlbnR9YDtcbiAgICAgICAgd2l0aG91dENvbmN1cnJlbmN5KGxvY2tLZXksIGFzeW5jICgpID0+IGZuKGUpKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuaXNEaXNwb3NlZCkgcmV0dXJuO1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEVycm9yIGhhbmRsaW5nICR7ZXZlbnR9YCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBcHBlbmRzIHRoZSB0cmlja2xlZCBJQ0UgY2FuZGlkYXRlcyB0byB0aGUgYFJUQ1BlZXJDb25uZWN0aW9uYC5cbiAgICovXG4gIHByb3RlY3RlZCBhZGRUcmlja2xlZEljZUNhbmRpZGF0ZXMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBpY2VUcmlja2xlQnVmZmVyIH0gPSB0aGlzLnNmdUNsaWVudDtcbiAgICBjb25zdCBvYnNlcnZhYmxlID1cbiAgICAgIHRoaXMucGVlclR5cGUgPT09IFBlZXJUeXBlLlNVQlNDUklCRVJcbiAgICAgICAgPyBpY2VUcmlja2xlQnVmZmVyLnN1YnNjcmliZXJDYW5kaWRhdGVzXG4gICAgICAgIDogaWNlVHJpY2tsZUJ1ZmZlci5wdWJsaXNoZXJDYW5kaWRhdGVzO1xuXG4gICAgdGhpcy51bnN1YnNjcmliZUljZVRyaWNrbGU/LigpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVJY2VUcmlja2xlID0gY3JlYXRlU2FmZUFzeW5jU3Vic2NyaXB0aW9uKFxuICAgICAgb2JzZXJ2YWJsZSxcbiAgICAgIGFzeW5jIChjYW5kaWRhdGUpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGMuYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5pc0Rpc3Bvc2VkKSByZXR1cm47XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFIGNhbmRpZGF0ZSBlcnJvcmAsIGUsIGNhbmRpZGF0ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBTRlUgY2xpZW50IHRvIHVzZS5cbiAgICpcbiAgICogQHBhcmFtIHNmdUNsaWVudCB0aGUgU0ZVIGNsaWVudCB0byB1c2UuXG4gICAqL1xuICBzZXRTZnVDbGllbnQgPSAoc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQpID0+IHtcbiAgICB0aGlzLnNmdUNsaWVudCA9IHNmdUNsaWVudDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcmVzdWx0IG9mIHRoZSBgUlRDUGVlckNvbm5lY3Rpb24uZ2V0U3RhdHMoKWAgbWV0aG9kXG4gICAqIEBwYXJhbSBzZWxlY3RvciBhbiBvcHRpb25hbCBgTWVkaWFTdHJlYW1UcmFja2AgdG8gZ2V0IHRoZSBzdGF0cyBmb3IuXG4gICAqL1xuICBnZXRTdGF0cyA9IChzZWxlY3Rvcj86IE1lZGlhU3RyZWFtVHJhY2sgfCBudWxsKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMucGMuZ2V0U3RhdHMoc2VsZWN0b3IpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNYXBzIHRoZSBnaXZlbiB0cmFjayBJRCB0byB0aGUgY29ycmVzcG9uZGluZyB0cmFjayB0eXBlLlxuICAgKi9cbiAgZ2V0VHJhY2tUeXBlID0gKHRyYWNrSWQ6IHN0cmluZyk6IFRyYWNrVHlwZSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgcmV0dXJuIHRoaXMudHJhY2tJZFRvVHJhY2tUeXBlLmdldCh0cmFja0lkKTtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gIGlzIGhlYWx0aHkuXG4gICAqIEl0IGNoZWNrcyB0aGUgSUNFIGNvbm5lY3Rpb24gc3RhdGUgYW5kIHRoZSBwZWVyIGNvbm5lY3Rpb24gc3RhdGUuXG4gICAqIElmIGVpdGhlciBzdGF0ZSBpcyBgZmFpbGVkYCwgYGRpc2Nvbm5lY3RlZGAsIG9yIGBjbG9zZWRgLFxuICAgKiBpdCByZXR1cm5zIGBmYWxzZWAsIG90aGVyd2lzZSBpdCByZXR1cm5zIGB0cnVlYC5cbiAgICovXG4gIGlzSGVhbHRoeSA9ICgpID0+IHtcbiAgICBjb25zdCBmYWlsZWRTdGF0ZXMgPSBuZXcgU2V0PFxuICAgICAgUlRDSWNlQ29ubmVjdGlvblN0YXRlIHwgUlRDUGVlckNvbm5lY3Rpb25TdGF0ZVxuICAgID4oWydmYWlsZWQnLCAnY2xvc2VkJ10pO1xuXG4gICAgY29uc3QgaWNlU3RhdGUgPSB0aGlzLnBjLmljZUNvbm5lY3Rpb25TdGF0ZTtcbiAgICBjb25zdCBjb25uZWN0aW9uU3RhdGUgPSB0aGlzLnBjLmNvbm5lY3Rpb25TdGF0ZTtcbiAgICByZXR1cm4gIWZhaWxlZFN0YXRlcy5oYXMoaWNlU3RhdGUpICYmICFmYWlsZWRTdGF0ZXMuaGFzKGNvbm5lY3Rpb25TdGF0ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIElDRUNhbmRpZGF0ZSBldmVudCBhbmRcbiAgICogSW5pdGlhdGVzIGFuIElDRSBUcmlja2xlIHByb2Nlc3Mgd2l0aCB0aGUgU0ZVLlxuICAgKi9cbiAgcHJpdmF0ZSBvbkljZUNhbmRpZGF0ZSA9IChlOiBSVENQZWVyQ29ubmVjdGlvbkljZUV2ZW50KSA9PiB7XG4gICAgY29uc3QgeyBjYW5kaWRhdGUgfSA9IGU7XG4gICAgaWYgKCFjYW5kaWRhdGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdudWxsIGljZSBjYW5kaWRhdGUnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBpY2VDYW5kaWRhdGUgPSB0aGlzLmFzSlNPTihjYW5kaWRhdGUpO1xuICAgIHRoaXMuc2Z1Q2xpZW50XG4gICAgICAuaWNlVHJpY2tsZSh7IHBlZXJUeXBlOiB0aGlzLnBlZXJUeXBlLCBpY2VDYW5kaWRhdGUgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmlzRGlzcG9zZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgSUNFVHJpY2tsZSBmYWlsZWRgLCBlcnIpO1xuICAgICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIHRoZSBJQ0UgY2FuZGlkYXRlIHRvIGEgSlNPTiBzdHJpbmcuXG4gICAqL1xuICBwcml2YXRlIGFzSlNPTiA9IChjYW5kaWRhdGU6IFJUQ0ljZUNhbmRpZGF0ZSk6IHN0cmluZyA9PiB7XG4gICAgaWYgKCFjYW5kaWRhdGUudXNlcm5hbWVGcmFnbWVudCkge1xuICAgICAgLy8gcmVhY3QtbmF0aXZlLXdlYnJ0YyBkb2Vzbid0IGluY2x1ZGUgdXNlcm5hbWVGcmFnbWVudCBpbiB0aGUgY2FuZGlkYXRlXG4gICAgICBjb25zdCBzZWdtZW50cyA9IGNhbmRpZGF0ZS5jYW5kaWRhdGUuc3BsaXQoJyAnKTtcbiAgICAgIGNvbnN0IHVmcmFnSW5kZXggPSBzZWdtZW50cy5maW5kSW5kZXgoKHMpID0+IHMgPT09ICd1ZnJhZycpICsgMTtcbiAgICAgIGNvbnN0IHVzZXJuYW1lRnJhZ21lbnQgPSBzZWdtZW50c1t1ZnJhZ0luZGV4XTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7IC4uLmNhbmRpZGF0ZSwgdXNlcm5hbWVGcmFnbWVudCB9KTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGNhbmRpZGF0ZS50b0pTT04oKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIENvbm5lY3Rpb25TdGF0ZUNoYW5nZSBldmVudC5cbiAgICovXG4gIHByaXZhdGUgb25Db25uZWN0aW9uU3RhdGVDaGFuZ2UgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB0aGlzLnBjLmNvbm5lY3Rpb25TdGF0ZTtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCBgQ29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2VkYCwgc3RhdGUpO1xuICAgIGlmICh0aGlzLnRyYWNlciAmJiAoc3RhdGUgPT09ICdjb25uZWN0ZWQnIHx8IHN0YXRlID09PSAnZmFpbGVkJykpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgdGhpcy5zdGF0cy5nZXQoKTtcbiAgICAgICAgdGhpcy50cmFjZXIudHJhY2UoJ2dldHN0YXRzJywgc3RhdHMuZGVsdGEpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHRoaXMudHJhY2VyLnRyYWNlKCdnZXRzdGF0c09uRmFpbHVyZScsIChlcnIgYXMgRXJyb3IpLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHdlIGNhbid0IHJlY292ZXIgZnJvbSBhIGZhaWxlZCBjb25uZWN0aW9uIHN0YXRlIChjb250cmFyeSB0byBJQ0UpXG4gICAgaWYgKHN0YXRlID09PSAnZmFpbGVkJykge1xuICAgICAgdGhpcy5vblJlY29ubmVjdGlvbk5lZWRlZD8uKFxuICAgICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU4sXG4gICAgICAgICdDb25uZWN0aW9uIGZhaWxlZCcsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuaGFuZGxlQ29ubmVjdGlvblN0YXRlVXBkYXRlKHN0YXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgSUNFIGNvbm5lY3Rpb24gc3RhdGUgY2hhbmdlIGV2ZW50LlxuICAgKi9cbiAgcHJpdmF0ZSBvbkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSA9ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHRoaXMucGMuaWNlQ29ubmVjdGlvblN0YXRlO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBJQ0UgY29ubmVjdGlvbiBzdGF0ZSBjaGFuZ2VkYCwgc3RhdGUpO1xuICAgIHRoaXMuaGFuZGxlQ29ubmVjdGlvblN0YXRlVXBkYXRlKHN0YXRlKTtcbiAgfTtcblxuICBwcml2YXRlIGhhbmRsZUNvbm5lY3Rpb25TdGF0ZVVwZGF0ZSA9IChcbiAgICBzdGF0ZTogUlRDSWNlQ29ubmVjdGlvblN0YXRlIHwgUlRDUGVlckNvbm5lY3Rpb25TdGF0ZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgeyBjYWxsaW5nU3RhdGUgfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLk9GRkxJTkUpIHJldHVybjtcbiAgICBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HKSByZXR1cm47XG5cbiAgICAvLyBkbyBub3RoaW5nIHdoZW4gSUNFIGlzIHJlc3RhcnRpbmdcbiAgICBpZiAodGhpcy5pc0ljZVJlc3RhcnRpbmcpIHJldHVybjtcblxuICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICAgIC8vIGluIHRoZSBgZmFpbGVkYCBzdGF0ZSwgd2UgdHJ5IHRvIHJlc3RhcnQgSUNFIGltbWVkaWF0ZWx5XG4gICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ3Jlc3RhcnRJQ0UgZHVlIHRvIGZhaWxlZCBjb25uZWN0aW9uJyk7XG4gICAgICAgIHRoaXMudHJ5UmVzdGFydEljZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnZGlzY29ubmVjdGVkJzpcbiAgICAgICAgLy8gaW4gdGhlIGBkaXNjb25uZWN0ZWRgIHN0YXRlLCB3ZSBzY2hlZHVsZSBhIHJlc3RhcnRJQ0UoKSBhZnRlciBhIGRlbGF5XG4gICAgICAgIC8vIGFzIHRoZSBicm93c2VyIG1pZ2h0IHJlY292ZXIgdGhlIGNvbm5lY3Rpb24gaW4gdGhlIG1lYW50aW1lXG4gICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ2Rpc2Nvbm5lY3RlZCBjb25uZWN0aW9uLCBzY2hlZHVsaW5nIHJlc3RhcnRJQ0UnKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWNlUmVzdGFydFRpbWVvdXQpO1xuICAgICAgICB0aGlzLmljZVJlc3RhcnRUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3VycmVudFN0YXRlID0gdGhpcy5wYy5pY2VDb25uZWN0aW9uU3RhdGU7XG4gICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcgfHwgY3VycmVudFN0YXRlID09PSAnZmFpbGVkJykge1xuICAgICAgICAgICAgdGhpcy50cnlSZXN0YXJ0SWNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzLmljZVJlc3RhcnREZWxheSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdjb25uZWN0ZWQnOlxuICAgICAgICAvLyBpbiB0aGUgYGNvbm5lY3RlZGAgc3RhdGUsIHdlIGNsZWFyIHRoZSBpY2UgcmVzdGFydCB0aW1lb3V0IGlmIGl0IGV4aXN0c1xuICAgICAgICBpZiAodGhpcy5pY2VSZXN0YXJ0VGltZW91dCkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgJ2Nvbm5lY3RlZCBjb25uZWN0aW9uLCBjYW5jZWxpbmcgcmVzdGFydElDRScpO1xuICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmljZVJlc3RhcnRUaW1lb3V0KTtcbiAgICAgICAgICB0aGlzLmljZVJlc3RhcnRUaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgSUNFIGNhbmRpZGF0ZSBlcnJvciBldmVudC5cbiAgICovXG4gIHByaXZhdGUgb25JY2VDYW5kaWRhdGVFcnJvciA9IChlOiBFdmVudCkgPT4ge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9XG4gICAgICBlIGluc3RhbmNlb2YgUlRDUGVlckNvbm5lY3Rpb25JY2VFcnJvckV2ZW50XG4gICAgICAgID8gYCR7ZS5lcnJvckNvZGV9OiAke2UuZXJyb3JUZXh0fWBcbiAgICAgICAgOiBlO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdJQ0UgQ2FuZGlkYXRlIGVycm9yJywgZXJyb3JNZXNzYWdlKTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyB0aGUgSUNFIGdhdGhlcmluZyBzdGF0ZSBjaGFuZ2UgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIG9uSWNlR2F0aGVyQ2hhbmdlID0gKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBJQ0UgR2F0aGVyaW5nIFN0YXRlYCwgdGhpcy5wYy5pY2VHYXRoZXJpbmdTdGF0ZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHNpZ25hbGluZyBzdGF0ZSBjaGFuZ2UgZXZlbnQuXG4gICAqL1xuICBwcml2YXRlIG9uU2lnbmFsaW5nQ2hhbmdlID0gKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBTaWduYWxpbmcgc3RhdGUgY2hhbmdlZGAsIHRoaXMucGMuc2lnbmFsaW5nU3RhdGUpO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgUHVibGlzaE9wdGlvbiB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBPcHRpbWFsVmlkZW9MYXllciB9IGZyb20gJy4vdmlkZW9MYXllcnMnO1xuXG50eXBlIFRyYW5zY2VpdmVySWQgPSB7XG4gIHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb247XG4gIHRyYW5zY2VpdmVyOiBSVENSdHBUcmFuc2NlaXZlcjtcbn07XG50eXBlIFRyYWNrTGF5ZXJzQ2FjaGUgPSB7XG4gIHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb247XG4gIGxheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXTtcbn07XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2NlaXZlckNhY2hlIHtcbiAgcHJpdmF0ZSByZWFkb25seSBjYWNoZTogVHJhbnNjZWl2ZXJJZFtdID0gW107XG4gIHByaXZhdGUgcmVhZG9ubHkgbGF5ZXJzOiBUcmFja0xheWVyc0NhY2hlW10gPSBbXTtcblxuICAvKipcbiAgICogQW4gYXJyYXkgbWFpbnRhaW5pbmcgdGhlIG9yZGVyIGhvdyB0cmFuc2NlaXZlcnMgd2VyZSBhZGRlZCB0byB0aGUgcGVlciBjb25uZWN0aW9uLlxuICAgKiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHNvbWUgYnJvd3NlcnMgKEZpcmVmb3gpIGRvbid0IHJlbGlhYmx5IHJlcG9ydFxuICAgKiB0cmFja0lkIGFuZCBgbWlkYCBwYXJhbWV0ZXJzLlxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSB0cmFuc2NlaXZlck9yZGVyOiBSVENSdHBUcmFuc2NlaXZlcltdID0gW107XG5cbiAgLyoqXG4gICAqIEFkZHMgYSB0cmFuc2NlaXZlciB0byB0aGUgY2FjaGUuXG4gICAqL1xuICBhZGQgPSAocHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbiwgdHJhbnNjZWl2ZXI6IFJUQ1J0cFRyYW5zY2VpdmVyKSA9PiB7XG4gICAgdGhpcy5jYWNoZS5wdXNoKHsgcHVibGlzaE9wdGlvbiwgdHJhbnNjZWl2ZXIgfSk7XG4gICAgdGhpcy50cmFuc2NlaXZlck9yZGVyLnB1c2godHJhbnNjZWl2ZXIpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0cmFuc2NlaXZlciBmb3IgdGhlIGdpdmVuIHB1Ymxpc2ggb3B0aW9uLlxuICAgKi9cbiAgZ2V0ID0gKHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb24pOiBSVENSdHBUcmFuc2NlaXZlciB8IHVuZGVmaW5lZCA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZmluZFRyYW5zY2VpdmVyKHB1Ymxpc2hPcHRpb24pPy50cmFuc2NlaXZlcjtcbiAgfTtcblxuICAvKipcbiAgICogQ2hlY2tzIGlmIHRoZSBjYWNoZSBoYXMgdGhlIGdpdmVuIHB1Ymxpc2ggb3B0aW9uLlxuICAgKi9cbiAgaGFzID0gKHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb24pOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gISF0aGlzLmdldChwdWJsaXNoT3B0aW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogRmluZHMgdGhlIGZpcnN0IHRyYW5zY2VpdmVyIHRoYXQgc2F0aXNmaWVzIHRoZSBnaXZlbiBwcmVkaWNhdGUuXG4gICAqL1xuICBmaW5kID0gKFxuICAgIHByZWRpY2F0ZTogKGl0ZW06IFRyYW5zY2VpdmVySWQpID0+IGJvb2xlYW4sXG4gICk6IFRyYW5zY2VpdmVySWQgfCB1bmRlZmluZWQgPT4ge1xuICAgIHJldHVybiB0aGlzLmNhY2hlLmZpbmQocHJlZGljYXRlKTtcbiAgfTtcblxuICAvKipcbiAgICogUHJvdmlkZXMgYWxsIHRoZSBpdGVtcyBpbiB0aGUgY2FjaGUuXG4gICAqL1xuICBpdGVtcyA9ICgpOiBUcmFuc2NlaXZlcklkW10gPT4ge1xuICAgIHJldHVybiB0aGlzLmNhY2hlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0IGluZGV4IG9mIHRoZSB0cmFuc2NlaXZlciBpbiB0aGUgY2FjaGUuXG4gICAqL1xuICBpbmRleE9mID0gKHRyYW5zY2VpdmVyOiBSVENSdHBUcmFuc2NlaXZlcik6IG51bWJlciA9PiB7XG4gICAgcmV0dXJuIHRoaXMudHJhbnNjZWl2ZXJPcmRlci5pbmRleE9mKHRyYW5zY2VpdmVyKTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyBjYWNoZWQgdmlkZW8gbGF5ZXJzIGZvciB0aGUgZ2l2ZW4gdHJhY2suXG4gICAqL1xuICBnZXRMYXllcnMgPSAoXG4gICAgcHVibGlzaE9wdGlvbjogUHVibGlzaE9wdGlvbixcbiAgKTogT3B0aW1hbFZpZGVvTGF5ZXJbXSB8IHVuZGVmaW5lZCA9PiB7XG4gICAgY29uc3QgZW50cnkgPSB0aGlzLmxheWVycy5maW5kKFxuICAgICAgKGl0ZW0pID0+XG4gICAgICAgIGl0ZW0ucHVibGlzaE9wdGlvbi5pZCA9PT0gcHVibGlzaE9wdGlvbi5pZCAmJlxuICAgICAgICBpdGVtLnB1Ymxpc2hPcHRpb24udHJhY2tUeXBlID09PSBwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSxcbiAgICApO1xuICAgIHJldHVybiBlbnRyeT8ubGF5ZXJzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSB2aWRlbyBsYXllcnMgZm9yIHRoZSBnaXZlbiB0cmFjay5cbiAgICovXG4gIHNldExheWVycyA9IChcbiAgICBwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uLFxuICAgIGxheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSA9IFtdLFxuICApID0+IHtcbiAgICBjb25zdCBlbnRyeSA9IHRoaXMuZmluZExheWVyKHB1Ymxpc2hPcHRpb24pO1xuICAgIGlmIChlbnRyeSkge1xuICAgICAgZW50cnkubGF5ZXJzID0gbGF5ZXJzO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmxheWVycy5wdXNoKHsgcHVibGlzaE9wdGlvbiwgbGF5ZXJzIH0pO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIGZpbmRUcmFuc2NlaXZlciA9IChwdWJsaXNoT3B0aW9uOiBQYXJ0aWFsPFB1Ymxpc2hPcHRpb24+KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuY2FjaGUuZmluZChcbiAgICAgIChpdGVtKSA9PlxuICAgICAgICBpdGVtLnB1Ymxpc2hPcHRpb24uaWQgPT09IHB1Ymxpc2hPcHRpb24uaWQgJiZcbiAgICAgICAgaXRlbS5wdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSA9PT0gcHVibGlzaE9wdGlvbi50cmFja1R5cGUsXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIGZpbmRMYXllciA9IChwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMubGF5ZXJzLmZpbmQoXG4gICAgICAoaXRlbSkgPT5cbiAgICAgICAgaXRlbS5wdWJsaXNoT3B0aW9uLmlkID09PSBwdWJsaXNoT3B0aW9uLmlkICYmXG4gICAgICAgIGl0ZW0ucHVibGlzaE9wdGlvbi50cmFja1R5cGUgPT09IHB1Ymxpc2hPcHRpb24udHJhY2tUeXBlLFxuICAgICk7XG4gIH07XG59XG4iLCJpbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuXG5leHBvcnQgY29uc3QgZW5zdXJlRXhoYXVzdGVkID0gKHg6IG5ldmVyLCBtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgZ2V0TG9nZ2VyKFsnaGVscGVycyddKSgnd2FybicsIG1lc3NhZ2UsIHgpO1xufTtcbiIsImltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uLy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBUcmFja011dGVUeXBlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuaW1wb3J0IHsgZW5zdXJlRXhoYXVzdGVkIH0gZnJvbSAnLi4vLi4vaGVscGVycy9lbnN1cmVFeGhhdXN0ZWQnO1xuXG5leHBvcnQgY29uc3QgdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleSA9IChcbiAgdHJhY2tUeXBlOiBUcmFja1R5cGUsXG4pOlxuICB8ICdhdWRpb1N0cmVhbSdcbiAgfCAndmlkZW9TdHJlYW0nXG4gIHwgJ3NjcmVlblNoYXJlU3RyZWFtJ1xuICB8ICdzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtJ1xuICB8IHVuZGVmaW5lZCA9PiB7XG4gIHN3aXRjaCAodHJhY2tUeXBlKSB7XG4gICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFOlxuICAgICAgcmV0dXJuICdzY3JlZW5TaGFyZVN0cmVhbSc7XG4gICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPOlxuICAgICAgcmV0dXJuICdzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtJztcbiAgICBjYXNlIFRyYWNrVHlwZS5WSURFTzpcbiAgICAgIHJldHVybiAndmlkZW9TdHJlYW0nO1xuICAgIGNhc2UgVHJhY2tUeXBlLkFVRElPOlxuICAgICAgcmV0dXJuICdhdWRpb1N0cmVhbSc7XG4gICAgY2FzZSBUcmFja1R5cGUuVU5TUEVDSUZJRUQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RyYWNrIHR5cGUgaXMgdW5zcGVjaWZpZWQnKTtcbiAgICBkZWZhdWx0OlxuICAgICAgZW5zdXJlRXhoYXVzdGVkKHRyYWNrVHlwZSwgJ1Vua25vd24gdHJhY2sgdHlwZScpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgbXV0ZVR5cGVUb1RyYWNrVHlwZSA9IChcbiAgbXV0ZVR5cGU6IFRyYWNrTXV0ZVR5cGUsXG4pOiBUcmFja1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBzd2l0Y2ggKG11dGVUeXBlKSB7XG4gICAgY2FzZSAnYXVkaW8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5BVURJTztcbiAgICBjYXNlICd2aWRlbyc6XG4gICAgICByZXR1cm4gVHJhY2tUeXBlLlZJREVPO1xuICAgIGNhc2UgJ3NjcmVlbnNoYXJlJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFO1xuICAgIGNhc2UgJ3NjcmVlbnNoYXJlX2F1ZGlvJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPO1xuICAgIGRlZmF1bHQ6XG4gICAgICBlbnN1cmVFeGhhdXN0ZWQobXV0ZVR5cGUsICdVbmtub3duIG11dGUgdHlwZScpO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgdG9UcmFja1R5cGUgPSAodHJhY2tUeXBlOiBzdHJpbmcpOiBUcmFja1R5cGUgfCB1bmRlZmluZWQgPT4ge1xuICBzd2l0Y2ggKHRyYWNrVHlwZSkge1xuICAgIGNhc2UgJ1RSQUNLX1RZUEVfQVVESU8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5BVURJTztcbiAgICBjYXNlICdUUkFDS19UWVBFX1ZJREVPJzpcbiAgICAgIHJldHVybiBUcmFja1R5cGUuVklERU87XG4gICAgY2FzZSAnVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkUnOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkU7XG4gICAgY2FzZSAnVFJBQ0tfVFlQRV9TQ1JFRU5fU0hBUkVfQVVESU8nOlxuICAgICAgcmV0dXJuIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU87XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cbn07XG5cbmV4cG9ydCBjb25zdCBpc0F1ZGlvVHJhY2tUeXBlID0gKHRyYWNrVHlwZTogVHJhY2tUeXBlKTogYm9vbGVhbiA9PlxuICB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5BVURJTyB8fCB0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU87XG4iLCJpbXBvcnQgeyBpc1N2Y0NvZGVjIH0gZnJvbSAnLi9jb2RlY3MnO1xuaW1wb3J0IHtcbiAgUHVibGlzaE9wdGlvbixcbiAgVmlkZW9EaW1lbnNpb24sXG4gIFZpZGVvTGF5ZXIsXG4gIFZpZGVvUXVhbGl0eSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGlzQXVkaW9UcmFja1R5cGUgfSBmcm9tICcuL2hlbHBlcnMvdHJhY2tzJztcblxuZXhwb3J0IHR5cGUgT3B0aW1hbFZpZGVvTGF5ZXIgPSBSVENSdHBFbmNvZGluZ1BhcmFtZXRlcnMgJiB7XG4gIHdpZHRoOiBudW1iZXI7XG4gIGhlaWdodDogbnVtYmVyO1xuICAvLyBOT1RFIE9MOiBzaG91bGQgYmUgcGFydCBvZiBSVENSdHBFbmNvZGluZ1BhcmFtZXRlcnNcbiAgc2NhbGFiaWxpdHlNb2RlPzogc3RyaW5nO1xufTtcblxuY29uc3QgZGVmYXVsdEJpdHJhdGVQZXJSaWQ6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7XG4gIHE6IDMwMDAwMCxcbiAgaDogNzUwMDAwLFxuICBmOiAxMjUwMDAwLFxufTtcblxuLyoqXG4gKiBJbiBTVkMsIHdlIG5lZWQgdG8gc2VuZCBvbmx5IG9uZSB2aWRlbyBlbmNvZGluZyAobGF5ZXIpLlxuICogdGhpcyBsYXllciB3aWxsIGhhdmUgdGhlIGFkZGl0aW9uYWwgc3BhdGlhbCBhbmQgdGVtcG9yYWwgbGF5ZXJzXG4gKiBkZWZpbmVkIHZpYSB0aGUgc2NhbGFiaWxpdHlNb2RlIHByb3BlcnR5LlxuICpcbiAqIEBwYXJhbSBsYXllcnMgdGhlIGxheWVycyB0byBwcm9jZXNzLlxuICovXG5leHBvcnQgY29uc3QgdG9TdmNFbmNvZGluZ3MgPSAoXG4gIGxheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSB8IHVuZGVmaW5lZCxcbik6IFJUQ1J0cEVuY29kaW5nUGFyYW1ldGVyc1tdIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKCFsYXllcnMpIHJldHVybjtcbiAgLy8gd2UgdGFrZSB0aGUgaGlnaGVzdCBxdWFsaXR5IGxheWVyLCBhbmQgd2UgYXNzaWduIGl0IHRvIGBxYCBlbmNvZGVyLlxuICBjb25zdCB3aXRoUmlkID0gKHJpZDogc3RyaW5nKSA9PiAobDogT3B0aW1hbFZpZGVvTGF5ZXIpID0+IGwucmlkID09PSByaWQ7XG4gIGNvbnN0IGhpZ2hlc3RMYXllciA9XG4gICAgbGF5ZXJzLmZpbmQod2l0aFJpZCgnZicpKSB8fFxuICAgIGxheWVycy5maW5kKHdpdGhSaWQoJ2gnKSkgfHxcbiAgICBsYXllcnMuZmluZCh3aXRoUmlkKCdxJykpO1xuICByZXR1cm4gW3sgLi4uaGlnaGVzdExheWVyLCByaWQ6ICdxJyB9XTtcbn07XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHJpZCB0byBhIHZpZGVvIHF1YWxpdHkuXG4gKi9cbmV4cG9ydCBjb25zdCByaWRUb1ZpZGVvUXVhbGl0eSA9IChyaWQ6IHN0cmluZyk6IFZpZGVvUXVhbGl0eSA9PiB7XG4gIHJldHVybiByaWQgPT09ICdxJ1xuICAgID8gVmlkZW9RdWFsaXR5LkxPV19VTlNQRUNJRklFRFxuICAgIDogcmlkID09PSAnaCdcbiAgICAgID8gVmlkZW9RdWFsaXR5Lk1JRFxuICAgICAgOiBWaWRlb1F1YWxpdHkuSElHSDsgLy8gZGVmYXVsdCB0byBISUdIXG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBnaXZlbiB2aWRlbyBsYXllcnMgdG8gU0ZVIHZpZGVvIGxheWVycy5cbiAqL1xuZXhwb3J0IGNvbnN0IHRvVmlkZW9MYXllcnMgPSAoXG4gIGxheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSB8IHVuZGVmaW5lZCA9IFtdLFxuKTogVmlkZW9MYXllcltdID0+IHtcbiAgcmV0dXJuIGxheWVycy5tYXA8VmlkZW9MYXllcj4oKGxheWVyKSA9PiAoe1xuICAgIHJpZDogbGF5ZXIucmlkIHx8ICcnLFxuICAgIGJpdHJhdGU6IGxheWVyLm1heEJpdHJhdGUgfHwgMCxcbiAgICBmcHM6IGxheWVyLm1heEZyYW1lcmF0ZSB8fCAwLFxuICAgIHF1YWxpdHk6IHJpZFRvVmlkZW9RdWFsaXR5KGxheWVyLnJpZCB8fCAnJyksXG4gICAgdmlkZW9EaW1lbnNpb246IHsgd2lkdGg6IGxheWVyLndpZHRoLCBoZWlnaHQ6IGxheWVyLmhlaWdodCB9LFxuICB9KSk7XG59O1xuXG4vKipcbiAqIENvbnZlcnRzIHRoZSBzcGF0aWFsIGFuZCB0ZW1wb3JhbCBsYXllcnMgdG8gYSBzY2FsYWJpbGl0eSBtb2RlLlxuICovXG5jb25zdCB0b1NjYWxhYmlsaXR5TW9kZSA9IChzcGF0aWFsTGF5ZXJzOiBudW1iZXIsIHRlbXBvcmFsTGF5ZXJzOiBudW1iZXIpID0+XG4gIGBMJHtzcGF0aWFsTGF5ZXJzfVQke3RlbXBvcmFsTGF5ZXJzfSR7c3BhdGlhbExheWVycyA+IDEgPyAnX0tFWScgOiAnJ31gO1xuXG4vKipcbiAqIERldGVybWluZXMgdGhlIG1vc3Qgb3B0aW1hbCB2aWRlbyBsYXllcnMgZm9yIHRoZSBnaXZlbiB0cmFjay5cbiAqXG4gKiBAcGFyYW0gdmlkZW9UcmFjayB0aGUgdmlkZW8gdHJhY2sgdG8gZmluZCBvcHRpbWFsIGxheWVycyBmb3IuXG4gKiBAcGFyYW0gcHVibGlzaE9wdGlvbiB0aGUgcHVibGlzaCBvcHRpb25zIGZvciB0aGUgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCBjb21wdXRlVmlkZW9MYXllcnMgPSAoXG4gIHZpZGVvVHJhY2s6IE1lZGlhU3RyZWFtVHJhY2ssXG4gIHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb24sXG4pOiBPcHRpbWFsVmlkZW9MYXllcltdIHwgdW5kZWZpbmVkID0+IHtcbiAgaWYgKGlzQXVkaW9UcmFja1R5cGUocHVibGlzaE9wdGlvbi50cmFja1R5cGUpKSByZXR1cm47XG4gIGNvbnN0IG9wdGltYWxWaWRlb0xheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSA9IFtdO1xuICBjb25zdCBzZXR0aW5ncyA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgY29uc3QgeyB3aWR0aCA9IDAsIGhlaWdodCA9IDAgfSA9IHNldHRpbmdzO1xuICBjb25zdCB7XG4gICAgYml0cmF0ZSxcbiAgICBjb2RlYyxcbiAgICBmcHMsXG4gICAgbWF4U3BhdGlhbExheWVycyA9IDMsXG4gICAgbWF4VGVtcG9yYWxMYXllcnMgPSAzLFxuICAgIHZpZGVvRGltZW5zaW9uID0geyB3aWR0aDogMTI4MCwgaGVpZ2h0OiA3MjAgfSxcbiAgICB1c2VTaW5nbGVMYXllcixcbiAgfSA9IHB1Ymxpc2hPcHRpb247XG4gIGNvbnN0IG1heEJpdHJhdGUgPSBnZXRDb21wdXRlZE1heEJpdHJhdGUoXG4gICAgdmlkZW9EaW1lbnNpb24sXG4gICAgd2lkdGgsXG4gICAgaGVpZ2h0LFxuICAgIGJpdHJhdGUsXG4gICk7XG4gIGxldCBkb3duc2NhbGVGYWN0b3IgPSAxO1xuICBsZXQgYml0cmF0ZUZhY3RvciA9IDE7XG4gIGNvbnN0IHN2Y0NvZGVjID0gaXNTdmNDb2RlYyhjb2RlYz8ubmFtZSk7XG4gIGZvciAoY29uc3QgcmlkIG9mIFsnZicsICdoJywgJ3EnXS5zbGljZSgwLCBtYXhTcGF0aWFsTGF5ZXJzKSkge1xuICAgIGNvbnN0IGxheWVyOiBPcHRpbWFsVmlkZW9MYXllciA9IHtcbiAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgIHJpZCxcbiAgICAgIHdpZHRoOiBNYXRoLnJvdW5kKHdpZHRoIC8gZG93bnNjYWxlRmFjdG9yKSxcbiAgICAgIGhlaWdodDogTWF0aC5yb3VuZChoZWlnaHQgLyBkb3duc2NhbGVGYWN0b3IpLFxuICAgICAgbWF4Qml0cmF0ZTpcbiAgICAgICAgTWF0aC5yb3VuZChtYXhCaXRyYXRlIC8gYml0cmF0ZUZhY3RvcikgfHwgZGVmYXVsdEJpdHJhdGVQZXJSaWRbcmlkXSxcbiAgICAgIG1heEZyYW1lcmF0ZTogZnBzLFxuICAgIH07XG4gICAgaWYgKHN2Y0NvZGVjKSB7XG4gICAgICAvLyBmb3IgU1ZDIGNvZGVjcywgd2UgbmVlZCB0byBzZXQgdGhlIHNjYWxhYmlsaXR5IG1vZGUsIGFuZCB0aGVcbiAgICAgIC8vIGNvZGVjIHdpbGwgaGFuZGxlIHRoZSByZXN0IChsYXllcnMsIHRlbXBvcmFsIGxheWVycywgZXRjLilcbiAgICAgIGxheWVyLnNjYWxhYmlsaXR5TW9kZSA9IHRvU2NhbGFiaWxpdHlNb2RlKFxuICAgICAgICB1c2VTaW5nbGVMYXllciA/IDEgOiBtYXhTcGF0aWFsTGF5ZXJzLFxuICAgICAgICBtYXhUZW1wb3JhbExheWVycyxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGZvciBub24tU1ZDIGNvZGVjcywgd2UgbmVlZCB0byBkb3duc2NhbGUgcHJvcG9ydGlvbmFsbHkgKHNpbXVsY2FzdClcbiAgICAgIGxheWVyLnNjYWxlUmVzb2x1dGlvbkRvd25CeSA9IGRvd25zY2FsZUZhY3RvcjtcbiAgICB9XG5cbiAgICBkb3duc2NhbGVGYWN0b3IgKj0gMjtcbiAgICBiaXRyYXRlRmFjdG9yICo9IDI7XG5cbiAgICAvLyBSZXZlcnNpbmcgdGhlIG9yZGVyIFtmLCBoLCBxXSB0byBbcSwgaCwgZl0gYXMgQ2hyb21lIHVzZXMgZW5jb2RpbmcgaW5kZXhcbiAgICAvLyB3aGVuIGRlY2lkaW5nIHdoaWNoIGxheWVyIHRvIGRpc2FibGUgd2hlbiBDUFUgb3IgYmFuZHdpZHRoIGlzIGNvbnN0cmFpbmVkLlxuICAgIC8vIEVuY29kaW5ncyBzaG91bGQgYmUgb3JkZXJlZCBpbiBpbmNyZWFzaW5nIHNwYXRpYWwgcmVzb2x1dGlvbiBvcmRlci5cbiAgICBvcHRpbWFsVmlkZW9MYXllcnMudW5zaGlmdChsYXllcik7XG4gIH1cblxuICAvLyBmb3Igc2ltcGxpY2l0eSwgd2Ugc3RhcnQgd2l0aCBhbGwgbGF5ZXJzIGVuYWJsZWQsIHRoZW4gdGhpcyBmdW5jdGlvblxuICAvLyB3aWxsIGNsZWFyL3JlYXNzaWduIHRoZSBsYXllcnMgdGhhdCBhcmUgbm90IG5lZWRlZFxuICByZXR1cm4gd2l0aFNpbXVsY2FzdENvbnN0cmFpbnRzKHNldHRpbmdzLCBvcHRpbWFsVmlkZW9MYXllcnMsIHVzZVNpbmdsZUxheWVyKTtcbn07XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIG1heGltdW0gYml0cmF0ZSBmb3IgYSBnaXZlbiByZXNvbHV0aW9uLlxuICogSWYgdGhlIGN1cnJlbnQgcmVzb2x1dGlvbiBpcyBsb3dlciB0aGFuIHRoZSB0YXJnZXQgcmVzb2x1dGlvbixcbiAqIHdlIHdhbnQgdG8gcHJvcG9ydGlvbmFsbHkgcmVkdWNlIHRoZSB0YXJnZXQgYml0cmF0ZS5cbiAqIElmIHRoZSBjdXJyZW50IHJlc29sdXRpb24gaXMgaGlnaGVyIHRoYW4gdGhlIHRhcmdldCByZXNvbHV0aW9uLFxuICogd2Ugd2FudCB0byB1c2UgdGhlIHRhcmdldCBiaXRyYXRlLlxuICpcbiAqIEBwYXJhbSB0YXJnZXRSZXNvbHV0aW9uIHRoZSB0YXJnZXQgcmVzb2x1dGlvbi5cbiAqIEBwYXJhbSBjdXJyZW50V2lkdGggdGhlIGN1cnJlbnQgd2lkdGggb2YgdGhlIHRyYWNrLlxuICogQHBhcmFtIGN1cnJlbnRIZWlnaHQgdGhlIGN1cnJlbnQgaGVpZ2h0IG9mIHRoZSB0cmFjay5cbiAqIEBwYXJhbSBiaXRyYXRlIHRoZSB0YXJnZXQgYml0cmF0ZS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldENvbXB1dGVkTWF4Qml0cmF0ZSA9IChcbiAgdGFyZ2V0UmVzb2x1dGlvbjogVmlkZW9EaW1lbnNpb24sXG4gIGN1cnJlbnRXaWR0aDogbnVtYmVyLFxuICBjdXJyZW50SGVpZ2h0OiBudW1iZXIsXG4gIGJpdHJhdGU6IG51bWJlcixcbik6IG51bWJlciA9PiB7XG4gIC8vIGlmIHRoZSBjdXJyZW50IHJlc29sdXRpb24gaXMgbG93ZXIgdGhhbiB0aGUgdGFyZ2V0IHJlc29sdXRpb24sXG4gIC8vIHdlIHdhbnQgdG8gcHJvcG9ydGlvbmFsbHkgcmVkdWNlIHRoZSB0YXJnZXQgYml0cmF0ZVxuICBjb25zdCB7IHdpZHRoOiB0YXJnZXRXaWR0aCwgaGVpZ2h0OiB0YXJnZXRIZWlnaHQgfSA9IHRhcmdldFJlc29sdXRpb247XG4gIGlmIChjdXJyZW50V2lkdGggPCB0YXJnZXRXaWR0aCB8fCBjdXJyZW50SGVpZ2h0IDwgdGFyZ2V0SGVpZ2h0KSB7XG4gICAgY29uc3QgY3VycmVudFBpeGVscyA9IGN1cnJlbnRXaWR0aCAqIGN1cnJlbnRIZWlnaHQ7XG4gICAgY29uc3QgdGFyZ2V0UGl4ZWxzID0gdGFyZ2V0V2lkdGggKiB0YXJnZXRIZWlnaHQ7XG4gICAgY29uc3QgcmVkdWN0aW9uRmFjdG9yID0gY3VycmVudFBpeGVscyAvIHRhcmdldFBpeGVscztcbiAgICByZXR1cm4gTWF0aC5yb3VuZChiaXRyYXRlICogcmVkdWN0aW9uRmFjdG9yKTtcbiAgfVxuICByZXR1cm4gYml0cmF0ZTtcbn07XG5cbi8qKlxuICogQnJvd3NlcnMgaGF2ZSBkaWZmZXJlbnQgc2ltdWxjYXN0IGNvbnN0cmFpbnRzIGZvciBkaWZmZXJlbnQgdmlkZW8gcmVzb2x1dGlvbnMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBtb2RpZmllcyB0aGUgcHJvdmlkZWQgbGlzdCBvZiB2aWRlbyBsYXllcnMgYWNjb3JkaW5nIHRvIHRoZVxuICogY3VycmVudCBpbXBsZW1lbnRhdGlvbiBvZiBzaW11bGNhc3QgY29uc3RyYWludHMgaW4gdGhlIENocm9taXVtIGJhc2VkIGJyb3dzZXJzLlxuICpcbiAqIGh0dHBzOi8vY2hyb21pdW0uZ29vZ2xlc291cmNlLmNvbS9leHRlcm5hbC93ZWJydGMvKy9yZWZzL2hlYWRzL21haW4vbWVkaWEvZW5naW5lL3NpbXVsY2FzdC5jYyM5MFxuICovXG5jb25zdCB3aXRoU2ltdWxjYXN0Q29uc3RyYWludHMgPSAoXG4gIHNldHRpbmdzOiBNZWRpYVRyYWNrU2V0dGluZ3MsXG4gIG9wdGltYWxWaWRlb0xheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXSxcbiAgdXNlU2luZ2xlTGF5ZXI6IGJvb2xlYW4sXG4pID0+IHtcbiAgbGV0IGxheWVyczogT3B0aW1hbFZpZGVvTGF5ZXJbXTtcblxuICBjb25zdCBzaXplID0gTWF0aC5tYXgoc2V0dGluZ3Mud2lkdGggfHwgMCwgc2V0dGluZ3MuaGVpZ2h0IHx8IDApO1xuICBpZiAoc2l6ZSA8PSAzMjApIHtcbiAgICAvLyBwcm92aWRlIG9ubHkgb25lIGxheWVyIDMyMHgyNDAgKGYpLCB0aGUgb25lIHdpdGggdGhlIGhpZ2hlc3QgcXVhbGl0eVxuICAgIGxheWVycyA9IG9wdGltYWxWaWRlb0xheWVycy5maWx0ZXIoKGxheWVyKSA9PiBsYXllci5yaWQgPT09ICdmJyk7XG4gIH0gZWxzZSBpZiAoc2l6ZSA8PSA2NDApIHtcbiAgICAvLyBwcm92aWRlIHR3byBsYXllcnMsIDMyMHgyNDAgKGgpIGFuZCA2NDB4NDgwIChmKVxuICAgIGxheWVycyA9IG9wdGltYWxWaWRlb0xheWVycy5maWx0ZXIoKGxheWVyKSA9PiBsYXllci5yaWQgIT09ICdxJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gcHJvdmlkZSB0aHJlZSBsYXllcnMgZm9yIHNpemVzID4gNjQweDQ4MFxuICAgIGxheWVycyA9IG9wdGltYWxWaWRlb0xheWVycztcbiAgfVxuXG4gIC8vIHdlIG1pZ2h0IGhhdmUgcmVtb3ZlZCBzb21lIGxheWVycywgc28gd2UgbmVlZCB0byByZWFzc2lnbiB0aGUgcmlkXG4gIC8vIHRvIG1hdGNoIHRoZSBleHBlY3RlZCBvcmRlciBvZiBbcSwgaCwgZl0gZm9yIHNpbXVsY2FzdFxuICBjb25zdCByaWRNYXBwaW5nID0gWydxJywgJ2gnLCAnZiddO1xuICByZXR1cm4gbGF5ZXJzLm1hcDxPcHRpbWFsVmlkZW9MYXllcj4oKGxheWVyLCBpbmRleCwgYXJyKSA9PiAoe1xuICAgIC4uLmxheWVyLFxuICAgIHJpZDogcmlkTWFwcGluZ1tpbmRleF0sIC8vIHJlYXNzaWduIHJpZFxuICAgIGFjdGl2ZTogdXNlU2luZ2xlTGF5ZXIgJiYgaW5kZXggPCBhcnIubGVuZ3RoIC0gMSA/IGZhbHNlIDogbGF5ZXIuYWN0aXZlLFxuICB9KSk7XG59O1xuIiwiaW1wb3J0IHsgcGFyc2UsIHdyaXRlIH0gZnJvbSAnc2RwLXRyYW5zZm9ybSc7XG5cbi8qKlxuICogRXh0cmFjdHMgdGhlIG1pZCBmcm9tIHRoZSB0cmFuc2NlaXZlciBvciB0aGUgU0RQLlxuICpcbiAqIEBwYXJhbSB0cmFuc2NlaXZlciB0aGUgdHJhbnNjZWl2ZXIuXG4gKiBAcGFyYW0gdHJhbnNjZWl2ZXJJbml0SW5kZXggdGhlIGluZGV4IG9mIHRoZSB0cmFuc2NlaXZlciBpbiB0aGUgdHJhbnNjZWl2ZXIncyBpbml0IGFycmF5LlxuICogQHBhcmFtIHNkcCB0aGUgU0RQLlxuICovXG5leHBvcnQgY29uc3QgZXh0cmFjdE1pZCA9IChcbiAgdHJhbnNjZWl2ZXI6IFJUQ1J0cFRyYW5zY2VpdmVyLFxuICB0cmFuc2NlaXZlckluaXRJbmRleDogbnVtYmVyLFxuICBzZHA6IHN0cmluZyB8IHVuZGVmaW5lZCxcbik6IHN0cmluZyA9PiB7XG4gIGlmICh0cmFuc2NlaXZlci5taWQpIHJldHVybiB0cmFuc2NlaXZlci5taWQ7XG4gIGlmICghc2RwKSByZXR1cm4gU3RyaW5nKHRyYW5zY2VpdmVySW5pdEluZGV4KTtcblxuICBjb25zdCB0cmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayE7XG4gIGNvbnN0IHBhcnNlZFNkcCA9IHBhcnNlKHNkcCk7XG4gIGNvbnN0IG1lZGlhID0gcGFyc2VkU2RwLm1lZGlhLmZpbmQoKG0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgbS50eXBlID09PSB0cmFjay5raW5kICYmXG4gICAgICAvLyBpZiBgbXNpZGAgaXMgbm90IHByZXNlbnQsIHdlIGFzc3VtZSB0aGF0IHRoZSB0cmFjayBpcyB0aGUgZmlyc3Qgb25lXG4gICAgICAobS5tc2lkPy5pbmNsdWRlcyh0cmFjay5pZCkgPz8gdHJ1ZSlcbiAgICApO1xuICB9KTtcbiAgaWYgKHR5cGVvZiBtZWRpYT8ubWlkICE9PSAndW5kZWZpbmVkJykgcmV0dXJuIFN0cmluZyhtZWRpYS5taWQpO1xuICBpZiAodHJhbnNjZWl2ZXJJbml0SW5kZXggPCAwKSByZXR1cm4gJyc7XG4gIHJldHVybiBTdHJpbmcodHJhbnNjZWl2ZXJJbml0SW5kZXgpO1xufTtcblxuLyoqXG4gKiBFbmFibGVzIHN0ZXJlbyBpbiB0aGUgYW5zd2VyIFNEUCBiYXNlZCBvbiB0aGUgb2ZmZXJlZCBzdGVyZW8gaW4gdGhlIG9mZmVyIFNEUC5cbiAqXG4gKiBAcGFyYW0gb2ZmZXJTZHAgdGhlIG9mZmVyIFNEUCBjb250YWluaW5nIHRoZSBzdGVyZW8gY29uZmlndXJhdGlvbi5cbiAqIEBwYXJhbSBhbnN3ZXJTZHAgdGhlIGFuc3dlciBTRFAgdG8gYmUgbW9kaWZpZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBlbmFibGVTdGVyZW8gPSAob2ZmZXJTZHA6IHN0cmluZywgYW5zd2VyU2RwOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICBjb25zdCBvZmZlcmVkU3RlcmVvTWlkcyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xuICBjb25zdCBwYXJzZWRPZmZlclNkcCA9IHBhcnNlKG9mZmVyU2RwKTtcbiAgZm9yIChjb25zdCBtZWRpYSBvZiBwYXJzZWRPZmZlclNkcC5tZWRpYSkge1xuICAgIGlmIChtZWRpYS50eXBlICE9PSAnYXVkaW8nKSBjb250aW51ZTtcblxuICAgIGNvbnN0IG9wdXMgPSBtZWRpYS5ydHAuZmluZCgocikgPT4gci5jb2RlYyA9PT0gJ29wdXMnKTtcbiAgICBpZiAoIW9wdXMpIGNvbnRpbnVlO1xuXG4gICAgZm9yIChjb25zdCBmbXRwIG9mIG1lZGlhLmZtdHApIHtcbiAgICAgIGlmIChmbXRwLnBheWxvYWQgPT09IG9wdXMucGF5bG9hZCAmJiBmbXRwLmNvbmZpZy5pbmNsdWRlcygnc3RlcmVvPTEnKSkge1xuICAgICAgICBvZmZlcmVkU3RlcmVvTWlkcy5hZGQobWVkaWEubWlkISk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTm8gc3RlcmVvIG9mZmVyZWQsIHJldHVybiB0aGUgb3JpZ2luYWwgYW5zd2VyU2RwXG4gIGlmIChvZmZlcmVkU3RlcmVvTWlkcy5zaXplID09PSAwKSByZXR1cm4gYW5zd2VyU2RwO1xuXG4gIGNvbnN0IHBhcnNlZEFuc3dlclNkcCA9IHBhcnNlKGFuc3dlclNkcCk7XG4gIGZvciAoY29uc3QgbWVkaWEgb2YgcGFyc2VkQW5zd2VyU2RwLm1lZGlhKSB7XG4gICAgaWYgKG1lZGlhLnR5cGUgIT09ICdhdWRpbycgfHwgIW9mZmVyZWRTdGVyZW9NaWRzLmhhcyhtZWRpYS5taWQhKSkgY29udGludWU7XG5cbiAgICBjb25zdCBvcHVzID0gbWVkaWEucnRwLmZpbmQoKHIpID0+IHIuY29kZWMgPT09ICdvcHVzJyk7XG4gICAgaWYgKCFvcHVzKSBjb250aW51ZTtcblxuICAgIGZvciAoY29uc3QgZm10cCBvZiBtZWRpYS5mbXRwKSB7XG4gICAgICBpZiAoZm10cC5wYXlsb2FkID09PSBvcHVzLnBheWxvYWQgJiYgIWZtdHAuY29uZmlnLmluY2x1ZGVzKCdzdGVyZW89MScpKSB7XG4gICAgICAgIGZtdHAuY29uZmlnICs9ICc7c3RlcmVvPTEnO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3cml0ZShwYXJzZWRBbnN3ZXJTZHApO1xufTtcbiIsImltcG9ydCB7XG4gIEJhc2VQZWVyQ29ubmVjdGlvbixcbiAgQmFzZVBlZXJDb25uZWN0aW9uT3B0cyxcbn0gZnJvbSAnLi9CYXNlUGVlckNvbm5lY3Rpb24nO1xuaW1wb3J0IHsgTmVnb3RpYXRpb25FcnJvciB9IGZyb20gJy4vTmVnb3RpYXRpb25FcnJvcic7XG5pbXBvcnQgeyBUcmFuc2NlaXZlckNhY2hlIH0gZnJvbSAnLi9UcmFuc2NlaXZlckNhY2hlJztcbmltcG9ydCB7XG4gIFBlZXJUeXBlLFxuICBQdWJsaXNoT3B0aW9uLFxuICBUcmFja0luZm8sXG4gIFRyYWNrVHlwZSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFZpZGVvU2VuZGVyIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHtcbiAgY29tcHV0ZVZpZGVvTGF5ZXJzLFxuICB0b1N2Y0VuY29kaW5ncyxcbiAgdG9WaWRlb0xheWVycyxcbn0gZnJvbSAnLi92aWRlb0xheWVycyc7XG5pbXBvcnQgeyBpc1N2Y0NvZGVjIH0gZnJvbSAnLi9jb2RlY3MnO1xuaW1wb3J0IHsgaXNBdWRpb1RyYWNrVHlwZSB9IGZyb20gJy4vaGVscGVycy90cmFja3MnO1xuaW1wb3J0IHsgZXh0cmFjdE1pZCB9IGZyb20gJy4vaGVscGVycy9zZHAnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuXG5leHBvcnQgdHlwZSBQdWJsaXNoZXJDb25zdHJ1Y3Rvck9wdHMgPSBCYXNlUGVlckNvbm5lY3Rpb25PcHRzICYge1xuICBwdWJsaXNoT3B0aW9uczogUHVibGlzaE9wdGlvbltdO1xufTtcblxuLyoqXG4gKiBUaGUgYFB1Ymxpc2hlcmAgaXMgcmVzcG9uc2libGUgZm9yIHB1Ymxpc2hpbmcvdW5wdWJsaXNoaW5nIG1lZGlhIHN0cmVhbXMgdG8vZnJvbSB0aGUgU0ZVXG4gKlxuICogQGludGVybmFsXG4gKi9cbmV4cG9ydCBjbGFzcyBQdWJsaXNoZXIgZXh0ZW5kcyBCYXNlUGVlckNvbm5lY3Rpb24ge1xuICBwcml2YXRlIHJlYWRvbmx5IHRyYW5zY2VpdmVyQ2FjaGUgPSBuZXcgVHJhbnNjZWl2ZXJDYWNoZSgpO1xuICBwcml2YXRlIHJlYWRvbmx5IGNsb25lZFRyYWNrcyA9IG5ldyBTZXQ8TWVkaWFTdHJlYW1UcmFjaz4oKTtcbiAgcHJpdmF0ZSBwdWJsaXNoT3B0aW9uczogUHVibGlzaE9wdGlvbltdO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBQdWJsaXNoZXJgIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoeyBwdWJsaXNoT3B0aW9ucywgLi4uYmFzZU9wdGlvbnMgfTogUHVibGlzaGVyQ29uc3RydWN0b3JPcHRzKSB7XG4gICAgc3VwZXIoUGVlclR5cGUuUFVCTElTSEVSX1VOU1BFQ0lGSUVELCBiYXNlT3B0aW9ucyk7XG4gICAgdGhpcy5wdWJsaXNoT3B0aW9ucyA9IHB1Ymxpc2hPcHRpb25zO1xuXG4gICAgdGhpcy5vbignaWNlUmVzdGFydCcsIChpY2VSZXN0YXJ0KSA9PiB7XG4gICAgICBpZiAoaWNlUmVzdGFydC5wZWVyVHlwZSAhPT0gUGVlclR5cGUuUFVCTElTSEVSX1VOU1BFQ0lGSUVEKSByZXR1cm47XG4gICAgICB0aGlzLnRyeVJlc3RhcnRJY2UoKTtcbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2NoYW5nZVB1Ymxpc2hRdWFsaXR5JywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IHZpZGVvU2VuZGVyIG9mIGV2ZW50LnZpZGVvU2VuZGVycykge1xuICAgICAgICBhd2FpdCB0aGlzLmNoYW5nZVB1Ymxpc2hRdWFsaXR5KHZpZGVvU2VuZGVyKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2NoYW5nZVB1Ymxpc2hPcHRpb25zJywgKGV2ZW50KSA9PiB7XG4gICAgICB0aGlzLnB1Ymxpc2hPcHRpb25zID0gZXZlbnQucHVibGlzaE9wdGlvbnM7XG4gICAgICByZXR1cm4gdGhpcy5zeW5jUHVibGlzaE9wdGlvbnMoKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlcyB0aGlzIFB1Ymxpc2hlciBpbnN0YW5jZS5cbiAgICovXG4gIGRpc3Bvc2UoKSB7XG4gICAgc3VwZXIuZGlzcG9zZSgpO1xuICAgIHRoaXMuc3RvcEFsbFRyYWNrcygpO1xuICAgIHRoaXMuY2xvbmVkVHJhY2tzLmNsZWFyKCk7XG4gIH1cblxuICAvKipcbiAgICogU3RhcnRzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIHRyYWNrIG9mIHRoZSBnaXZlbiBtZWRpYSBzdHJlYW0uXG4gICAqXG4gICAqIENvbnNlY3V0aXZlIGNhbGxzIHRvIHRoaXMgbWV0aG9kIHdpbGwgcmVwbGFjZSB0aGUgc3RyZWFtLlxuICAgKiBUaGUgcHJldmlvdXMgc3RyZWFtIHdpbGwgYmUgc3RvcHBlZC5cbiAgICpcbiAgICogQHBhcmFtIHRyYWNrIHRoZSB0cmFjayB0byBwdWJsaXNoLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0cmFjayB0eXBlIHRvIHB1Ymxpc2guXG4gICAqL1xuICBwdWJsaXNoID0gYXN5bmMgKHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLCB0cmFja1R5cGU6IFRyYWNrVHlwZSkgPT4ge1xuICAgIGlmICghdGhpcy5wdWJsaXNoT3B0aW9ucy5zb21lKChvKSA9PiBvLnRyYWNrVHlwZSA9PT0gdHJhY2tUeXBlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBwdWJsaXNoIG9wdGlvbnMgZm91bmQgZm9yICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19YCk7XG4gICAgfVxuXG4gICAgZm9yIChjb25zdCBwdWJsaXNoT3B0aW9uIG9mIHRoaXMucHVibGlzaE9wdGlvbnMpIHtcbiAgICAgIGlmIChwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSAhPT0gdHJhY2tUeXBlKSBjb250aW51ZTtcblxuICAgICAgLy8gY3JlYXRlIGEgY2xvbmUgb2YgdGhlIHRyYWNrIGFzIG90aGVyd2lzZSB0aGUgc2FtZSB0cmFja0lkIHdpbGxcbiAgICAgIC8vIGFwcGVhciBpbiB0aGUgU0RQIGluIG11bHRpcGxlIHRyYW5zY2VpdmVyc1xuICAgICAgY29uc3QgdHJhY2tUb1B1Ymxpc2ggPSB0aGlzLmNsb25lVHJhY2sodHJhY2spO1xuXG4gICAgICBjb25zdCB0cmFuc2NlaXZlciA9IHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5nZXQocHVibGlzaE9wdGlvbik7XG4gICAgICBpZiAoIXRyYW5zY2VpdmVyKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuYWRkVHJhbnNjZWl2ZXIodHJhY2tUb1B1Ymxpc2gsIHB1Ymxpc2hPcHRpb24pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNUcmFjayA9IHRyYW5zY2VpdmVyLnNlbmRlci50cmFjaztcbiAgICAgICAgYXdhaXQgdGhpcy51cGRhdGVUcmFuc2NlaXZlcih0cmFuc2NlaXZlciwgdHJhY2tUb1B1Ymxpc2gsIHRyYWNrVHlwZSk7XG4gICAgICAgIGlmICghaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICAgICAgdGhpcy5zdG9wVHJhY2socHJldmlvdXNUcmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBuZXcgdHJhbnNjZWl2ZXIgY2FycnlpbmcgdGhlIGdpdmVuIHRyYWNrIHRvIHRoZSBwZWVyIGNvbm5lY3Rpb24uXG4gICAqL1xuICBwcml2YXRlIGFkZFRyYW5zY2VpdmVyID0gYXN5bmMgKFxuICAgIHRyYWNrOiBNZWRpYVN0cmVhbVRyYWNrLFxuICAgIHB1Ymxpc2hPcHRpb246IFB1Ymxpc2hPcHRpb24sXG4gICkgPT4ge1xuICAgIGNvbnN0IHZpZGVvRW5jb2RpbmdzID0gY29tcHV0ZVZpZGVvTGF5ZXJzKHRyYWNrLCBwdWJsaXNoT3B0aW9uKTtcbiAgICBjb25zdCBzZW5kRW5jb2RpbmdzID0gaXNTdmNDb2RlYyhwdWJsaXNoT3B0aW9uLmNvZGVjPy5uYW1lKVxuICAgICAgPyB0b1N2Y0VuY29kaW5ncyh2aWRlb0VuY29kaW5ncylcbiAgICAgIDogdmlkZW9FbmNvZGluZ3M7XG4gICAgY29uc3QgdHJhbnNjZWl2ZXIgPSB0aGlzLnBjLmFkZFRyYW5zY2VpdmVyKHRyYWNrLCB7XG4gICAgICBkaXJlY3Rpb246ICdzZW5kb25seScsXG4gICAgICBzZW5kRW5jb2RpbmdzLFxuICAgIH0pO1xuXG4gICAgY29uc3QgcGFyYW1zID0gdHJhbnNjZWl2ZXIuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTtcbiAgICBwYXJhbXMuZGVncmFkYXRpb25QcmVmZXJlbmNlID0gJ21haW50YWluLWZyYW1lcmF0ZSc7XG4gICAgYXdhaXQgdHJhbnNjZWl2ZXIuc2VuZGVyLnNldFBhcmFtZXRlcnMocGFyYW1zKTtcblxuICAgIGNvbnN0IHRyYWNrVHlwZSA9IHB1Ymxpc2hPcHRpb24udHJhY2tUeXBlO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBBZGRlZCAke1RyYWNrVHlwZVt0cmFja1R5cGVdfSB0cmFuc2NlaXZlcmApO1xuICAgIHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5hZGQocHVibGlzaE9wdGlvbiwgdHJhbnNjZWl2ZXIpO1xuICAgIHRoaXMudHJhY2tJZFRvVHJhY2tUeXBlLnNldCh0cmFjay5pZCwgdHJhY2tUeXBlKTtcblxuICAgIGF3YWl0IHRoaXMubmVnb3RpYXRlKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIHRyYW5zY2VpdmVyIHdpdGggdGhlIGdpdmVuIHRyYWNrIGFuZCB0cmFjayB0eXBlLlxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVUcmFuc2NlaXZlciA9IGFzeW5jIChcbiAgICB0cmFuc2NlaXZlcjogUlRDUnRwVHJhbnNjZWl2ZXIsXG4gICAgdHJhY2s6IE1lZGlhU3RyZWFtVHJhY2sgfCBudWxsLFxuICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCBzZW5kZXIgPSB0cmFuc2NlaXZlci5zZW5kZXI7XG4gICAgaWYgKHNlbmRlci50cmFjaykgdGhpcy50cmFja0lkVG9UcmFja1R5cGUuZGVsZXRlKHNlbmRlci50cmFjay5pZCk7XG4gICAgYXdhaXQgc2VuZGVyLnJlcGxhY2VUcmFjayh0cmFjayk7XG4gICAgaWYgKHRyYWNrKSB0aGlzLnRyYWNrSWRUb1RyYWNrVHlwZS5zZXQodHJhY2suaWQsIHRyYWNrVHlwZSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN5bmNocm9uaXplcyB0aGUgY3VycmVudCBQdWJsaXNoZXIgc3RhdGUgd2l0aCB0aGUgcHJvdmlkZWQgcHVibGlzaCBvcHRpb25zLlxuICAgKi9cbiAgcHJpdmF0ZSBzeW5jUHVibGlzaE9wdGlvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgLy8gZW5hYmxlIHB1Ymxpc2hpbmcgd2l0aCBuZXcgb3B0aW9ucyAtPiBbYXYxLCB2cDldXG4gICAgZm9yIChjb25zdCBwdWJsaXNoT3B0aW9uIG9mIHRoaXMucHVibGlzaE9wdGlvbnMpIHtcbiAgICAgIGNvbnN0IHsgdHJhY2tUeXBlIH0gPSBwdWJsaXNoT3B0aW9uO1xuICAgICAgaWYgKCF0aGlzLmlzUHVibGlzaGluZyh0cmFja1R5cGUpKSBjb250aW51ZTtcbiAgICAgIGlmICh0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuaGFzKHB1Ymxpc2hPcHRpb24pKSBjb250aW51ZTtcblxuICAgICAgY29uc3QgaXRlbSA9IHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5maW5kKFxuICAgICAgICAoaSkgPT5cbiAgICAgICAgICAhIWkudHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrICYmXG4gICAgICAgICAgaS5wdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSA9PT0gdHJhY2tUeXBlLFxuICAgICAgKTtcbiAgICAgIGlmICghaXRlbSB8fCAhaXRlbS50cmFuc2NlaXZlcikgY29udGludWU7XG5cbiAgICAgIC8vIHRha2UgdGhlIHRyYWNrIGZyb20gdGhlIGV4aXN0aW5nIHRyYW5zY2VpdmVyIGZvciB0aGUgc2FtZSB0cmFjayB0eXBlLFxuICAgICAgLy8gY2xvbmUgaXQgYW5kIHB1Ymxpc2ggaXQgd2l0aCB0aGUgbmV3IHB1Ymxpc2ggb3B0aW9uc1xuICAgICAgY29uc3QgdHJhY2sgPSB0aGlzLmNsb25lVHJhY2soaXRlbS50cmFuc2NlaXZlci5zZW5kZXIudHJhY2shKTtcbiAgICAgIGF3YWl0IHRoaXMuYWRkVHJhbnNjZWl2ZXIodHJhY2ssIHB1Ymxpc2hPcHRpb24pO1xuICAgIH1cblxuICAgIC8vIHN0b3AgcHVibGlzaGluZyB3aXRoIG9wdGlvbnMgbm90IHJlcXVpcmVkIGFueW1vcmUgLT4gW3ZwOV1cbiAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgdGhpcy50cmFuc2NlaXZlckNhY2hlLml0ZW1zKCkpIHtcbiAgICAgIGNvbnN0IHsgcHVibGlzaE9wdGlvbiwgdHJhbnNjZWl2ZXIgfSA9IGl0ZW07XG4gICAgICBjb25zdCBoYXNQdWJsaXNoT3B0aW9uID0gdGhpcy5wdWJsaXNoT3B0aW9ucy5zb21lKFxuICAgICAgICAob3B0aW9uKSA9PlxuICAgICAgICAgIG9wdGlvbi5pZCA9PT0gcHVibGlzaE9wdGlvbi5pZCAmJlxuICAgICAgICAgIG9wdGlvbi50cmFja1R5cGUgPT09IHB1Ymxpc2hPcHRpb24udHJhY2tUeXBlLFxuICAgICAgKTtcbiAgICAgIGlmIChoYXNQdWJsaXNoT3B0aW9uKSBjb250aW51ZTtcbiAgICAgIC8vIGl0IGlzIHNhZmUgdG8gc3RvcCB0aGUgdHJhY2sgaGVyZSwgaXQgaXMgYSBjbG9uZVxuICAgICAgdGhpcy5zdG9wVHJhY2sodHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrKTtcbiAgICAgIGF3YWl0IHRoaXMudXBkYXRlVHJhbnNjZWl2ZXIodHJhbnNjZWl2ZXIsIG51bGwsIHB1Ymxpc2hPcHRpb24udHJhY2tUeXBlKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gdHJhY2sgdHlwZSBpcyBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkIHRvIHRoZSBTRlUuXG4gICAqXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHRyYWNrIHR5cGUgdG8gY2hlY2suIElmIG9taXR0ZWQsIGNoZWNrcyBpZiBhbnkgdHJhY2sgaXMgYmVpbmcgcHVibGlzaGVkLlxuICAgKi9cbiAgaXNQdWJsaXNoaW5nID0gKHRyYWNrVHlwZT86IFRyYWNrVHlwZSk6IGJvb2xlYW4gPT4ge1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuaXRlbXMoKSkge1xuICAgICAgaWYgKHRyYWNrVHlwZSAmJiBpdGVtLnB1Ymxpc2hPcHRpb24udHJhY2tUeXBlICE9PSB0cmFja1R5cGUpIGNvbnRpbnVlO1xuXG4gICAgICBjb25zdCB0cmFjayA9IGl0ZW0udHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrO1xuICAgICAgaWYgKCF0cmFjaykgY29udGludWU7XG5cbiAgICAgIGlmICh0cmFjay5yZWFkeVN0YXRlID09PSAnbGl2ZScgJiYgdHJhY2suZW5hYmxlZCkgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIGNsb25lZCB0cmFjayB0aGF0IGlzIGJlaW5nIHB1Ymxpc2hlZCB0byB0aGUgU0ZVLlxuICAgKi9cbiAgc3RvcFRyYWNrcyA9ICguLi50cmFja1R5cGVzOiBUcmFja1R5cGVbXSkgPT4ge1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuaXRlbXMoKSkge1xuICAgICAgY29uc3QgeyBwdWJsaXNoT3B0aW9uLCB0cmFuc2NlaXZlciB9ID0gaXRlbTtcbiAgICAgIGlmICghdHJhY2tUeXBlcy5pbmNsdWRlcyhwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSkpIGNvbnRpbnVlO1xuICAgICAgdGhpcy5zdG9wVHJhY2sodHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIGFsbCB0aGUgY2xvbmVkIHRyYWNrcyB0aGF0IGFyZSBiZWluZyBwdWJsaXNoZWQgdG8gdGhlIFNGVS5cbiAgICovXG4gIHN0b3BBbGxUcmFja3MgPSAoKSA9PiB7XG4gICAgZm9yIChjb25zdCB7IHRyYW5zY2VpdmVyIH0gb2YgdGhpcy50cmFuc2NlaXZlckNhY2hlLml0ZW1zKCkpIHtcbiAgICAgIHRoaXMuc3RvcFRyYWNrKHRyYW5zY2VpdmVyLnNlbmRlci50cmFjayk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgdHJhY2sgb2YgdGhpcy5jbG9uZWRUcmFja3MpIHtcbiAgICAgIHRoaXMuc3RvcFRyYWNrKHRyYWNrKTtcbiAgICB9XG4gIH07XG5cbiAgcHJpdmF0ZSBjaGFuZ2VQdWJsaXNoUXVhbGl0eSA9IGFzeW5jICh2aWRlb1NlbmRlcjogVmlkZW9TZW5kZXIpID0+IHtcbiAgICBjb25zdCB7IHRyYWNrVHlwZSwgbGF5ZXJzLCBwdWJsaXNoT3B0aW9uSWQgfSA9IHZpZGVvU2VuZGVyO1xuICAgIGNvbnN0IGVuYWJsZWRMYXllcnMgPSBsYXllcnMuZmlsdGVyKChsKSA9PiBsLmFjdGl2ZSk7XG5cbiAgICBjb25zdCB0YWcgPSAnVXBkYXRlIHB1Ymxpc2ggcXVhbGl0eTonO1xuICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYCR7dGFnfSByZXF1ZXN0ZWQgbGF5ZXJzIGJ5IFNGVTpgLCBlbmFibGVkTGF5ZXJzKTtcblxuICAgIGNvbnN0IHRyYW5zY2VpdmVySWQgPSB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuZmluZChcbiAgICAgICh0KSA9PlxuICAgICAgICB0LnB1Ymxpc2hPcHRpb24uaWQgPT09IHB1Ymxpc2hPcHRpb25JZCAmJlxuICAgICAgICB0LnB1Ymxpc2hPcHRpb24udHJhY2tUeXBlID09PSB0cmFja1R5cGUsXG4gICAgKTtcbiAgICBjb25zdCBzZW5kZXIgPSB0cmFuc2NlaXZlcklkPy50cmFuc2NlaXZlci5zZW5kZXI7XG4gICAgaWYgKCFzZW5kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLmxvZ2dlcignd2FybicsIGAke3RhZ30gbm8gdmlkZW8gc2VuZGVyIGZvdW5kLmApO1xuICAgIH1cblxuICAgIGNvbnN0IHBhcmFtcyA9IHNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7XG4gICAgaWYgKHBhcmFtcy5lbmNvZGluZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dnZXIoJ3dhcm4nLCBgJHt0YWd9IHRoZXJlIGFyZSBubyBlbmNvZGluZ3Mgc2V0LmApO1xuICAgIH1cblxuICAgIGNvbnN0IGNvZGVjSW5Vc2UgPSB0cmFuc2NlaXZlcklkPy5wdWJsaXNoT3B0aW9uLmNvZGVjPy5uYW1lO1xuICAgIGNvbnN0IHVzZXNTdmNDb2RlYyA9IGNvZGVjSW5Vc2UgJiYgaXNTdmNDb2RlYyhjb2RlY0luVXNlKTtcblxuICAgIGxldCBjaGFuZ2VkID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCBlbmNvZGVyIG9mIHBhcmFtcy5lbmNvZGluZ3MpIHtcbiAgICAgIGNvbnN0IGxheWVyID0gdXNlc1N2Y0NvZGVjXG4gICAgICAgID8gLy8gZm9yIFNWQywgd2Ugb25seSBoYXZlIG9uZSBsYXllciAocSkgYW5kIG9mdGVuIHJpZCBpcyBvbWl0dGVkXG4gICAgICAgICAgZW5hYmxlZExheWVyc1swXVxuICAgICAgICA6IC8vIGZvciBub24tU1ZDLCB3ZSBuZWVkIHRvIGZpbmQgdGhlIGxheWVyIGJ5IHJpZCAoc2ltdWxjYXN0KVxuICAgICAgICAgIChlbmFibGVkTGF5ZXJzLmZpbmQoKGwpID0+IGwubmFtZSA9PT0gZW5jb2Rlci5yaWQpID8/XG4gICAgICAgICAgKHBhcmFtcy5lbmNvZGluZ3MubGVuZ3RoID09PSAxID8gZW5hYmxlZExheWVyc1swXSA6IHVuZGVmaW5lZCkpO1xuXG4gICAgICAvLyBmbGlwICdhY3RpdmUnIGZsYWcgb25seSB3aGVuIG5lY2Vzc2FyeVxuICAgICAgY29uc3Qgc2hvdWxkQWN0aXZhdGUgPSAhIWxheWVyPy5hY3RpdmU7XG4gICAgICBpZiAoc2hvdWxkQWN0aXZhdGUgIT09IGVuY29kZXIuYWN0aXZlKSB7XG4gICAgICAgIGVuY29kZXIuYWN0aXZlID0gc2hvdWxkQWN0aXZhdGU7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBza2lwIHRoZSByZXN0IG9mIHRoZSBzZXR0aW5ncyBpZiB0aGUgbGF5ZXIgaXMgZGlzYWJsZWQgb3Igbm90IGZvdW5kXG4gICAgICBpZiAoIWxheWVyKSBjb250aW51ZTtcblxuICAgICAgY29uc3Qge1xuICAgICAgICBtYXhGcmFtZXJhdGUsXG4gICAgICAgIHNjYWxlUmVzb2x1dGlvbkRvd25CeSxcbiAgICAgICAgbWF4Qml0cmF0ZSxcbiAgICAgICAgc2NhbGFiaWxpdHlNb2RlLFxuICAgICAgfSA9IGxheWVyO1xuICAgICAgaWYgKFxuICAgICAgICBzY2FsZVJlc29sdXRpb25Eb3duQnkgPj0gMSAmJlxuICAgICAgICBzY2FsZVJlc29sdXRpb25Eb3duQnkgIT09IGVuY29kZXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5XG4gICAgICApIHtcbiAgICAgICAgZW5jb2Rlci5zY2FsZVJlc29sdXRpb25Eb3duQnkgPSBzY2FsZVJlc29sdXRpb25Eb3duQnk7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG1heEJpdHJhdGUgPiAwICYmIG1heEJpdHJhdGUgIT09IGVuY29kZXIubWF4Qml0cmF0ZSkge1xuICAgICAgICBlbmNvZGVyLm1heEJpdHJhdGUgPSBtYXhCaXRyYXRlO1xuICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChtYXhGcmFtZXJhdGUgPiAwICYmIG1heEZyYW1lcmF0ZSAhPT0gZW5jb2Rlci5tYXhGcmFtZXJhdGUpIHtcbiAgICAgICAgZW5jb2Rlci5tYXhGcmFtZXJhdGUgPSBtYXhGcmFtZXJhdGU7XG4gICAgICAgIGNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBzY2FsYWJpbGl0eU1vZGUgaXMgbm90IGluIHRoZSB0eXBlZGVmcyB5ZXRcbiAgICAgIGlmIChzY2FsYWJpbGl0eU1vZGUgJiYgc2NhbGFiaWxpdHlNb2RlICE9PSBlbmNvZGVyLnNjYWxhYmlsaXR5TW9kZSkge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHNjYWxhYmlsaXR5TW9kZSBpcyBub3QgaW4gdGhlIHR5cGVkZWZzIHlldFxuICAgICAgICBlbmNvZGVyLnNjYWxhYmlsaXR5TW9kZSA9IHNjYWxhYmlsaXR5TW9kZTtcbiAgICAgICAgY2hhbmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgYWN0aXZlRW5jb2RlcnMgPSBwYXJhbXMuZW5jb2RpbmdzLmZpbHRlcigoZSkgPT4gZS5hY3RpdmUpO1xuICAgIGlmICghY2hhbmdlZCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9nZ2VyKCdpbmZvJywgYCR7dGFnfSBubyBjaGFuZ2U6YCwgYWN0aXZlRW5jb2RlcnMpO1xuICAgIH1cblxuICAgIGF3YWl0IHNlbmRlci5zZXRQYXJhbWV0ZXJzKHBhcmFtcyk7XG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgJHt0YWd9IGVuYWJsZWQgcmlkczpgLCBhY3RpdmVFbmNvZGVycyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc3RhcnRzIHRoZSBJQ0UgY29ubmVjdGlvbiBhbmQgcmVuZWdvdGlhdGVzIHdpdGggdGhlIFNGVS5cbiAgICovXG4gIHJlc3RhcnRJY2UgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1Jlc3RhcnRpbmcgSUNFIGNvbm5lY3Rpb24nKTtcbiAgICBjb25zdCBzaWduYWxpbmdTdGF0ZSA9IHRoaXMucGMuc2lnbmFsaW5nU3RhdGU7XG4gICAgaWYgKHRoaXMuaXNJY2VSZXN0YXJ0aW5nIHx8IHNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1sb2NhbC1vZmZlcicpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdJQ0UgcmVzdGFydCBpcyBhbHJlYWR5IGluIHByb2dyZXNzJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGF3YWl0IHRoaXMubmVnb3RpYXRlKHsgaWNlUmVzdGFydDogdHJ1ZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhdGVzIGEgbmV3IG9mZmVyL2Fuc3dlciBleGNoYW5nZSB3aXRoIHRoZSBjdXJyZW50bHkgY29ubmVjdGVkIFNGVS5cbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgdGhlIG9wdGlvbmFsIG9mZmVyIG9wdGlvbnMgdG8gdXNlLlxuICAgKi9cbiAgcHJpdmF0ZSBuZWdvdGlhdGUgPSBhc3luYyAob3B0aW9ucz86IFJUQ09mZmVyT3B0aW9ucyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHJldHVybiB3aXRob3V0Q29uY3VycmVuY3koYHB1Ymxpc2hlci5uZWdvdGlhdGUuJHt0aGlzLmxvY2t9YCwgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCB0aGlzLnBjLmNyZWF0ZU9mZmVyKG9wdGlvbnMpO1xuICAgICAgY29uc3QgdHJhY2tzID0gdGhpcy5nZXRBbm5vdW5jZWRUcmFja3Mob2ZmZXIuc2RwKTtcbiAgICAgIGlmICghdHJhY2tzLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBuZWdvdGlhdGUgd2l0aG91dCBhbnkgdHJhY2tzYCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gb3B0aW9ucz8uaWNlUmVzdGFydCA/PyBmYWxzZTtcbiAgICAgICAgYXdhaXQgdGhpcy5wYy5zZXRMb2NhbERlc2NyaXB0aW9uKG9mZmVyKTtcblxuICAgICAgICBjb25zdCB7IHNkcCA9ICcnIH0gPSBvZmZlcjtcbiAgICAgICAgY29uc3QgeyByZXNwb25zZSB9ID0gYXdhaXQgdGhpcy5zZnVDbGllbnQuc2V0UHVibGlzaGVyKHsgc2RwLCB0cmFja3MgfSk7XG4gICAgICAgIGlmIChyZXNwb25zZS5lcnJvcikgdGhyb3cgbmV3IE5lZ290aWF0aW9uRXJyb3IocmVzcG9uc2UuZXJyb3IpO1xuXG4gICAgICAgIGNvbnN0IHsgc2RwOiBhbnN3ZXJTZHAgfSA9IHJlc3BvbnNlO1xuICAgICAgICBhd2FpdCB0aGlzLnBjLnNldFJlbW90ZURlc2NyaXB0aW9uKHsgdHlwZTogJ2Fuc3dlcicsIHNkcDogYW5zd2VyU2RwIH0pO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIG5lZ290aWF0aW9uIGZhaWxlZCwgcm9sbGJhY2sgdG8gdGhlIHByZXZpb3VzIHN0YXRlXG4gICAgICAgIGlmICh0aGlzLnBjLnNpZ25hbGluZ1N0YXRlID09PSAnaGF2ZS1sb2NhbC1vZmZlcicpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzLnBjLnNldExvY2FsRGVzY3JpcHRpb24oeyB0eXBlOiAncm9sbGJhY2snIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRoaXMuaXNJY2VSZXN0YXJ0aW5nID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHRoaXMuYWRkVHJpY2tsZWRJY2VDYW5kaWRhdGVzKCk7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHRyYWNrcyB0aGF0IGFyZSBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkLlxuICAgKi9cbiAgZ2V0UHVibGlzaGVkVHJhY2tzID0gKCk6IE1lZGlhU3RyZWFtVHJhY2tbXSA9PiB7XG4gICAgY29uc3QgdHJhY2tzOiBNZWRpYVN0cmVhbVRyYWNrW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHsgdHJhbnNjZWl2ZXIgfSBvZiB0aGlzLnRyYW5zY2VpdmVyQ2FjaGUuaXRlbXMoKSkge1xuICAgICAgY29uc3QgdHJhY2sgPSB0cmFuc2NlaXZlci5zZW5kZXIudHJhY2s7XG4gICAgICBpZiAodHJhY2sgJiYgdHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnKSB0cmFja3MucHVzaCh0cmFjayk7XG4gICAgfVxuICAgIHJldHVybiB0cmFja3M7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHRyYWNrcyB0aGF0IGFyZSBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkLlxuICAgKiBAcGFyYW0gc2RwIGFuIG9wdGlvbmFsIFNEUCB0byBleHRyYWN0IHRoZSBgbWlkYCBmcm9tLlxuICAgKi9cbiAgZ2V0QW5ub3VuY2VkVHJhY2tzID0gKHNkcDogc3RyaW5nIHwgdW5kZWZpbmVkKTogVHJhY2tJbmZvW10gPT4ge1xuICAgIGNvbnN0IHRyYWNrSW5mb3M6IFRyYWNrSW5mb1tdID0gW107XG4gICAgZm9yIChjb25zdCBidW5kbGUgb2YgdGhpcy50cmFuc2NlaXZlckNhY2hlLml0ZW1zKCkpIHtcbiAgICAgIGNvbnN0IHsgdHJhbnNjZWl2ZXIsIHB1Ymxpc2hPcHRpb24gfSA9IGJ1bmRsZTtcbiAgICAgIGNvbnN0IHRyYWNrID0gdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrO1xuICAgICAgaWYgKCF0cmFjaykgY29udGludWU7XG5cbiAgICAgIHRyYWNrSW5mb3MucHVzaCh0aGlzLnRvVHJhY2tJbmZvKHRyYW5zY2VpdmVyLCBwdWJsaXNoT3B0aW9uLCBzZHApKTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYWNrSW5mb3M7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYSBsaXN0IG9mIHRyYWNrcyB0aGF0IGFyZSBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkLlxuICAgKiBUaGlzIG1ldGhvZCBzaGFsbCBiZSB1c2VkIGZvciB0aGUgcmVjb25uZWN0aW9uIGZsb3cuXG4gICAqIFRoZXJlIHdlIHNob3VsZG4ndCBhbm5vdW5jZSB0aGUgdHJhY2tzIHRoYXQgaGF2ZSBiZWVuIHN0b3BwZWQgZHVlIHRvIGEgY29kZWMgc3dpdGNoLlxuICAgKi9cbiAgZ2V0QW5ub3VuY2VkVHJhY2tzRm9yUmVjb25uZWN0ID0gKCk6IFRyYWNrSW5mb1tdID0+IHtcbiAgICBjb25zdCBzZHAgPSB0aGlzLnBjLmxvY2FsRGVzY3JpcHRpb24/LnNkcDtcbiAgICBjb25zdCB0cmFja0luZm9zOiBUcmFja0luZm9bXSA9IFtdO1xuICAgIGZvciAoY29uc3QgcHVibGlzaE9wdGlvbiBvZiB0aGlzLnB1Ymxpc2hPcHRpb25zKSB7XG4gICAgICBjb25zdCB0cmFuc2NlaXZlciA9IHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5nZXQocHVibGlzaE9wdGlvbik7XG4gICAgICBpZiAoIXRyYW5zY2VpdmVyIHx8ICF0cmFuc2NlaXZlci5zZW5kZXIudHJhY2spIGNvbnRpbnVlO1xuXG4gICAgICB0cmFja0luZm9zLnB1c2godGhpcy50b1RyYWNrSW5mbyh0cmFuc2NlaXZlciwgcHVibGlzaE9wdGlvbiwgc2RwKSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFja0luZm9zO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyB0aGUgZ2l2ZW4gdHJhbnNjZWl2ZXIgdG8gYSBgVHJhY2tJbmZvYCBvYmplY3QuXG4gICAqL1xuICBwcml2YXRlIHRvVHJhY2tJbmZvID0gKFxuICAgIHRyYW5zY2VpdmVyOiBSVENSdHBUcmFuc2NlaXZlcixcbiAgICBwdWJsaXNoT3B0aW9uOiBQdWJsaXNoT3B0aW9uLFxuICAgIHNkcDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICApOiBUcmFja0luZm8gPT4ge1xuICAgIGNvbnN0IHRyYWNrID0gdHJhbnNjZWl2ZXIuc2VuZGVyLnRyYWNrITtcbiAgICBjb25zdCBpc1RyYWNrTGl2ZSA9IHRyYWNrLnJlYWR5U3RhdGUgPT09ICdsaXZlJztcbiAgICBjb25zdCBsYXllcnMgPSBpc1RyYWNrTGl2ZVxuICAgICAgPyBjb21wdXRlVmlkZW9MYXllcnModHJhY2ssIHB1Ymxpc2hPcHRpb24pXG4gICAgICA6IHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5nZXRMYXllcnMocHVibGlzaE9wdGlvbik7XG4gICAgdGhpcy50cmFuc2NlaXZlckNhY2hlLnNldExheWVycyhwdWJsaXNoT3B0aW9uLCBsYXllcnMpO1xuXG4gICAgY29uc3QgaXNBdWRpb1RyYWNrID0gaXNBdWRpb1RyYWNrVHlwZShwdWJsaXNoT3B0aW9uLnRyYWNrVHlwZSk7XG4gICAgY29uc3QgaXNTdGVyZW8gPSBpc0F1ZGlvVHJhY2sgJiYgdHJhY2suZ2V0U2V0dGluZ3MoKS5jaGFubmVsQ291bnQgPT09IDI7XG4gICAgY29uc3QgdHJhbnNjZWl2ZXJJbmRleCA9IHRoaXMudHJhbnNjZWl2ZXJDYWNoZS5pbmRleE9mKHRyYW5zY2VpdmVyKTtcbiAgICBjb25zdCBhdWRpb1NldHRpbmdzID0gdGhpcy5zdGF0ZS5zZXR0aW5ncz8uYXVkaW87XG5cbiAgICByZXR1cm4ge1xuICAgICAgdHJhY2tJZDogdHJhY2suaWQsXG4gICAgICBsYXllcnM6IHRvVmlkZW9MYXllcnMobGF5ZXJzKSxcbiAgICAgIHRyYWNrVHlwZTogcHVibGlzaE9wdGlvbi50cmFja1R5cGUsXG4gICAgICBtaWQ6IGV4dHJhY3RNaWQodHJhbnNjZWl2ZXIsIHRyYW5zY2VpdmVySW5kZXgsIHNkcCksXG4gICAgICBzdGVyZW86IGlzU3RlcmVvLFxuICAgICAgZHR4OiBpc0F1ZGlvVHJhY2sgJiYgISFhdWRpb1NldHRpbmdzPy5vcHVzX2R0eF9lbmFibGVkLFxuICAgICAgcmVkOiBpc0F1ZGlvVHJhY2sgJiYgISFhdWRpb1NldHRpbmdzPy5yZWR1bmRhbnRfY29kaW5nX2VuYWJsZWQsXG4gICAgICBtdXRlZDogIWlzVHJhY2tMaXZlLFxuICAgICAgY29kZWM6IHB1Ymxpc2hPcHRpb24uY29kZWMsXG4gICAgICBwdWJsaXNoT3B0aW9uSWQ6IHB1Ymxpc2hPcHRpb24uaWQsXG4gICAgfTtcbiAgfTtcblxuICBwcml2YXRlIGNsb25lVHJhY2sgPSAodHJhY2s6IE1lZGlhU3RyZWFtVHJhY2spOiBNZWRpYVN0cmVhbVRyYWNrID0+IHtcbiAgICBjb25zdCBjbG9uZSA9IHRyYWNrLmNsb25lKCk7XG4gICAgdGhpcy5jbG9uZWRUcmFja3MuYWRkKGNsb25lKTtcbiAgICByZXR1cm4gY2xvbmU7XG4gIH07XG5cbiAgcHJpdmF0ZSBzdG9wVHJhY2sgPSAodHJhY2s6IE1lZGlhU3RyZWFtVHJhY2sgfCBudWxsIHwgdW5kZWZpbmVkKSA9PiB7XG4gICAgaWYgKCF0cmFjaykgcmV0dXJuO1xuICAgIHRyYWNrLnN0b3AoKTtcbiAgICB0aGlzLmNsb25lZFRyYWNrcy5kZWxldGUodHJhY2spO1xuICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgQmFzZVBlZXJDb25uZWN0aW9uLFxuICBCYXNlUGVlckNvbm5lY3Rpb25PcHRzLFxufSBmcm9tICcuL0Jhc2VQZWVyQ29ubmVjdGlvbic7XG5pbXBvcnQgeyBOZWdvdGlhdGlvbkVycm9yIH0gZnJvbSAnLi9OZWdvdGlhdGlvbkVycm9yJztcbmltcG9ydCB7IFBlZXJUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IFN1YnNjcmliZXJPZmZlciB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IHRvVHJhY2tUeXBlLCB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5IH0gZnJvbSAnLi9oZWxwZXJzL3RyYWNrcyc7XG5pbXBvcnQgeyBlbmFibGVTdGVyZW8gfSBmcm9tICcuL2hlbHBlcnMvc2RwJztcblxuLyoqXG4gKiBBIHdyYXBwZXIgYXJvdW5kIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gIHRoYXQgaGFuZGxlcyB0aGUgaW5jb21pbmdcbiAqIG1lZGlhIHN0cmVhbXMgZnJvbSB0aGUgU0ZVLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5leHBvcnQgY2xhc3MgU3Vic2NyaWJlciBleHRlbmRzIEJhc2VQZWVyQ29ubmVjdGlvbiB7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IGBTdWJzY3JpYmVyYCBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdHM6IEJhc2VQZWVyQ29ubmVjdGlvbk9wdHMpIHtcbiAgICBzdXBlcihQZWVyVHlwZS5TVUJTQ1JJQkVSLCBvcHRzKTtcbiAgICB0aGlzLnBjLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5oYW5kbGVPblRyYWNrKTtcblxuICAgIHRoaXMub24oJ3N1YnNjcmliZXJPZmZlcicsIGFzeW5jIChzdWJzY3JpYmVyT2ZmZXIpID0+IHtcbiAgICAgIHJldHVybiB0aGlzLm5lZ290aWF0ZShzdWJzY3JpYmVyT2ZmZXIpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgYE5lZ290aWF0aW9uIGZhaWxlZC5gLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogRGV0YWNoZXMgdGhlIGV2ZW50IGhhbmRsZXJzIGZyb20gdGhlIGBSVENQZWVyQ29ubmVjdGlvbmAuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gd2Ugd2FudCB0byByZXBsYWNlIHRoZSBgUlRDUGVlckNvbm5lY3Rpb25gXG4gICAqIGluc3RhbmNlIHdpdGggYSBuZXcgb25lIChpbiBjYXNlIG9mIG1pZ3JhdGlvbikuXG4gICAqL1xuICBkZXRhY2hFdmVudEhhbmRsZXJzKCkge1xuICAgIHN1cGVyLmRldGFjaEV2ZW50SGFuZGxlcnMoKTtcbiAgICB0aGlzLnBjLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYWNrJywgdGhpcy5oYW5kbGVPblRyYWNrKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN0YXJ0cyB0aGUgSUNFIGNvbm5lY3Rpb24gYW5kIHJlbmVnb3RpYXRlcyB3aXRoIHRoZSBTRlUuXG4gICAqL1xuICByZXN0YXJ0SWNlID0gYXN5bmMgKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdSZXN0YXJ0aW5nIElDRSBjb25uZWN0aW9uJyk7XG4gICAgaWYgKHRoaXMucGMuc2lnbmFsaW5nU3RhdGUgPT09ICdoYXZlLXJlbW90ZS1vZmZlcicpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdJQ0UgcmVzdGFydCBpcyBhbHJlYWR5IGluIHByb2dyZXNzJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0aGlzLnBjLmNvbm5lY3Rpb25TdGF0ZSA9PT0gJ25ldycpIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnZGVidWcnLFxuICAgICAgICBgSUNFIGNvbm5lY3Rpb24gaXMgbm90IHlldCBlc3RhYmxpc2hlZCwgc2tpcHBpbmcgcmVzdGFydC5gLFxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgcHJldmlvdXNJc0ljZVJlc3RhcnRpbmcgPSB0aGlzLmlzSWNlUmVzdGFydGluZztcbiAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IHRydWU7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgcmVzcG9uc2UgfSA9IGF3YWl0IHRoaXMuc2Z1Q2xpZW50LmljZVJlc3RhcnQoe1xuICAgICAgICBwZWVyVHlwZTogUGVlclR5cGUuU1VCU0NSSUJFUixcbiAgICAgIH0pO1xuICAgICAgaWYgKHJlc3BvbnNlLmVycm9yKSB0aHJvdyBuZXcgTmVnb3RpYXRpb25FcnJvcihyZXNwb25zZS5lcnJvcik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gcmVzdG9yZSB0aGUgcHJldmlvdXMgc3RhdGUsIGFzIG91ciBpbnRlbnQgZm9yIHJlc3RhcnRpbmcgSUNFIGZhaWxlZFxuICAgICAgdGhpcy5pc0ljZVJlc3RhcnRpbmcgPSBwcmV2aW91c0lzSWNlUmVzdGFydGluZztcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9O1xuXG4gIHByaXZhdGUgaGFuZGxlT25UcmFjayA9IChlOiBSVENUcmFja0V2ZW50KSA9PiB7XG4gICAgY29uc3QgW3ByaW1hcnlTdHJlYW1dID0gZS5zdHJlYW1zO1xuICAgIC8vIGV4YW1wbGU6IGBlM2Y2YWFmOC1iMDNkLTQ5MTEtYmUzNi04M2Y0N2QzN2E3NmE6VFJBQ0tfVFlQRV9WSURFT2BcbiAgICBjb25zdCBbdHJhY2tJZCwgcmF3VHJhY2tUeXBlXSA9IHByaW1hcnlTdHJlYW0uaWQuc3BsaXQoJzonKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudFRvVXBkYXRlID0gdGhpcy5zdGF0ZS5wYXJ0aWNpcGFudHMuZmluZChcbiAgICAgIChwKSA9PiBwLnRyYWNrTG9va3VwUHJlZml4ID09PSB0cmFja0lkLFxuICAgICk7XG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICAnZGVidWcnLFxuICAgICAgYFtvblRyYWNrXTogR290IHJlbW90ZSAke3Jhd1RyYWNrVHlwZX0gdHJhY2sgZm9yIHVzZXJJZDogJHtwYXJ0aWNpcGFudFRvVXBkYXRlPy51c2VySWR9YCxcbiAgICAgIGUudHJhY2suaWQsXG4gICAgICBlLnRyYWNrLFxuICAgICk7XG5cbiAgICBjb25zdCB0cmFja0RlYnVnSW5mbyA9IGAke3BhcnRpY2lwYW50VG9VcGRhdGU/LnVzZXJJZH0gJHtyYXdUcmFja1R5cGV9OiR7dHJhY2tJZH1gO1xuICAgIGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcignbXV0ZScsICgpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYFtvblRyYWNrXTogVHJhY2sgbXV0ZWQ6ICR7dHJhY2tEZWJ1Z0luZm99YCk7XG4gICAgfSk7XG5cbiAgICBlLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ3VubXV0ZScsICgpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYFtvblRyYWNrXTogVHJhY2sgdW5tdXRlZDogJHt0cmFja0RlYnVnSW5mb31gKTtcbiAgICB9KTtcblxuICAgIGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBbb25UcmFja106IFRyYWNrIGVuZGVkOiAke3RyYWNrRGVidWdJbmZvfWApO1xuICAgICAgdGhpcy5zdGF0ZS5yZW1vdmVPcnBoYW5lZFRyYWNrKHByaW1hcnlTdHJlYW0uaWQpO1xuICAgIH0pO1xuXG4gICAgY29uc3QgdHJhY2tUeXBlID0gdG9UcmFja1R5cGUocmF3VHJhY2tUeXBlKTtcbiAgICBpZiAoIXRyYWNrVHlwZSkge1xuICAgICAgcmV0dXJuIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBVbmtub3duIHRyYWNrIHR5cGU6ICR7cmF3VHJhY2tUeXBlfWApO1xuICAgIH1cblxuICAgIHRoaXMudHJhY2tJZFRvVHJhY2tUeXBlLnNldChlLnRyYWNrLmlkLCB0cmFja1R5cGUpO1xuXG4gICAgaWYgKCFwYXJ0aWNpcGFudFRvVXBkYXRlKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICBgW29uVHJhY2tdOiBSZWNlaXZlZCB0cmFjayBmb3IgdW5rbm93biBwYXJ0aWNpcGFudDogJHt0cmFja0lkfWAsXG4gICAgICAgIGUsXG4gICAgICApO1xuICAgICAgdGhpcy5zdGF0ZS5yZWdpc3Rlck9ycGhhbmVkVHJhY2soe1xuICAgICAgICBpZDogcHJpbWFyeVN0cmVhbS5pZCxcbiAgICAgICAgdHJhY2tMb29rdXBQcmVmaXg6IHRyYWNrSWQsXG4gICAgICAgIHRyYWNrOiBwcmltYXJ5U3RyZWFtLFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBzdHJlYW1LaW5kUHJvcCA9IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkodHJhY2tUeXBlKTtcbiAgICBpZiAoIXN0cmVhbUtpbmRQcm9wKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgVW5rbm93biB0cmFjayB0eXBlOiAke3Jhd1RyYWNrVHlwZX1gKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBnZXQgdGhlIHByZXZpb3VzIHN0cmVhbSB0byBkaXNwb3NlIGl0IGxhdGVyXG4gICAgLy8gdXN1YWxseSB0aGlzIGhhcHBlbnMgZHVyaW5nIG1pZ3JhdGlvbiwgd2hlbiB0aGUgc3RyZWFtIGlzIHJlcGxhY2VkXG4gICAgLy8gd2l0aCBhIG5ldyBvbmUgYnV0IHRoZSBvbGQgb25lIGlzIHN0aWxsIGluIHRoZSBzdGF0ZVxuICAgIGNvbnN0IHByZXZpb3VzU3RyZWFtID0gcGFydGljaXBhbnRUb1VwZGF0ZVtzdHJlYW1LaW5kUHJvcF07XG5cbiAgICAvLyByZXBsYWNlIHRoZSBwcmV2aW91cyBzdHJlYW0gd2l0aCB0aGUgbmV3IG9uZSwgcHJldmVudHMgZmxpY2tlcmluZ1xuICAgIHRoaXMuc3RhdGUudXBkYXRlUGFydGljaXBhbnQocGFydGljaXBhbnRUb1VwZGF0ZS5zZXNzaW9uSWQsIHtcbiAgICAgIFtzdHJlYW1LaW5kUHJvcF06IHByaW1hcnlTdHJlYW0sXG4gICAgfSk7XG5cbiAgICAvLyBub3csIGRpc3Bvc2UgdGhlIHByZXZpb3VzIHN0cmVhbSBpZiBpdCBleGlzdHNcbiAgICBpZiAocHJldmlvdXNTdHJlYW0pIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgIGBbb25UcmFja106IENsZWFuaW5nIHVwIHByZXZpb3VzIHJlbW90ZSAke2UudHJhY2sua2luZH0gdHJhY2tzIGZvciB1c2VySWQ6ICR7cGFydGljaXBhbnRUb1VwZGF0ZS51c2VySWR9YCxcbiAgICAgICk7XG4gICAgICBwcmV2aW91c1N0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIHQuc3RvcCgpO1xuICAgICAgICBwcmV2aW91c1N0cmVhbS5yZW1vdmVUcmFjayh0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBwcml2YXRlIG5lZ290aWF0ZSA9IGFzeW5jIChzdWJzY3JpYmVyT2ZmZXI6IFN1YnNjcmliZXJPZmZlcikgPT4ge1xuICAgIGF3YWl0IHRoaXMucGMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe1xuICAgICAgdHlwZTogJ29mZmVyJyxcbiAgICAgIHNkcDogc3Vic2NyaWJlck9mZmVyLnNkcCxcbiAgICB9KTtcblxuICAgIHRoaXMuYWRkVHJpY2tsZWRJY2VDYW5kaWRhdGVzKCk7XG5cbiAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB0aGlzLnBjLmNyZWF0ZUFuc3dlcigpO1xuICAgIGlmIChhbnN3ZXIuc2RwKSB7XG4gICAgICBhbnN3ZXIuc2RwID0gZW5hYmxlU3RlcmVvKHN1YnNjcmliZXJPZmZlci5zZHAsIGFuc3dlci5zZHApO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLnBjLnNldExvY2FsRGVzY3JpcHRpb24oYW5zd2VyKTtcblxuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LnNlbmRBbnN3ZXIoe1xuICAgICAgcGVlclR5cGU6IFBlZXJUeXBlLlNVQlNDUklCRVIsXG4gICAgICBzZHA6IGFuc3dlci5zZHAgfHwgJycsXG4gICAgfSk7XG5cbiAgICB0aGlzLmlzSWNlUmVzdGFydGluZyA9IGZhbHNlO1xuICB9O1xufVxuIiwiaW1wb3J0IHsgU2Z1RXZlbnQgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgRGlzcGF0Y2hhYmxlTWVzc2FnZSwgU2Z1RXZlbnRLaW5kcyB9IGZyb20gJy4vRGlzcGF0Y2hlcic7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVXZWJTb2NrZXRTaWduYWxDaGFubmVsID0gKG9wdHM6IHtcbiAgZW5kcG9pbnQ6IHN0cmluZztcbiAgb25NZXNzYWdlOiA8SyBleHRlbmRzIFNmdUV2ZW50S2luZHM+KG1lc3NhZ2U6IERpc3BhdGNoYWJsZU1lc3NhZ2U8Sz4pID0+IHZvaWQ7XG4gIGxvZ1RhZzogc3RyaW5nO1xufSkgPT4ge1xuICBjb25zdCB7IGVuZHBvaW50LCBvbk1lc3NhZ2UsIGxvZ1RhZyB9ID0gb3B0cztcbiAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnU2Z1Q2xpZW50V1MnLCBsb2dUYWddKTtcbiAgbG9nZ2VyKCdkZWJ1ZycsICdDcmVhdGluZyBzaWduYWxpbmcgV1MgY2hhbm5lbDonLCBlbmRwb2ludCk7XG4gIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldChlbmRwb2ludCk7XG4gIHdzLmJpbmFyeVR5cGUgPSAnYXJyYXlidWZmZXInOyAvLyBkbyB3ZSBuZWVkIHRoaXM/XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZSkgPT4ge1xuICAgIGxvZ2dlcignZXJyb3InLCAnU2lnbmFsaW5nIFdTIGNoYW5uZWwgZXJyb3InLCBlKTtcbiAgfSk7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignY2xvc2UnLCAoZSkgPT4ge1xuICAgIGxvZ2dlcignaW5mbycsICdTaWduYWxpbmcgV1MgY2hhbm5lbCBpcyBjbG9zZWQnLCBlKTtcbiAgfSk7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIChlKSA9PiB7XG4gICAgbG9nZ2VyKCdpbmZvJywgJ1NpZ25hbGluZyBXUyBjaGFubmVsIGlzIG9wZW4nLCBlKTtcbiAgfSk7XG5cbiAgd3MuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChlKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPVxuICAgICAgICBlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlclxuICAgICAgICAgID8gU2Z1RXZlbnQuZnJvbUJpbmFyeShuZXcgVWludDhBcnJheShlLmRhdGEpKVxuICAgICAgICAgIDogU2Z1RXZlbnQuZnJvbUpzb25TdHJpbmcoZS5kYXRhLnRvU3RyaW5nKCkpO1xuXG4gICAgICBvbk1lc3NhZ2UobWVzc2FnZSBhcyBEaXNwYXRjaGFibGVNZXNzYWdlPFNmdUV2ZW50S2luZHM+KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGxvZ2dlcihcbiAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgJ0ZhaWxlZCB0byBkZWNvZGUgYSBtZXNzYWdlLiBDaGVjayB3aGV0aGVyIHRoZSBQcm90byBtb2RlbHMgbWF0Y2guJyxcbiAgICAgICAgeyBldmVudDogZSwgZXJyb3I6IGVyciB9LFxuICAgICAgKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gd3M7XG59O1xuIiwiaW1wb3J0IHsgSUNFU2VydmVyIH0gZnJvbSAnLi4vLi4vZ2VuL2Nvb3JkaW5hdG9yJztcblxuZXhwb3J0IGNvbnN0IHRvUnRjQ29uZmlndXJhdGlvbiA9IChjb25maWc6IElDRVNlcnZlcltdKTogUlRDQ29uZmlndXJhdGlvbiA9PiB7XG4gIHJldHVybiB7XG4gICAgYnVuZGxlUG9saWN5OiAnbWF4LWJ1bmRsZScsXG4gICAgaWNlU2VydmVyczogY29uZmlnLm1hcCgoaWNlKSA9PiAoe1xuICAgICAgdXJsczogaWNlLnVybHMsXG4gICAgICB1c2VybmFtZTogaWNlLnVzZXJuYW1lLFxuICAgICAgY3JlZGVudGlhbDogaWNlLnBhc3N3b3JkLFxuICAgIH0pKSxcbiAgfTtcbn07XG4iLCJleHBvcnQgaW50ZXJmYWNlIFNhZmVQcm9taXNlPFQ+IHtcbiAgKCk6IFByb21pc2U8VD47XG4gIGNoZWNrUGVuZGluZygpOiBib29sZWFuO1xufVxuXG50eXBlIEZ1bGZpbGxtZW50PFQ+ID1cbiAgfCB7XG4gICAgICBzdGF0dXM6ICdyZXNvbHZlZCc7XG4gICAgICByZXN1bHQ6IFQ7XG4gICAgfVxuICB8IHtcbiAgICAgIHN0YXR1czogJ3JlamVjdGVkJztcbiAgICAgIGVycm9yOiB1bmtub3duO1xuICAgIH07XG5cbi8qKlxuICogU2F2aW5nIGEgbG9uZy1saXZlZCByZWZlcmVuY2UgdG8gYSBwcm9taXNlIHRoYXQgY2FuIHJlamVjdCBjYW4gYmUgdW5zYWZlLFxuICogc2luY2UgcmVqZWN0aW5nIHRoZSBwcm9taXNlIGNhdXNlcyBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9yIChldmVuIGlmIHRoZVxuICogcmVqZWN0aW9uIGlzIGhhbmRsZWQgZXZlcnl3aGVyZSBwcm9taXNlIHJlc3VsdCBpcyBleHBlY3RlZCkuXG4gKlxuICogVG8gYXZvaWQgdGhhdCwgd2UgYWRkIGJvdGggcmVzb2x1dGlvbiBhbmQgcmVqZWN0aW9uIGhhbmRsZXJzIHRvIHRoZSBwcm9taXNlLlxuICogVGhhdCB3YXksIHRoZSBzYXZlZCBwcm9taXNlIG5ldmVyIHJlamVjdHMuIEEgY2FsbGJhY2sgaXMgcHJvdmlkZWQgYXMgcmV0dXJuXG4gKiB2YWx1ZSB0byBidWlsZCBhICpuZXcqIHByb21pc2UsIHRoYXQgcmVzb2x2ZXMgYW5kIHJlamVjdHMgYWxvbmcgd2l0aFxuICogdGhlIG9yaWdpbmFsIHByb21pc2UuXG4gKiBAcGFyYW0gcHJvbWlzZSBQcm9taXNlIHRvIHdyYXAsIHdoaWNoIHBvc3NpYmx5IHJlamVjdHNcbiAqIEByZXR1cm5zIENhbGxiYWNrIHRvIGJ1aWxkIGEgbmV3IHByb21pc2UsIHdoaWNoIHJlc29sdmVzIGFuZCByZWplY3RzIGFsb25nXG4gKiB3aXRoIHRoZSBvcmlnaW5hbCBwcm9taXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYWtlU2FmZVByb21pc2U8VD4ocHJvbWlzZTogUHJvbWlzZTxUPik6IFNhZmVQcm9taXNlPFQ+IHtcbiAgbGV0IGlzUGVuZGluZyA9IHRydWU7XG5cbiAgY29uc3Qgc2FmZVByb21pc2U6IFByb21pc2U8RnVsZmlsbG1lbnQ8VD4+ID0gcHJvbWlzZVxuICAgIC50aGVuKFxuICAgICAgKHJlc3VsdCkgPT4gKHsgc3RhdHVzOiAncmVzb2x2ZWQnIGFzIGNvbnN0LCByZXN1bHQgfSksXG4gICAgICAoZXJyb3IpID0+ICh7IHN0YXR1czogJ3JlamVjdGVkJyBhcyBjb25zdCwgZXJyb3IgfSksXG4gICAgKVxuICAgIC5maW5hbGx5KCgpID0+IChpc1BlbmRpbmcgPSBmYWxzZSkpO1xuXG4gIGNvbnN0IHVud3JhcFByb21pc2UgPSAoKSA9PlxuICAgIHNhZmVQcm9taXNlLnRoZW4oKGZ1bGZpbGxtZW50KSA9PiB7XG4gICAgICBpZiAoZnVsZmlsbG1lbnQuc3RhdHVzID09PSAncmVqZWN0ZWQnKSB0aHJvdyBmdWxmaWxsbWVudC5lcnJvcjtcbiAgICAgIHJldHVybiBmdWxmaWxsbWVudC5yZXN1bHQ7XG4gICAgfSk7XG5cbiAgdW53cmFwUHJvbWlzZS5jaGVja1BlbmRpbmcgPSAoKSA9PiBpc1BlbmRpbmc7XG4gIHJldHVybiB1bndyYXBQcm9taXNlO1xufVxuXG5leHBvcnQgdHlwZSBQcm9taXNlV2l0aFJlc29sdmVyczxUPiA9IHtcbiAgcHJvbWlzZTogUHJvbWlzZTxUPjtcbiAgcmVzb2x2ZTogKHZhbHVlOiBUIHwgUHJvbWlzZUxpa2U8VD4pID0+IHZvaWQ7XG4gIHJlamVjdDogKHJlYXNvbjogYW55KSA9PiB2b2lkO1xuICBpc1Jlc29sdmVkOiAoKSA9PiBib29sZWFuO1xuICBpc1JlamVjdGVkOiAoKSA9PiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHByb21pc2Ugd2l0aCByZXNvbHZlcnMuXG4gKlxuICogQmFzZWQgb246XG4gKiAtIGh0dHBzOi8vZ2l0aHViLmNvbS90YzM5L3Byb3Bvc2FsLXByb21pc2Utd2l0aC1yZXNvbHZlcnMvYmxvYi9tYWluL3BvbHlmaWxscy5qc1xuICovXG5leHBvcnQgY29uc3QgcHJvbWlzZVdpdGhSZXNvbHZlcnMgPSA8VCA9IHZvaWQ+KCk6IFByb21pc2VXaXRoUmVzb2x2ZXJzPFQ+ID0+IHtcbiAgbGV0IHJlc29sdmU6ICh2YWx1ZTogVCB8IFByb21pc2VMaWtlPFQ+KSA9PiB2b2lkO1xuICBsZXQgcmVqZWN0OiAocmVhc29uOiBhbnkpID0+IHZvaWQ7XG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZTxUPigoX3Jlc29sdmUsIF9yZWplY3QpID0+IHtcbiAgICByZXNvbHZlID0gX3Jlc29sdmU7XG4gICAgcmVqZWN0ID0gX3JlamVjdDtcbiAgfSk7XG5cbiAgbGV0IGlzUmVzb2x2ZWQgPSBmYWxzZTtcbiAgbGV0IGlzUmVqZWN0ZWQgPSBmYWxzZTtcblxuICBjb25zdCByZXNvbHZlciA9ICh2YWx1ZTogVCB8IFByb21pc2VMaWtlPFQ+KSA9PiB7XG4gICAgaXNSZXNvbHZlZCA9IHRydWU7XG4gICAgcmVzb2x2ZSh2YWx1ZSk7XG4gIH07XG5cbiAgY29uc3QgcmVqZWN0ZXIgPSAocmVhc29uOiBhbnkpID0+IHtcbiAgICBpc1JlamVjdGVkID0gdHJ1ZTtcbiAgICByZWplY3QocmVhc29uKTtcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIHByb21pc2UsXG4gICAgcmVzb2x2ZTogcmVzb2x2ZXIsXG4gICAgcmVqZWN0OiByZWplY3RlcixcbiAgICBpc1Jlc29sdmVkOiAoKSA9PiBpc1Jlc29sdmVkLFxuICAgIGlzUmVqZWN0ZWQ6ICgpID0+IGlzUmVqZWN0ZWQsXG4gIH07XG59O1xuIiwiY29uc3QgdW5pbml0aWFsaXplZCA9IFN5bWJvbCgndW5pbml0aWFsaXplZCcpO1xuXG4vKipcbiAqIExhemlseSBjcmVhdGVzIGEgdmFsdWUgdXNpbmcgYSBwcm92aWRlZCBmYWN0b3J5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsYXp5PFQ+KGZhY3Rvcnk6ICgpID0+IFQpOiAoKSA9PiBUIHtcbiAgbGV0IHZhbHVlOiBUIHwgdHlwZW9mIHVuaW5pdGlhbGl6ZWQgPSB1bmluaXRpYWxpemVkO1xuICByZXR1cm4gKCkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5pbml0aWFsaXplZCkge1xuICAgICAgdmFsdWUgPSBmYWN0b3J5KCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xufVxuIiwiLy8gRG8gbm90IG1vZGlmeSB0aGlzIGZpbGUgbWFudWFsbHkuIEluc3RlYWQsIGVkaXQgd29ya2VyLnRzXG4vLyBhbmQgdGhlIHJ1biAuL2dlbmVyYXRlLXRpbWVyLXdvcmtlci5zaFxuZXhwb3J0IGNvbnN0IHRpbWVyV29ya2VyID0ge1xuICBzcmM6IGBjb25zdCB0aW1lcklkTWFwcGluZyA9IG5ldyBNYXAoKTtcbnNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4ge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBldmVudC5kYXRhO1xuICAgIHN3aXRjaCAocmVxdWVzdC50eXBlKSB7XG4gICAgICAgIGNhc2UgJ3NldFRpbWVvdXQnOlxuICAgICAgICBjYXNlICdzZXRJbnRlcnZhbCc6XG4gICAgICAgICAgICB0aW1lcklkTWFwcGluZy5zZXQocmVxdWVzdC5pZCwgKHJlcXVlc3QudHlwZSA9PT0gJ3NldFRpbWVvdXQnID8gc2V0VGltZW91dCA6IHNldEludGVydmFsKSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGljayhyZXF1ZXN0LmlkKTtcbiAgICAgICAgICAgICAgICBpZiAocmVxdWVzdC50eXBlID09PSAnc2V0VGltZW91dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXJJZE1hcHBpbmcuZGVsZXRlKHJlcXVlc3QuaWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHJlcXVlc3QudGltZW91dCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NsZWFyVGltZW91dCc6XG4gICAgICAgIGNhc2UgJ2NsZWFySW50ZXJ2YWwnOlxuICAgICAgICAgICAgKHJlcXVlc3QudHlwZSA9PT0gJ2NsZWFyVGltZW91dCcgPyBjbGVhclRpbWVvdXQgOiBjbGVhckludGVydmFsKSh0aW1lcklkTWFwcGluZy5nZXQocmVxdWVzdC5pZCkpO1xuICAgICAgICAgICAgdGltZXJJZE1hcHBpbmcuZGVsZXRlKHJlcXVlc3QuaWQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufSk7XG5mdW5jdGlvbiB0aWNrKGlkKSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHsgdHlwZTogJ3RpY2snLCBpZCB9O1xuICAgIHNlbGYucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG59YCxcbn07XG4iLCJpbXBvcnQgeyBsYXp5IH0gZnJvbSAnLi4vaGVscGVycy9sYXp5JztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgeyBUaW1lcldvcmtlckV2ZW50LCBUaW1lcldvcmtlclJlcXVlc3QgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB7IHRpbWVyV29ya2VyIH0gZnJvbSAnLi93b3JrZXIuYnVpbGQnO1xuXG5jbGFzcyBUaW1lcldvcmtlciB7XG4gIHByaXZhdGUgY3VycmVudFRpbWVySWQgPSAxO1xuICBwcml2YXRlIGNhbGxiYWNrcyA9IG5ldyBNYXA8bnVtYmVyLCAoKSA9PiB2b2lkPigpO1xuICBwcml2YXRlIHdvcmtlcjogV29ya2VyIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIGZhbGxiYWNrID0gZmFsc2U7XG5cbiAgc2V0dXAoeyB1c2VUaW1lcldvcmtlciA9IHRydWUgfTogeyB1c2VUaW1lcldvcmtlcj86IGJvb2xlYW4gfSA9IHt9KTogdm9pZCB7XG4gICAgaWYgKCF1c2VUaW1lcldvcmtlcikge1xuICAgICAgdGhpcy5mYWxsYmFjayA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHNvdXJjZSA9IHRpbWVyV29ya2VyLnNyYztcbiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbc291cmNlXSwge1xuICAgICAgICB0eXBlOiAnYXBwbGljYXRpb24vamF2YXNjcmlwdDsgY2hhcnNldD11dGYtOCcsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHNjcmlwdCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7XG4gICAgICB0aGlzLndvcmtlciA9IG5ldyBXb3JrZXIoc2NyaXB0LCB7IG5hbWU6ICdzdHItdGltZXItd29ya2VyJyB9KTtcbiAgICAgIHRoaXMud29ya2VyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCBpZCB9ID0gZXZlbnQuZGF0YSBhcyBUaW1lcldvcmtlckV2ZW50O1xuICAgICAgICBpZiAodHlwZSA9PT0gJ3RpY2snKSB7XG4gICAgICAgICAgdGhpcy5jYWxsYmFja3MuZ2V0KGlkKT8uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBnZXRMb2dnZXIoWyd0aW1lci13b3JrZXInXSkoJ2Vycm9yJywgZXJyKTtcbiAgICAgIHRoaXMuZmFsbGJhY2sgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy5jYWxsYmFja3MuY2xlYXIoKTtcbiAgICB0aGlzLndvcmtlcj8udGVybWluYXRlKCk7XG4gICAgdGhpcy53b3JrZXIgPSB1bmRlZmluZWQ7XG4gICAgdGhpcy5mYWxsYmFjayA9IGZhbHNlO1xuICB9XG5cbiAgZ2V0IHJlYWR5KCkge1xuICAgIHJldHVybiB0aGlzLmZhbGxiYWNrIHx8IEJvb2xlYW4odGhpcy53b3JrZXIpO1xuICB9XG5cbiAgc2V0SW50ZXJ2YWwoY2FsbGJhY2s6ICgpID0+IHZvaWQsIHRpbWVvdXQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2V0VGltZXIoJ3NldEludGVydmFsJywgY2FsbGJhY2ssIHRpbWVvdXQpO1xuICB9XG5cbiAgY2xlYXJJbnRlcnZhbChpZD86IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuY2xlYXJUaW1lcignY2xlYXJJbnRlcnZhbCcsIGlkKTtcbiAgfVxuXG4gIHNldFRpbWVvdXQoY2FsbGJhY2s6ICgpID0+IHZvaWQsIHRpbWVvdXQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuc2V0VGltZXIoJ3NldFRpbWVvdXQnLCBjYWxsYmFjaywgdGltZW91dCk7XG4gIH1cblxuICBjbGVhclRpbWVvdXQoaWQ/OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmNsZWFyVGltZXIoJ2NsZWFyVGltZW91dCcsIGlkKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0VGltZXIoXG4gICAgdHlwZTogJ3NldFRpbWVvdXQnIHwgJ3NldEludGVydmFsJyxcbiAgICBjYWxsYmFjazogKCkgPT4gdm9pZCxcbiAgICB0aW1lb3V0OiBudW1iZXIsXG4gICkge1xuICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgdGhpcy5zZXR1cCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gKHR5cGUgPT09ICdzZXRUaW1lb3V0JyA/IHNldFRpbWVvdXQgOiBzZXRJbnRlcnZhbCkoXG4gICAgICAgIGNhbGxiYWNrLFxuICAgICAgICB0aW1lb3V0LFxuICAgICAgKSBhcyB1bmtub3duIGFzIG51bWJlcjtcbiAgICB9XG5cbiAgICBjb25zdCBpZCA9IHRoaXMuZ2V0VGltZXJJZCgpO1xuXG4gICAgdGhpcy5jYWxsYmFja3Muc2V0KGlkLCAoKSA9PiB7XG4gICAgICBjYWxsYmFjaygpO1xuXG4gICAgICAvLyBUaW1lb3V0cyBhcmUgb25lLW9mZiBvcGVyYXRpb25zLCBzbyBubyBuZWVkIHRvIGtlZXAgY2FsbGJhY2sgcmVmZXJlbmNlXG4gICAgICAvLyBhZnRlciB0aW1lciBoYXMgZmlyZWRcbiAgICAgIGlmICh0eXBlID09PSAnc2V0VGltZW91dCcpIHtcbiAgICAgICAgdGhpcy5jYWxsYmFja3MuZGVsZXRlKGlkKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRoaXMuc2VuZE1lc3NhZ2UoeyB0eXBlLCBpZCwgdGltZW91dCB9KTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cblxuICBwcml2YXRlIGNsZWFyVGltZXIodHlwZTogJ2NsZWFyVGltZW91dCcgfCAnY2xlYXJJbnRlcnZhbCcsIGlkPzogbnVtYmVyKSB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghdGhpcy5yZWFkeSkge1xuICAgICAgdGhpcy5zZXR1cCgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmZhbGxiYWNrKSB7XG4gICAgICAodHlwZSA9PT0gJ2NsZWFyVGltZW91dCcgPyBjbGVhclRpbWVvdXQgOiBjbGVhckludGVydmFsKShpZCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5jYWxsYmFja3MuZGVsZXRlKGlkKTtcbiAgICB0aGlzLnNlbmRNZXNzYWdlKHsgdHlwZSwgaWQgfSk7XG4gIH1cblxuICBwcml2YXRlIGdldFRpbWVySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY3VycmVudFRpbWVySWQrKztcbiAgfVxuXG4gIHByaXZhdGUgc2VuZE1lc3NhZ2UobWVzc2FnZTogVGltZXJXb3JrZXJSZXF1ZXN0KSB7XG4gICAgaWYgKCF0aGlzLndvcmtlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSB0aW1lciB3b3JrZXIgYmVmb3JlIGl0J3Mgc2V0IHVwXCIpO1xuICAgIH1cblxuICAgIHRoaXMud29ya2VyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICB9XG59XG5cbmxldCB0aW1lcldvcmtlckVuYWJsZWQgPSBmYWxzZTtcblxuZXhwb3J0IGNvbnN0IGVuYWJsZVRpbWVyV29ya2VyID0gKCkgPT4ge1xuICB0aW1lcldvcmtlckVuYWJsZWQgPSB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFRpbWVycyA9IGxhenkoKCkgPT4ge1xuICBjb25zdCBpbnN0YW5jZSA9IG5ldyBUaW1lcldvcmtlcigpO1xuICBpbnN0YW5jZS5zZXR1cCh7IHVzZVRpbWVyV29ya2VyOiB0aW1lcldvcmtlckVuYWJsZWQgfSk7XG4gIHJldHVybiBpbnN0YW5jZTtcbn0pO1xuIiwiaW1wb3J0IHsgU2lnbmFsU2VydmVyQ2xpZW50IH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsLmNsaWVudCc7XG5pbXBvcnQge1xuICBjcmVhdGVTaWduYWxDbGllbnQsXG4gIHJldHJ5YWJsZSxcbiAgd2l0aEhlYWRlcnMsXG4gIHdpdGhSZXF1ZXN0TG9nZ2VyLFxuICB3aXRoUmVxdWVzdFRyYWNlcixcbn0gZnJvbSAnLi9ycGMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlV2ViU29ja2V0U2lnbmFsQ2hhbm5lbCxcbiAgRGlzcGF0Y2hlcixcbiAgSWNlVHJpY2tsZUJ1ZmZlcixcbiAgU2Z1RXZlbnRLaW5kcyxcbn0gZnJvbSAnLi9ydGMnO1xuaW1wb3J0IHtcbiAgSm9pblJlcXVlc3QsXG4gIEpvaW5SZXNwb25zZSxcbiAgU2Z1UmVxdWVzdCxcbn0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L2V2ZW50L2V2ZW50cyc7XG5pbXBvcnQge1xuICBJQ0VSZXN0YXJ0UmVxdWVzdCxcbiAgU2VuZEFuc3dlclJlcXVlc3QsXG4gIFNlbmRTdGF0c1JlcXVlc3QsXG4gIFNldFB1Ymxpc2hlclJlcXVlc3QsXG4gIFRyYWNrTXV0ZVN0YXRlLFxuICBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMsXG59IGZyb20gJy4vZ2VuL3ZpZGVvL3NmdS9zaWduYWxfcnBjL3NpZ25hbCc7XG5pbXBvcnQgeyBJQ0VUcmlja2xlIH0gZnJvbSAnLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jb29yZGluYXRvci9jb25uZWN0aW9uL2NsaWVudCc7XG5pbXBvcnQgeyBnZW5lcmF0ZVVVSUR2NCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi91dGlscyc7XG5pbXBvcnQgeyBDcmVkZW50aWFscyB9IGZyb20gJy4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IExvZ2dlciB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIGdldExvZ0xldmVsIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHtcbiAgbWFrZVNhZmVQcm9taXNlLFxuICBQcm9taXNlV2l0aFJlc29sdmVycyxcbiAgcHJvbWlzZVdpdGhSZXNvbHZlcnMsXG4gIFNhZmVQcm9taXNlLFxufSBmcm9tICcuL2hlbHBlcnMvcHJvbWlzZSc7XG5pbXBvcnQgeyBnZXRUaW1lcnMgfSBmcm9tICcuL3RpbWVycyc7XG5pbXBvcnQgeyBUcmFjZXIsIFRyYWNlU2xpY2UgfSBmcm9tICcuL3N0YXRzJztcblxuZXhwb3J0IHR5cGUgU3RyZWFtU2Z1Q2xpZW50Q29uc3RydWN0b3IgPSB7XG4gIC8qKlxuICAgKiBUaGUgZXZlbnQgZGlzcGF0Y2hlciBpbnN0YW5jZSB0byB1c2UuXG4gICAqL1xuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuXG4gIC8qKlxuICAgKiBUaGUgY3JlZGVudGlhbHMgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICovXG4gIGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcblxuICAvKipcbiAgICogYHNlc3Npb25JZGAgdG8gdXNlIGZvciB0aGUgY29ubmVjdGlvbi5cbiAgICovXG4gIHNlc3Npb25JZD86IHN0cmluZztcblxuICAvKipcbiAgICogQSBsb2cgdGFnIHRvIHVzZSBmb3IgbG9nZ2luZy4gVXNlZnVsIGZvciBkZWJ1Z2dpbmcgbXVsdGlwbGUgaW5zdGFuY2VzLlxuICAgKi9cbiAgbG9nVGFnOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcyBmb3Igd2FpdGluZyBmb3IgdGhlIGBqb2luUmVzcG9uc2VgLlxuICAgKiBEZWZhdWx0cyB0byA1MDAwbXMuXG4gICAqL1xuICBqb2luUmVzcG9uc2VUaW1lb3V0PzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBDYWxsYmFjayBmb3Igd2hlbiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgY2xvc2VkLlxuICAgKi9cbiAgb25TaWduYWxDbG9zZT86IChyZWFzb246IHN0cmluZykgPT4gdm9pZDtcblxuICAvKipcbiAgICogVGhlIFN0cmVhbUNsaWVudCBpbnN0YW5jZSB0byB1c2UgZm9yIHRoZSBjb25uZWN0aW9uLlxuICAgKi9cbiAgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgLyoqXG4gICAqIEZsYWcgdG8gZW5hYmxlIHRyYWNpbmcuXG4gICAqL1xuICBlbmFibGVUcmFjaW5nOiBib29sZWFuO1xufTtcblxuLyoqXG4gKiBUaGUgY2xpZW50IHVzZWQgZm9yIGV4Y2hhbmdpbmcgaW5mb3JtYXRpb24gd2l0aCB0aGUgU0ZVLlxuICovXG5leHBvcnQgY2xhc3MgU3RyZWFtU2Z1Q2xpZW50IHtcbiAgLyoqXG4gICAqIEEgYnVmZmVyIGZvciBJQ0UgQ2FuZGlkYXRlcyB0aGF0IGFyZSByZWNlaXZlZCBiZWZvcmVcbiAgICogdGhlIFB1Ymxpc2hlciBhbmQgU3Vic2NyaWJlciBQZWVyIENvbm5lY3Rpb25zIGFyZSByZWFkeSB0byBoYW5kbGUgdGhlbS5cbiAgICovXG4gIHJlYWRvbmx5IGljZVRyaWNrbGVCdWZmZXIgPSBuZXcgSWNlVHJpY2tsZUJ1ZmZlcigpO1xuXG4gIC8qKlxuICAgKiBUaGUgYHNlc3Npb25JZGAgb2YgdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgcGFydGljaXBhbnQuXG4gICAqL1xuICByZWFkb25seSBzZXNzaW9uSWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGBlZGdlTmFtZWAgcmVwcmVzZW50aW5nIHRoZSBlZGdlIHRoZSBjbGllbnQgaXMgY29ubmVjdGVkIHRvLlxuICAgKi9cbiAgcmVhZG9ubHkgZWRnZU5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogSG9sZHMgdGhlIGN1cnJlbnQgV2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gdGhlIFNGVS5cbiAgICovXG4gIHByaXZhdGUgc2lnbmFsV3MhOiBXZWJTb2NrZXQ7XG5cbiAgLyoqXG4gICAqIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbiBpcyByZWFkeSAob3BlbikuXG4gICAqL1xuICBwcml2YXRlIHNpZ25hbFJlYWR5ITogU2FmZVByb21pc2U8V2ViU29ja2V0PjtcblxuICAvKipcbiAgICogRmxhZyB0byBpbmRpY2F0ZSBpZiB0aGUgY2xpZW50IGlzIGluIHRoZSBwcm9jZXNzIG9mIGxlYXZpbmcgdGhlIGNhbGwuXG4gICAqIFRoaXMgaXMgc2V0IHRvIGB0cnVlYCB3aGVuIHRoZSB1c2VyIGluaXRpYXRlcyB0aGUgbGVhdmUgcHJvY2Vzcy5cbiAgICovXG4gIGlzTGVhdmluZyA9IGZhbHNlO1xuXG4gIC8qKlxuICAgKiBGbGFnIHRvIGluZGljYXRlIGlmIHRoZSBjbGllbnQgaXMgaW4gdGhlIHByb2Nlc3Mgb2YgY2xlYW4gY2xvc2luZyB0aGUgY29ubmVjdGlvbi5cbiAgICogV2hlbiBzZXQgdG8gYHRydWVgLCB0aGUgY2xpZW50IHdpbGwgbm90IGF0dGVtcHQgdG8gcmVjb25uZWN0XG4gICAqIGFuZCB3aWxsIGNsb3NlIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbiBncmFjZWZ1bGx5LlxuICAgKiBPdGhlcndpc2UsIGl0IHdpbGwgY2xvc2UgdGhlIGNvbm5lY3Rpb24gd2l0aCBhbiBlcnJvciBjb2RlIGFuZFxuICAgKiB0cmlnZ2VyIGEgcmVjb25uZWN0aW9uIGF0dGVtcHQuXG4gICAqL1xuICBpc0Nsb3NpbmdDbGVhbiA9IGZhbHNlO1xuXG4gIHByaXZhdGUgcmVhZG9ubHkgcnBjOiBTaWduYWxTZXJ2ZXJDbGllbnQ7XG4gIHByaXZhdGUga2VlcEFsaXZlSW50ZXJ2YWw/OiBudW1iZXI7XG4gIHByaXZhdGUgY29ubmVjdGlvbkNoZWNrVGltZW91dD86IE5vZGVKUy5UaW1lb3V0O1xuICBwcml2YXRlIG1pZ3JhdGVBd2F5VGltZW91dD86IE5vZGVKUy5UaW1lb3V0O1xuICBwcml2YXRlIHJlYWRvbmx5IHBpbmdJbnRlcnZhbEluTXMgPSA1ICogMTAwMDtcbiAgcHJpdmF0ZSByZWFkb25seSB1bmhlYWx0aHlUaW1lb3V0SW5NcyA9IDE1ICogMTAwMDtcbiAgcHJpdmF0ZSBsYXN0TWVzc2FnZVRpbWVzdGFtcD86IERhdGU7XG4gIHByaXZhdGUgcmVhZG9ubHkgdHJhY2VyPzogVHJhY2VyO1xuICBwcml2YXRlIHJlYWRvbmx5IHVuc3Vic2NyaWJlSWNlVHJpY2tsZTogKCkgPT4gdm9pZDtcbiAgcHJpdmF0ZSByZWFkb25seSB1bnN1YnNjcmliZU5ldHdvcmtDaGFuZ2VkOiAoKSA9PiB2b2lkO1xuICBwcml2YXRlIHJlYWRvbmx5IG9uU2lnbmFsQ2xvc2U6ICgocmVhc29uOiBzdHJpbmcpID0+IHZvaWQpIHwgdW5kZWZpbmVkO1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ2dlcjogTG9nZ2VyO1xuICBwcml2YXRlIHJlYWRvbmx5IGxvZ1RhZzogc3RyaW5nO1xuICBwcml2YXRlIHJlYWRvbmx5IGNyZWRlbnRpYWxzOiBDcmVkZW50aWFscztcbiAgcHJpdmF0ZSByZWFkb25seSBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyO1xuICBwcml2YXRlIHJlYWRvbmx5IGpvaW5SZXNwb25zZVRpbWVvdXQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBuZXR3b3JrQXZhaWxhYmxlVGFzazogUHJvbWlzZVdpdGhSZXNvbHZlcnM8dm9pZD4gfCB1bmRlZmluZWQ7XG4gIC8qKlxuICAgKiBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgSm9pblJlc3BvbnNlIGlzIHJlY2VpdmVkLlxuICAgKiBSZWplY3RzIGFmdGVyIGEgY2VydGFpbiB0aHJlc2hvbGQgaWYgdGhlIHJlc3BvbnNlIGlzIG5vdCByZWNlaXZlZC5cbiAgICovXG4gIHByaXZhdGUgam9pblJlc3BvbnNlVGFzayA9IHByb21pc2VXaXRoUmVzb2x2ZXJzPEpvaW5SZXNwb25zZT4oKTtcblxuICAvKipcbiAgICogUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdoZW4gdGhlIG1pZ3JhdGlvbiBpcyBjb21wbGV0ZS5cbiAgICogUmVqZWN0cyBhZnRlciBhIGNlcnRhaW4gdGhyZXNob2xkIGlmIHRoZSBtaWdyYXRpb24gaXMgbm90IGNvbXBsZXRlLlxuICAgKi9cbiAgcHJpdmF0ZSBtaWdyYXRpb25UYXNrPzogUHJvbWlzZVdpdGhSZXNvbHZlcnM8dm9pZD47XG5cbiAgLyoqXG4gICAqIEEgY29udHJvbGxlciB0byBhYm9ydCB0aGUgY3VycmVudCByZXF1ZXN0cy5cbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuXG4gIC8qKlxuICAgKiBUaGUgbm9ybWFsIGNsb3N1cmUgY29kZS4gVXNlZCBmb3IgY29udHJvbGxlZCBzaHV0ZG93bnMuXG4gICAqL1xuICBzdGF0aWMgTk9STUFMX0NMT1NVUkUgPSAxMDAwO1xuICAvKipcbiAgICogVGhlIGVycm9yIGNvZGUgdXNlZCB3aGVuIHRoZSBTRlUgY29ubmVjdGlvbiBpcyB1bmhlYWx0aHkuXG4gICAqIFVzdWFsbHksIHRoaXMgbWVhbnMgdGhhdCBubyBtZXNzYWdlIGhhcyBiZWVuIHJlY2VpdmVkIGZyb20gdGhlIFNGVSBmb3JcbiAgICogYSBjZXJ0YWluIGFtb3VudCBvZiB0aW1lIChgY29ubmVjdGlvbkNoZWNrVGltZW91dGApLlxuICAgKi9cbiAgc3RhdGljIEVSUk9SX0NPTk5FQ1RJT05fVU5IRUFMVEhZID0gNDAwMTtcbiAgLyoqXG4gICAqIFRoZSBlcnJvciBjb2RlIHVzZWQgd2hlbiB0aGUgU0ZVIGNvbm5lY3Rpb24gaXMgZGlzcG9zZWQgYmVjYXVzZSBhIG5ld1xuICAgKiBjb25uZWN0aW9uIGlzIGVzdGFibGlzaGVkIG9yIGlzIGFib3V0IHRvIGJlIGVzdGFibGlzaGVkLlxuICAgKiBIZXJlLCB3ZSBkb24ndCB1c2UgMTAwMCAobm9ybWFsIGNsb3N1cmUpIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCB0aGVcbiAgICogU0ZVIHRvIGNsZWFuIHVwIHRoZSByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHBhcnRpY2lwYW50LlxuICAgKi9cbiAgc3RhdGljIERJU1BPU0VfT0xEX1NPQ0tFVCA9IDQxMDA7XG4gIC8qKlxuICAgKiBUaGUgY2xvc2UgY29kZSB1c2VkIHdoZW4gdGhlIGNsaWVudCBmYWlscyB0byBqb2luIHRoZSBjYWxsIChvbiB0aGUgU0ZVKS5cbiAgICovXG4gIHN0YXRpYyBKT0lOX0ZBSUxFRCA9IDQxMDE7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgU0ZVIGNsaWVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkaXNwYXRjaGVyLFxuICAgIGNyZWRlbnRpYWxzLFxuICAgIHNlc3Npb25JZCxcbiAgICBsb2dUYWcsXG4gICAgam9pblJlc3BvbnNlVGltZW91dCA9IDUwMDAsXG4gICAgb25TaWduYWxDbG9zZSxcbiAgICBzdHJlYW1DbGllbnQsXG4gICAgZW5hYmxlVHJhY2luZyxcbiAgfTogU3RyZWFtU2Z1Q2xpZW50Q29uc3RydWN0b3IpIHtcbiAgICB0aGlzLmRpc3BhdGNoZXIgPSBkaXNwYXRjaGVyO1xuICAgIHRoaXMuc2Vzc2lvbklkID0gc2Vzc2lvbklkIHx8IGdlbmVyYXRlVVVJRHY0KCk7XG4gICAgdGhpcy5vblNpZ25hbENsb3NlID0gb25TaWduYWxDbG9zZTtcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gY3JlZGVudGlhbHM7XG4gICAgY29uc3QgeyBzZXJ2ZXIsIHRva2VuIH0gPSBjcmVkZW50aWFscztcbiAgICB0aGlzLmVkZ2VOYW1lID0gc2VydmVyLmVkZ2VfbmFtZTtcbiAgICB0aGlzLmpvaW5SZXNwb25zZVRpbWVvdXQgPSBqb2luUmVzcG9uc2VUaW1lb3V0O1xuICAgIHRoaXMubG9nVGFnID0gbG9nVGFnO1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFsnU2Z1Q2xpZW50JywgbG9nVGFnXSk7XG4gICAgdGhpcy50cmFjZXIgPSBlbmFibGVUcmFjaW5nXG4gICAgICA/IG5ldyBUcmFjZXIoYCR7bG9nVGFnfS0ke3RoaXMuZWRnZU5hbWV9YClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHRoaXMucnBjID0gY3JlYXRlU2lnbmFsQ2xpZW50KHtcbiAgICAgIGJhc2VVcmw6IHNlcnZlci51cmwsXG4gICAgICBpbnRlcmNlcHRvcnM6IFtcbiAgICAgICAgd2l0aEhlYWRlcnMoeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YCB9KSxcbiAgICAgICAgdGhpcy50cmFjZXIgJiYgd2l0aFJlcXVlc3RUcmFjZXIodGhpcy50cmFjZXIudHJhY2UpLFxuICAgICAgICBnZXRMb2dMZXZlbCgpID09PSAndHJhY2UnICYmIHdpdGhSZXF1ZXN0TG9nZ2VyKHRoaXMubG9nZ2VyLCAndHJhY2UnKSxcbiAgICAgIF0uZmlsdGVyKCh2KSA9PiAhIXYpLFxuICAgIH0pO1xuXG4gICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgdGhlIElDRVRyaWNrbGUga2luZCBvZiBldmVudHMuXG4gICAgLy8gVGhlIFNGVSBtaWdodCB0cmlnZ2VyIHRoZXNlIGV2ZW50cyBiZWZvcmUgdGhlIGluaXRpYWwgUlRDXG4gICAgLy8gY29ubmVjdGlvbiBpcyBlc3RhYmxpc2hlZCBvciBcIkpvaW5SZXNwb25zZVwiIHJlY2VpdmVkLlxuICAgIC8vIEluIHRoYXQgY2FzZSwgdGhvc2UgZXZlbnRzIChJQ0UgY2FuZGlkYXRlcykgbmVlZCB0byBiZSBidWZmZXJlZFxuICAgIC8vIGFuZCBsYXRlciBhZGRlZCB0byB0aGUgYXBwcm9wcmlhdGUgUGVlckNvbm5lY3Rpb25cbiAgICAvLyBvbmNlIHRoZSByZW1vdGVEZXNjcmlwdGlvbiBpcyBrbm93biBhbmQgc2V0LlxuICAgIHRoaXMudW5zdWJzY3JpYmVJY2VUcmlja2xlID0gZGlzcGF0Y2hlci5vbignaWNlVHJpY2tsZScsIChpY2VUcmlja2xlKSA9PiB7XG4gICAgICB0aGlzLmljZVRyaWNrbGVCdWZmZXIucHVzaChpY2VUcmlja2xlKTtcbiAgICB9KTtcblxuICAgIC8vIGxpc3RlbiB0byBuZXR3b3JrIGNoYW5nZXMgdG8gaGFuZGxlIG9mZmxpbmUgc3RhdGVcbiAgICAvLyB3ZSBzaG91bGRuJ3QgYXR0ZW1wdCB0byByZWNvdmVyIHdlYnNvY2tldCBjb25uZWN0aW9uIHdoZW4gb2ZmbGluZVxuICAgIHRoaXMudW5zdWJzY3JpYmVOZXR3b3JrQ2hhbmdlZCA9IHN0cmVhbUNsaWVudC5vbignbmV0d29yay5jaGFuZ2VkJywgKGUpID0+IHtcbiAgICAgIGlmICghZS5vbmxpbmUpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrQXZhaWxhYmxlVGFzayA9IHByb21pc2VXaXRoUmVzb2x2ZXJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrPy5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLmNyZWF0ZVdlYlNvY2tldCgpO1xuICB9XG5cbiAgcHJpdmF0ZSBjcmVhdGVXZWJTb2NrZXQgPSAoKSA9PiB7XG4gICAgY29uc3QgZXZlbnRzVG9UcmFjZTogUGFydGlhbDxSZWNvcmQ8U2Z1RXZlbnRLaW5kcywgYm9vbGVhbj4+ID0ge1xuICAgICAgY2FsbEVuZGVkOiB0cnVlLFxuICAgICAgY2hhbmdlUHVibGlzaFF1YWxpdHk6IHRydWUsXG4gICAgICBjaGFuZ2VQdWJsaXNoT3B0aW9uczogdHJ1ZSxcbiAgICAgIGNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZDogdHJ1ZSxcbiAgICAgIGVycm9yOiB0cnVlLFxuICAgICAgZ29Bd2F5OiB0cnVlLFxuICAgIH07XG4gICAgdGhpcy5zaWduYWxXcyA9IGNyZWF0ZVdlYlNvY2tldFNpZ25hbENoYW5uZWwoe1xuICAgICAgbG9nVGFnOiB0aGlzLmxvZ1RhZyxcbiAgICAgIGVuZHBvaW50OiBgJHt0aGlzLmNyZWRlbnRpYWxzLnNlcnZlci53c19lbmRwb2ludH0/dGFnPSR7dGhpcy5sb2dUYWd9YCxcbiAgICAgIG9uTWVzc2FnZTogKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgdGhpcy5sYXN0TWVzc2FnZVRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2soKTtcbiAgICAgICAgY29uc3QgZXZlbnRLaW5kID0gbWVzc2FnZS5ldmVudFBheWxvYWQub25lb2ZLaW5kO1xuICAgICAgICBpZiAoZXZlbnRzVG9UcmFjZVtldmVudEtpbmRdKSB7XG4gICAgICAgICAgdGhpcy50cmFjZXI/LnRyYWNlKGV2ZW50S2luZCwgbWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaGVyLmRpc3BhdGNoKG1lc3NhZ2UsIHRoaXMubG9nVGFnKTtcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnNpZ25hbFJlYWR5ID0gbWFrZVNhZmVQcm9taXNlKFxuICAgICAgUHJvbWlzZS5yYWNlPFdlYlNvY2tldD4oW1xuICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgY29uc3Qgb25PcGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zaWduYWxXcy5yZW1vdmVFdmVudExpc3RlbmVyKCdvcGVuJywgb25PcGVuKTtcbiAgICAgICAgICAgIHJlc29sdmUodGhpcy5zaWduYWxXcyk7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHRoaXMuc2lnbmFsV3MuYWRkRXZlbnRMaXN0ZW5lcignb3BlbicsIG9uT3Blbik7XG5cbiAgICAgICAgICB0aGlzLnNpZ25hbFdzLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlV2ViU29ja2V0Q2xvc2UoZSk7XG4gICAgICAgICAgICAvLyBOb3JtYWxseSwgdGhpcyBzaG91bGRuJ3QgaGF2ZSBhbnkgZWZmZWN0LCBiZWNhdXNlIFdTIHNob3VsZCBuZXZlciBlbWl0ICdjbG9zZSdcbiAgICAgICAgICAgIC8vIGJlZm9yZSBlbWl0dGluZyAnb3BlbicuIEhvd2V2ZXIsIHN0cmFnZXIgdGhpbmdzIGhhdmUgaGFwcGVuZWQsIGFuZCB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gd2FudCB0byBsZWF2ZSBzaWduYWxSZWFkeSBpbiBwZW5kaW5nIHN0YXRlLlxuICAgICAgICAgICAgcmVqZWN0KFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoYFNGVSBXUyBjbG9zZWQgb3IgY29ubmVjdGlvbiBjYW4ndCBiZSBlc3RhYmxpc2hlZGApLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSksXG5cbiAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoXG4gICAgICAgICAgICAoKSA9PiByZWplY3QobmV3IEVycm9yKCdTRlUgV1MgY29ubmVjdGlvbiB0aW1lZCBvdXQnKSksXG4gICAgICAgICAgICB0aGlzLmpvaW5SZXNwb25zZVRpbWVvdXQsXG4gICAgICAgICAgKTtcbiAgICAgICAgfSksXG4gICAgICBdKSxcbiAgICApO1xuICB9O1xuXG4gIHByaXZhdGUgY2xlYW5VcFdlYlNvY2tldCA9ICgpID0+IHtcbiAgICB0aGlzLnNpZ25hbFdzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgdGhpcy5oYW5kbGVXZWJTb2NrZXRDbG9zZSk7XG4gIH07XG5cbiAgZ2V0IGlzSGVhbHRoeSgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5zaWduYWxXcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTiAmJlxuICAgICAgdGhpcy5qb2luUmVzcG9uc2VUYXNrLmlzUmVzb2x2ZWQoKVxuICAgICk7XG4gIH1cblxuICBnZXQgam9pblRhc2soKSB7XG4gICAgcmV0dXJuIHRoaXMuam9pblJlc3BvbnNlVGFzay5wcm9taXNlO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVXZWJTb2NrZXRDbG9zZSA9IChlOiBDbG9zZUV2ZW50KSA9PiB7XG4gICAgdGhpcy5zaWduYWxXcy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbG9zZScsIHRoaXMuaGFuZGxlV2ViU29ja2V0Q2xvc2UpO1xuICAgIGdldFRpbWVycygpLmNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgdGhpcy5vblNpZ25hbENsb3NlPy4oYCR7ZS5jb2RlfSAke2UucmVhc29ufWApO1xuICB9O1xuXG4gIGNsb3NlID0gKGNvZGU6IG51bWJlciA9IFN0cmVhbVNmdUNsaWVudC5OT1JNQUxfQ0xPU1VSRSwgcmVhc29uPzogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5pc0Nsb3NpbmdDbGVhbiA9IGNvZGUgIT09IFN0cmVhbVNmdUNsaWVudC5FUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWTtcbiAgICBpZiAodGhpcy5zaWduYWxXcy5yZWFkeVN0YXRlID09PSBXZWJTb2NrZXQuT1BFTikge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYENsb3NpbmcgU0ZVIFdTIGNvbm5lY3Rpb246ICR7Y29kZX0gLSAke3JlYXNvbn1gKTtcbiAgICAgIHRoaXMuc2lnbmFsV3MuY2xvc2UoY29kZSwgYGpzLWNsaWVudDogJHtyZWFzb259YCk7XG4gICAgICB0aGlzLmNsZWFuVXBXZWJTb2NrZXQoKTtcbiAgICB9XG4gICAgdGhpcy5kaXNwb3NlKCk7XG4gIH07XG5cbiAgcHJpdmF0ZSBkaXNwb3NlID0gKCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdEaXNwb3NpbmcgU0ZVIGNsaWVudCcpO1xuICAgIHRoaXMudW5zdWJzY3JpYmVJY2VUcmlja2xlKCk7XG4gICAgdGhpcy51bnN1YnNjcmliZU5ldHdvcmtDaGFuZ2VkKCk7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLmtlZXBBbGl2ZUludGVydmFsKTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0KTtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5taWdyYXRlQXdheVRpbWVvdXQpO1xuICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLmFib3J0KCk7XG4gICAgdGhpcy5taWdyYXRpb25UYXNrPy5yZXNvbHZlKCk7XG4gICAgdGhpcy5pY2VUcmlja2xlQnVmZmVyLmRpc3Bvc2UoKTtcbiAgfTtcblxuICBnZXRUcmFjZSA9ICgpOiBUcmFjZVNsaWNlIHwgdW5kZWZpbmVkID0+IHtcbiAgICByZXR1cm4gdGhpcy50cmFjZXI/LnRha2UoKTtcbiAgfTtcblxuICBsZWF2ZUFuZENsb3NlID0gYXN5bmMgKHJlYXNvbjogc3RyaW5nKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICB0cnkge1xuICAgICAgdGhpcy5pc0xlYXZpbmcgPSB0cnVlO1xuICAgICAgYXdhaXQgdGhpcy5ub3RpZnlMZWF2ZShyZWFzb24pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ0Vycm9yIG5vdGlmeWluZyBTRlUgYWJvdXQgbGVhdmluZyBjYWxsJywgZXJyKTtcbiAgICB9XG5cbiAgICB0aGlzLmNsb3NlKFN0cmVhbVNmdUNsaWVudC5OT1JNQUxfQ0xPU1VSRSwgcmVhc29uLnN1YnN0cmluZygwLCAxMTUpKTtcbiAgfTtcblxuICB1cGRhdGVTdWJzY3JpcHRpb25zID0gYXN5bmMgKHRyYWNrczogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzW10pID0+IHtcbiAgICBhd2FpdCB0aGlzLmpvaW5UYXNrO1xuICAgIHJldHVybiByZXRyeWFibGUoXG4gICAgICAoKSA9PiB0aGlzLnJwYy51cGRhdGVTdWJzY3JpcHRpb25zKHsgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCwgdHJhY2tzIH0pLFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICk7XG4gIH07XG5cbiAgc2V0UHVibGlzaGVyID0gYXN5bmMgKGRhdGE6IE9taXQ8U2V0UHVibGlzaGVyUmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc2V0UHVibGlzaGVyKHsgLi4uZGF0YSwgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIHNlbmRBbnN3ZXIgPSBhc3luYyAoZGF0YTogT21pdDxTZW5kQW5zd2VyUmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc2VuZEFuc3dlcih7IC4uLmRhdGEsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBpY2VUcmlja2xlID0gYXN5bmMgKGRhdGE6IE9taXQ8SUNFVHJpY2tsZSwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuaWNlVHJpY2tsZSh7IC4uLmRhdGEsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBpY2VSZXN0YXJ0ID0gYXN5bmMgKGRhdGE6IE9taXQ8SUNFUmVzdGFydFJlcXVlc3QsICdzZXNzaW9uSWQnPikgPT4ge1xuICAgIGF3YWl0IHRoaXMuam9pblRhc2s7XG4gICAgcmV0dXJuIHJldHJ5YWJsZShcbiAgICAgICgpID0+IHRoaXMucnBjLmljZVJlc3RhcnQoeyAuLi5kYXRhLCBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkIH0pLFxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsLFxuICAgICk7XG4gIH07XG5cbiAgdXBkYXRlTXV0ZVN0YXRlcyA9IGFzeW5jIChtdXRlU3RhdGVzOiBUcmFja011dGVTdGF0ZVtdKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT5cbiAgICAgICAgdGhpcy5ycGMudXBkYXRlTXV0ZVN0YXRlcyh7IG11dGVTdGF0ZXMsIHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzZW5kU3RhdHMgPSBhc3luYyAoc3RhdHM6IE9taXQ8U2VuZFN0YXRzUmVxdWVzdCwgJ3Nlc3Npb25JZCc+KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICAvLyBOT1RFOiB3ZSBkb24ndCByZXRyeSBzZW5kaW5nIHN0YXRzXG4gICAgcmV0dXJuIHRoaXMucnBjLnNlbmRTdGF0cyh7IC4uLnN0YXRzLCBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkIH0pO1xuICB9O1xuXG4gIHN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc3RhcnROb2lzZUNhbmNlbGxhdGlvbih7IHNlc3Npb25JZDogdGhpcy5zZXNzaW9uSWQgfSksXG4gICAgICB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgKTtcbiAgfTtcblxuICBzdG9wTm9pc2VDYW5jZWxsYXRpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgdGhpcy5qb2luVGFzaztcbiAgICByZXR1cm4gcmV0cnlhYmxlKFxuICAgICAgKCkgPT4gdGhpcy5ycGMuc3RvcE5vaXNlQ2FuY2VsbGF0aW9uKHsgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCB9KSxcbiAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbCxcbiAgICApO1xuICB9O1xuXG4gIGVudGVyTWlncmF0aW9uID0gYXN5bmMgKG9wdHM6IHsgdGltZW91dD86IG51bWJlciB9ID0ge30pID0+IHtcbiAgICB0aGlzLmlzTGVhdmluZyA9IHRydWU7XG4gICAgY29uc3QgeyB0aW1lb3V0ID0gNyAqIDEwMDAgfSA9IG9wdHM7XG5cbiAgICB0aGlzLm1pZ3JhdGlvblRhc2s/LnJlamVjdChuZXcgRXJyb3IoJ0NhbmNlbGxlZCBwcmV2aW91cyBtaWdyYXRpb24nKSk7XG4gICAgY29uc3QgdGFzayA9ICh0aGlzLm1pZ3JhdGlvblRhc2sgPSBwcm9taXNlV2l0aFJlc29sdmVycygpKTtcbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IHRoaXMuZGlzcGF0Y2hlci5vbihcbiAgICAgICdwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlJyxcbiAgICAgICgpID0+IHtcbiAgICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMubWlncmF0ZUF3YXlUaW1lb3V0KTtcbiAgICAgICAgdGFzay5yZXNvbHZlKCk7XG4gICAgICB9LFxuICAgICk7XG4gICAgdGhpcy5taWdyYXRlQXdheVRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHVuc3Vic2NyaWJlKCk7XG4gICAgICB0YXNrLnJlamVjdChcbiAgICAgICAgbmV3IEVycm9yKFxuICAgICAgICAgIGBNaWdyYXRpb24gKCR7dGhpcy5sb2dUYWd9KSBmYWlsZWQgdG8gY29tcGxldGUgaW4gJHt0aW1lb3V0fW1zYCxcbiAgICAgICAgKSxcbiAgICAgICk7XG4gICAgfSwgdGltZW91dCk7XG5cbiAgICByZXR1cm4gdGFzay5wcm9taXNlO1xuICB9O1xuXG4gIGpvaW4gPSBhc3luYyAoXG4gICAgZGF0YTogT21pdDxKb2luUmVxdWVzdCwgJ3Nlc3Npb25JZCcgfCAndG9rZW4nPixcbiAgKTogUHJvbWlzZTxKb2luUmVzcG9uc2U+ID0+IHtcbiAgICAvLyB3YWl0IGZvciB0aGUgc2lnbmFsIHdlYiBzb2NrZXQgdG8gYmUgcmVhZHkgYmVmb3JlIHNlbmRpbmcgXCJqb2luUmVxdWVzdFwiXG4gICAgYXdhaXQgdGhpcy5zaWduYWxSZWFkeSgpO1xuICAgIGlmIChcbiAgICAgIHRoaXMuam9pblJlc3BvbnNlVGFzay5pc1Jlc29sdmVkKCkgfHxcbiAgICAgIHRoaXMuam9pblJlc3BvbnNlVGFzay5pc1JlamVjdGVkKClcbiAgICApIHtcbiAgICAgIC8vIHdlIG5lZWQgdG8gbG9jayB0aGUgUlBDIHJlcXVlc3RzIHVudGlsIHdlIHJlY2VpdmUgYSBKb2luUmVzcG9uc2UuXG4gICAgICAvLyB0aGF0J3Mgd2h5IHdlIGhhdmUgdGhpcyBwcmltaXRpdmUgbG9jayBtZWNoYW5pc20uXG4gICAgICAvLyB0aGUgY2xpZW50IHN0YXJ0cyB3aXRoIGFscmVhZHkgaW5pdGlhbGl6ZWQgam9pblJlc3BvbnNlVGFzayxcbiAgICAgIC8vIGFuZCB0aGlzIGNvZGUgY3JlYXRlcyBhIG5ldyBvbmUgZm9yIHRoZSBuZXh0IGpvaW4gcmVxdWVzdC5cbiAgICAgIHRoaXMuam9pblJlc3BvbnNlVGFzayA9IHByb21pc2VXaXRoUmVzb2x2ZXJzPEpvaW5SZXNwb25zZT4oKTtcbiAgICB9XG5cbiAgICAvLyBjYXB0dXJlIGEgcmVmZXJlbmNlIHRvIHRoZSBjdXJyZW50IGpvaW5SZXNwb25zZVRhc2sgYXMgaXQgbWlnaHRcbiAgICAvLyBiZSByZXBsYWNlZCB3aXRoIGEgbmV3IG9uZSBpbiBjYXNlIGEgc2Vjb25kIGpvaW4gcmVxdWVzdCBpcyBtYWRlXG4gICAgY29uc3QgY3VycmVudCA9IHRoaXMuam9pblJlc3BvbnNlVGFzaztcblxuICAgIGxldCB0aW1lb3V0SWQ6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gdGhpcy5kaXNwYXRjaGVyLm9uKCdqb2luUmVzcG9uc2UnLCAoam9pblJlc3BvbnNlKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnUmVjZWl2ZWQgam9pblJlc3BvbnNlJywgam9pblJlc3BvbnNlKTtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIHRoaXMua2VlcEFsaXZlKCk7XG4gICAgICBjdXJyZW50LnJlc29sdmUoam9pblJlc3BvbnNlKTtcbiAgICB9KTtcblxuICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmUoKTtcbiAgICAgIGN1cnJlbnQucmVqZWN0KG5ldyBFcnJvcignV2FpdGluZyBmb3IgXCJqb2luUmVzcG9uc2VcIiBoYXMgdGltZWQgb3V0JykpO1xuICAgIH0sIHRoaXMuam9pblJlc3BvbnNlVGltZW91dCk7XG5cbiAgICBjb25zdCBqb2luUmVxdWVzdCA9IFNmdVJlcXVlc3QuY3JlYXRlKHtcbiAgICAgIHJlcXVlc3RQYXlsb2FkOiB7XG4gICAgICAgIG9uZW9mS2luZDogJ2pvaW5SZXF1ZXN0JyxcbiAgICAgICAgam9pblJlcXVlc3Q6IEpvaW5SZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgICAgIHRva2VuOiB0aGlzLmNyZWRlbnRpYWxzLnRva2VuLFxuICAgICAgICB9KSxcbiAgICAgIH0sXG4gICAgfSk7XG5cbiAgICB0aGlzLnRyYWNlcj8udHJhY2UoJ2pvaW5SZXF1ZXN0Jywgam9pblJlcXVlc3QpO1xuICAgIGF3YWl0IHRoaXMuc2VuZChqb2luUmVxdWVzdCk7XG5cbiAgICByZXR1cm4gY3VycmVudC5wcm9taXNlO1xuICB9O1xuXG4gIHByaXZhdGUgcGluZyA9IGFzeW5jICgpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zZW5kKFxuICAgICAgU2Z1UmVxdWVzdC5jcmVhdGUoe1xuICAgICAgICByZXF1ZXN0UGF5bG9hZDoge1xuICAgICAgICAgIG9uZW9mS2luZDogJ2hlYWx0aENoZWNrUmVxdWVzdCcsXG4gICAgICAgICAgaGVhbHRoQ2hlY2tSZXF1ZXN0OiB7fSxcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSBub3RpZnlMZWF2ZSA9IGFzeW5jIChyZWFzb246IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnNlbmQoXG4gICAgICBTZnVSZXF1ZXN0LmNyZWF0ZSh7XG4gICAgICAgIHJlcXVlc3RQYXlsb2FkOiB7XG4gICAgICAgICAgb25lb2ZLaW5kOiAnbGVhdmVDYWxsUmVxdWVzdCcsXG4gICAgICAgICAgbGVhdmVDYWxsUmVxdWVzdDoge1xuICAgICAgICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgICAgICAgIHJlYXNvbixcbiAgICAgICAgICB9LFxuICAgICAgICB9LFxuICAgICAgfSksXG4gICAgKTtcbiAgfTtcblxuICBwcml2YXRlIHNlbmQgPSBhc3luYyAobWVzc2FnZTogU2Z1UmVxdWVzdCkgPT4ge1xuICAgIGF3YWl0IHRoaXMuc2lnbmFsUmVhZHkoKTsgLy8gd2FpdCBmb3IgdGhlIHNpZ25hbCB3cyB0byBiZSBvcGVuXG4gICAgY29uc3QgbXNnSnNvbiA9IFNmdVJlcXVlc3QudG9Kc29uKG1lc3NhZ2UpO1xuICAgIGlmICh0aGlzLnNpZ25hbFdzLnJlYWR5U3RhdGUgIT09IFdlYlNvY2tldC5PUEVOKSB7XG4gICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnU2lnbmFsIFdTIGlzIG5vdCBvcGVuLiBTa2lwcGluZyBtZXNzYWdlJywgbXNnSnNvbik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBTZW5kaW5nIG1lc3NhZ2UgdG86ICR7dGhpcy5lZGdlTmFtZX1gLCBtc2dKc29uKTtcbiAgICB0aGlzLnNpZ25hbFdzLnNlbmQoU2Z1UmVxdWVzdC50b0JpbmFyeShtZXNzYWdlKSk7XG4gIH07XG5cbiAgcHJpdmF0ZSBrZWVwQWxpdmUgPSAoKSA9PiB7XG4gICAgY29uc3QgdGltZXJzID0gZ2V0VGltZXJzKCk7XG4gICAgdGltZXJzLmNsZWFySW50ZXJ2YWwodGhpcy5rZWVwQWxpdmVJbnRlcnZhbCk7XG4gICAgdGhpcy5rZWVwQWxpdmVJbnRlcnZhbCA9IHRpbWVycy5zZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLnBpbmcoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRXJyb3Igc2VuZGluZyBoZWFsdGhDaGVja1JlcXVlc3QgdG8gU0ZVJywgZSk7XG4gICAgICB9KTtcbiAgICB9LCB0aGlzLnBpbmdJbnRlcnZhbEluTXMpO1xuICB9O1xuXG4gIHByaXZhdGUgc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgPSAoKSA9PiB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dCk7XG4gICAgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBpZiAodGhpcy5sYXN0TWVzc2FnZVRpbWVzdGFtcCkge1xuICAgICAgICBjb25zdCB0aW1lU2luY2VMYXN0TWVzc2FnZSA9XG4gICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLmxhc3RNZXNzYWdlVGltZXN0YW1wLmdldFRpbWUoKTtcblxuICAgICAgICBpZiAodGltZVNpbmNlTGFzdE1lc3NhZ2UgPiB0aGlzLnVuaGVhbHRoeVRpbWVvdXRJbk1zKSB7XG4gICAgICAgICAgdGhpcy5jbG9zZShcbiAgICAgICAgICAgIFN0cmVhbVNmdUNsaWVudC5FUlJPUl9DT05ORUNUSU9OX1VOSEVBTFRIWSxcbiAgICAgICAgICAgIGBTRlUgY29ubmVjdGlvbiB1bmhlYWx0aHkuIERpZG4ndCByZWNlaXZlIGFueSBtZXNzYWdlIGZvciAke3RoaXMudW5oZWFsdGh5VGltZW91dEluTXN9bXNgLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzLnVuaGVhbHRoeVRpbWVvdXRJbk1zKTtcbiAgfTtcbn1cbiIsImltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7XG4gIENhbGxBY2NlcHRlZEV2ZW50LFxuICBDYWxsUmVqZWN0ZWRFdmVudCxcbiAgT3duQ2FwYWJpbGl0eSxcbn0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IENhbGxFbmRlZCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IENhbGxFbmRlZFJlYXNvbiB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZWQgdGhlIGRlbGl2ZXJ5IG9mIGBjYWxsLmFjY2VwdGVkYC5cbiAqIE9uY2UgdGhlIGV2ZW50IGlzIHJlY2VpdmVkLCB0aGUgY2FsbCBpcyBqb2luZWQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaENhbGxBY2NlcHRlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBvbkNhbGxBY2NlcHRlZChldmVudDogQ2FsbEFjY2VwdGVkRXZlbnQpIHtcbiAgICAvLyBXZSB3YW50IHRvIGRpc2NhcmQgdGhlIGV2ZW50IGlmIGl0J3MgZnJvbSB0aGUgY3VycmVudCB1c2VyXG4gICAgaWYgKGV2ZW50LnVzZXIuaWQgPT09IGNhbGwuY3VycmVudFVzZXJJZCkgcmV0dXJuO1xuICAgIGNvbnN0IHsgc3RhdGUgfSA9IGNhbGw7XG4gICAgaWYgKFxuICAgICAgZXZlbnQuY2FsbC5jcmVhdGVkX2J5LmlkID09PSBjYWxsLmN1cnJlbnRVc2VySWQgJiZcbiAgICAgIHN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkdcbiAgICApIHtcbiAgICAgIGF3YWl0IGNhbGwuam9pbigpO1xuICAgIH1cbiAgfTtcbn07XG5cbi8qKlxuICogRXZlbnQgaGFuZGxlciB0aGF0IHdhdGNoZXMgZGVsaXZlcnkgb2YgYGNhbGwucmVqZWN0ZWRgIFdlYnNvY2tldCBldmVudC5cbiAqIE9uY2UgdGhlIGV2ZW50IGlzIHJlY2VpdmVkLCB0aGUgY2FsbCBpcyBsZWZ0LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hDYWxsUmVqZWN0ZWQgPSAoY2FsbDogQ2FsbCkgPT4ge1xuICByZXR1cm4gYXN5bmMgZnVuY3Rpb24gb25DYWxsUmVqZWN0ZWQoZXZlbnQ6IENhbGxSZWplY3RlZEV2ZW50KSB7XG4gICAgLy8gV2Ugd2FudCB0byBkaXNjYXJkIHRoZSBldmVudCBpZiBpdCdzIGZyb20gdGhlIGN1cnJlbnQgdXNlclxuICAgIGlmIChldmVudC51c2VyLmlkID09PSBjYWxsLmN1cnJlbnRVc2VySWQpIHJldHVybjtcbiAgICBjb25zdCB7IGNhbGw6IGV2ZW50Q2FsbCB9ID0gZXZlbnQ7XG4gICAgY29uc3QgeyBzZXNzaW9uOiBjYWxsU2Vzc2lvbiB9ID0gZXZlbnRDYWxsO1xuXG4gICAgaWYgKCFjYWxsU2Vzc2lvbikge1xuICAgICAgY2FsbC5sb2dnZXIoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgJ05vIGNhbGwgc2Vzc2lvbiBwcm92aWRlZC4gSWdub3JpbmcgY2FsbC5yZWplY3RlZCBldmVudC4nLFxuICAgICAgICBldmVudCxcbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgcmVqZWN0ZWRCeSA9IGNhbGxTZXNzaW9uLnJlamVjdGVkX2J5O1xuICAgIGNvbnN0IHsgbWVtYmVycywgY2FsbGluZ1N0YXRlIH0gPSBjYWxsLnN0YXRlO1xuICAgIGlmIChjYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HKSB7XG4gICAgICBjYWxsLmxvZ2dlcihcbiAgICAgICAgJ2luZm8nLFxuICAgICAgICAnQ2FsbCBpcyBub3QgaW4gcmluZ2luZyBtb2RlIChpdCBpcyBlaXRoZXIgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgYWxyZWFkeSkuIElnbm9yaW5nIGNhbGwucmVqZWN0ZWQgZXZlbnQuJyxcbiAgICAgICAgZXZlbnQsXG4gICAgICApO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FsbC5pc0NyZWF0ZWRCeU1lKSB7XG4gICAgICBjb25zdCBldmVyeW9uZUVsc2VSZWplY3RlZCA9IG1lbWJlcnNcbiAgICAgICAgLmZpbHRlcigobSkgPT4gbS51c2VyX2lkICE9PSBjYWxsLmN1cnJlbnRVc2VySWQpXG4gICAgICAgIC5ldmVyeSgobSkgPT4gcmVqZWN0ZWRCeVttLnVzZXJfaWRdKTtcbiAgICAgIGlmIChldmVyeW9uZUVsc2VSZWplY3RlZCkge1xuICAgICAgICBjYWxsLmxvZ2dlcignaW5mbycsICdldmVyeW9uZSByZWplY3RlZCwgbGVhdmluZyB0aGUgY2FsbCcpO1xuICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKHtcbiAgICAgICAgICByZWplY3Q6IHRydWUsXG4gICAgICAgICAgcmVhc29uOiAnY2FuY2VsJyxcbiAgICAgICAgICBtZXNzYWdlOiAncmluZzogZXZlcnlvbmUgcmVqZWN0ZWQnLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJlamVjdGVkQnlbZXZlbnRDYWxsLmNyZWF0ZWRfYnkuaWRdKSB7XG4gICAgICAgIGNhbGwubG9nZ2VyKCdpbmZvJywgJ2NhbGwgY3JlYXRvciByZWplY3RlZCwgbGVhdmluZyBjYWxsJyk7XG4gICAgICAgIGF3YWl0IGNhbGwubGVhdmUoeyBtZXNzYWdlOiAncmluZzogY3JlYXRvciByZWplY3RlZCcgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBFdmVudCBoYW5kbGVyIHRoYXQgd2F0Y2hlcyB0aGUgZGVsaXZlcnkgb2YgYGNhbGwuZW5kZWRgIFdlYnNvY2tldCBldmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoQ2FsbEVuZGVkID0gKGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uQ2FsbEVuZGVkKCkge1xuICAgIGNvbnN0IHsgY2FsbGluZ1N0YXRlIH0gPSBjYWxsLnN0YXRlO1xuICAgIGlmIChcbiAgICAgIGNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLklETEUgJiZcbiAgICAgIGNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLkxFRlRcbiAgICApIHtcbiAgICAgIGNhbGxcbiAgICAgICAgLmxlYXZlKHsgbWVzc2FnZTogJ2NhbGwuZW5kZWQgZXZlbnQgcmVjZWl2ZWQnLCByZWplY3Q6IGZhbHNlIH0pXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY2FsbC5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBsZWF2ZSBjYWxsIGFmdGVyIGNhbGwuZW5kZWQgJywgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBXYXRjaGVzIGZvciBgY2FsbEVuZGVkYCBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFNmdUNhbGxFbmRlZCA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIHJldHVybiBjYWxsLm9uKCdjYWxsRW5kZWQnLCBhc3luYyAoZTogQ2FsbEVuZGVkKSA9PiB7XG4gICAgaWYgKGNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICBpZiAoZS5yZWFzb24gPT09IENhbGxFbmRlZFJlYXNvbi5MSVZFX0VOREVEKSB7XG4gICAgICAgIGNhbGwuc3RhdGUuc2V0QmFja3N0YWdlKHRydWUpO1xuXG4gICAgICAgIC8vIGRvbid0IGxlYXZlIHRoZSBjYWxsIGlmIHRoZSB1c2VyIGhhcyBwZXJtaXNzaW9uIHRvIGpvaW4gYmFja3N0YWdlXG4gICAgICAgIGNvbnN0IHsgaGFzUGVybWlzc2lvbiB9ID0gY2FsbC5wZXJtaXNzaW9uc0NvbnRleHQ7XG4gICAgICAgIGlmIChoYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuSk9JTl9CQUNLU1RBR0UpKSByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyBgY2FsbC5lbmRlZGAgZXZlbnQgYXJyaXZlZCBhZnRlciB0aGUgY2FsbCBpcyBhbHJlYWR5IGxlZnRcbiAgICAgIC8vIGFuZCBhbGwgZXZlbnQgaGFuZGxlcnMgYXJlIGRldGFjaGVkLiBXZSBuZWVkIHRvIG1hbnVhbGx5XG4gICAgICAvLyB1cGRhdGUgdGhlIGNhbGwgc3RhdGUgdG8gcmVmbGVjdCB0aGUgY2FsbCBoYXMgZW5kZWQuXG4gICAgICBjYWxsLnN0YXRlLnNldEVuZGVkQXQobmV3IERhdGUoKSk7XG4gICAgICBjb25zdCByZWFzb24gPSBDYWxsRW5kZWRSZWFzb25bZS5yZWFzb25dO1xuICAgICAgYXdhaXQgY2FsbC5sZWF2ZSh7IG1lc3NhZ2U6IGBjYWxsRW5kZWQgcmVjZWl2ZWQ6ICR7cmVhc29ufWAgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjYWxsLmxvZ2dlcihcbiAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgJ0ZhaWxlZCB0byBsZWF2ZSBjYWxsIGFmdGVyIGJlaW5nIGVuZGVkIGJ5IHRoZSBTRlUnLFxuICAgICAgICBlcnIsXG4gICAgICApO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBDYWxsR3JhbnRzVXBkYXRlZCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7IE93bkNhcGFiaWxpdHkgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuXG4vKipcbiAqIEV2ZW50IGhhbmRsZXIgdGhhdCB3YXRjaGVzIGZvciBgY2FsbEdyYW50c1VwZGF0ZWRgIGV2ZW50cy5cbiAqXG4gKiBAcGFyYW0gc3RhdGUgdGhlIGNhbGwgc3RhdGUgdG8gdXBkYXRlLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hDYWxsR3JhbnRzVXBkYXRlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvbkNhbGxHcmFudHNVcGRhdGVkKGV2ZW50OiBDYWxsR3JhbnRzVXBkYXRlZCkge1xuICAgIGNvbnN0IHsgY3VycmVudEdyYW50cyB9ID0gZXZlbnQ7XG4gICAgaWYgKGN1cnJlbnRHcmFudHMpIHtcbiAgICAgIGNvbnN0IHsgY2FuUHVibGlzaEF1ZGlvLCBjYW5QdWJsaXNoVmlkZW8sIGNhblNjcmVlbnNoYXJlIH0gPVxuICAgICAgICBjdXJyZW50R3JhbnRzO1xuXG4gICAgICBjb25zdCB1cGRhdGU6IFBhcnRpYWw8UmVjb3JkPE93bkNhcGFiaWxpdHksIGJvb2xlYW4+PiA9IHtcbiAgICAgICAgW093bkNhcGFiaWxpdHkuU0VORF9BVURJT106IGNhblB1Ymxpc2hBdWRpbyxcbiAgICAgICAgW093bkNhcGFiaWxpdHkuU0VORF9WSURFT106IGNhblB1Ymxpc2hWaWRlbyxcbiAgICAgICAgW093bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkVdOiBjYW5TY3JlZW5zaGFyZSxcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IG5leHRDYXBhYmlsaXRpZXMgPSBzdGF0ZS5vd25DYXBhYmlsaXRpZXMuZmlsdGVyKFxuICAgICAgICAoY2FwYWJpbGl0eSkgPT4gdXBkYXRlW2NhcGFiaWxpdHldICE9PSBmYWxzZSxcbiAgICAgICk7XG4gICAgICBPYmplY3QuZW50cmllcyh1cGRhdGUpLmZvckVhY2goKFtjYXBhYmlsaXR5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgaWYgKHZhbHVlICYmICFuZXh0Q2FwYWJpbGl0aWVzLmluY2x1ZGVzKGNhcGFiaWxpdHkgYXMgT3duQ2FwYWJpbGl0eSkpIHtcbiAgICAgICAgICBuZXh0Q2FwYWJpbGl0aWVzLnB1c2goY2FwYWJpbGl0eSBhcyBPd25DYXBhYmlsaXR5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhuZXh0Q2FwYWJpbGl0aWVzKTtcbiAgICB9XG4gIH07XG59O1xuIiwiaW1wb3J0IHsgRGlzcGF0Y2hlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgeyBDYWxsU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2hlcyB9IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5pbXBvcnQgdHlwZSB7IFBpbnNDaGFuZ2VkIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHtcbiAgRXJyb3JDb2RlLFxuICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneSxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IE93bkNhcGFiaWxpdHkgfSBmcm9tICcuLi9nZW4vY29vcmRpbmF0b3InO1xuXG5leHBvcnQgY29uc3Qgd2F0Y2hDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQgPSAoXG4gIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4pID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2Nvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCcsIChlKSA9PiB7XG4gICAgY29uc3QgeyBjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXMgfSA9IGU7XG4gICAgaWYgKCFjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXMpIHJldHVybjtcbiAgICBzdGF0ZS51cGRhdGVQYXJ0aWNpcGFudHMoXG4gICAgICBjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXMucmVkdWNlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzPihcbiAgICAgICAgKHBhdGNoZXMsIHVwZGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2Vzc2lvbklkLCBjb25uZWN0aW9uUXVhbGl0eSB9ID0gdXBkYXRlO1xuICAgICAgICAgIHBhdGNoZXNbc2Vzc2lvbklkXSA9IHtcbiAgICAgICAgICAgIGNvbm5lY3Rpb25RdWFsaXR5LFxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHBhdGNoZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHt9LFxuICAgICAgKSxcbiAgICApO1xuICB9KTtcbn07XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgYXBwcm94aW1hdGUgbnVtYmVyIG9mIHBhcnRpY2lwYW50cyBpbiB0aGUgY2FsbCBieSBwZWVraW5nIGF0IHRoZVxuICogaGVhbHRoIGNoZWNrIGV2ZW50cyB0aGF0IG91ciBTRlUgc2VuZHMuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFBhcnRpY2lwYW50Q291bnRDaGFuZ2VkID0gKFxuICBkaXNwYXRjaGVyOiBEaXNwYXRjaGVyLFxuICBzdGF0ZTogQ2FsbFN0YXRlLFxuKSA9PiB7XG4gIHJldHVybiBkaXNwYXRjaGVyLm9uKCdoZWFsdGhDaGVja1Jlc3BvbnNlJywgKGUpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50Q291bnQgfSA9IGU7XG4gICAgaWYgKHBhcnRpY2lwYW50Q291bnQpIHtcbiAgICAgIHN0YXRlLnNldFBhcnRpY2lwYW50Q291bnQocGFydGljaXBhbnRDb3VudC50b3RhbCk7XG4gICAgICBzdGF0ZS5zZXRBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KHBhcnRpY2lwYW50Q291bnQuYW5vbnltb3VzKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHdhdGNoTGl2ZUVuZGVkID0gKGRpc3BhdGNoZXI6IERpc3BhdGNoZXIsIGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGRpc3BhdGNoZXIub24oJ2Vycm9yJywgKGUpID0+IHtcbiAgICBpZiAoZS5lcnJvciAmJiBlLmVycm9yLmNvZGUgIT09IEVycm9yQ29kZS5MSVZFX0VOREVEKSByZXR1cm47XG5cbiAgICBjYWxsLnN0YXRlLnNldEJhY2tzdGFnZSh0cnVlKTtcbiAgICBpZiAoIWNhbGwucGVybWlzc2lvbnNDb250ZXh0Lmhhc1Blcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5KT0lOX0JBQ0tTVEFHRSkpIHtcbiAgICAgIGNhbGwubGVhdmUoeyBtZXNzYWdlOiAnbGl2ZSBlbmRlZCcgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICBjYWxsLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIGxlYXZlIGNhbGwgYWZ0ZXIgbGl2ZSBlbmRlZCcsIGVycik7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBXYXRjaGVzIGFuZCBsb2dzIHRoZSBlcnJvcnMgcmVwb3J0ZWQgYnkgdGhlIGN1cnJlbnRseSBjb25uZWN0ZWQgU0ZVLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hTZnVFcnJvclJlcG9ydHMgPSAoZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignZXJyb3InLCAoZSkgPT4ge1xuICAgIGlmICghZS5lcnJvcikgcmV0dXJuO1xuICAgIGNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcihbJ1NmdUNsaWVudCddKTtcbiAgICBjb25zdCB7IGVycm9yLCByZWNvbm5lY3RTdHJhdGVneSB9ID0gZTtcbiAgICBsb2dnZXIoJ2Vycm9yJywgJ1NGVSByZXBvcnRlZCBlcnJvcicsIHtcbiAgICAgIGNvZGU6IEVycm9yQ29kZVtlcnJvci5jb2RlXSxcbiAgICAgIHJlY29ubmVjdFN0cmF0ZWd5OiBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneVtyZWNvbm5lY3RTdHJhdGVneV0sXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgc2hvdWxkUmV0cnk6IGVycm9yLnNob3VsZFJldHJ5LFxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICogV2F0Y2hlcyBmb3IgYHBpbnNVcGRhdGVkYCBldmVudHMgYW5kIHVwZGF0ZXMgdGhlIHBpbm5lZCBzdGF0ZSBvZiBwYXJ0aWNpcGFudHNcbiAqIGluIHRoZSBjYWxsLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQaW5zVXBkYXRlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblBpbnNVcGRhdGVkKGU6IFBpbnNDaGFuZ2VkKSB7XG4gICAgY29uc3QgeyBwaW5zIH0gPSBlO1xuICAgIHN0YXRlLnNldFNlcnZlclNpZGVQaW5zKHBpbnMpO1xuICB9O1xufTtcbiIsImltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7XG4gIFRyYWNrVHlwZSxcbiAgVHJhY2tVbnB1Ymxpc2hSZWFzb24sXG59IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5cbi8qKlxuICogQW4gZXZlbnQgaGFuZGxlciB0aGF0IGhhbmRsZXMgc29mdCBtdXRlcy5cbiAqXG4gKiBAcGFyYW0gY2FsbCB0aGUgY2FsbC5cbiAqL1xuZXhwb3J0IGNvbnN0IGhhbmRsZVJlbW90ZVNvZnRNdXRlID0gKGNhbGw6IENhbGwpID0+IHtcbiAgcmV0dXJuIGNhbGwub24oJ3RyYWNrVW5wdWJsaXNoZWQnLCBhc3luYyAoZXZlbnQpID0+IHtcbiAgICBjb25zdCB7IGNhdXNlLCB0eXBlLCBzZXNzaW9uSWQgfSA9IGV2ZW50O1xuICAgIGNvbnN0IHsgbG9jYWxQYXJ0aWNpcGFudCB9ID0gY2FsbC5zdGF0ZTtcbiAgICBpZiAoXG4gICAgICBjYXVzZSA9PT0gVHJhY2tVbnB1Ymxpc2hSZWFzb24uTU9ERVJBVElPTiAmJlxuICAgICAgc2Vzc2lvbklkID09PSBsb2NhbFBhcnRpY2lwYW50Py5zZXNzaW9uSWRcbiAgICApIHtcbiAgICAgIGNvbnN0IGxvZ2dlciA9IGNhbGwubG9nZ2VyO1xuICAgICAgbG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgIGBMb2NhbCBwYXJ0aWNpcGFudCdzICR7VHJhY2tUeXBlW3R5cGVdfSB0cmFjayBpcyBtdXRlZCByZW1vdGVseWAsXG4gICAgICApO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGUgPT09IFRyYWNrVHlwZS5WSURFTykge1xuICAgICAgICAgIGF3YWl0IGNhbGwuY2FtZXJhLmRpc2FibGUoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSBUcmFja1R5cGUuQVVESU8pIHtcbiAgICAgICAgICBhd2FpdCBjYWxsLm1pY3JvcGhvbmUuZGlzYWJsZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgIHR5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUgfHxcbiAgICAgICAgICB0eXBlID09PSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPXG4gICAgICAgICkge1xuICAgICAgICAgIGF3YWl0IGNhbGwuc2NyZWVuU2hhcmUuZGlzYWJsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxvZ2dlcihcbiAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICdVbnN1cHBvcnRlZCB0cmFjayB0eXBlIHRvIHNvZnQgbXV0ZScsXG4gICAgICAgICAgICBUcmFja1R5cGVbdHlwZV0sXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyKCdlcnJvcicsICdGYWlsZWQgdG8gc3RvcCBwdWJsaXNoaW5nJywgZXJyb3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuIiwiLyoqXG4gKiBBZGRzIHVuaXF1ZSB2YWx1ZXMgdG8gYW4gYXJyYXkuXG4gKlxuICogQHBhcmFtIGFyciB0aGUgYXJyYXkgdG8gYWRkIHRvLlxuICogQHBhcmFtIHZhbHVlcyB0aGUgdmFsdWVzIHRvIGFkZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHB1c2hUb0lmTWlzc2luZyA9IDxUPihhcnI6IFRbXSwgLi4udmFsdWVzOiBUW10pOiBUW10gPT4ge1xuICBmb3IgKGNvbnN0IHYgb2YgdmFsdWVzKSB7XG4gICAgaWYgKCFhcnIuaW5jbHVkZXModikpIHtcbiAgICAgIGFyci5wdXNoKHYpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyO1xufTtcbiIsImltcG9ydCB0eXBlIHtcbiAgUGFydGljaXBhbnRKb2luZWQsXG4gIFBhcnRpY2lwYW50TGVmdCxcbiAgUGFydGljaXBhbnRVcGRhdGVkLFxuICBUcmFja1B1Ymxpc2hlZCxcbiAgVHJhY2tVbnB1Ymxpc2hlZCxcbn0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9ldmVudC9ldmVudHMnO1xuaW1wb3J0IHR5cGUgeyBQYXJ0aWNpcGFudCB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQge1xuICBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2gsXG4gIFZpc2liaWxpdHlTdGF0ZSxcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleSB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQgeyBwdXNoVG9JZk1pc3NpbmcgfSBmcm9tICcuLi9oZWxwZXJzL2FycmF5JztcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHBhcnRpY2lwYW50Sm9pbmVkYCBldmVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoUGFydGljaXBhbnRKb2luZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QYXJ0aWNpcGFudEpvaW5lZChlOiBQYXJ0aWNpcGFudEpvaW5lZCkge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IGU7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCkgcmV0dXJuO1xuICAgIC8vIGBzdGF0ZS51cGRhdGVPckFkZFBhcnRpY2lwYW50YCBhY3RzIGFzIGEgc2FmZWd1YXJkIGFnYWluc3RcbiAgICAvLyBwb3RlbnRpYWwgZHVwbGljYXRlIGV2ZW50cyBmcm9tIHRoZSBTRlUuXG4gICAgLy9cbiAgICAvLyBBbHRob3VnaCB0aGUgU0ZVIHNob3VsZCBub3Qgc2VuZCBkdXBsaWNhdGUgZXZlbnRzLCB3ZSBoYXZlIHNlZW5cbiAgICAvLyBzb21lIHJhY2UgY29uZGl0aW9ucyBpbiB0aGUgcGFzdCBkdXJpbmcgdGhlIGBqb2luLWZsb3dgLlxuICAgIC8vIFRoZSBTRlUgd291bGQgc2VuZCBwYXJ0aWNpcGFudCBpbmZvIGFzIHBhcnQgb2YgdGhlIGBqb2luYFxuICAgIC8vIHJlc3BvbnNlIGFuZCB0aGVuIGZvbGxvdyB1cCB3aXRoIGEgYHBhcnRpY2lwYW50Sm9pbmVkYCBldmVudCBmb3JcbiAgICAvLyBhbHJlYWR5IGFubm91bmNlZCBwYXJ0aWNpcGFudHMuXG4gICAgY29uc3Qgb3JwaGFuZWRUcmFja3MgPSByZWNvbmNpbGVPcnBoYW5lZFRyYWNrcyhzdGF0ZSwgcGFydGljaXBhbnQpO1xuICAgIHN0YXRlLnVwZGF0ZU9yQWRkUGFydGljaXBhbnQoXG4gICAgICBwYXJ0aWNpcGFudC5zZXNzaW9uSWQsXG4gICAgICBPYmplY3QuYXNzaWduPFxuICAgICAgICBTdHJlYW1WaWRlb1BhcnRpY2lwYW50LFxuICAgICAgICBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2ggfCB1bmRlZmluZWQsXG4gICAgICAgIFBhcnRpYWw8U3RyZWFtVmlkZW9QYXJ0aWNpcGFudD5cbiAgICAgID4ocGFydGljaXBhbnQsIG9ycGhhbmVkVHJhY2tzLCB7XG4gICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlOiB7XG4gICAgICAgICAgdmlkZW9UcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gICAgICAgICAgc2NyZWVuU2hhcmVUcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICApO1xuICB9O1xufTtcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHBhcnRpY2lwYW50TGVmdGAgZXZlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFBhcnRpY2lwYW50TGVmdCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblBhcnRpY2lwYW50TGVmdChlOiBQYXJ0aWNpcGFudExlZnQpIHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSBlO1xuICAgIGlmICghcGFydGljaXBhbnQpIHJldHVybjtcblxuICAgIHN0YXRlLnNldFBhcnRpY2lwYW50cygocGFydGljaXBhbnRzKSA9PlxuICAgICAgcGFydGljaXBhbnRzLmZpbHRlcigocCkgPT4gcC5zZXNzaW9uSWQgIT09IHBhcnRpY2lwYW50LnNlc3Npb25JZCksXG4gICAgKTtcbiAgfTtcbn07XG5cbi8qKlxuICogQW4gZXZlbnQgcmVzcG9uZGVyIHdoaWNoIGhhbmRsZXMgdGhlIGBwYXJ0aWNpcGFudFVwZGF0ZWRgIGV2ZW50LlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hQYXJ0aWNpcGFudFVwZGF0ZWQgPSAoc3RhdGU6IENhbGxTdGF0ZSkgPT4ge1xuICByZXR1cm4gZnVuY3Rpb24gb25QYXJ0aWNpcGFudFVwZGF0ZWQoZTogUGFydGljaXBhbnRVcGRhdGVkKSB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCB9ID0gZTtcbiAgICBpZiAoIXBhcnRpY2lwYW50KSByZXR1cm47XG4gICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnQocGFydGljaXBhbnQuc2Vzc2lvbklkLCBwYXJ0aWNpcGFudCk7XG4gIH07XG59O1xuXG4vKipcbiAqIEFuIGV2ZW50IHJlc3BvbmRlciB3aGljaCBoYW5kbGVzIHRoZSBgdHJhY2tQdWJsaXNoZWRgIGV2ZW50LlxuICogVGhlIFNGVSB3aWxsIHNlbmQgdGhpcyBldmVudCB3aGVuIGEgcGFydGljaXBhbnQgcHVibGlzaGVzIGEgdHJhY2suXG4gKi9cbmV4cG9ydCBjb25zdCB3YXRjaFRyYWNrUHVibGlzaGVkID0gKHN0YXRlOiBDYWxsU3RhdGUpID0+IHtcbiAgcmV0dXJuIGZ1bmN0aW9uIG9uVHJhY2tQdWJsaXNoZWQoZTogVHJhY2tQdWJsaXNoZWQpIHtcbiAgICBjb25zdCB7IHR5cGUsIHNlc3Npb25JZCB9ID0gZTtcbiAgICAvLyBBbiBvcHRpbWl6YXRpb24gZm9yIGxhcmdlIGNhbGxzLlxuICAgIC8vIEFmdGVyIGEgY2VydGFpbiB0aHJlc2hvbGQsIHRoZSBTRlUgd291bGQgc3RvcCBlbWl0dGluZyBgcGFydGljaXBhbnRKb2luZWRgXG4gICAgLy8gZXZlbnRzLCBhbmQgaW5zdGVhZCwgaXQgd291bGQgb25seSBwcm92aWRlIHRoZSBwYXJ0aWNpcGFudCdzIGluZm9ybWF0aW9uXG4gICAgLy8gb25jZSB0aGV5IHN0YXJ0IHB1Ymxpc2hpbmcgYSB0cmFjay5cbiAgICBpZiAoZS5wYXJ0aWNpcGFudCkge1xuICAgICAgY29uc3Qgb3JwaGFuZWRUcmFja3MgPSByZWNvbmNpbGVPcnBoYW5lZFRyYWNrcyhzdGF0ZSwgZS5wYXJ0aWNpcGFudCk7XG4gICAgICBjb25zdCBwYXJ0aWNpcGFudCA9IE9iamVjdC5hc3NpZ24oZS5wYXJ0aWNpcGFudCwgb3JwaGFuZWRUcmFja3MpO1xuICAgICAgc3RhdGUudXBkYXRlT3JBZGRQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHBhcnRpY2lwYW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCAocCkgPT4gKHtcbiAgICAgICAgcHVibGlzaGVkVHJhY2tzOiBwdXNoVG9JZk1pc3NpbmcoWy4uLnAucHVibGlzaGVkVHJhY2tzXSwgdHlwZSksXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xufTtcblxuLyoqXG4gKiBBbiBldmVudCByZXNwb25kZXIgd2hpY2ggaGFuZGxlcyB0aGUgYHRyYWNrVW5wdWJsaXNoZWRgIGV2ZW50LlxuICogVGhlIFNGVSB3aWxsIHNlbmQgdGhpcyBldmVudCB3aGVuIGEgcGFydGljaXBhbnQgdW5wdWJsaXNoZXMgYSB0cmFjay5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoVHJhY2tVbnB1Ymxpc2hlZCA9IChzdGF0ZTogQ2FsbFN0YXRlKSA9PiB7XG4gIHJldHVybiBmdW5jdGlvbiBvblRyYWNrVW5wdWJsaXNoZWQoZTogVHJhY2tVbnB1Ymxpc2hlZCkge1xuICAgIGNvbnN0IHsgdHlwZSwgc2Vzc2lvbklkIH0gPSBlO1xuICAgIC8vIEFuIG9wdGltaXphdGlvbiBmb3IgbGFyZ2UgY2FsbHMuIFNlZSBgd2F0Y2hUcmFja1B1Ymxpc2hlZGAuXG4gICAgaWYgKGUucGFydGljaXBhbnQpIHtcbiAgICAgIGNvbnN0IG9ycGhhbmVkVHJhY2tzID0gcmVjb25jaWxlT3JwaGFuZWRUcmFja3Moc3RhdGUsIGUucGFydGljaXBhbnQpO1xuICAgICAgY29uc3QgcGFydGljaXBhbnQgPSBPYmplY3QuYXNzaWduKGUucGFydGljaXBhbnQsIG9ycGhhbmVkVHJhY2tzKTtcbiAgICAgIHN0YXRlLnVwZGF0ZU9yQWRkUGFydGljaXBhbnQoc2Vzc2lvbklkLCBwYXJ0aWNpcGFudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgKHApID0+ICh7XG4gICAgICAgIHB1Ymxpc2hlZFRyYWNrczogcC5wdWJsaXNoZWRUcmFja3MuZmlsdGVyKCh0KSA9PiB0ICE9PSB0eXBlKSxcbiAgICAgIH0pKTtcbiAgICB9XG4gIH07XG59O1xuXG4vKipcbiAqIFJlY29uY2lsZXMgb3JwaGFuZWQgdHJhY2tzIChpZiBhbnkpIGZvciB0aGUgZ2l2ZW4gcGFydGljaXBhbnQuXG4gKlxuICogQHBhcmFtIHN0YXRlIHRoZSBjYWxsIHN0YXRlLlxuICogQHBhcmFtIHBhcnRpY2lwYW50IHRoZSBwYXJ0aWNpcGFudC5cbiAqL1xuY29uc3QgcmVjb25jaWxlT3JwaGFuZWRUcmFja3MgPSAoXG4gIHN0YXRlOiBDYWxsU3RhdGUsXG4gIHBhcnRpY2lwYW50OiBQYXJ0aWNpcGFudCxcbik6IFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaCB8IHVuZGVmaW5lZCA9PiB7XG4gIGNvbnN0IG9ycGhhblRyYWNrcyA9IHN0YXRlLnRha2VPcnBoYW5lZFRyYWNrcyhwYXJ0aWNpcGFudC50cmFja0xvb2t1cFByZWZpeCk7XG4gIGlmICghb3JwaGFuVHJhY2tzLmxlbmd0aCkgcmV0dXJuO1xuICBjb25zdCByZWNvbmNpbGVkVHJhY2tzOiBTdHJlYW1WaWRlb1BhcnRpY2lwYW50UGF0Y2ggPSB7fTtcbiAgZm9yIChjb25zdCBvcnBoYW4gb2Ygb3JwaGFuVHJhY2tzKSB7XG4gICAgY29uc3Qga2V5ID0gdHJhY2tUeXBlVG9QYXJ0aWNpcGFudFN0cmVhbUtleShvcnBoYW4udHJhY2tUeXBlKTtcbiAgICBpZiAoIWtleSkgY29udGludWU7XG4gICAgcmVjb25jaWxlZFRyYWNrc1trZXldID0gb3JwaGFuLnRyYWNrO1xuICB9XG4gIHJldHVybiByZWNvbmNpbGVkVHJhY2tzO1xufTtcbiIsImltcG9ydCB7IERpc3BhdGNoZXIgfSBmcm9tICcuLi9ydGMnO1xuaW1wb3J0IHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudFBhdGNoZXMgfSBmcm9tICcuLi90eXBlcyc7XG5cbi8qKlxuICogV2F0Y2hlcyBmb3IgYGRvbWluYW50U3BlYWtlckNoYW5nZWRgIGV2ZW50cy5cbiAqL1xuZXhwb3J0IGNvbnN0IHdhdGNoRG9taW5hbnRTcGVha2VyQ2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignZG9taW5hbnRTcGVha2VyQ2hhbmdlZCcsIChlKSA9PiB7XG4gICAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IGU7XG4gICAgaWYgKHNlc3Npb25JZCA9PT0gc3RhdGUuZG9taW5hbnRTcGVha2VyPy5zZXNzaW9uSWQpIHJldHVybjtcbiAgICBzdGF0ZS5zZXRQYXJ0aWNpcGFudHMoKHBhcnRpY2lwYW50cykgPT5cbiAgICAgIHBhcnRpY2lwYW50cy5tYXAoKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIC8vIG1hcmsgdGhlIG5ldyBkb21pbmFudCBzcGVha2VyXG4gICAgICAgIGlmIChwYXJ0aWNpcGFudC5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICAgIGlzRG9taW5hbnRTcGVha2VyOiB0cnVlLFxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gdW5tYXJrIHRoZSBvbGQgZG9taW5hbnQgc3BlYWtlclxuICAgICAgICBpZiAocGFydGljaXBhbnQuaXNEb21pbmFudFNwZWFrZXIpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucGFydGljaXBhbnQsXG4gICAgICAgICAgICBpc0RvbWluYW50U3BlYWtlcjogZmFsc2UsXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydGljaXBhbnQ7IC8vIG5vIGNoYW5nZVxuICAgICAgfSksXG4gICAgKTtcbiAgfSk7XG59O1xuXG4vKipcbiAqIFdhdGNoZXMgZm9yIGBhdWRpb0xldmVsQ2hhbmdlZGAgZXZlbnRzLlxuICovXG5leHBvcnQgY29uc3Qgd2F0Y2hBdWRpb0xldmVsQ2hhbmdlZCA9IChcbiAgZGlzcGF0Y2hlcjogRGlzcGF0Y2hlcixcbiAgc3RhdGU6IENhbGxTdGF0ZSxcbikgPT4ge1xuICByZXR1cm4gZGlzcGF0Y2hlci5vbignYXVkaW9MZXZlbENoYW5nZWQnLCAoZSkgPT4ge1xuICAgIGNvbnN0IHsgYXVkaW9MZXZlbHMgfSA9IGU7XG4gICAgc3RhdGUudXBkYXRlUGFydGljaXBhbnRzKFxuICAgICAgYXVkaW9MZXZlbHMucmVkdWNlPFN0cmVhbVZpZGVvUGFydGljaXBhbnRQYXRjaGVzPigocGF0Y2hlcywgY3VycmVudCkgPT4ge1xuICAgICAgICBwYXRjaGVzW2N1cnJlbnQuc2Vzc2lvbklkXSA9IHtcbiAgICAgICAgICBhdWRpb0xldmVsOiBjdXJyZW50LmxldmVsLFxuICAgICAgICAgIGlzU3BlYWtpbmc6IGN1cnJlbnQuaXNTcGVha2luZyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHBhdGNoZXM7XG4gICAgICB9LCB7fSksXG4gICAgKTtcbiAgfSk7XG59O1xuIiwiaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgRGlzcGF0Y2hlciB9IGZyb20gJy4uL3J0Yyc7XG5pbXBvcnQge1xuICBoYW5kbGVSZW1vdGVTb2Z0TXV0ZSxcbiAgd2F0Y2hBdWRpb0xldmVsQ2hhbmdlZCxcbiAgd2F0Y2hDYWxsQWNjZXB0ZWQsXG4gIHdhdGNoQ2FsbEVuZGVkLFxuICB3YXRjaENhbGxHcmFudHNVcGRhdGVkLFxuICB3YXRjaENhbGxSZWplY3RlZCxcbiAgd2F0Y2hDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQsXG4gIHdhdGNoRG9taW5hbnRTcGVha2VyQ2hhbmdlZCxcbiAgd2F0Y2hMaXZlRW5kZWQsXG4gIHdhdGNoUGFydGljaXBhbnRDb3VudENoYW5nZWQsXG4gIHdhdGNoUGFydGljaXBhbnRKb2luZWQsXG4gIHdhdGNoUGFydGljaXBhbnRMZWZ0LFxuICB3YXRjaFBhcnRpY2lwYW50VXBkYXRlZCxcbiAgd2F0Y2hQaW5zVXBkYXRlZCxcbiAgd2F0Y2hTZnVDYWxsRW5kZWQsXG4gIHdhdGNoU2Z1RXJyb3JSZXBvcnRzLFxuICB3YXRjaFRyYWNrUHVibGlzaGVkLFxuICB3YXRjaFRyYWNrVW5wdWJsaXNoZWQsXG59IGZyb20gJy4uL2V2ZW50cyc7XG5pbXBvcnQge1xuICBBbGxDYWxsRXZlbnRzLFxuICBBbGxDbGllbnRDYWxsRXZlbnRzLFxuICBDYWxsRXZlbnRMaXN0ZW5lcixcbn0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5cbnR5cGUgUmluZ0NhbGxFdmVudHMgPSBFeHRyYWN0PFxuICBBbGxDbGllbnRDYWxsRXZlbnRzLFxuICAnY2FsbC5hY2NlcHRlZCcgfCAnY2FsbC5yZWplY3RlZCcgfCAnY2FsbC5taXNzZWQnXG4+O1xuXG4vKipcbiAqIFJlZ2lzdGVycyB0aGUgZGVmYXVsdCBldmVudCBoYW5kbGVycyBmb3IgYSBjYWxsIGR1cmluZyBpdHMgbGlmZWN5Y2xlLlxuICpcbiAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIHRvIHJlZ2lzdGVyIGV2ZW50IGhhbmRsZXJzIGZvci5cbiAqIEBwYXJhbSBkaXNwYXRjaGVyIHRoZSBkaXNwYXRjaGVyLlxuICovXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJFdmVudEhhbmRsZXJzID0gKGNhbGw6IENhbGwsIGRpc3BhdGNoZXI6IERpc3BhdGNoZXIpID0+IHtcbiAgY29uc3Qgc3RhdGUgPSBjYWxsLnN0YXRlO1xuICBjb25zdCBldmVudEhhbmRsZXJzID0gW1xuICAgIGNhbGwub24oJ2NhbGwuZW5kZWQnLCB3YXRjaENhbGxFbmRlZChjYWxsKSksXG4gICAgd2F0Y2hTZnVDYWxsRW5kZWQoY2FsbCksXG5cbiAgICB3YXRjaExpdmVFbmRlZChkaXNwYXRjaGVyLCBjYWxsKSxcbiAgICB3YXRjaFNmdUVycm9yUmVwb3J0cyhkaXNwYXRjaGVyKSxcbiAgICB3YXRjaENvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZChkaXNwYXRjaGVyLCBzdGF0ZSksXG4gICAgd2F0Y2hQYXJ0aWNpcGFudENvdW50Q2hhbmdlZChkaXNwYXRjaGVyLCBzdGF0ZSksXG5cbiAgICBjYWxsLm9uKCdwYXJ0aWNpcGFudEpvaW5lZCcsIHdhdGNoUGFydGljaXBhbnRKb2luZWQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCdwYXJ0aWNpcGFudExlZnQnLCB3YXRjaFBhcnRpY2lwYW50TGVmdChzdGF0ZSkpLFxuICAgIGNhbGwub24oJ3BhcnRpY2lwYW50VXBkYXRlZCcsIHdhdGNoUGFydGljaXBhbnRVcGRhdGVkKHN0YXRlKSksXG5cbiAgICBjYWxsLm9uKCd0cmFja1B1Ymxpc2hlZCcsIHdhdGNoVHJhY2tQdWJsaXNoZWQoc3RhdGUpKSxcbiAgICBjYWxsLm9uKCd0cmFja1VucHVibGlzaGVkJywgd2F0Y2hUcmFja1VucHVibGlzaGVkKHN0YXRlKSksXG5cbiAgICB3YXRjaEF1ZGlvTGV2ZWxDaGFuZ2VkKGRpc3BhdGNoZXIsIHN0YXRlKSxcbiAgICB3YXRjaERvbWluYW50U3BlYWtlckNoYW5nZWQoZGlzcGF0Y2hlciwgc3RhdGUpLFxuXG4gICAgY2FsbC5vbignY2FsbEdyYW50c1VwZGF0ZWQnLCB3YXRjaENhbGxHcmFudHNVcGRhdGVkKHN0YXRlKSksXG4gICAgY2FsbC5vbigncGluc1VwZGF0ZWQnLCB3YXRjaFBpbnNVcGRhdGVkKHN0YXRlKSksXG5cbiAgICBoYW5kbGVSZW1vdGVTb2Z0TXV0ZShjYWxsKSxcbiAgXTtcblxuICBpZiAoY2FsbC5yaW5naW5nKSB7XG4gICAgLy8gdGhlc2UgZXZlbnRzIGFyZSBvbmx5IHJlbGV2YW50IHdoZW4gdGhlIGNhbGwgaXMgcmluZ2luZ1xuICAgIGV2ZW50SGFuZGxlcnMucHVzaChyZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyhjYWxsKSk7XG4gIH1cblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaCgodW5zdWJzY3JpYmUpID0+IHVuc3Vic2NyaWJlKCkpO1xuICB9O1xufTtcblxuLyoqXG4gKiBSZWdpc3RlcnMgZXZlbnQgaGFuZGxlcnMgZm9yIGEgY2FsbCB0aGF0IGlzIG9mIHJpbmdpbmcgdHlwZS5cbiAqXG4gKiBAcGFyYW0gY2FsbCB0aGUgY2FsbCB0byByZWdpc3RlciBldmVudCBoYW5kbGVycyBmb3IuXG4gKi9cbmV4cG9ydCBjb25zdCByZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyA9IChjYWxsOiBDYWxsKSA9PiB7XG4gIGNvbnN0IGNvb3JkaW5hdG9yUmluZ0V2ZW50czoge1xuICAgIFtrZXkgaW4gUmluZ0NhbGxFdmVudHNdOiAoXG4gICAgICBjYWxsOiBDYWxsLFxuICAgICkgPT4gQ2FsbEV2ZW50TGlzdGVuZXI8QWxsQ2FsbEV2ZW50c1trZXldPjtcbiAgfSA9IHtcbiAgICAnY2FsbC5hY2NlcHRlZCc6IHdhdGNoQ2FsbEFjY2VwdGVkKGNhbGwpLFxuICAgICdjYWxsLnJlamVjdGVkJzogd2F0Y2hDYWxsUmVqZWN0ZWQoY2FsbCksXG4gIH07XG5cbiAgY29uc3QgZXZlbnRIYW5kbGVycyA9IE9iamVjdC5rZXlzKGNvb3JkaW5hdG9yUmluZ0V2ZW50cykubWFwKChldmVudCkgPT4ge1xuICAgIGNvbnN0IGV2ZW50TmFtZSA9IGV2ZW50IGFzIFJpbmdDYWxsRXZlbnRzO1xuICAgIHJldHVybiBjYWxsLm9uKGV2ZW50TmFtZSwgY29vcmRpbmF0b3JSaW5nRXZlbnRzW2V2ZW50TmFtZV0pO1xuICB9KTtcblxuICByZXR1cm4gKCkgPT4ge1xuICAgIGV2ZW50SGFuZGxlcnMuZm9yRWFjaCgodW5zdWJzY3JpYmUpID0+IHVuc3Vic2NyaWJlKCkpO1xuICB9O1xufTtcbiIsImNvbnN0IERFRkFVTFRfVEhSRVNIT0xEID0gMC4zNTtcblxuZXhwb3J0IHR5cGUgRW50cnlIYW5kbGVyID0gKGVudHJ5OiBJbnRlcnNlY3Rpb25PYnNlcnZlckVudHJ5KSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBVbm9ic2VydmUgPSAoKSA9PiB2b2lkO1xuXG5leHBvcnQgdHlwZSBPYnNlcnZlID0gKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgZW50cnlIYW5kbGVyOiBFbnRyeUhhbmRsZXIsXG4pID0+IFVub2JzZXJ2ZTtcblxuZXhwb3J0IGNsYXNzIFZpZXdwb3J0VHJhY2tlciB7XG4gIC8qKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSBlbGVtZW50SGFuZGxlck1hcDogTWFwPFxuICAgIEhUTUxFbGVtZW50LFxuICAgIChlbnRyeTogSW50ZXJzZWN0aW9uT2JzZXJ2ZXJFbnRyeSkgPT4gdm9pZFxuICA+ID0gbmV3IE1hcCgpO1xuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgb2JzZXJ2ZXI6IEludGVyc2VjdGlvbk9ic2VydmVyIHwgbnVsbCA9IG51bGw7XG4gIC8vIGluIFJlYWN0IGNoaWxkcmVuIHJlbmRlciBiZWZvcmUgdmlld3BvcnQgaXMgc2V0LCBhZGRcbiAgLy8gdGhlbSB0byB0aGUgcXVldWUgYW5kIG9ic2VydmUgdGhlbSBvbmNlIHRoZSBvYnNlcnZlciBpcyByZWFkeVxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcXVldWVTZXQ6IFNldDxyZWFkb25seSBbSFRNTEVsZW1lbnQsIEVudHJ5SGFuZGxlcl0+ID0gbmV3IFNldCgpO1xuXG4gIC8qKlxuICAgKiBNZXRob2QgdG8gc2V0IHNjcm9sbGFibGUgdmlld3BvcnQgYXMgcm9vdCBmb3IgdGhlIEludGVyc2VjdGlvbk9ic2VydmVyLCByZXR1cm5zXG4gICAqIGNsZWFudXAgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB1cG9uIGRpc3Bvc2luZyBvZiB0aGUgRE9NIGVsZW1lbnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICpcbiAgICogQHBhcmFtIHZpZXdwb3J0RWxlbWVudFxuICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgKiBAcmV0dXJucyBVbm9ic2VydmVcbiAgICovXG4gIHB1YmxpYyBzZXRWaWV3cG9ydCA9IChcbiAgICB2aWV3cG9ydEVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICAgIG9wdGlvbnM/OiBQaWNrPEludGVyc2VjdGlvbk9ic2VydmVySW5pdCwgJ3RocmVzaG9sZCcgfCAncm9vdE1hcmdpbic+LFxuICApID0+IHtcbiAgICBjb25zdCBjbGVhbnVwID0gKCkgPT4ge1xuICAgICAgdGhpcy5vYnNlcnZlcj8uZGlzY29ubmVjdCgpO1xuICAgICAgdGhpcy5vYnNlcnZlciA9IG51bGw7XG4gICAgICB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLmNsZWFyKCk7XG4gICAgfTtcblxuICAgIHRoaXMub2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoXG4gICAgICAoZW50cmllcykgPT4ge1xuICAgICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuZ2V0KFxuICAgICAgICAgICAgZW50cnkudGFyZ2V0IGFzIEhUTUxFbGVtZW50LFxuICAgICAgICAgICk7XG4gICAgICAgICAgaGFuZGxlcj8uKGVudHJ5KTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAge1xuICAgICAgICByb290OiB2aWV3cG9ydEVsZW1lbnQsXG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIHRocmVzaG9sZDogb3B0aW9ucz8udGhyZXNob2xkID8/IERFRkFVTFRfVEhSRVNIT0xELFxuICAgICAgfSxcbiAgICApO1xuXG4gICAgaWYgKHRoaXMucXVldWVTZXQuc2l6ZSkge1xuICAgICAgdGhpcy5xdWV1ZVNldC5mb3JFYWNoKChbcXVldWVFbGVtZW50LCBxdWV1ZUhhbmRsZXJdKSA9PiB7XG4gICAgICAgIC8vIGNoZWNrIGlmIGVsZW1lbnQgd2hpY2ggcmVxdWVzdGVkIG9ic2VydmF0aW9uIGlzXG4gICAgICAgIC8vIGEgY2hpbGQgb2YgYSB2aWV3cG9ydCBlbGVtZW50LCBza2lwIGlmIGlzbid0XG4gICAgICAgIGlmICghdmlld3BvcnRFbGVtZW50LmNvbnRhaW5zKHF1ZXVlRWxlbWVudCkpIHJldHVybjtcblxuICAgICAgICB0aGlzLm9ic2VydmVyIS5vYnNlcnZlKHF1ZXVlRWxlbWVudCk7XG4gICAgICAgIHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuc2V0KHF1ZXVlRWxlbWVudCwgcXVldWVIYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5xdWV1ZVNldC5jbGVhcigpO1xuICAgIH1cblxuICAgIHJldHVybiBjbGVhbnVwO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNZXRob2QgdG8gc2V0IGVsZW1lbnQgdG8gb2JzZXJ2ZSBhbmQgaGFuZGxlciB0byBiZSB0cmlnZ2VyZWQgd2hlbmV2ZXIgSW50ZXJzZWN0aW9uT2JzZXJ2ZXJcbiAgICogZGV0ZWN0cyBhIHBvc3NpYmxlIGNoYW5nZSBpbiBlbGVtZW50J3MgdmlzaWJpbGl0eSB3aXRoaW4gc3BlY2lmaWVkIHZpZXdwb3J0LCByZXR1cm5zXG4gICAqIGNsZWFudXAgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB1cG9uIGRpc3Bvc2luZyBvZiB0aGUgRE9NIGVsZW1lbnQgdG8gcHJldmVudCBtZW1vcnkgbGVha3NcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnRcbiAgICogQHBhcmFtIGhhbmRsZXJcbiAgICogQHJldHVybnMgVW5vYnNlcnZlXG4gICAqL1xuICBwdWJsaWMgb2JzZXJ2ZTogT2JzZXJ2ZSA9IChlbGVtZW50LCBoYW5kbGVyKSA9PiB7XG4gICAgY29uc3QgcXVldWVJdGVtID0gW2VsZW1lbnQsIGhhbmRsZXJdIGFzIGNvbnN0O1xuXG4gICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgIHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuZGVsZXRlKGVsZW1lbnQpO1xuICAgICAgdGhpcy5vYnNlcnZlcj8udW5vYnNlcnZlKGVsZW1lbnQpO1xuICAgICAgdGhpcy5xdWV1ZVNldC5kZWxldGUocXVldWVJdGVtKTtcbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuZWxlbWVudEhhbmRsZXJNYXAuaGFzKGVsZW1lbnQpKSByZXR1cm4gY2xlYW51cDtcblxuICAgIGlmICghdGhpcy5vYnNlcnZlcikge1xuICAgICAgdGhpcy5xdWV1ZVNldC5hZGQocXVldWVJdGVtKTtcbiAgICAgIHJldHVybiBjbGVhbnVwO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm9ic2VydmVyLnJvb3QhLmNvbnRhaW5zKGVsZW1lbnQpKSB7XG4gICAgICB0aGlzLmVsZW1lbnRIYW5kbGVyTWFwLnNldChlbGVtZW50LCBoYW5kbGVyKTtcbiAgICAgIHRoaXMub2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY2xlYW51cDtcbiAgfTtcbn1cbiIsImltcG9ydCB7XG4gIEF1ZGlvVHJhY2tUeXBlLFxuICBEZWJvdW5jZVR5cGUsXG4gIFZpZGVvVHJhY2tUeXBlLFxuICBWaXNpYmlsaXR5U3RhdGUsXG59IGZyb20gJy4uL3R5cGVzJztcbmltcG9ydCB7IFRyYWNrVHlwZSwgVmlkZW9EaW1lbnNpb24gfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHtcbiAgQmVoYXZpb3JTdWJqZWN0LFxuICBjb21iaW5lTGF0ZXN0LFxuICBkaXN0aW5jdFVudGlsQ2hhbmdlZCxcbiAgZGlzdGluY3RVbnRpbEtleUNoYW5nZWQsXG4gIG1hcCxcbiAgc2hhcmVSZXBsYXksXG4gIHRha2VXaGlsZSxcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBWaWV3cG9ydFRyYWNrZXIgfSBmcm9tICcuL1ZpZXdwb3J0VHJhY2tlcic7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgaXNGaXJlZm94LCBpc1NhZmFyaSB9IGZyb20gJy4vYnJvd3NlcnMnO1xuaW1wb3J0IHtcbiAgaGFzU2NyZWVuU2hhcmUsXG4gIGhhc1NjcmVlblNoYXJlQXVkaW8sXG4gIGhhc1ZpZGVvLFxufSBmcm9tICcuL3BhcnRpY2lwYW50VXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L3NpZ25hbF9ycGMvc2lnbmFsJztcbmltcG9ydCB0eXBlIHsgQ2FsbFN0YXRlIH0gZnJvbSAnLi4vc3RvcmUnO1xuaW1wb3J0IHR5cGUgeyBTdHJlYW1TZnVDbGllbnQgfSBmcm9tICcuLi9TdHJlYW1TZnVDbGllbnQnO1xuaW1wb3J0IHsgU3BlYWtlck1hbmFnZXIgfSBmcm9tICcuLi9kZXZpY2VzJztcbmltcG9ydCB7IGdldEN1cnJlbnRWYWx1ZSwgc2V0Q3VycmVudFZhbHVlIH0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5cbmNvbnN0IERFRkFVTFRfVklFV1BPUlRfVklTSUJJTElUWV9TVEFURTogUmVjb3JkPFxuICBWaWRlb1RyYWNrVHlwZSxcbiAgVmlzaWJpbGl0eVN0YXRlXG4+ID0ge1xuICB2aWRlb1RyYWNrOiBWaXNpYmlsaXR5U3RhdGUuVU5LTk9XTixcbiAgc2NyZWVuU2hhcmVUcmFjazogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG59IGFzIGNvbnN0O1xuXG50eXBlIFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZSA9XG4gIHwge1xuICAgICAgZW5hYmxlZDogdHJ1ZTtcbiAgICAgIGRpbWVuc2lvbjogVmlkZW9EaW1lbnNpb247XG4gICAgfVxuICB8IHsgZW5hYmxlZDogZmFsc2UgfTtcblxuY29uc3QgZ2xvYmFsT3ZlcnJpZGVLZXkgPSBTeW1ib2woJ2dsb2JhbE92ZXJyaWRlS2V5Jyk7XG5cbmludGVyZmFjZSBWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzIHtcbiAgW3Nlc3Npb25JZDogc3RyaW5nXTogVmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlIHwgdW5kZWZpbmVkO1xuICBbZ2xvYmFsT3ZlcnJpZGVLZXldPzogVmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlO1xufVxuXG4vKipcbiAqIEEgbWFuYWdlciBjbGFzcyB0aGF0IGhhbmRsZXMgZHluYXNjYWxlIHJlbGF0ZWQgdGFza3MgbGlrZTpcbiAqXG4gKiAtIGJpbmRpbmcgdmlkZW8gZWxlbWVudHMgdG8gc2Vzc2lvbiBpZHNcbiAqIC0gYmluZGluZyBhdWRpbyBlbGVtZW50cyB0byBzZXNzaW9uIGlkc1xuICogLSB0cmFja2luZyBlbGVtZW50IHZpc2liaWxpdHlcbiAqIC0gdXBkYXRpbmcgc3Vic2NyaXB0aW9ucyBiYXNlZCBvbiB2aWV3cG9ydCB2aXNpYmlsaXR5XG4gKiAtIHVwZGF0aW5nIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gdmlkZW8gZWxlbWVudCBkaW1lbnNpb25zXG4gKiAtIHVwZGF0aW5nIHN1YnNjcmlwdGlvbnMgYmFzZWQgb24gcHVibGlzaGVkIHRyYWNrc1xuICovXG5leHBvcnQgY2xhc3MgRHluYXNjYWxlTWFuYWdlciB7XG4gIC8qKlxuICAgKiBUaGUgdmlld3BvcnQgdHJhY2tlciBpbnN0YW5jZS5cbiAgICovXG4gIHJlYWRvbmx5IHZpZXdwb3J0VHJhY2tlciA9IG5ldyBWaWV3cG9ydFRyYWNrZXIoKTtcblxuICBwcml2YXRlIGxvZ2dlciA9IGdldExvZ2dlcihbJ0R5bmFzY2FsZU1hbmFnZXInXSk7XG4gIHByaXZhdGUgY2FsbFN0YXRlOiBDYWxsU3RhdGU7XG4gIHByaXZhdGUgc3BlYWtlcjogU3BlYWtlck1hbmFnZXI7XG4gIHByaXZhdGUgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgcGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGU6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG5cbiAgcHJpdmF0ZSB2aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdCA9XG4gICAgbmV3IEJlaGF2aW9yU3ViamVjdDxWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzPih7fSk7XG5cbiAgdmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyQgPVxuICAgIHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1N1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgaW5jb21pbmdWaWRlb1NldHRpbmdzJCA9IHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyQucGlwZShcbiAgICBtYXAoKG92ZXJyaWRlcykgPT4ge1xuICAgICAgY29uc3QgeyBbZ2xvYmFsT3ZlcnJpZGVLZXldOiBnbG9iYWxTZXR0aW5ncywgLi4ucGFydGljaXBhbnRzIH0gPVxuICAgICAgICBvdmVycmlkZXM7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbmFibGVkOiBnbG9iYWxTZXR0aW5ncz8uZW5hYmxlZCAhPT0gZmFsc2UsXG4gICAgICAgIHByZWZlcnJlZFJlc29sdXRpb246IGdsb2JhbFNldHRpbmdzPy5lbmFibGVkXG4gICAgICAgICAgPyBnbG9iYWxTZXR0aW5ncy5kaW1lbnNpb25cbiAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgcGFydGljaXBhbnRzOiBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgICAgICAgT2JqZWN0LmVudHJpZXMocGFydGljaXBhbnRzKS5tYXAoXG4gICAgICAgICAgICAoW3Nlc3Npb25JZCwgcGFydGljaXBhbnRPdmVycmlkZV0pID0+IFtcbiAgICAgICAgICAgICAgc2Vzc2lvbklkLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZW5hYmxlZDogcGFydGljaXBhbnRPdmVycmlkZT8uZW5hYmxlZCAhPT0gZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlZmVycmVkUmVzb2x1dGlvbjogcGFydGljaXBhbnRPdmVycmlkZT8uZW5hYmxlZFxuICAgICAgICAgICAgICAgICAgPyBwYXJ0aWNpcGFudE92ZXJyaWRlLmRpbWVuc2lvblxuICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICksXG4gICAgICAgICksXG4gICAgICAgIGlzUGFydGljaXBhbnRWaWRlb0VuYWJsZWQ6IChzZXNzaW9uSWQ6IHN0cmluZykgPT5cbiAgICAgICAgICBvdmVycmlkZXNbc2Vzc2lvbklkXT8uZW5hYmxlZCA/P1xuICAgICAgICAgIG92ZXJyaWRlc1tnbG9iYWxPdmVycmlkZUtleV0/LmVuYWJsZWQgPz9cbiAgICAgICAgICB0cnVlLFxuICAgICAgfTtcbiAgICB9KSxcbiAgICBzaGFyZVJlcGxheSgxKSxcbiAgKTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBEeW5hc2NhbGVNYW5hZ2VyIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FsbFN0YXRlOiBDYWxsU3RhdGUsIHNwZWFrZXI6IFNwZWFrZXJNYW5hZ2VyKSB7XG4gICAgdGhpcy5jYWxsU3RhdGUgPSBjYWxsU3RhdGU7XG4gICAgdGhpcy5zcGVha2VyID0gc3BlYWtlcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNwb3NlcyB0aGUgYWxsb2NhdGVkIHJlc291cmNlcyBhbmQgY2xvc2VzIHRoZSBhdWRpbyBjb250ZXh0IGlmIGl0IHdhcyBjcmVhdGVkLlxuICAgKi9cbiAgZGlzcG9zZSA9IGFzeW5jICgpID0+IHtcbiAgICBpZiAodGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9uc1VwZGF0ZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUpO1xuICAgIH1cbiAgICBjb25zdCBjb250ZXh0ID0gdGhpcy5nZXRPckNyZWF0ZUF1ZGlvQ29udGV4dCgpO1xuICAgIGlmIChjb250ZXh0ICYmIGNvbnRleHQuc3RhdGUgIT09ICdjbG9zZWQnKSB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMucmVzdW1lQXVkaW9Db250ZXh0KTtcbiAgICAgIGF3YWl0IGNvbnRleHQuY2xvc2UoKTtcbiAgICAgIHRoaXMuYXVkaW9Db250ZXh0ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfTtcblxuICBzZXRTZnVDbGllbnQoc2Z1Q2xpZW50OiBTdHJlYW1TZnVDbGllbnQgfCB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNmdUNsaWVudCA9IHNmdUNsaWVudDtcbiAgfVxuXG4gIGdldCB0cmFja1N1YnNjcmlwdGlvbnMoKSB7XG4gICAgY29uc3Qgc3Vic2NyaXB0aW9uczogVHJhY2tTdWJzY3JpcHRpb25EZXRhaWxzW10gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHAgb2YgdGhpcy5jYWxsU3RhdGUucmVtb3RlUGFydGljaXBhbnRzKSB7XG4gICAgICAvLyBOT1RFOiBhdWRpbyB0cmFja3MgZG9uJ3QgaGF2ZSB0byBiZSByZXF1ZXN0ZWQgZXhwbGljaXRseVxuICAgICAgLy8gYXMgdGhlIFNGVSB3aWxsIGltcGxpY2l0bHkgc3Vic2NyaWJlIHVzIHRvIGFsbCBvZiB0aGVtLFxuICAgICAgLy8gb25jZSB0aGV5IGJlY29tZSBhdmFpbGFibGUuXG4gICAgICBpZiAocC52aWRlb0RpbWVuc2lvbiAmJiBoYXNWaWRlbyhwKSkge1xuICAgICAgICBjb25zdCBvdmVycmlkZSA9XG4gICAgICAgICAgdGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzW3Auc2Vzc2lvbklkXSA/P1xuICAgICAgICAgIHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1tnbG9iYWxPdmVycmlkZUtleV07XG5cbiAgICAgICAgaWYgKG92ZXJyaWRlPy5lbmFibGVkICE9PSBmYWxzZSkge1xuICAgICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaCh7XG4gICAgICAgICAgICB1c2VySWQ6IHAudXNlcklkLFxuICAgICAgICAgICAgc2Vzc2lvbklkOiBwLnNlc3Npb25JZCxcbiAgICAgICAgICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLlZJREVPLFxuICAgICAgICAgICAgZGltZW5zaW9uOiBvdmVycmlkZT8uZGltZW5zaW9uID8/IHAudmlkZW9EaW1lbnNpb24sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwLnNjcmVlblNoYXJlRGltZW5zaW9uICYmIGhhc1NjcmVlblNoYXJlKHApKSB7XG4gICAgICAgIHN1YnNjcmlwdGlvbnMucHVzaCh7XG4gICAgICAgICAgdXNlcklkOiBwLnVzZXJJZCxcbiAgICAgICAgICBzZXNzaW9uSWQ6IHAuc2Vzc2lvbklkLFxuICAgICAgICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSxcbiAgICAgICAgICBkaW1lbnNpb246IHAuc2NyZWVuU2hhcmVEaW1lbnNpb24sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGhhc1NjcmVlblNoYXJlQXVkaW8ocCkpIHtcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKHtcbiAgICAgICAgICB1c2VySWQ6IHAudXNlcklkLFxuICAgICAgICAgIHNlc3Npb25JZDogcC5zZXNzaW9uSWQsXG4gICAgICAgICAgdHJhY2tUeXBlOiBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPLFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN1YnNjcmlwdGlvbnM7XG4gIH1cblxuICBnZXQgdmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcygpIHtcbiAgICByZXR1cm4gZ2V0Q3VycmVudFZhbHVlKHRoaXMudmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyQpO1xuICB9XG5cbiAgc2V0VmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyA9IChcbiAgICBvdmVycmlkZTogVmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlIHwgdW5kZWZpbmVkLFxuICAgIHNlc3Npb25JZHM/OiBzdHJpbmdbXSxcbiAgKSA9PiB7XG4gICAgaWYgKCFzZXNzaW9uSWRzKSB7XG4gICAgICByZXR1cm4gc2V0Q3VycmVudFZhbHVlKFxuICAgICAgICB0aGlzLnZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXNTdWJqZWN0LFxuICAgICAgICBvdmVycmlkZSA/IHsgW2dsb2JhbE92ZXJyaWRlS2V5XTogb3ZlcnJpZGUgfSA6IHt9LFxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2V0Q3VycmVudFZhbHVlKFxuICAgICAgdGhpcy52aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzU3ViamVjdCxcbiAgICAgIChvdmVycmlkZXMpID0+ICh7XG4gICAgICAgIC4uLm92ZXJyaWRlcyxcbiAgICAgICAgLi4uT2JqZWN0LmZyb21FbnRyaWVzKHNlc3Npb25JZHMubWFwKChpZCkgPT4gW2lkLCBvdmVycmlkZV0pKSxcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgYXBwbHlUcmFja1N1YnNjcmlwdGlvbnMgPSAoXG4gICAgZGVib3VuY2VUeXBlOiBEZWJvdW5jZVR5cGUgPSBEZWJvdW5jZVR5cGUuU0xPVyxcbiAgKSA9PiB7XG4gICAgaWYgKHRoaXMucGVuZGluZ1N1YnNjcmlwdGlvbnNVcGRhdGUpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlKTtcbiAgICB9XG5cbiAgICBjb25zdCB1cGRhdGVTdWJzY3JpcHRpb25zID0gKCkgPT4ge1xuICAgICAgdGhpcy5wZW5kaW5nU3Vic2NyaXB0aW9uc1VwZGF0ZSA9IG51bGw7XG4gICAgICB0aGlzLnNmdUNsaWVudFxuICAgICAgICA/LnVwZGF0ZVN1YnNjcmlwdGlvbnModGhpcy50cmFja1N1YnNjcmlwdGlvbnMpXG4gICAgICAgIC5jYXRjaCgoZXJyOiB1bmtub3duKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYEZhaWxlZCB0byB1cGRhdGUgdHJhY2sgc3Vic2NyaXB0aW9uc2AsIGVycik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoZGVib3VuY2VUeXBlKSB7XG4gICAgICB0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlID0gc2V0VGltZW91dChcbiAgICAgICAgdXBkYXRlU3Vic2NyaXB0aW9ucyxcbiAgICAgICAgZGVib3VuY2VUeXBlLFxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdXBkYXRlU3Vic2NyaXB0aW9ucygpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBiZWdpbiB0cmFja2luZyB0aGUgZ2l2ZW4gZWxlbWVudCBmb3IgdmlzaWJpbGl0eSBjaGFuZ2VzIHdpdGhpbiB0aGVcbiAgICogY29uZmlndXJlZCB2aWV3cG9ydCBlbGVtZW50IChgY2FsbC5zZXRWaWV3cG9ydGApLlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB0aGUgZWxlbWVudCB0byB0cmFjay5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiB2aWRlby5cbiAgICogQHJldHVybnMgVW50cmFjay5cbiAgICovXG4gIHRyYWNrRWxlbWVudFZpc2liaWxpdHkgPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50PihcbiAgICBlbGVtZW50OiBULFxuICAgIHNlc3Npb25JZDogc3RyaW5nLFxuICAgIHRyYWNrVHlwZTogVmlkZW9UcmFja1R5cGUsXG4gICkgPT4ge1xuICAgIGNvbnN0IGNsZWFudXAgPSB0aGlzLnZpZXdwb3J0VHJhY2tlci5vYnNlcnZlKGVsZW1lbnQsIChlbnRyeSkgPT4ge1xuICAgICAgdGhpcy5jYWxsU3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCAocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNWaXNpYmlsaXR5U3RhdGUgPVxuICAgICAgICAgIHBhcnRpY2lwYW50LnZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID8/XG4gICAgICAgICAgREVGQVVMVF9WSUVXUE9SVF9WSVNJQklMSVRZX1NUQVRFO1xuXG4gICAgICAgIC8vIG9ic2VydmVyIHRyaWdnZXJzIHdoZW4gdGhlIGVsZW1lbnQgaXMgXCJtb3ZlZFwiIHRvIGJlIGEgZnVsbHNjcmVlbiBlbGVtZW50XG4gICAgICAgIC8vIGtlZXAgaXQgVklTSUJMRSBpZiB0aGF0IGhhcHBlbnMgdG8gcHJldmVudCBmdWxsc2NyZWVuIHdpdGggcGxhY2Vob2xkZXJcbiAgICAgICAgY29uc3QgaXNWaXNpYmxlID1cbiAgICAgICAgICBlbnRyeS5pc0ludGVyc2VjdGluZyB8fCBkb2N1bWVudC5mdWxsc2NyZWVuRWxlbWVudCA9PT0gZWxlbWVudFxuICAgICAgICAgICAgPyBWaXNpYmlsaXR5U3RhdGUuVklTSUJMRVxuICAgICAgICAgICAgOiBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnBhcnRpY2lwYW50LFxuICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlOiB7XG4gICAgICAgICAgICAuLi5wcmV2aW91c1Zpc2liaWxpdHlTdGF0ZSxcbiAgICAgICAgICAgIFt0cmFja1R5cGVdOiBpc1Zpc2libGUsXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGNsZWFudXAoKTtcbiAgICAgIC8vIHJlc2V0IHZpc2liaWxpdHkgc3RhdGUgdG8gVU5LTk9XTiB1cG9uIGNsZWFudXBcbiAgICAgIC8vIHNvIHRoYXQgdGhlIGxheW91dHMgdGhhdCBhcmUgbm90IGFjdGl2ZWx5IG9ic2VydmVkXG4gICAgICAvLyBjYW4gc3RpbGwgZnVuY3Rpb24gbm9ybWFsbHkgKHJ1bnRpbWUgbGF5b3V0IHN3aXRjaGluZylcbiAgICAgIHRoaXMuY2FsbFN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwgKHBhcnRpY2lwYW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZpb3VzVmlzaWJpbGl0eVN0YXRlID1cbiAgICAgICAgICBwYXJ0aWNpcGFudC52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA/P1xuICAgICAgICAgIERFRkFVTFRfVklFV1BPUlRfVklTSUJJTElUWV9TVEFURTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAuLi5wYXJ0aWNpcGFudCxcbiAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZToge1xuICAgICAgICAgICAgLi4ucHJldmlvdXNWaXNpYmlsaXR5U3RhdGUsXG4gICAgICAgICAgICBbdHJhY2tUeXBlXTogVmlzaWJpbGl0eVN0YXRlLlVOS05PV04sXG4gICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZpZXdwb3J0IGVsZW1lbnQgdG8gdHJhY2sgYm91bmQgdmlkZW8gZWxlbWVudHMgZm9yIHZpc2liaWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IHRoZSB2aWV3cG9ydCBlbGVtZW50LlxuICAgKi9cbiAgc2V0Vmlld3BvcnQgPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50PihlbGVtZW50OiBUKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMudmlld3BvcnRUcmFja2VyLnNldFZpZXdwb3J0KGVsZW1lbnQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8dmlkZW8+IGVsZW1lbnQgdG8gdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBwbGF5XG4gICAqIHRoZSBjb3JyZWN0IHZpZGVvIHN0cmVhbSBmb3IgdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIFVuZGVyIHRoZSBob29kLCBpdCB3b3VsZCBhbHNvIGtlZXAgdHJhY2sgb2YgdGhlIHZpZGVvIGVsZW1lbnQgZGltZW5zaW9uc1xuICAgKiBhbmQgdXBkYXRlIHRoZSBzdWJzY3JpcHRpb24gYWNjb3JkaW5nbHkgaW4gb3JkZXIgdG8gb3B0aW1pemUgdGhlIGJhbmR3aWR0aC5cbiAgICpcbiAgICogSWYgYSBcInZpZXdwb3J0XCIgaXMgY29uZmlndXJlZCwgdGhlIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBhdXRvbWF0aWNhbGx5XG4gICAqIHRyYWNrZWQgZm9yIHZpc2liaWxpdHkgYW5kIHRoZSBzdWJzY3JpcHRpb24gd2lsbCBiZSB1cGRhdGVkIGFjY29yZGluZ2x5LlxuICAgKlxuICAgKiBAcGFyYW0gdmlkZW9FbGVtZW50IHRoZSB2aWRlbyBlbGVtZW50IHRvIGJpbmQgdG8uXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIGtpbmQgb2YgdmlkZW8uXG4gICAqL1xuICBiaW5kVmlkZW9FbGVtZW50ID0gKFxuICAgIHZpZGVvRWxlbWVudDogSFRNTFZpZGVvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCBib3VuZFBhcnRpY2lwYW50ID1cbiAgICAgIHRoaXMuY2FsbFN0YXRlLmZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gICAgaWYgKCFib3VuZFBhcnRpY2lwYW50KSByZXR1cm47XG5cbiAgICBjb25zdCByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyA9IChcbiAgICAgIGRlYm91bmNlVHlwZTogRGVib3VuY2VUeXBlLFxuICAgICAgZGltZW5zaW9uOiBWaWRlb0RpbWVuc2lvbiB8IHVuZGVmaW5lZCxcbiAgICApID0+IHtcbiAgICAgIGlmIChkaW1lbnNpb24gJiYgKGRpbWVuc2lvbi53aWR0aCA9PT0gMCB8fCBkaW1lbnNpb24uaGVpZ2h0ID09PSAwKSkge1xuICAgICAgICAvLyBpZ25vcmUgMHgwIGRpbWVuc2lvbnMuIHRoaXMgY2FuIGhhcHBlbiB3aGVuIHRoZSB2aWRlbyBlbGVtZW50XG4gICAgICAgIC8vIGlzIG5vdCB2aXNpYmxlIChlLmcuLCBoYXMgZGlzcGxheTogbm9uZSkuXG4gICAgICAgIC8vIHdlIHRyZWF0IHRoaXMgYXMgXCJ1bnN1YnNjcmlwdGlvblwiIGFzIHdlIGRvbid0IHdhbnQgdG8ga2VlcFxuICAgICAgICAvLyBjb25zdW1pbmcgYmFuZHdpZHRoIGZvciBhIHZpZGVvIHRoYXQgaXMgbm90IHZpc2libGUgb24gdGhlIHNjcmVlbi5cbiAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYElnbm9yaW5nIDB4MCBkaW1lbnNpb25gLCBib3VuZFBhcnRpY2lwYW50KTtcbiAgICAgICAgZGltZW5zaW9uID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgdGhpcy5jYWxsU3RhdGUudXBkYXRlUGFydGljaXBhbnRUcmFja3ModHJhY2tUeXBlLCB7XG4gICAgICAgIFtzZXNzaW9uSWRdOiB7IGRpbWVuc2lvbiB9LFxuICAgICAgfSk7XG4gICAgICB0aGlzLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKGRlYm91bmNlVHlwZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IHBhcnRpY2lwYW50JCA9IHRoaXMuY2FsbFN0YXRlLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocHMpID0+IHBzLmZpbmQoKHApID0+IHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpKSxcbiAgICAgIHRha2VXaGlsZSgocGFydGljaXBhbnQpID0+ICEhcGFydGljaXBhbnQpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIHNoYXJlUmVwbGF5KHsgYnVmZmVyU2l6ZTogMSwgcmVmQ291bnQ6IHRydWUgfSksXG4gICAgKTtcblxuICAgIC8qKlxuICAgICAqIFNpbmNlIHRoZSB2aWRlbyBlbGVtZW50cyBhcmUgbm93IGJlaW5nIHJlbW92ZWQgZnJvbSB0aGUgRE9NIChSZWFjdCBTREspIHVwb25cbiAgICAgKiB2aXNpYmlsaXR5IGNoYW5nZSwgdGhpcyBzdWJzY3JpcHRpb24gaXMgbm90IGluIHVzZSBhbiBzdGF5cyBoZXJlIG9ubHkgZm9yIHRoZVxuICAgICAqIHBsYWluIEpTIGludGVncmF0aW9ucyB3aGVyZSBpbnRlZ3JhdG9ycyBtaWdodCBjaG9vc2Ugbm90IHRvIHJlbW92ZSB0aGUgdmlkZW9cbiAgICAgKiBlbGVtZW50cyBmcm9tIHRoZSBET00uXG4gICAgICovXG4gICAgLy8ga2VlcCBjb3B5IGZvciByZXNpemUgb2JzZXJ2ZXIgaGFuZGxlclxuICAgIGxldCB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZTogVmlzaWJpbGl0eVN0YXRlIHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlU3Vic2NyaXB0aW9uID1cbiAgICAgIGJvdW5kUGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50XG4gICAgICAgID8gbnVsbFxuICAgICAgICA6IHBhcnRpY2lwYW50JFxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgIG1hcCgocCkgPT4gcC52aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8uW3RyYWNrVHlwZV0pLFxuICAgICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZSgobmV4dFZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgIC8vIHNraXAgaW5pdGlhbCB0cmlnZ2VyXG4gICAgICAgICAgICAgIGlmICghdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA9XG4gICAgICAgICAgICAgICAgICBuZXh0Vmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPz8gVmlzaWJpbGl0eVN0YXRlLlVOS05PV047XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID1cbiAgICAgICAgICAgICAgICBuZXh0Vmlld3BvcnRWaXNpYmlsaXR5U3RhdGUgPz8gVmlzaWJpbGl0eVN0YXRlLlVOS05PV047XG5cbiAgICAgICAgICAgICAgaWYgKG5leHRWaWV3cG9ydFZpc2liaWxpdHlTdGF0ZSA9PT0gVmlzaWJpbGl0eVN0YXRlLklOVklTSUJMRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0VHJhY2tXaXRoRGltZW5zaW9ucyhcbiAgICAgICAgICAgICAgICAgIERlYm91bmNlVHlwZS5NRURJVU0sXG4gICAgICAgICAgICAgICAgICB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKERlYm91bmNlVHlwZS5NRURJVU0sIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdmlkZW9FbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdmlkZW9FbGVtZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgIGxldCBsYXN0RGltZW5zaW9uczogVmlkZW9EaW1lbnNpb24gfCB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmVzaXplT2JzZXJ2ZXIgPSBib3VuZFBhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudFxuICAgICAgPyBudWxsXG4gICAgICA6IG5ldyBSZXNpemVPYnNlcnZlcigoKSA9PiB7XG4gICAgICAgICAgY29uc3QgY3VycmVudERpbWVuc2lvbnMgPSB7XG4gICAgICAgICAgICB3aWR0aDogdmlkZW9FbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAvLyBza2lwIGluaXRpYWwgdHJpZ2dlclxuICAgICAgICAgIGlmICghbGFzdERpbWVuc2lvbnMpIHtcbiAgICAgICAgICAgIGxhc3REaW1lbnNpb25zID0gY3VycmVudERpbWVuc2lvbnM7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgKGxhc3REaW1lbnNpb25zLndpZHRoID09PSBjdXJyZW50RGltZW5zaW9ucy53aWR0aCAmJlxuICAgICAgICAgICAgICBsYXN0RGltZW5zaW9ucy5oZWlnaHQgPT09IGN1cnJlbnREaW1lbnNpb25zLmhlaWdodCkgfHxcbiAgICAgICAgICAgIHZpZXdwb3J0VmlzaWJpbGl0eVN0YXRlID09PSBWaXNpYmlsaXR5U3RhdGUuSU5WSVNJQkxFXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29uc3QgcmVsYXRpdmVEZWx0YSA9IE1hdGgubWF4KFxuICAgICAgICAgICAgY3VycmVudERpbWVuc2lvbnMud2lkdGggLyBsYXN0RGltZW5zaW9ucy53aWR0aCxcbiAgICAgICAgICAgIGN1cnJlbnREaW1lbnNpb25zLmhlaWdodCAvIGxhc3REaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICApO1xuICAgICAgICAgIC8vIExvdyBxdWFsaXR5IHZpZGVvIGluIGFuIHVwc2NhbGVkIHZpZGVvIGVsZW1lbnQgaXMgdmVyeSBub3RpY2FibGUuXG4gICAgICAgICAgLy8gV2UgdHJ5IHRvIHVwc2NhbGUgZmFzdGVyLCBhbmQgZG93bnNjYWxlIHNsb3dlci4gV2UgYWxzbyB1cGRhdGUgZGVib3VuY2VcbiAgICAgICAgICAvLyBtb3JlIGlmIHRoZSBzaXplIGNoYW5nZSBpcyBub3Qgc2lnbmlmaWNhbnQsIGd1cmFkaW5nIGFnYWluc3QgZmFzdC1maXJpbmdcbiAgICAgICAgICAvLyByZXNpemUgZXZlbnRzLlxuICAgICAgICAgIGNvbnN0IGRlYm91bmNlVHlwZSA9XG4gICAgICAgICAgICByZWxhdGl2ZURlbHRhID4gMS4yID8gRGVib3VuY2VUeXBlLklNTUVESUFURSA6IERlYm91bmNlVHlwZS5NRURJVU07XG4gICAgICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoZGVib3VuY2VUeXBlLCB7XG4gICAgICAgICAgICB3aWR0aDogdmlkZW9FbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGxhc3REaW1lbnNpb25zID0gY3VycmVudERpbWVuc2lvbnM7XG4gICAgICAgIH0pO1xuICAgIHJlc2l6ZU9ic2VydmVyPy5vYnNlcnZlKHZpZGVvRWxlbWVudCk7XG5cbiAgICAvLyBlbGVtZW50IHJlbmRlcnMgYW5kIGdldHMgYm91bmQgLSB0cmFjayBzdWJzY3JpcHRpb24gZ2V0c1xuICAgIC8vIHRyaWdnZXJlZCBmaXJzdCBvdGhlciBvbmVzIGdldCBza2lwcGVkIG9uIGluaXRpYWwgc3Vic2NyaXB0aW9uc1xuICAgIGNvbnN0IHB1Ymxpc2hlZFRyYWNrc1N1YnNjcmlwdGlvbiA9IGJvdW5kUGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50XG4gICAgICA/IG51bGxcbiAgICAgIDogcGFydGljaXBhbnQkXG4gICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCgncHVibGlzaGVkVHJhY2tzJyksXG4gICAgICAgICAgICBtYXAoKHApID0+XG4gICAgICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snID8gaGFzVmlkZW8ocCkgOiBoYXNTY3JlZW5TaGFyZShwKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgICAgIClcbiAgICAgICAgICAuc3Vic2NyaWJlKChpc1B1Ymxpc2hpbmcpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1B1Ymxpc2hpbmcpIHtcbiAgICAgICAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50IGp1c3Qgc3RhcnRlZCB0byBwdWJsaXNoIGEgdHJhY2tcbiAgICAgICAgICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoRGVib3VuY2VUeXBlLklNTUVESUFURSwge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB2aWRlb0VsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB2aWRlb0VsZW1lbnQuY2xpZW50SGVpZ2h0LFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIHRoZSBwYXJ0aWNpcGFudCBqdXN0IHN0b3BwZWQgcHVibGlzaGluZyBhIHRyYWNrXG4gICAgICAgICAgICAgIHJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zKERlYm91bmNlVHlwZS5GQVNULCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgdmlkZW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcbiAgICB2aWRlb0VsZW1lbnQucGxheXNJbmxpbmUgPSB0cnVlO1xuXG4gICAgLy8gZXhwbGljaXRseSBtYXJraW5nIHRoZSBlbGVtZW50IGFzIG11dGVkIHdpbGwgYWxsb3cgYXV0b3BsYXkgdG8gd29ya1xuICAgIC8vIHdpdGhvdXQgcHJpb3IgdXNlciBpbnRlcmFjdGlvbjpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9NZWRpYS9BdXRvcGxheV9ndWlkZVxuICAgIHZpZGVvRWxlbWVudC5tdXRlZCA9IHRydWU7XG5cbiAgICBjb25zdCBzdHJlYW1TdWJzY3JpcHRpb24gPSBwYXJ0aWNpcGFudCRcbiAgICAgIC5waXBlKFxuICAgICAgICBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZChcbiAgICAgICAgICB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJyA/ICd2aWRlb1N0cmVhbScgOiAnc2NyZWVuU2hhcmVTdHJlYW0nLFxuICAgICAgICApLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgocCkgPT4ge1xuICAgICAgICBjb25zdCBzb3VyY2UgPVxuICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3ZpZGVvVHJhY2snID8gcC52aWRlb1N0cmVhbSA6IHAuc2NyZWVuU2hhcmVTdHJlYW07XG4gICAgICAgIGlmICh2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID09PSBzb3VyY2UpIHJldHVybjtcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHNvdXJjZSA/PyBudWxsO1xuICAgICAgICBpZiAoaXNTYWZhcmkoKSB8fCBpc0ZpcmVmb3goKSkge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHNvdXJjZSA/PyBudWxsO1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBsYXkoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gcGxheSBzdHJlYW1gLCBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgYWRkIGV4dHJhIGRlbGF5IHVudGlsIHdlIGF0dGVtcHQgdG8gZm9yY2UtcGxheVxuICAgICAgICAgICAgLy8gdGhlIHBhcnRpY2lwYW50J3MgbWVkaWEgc3RyZWFtIGluIEZpcmVmb3ggYW5kIFNhZmFyaSxcbiAgICAgICAgICAgIC8vIGFzIHRoZXkgc2VlbSB0byBoYXZlIHNvbWUgdGltaW5nIGlzc3Vlc1xuICAgICAgICAgIH0sIDI1KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgcmVxdWVzdFRyYWNrV2l0aERpbWVuc2lvbnMoRGVib3VuY2VUeXBlLkZBU1QsIHVuZGVmaW5lZCk7XG4gICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZVN1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHB1Ymxpc2hlZFRyYWNrc1N1YnNjcmlwdGlvbj8udW5zdWJzY3JpYmUoKTtcbiAgICAgIHN0cmVhbVN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgcmVzaXplT2JzZXJ2ZXI/LmRpc2Nvbm5lY3QoKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBCaW5kcyBhIERPTSA8YXVkaW8+IGVsZW1lbnQgdG8gdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIFRoaXMgbWV0aG9kIHdpbGwgbWFrZSBzdXJlIHRoYXQgdGhlIGF1ZGlvIGVsZW1lbnQgd2lsbFxuICAgKiBwbGF5IHRoZSBjb3JyZWN0IGF1ZGlvIHN0cmVhbSBmb3IgdGhlIGdpdmVuIHNlc3Npb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSBhdWRpb0VsZW1lbnQgdGhlIGF1ZGlvIGVsZW1lbnQgdG8gYmluZCB0by5cbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHRyYWNrVHlwZSB0aGUga2luZCBvZiBhdWRpby5cbiAgICogQHJldHVybnMgYSBjbGVhbnVwIGZ1bmN0aW9uIHRoYXQgd2lsbCB1bmJpbmQgdGhlIGF1ZGlvIGVsZW1lbnQuXG4gICAqL1xuICBiaW5kQXVkaW9FbGVtZW50ID0gKFxuICAgIGF1ZGlvRWxlbWVudDogSFRNTEF1ZGlvRWxlbWVudCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IEF1ZGlvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICBjb25zdCBwYXJ0aWNpcGFudCA9IHRoaXMuY2FsbFN0YXRlLmZpbmRQYXJ0aWNpcGFudEJ5U2Vzc2lvbklkKHNlc3Npb25JZCk7XG4gICAgaWYgKCFwYXJ0aWNpcGFudCB8fCBwYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnQpIHJldHVybjtcblxuICAgIGNvbnN0IHBhcnRpY2lwYW50JCA9IHRoaXMuY2FsbFN0YXRlLnBhcnRpY2lwYW50cyQucGlwZShcbiAgICAgIG1hcCgocHMpID0+IHBzLmZpbmQoKHApID0+IHAuc2Vzc2lvbklkID09PSBzZXNzaW9uSWQpKSxcbiAgICAgIHRha2VXaGlsZSgocCkgPT4gISFwKSxcbiAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICBzaGFyZVJlcGxheSh7IGJ1ZmZlclNpemU6IDEsIHJlZkNvdW50OiB0cnVlIH0pLFxuICAgICk7XG5cbiAgICBjb25zdCB1cGRhdGVTaW5rSWQgPSAoXG4gICAgICBkZXZpY2VJZDogc3RyaW5nLFxuICAgICAgYXVkaW9Db250ZXh0OiBBdWRpb0NvbnRleHQgfCB1bmRlZmluZWQsXG4gICAgKSA9PiB7XG4gICAgICBpZiAoIWRldmljZUlkKSByZXR1cm47XG4gICAgICBpZiAoJ3NldFNpbmtJZCcgaW4gYXVkaW9FbGVtZW50KSB7XG4gICAgICAgIGF1ZGlvRWxlbWVudC5zZXRTaW5rSWQoZGV2aWNlSWQpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgQ2FuJ3QgdG8gc2V0IEF1ZGlvRWxlbWVudCBzaW5rSWRgLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdWRpb0NvbnRleHQgJiYgJ3NldFNpbmtJZCcgaW4gYXVkaW9Db250ZXh0KSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3Igc2V0U2lua0lkIGlzIG5vdCBhdmFpbGFibGUgaW4gYWxsIGJyb3dzZXJzXG4gICAgICAgIGF1ZGlvQ29udGV4dC5zZXRTaW5rSWQoZGV2aWNlSWQpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgQ2FuJ3QgdG8gc2V0IEF1ZGlvQ29udGV4dCBzaW5rSWRgLCBlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGxldCBzb3VyY2VOb2RlOiBNZWRpYVN0cmVhbUF1ZGlvU291cmNlTm9kZSB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgICBsZXQgZ2Fpbk5vZGU6IEdhaW5Ob2RlIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG4gICAgY29uc3QgdXBkYXRlTWVkaWFTdHJlYW1TdWJzY3JpcHRpb24gPSBwYXJ0aWNpcGFudCRcbiAgICAgIC5waXBlKFxuICAgICAgICBkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZChcbiAgICAgICAgICB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZUF1ZGlvVHJhY2snXG4gICAgICAgICAgICA/ICdzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtJ1xuICAgICAgICAgICAgOiAnYXVkaW9TdHJlYW0nLFxuICAgICAgICApLFxuICAgICAgKVxuICAgICAgLnN1YnNjcmliZSgocCkgPT4ge1xuICAgICAgICBjb25zdCBzb3VyY2UgPVxuICAgICAgICAgIHRyYWNrVHlwZSA9PT0gJ3NjcmVlblNoYXJlQXVkaW9UcmFjaydcbiAgICAgICAgICAgID8gcC5zY3JlZW5TaGFyZUF1ZGlvU3RyZWFtXG4gICAgICAgICAgICA6IHAuYXVkaW9TdHJlYW07XG4gICAgICAgIGlmIChhdWRpb0VsZW1lbnQuc3JjT2JqZWN0ID09PSBzb3VyY2UpIHJldHVybjtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBhdWRpb0VsZW1lbnQuc3JjT2JqZWN0ID0gc291cmNlID8/IG51bGw7XG4gICAgICAgICAgaWYgKCFzb3VyY2UpIHJldHVybjtcblxuICAgICAgICAgIC8vIFNhZmFyaSBoYXMgYSBzcGVjaWFsIHF1aXJrIHRoYXQgcHJldmVudHMgcGxheWluZyBhdWRpbyB1bnRpbCB0aGUgdXNlclxuICAgICAgICAgIC8vIGludGVyYWN0cyB3aXRoIHRoZSBwYWdlIG9yIGZvY3VzZXMgb24gdGhlIHRhYiB3aGVyZSB0aGUgY2FsbCBoYXBwZW5zLlxuICAgICAgICAgIC8vIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciB0aGUgaXNzdWUgd2hlcmU6XG4gICAgICAgICAgLy8gLSBBIGFuZCBCIGFyZSBpbiBhIGNhbGxcbiAgICAgICAgICAvLyAtIEEgc3dpdGNoZXMgdG8gYW5vdGhlciB0YWJcbiAgICAgICAgICAvLyAtIEIgbXV0ZXMgdGhlaXIgbWljcm9waG9uZSBhbmQgdW5tdXRlcyBpdFxuICAgICAgICAgIC8vIC0gQSBkb2VzIG5vdCBoZWFyIEIncyB1bm11dGVkIGF1ZGlvIHVudGlsIHRoZXkgZm9jdXMgdGhlIHRhYlxuICAgICAgICAgIGNvbnN0IGF1ZGlvQ29udGV4dCA9IHRoaXMuZ2V0T3JDcmVhdGVBdWRpb0NvbnRleHQoKTtcbiAgICAgICAgICBpZiAoYXVkaW9Db250ZXh0KSB7XG4gICAgICAgICAgICAvLyB3ZSB3aWxsIHBsYXkgYXVkaW8gdGhyb3VnaCB0aGUgYXVkaW8gY29udGV4dCBpbiBTYWZhcmlcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5tdXRlZCA9IHRydWU7XG4gICAgICAgICAgICBzb3VyY2VOb2RlPy5kaXNjb25uZWN0KCk7XG4gICAgICAgICAgICBzb3VyY2VOb2RlID0gYXVkaW9Db250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHNvdXJjZSk7XG4gICAgICAgICAgICBnYWluTm9kZSA/Pz0gYXVkaW9Db250ZXh0LmNyZWF0ZUdhaW4oKTtcbiAgICAgICAgICAgIGdhaW5Ob2RlLmdhaW4udmFsdWUgPSBwLmF1ZGlvVm9sdW1lID8/IHRoaXMuc3BlYWtlci5zdGF0ZS52b2x1bWU7XG4gICAgICAgICAgICBzb3VyY2VOb2RlLmNvbm5lY3QoZ2Fpbk5vZGUpLmNvbm5lY3QoYXVkaW9Db250ZXh0LmRlc3RpbmF0aW9uKTtcbiAgICAgICAgICAgIHRoaXMucmVzdW1lQXVkaW9Db250ZXh0KCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIHdlIHdpbGwgcGxheSBhdWRpbyBkaXJlY3RseSB0aHJvdWdoIHRoZSBhdWRpbyBlbGVtZW50IGluIG90aGVyIGJyb3dzZXJzXG4gICAgICAgICAgICBhdWRpb0VsZW1lbnQubXV0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGF1ZGlvRWxlbWVudC5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIHBsYXkgYXVkaW8gc3RyZWFtYCwgZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb25zdCB7IHNlbGVjdGVkRGV2aWNlIH0gPSB0aGlzLnNwZWFrZXIuc3RhdGU7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkRGV2aWNlKSB1cGRhdGVTaW5rSWQoc2VsZWN0ZWREZXZpY2UsIGF1ZGlvQ29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBjb25zdCBzaW5rSWRTdWJzY3JpcHRpb24gPSAhKCdzZXRTaW5rSWQnIGluIGF1ZGlvRWxlbWVudClcbiAgICAgID8gbnVsbFxuICAgICAgOiB0aGlzLnNwZWFrZXIuc3RhdGUuc2VsZWN0ZWREZXZpY2UkLnN1YnNjcmliZSgoZGV2aWNlSWQpID0+IHtcbiAgICAgICAgICBjb25zdCBhdWRpb0NvbnRleHQgPSB0aGlzLmdldE9yQ3JlYXRlQXVkaW9Db250ZXh0KCk7XG4gICAgICAgICAgdXBkYXRlU2lua0lkKGRldmljZUlkLCBhdWRpb0NvbnRleHQpO1xuICAgICAgICB9KTtcblxuICAgIGNvbnN0IHZvbHVtZVN1YnNjcmlwdGlvbiA9IGNvbWJpbmVMYXRlc3QoW1xuICAgICAgdGhpcy5zcGVha2VyLnN0YXRlLnZvbHVtZSQsXG4gICAgICBwYXJ0aWNpcGFudCQucGlwZShkaXN0aW5jdFVudGlsS2V5Q2hhbmdlZCgnYXVkaW9Wb2x1bWUnKSksXG4gICAgXSkuc3Vic2NyaWJlKChbdm9sdW1lLCBwXSkgPT4ge1xuICAgICAgY29uc3QgcGFydGljaXBhbnRWb2x1bWUgPSBwLmF1ZGlvVm9sdW1lID8/IHZvbHVtZTtcbiAgICAgIGF1ZGlvRWxlbWVudC52b2x1bWUgPSBwYXJ0aWNpcGFudFZvbHVtZTtcbiAgICAgIGlmIChnYWluTm9kZSkgZ2Fpbk5vZGUuZ2Fpbi52YWx1ZSA9IHBhcnRpY2lwYW50Vm9sdW1lO1xuICAgIH0pO1xuXG4gICAgYXVkaW9FbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBzaW5rSWRTdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gICAgICB2b2x1bWVTdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgIHVwZGF0ZU1lZGlhU3RyZWFtU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICBhdWRpb0VsZW1lbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgIHNvdXJjZU5vZGU/LmRpc2Nvbm5lY3QoKTtcbiAgICAgIGdhaW5Ob2RlPy5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfTtcblxuICBwcml2YXRlIGdldE9yQ3JlYXRlQXVkaW9Db250ZXh0ID0gKCk6IEF1ZGlvQ29udGV4dCB8IHVuZGVmaW5lZCA9PiB7XG4gICAgaWYgKHRoaXMuYXVkaW9Db250ZXh0IHx8ICFpc1NhZmFyaSgpKSByZXR1cm4gdGhpcy5hdWRpb0NvbnRleHQ7XG4gICAgY29uc3QgY29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgICBpZiAoY29udGV4dC5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5yZXN1bWVBdWRpb0NvbnRleHQpO1xuICAgIH1cbiAgICByZXR1cm4gKHRoaXMuYXVkaW9Db250ZXh0ID0gY29udGV4dCk7XG4gIH07XG5cbiAgcHJpdmF0ZSByZXN1bWVBdWRpb0NvbnRleHQgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuYXVkaW9Db250ZXh0Py5zdGF0ZSA9PT0gJ3N1c3BlbmRlZCcpIHtcbiAgICAgIHRoaXMuYXVkaW9Db250ZXh0XG4gICAgICAgIC5yZXN1bWUoKVxuICAgICAgICAuY2F0Y2goKGVycikgPT4gdGhpcy5sb2dnZXIoJ3dhcm4nLCBgQ2FuJ3QgcmVzdW1lIGF1ZGlvIGNvbnRleHRgLCBlcnIpKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnJlc3VtZUF1ZGlvQ29udGV4dCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1cbiIsImltcG9ydCB7IENhbGxTZXR0aW5nc1Jlc3BvbnNlLCBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi4vZ2VuL2Nvb3JkaW5hdG9yJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBlbnN1cmVFeGhhdXN0ZWQgfSBmcm9tICcuLi9oZWxwZXJzL2Vuc3VyZUV4aGF1c3RlZCc7XG5cbi8qKlxuICogU3RvcmVzIHRoZSBwZXJtaXNzaW9ucyBmb3IgdGhlIGN1cnJlbnQgdXNlciBhbmQgZXhwb3Nlc1xuICogYSBmZXcgaGVscGVyIG1ldGhvZHMgd2hpY2ggbWFrZSBpdCBlYXNpZXIgdG8gd29yayB3aXRoIHBlcm1pc3Npb25zLlxuICpcbiAqIFRoaXMgaXMgYW4gaW50ZXJuYWwgY2xhc3MgbWVhbnQgdG8gYmUgdXNlZCBpbiBjb21iaW5hdGlvbiB3aXRoXG4gKiBhIHtAbGluayBDYWxsfSBpbnN0YW5jZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZXhwb3J0IGNsYXNzIFBlcm1pc3Npb25zQ29udGV4dCB7XG4gIHByaXZhdGUgcGVybWlzc2lvbnM6IE93bkNhcGFiaWxpdHlbXSA9IFtdO1xuICBwcml2YXRlIHNldHRpbmdzPzogQ2FsbFNldHRpbmdzUmVzcG9uc2U7XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHBlcm1pc3Npb25zIGZvciB0aGUgY3VycmVudCB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbnMgdGhlIHBlcm1pc3Npb25zIHRvIHNldC5cbiAgICovXG4gIHNldFBlcm1pc3Npb25zID0gKHBlcm1pc3Npb25zOiBPd25DYXBhYmlsaXR5W10pID0+IHtcbiAgICB0aGlzLnBlcm1pc3Npb25zID0gcGVybWlzc2lvbnMgfHwgW107XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHNldHRpbmdzIGZvciB0aGUgYm91bmQgY2FsbC5cbiAgICogQHBhcmFtIHNldHRpbmdzXG4gICAqL1xuICBzZXRDYWxsU2V0dGluZ3MgPSAoc2V0dGluZ3M6IENhbGxTZXR0aW5nc1Jlc3BvbnNlKSA9PiB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgdXNlciBoYXMgYSBzcGVjaWZpYyBwZXJtaXNzaW9uLlxuICAgKlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbiB0aGUgcGVybWlzc2lvbiB0byBjaGVjayBmb3IuXG4gICAqL1xuICBoYXNQZXJtaXNzaW9uID0gKHBlcm1pc3Npb246IE93bkNhcGFiaWxpdHkpID0+IHtcbiAgICByZXR1cm4gdGhpcy5wZXJtaXNzaW9ucy5pbmNsdWRlcyhwZXJtaXNzaW9uKTtcbiAgfTtcblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCB0aGF0IGNoZWNrcyB3aGV0aGVyIHRoZSBjdXJyZW50IHVzZXIgaGFzIHRoZSBwZXJtaXNzaW9uXG4gICAqIHRvIHB1Ymxpc2ggdGhlIGdpdmVuIHRyYWNrIHR5cGUuXG4gICAqL1xuICBjYW5QdWJsaXNoID0gKHRyYWNrVHlwZTogVHJhY2tUeXBlKSA9PiB7XG4gICAgc3dpdGNoICh0cmFja1R5cGUpIHtcbiAgICAgIGNhc2UgVHJhY2tUeXBlLkFVRElPOlxuICAgICAgICByZXR1cm4gdGhpcy5oYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTyk7XG4gICAgICBjYXNlIFRyYWNrVHlwZS5WSURFTzpcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfVklERU8pO1xuICAgICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFOlxuICAgICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPOlxuICAgICAgICByZXR1cm4gdGhpcy5oYXNQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkUpO1xuICAgICAgY2FzZSBUcmFja1R5cGUuVU5TUEVDSUZJRUQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGVuc3VyZUV4aGF1c3RlZCh0cmFja1R5cGUsICdVbmtub3duIHRyYWNrIHR5cGUnKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiB0aGUgY3VycmVudCB1c2VyIGNhbiByZXF1ZXN0IGEgc3BlY2lmaWMgcGVybWlzc2lvblxuICAgKiB3aXRoaW4gdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9uIHRoZSBwZXJtaXNzaW9uIHRvIGNoZWNrIGZvci5cbiAgICogQHBhcmFtIHNldHRpbmdzIHRoZSBjYWxsIHNldHRpbmdzIHRvIGNoZWNrIGFnYWluc3QgKG9wdGlvbmFsKS5cbiAgICovXG4gIGNhblJlcXVlc3QgPSAoXG4gICAgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eSxcbiAgICBzZXR0aW5nczogQ2FsbFNldHRpbmdzUmVzcG9uc2UgfCB1bmRlZmluZWQgPSB0aGlzLnNldHRpbmdzLFxuICApID0+IHtcbiAgICBpZiAoIXNldHRpbmdzKSByZXR1cm4gZmFsc2U7XG5cbiAgICBjb25zdCB7IGF1ZGlvLCB2aWRlbywgc2NyZWVuc2hhcmluZyB9ID0gc2V0dGluZ3M7XG4gICAgc3dpdGNoIChwZXJtaXNzaW9uKSB7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0VORF9BVURJTzpcbiAgICAgICAgcmV0dXJuIGF1ZGlvLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0VORF9WSURFTzpcbiAgICAgICAgcmV0dXJuIHZpZGVvLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkU6XG4gICAgICAgIHJldHVybiBzY3JlZW5zaGFyaW5nLmFjY2Vzc19yZXF1ZXN0X2VuYWJsZWQ7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IHsgU3RyZWFtVmlkZW9QYXJ0aWNpcGFudCB9IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHtcbiAgQ29tcGFyYXRvcixcbiAgZGVmYXVsdFNvcnRQcmVzZXQsXG4gIGxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQsXG59IGZyb20gJy4vc29ydGluZyc7XG5cbi8qKlxuICogVGhlIG9wdGlvbnMgZm9yIGEge0BsaW5rIENhbGxUeXBlfS5cbiAqL1xuZXhwb3J0IHR5cGUgQ2FsbFR5cGVPcHRpb25zID0ge1xuICAvKipcbiAgICogVGhlIHtAbGluayBDb21wYXJhdG9yfSB0byB1c2UgdG8gc29ydGluZyB0aGUgcGFydGljaXBhbnRzIGluIHRoZSBjYWxsLlxuICAgKi9cbiAgc29ydFBhcnRpY2lwYW50c0J5PzogQ29tcGFyYXRvcjxTdHJlYW1WaWRlb1BhcnRpY2lwYW50Pjtcbn07XG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGNhbGwgdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIENhbGxUeXBlIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBjYWxsIHR5cGUuXG4gICAqL1xuICBuYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBvcHRpb25zIGZvciB0aGUgY2FsbCB0eXBlLlxuICAgKi9cbiAgb3B0aW9uczogQ2FsbFR5cGVPcHRpb25zO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENhbGxUeXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlLlxuICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyBmb3IgdGhlIGNhbGwgdHlwZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgICBvcHRpb25zOiBDYWxsVHlwZU9wdGlvbnMgPSB7XG4gICAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICAgIH0sXG4gICkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgfVxufVxuXG4vKipcbiAqIEEgcmVnaXN0cnkgb2Yge0BsaW5rIENhbGxUeXBlfXMuXG4gKiBZb3UgY2FuIHJlZ2lzdGVyIGFuZCB1bnJlZ2lzdGVyIGNhbGwgdHlwZXMuXG4gKi9cbmNsYXNzIENhbGxUeXBlc1JlZ2lzdHJ5IHtcbiAgLyoqXG4gICAqIFRoZSBjYWxsIHR5cGVzIHJlZ2lzdGVyZWQgaW4gdGhpcyByZWdpc3RyeS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgY2FsbFR5cGVzOiB7IFtrZXk6IHN0cmluZ106IENhbGxUeXBlIH07XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgQ2FsbFR5cGVzUmVnaXN0cnkuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsVHlwZXMgdGhlIGluaXRpYWwgY2FsbCB0eXBlcyB0byByZWdpc3Rlci5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGNhbGxUeXBlczogQ2FsbFR5cGVbXSkge1xuICAgIHRoaXMuY2FsbFR5cGVzID0gY2FsbFR5cGVzLnJlZHVjZTx7IFtrZXk6IHN0cmluZ106IENhbGxUeXBlIH0+KFxuICAgICAgKGFjYywgY2FsbFR5cGUpID0+IHtcbiAgICAgICAgYWNjW2NhbGxUeXBlLm5hbWVdID0gY2FsbFR5cGU7XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgICB9LFxuICAgICAge30sXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgYSBuZXcgY2FsbCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFR5cGUgdGhlIGNhbGwgdHlwZSB0byByZWdpc3Rlci5cbiAgICovXG4gIHJlZ2lzdGVyID0gKGNhbGxUeXBlOiBDYWxsVHlwZSkgPT4ge1xuICAgIHRoaXMuY2FsbFR5cGVzW2NhbGxUeXBlLm5hbWVdID0gY2FsbFR5cGU7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVucmVnaXN0ZXJzIGEgY2FsbCB0eXBlLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlIHRvIHVucmVnaXN0ZXIuXG4gICAqL1xuICB1bnJlZ2lzdGVyID0gKG5hbWU6IHN0cmluZykgPT4ge1xuICAgIGRlbGV0ZSB0aGlzLmNhbGxUeXBlc1tuYW1lXTtcbiAgfTtcblxuICAvKipcbiAgICogR2V0cyBhIGNhbGwgdHlwZSBieSBuYW1lLlxuICAgKlxuICAgKiBAcGFyYW0gbmFtZSB0aGUgbmFtZSBvZiB0aGUgY2FsbCB0eXBlIHRvIGdldC5cbiAgICovXG4gIGdldCA9IChuYW1lOiBzdHJpbmcpOiBDYWxsVHlwZSA9PiB7XG4gICAgaWYgKCF0aGlzLmNhbGxUeXBlc1tuYW1lXSkge1xuICAgICAgdGhpcy5yZWdpc3RlcihuZXcgQ2FsbFR5cGUobmFtZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jYWxsVHlwZXNbbmFtZV07XG4gIH07XG59XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY2FsbCB0eXBlcyByZWdpc3RyeS5cbiAqIFlvdSBjYW4gdXNlIHRoaXMgaW5zdGFuY2UgdG8gZHluYW1pY2FsbHkgcmVnaXN0ZXIgYW5kIHVucmVnaXN0ZXIgY2FsbCB0eXBlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxUeXBlcyA9IG5ldyBDYWxsVHlwZXNSZWdpc3RyeShbXG4gIG5ldyBDYWxsVHlwZSgnZGVmYXVsdCcsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICB9KSxcbiAgbmV3IENhbGxUeXBlKCdkZXZlbG9wbWVudCcsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGRlZmF1bHRTb3J0UHJlc2V0LFxuICB9KSxcbiAgbmV3IENhbGxUeXBlKCdsaXZlc3RyZWFtJywge1xuICAgIHNvcnRQYXJ0aWNpcGFudHNCeTogbGl2ZXN0cmVhbU9yQXVkaW9Sb29tU29ydFByZXNldCxcbiAgfSksXG4gIG5ldyBDYWxsVHlwZSgnYXVkaW9fcm9vbScsIHtcbiAgICBzb3J0UGFydGljaXBhbnRzQnk6IGxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQsXG4gIH0pLFxuXSk7XG4iLCJpbXBvcnQgeyBmcm9tRXZlbnRQYXR0ZXJuLCBtYXAgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGlzUmVhY3ROYXRpdmUgfSBmcm9tICcuLi9oZWxwZXJzL3BsYXRmb3Jtcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgZGlzcG9zZU9mTWVkaWFTdHJlYW0gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5cbmludGVyZmFjZSBCcm93c2VyUGVybWlzc2lvbkNvbmZpZyB7XG4gIGNvbnN0cmFpbnRzOiBEaXNwbGF5TWVkaWFTdHJlYW1PcHRpb25zO1xuICBxdWVyeU5hbWU6IFBlcm1pc3Npb25OYW1lO1xufVxuXG5leHBvcnQgdHlwZSBCcm93c2VyUGVybWlzc2lvblN0YXRlID0gUGVybWlzc2lvblN0YXRlIHwgJ3Byb21wdGluZyc7XG5cbmV4cG9ydCBjbGFzcyBCcm93c2VyUGVybWlzc2lvbiB7XG4gIHByaXZhdGUgcmVhZHk6IFByb21pc2U8dm9pZD47XG4gIHByaXZhdGUgZGlzcG9zZUNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gIHByaXZhdGUgc3RhdGU6IEJyb3dzZXJQZXJtaXNzaW9uU3RhdGUgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgd2FzUHJvbXB0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBsaXN0ZW5lcnMgPSBuZXcgU2V0PChzdGF0ZTogQnJvd3NlclBlcm1pc3Npb25TdGF0ZSkgPT4gdm9pZD4oKTtcbiAgcHJpdmF0ZSBsb2dnZXIgPSBnZXRMb2dnZXIoWydwZXJtaXNzaW9ucyddKTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IHBlcm1pc3Npb246IEJyb3dzZXJQZXJtaXNzaW9uQ29uZmlnKSB7XG4gICAgY29uc3Qgc2lnbmFsID0gdGhpcy5kaXNwb3NlQ29udHJvbGxlci5zaWduYWw7XG5cbiAgICB0aGlzLnJlYWR5ID0gKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFzc3VtZUdyYW50ZWQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKCdncmFudGVkJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSgncHJvbXB0Jyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGlmICghY2FuUXVlcnlQZXJtaXNzaW9ucygpKSB7XG4gICAgICAgIHJldHVybiBhc3N1bWVHcmFudGVkKCk7XG4gICAgICB9XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGF3YWl0IG5hdmlnYXRvci5wZXJtaXNzaW9ucy5xdWVyeSh7XG4gICAgICAgICAgbmFtZTogcGVybWlzc2lvbi5xdWVyeU5hbWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICghc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXR1cy5zdGF0ZSk7XG4gICAgICAgICAgc3RhdHVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHRoaXMuc2V0U3RhdGUoc3RhdHVzLnN0YXRlKSwge1xuICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ0ZhaWxlZCB0byBxdWVyeSBwZXJtaXNzaW9uIHN0YXR1cycsIGVycik7XG4gICAgICAgIGFzc3VtZUdyYW50ZWQoKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICB9XG5cbiAgZGlzcG9zZSgpIHtcbiAgICB0aGlzLnN0YXRlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuZGlzcG9zZUNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgfVxuXG4gIGFzeW5jIGdldFN0YXRlKCkge1xuICAgIGF3YWl0IHRoaXMucmVhZHk7XG4gICAgaWYgKCF0aGlzLnN0YXRlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Jyb3dzZXJQZXJtaXNzaW9uIGluc3RhbmNlIHBvc3NpYmx5IGRpc3Bvc2VkJyk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnN0YXRlO1xuICB9XG5cbiAgYXN5bmMgcHJvbXB0KHtcbiAgICBmb3JjZVByb21wdCA9IGZhbHNlLFxuICAgIHRocm93T25Ob3RBbGxvd2VkID0gZmFsc2UsXG4gIH06IHsgZm9yY2VQcm9tcHQ/OiBib29sZWFuOyB0aHJvd09uTm90QWxsb3dlZD86IGJvb2xlYW4gfSA9IHt9KSB7XG4gICAgcmV0dXJuIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeShcbiAgICAgIGBwZXJtaXNzaW9uLXByb21wdC0ke3RoaXMucGVybWlzc2lvbi5xdWVyeU5hbWV9YCxcbiAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChhd2FpdCB0aGlzLmdldFN0YXRlKCkpICE9PSAncHJvbXB0JyB8fFxuICAgICAgICAgICh0aGlzLndhc1Byb21wdGVkICYmICFmb3JjZVByb21wdClcbiAgICAgICAgKSB7XG4gICAgICAgICAgY29uc3QgaXNHcmFudGVkID0gdGhpcy5zdGF0ZSA9PT0gJ2dyYW50ZWQnO1xuXG4gICAgICAgICAgaWYgKCFpc0dyYW50ZWQgJiYgdGhyb3dPbk5vdEFsbG93ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgJ1Blcm1pc3Npb24gd2FzIG5vdCBncmFudGVkIHByZXZpb3VzbHksIGFuZCBwcm9tcHRpbmcgYWdhaW4gaXMgbm90IGFsbG93ZWQnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gaXNHcmFudGVkO1xuICAgICAgICB9XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB0aGlzLndhc1Byb21wdGVkID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKCdwcm9tcHRpbmcnKTtcbiAgICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShcbiAgICAgICAgICAgIHRoaXMucGVybWlzc2lvbi5jb25zdHJhaW50cyxcbiAgICAgICAgICApO1xuICAgICAgICAgIGRpc3Bvc2VPZk1lZGlhU3RyZWFtKHN0cmVhbSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSgnZ3JhbnRlZCcpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZSAmJlxuICAgICAgICAgICAgdHlwZW9mIGUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICAnbmFtZScgaW4gZSAmJlxuICAgICAgICAgICAgKGUubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcicgfHwgZS5uYW1lID09PSAnU2VjdXJpdHlFcnJvcicpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcignaW5mbycsICdCcm93c2VyIHBlcm1pc3Npb24gd2FzIG5vdCBncmFudGVkJywge1xuICAgICAgICAgICAgICBwZXJtaXNzaW9uOiB0aGlzLnBlcm1pc3Npb24sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoJ2RlbmllZCcpO1xuXG4gICAgICAgICAgICBpZiAodGhyb3dPbk5vdEFsbG93ZWQpIHtcbiAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsIGBGYWlsZWQgdG8gZ2V0VXNlck1lZGlhYCwge1xuICAgICAgICAgICAgZXJyb3I6IGUsXG4gICAgICAgICAgICBwZXJtaXNzaW9uOiB0aGlzLnBlcm1pc3Npb24sXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSgncHJvbXB0Jyk7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuICB9XG5cbiAgbGlzdGVuKGNiOiAoc3RhdGU6IEJyb3dzZXJQZXJtaXNzaW9uU3RhdGUpID0+IHZvaWQpIHtcbiAgICB0aGlzLmxpc3RlbmVycy5hZGQoY2IpO1xuICAgIGlmICh0aGlzLnN0YXRlKSBjYih0aGlzLnN0YXRlKTtcbiAgICByZXR1cm4gKCkgPT4gdGhpcy5saXN0ZW5lcnMuZGVsZXRlKGNiKTtcbiAgfVxuXG4gIGFzT2JzZXJ2YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZU9ic2VydmFibGUoKS5waXBlKFxuICAgICAgLy8gSW4gc29tZSBicm93c2VycywgdGhlICdjaGFuZ2UnIGV2ZW50IGRvZXNuJ3QgcmVsaWFibHkgZW1pdCBhbmQgaGVuY2UsXG4gICAgICAvLyBwZXJtaXNzaW9uU3RhdGUgc3RheXMgaW4gJ3Byb21wdCcgc3RhdGUgZm9yZXZlci5cbiAgICAgIC8vIFR5cGljYWxseSwgdGhpcyBoYXBwZW5zIHdoZW4gYSB1c2VyIGdyYW50cyBvbmUtdGltZSBwZXJtaXNzaW9uLlxuICAgICAgLy8gSW5zdGVhZCBvZiBjaGVja2luZyBpZiBhIHBlcm1pc3Npb24gaXMgZ3JhbnRlZCwgd2UgY2hlY2sgaWYgaXQgaXNuJ3QgZGVuaWVkXG4gICAgICBtYXAoKHN0YXRlKSA9PiBzdGF0ZSAhPT0gJ2RlbmllZCcpLFxuICAgICk7XG4gIH1cblxuICBhc1N0YXRlT2JzZXJ2YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZU9ic2VydmFibGUoKTtcbiAgfVxuXG4gIGdldElzUHJvbXB0aW5nT2JzZXJ2YWJsZSgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRTdGF0ZU9ic2VydmFibGUoKS5waXBlKFxuICAgICAgbWFwKChzdGF0ZSkgPT4gc3RhdGUgPT09ICdwcm9tcHRpbmcnKSxcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRTdGF0ZU9ic2VydmFibGUoKSB7XG4gICAgcmV0dXJuIGZyb21FdmVudFBhdHRlcm48QnJvd3NlclBlcm1pc3Npb25TdGF0ZT4oXG4gICAgICAoaGFuZGxlcikgPT4gdGhpcy5saXN0ZW4oaGFuZGxlciksXG4gICAgICAoaGFuZGxlciwgdW5saXN0ZW4pID0+IHVubGlzdGVuKCksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0U3RhdGUoc3RhdGU6IEJyb3dzZXJQZXJtaXNzaW9uU3RhdGUpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSAhPT0gc3RhdGUpIHtcbiAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgIHRoaXMubGlzdGVuZXJzLmZvckVhY2goKGxpc3RlbmVyKSA9PiBsaXN0ZW5lcihzdGF0ZSkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjYW5RdWVyeVBlcm1pc3Npb25zKCkge1xuICByZXR1cm4gKFxuICAgICFpc1JlYWN0TmF0aXZlKCkgJiZcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICEhbmF2aWdhdG9yLnBlcm1pc3Npb25zPy5xdWVyeVxuICApO1xufVxuIiwiaW1wb3J0IHtcbiAgY29uY2F0TWFwLFxuICBkZWJvdW5jZVRpbWUsXG4gIGZyb20sXG4gIGZyb21FdmVudCxcbiAgbWFwLFxuICBtZXJnZSxcbiAgc2hhcmVSZXBsYXksXG4gIHN0YXJ0V2l0aCxcbn0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL0Jyb3dzZXJQZXJtaXNzaW9uJztcbmltcG9ydCB7IGxhenkgfSBmcm9tICcuLi9oZWxwZXJzL2xhenknO1xuaW1wb3J0IHsgaXNGaXJlZm94IH0gZnJvbSAnLi4vaGVscGVycy9icm93c2Vycyc7XG5pbXBvcnQgeyBkdW1wU3RyZWFtLCBUcmFjZXIgfSBmcm9tICcuLi9zdGF0cyc7XG5cbi8qKlxuICogUmV0dXJucyBhbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGxpc3Qgb2YgYXZhaWxhYmxlIGRldmljZXNcbiAqIHRoYXQgbWVldCB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKlxuICogQHBhcmFtIHBlcm1pc3Npb24gYSBCcm93c2VyUGVybWlzc2lvbiBpbnN0YW5jZS5cbiAqIEBwYXJhbSBraW5kIHRoZSBraW5kIG9mIGRldmljZXMgdG8gZW51bWVyYXRlLlxuICovXG5jb25zdCBnZXREZXZpY2VzID0gKHBlcm1pc3Npb246IEJyb3dzZXJQZXJtaXNzaW9uLCBraW5kOiBNZWRpYURldmljZUtpbmQpID0+IHtcbiAgcmV0dXJuIGZyb20oXG4gICAgKGFzeW5jICgpID0+IHtcbiAgICAgIGxldCBkZXZpY2VzID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICAvLyBmb3IgcHJpdmFjeSByZWFzb25zLCBtb3N0IGJyb3dzZXJzIGRvbid0IGdpdmUgeW91IGRldmljZSBsYWJlbHNcbiAgICAgIC8vIHVubGVzcyB5b3UgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgY2FtZXJhIG9yIG1pY3JvcGhvbmUgcGVybWlzc2lvblxuICAgICAgY29uc3Qgc2hvdWxkUHJvbXB0Rm9yQnJvd3NlclBlcm1pc3Npb24gPSBkZXZpY2VzLnNvbWUoXG4gICAgICAgIChkZXZpY2UpID0+IGRldmljZS5raW5kID09PSBraW5kICYmIGRldmljZS5sYWJlbCA9PT0gJycsXG4gICAgICApO1xuICAgICAgaWYgKHNob3VsZFByb21wdEZvckJyb3dzZXJQZXJtaXNzaW9uICYmIChhd2FpdCBwZXJtaXNzaW9uLnByb21wdCgpKSkge1xuICAgICAgICBkZXZpY2VzID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGV2aWNlcy5maWx0ZXIoXG4gICAgICAgIChkZXZpY2UpID0+XG4gICAgICAgICAgZGV2aWNlLmtpbmQgPT09IGtpbmQgJiZcbiAgICAgICAgICBkZXZpY2UubGFiZWwgIT09ICcnICYmXG4gICAgICAgICAgZGV2aWNlLmRldmljZUlkICE9PSAnZGVmYXVsdCcsXG4gICAgICApO1xuICAgIH0pKCksXG4gICk7XG59O1xuXG4vKipcbiAqIFRlbGxzIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGF1ZGlvIG91dHB1dCBjaGFuZ2Ugb24gJ2F1ZGlvJyBlbGVtZW50cyxcbiAqIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTE1lZGlhRWxlbWVudC9zZXRTaW5rSWQuXG4gKi9cbmV4cG9ydCBjb25zdCBjaGVja0lmQXVkaW9PdXRwdXRDaGFuZ2VTdXBwb3J0ZWQgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSByZXR1cm4gZmFsc2U7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xuICByZXR1cm4gJ3NldFNpbmtJZCcgaW4gZWxlbWVudDtcbn07XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY29uc3RyYWludHMgdXNlZCB0byByZXF1ZXN0IGF1ZGlvIGRldmljZXMuXG4gKi9cbmNvbnN0IGF1ZGlvRGV2aWNlQ29uc3RyYWludHMgPSB7XG4gIGF1ZGlvOiB7XG4gICAgYXV0b0dhaW5Db250cm9sOiB0cnVlLFxuICAgIG5vaXNlU3VwcHJlc3Npb246IHRydWUsXG4gICAgZWNob0NhbmNlbGxhdGlvbjogdHJ1ZSxcbiAgfSxcbn0gc2F0aXNmaWVzIE1lZGlhU3RyZWFtQ29uc3RyYWludHM7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgY29uc3RyYWludHMgdXNlZCB0byByZXF1ZXN0IHZpZGVvIGRldmljZXMuXG4gKi9cbmNvbnN0IHZpZGVvRGV2aWNlQ29uc3RyYWludHMgPSB7XG4gIHZpZGVvOiB7XG4gICAgd2lkdGg6IDEyODAsXG4gICAgaGVpZ2h0OiA3MjAsXG4gIH0sXG59IHNhdGlzZmllcyBNZWRpYVN0cmVhbUNvbnN0cmFpbnRzO1xuXG4vKipcbiAqIEtlZXBzIHRyYWNrIG9mIHRoZSBicm93c2VyIHBlcm1pc3Npb24gdG8gdXNlIG1pY3JvcGhvbmUuIFRoaXMgcGVybWlzc2lvbiBhbHNvXG4gKiBhZmZlY3RzIGFuIGFiaWxpdHkgdG8gZW51bWVyYXRlIGF1ZGlvIGRldmljZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uID0gbGF6eShcbiAgKCkgPT5cbiAgICBuZXcgQnJvd3NlclBlcm1pc3Npb24oe1xuICAgICAgY29uc3RyYWludHM6IGF1ZGlvRGV2aWNlQ29uc3RyYWludHMsXG4gICAgICBxdWVyeU5hbWU6ICdtaWNyb3Bob25lJyBhcyBQZXJtaXNzaW9uTmFtZSxcbiAgICB9KSxcbik7XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGJyb3dzZXIgcGVybWlzc2lvbiB0byB1c2UgY2FtZXJhLiBUaGlzIHBlcm1pc3Npb24gYWxzb1xuICogYWZmZWN0cyBhbiBhYmlsaXR5IHRvIGVudW1lcmF0ZSB2aWRlbyBkZXZpY2VzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbiA9IGxhenkoXG4gICgpID0+XG4gICAgbmV3IEJyb3dzZXJQZXJtaXNzaW9uKHtcbiAgICAgIGNvbnN0cmFpbnRzOiB2aWRlb0RldmljZUNvbnN0cmFpbnRzLFxuICAgICAgcXVlcnlOYW1lOiAnY2FtZXJhJyBhcyBQZXJtaXNzaW9uTmFtZSxcbiAgICB9KSxcbik7XG5cbmNvbnN0IGdldERldmljZUNoYW5nZU9ic2VydmVyID0gbGF6eSgoKSA9PiB7XG4gIC8vICdhZGRFdmVudExpc3RlbmVyJyBpcyBub3QgYXZhaWxhYmxlIGluIFJlYWN0IE5hdGl2ZSwgcmV0dXJuaW5nXG4gIC8vIGFuIG9ic2VydmFibGUgdGhhdCB3aWxsIG5ldmVyIGZpcmVcbiAgaWYgKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIpIHJldHVybiBmcm9tKFtdKTtcbiAgcmV0dXJuIGZyb21FdmVudChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLCAnZGV2aWNlY2hhbmdlJykucGlwZShcbiAgICBtYXAoKCkgPT4gdW5kZWZpbmVkKSxcbiAgICBkZWJvdW5jZVRpbWUoNTAwKSxcbiAgKTtcbn0pO1xuXG4vKipcbiAqIFByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgYXVkaW8gZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZFxuICogYW5kIHdhcyBub3QgcHJvbXB0ZWQgYmVmb3JlKSBhbmQgbGlzdHMgdGhlIGF2YWlsYWJsZSAnYXVkaW9pbnB1dCcgZGV2aWNlcyxcbiAqIGlmIGRldmljZXMgYXJlIGFkZGVkL3JlbW92ZWQgdGhlIGxpc3QgaXMgdXBkYXRlZCwgYW5kIGlmIHRoZSBwZXJtaXNzaW9uIGlzIHJldm9rZWQsXG4gKiB0aGUgb2JzZXJ2YWJsZSBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb0RldmljZXMgPSBsYXp5KCgpID0+IHtcbiAgcmV0dXJuIG1lcmdlKFxuICAgIGdldERldmljZUNoYW5nZU9ic2VydmVyKCksXG4gICAgZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLmFzT2JzZXJ2YWJsZSgpLFxuICApLnBpcGUoXG4gICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgY29uY2F0TWFwKCgpID0+IGdldERldmljZXMoZ2V0QXVkaW9Ccm93c2VyUGVybWlzc2lvbigpLCAnYXVkaW9pbnB1dCcpKSxcbiAgICBzaGFyZVJlcGxheSgxKSxcbiAgKTtcbn0pO1xuXG4vKipcbiAqIFByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgdmlkZW8gZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZFxuICogYW5kIHdhcyBub3QgcHJvbXB0ZWQgYmVmb3JlKSBhbmQgbGlzdHMgdGhlIGF2YWlsYWJsZSAndmlkZW9pbnB1dCcgZGV2aWNlcyxcbiAqIGlmIGRldmljZXMgYXJlIGFkZGVkL3JlbW92ZWQgdGhlIGxpc3QgaXMgdXBkYXRlZCwgYW5kIGlmIHRoZSBwZXJtaXNzaW9uIGlzIHJldm9rZWQsXG4gKiB0aGUgb2JzZXJ2YWJsZSBlcnJvcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWaWRlb0RldmljZXMgPSBsYXp5KCgpID0+IHtcbiAgcmV0dXJuIG1lcmdlKFxuICAgIGdldERldmljZUNoYW5nZU9ic2VydmVyKCksXG4gICAgZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbigpLmFzT2JzZXJ2YWJsZSgpLFxuICApLnBpcGUoXG4gICAgc3RhcnRXaXRoKHVuZGVmaW5lZCksXG4gICAgY29uY2F0TWFwKCgpID0+IGdldERldmljZXMoZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbigpLCAndmlkZW9pbnB1dCcpKSxcbiAgICBzaGFyZVJlcGxheSgxKSxcbiAgKTtcbn0pO1xuXG4vKipcbiAqIFByb21wdHMgdGhlIHVzZXIgZm9yIGEgcGVybWlzc2lvbiB0byB1c2UgdmlkZW8gZGV2aWNlcyAoaWYgbm90IGFscmVhZHkgZ3JhbnRlZFxuICogYW5kIHdhcyBub3QgcHJvbXB0ZWQgYmVmb3JlKSBhbmQgbGlzdHMgdGhlIGF2YWlsYWJsZSAnYXVkaW9vdXRwdXQnIGRldmljZXMsXG4gKiBpZiBkZXZpY2VzIGFyZSBhZGRlZC9yZW1vdmVkIHRoZSBsaXN0IGlzIHVwZGF0ZWQsIGFuZCBpZiB0aGUgcGVybWlzc2lvbiBpcyByZXZva2VkLFxuICogdGhlIG9ic2VydmFibGUgZXJyb3JzLlxuICovXG5leHBvcnQgY29uc3QgZ2V0QXVkaW9PdXRwdXREZXZpY2VzID0gbGF6eSgoKSA9PiB7XG4gIHJldHVybiBtZXJnZShcbiAgICBnZXREZXZpY2VDaGFuZ2VPYnNlcnZlcigpLFxuICAgIGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKS5hc09ic2VydmFibGUoKSxcbiAgKS5waXBlKFxuICAgIHN0YXJ0V2l0aCh1bmRlZmluZWQpLFxuICAgIGNvbmNhdE1hcCgoKSA9PiBnZXREZXZpY2VzKGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKSwgJ2F1ZGlvb3V0cHV0JykpLFxuICAgIHNoYXJlUmVwbGF5KDEpLFxuICApO1xufSk7XG5cbmxldCBnZXRVc2VyTWVkaWFFeGVjSWQgPSAwO1xuY29uc3QgZ2V0U3RyZWFtID0gYXN5bmMgKFxuICBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyxcbiAgdHJhY2VyOiBUcmFjZXIgfCB1bmRlZmluZWQsXG4pID0+IHtcbiAgY29uc3QgdGFnID0gYG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhLiR7Z2V0VXNlck1lZGlhRXhlY0lkKyt9LmA7XG4gIHRyeSB7XG4gICAgdHJhY2VyPy50cmFjZSh0YWcsIGNvbnN0cmFpbnRzKTtcbiAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjb25zdHJhaW50cyk7XG4gICAgdHJhY2VyPy50cmFjZShgJHt0YWd9T25TdWNjZXNzYCwgZHVtcFN0cmVhbShzdHJlYW0pKTtcbiAgICBpZiAoaXNGaXJlZm94KCkpIHtcbiAgICAgIC8vIFdoZW4gZW51bWVyYXRpbmcgZGV2aWNlcywgRmlyZWZveCB3aWxsIGhpZGUgZGV2aWNlIGxhYmVscyB1bmxlc3MgdGhlcmUncyBiZWVuXG4gICAgICAvLyBhbiBhY3RpdmUgdXNlciBtZWRpYSBzdHJlYW0gb24gdGhlIHBhZ2UuIFNvIHdlIGZvcmNlIGRldmljZSBsaXN0IHVwZGF0ZXMgYWZ0ZXJcbiAgICAgIC8vIGV2ZXJ5IHN1Y2Nlc3NmdWwgZ2V0VXNlck1lZGlhIGNhbGwuXG4gICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdkZXZpY2VjaGFuZ2UnKSk7XG4gICAgfVxuICAgIGlmIChjb25zdHJhaW50cy52aWRlbykge1xuICAgICAgY29uc3QgW3ZpZGVvVHJhY2tdID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgICBpZiAodmlkZW9UcmFjaykge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0ID0gY29uc3RyYWludHMudmlkZW8gYXMgTWVkaWFUcmFja0NvbnN0cmFpbnRzO1xuICAgICAgICBpZiAod2lkdGggIT09IHRhcmdldC53aWR0aCB8fCBoZWlnaHQgIT09IHRhcmdldC5oZWlnaHQpIHtcbiAgICAgICAgICB0cmFjZXI/LnRyYWNlKFxuICAgICAgICAgICAgYCR7dGFnfVdhcm5gLFxuICAgICAgICAgICAgYFJlcXVlc3RlZCByZXNvbHV0aW9uICR7dGFyZ2V0LndpZHRofXgke3RhcmdldC5oZWlnaHR9IGJ1dCBnb3QgJHt3aWR0aH14JHtoZWlnaHR9YCxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmVhbTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB0cmFjZXI/LnRyYWNlKGAke3RhZ31PbkZhaWx1cmVgLCAoZXJyb3IgYXMgRXJyb3IpLm5hbWUpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG5mdW5jdGlvbiBpc05vdEZvdW5kT3JPdmVyY29uc3RyYWluZWRFcnJvcihlcnJvcjogdW5rbm93bikge1xuICBpZiAoIWVycm9yIHx8IHR5cGVvZiBlcnJvciAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoJ25hbWUnIGluIGVycm9yICYmIHR5cGVvZiBlcnJvci5uYW1lID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IG5hbWUgPSBlcnJvci5uYW1lO1xuICAgIGlmIChbJ092ZXJjb25zdHJhaW5lZEVycm9yJywgJ05vdEZvdW5kRXJyb3InXS5pbmNsdWRlcyhuYW1lKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgaWYgKCdtZXNzYWdlJyBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICBpZiAobWVzc2FnZS5zdGFydHNXaXRoKCdPdmVyY29uc3RyYWluZWRFcnJvcicpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBhdWRpbyBtZWRpYSBzdHJlYW0gdGhhdCBmdWxmaWxscyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKiBJZiBubyBjb25zdHJhaW50cyBhcmUgcHJvdmlkZWQsIGl0IHVzZXMgdGhlIGJyb3dzZXIncyBkZWZhdWx0IG9uZXMuXG4gKlxuICogQHBhcmFtIHRyYWNrQ29uc3RyYWludHMgdGhlIGNvbnN0cmFpbnRzIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdGhlIHN0cmVhbS5cbiAqIEBwYXJhbSB0cmFjZXIgdGhlIHRyYWNlciB0byB1c2UgZm9yIHRyYWNpbmcgdGhlIHN0cmVhbSBjcmVhdGlvbi5cbiAqIEByZXR1cm5zIGEgbmV3IGBNZWRpYVN0cmVhbWAgZnVsZmlsbGluZyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRBdWRpb1N0cmVhbSA9IGFzeW5jIChcbiAgdHJhY2tDb25zdHJhaW50cz86IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbiAgdHJhY2VyPzogVHJhY2VyLFxuKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4gPT4ge1xuICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICBhdWRpbzoge1xuICAgICAgLi4uYXVkaW9EZXZpY2VDb25zdHJhaW50cy5hdWRpbyxcbiAgICAgIC4uLnRyYWNrQ29uc3RyYWludHMsXG4gICAgfSxcbiAgfTtcblxuICB0cnkge1xuICAgIGF3YWl0IGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKS5wcm9tcHQoe1xuICAgICAgdGhyb3dPbk5vdEFsbG93ZWQ6IHRydWUsXG4gICAgICBmb3JjZVByb21wdDogdHJ1ZSxcbiAgICB9KTtcbiAgICByZXR1cm4gYXdhaXQgZ2V0U3RyZWFtKGNvbnN0cmFpbnRzLCB0cmFjZXIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc05vdEZvdW5kT3JPdmVyY29uc3RyYWluZWRFcnJvcihlcnJvcikgJiYgdHJhY2tDb25zdHJhaW50cz8uZGV2aWNlSWQpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgIGNvbnN0IHsgZGV2aWNlSWQsIC4uLnJlbGF4ZWRDb25zdHJhaW50cyB9ID0gdHJhY2tDb25zdHJhaW50cztcbiAgICAgIGdldExvZ2dlcihbJ2RldmljZXMnXSkoXG4gICAgICAgICd3YXJuJyxcbiAgICAgICAgJ0ZhaWxlZCB0byBnZXQgYXVkaW8gc3RyZWFtLCB3aWxsIHRyeSBhZ2FpbiB3aXRoIHJlbGF4ZWQgY29uc3RyYWludHMnLFxuICAgICAgICB7IGVycm9yLCBjb25zdHJhaW50cywgcmVsYXhlZENvbnN0cmFpbnRzIH0sXG4gICAgICApO1xuICAgICAgcmV0dXJuIGdldEF1ZGlvU3RyZWFtKHJlbGF4ZWRDb25zdHJhaW50cyk7XG4gICAgfVxuXG4gICAgZ2V0TG9nZ2VyKFsnZGV2aWNlcyddKSgnZXJyb3InLCAnRmFpbGVkIHRvIGdldCBhdWRpbyBzdHJlYW0nLCB7XG4gICAgICBlcnJvcixcbiAgICAgIGNvbnN0cmFpbnRzLFxuICAgIH0pO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59O1xuXG4vKipcbiAqIFJldHVybnMgYSB2aWRlbyBtZWRpYSBzdHJlYW0gdGhhdCBmdWxmaWxscyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKiBJZiBubyBjb25zdHJhaW50cyBhcmUgcHJvdmlkZWQsIGl0IHVzZXMgdGhlIGJyb3dzZXIncyBkZWZhdWx0IG9uZXMuXG4gKlxuICogQHBhcmFtIHRyYWNrQ29uc3RyYWludHMgdGhlIGNvbnN0cmFpbnRzIHRvIHVzZSB3aGVuIHJlcXVlc3RpbmcgdGhlIHN0cmVhbS5cbiAqIEBwYXJhbSB0cmFjZXIgdGhlIHRyYWNlciB0byB1c2UgZm9yIHRyYWNpbmcgdGhlIHN0cmVhbSBjcmVhdGlvbi5cbiAqIEByZXR1cm5zIGEgbmV3IGBNZWRpYVN0cmVhbWAgZnVsZmlsbGluZyB0aGUgZ2l2ZW4gY29uc3RyYWludHMuXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRWaWRlb1N0cmVhbSA9IGFzeW5jIChcbiAgdHJhY2tDb25zdHJhaW50cz86IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbiAgdHJhY2VyPzogVHJhY2VyLFxuKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4gPT4ge1xuICBjb25zdCBjb25zdHJhaW50czogTWVkaWFTdHJlYW1Db25zdHJhaW50cyA9IHtcbiAgICB2aWRlbzoge1xuICAgICAgLi4udmlkZW9EZXZpY2VDb25zdHJhaW50cy52aWRlbyxcbiAgICAgIC4uLnRyYWNrQ29uc3RyYWludHMsXG4gICAgfSxcbiAgfTtcbiAgdHJ5IHtcbiAgICBhd2FpdCBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCkucHJvbXB0KHtcbiAgICAgIHRocm93T25Ob3RBbGxvd2VkOiB0cnVlLFxuICAgICAgZm9yY2VQcm9tcHQ6IHRydWUsXG4gICAgfSk7XG4gICAgcmV0dXJuIGF3YWl0IGdldFN0cmVhbShjb25zdHJhaW50cywgdHJhY2VyKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoaXNOb3RGb3VuZE9yT3ZlcmNvbnN0cmFpbmVkRXJyb3IoZXJyb3IpICYmIHRyYWNrQ29uc3RyYWludHM/LmRldmljZUlkKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICBjb25zdCB7IGRldmljZUlkLCAuLi5yZWxheGVkQ29uc3RyYWludHMgfSA9IHRyYWNrQ29uc3RyYWludHM7XG4gICAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdGYWlsZWQgdG8gZ2V0IHZpZGVvIHN0cmVhbSwgd2lsbCB0cnkgYWdhaW4gd2l0aCByZWxheGVkIGNvbnN0cmFpbnRzJyxcbiAgICAgICAgeyBlcnJvciwgY29uc3RyYWludHMsIHJlbGF4ZWRDb25zdHJhaW50cyB9LFxuICAgICAgKTtcbiAgICAgIHJldHVybiBnZXRWaWRlb1N0cmVhbShyZWxheGVkQ29uc3RyYWludHMpO1xuICAgIH1cblxuICAgIGdldExvZ2dlcihbJ2RldmljZXMnXSkoJ2Vycm9yJywgJ0ZhaWxlZCB0byBnZXQgdmlkZW8gc3RyZWFtJywge1xuICAgICAgZXJyb3IsXG4gICAgICBjb25zdHJhaW50cyxcbiAgICB9KTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxubGV0IGdldERpc3BsYXlNZWRpYUV4ZWNJZCA9IDA7XG5cbi8qKlxuICogUHJvbXB0cyB0aGUgdXNlciBmb3IgYSBwZXJtaXNzaW9uIHRvIHNoYXJlIGEgc2NyZWVuLlxuICogSWYgdGhlIHVzZXIgZ3JhbnRzIHRoZSBwZXJtaXNzaW9uLCBhIHNjcmVlbiBzaGFyaW5nIHN0cmVhbSBpcyByZXR1cm5lZC4gVGhyb3dzIG90aGVyd2lzZS5cbiAqXG4gKiBUaGUgY2FsbGVycyBvZiB0aGlzIEFQSSBhcmUgcmVzcG9uc2libGUgdG8gaGFuZGxlIHRoZSBwb3NzaWJsZSBlcnJvcnMuXG4gKlxuICogQHBhcmFtIG9wdGlvbnMgYW55IGFkZGl0aW9uYWwgb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBbYGdldERpc3BsYXlNZWRpYWBdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9NZWRpYURldmljZXMvZ2V0RGlzcGxheU1lZGlhKSBBUEkuXG4gKiBAcGFyYW0gdHJhY2VyIHRoZSB0cmFjZXIgdG8gdXNlIGZvciB0cmFjaW5nIHRoZSBzdHJlYW0gY3JlYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRTY3JlZW5TaGFyZVN0cmVhbSA9IGFzeW5jIChcbiAgb3B0aW9ucz86IERpc3BsYXlNZWRpYVN0cmVhbU9wdGlvbnMsXG4gIHRyYWNlcj86IFRyYWNlciB8IHVuZGVmaW5lZCxcbikgPT4ge1xuICBjb25zdCB0YWcgPSBgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEuJHtnZXREaXNwbGF5TWVkaWFFeGVjSWQrK30uYDtcbiAgdHJ5IHtcbiAgICBjb25zdCBjb25zdHJhaW50czogRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucyA9IHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgLSBub3QgcHJlc2VudCBpbiB0eXBlcyB5ZXRcbiAgICAgIHN5c3RlbUF1ZGlvOiAnaW5jbHVkZScsXG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgdmlkZW86XG4gICAgICAgIHR5cGVvZiBvcHRpb25zPy52aWRlbyA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgPyBvcHRpb25zLnZpZGVvIC8vIG11c3QgYmUgJ3RydWUnXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIHdpZHRoOiB7IG1heDogMjU2MCB9LFxuICAgICAgICAgICAgICBoZWlnaHQ6IHsgbWF4OiAxNDQwIH0sXG4gICAgICAgICAgICAgIGZyYW1lUmF0ZTogeyBpZGVhbDogMzAgfSxcbiAgICAgICAgICAgICAgLi4ub3B0aW9ucz8udmlkZW8sXG4gICAgICAgICAgICB9LFxuICAgICAgYXVkaW86XG4gICAgICAgIHR5cGVvZiBvcHRpb25zPy5hdWRpbyA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICAgPyBvcHRpb25zLmF1ZGlvXG4gICAgICAgICAgOiB7XG4gICAgICAgICAgICAgIGNoYW5uZWxDb3VudDogeyBpZGVhbDogMiB9LFxuICAgICAgICAgICAgICBlY2hvQ2FuY2VsbGF0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgYXV0b0dhaW5Db250cm9sOiBmYWxzZSxcbiAgICAgICAgICAgICAgbm9pc2VTdXBwcmVzc2lvbjogZmFsc2UsXG4gICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmF1ZGlvLFxuICAgICAgICAgICAgfSxcbiAgICB9O1xuICAgIHRyYWNlcj8udHJhY2UodGFnLCBjb25zdHJhaW50cyk7XG4gICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEoY29uc3RyYWludHMpO1xuICAgIHRyYWNlcj8udHJhY2UoYCR7dGFnfU9uU3VjY2Vzc2AsIGR1bXBTdHJlYW0oc3RyZWFtKSk7XG4gICAgcmV0dXJuIHN0cmVhbTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHRyYWNlcj8udHJhY2UoYCR7dGFnfU9uRmFpbHVyZWAsIChlIGFzIEVycm9yKS5uYW1lKTtcbiAgICBnZXRMb2dnZXIoWydkZXZpY2VzJ10pKCdlcnJvcicsICdGYWlsZWQgdG8gZ2V0IHNjcmVlbiBzaGFyZSBzdHJlYW0nLCBlKTtcbiAgICB0aHJvdyBlO1xuICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGV2aWNlSWRzJCA9XG4gIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICE9PSAndW5kZWZpbmVkJ1xuICAgID8gZ2V0RGV2aWNlQ2hhbmdlT2JzZXJ2ZXIoKS5waXBlKFxuICAgICAgICBzdGFydFdpdGgodW5kZWZpbmVkKSxcbiAgICAgICAgY29uY2F0TWFwKCgpID0+IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpKSxcbiAgICAgICAgc2hhcmVSZXBsYXkoMSksXG4gICAgICApXG4gICAgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogRGVhY3RpdmF0ZXMgTWVkaWFTdHJlYW0gKHN0b3BzIGFuZCByZW1vdmVzIHRyYWNrcykgdG8gYmUgbGF0ZXIgZ2FyYmFnZSBjb2xsZWN0ZWRcbiAqXG4gKiBAcGFyYW0gc3RyZWFtIE1lZGlhU3RyZWFtXG4gKiBAcmV0dXJucyB2b2lkXG4gKi9cbmV4cG9ydCBjb25zdCBkaXNwb3NlT2ZNZWRpYVN0cmVhbSA9IChzdHJlYW06IE1lZGlhU3RyZWFtKSA9PiB7XG4gIGlmICghc3RyZWFtLmFjdGl2ZSkgcmV0dXJuO1xuICBzdHJlYW0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICB0cmFjay5zdG9wKCk7XG4gIH0pO1xuICAvLyBAdHMtZXhwZWN0LWVycm9yIHJlbGVhc2UoKSBpcyBwcmVzZW50IGluIHJlYWN0LW5hdGl2ZS13ZWJydGMgYW5kIG11c3QgYmUgY2FsbGVkIHRvIGRpc3Bvc2UgdGhlIHN0cmVhbVxuICBpZiAodHlwZW9mIHN0cmVhbS5yZWxlYXNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvciAtIHJlbGVhc2UoKSBpcyBwcmVzZW50IGluIHJlYWN0LW5hdGl2ZS13ZWJydGNcbiAgICBzdHJlYW0ucmVsZWFzZSgpO1xuICB9XG59O1xuIiwiLyoqXG4gKiBDaGVja3MgaWYgdGhlIGN1cnJlbnQgcGxhdGZvcm0gaXMgYSBtb2JpbGUgZGV2aWNlLlxuICpcbiAqIFNlZTpcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUVFAvQnJvd3Nlcl9kZXRlY3Rpb25fdXNpbmdfdGhlX3VzZXJfYWdlbnRcbiAqL1xuZXhwb3J0IGNvbnN0IGlzTW9iaWxlID0gKCkgPT4gL01vYmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSwgcGFpcndpc2UgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IENhbGxpbmdTdGF0ZSB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IGNyZWF0ZVN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL3N0b3JlL3J4VXRpbHMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBpc01vYmlsZSB9IGZyb20gJy4uL2hlbHBlcnMvY29tcGF0aWJpbGl0eSc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi90eXBlcyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuLi9sb2dnZXInO1xuaW1wb3J0IHsgVHJhY2tUeXBlIH0gZnJvbSAnLi4vZ2VuL3ZpZGVvL3NmdS9tb2RlbHMvbW9kZWxzJztcbmltcG9ydCB7IGRldmljZUlkcyQgfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHtcbiAgc2V0dGxlZCxcbiAgd2l0aENhbmNlbGxhdGlvbixcbiAgd2l0aG91dENvbmN1cnJlbmN5LFxufSBmcm9tICcuLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7XG4gIE1lZGlhU3RyZWFtRmlsdGVyLFxuICBNZWRpYVN0cmVhbUZpbHRlckVudHJ5LFxuICBNZWRpYVN0cmVhbUZpbHRlclJlZ2lzdHJhdGlvblJlc3VsdCxcbn0gZnJvbSAnLi9maWx0ZXJzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyPFxuICBUIGV4dGVuZHMgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZTxDPixcbiAgQyA9IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbj4ge1xuICAvKipcbiAgICogaWYgdHJ1ZSwgc3RvcHMgdGhlIG1lZGlhIHN0cmVhbSB3aGVuIGNhbGwgaXMgbGVmdFxuICAgKi9cbiAgc3RvcE9uTGVhdmUgPSB0cnVlO1xuICBsb2dnZXI6IExvZ2dlcjtcblxuICBzdGF0ZTogVDtcblxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgY2FsbDogQ2FsbDtcbiAgcHJvdGVjdGVkIHJlYWRvbmx5IHRyYWNrVHlwZTogVHJhY2tUeXBlO1xuICBwcm90ZWN0ZWQgc3Vic2NyaXB0aW9uczogRnVuY3Rpb25bXSA9IFtdO1xuICBwcml2YXRlIGlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IGZhbHNlO1xuICBwcml2YXRlIGZpbHRlcnM6IE1lZGlhU3RyZWFtRmlsdGVyRW50cnlbXSA9IFtdO1xuICBwcml2YXRlIHN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdzdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZycpO1xuICBwcml2YXRlIGZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKFxuICAgICdmaWx0ZXJSZWdpc3RyYXRpb25Db25jdXJyZW5jeVRhZycsXG4gICk7XG5cbiAgcHJvdGVjdGVkIGNvbnN0cnVjdG9yKGNhbGw6IENhbGwsIHN0YXRlOiBULCB0cmFja1R5cGU6IFRyYWNrVHlwZSkge1xuICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgIHRoaXMudHJhY2tUeXBlID0gdHJhY2tUeXBlO1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFtgJHtUcmFja1R5cGVbdHJhY2tUeXBlXS50b0xvd2VyQ2FzZSgpfSBtYW5hZ2VyYF0pO1xuICAgIGlmIChcbiAgICAgIGRldmljZUlkcyQgJiZcbiAgICAgICFpc1JlYWN0TmF0aXZlKCkgJiZcbiAgICAgICh0aGlzLnRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLkFVRElPIHx8IHRoaXMudHJhY2tUeXBlID09PSBUcmFja1R5cGUuVklERU8pXG4gICAgKSB7XG4gICAgICB0aGlzLmhhbmRsZURpc2Nvbm5lY3RlZE9yUmVwbGFjZWREZXZpY2VzKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExpc3RzIHRoZSBhdmFpbGFibGUgYXVkaW8vdmlkZW8gZGV2aWNlc1xuICAgKlxuICAgKiBOb3RlOiBJdCBwcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWQpXG4gICAqXG4gICAqIEByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIGJlIHVwZGF0ZWQgaWYgYSBkZXZpY2UgaXMgY29ubmVjdGVkIG9yIGRpc2Nvbm5lY3RlZFxuICAgKi9cbiAgbGlzdERldmljZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0RGV2aWNlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgYHRydWVgIHdoZW4gdGhpcyBkZXZpY2UgaXMgaW4gZW5hYmxlZCBzdGF0ZS5cbiAgICovXG4gIGdldCBlbmFibGVkKCkge1xuICAgIHJldHVybiB0aGlzLnN0YXRlLnN0YXR1cyA9PT0gJ2VuYWJsZWQnO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBzdHJlYW0uXG4gICAqL1xuICBhc3luYyBlbmFibGUoKSB7XG4gICAgdGhpcy5zdGF0ZS5wcmV2U3RhdHVzID0gdGhpcy5zdGF0ZS5vcHRpbWlzdGljU3RhdHVzO1xuICAgIGlmICh0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXMgPT09ICdlbmFibGVkJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXMoJ2VuYWJsZWQnKTtcblxuICAgIGF3YWl0IHdpdGhDYW5jZWxsYXRpb24odGhpcy5zdGF0dXNDaGFuZ2VDb25jdXJyZW5jeVRhZywgYXN5bmMgKHNpZ25hbCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy51bm11dGVTdHJlYW0oKTtcbiAgICAgICAgdGhpcy5zdGF0ZS5zZXRTdGF0dXMoJ2VuYWJsZWQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICghc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXModGhpcy5zdGF0ZS5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU3RvcHMgb3IgcGF1c2VzIHRoZSBzdHJlYW0gYmFzZWQgb24gc3RhdGUuZGlzYWJsZU1vZGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbZm9yY2VTdG9wPWZhbHNlXSB3aGVuIHRydWUsIHN0b3BzIHRoZSB0cmFja3MgcmVnYXJkbGVzcyBvZiB0aGUgc3RhdGUuZGlzYWJsZU1vZGVcbiAgICovXG4gIGFzeW5jIGRpc2FibGUoZm9yY2VTdG9wOiBib29sZWFuID0gZmFsc2UpIHtcbiAgICB0aGlzLnN0YXRlLnByZXZTdGF0dXMgPSB0aGlzLnN0YXRlLm9wdGltaXN0aWNTdGF0dXM7XG4gICAgaWYgKCFmb3JjZVN0b3AgJiYgdGhpcy5zdGF0ZS5vcHRpbWlzdGljU3RhdHVzID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5zZXRQZW5kaW5nU3RhdHVzKCdkaXNhYmxlZCcpO1xuXG4gICAgYXdhaXQgd2l0aENhbmNlbGxhdGlvbih0aGlzLnN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoc2lnbmFsKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdG9wVHJhY2tzID1cbiAgICAgICAgICBmb3JjZVN0b3AgfHwgdGhpcy5zdGF0ZS5kaXNhYmxlTW9kZSA9PT0gJ3N0b3AtdHJhY2tzJztcbiAgICAgICAgYXdhaXQgdGhpcy5tdXRlU3RyZWFtKHN0b3BUcmFja3MpO1xuICAgICAgICB0aGlzLnN0YXRlLnNldFN0YXR1cygnZGlzYWJsZWQnKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGlmICghc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXModGhpcy5zdGF0ZS5zdGF0dXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBwZVxuICAgKi9cbiAgYXN5bmMgc3RhdHVzQ2hhbmdlU2V0dGxlZCgpIHtcbiAgICBhd2FpdCBzZXR0bGVkKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcpO1xuICB9XG5cbiAgLyoqXG4gICAqIElmIHN0YXR1cyB3YXMgcHJldmlvdXNseSBlbmFibGVkLCBpdCB3aWxsIHJlLWVuYWJsZSB0aGUgZGV2aWNlLlxuICAgKi9cbiAgYXN5bmMgcmVzdW1lKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUucHJldlN0YXR1cyA9PT0gJ2VuYWJsZWQnICYmXG4gICAgICB0aGlzLnN0YXRlLnN0YXR1cyAhPT0gJ2VuYWJsZWQnXG4gICAgKSB7XG4gICAgICBhd2FpdCB0aGlzLmVuYWJsZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJZiB0aGUgY3VycmVudCBkZXZpY2Ugc3RhdHVzIGlzIGRpc2FibGVkLCBpdCB3aWxsIGVuYWJsZSB0aGUgZGV2aWNlLFxuICAgKiBlbHNlIGl0IHdpbGwgZGlzYWJsZSBpdC5cbiAgICovXG4gIGFzeW5jIHRvZ2dsZSgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZS5vcHRpbWlzdGljU3RhdHVzID09PSAnZW5hYmxlZCcpIHtcbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLmRpc2FibGUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhIGZpbHRlciB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgc3RyZWFtLlxuICAgKlxuICAgKiBUaGUgcmVnaXN0ZXJlZCBmaWx0ZXIgd2lsbCBnZXQgdGhlIGV4aXN0aW5nIHN0cmVhbSwgYW5kIGl0IHNob3VsZCByZXR1cm5cbiAgICogYSBuZXcgc3RyZWFtIHdpdGggdGhlIGFwcGxpZWQgZmlsdGVyLlxuICAgKlxuICAgKiBAcGFyYW0gZmlsdGVyIHRoZSBmaWx0ZXIgdG8gcmVnaXN0ZXIuXG4gICAqIEByZXR1cm5zIE1lZGlhU3RyZWFtRmlsdGVyUmVnaXN0cmF0aW9uUmVzdWx0XG4gICAqL1xuICByZWdpc3RlckZpbHRlcihcbiAgICBmaWx0ZXI6IE1lZGlhU3RyZWFtRmlsdGVyLFxuICApOiBNZWRpYVN0cmVhbUZpbHRlclJlZ2lzdHJhdGlvblJlc3VsdCB7XG4gICAgY29uc3QgZW50cnk6IE1lZGlhU3RyZWFtRmlsdGVyRW50cnkgPSB7XG4gICAgICBzdGFydDogZmlsdGVyLFxuICAgICAgc3RvcDogdW5kZWZpbmVkLFxuICAgIH07XG4gICAgdGhpcy5jYWxsLnRyYWNlci50cmFjZShgcmVnaXN0ZXJGaWx0ZXIuJHtUcmFja1R5cGVbdGhpcy50cmFja1R5cGVdfWAsIG51bGwpO1xuICAgIGNvbnN0IHJlZ2lzdGVyZWQgPSB3aXRob3V0Q29uY3VycmVuY3koXG4gICAgICB0aGlzLmZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnLFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCBzZXR0bGVkKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcpO1xuICAgICAgICB0aGlzLmZpbHRlcnMucHVzaChlbnRyeSk7XG4gICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgICB9LFxuICAgICk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVnaXN0ZXJlZCxcbiAgICAgIHVucmVnaXN0ZXI6ICgpID0+XG4gICAgICAgIHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLmZpbHRlclJlZ2lzdHJhdGlvbkNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgc2V0dGxlZCh0aGlzLnN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnKTtcbiAgICAgICAgICBlbnRyeS5zdG9wPy4oKTtcbiAgICAgICAgICB0aGlzLmZpbHRlcnMgPSB0aGlzLmZpbHRlcnMuZmlsdGVyKChmKSA9PiBmICE9PSBlbnRyeSk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5hcHBseVNldHRpbmdzVG9TdHJlYW0oKTtcbiAgICAgICAgfSksXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIHNldCB0aGUgZGVmYXVsdCBjb25zdHJhaW50cyBmb3IgdGhlIGRldmljZS5cbiAgICpcbiAgICogQHBhcmFtIGNvbnN0cmFpbnRzIHRoZSBjb25zdHJhaW50cyB0byBzZXQuXG4gICAqL1xuICBzZXREZWZhdWx0Q29uc3RyYWludHMoY29uc3RyYWludHM6IEMpIHtcbiAgICB0aGlzLnN0YXRlLnNldERlZmF1bHRDb25zdHJhaW50cyhjb25zdHJhaW50cyk7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0cyBhIGRldmljZS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICogQHBhcmFtIGRldmljZUlkIHRoZSBkZXZpY2UgaWQgdG8gc2VsZWN0LlxuICAgKi9cbiAgYXN5bmMgc2VsZWN0KGRldmljZUlkOiBzdHJpbmcgfCB1bmRlZmluZWQpIHtcbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdUaGlzIG1ldGhvZCBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgcmVmZXJlbmNlLicsXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBwcmV2RGV2aWNlSWQgPSB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlO1xuICAgIGlmIChkZXZpY2VJZCA9PT0gcHJldkRldmljZUlkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aGlzLnN0YXRlLnNldERldmljZShkZXZpY2VJZCk7XG4gICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLnN0YXRlLnNldERldmljZShwcmV2RGV2aWNlSWQpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSBtYW5hZ2VyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKHMpID0+IHMoKSk7XG4gIH07XG5cbiAgcHJvdGVjdGVkIGFzeW5jIGFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpIHtcbiAgICBhd2FpdCB3aXRoQ2FuY2VsbGF0aW9uKHRoaXMuc3RhdHVzQ2hhbmdlQ29uY3VycmVuY3lUYWcsIGFzeW5jIChzaWduYWwpID0+IHtcbiAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBhd2FpdCB0aGlzLm11dGVTdHJlYW0oKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFN0YXR1cygnZGlzYWJsZWQnKTtcblxuICAgICAgICAgIGlmIChzaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF3YWl0IHRoaXMudW5tdXRlU3RyZWFtKCk7XG4gICAgICAgICAgdGhpcy5zdGF0ZS5zZXRTdGF0dXMoJ2VuYWJsZWQnKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICBpZiAoIXNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLnNldFBlbmRpbmdTdGF0dXModGhpcy5zdGF0ZS5zdGF0dXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldERldmljZXMoKTogT2JzZXJ2YWJsZTxNZWRpYURldmljZUluZm9bXT47XG5cbiAgcHJvdGVjdGVkIGFic3RyYWN0IGdldFN0cmVhbShjb25zdHJhaW50czogQyk6IFByb21pc2U8TWVkaWFTdHJlYW0+O1xuXG4gIHByb3RlY3RlZCBwdWJsaXNoU3RyZWFtKHN0cmVhbTogTWVkaWFTdHJlYW0pOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5jYWxsLnB1Ymxpc2goc3RyZWFtLCB0aGlzLnRyYWNrVHlwZSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgc3RvcFB1Ymxpc2hTdHJlYW0oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuY2FsbC5zdG9wUHVibGlzaCh0aGlzLnRyYWNrVHlwZSk7XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0VHJhY2tzKCk6IE1lZGlhU3RyZWFtVHJhY2tbXSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUubWVkaWFTdHJlYW0/LmdldFRyYWNrcygpID8/IFtdO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIG11dGVTdHJlYW0oc3RvcFRyYWNrczogYm9vbGVhbiA9IHRydWUpIHtcbiAgICBjb25zdCBtZWRpYVN0cmVhbSA9IHRoaXMuc3RhdGUubWVkaWFTdHJlYW07XG4gICAgaWYgKCFtZWRpYVN0cmVhbSkgcmV0dXJuO1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGAke3N0b3BUcmFja3MgPyAnU3RvcHBpbmcnIDogJ0Rpc2FibGluZyd9IHN0cmVhbWApO1xuICAgIGlmICh0aGlzLmNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSB7XG4gICAgICBhd2FpdCB0aGlzLnN0b3BQdWJsaXNoU3RyZWFtKCk7XG4gICAgfVxuICAgIHRoaXMubXV0ZUxvY2FsU3RyZWFtKHN0b3BUcmFja3MpO1xuICAgIGNvbnN0IGFsbEVuZGVkID0gdGhpcy5nZXRUcmFja3MoKS5ldmVyeSgodCkgPT4gdC5yZWFkeVN0YXRlID09PSAnZW5kZWQnKTtcbiAgICBpZiAoYWxsRW5kZWQpIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgcmVsZWFzZSgpIGlzIHByZXNlbnQgaW4gcmVhY3QtbmF0aXZlLXdlYnJ0Y1xuICAgICAgaWYgKHR5cGVvZiBtZWRpYVN0cmVhbS5yZWxlYXNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2FsbGVkIHRvIGRpc3Bvc2UgdGhlIHN0cmVhbSBpbiBSTlxuICAgICAgICBtZWRpYVN0cmVhbS5yZWxlYXNlKCk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0YXRlLnNldE1lZGlhU3RyZWFtKHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgIHRoaXMuZmlsdGVycy5mb3JFYWNoKChlbnRyeSkgPT4gZW50cnkuc3RvcD8uKCkpO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZGlzYWJsZVRyYWNrcygpIHtcbiAgICB0aGlzLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICBpZiAodHJhY2suZW5hYmxlZCkgdHJhY2suZW5hYmxlZCA9IGZhbHNlO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBlbmFibGVUcmFja3MoKSB7XG4gICAgdGhpcy5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgaWYgKCF0cmFjay5lbmFibGVkKSB0cmFjay5lbmFibGVkID0gdHJ1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc3RvcFRyYWNrcygpIHtcbiAgICB0aGlzLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICBpZiAodHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnKSB0cmFjay5zdG9wKCk7XG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIG11dGVMb2NhbFN0cmVhbShzdG9wVHJhY2tzOiBib29sZWFuKSB7XG4gICAgaWYgKCF0aGlzLnN0YXRlLm1lZGlhU3RyZWFtKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChzdG9wVHJhY2tzKSB7XG4gICAgICB0aGlzLnN0b3BUcmFja3MoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5kaXNhYmxlVHJhY2tzKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIHVubXV0ZVN0cmVhbSgpIHtcbiAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnU3RhcnRpbmcgc3RyZWFtJyk7XG4gICAgbGV0IHN0cmVhbTogTWVkaWFTdHJlYW07XG4gICAgbGV0IHJvb3RTdHJlYW06IFByb21pc2U8TWVkaWFTdHJlYW0+IHwgdW5kZWZpbmVkO1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUubWVkaWFTdHJlYW0gJiZcbiAgICAgIHRoaXMuZ2V0VHJhY2tzKCkuZXZlcnkoKHQpID0+IHQucmVhZHlTdGF0ZSA9PT0gJ2xpdmUnKVxuICAgICkge1xuICAgICAgc3RyZWFtID0gdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgIHRoaXMuZW5hYmxlVHJhY2tzKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRlZmF1bHRDb25zdHJhaW50cyA9IHRoaXMuc3RhdGUuZGVmYXVsdENvbnN0cmFpbnRzO1xuICAgICAgY29uc3QgY29uc3RyYWludHM6IE1lZGlhVHJhY2tDb25zdHJhaW50cyA9IHtcbiAgICAgICAgLi4uZGVmYXVsdENvbnN0cmFpbnRzLFxuICAgICAgICBkZXZpY2VJZDogdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZVxuICAgICAgICAgID8geyBleGFjdDogdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSB9XG4gICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIENoYWlucyB0d28gbWVkaWEgc3RyZWFtcyB0b2dldGhlci5cbiAgICAgICAqXG4gICAgICAgKiBJbiBvdXIgY2FzZSwgZmlsdGVycyBNZWRpYVN0cmVhbXMgYXJlIGRlcml2ZWQgZnJvbSB0aGVpciBwYXJlbnQgTWVkaWFTdHJlYW0uXG4gICAgICAgKiBIb3dldmVyLCBvbmNlIGEgY2hpbGQgZmlsdGVyJ3MgdHJhY2sgaXMgc3RvcHBlZCxcbiAgICAgICAqIHRoZSB0cmFja3Mgb2YgdGhlIHBhcmVudCBNZWRpYVN0cmVhbSBhcmVuJ3QgYXV0b21hdGljYWxseSBzdG9wcGVkLlxuICAgICAgICogVGhpcyBsZWFkcyB0byBhIHNpdHVhdGlvbiB3aGVyZSB0aGUgY2FtZXJhIGluZGljYXRvciBsaWdodCBpcyBzdGlsbCBvblxuICAgICAgICogZXZlbiB0aG91Z2ggdGhlIHVzZXIgc3RvcHBlZCBwdWJsaXNoaW5nIHZpZGVvLlxuICAgICAgICpcbiAgICAgICAqIFRoaXMgZnVuY3Rpb24gd29ya3MgYXJvdW5kIHRoaXMgaXNzdWUgYnkgc3RvcHBpbmcgdGhlIHBhcmVudCBNZWRpYVN0cmVhbSdzIHRyYWNrc1xuICAgICAgICogYXMgd2VsbCBvbmNlIHRoZSBjaGlsZCBmaWx0ZXIncyB0cmFja3MgYXJlIHN0b3BwZWQuXG4gICAgICAgKlxuICAgICAgICogSXQgd29ya3MgYnkgcGF0Y2hpbmcgdGhlIHN0b3AoKSBtZXRob2Qgb2YgdGhlIGNoaWxkIGZpbHRlcidzIHRyYWNrcyB0byBhbHNvIHN0b3BcbiAgICAgICAqIHRoZSBwYXJlbnQgTWVkaWFTdHJlYW0ncyB0cmFja3Mgb2YgdGhlIHNhbWUgdHlwZS4gSGVyZSB3ZSBhc3N1bWUgdGhhdFxuICAgICAgICogdGhlIHBhcmVudCBNZWRpYVN0cmVhbSBoYXMgb25seSBvbmUgdHJhY2sgb2YgZWFjaCB0eXBlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBwYXJlbnRTdHJlYW0gdGhlIHBhcmVudCBNZWRpYVN0cmVhbS4gT21pdCBmb3IgdGhlIHJvb3Qgc3RyZWFtLlxuICAgICAgICovXG4gICAgICBjb25zdCBjaGFpbldpdGggPVxuICAgICAgICAocGFyZW50U3RyZWFtPzogUHJvbWlzZTxNZWRpYVN0cmVhbT4pID0+XG4gICAgICAgIGFzeW5jIChmaWx0ZXJTdHJlYW06IE1lZGlhU3RyZWFtKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4gPT4ge1xuICAgICAgICAgIGlmICghcGFyZW50U3RyZWFtKSByZXR1cm4gZmlsdGVyU3RyZWFtO1xuICAgICAgICAgIC8vIFRPRE8gT0w6IHRha2UgY2FyZSBvZiB0cmFjay5lbmFibGVkIHByb3BlcnR5IGFzIHdlbGxcbiAgICAgICAgICBjb25zdCBwYXJlbnQgPSBhd2FpdCBwYXJlbnRTdHJlYW07XG4gICAgICAgICAgZmlsdGVyU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvcmlnaW5hbFN0b3AgPSB0cmFjay5zdG9wO1xuICAgICAgICAgICAgdHJhY2suc3RvcCA9IGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgICAgICAgICAgIG9yaWdpbmFsU3RvcC5jYWxsKHRyYWNrKTtcbiAgICAgICAgICAgICAgcGFyZW50LmdldFRyYWNrcygpLmZvckVhY2goKHBhcmVudFRyYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYWNrLmtpbmQgPT09IHRyYWNrLmtpbmQpIHtcbiAgICAgICAgICAgICAgICAgIHBhcmVudFRyYWNrLnN0b3AoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHBhcmVudC5nZXRUcmFja3MoKS5mb3JFYWNoKChwYXJlbnRUcmFjaykgPT4ge1xuICAgICAgICAgICAgLy8gV2hlbiB0aGUgcGFyZW50IHN0cmVhbSBhYnJ1cHRseSBlbmRzLCB3ZSBwcm9wYWdhdGUgdGhlIGV2ZW50XG4gICAgICAgICAgICAvLyB0byB0aGUgZmlsdGVyIHN0cmVhbS5cbiAgICAgICAgICAgIC8vIFRoaXMgdXN1YWxseSBoYXBwZW5zIHdoZW4gdGhlIGNhbWVyYS9taWNyb3Bob25lIHBlcm1pc3Npb25zXG4gICAgICAgICAgICAvLyBhcmUgcmV2b2tlZCBvciB3aGVuIHRoZSBkZXZpY2UgaXMgZGlzY29ubmVjdGVkLlxuICAgICAgICAgICAgY29uc3QgaGFuZGxlUGFyZW50VHJhY2tFbmRlZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgZmlsdGVyU3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFRyYWNrLmtpbmQgIT09IHRyYWNrLmtpbmQpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgICAgICAgICAgdHJhY2suZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2VuZGVkJykpOyAvLyBwcm9wYWdhdGUgdGhlIGV2ZW50XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHBhcmVudFRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlUGFyZW50VHJhY2tFbmRlZCk7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICAgIHBhcmVudFRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlUGFyZW50VHJhY2tFbmRlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHJldHVybiBmaWx0ZXJTdHJlYW07XG4gICAgICAgIH07XG5cbiAgICAgIC8vIHRoZSByb290U3RyZWFtIHJlcHJlc2VudHMgdGhlIHN0cmVhbSBjb21pbmcgZnJvbSB0aGUgYWN0dWFsIGRldmljZVxuICAgICAgLy8gZS5nLiBjYW1lcmEgb3IgbWljcm9waG9uZSBzdHJlYW1cbiAgICAgIHJvb3RTdHJlYW0gPSB0aGlzLmdldFN0cmVhbShjb25zdHJhaW50cyBhcyBDKTtcbiAgICAgIC8vIHdlIHB1Ymxpc2ggdGhlIGxhc3QgTWVkaWFTdHJlYW0gb2YgdGhlIGNoYWluXG4gICAgICBzdHJlYW0gPSBhd2FpdCB0aGlzLmZpbHRlcnMucmVkdWNlKFxuICAgICAgICAocGFyZW50LCBlbnRyeSkgPT5cbiAgICAgICAgICBwYXJlbnRcbiAgICAgICAgICAgIC50aGVuKChpbnB1dFN0cmVhbSkgPT4ge1xuICAgICAgICAgICAgICBjb25zdCB7IHN0b3AsIG91dHB1dCB9ID0gZW50cnkuc3RhcnQoaW5wdXRTdHJlYW0pO1xuICAgICAgICAgICAgICBlbnRyeS5zdG9wID0gc3RvcDtcbiAgICAgICAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihjaGFpbldpdGgocGFyZW50KSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgICAnRmlsdGVyIGZhaWxlZCB0byBzdGFydCBhbmQgd2lsbCBiZSBpZ25vcmVkJyxcbiAgICAgICAgICAgICAgICBlcnJvcixcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICAgICAgICAgIH0pLFxuICAgICAgICByb290U3RyZWFtLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHtcbiAgICAgIGF3YWl0IHRoaXMucHVibGlzaFN0cmVhbShzdHJlYW0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5zdGF0ZS5tZWRpYVN0cmVhbSAhPT0gc3RyZWFtKSB7XG4gICAgICB0aGlzLnN0YXRlLnNldE1lZGlhU3RyZWFtKHN0cmVhbSwgYXdhaXQgcm9vdFN0cmVhbSk7XG4gICAgICBjb25zdCBoYW5kbGVUcmFja0VuZGVkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgIHRoaXMuaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kID0gdHJ1ZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kID0gZmFsc2U7XG4gICAgICAgICAgfSwgMjAwMCk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kaXNhYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBjb25zdCBjcmVhdGVUcmFja011dGVIYW5kbGVyID0gKG11dGVkOiBib29sZWFuKSA9PiAoKSA9PiB7XG4gICAgICAgIGlmICghaXNNb2JpbGUoKSB8fCB0aGlzLnRyYWNrVHlwZSAhPT0gVHJhY2tUeXBlLlZJREVPKSByZXR1cm47XG4gICAgICAgIHRoaXMuY2FsbC5ub3RpZnlUcmFja011dGVTdGF0ZShtdXRlZCwgdGhpcy50cmFja1R5cGUpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdFcnJvciB3aGlsZSBub3RpZnlpbmcgdHJhY2sgbXV0ZSBzdGF0ZScsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICBjb25zdCBtdXRlSGFuZGxlciA9IGNyZWF0ZVRyYWNrTXV0ZUhhbmRsZXIodHJ1ZSk7XG4gICAgICAgIGNvbnN0IHVubXV0ZUhhbmRsZXIgPSBjcmVhdGVUcmFja011dGVIYW5kbGVyKGZhbHNlKTtcbiAgICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcignbXV0ZScsIG11dGVIYW5kbGVyKTtcbiAgICAgICAgdHJhY2suYWRkRXZlbnRMaXN0ZW5lcigndW5tdXRlJywgdW5tdXRlSGFuZGxlcik7XG4gICAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlVHJhY2tFbmRlZCk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKCgpID0+IHtcbiAgICAgICAgICB0cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKCdtdXRlJywgbXV0ZUhhbmRsZXIpO1xuICAgICAgICAgIHRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3VubXV0ZScsIHVubXV0ZUhhbmRsZXIpO1xuICAgICAgICAgIHRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VuZGVkJywgaGFuZGxlVHJhY2tFbmRlZCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBnZXQgbWVkaWFEZXZpY2VLaW5kKCkge1xuICAgIGlmICh0aGlzLnRyYWNrVHlwZSA9PT0gVHJhY2tUeXBlLkFVRElPKSB7XG4gICAgICByZXR1cm4gJ2F1ZGlvaW5wdXQnO1xuICAgIH1cbiAgICBpZiAodGhpcy50cmFja1R5cGUgPT09IFRyYWNrVHlwZS5WSURFTykge1xuICAgICAgcmV0dXJuICd2aWRlb2lucHV0JztcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVEaXNjb25uZWN0ZWRPclJlcGxhY2VkRGV2aWNlcygpIHtcbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgICAgY29tYmluZUxhdGVzdChbXG4gICAgICAgICAgZGV2aWNlSWRzJCEucGlwZShwYWlyd2lzZSgpKSxcbiAgICAgICAgICB0aGlzLnN0YXRlLnNlbGVjdGVkRGV2aWNlJCxcbiAgICAgICAgXSksXG4gICAgICAgIGFzeW5jIChbW3ByZXZEZXZpY2VzLCBjdXJyZW50RGV2aWNlc10sIGRldmljZUlkXSkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIWRldmljZUlkKSByZXR1cm47XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcblxuICAgICAgICAgICAgbGV0IGlzRGV2aWNlRGlzY29ubmVjdGVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgaXNEZXZpY2VSZXBsYWNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29uc3QgY3VycmVudERldmljZSA9IHRoaXMuZmluZERldmljZShjdXJyZW50RGV2aWNlcywgZGV2aWNlSWQpO1xuICAgICAgICAgICAgY29uc3QgcHJldkRldmljZSA9IHRoaXMuZmluZERldmljZShwcmV2RGV2aWNlcywgZGV2aWNlSWQpO1xuICAgICAgICAgICAgaWYgKCFjdXJyZW50RGV2aWNlICYmIHByZXZEZXZpY2UpIHtcbiAgICAgICAgICAgICAgaXNEZXZpY2VEaXNjb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgY3VycmVudERldmljZSAmJlxuICAgICAgICAgICAgICBwcmV2RGV2aWNlICYmXG4gICAgICAgICAgICAgIGN1cnJlbnREZXZpY2UuZGV2aWNlSWQgPT09IHByZXZEZXZpY2UuZGV2aWNlSWQgJiZcbiAgICAgICAgICAgICAgY3VycmVudERldmljZS5ncm91cElkICE9PSBwcmV2RGV2aWNlLmdyb3VwSWRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBpc0RldmljZVJlcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzRGV2aWNlRGlzY29ubmVjdGVkKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnNlbGVjdCh1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzRGV2aWNlUmVwbGFjZWQpIHtcbiAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgIHRoaXMuaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kICYmXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdkaXNhYmxlZCdcbiAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5lbmFibGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmlzVHJhY2tTdG9wcGVkRHVlVG9UcmFja0VuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBwbHlTZXR0aW5nc1RvU3RyZWFtKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAgICdVbmV4cGVjdGVkIGVycm9yIHdoaWxlIGhhbmRsaW5nIGRpc2Nvbm5lY3RlZCBvciByZXBsYWNlZCBkZXZpY2UnLFxuICAgICAgICAgICAgICBlcnIsXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZmluZERldmljZShkZXZpY2VzOiBNZWRpYURldmljZUluZm9bXSwgZGV2aWNlSWQ6IHN0cmluZykge1xuICAgIGNvbnN0IGtpbmQgPSB0aGlzLm1lZGlhRGV2aWNlS2luZDtcbiAgICByZXR1cm4gZGV2aWNlcy5maW5kKChkKSA9PiBkLmRldmljZUlkID09PSBkZXZpY2VJZCAmJiBkLmtpbmQgPT09IGtpbmQpO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBCZWhhdmlvclN1YmplY3QsXG4gIGRpc3RpbmN0VW50aWxDaGFuZ2VkLFxuICBPYnNlcnZhYmxlLFxuICBvZixcbiAgc2hhcmVSZXBsYXksXG59IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUnhVdGlscyB9IGZyb20gJy4uL3N0b3JlJztcbmltcG9ydCB7IEJyb3dzZXJQZXJtaXNzaW9uLCBCcm93c2VyUGVybWlzc2lvblN0YXRlIH0gZnJvbSAnLi9Ccm93c2VyUGVybWlzc2lvbic7XG5cbmV4cG9ydCB0eXBlIElucHV0RGV2aWNlU3RhdHVzID0gJ2VuYWJsZWQnIHwgJ2Rpc2FibGVkJyB8IHVuZGVmaW5lZDtcbmV4cG9ydCB0eXBlIFRyYWNrRGlzYWJsZU1vZGUgPSAnc3RvcC10cmFja3MnIHwgJ2Rpc2FibGUtdHJhY2tzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGU8QyA9IE1lZGlhVHJhY2tDb25zdHJhaW50cz4ge1xuICBwcm90ZWN0ZWQgc3RhdHVzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8SW5wdXREZXZpY2VTdGF0dXM+KHVuZGVmaW5lZCk7XG4gIHByb3RlY3RlZCBvcHRpbWlzdGljU3RhdHVzU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8SW5wdXREZXZpY2VTdGF0dXM+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJvdGVjdGVkIG1lZGlhU3RyZWFtU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8TWVkaWFTdHJlYW0gfCB1bmRlZmluZWQ+KFxuICAgIHVuZGVmaW5lZCxcbiAgKTtcbiAgcHJvdGVjdGVkIHNlbGVjdGVkRGV2aWNlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG4gIHByb3RlY3RlZCBkZWZhdWx0Q29uc3RyYWludHNTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxDIHwgdW5kZWZpbmVkPihcbiAgICB1bmRlZmluZWQsXG4gICk7XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJldlN0YXR1czogSW5wdXREZXZpY2VTdGF0dXM7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudCBtZWRpYSBzdHJlYW0sIG9yIGB1bmRlZmluZWRgIGlmIHRoZSBkZXZpY2UgaXMgY3VycmVudGx5IGRpc2FibGVkLlxuICAgKlxuICAgKi9cbiAgbWVkaWFTdHJlYW0kID0gdGhpcy5tZWRpYVN0cmVhbVN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGRldmljZVxuICAgKi9cbiAgc2VsZWN0ZWREZXZpY2UkID0gdGhpcy5zZWxlY3RlZERldmljZVN1YmplY3RcbiAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBkZXZpY2Ugc3RhdHVzXG4gICAqL1xuICBzdGF0dXMkID0gdGhpcy5zdGF0dXNTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhlIHJlZmxlY3RzIHRoZSByZXF1ZXN0ZWQgZGV2aWNlIHN0YXR1cy4gVXNlZnVsIGZvciBvcHRpbWlzdGljIFVJc1xuICAgKi9cbiAgb3B0aW1pc3RpY1N0YXR1cyQgPSB0aGlzLm9wdGltaXN0aWNTdGF0dXNTdWJqZWN0XG4gICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG5cbiAgLyoqXG4gICAqIFRoZSBkZWZhdWx0IGNvbnN0cmFpbnRzIGZvciB0aGUgZGV2aWNlLlxuICAgKi9cbiAgZGVmYXVsdENvbnN0cmFpbnRzJCA9IHRoaXMuZGVmYXVsdENvbnN0cmFpbnRzU3ViamVjdC5hc09ic2VydmFibGUoKTtcblxuICAvKipcbiAgICogQW4gb2JzZXJ2YWJsZSB0aGF0IHdpbGwgZW1pdCBgdHJ1ZWAgaWYgYnJvd3Nlci9zeXN0ZW0gcGVybWlzc2lvblxuICAgKiBpcyBncmFudGVkIChvciBhdCBsZWFzdCBoYXNuJ3QgYmVlbiBkZW5pZWQpLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICovXG4gIGhhc0Jyb3dzZXJQZXJtaXNzaW9uJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAvKipcbiAgICogQW4gb2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHdpdGggYnJvd3NlciBwZXJtaXNzaW9uIHN0YXRlIGNoYW5nZXMuXG4gICAqIEdpdmVzIG1vcmUgZ3JhbnVsYXIgdmlzaWJsaXR5IHRoYW4gaGFzQnJvd3NlclBlcm1pc3Npb24kLlxuICAgKi9cbiAgYnJvd3NlclBlcm1pc3Npb25TdGF0ZSQ6IE9ic2VydmFibGU8QnJvd3NlclBlcm1pc3Npb25TdGF0ZT47XG5cbiAgLyoqXG4gICAqIEFuIG9ic2VydmFibGUgdGhhdCBlbWl0cyBgdHJ1ZWAgd2hlbiBTREsgaXMgcHJvbXB0aW5nIGZvciBicm93c2VyIHBlcm1pc3Npb25cbiAgICogKGkuZS4gYnJvd3NlcidzIFVJIGZvciBhbGxvd2luZyBvciBkaXNhbGxvd2luZyBkZXZpY2UgYWNjZXNzIGlzIHZpc2libGUpXG4gICAqL1xuICBpc1Byb21wdGluZ1Blcm1pc3Npb24kOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIG5ldyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIGluc3RhbmNlLlxuICAgKlxuICAgKiBAcGFyYW0gZGlzYWJsZU1vZGUgdGhlIGRpc2FibGUgbW9kZSB0byB1c2UuXG4gICAqIEBwYXJhbSBwZXJtaXNzaW9uIHRoZSBCcm93c2VyUGVybWlzc2lvbiB0byB1c2UgZm9yIHF1ZXJ5aW5nLlxuICAgKiBgdW5kZWZpbmVkYCBtZWFucyBubyBwZXJtaXNzaW9uIGlzIHJlcXVpcmVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoXG4gICAgcHVibGljIHJlYWRvbmx5IGRpc2FibGVNb2RlOiBUcmFja0Rpc2FibGVNb2RlID0gJ3N0b3AtdHJhY2tzJyxcbiAgICBwZXJtaXNzaW9uPzogQnJvd3NlclBlcm1pc3Npb24sXG4gICkge1xuICAgIHRoaXMuaGFzQnJvd3NlclBlcm1pc3Npb24kID0gcGVybWlzc2lvblxuICAgICAgPyBwZXJtaXNzaW9uLmFzT2JzZXJ2YWJsZSgpLnBpcGUoc2hhcmVSZXBsYXkoMSkpXG4gICAgICA6IG9mKHRydWUpO1xuXG4gICAgdGhpcy5icm93c2VyUGVybWlzc2lvblN0YXRlJCA9IHBlcm1pc3Npb25cbiAgICAgID8gcGVybWlzc2lvbi5hc1N0YXRlT2JzZXJ2YWJsZSgpLnBpcGUoc2hhcmVSZXBsYXkoMSkpXG4gICAgICA6IG9mKCdwcm9tcHQnKTtcblxuICAgIHRoaXMuaXNQcm9tcHRpbmdQZXJtaXNzaW9uJCA9IHBlcm1pc3Npb25cbiAgICAgID8gcGVybWlzc2lvbi5nZXRJc1Byb21wdGluZ09ic2VydmFibGUoKS5waXBlKHNoYXJlUmVwbGF5KDEpKVxuICAgICAgOiBvZihmYWxzZSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGRldmljZSBzdGF0dXNcbiAgICovXG4gIGdldCBzdGF0dXMoKSB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuc3RhdHVzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHJlcXVlc3RlZCBkZXZpY2Ugc3RhdHVzLiBVc2VmdWwgZm9yIG9wdGltaXN0aWMgVUlzXG4gICAqL1xuICBnZXQgb3B0aW1pc3RpY1N0YXR1cygpIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5vcHRpbWlzdGljU3RhdHVzJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBzZWxlY3RlZCBkZXZpY2VcbiAgICovXG4gIGdldCBzZWxlY3RlZERldmljZSgpIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5zZWxlY3RlZERldmljZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IG1lZGlhIHN0cmVhbSwgb3IgYHVuZGVmaW5lZGAgaWYgdGhlIGRldmljZSBpcyBjdXJyZW50bHkgZGlzYWJsZWQuXG4gICAqL1xuICBnZXQgbWVkaWFTdHJlYW0oKSB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMubWVkaWFTdHJlYW0kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHBhcmFtIHN0YXR1c1xuICAgKi9cbiAgc2V0U3RhdHVzKHN0YXR1czogSW5wdXREZXZpY2VTdGF0dXMpIHtcbiAgICBSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSh0aGlzLnN0YXR1c1N1YmplY3QsIHN0YXR1cyk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBwZW5kaW5nU3RhdHVzXG4gICAqL1xuICBzZXRQZW5kaW5nU3RhdHVzKHBlbmRpbmdTdGF0dXM6IElucHV0RGV2aWNlU3RhdHVzKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5vcHRpbWlzdGljU3RhdHVzU3ViamVjdCwgcGVuZGluZ1N0YXR1cyk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgYG1lZGlhU3RyZWFtYCBzdGF0ZSB2YXJpYWJsZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzdHJlYW0gdGhlIHN0cmVhbSB0byBzZXQuXG4gICAqIEBwYXJhbSByb290U3RyZWFtIHRoZSByb290IHN0cmVhbSwgYXBwbGljYWJsZSB3aGVuIGZpbHRlcnMgYXJlIHVzZWRcbiAgICogYXMgdGhpcyBpcyB0aGUgc3RyZWFtIHRoYXQgaG9sZHMgdGhlIGFjdHVhbCBkZXZpY2VJZCBpbmZvcm1hdGlvbi5cbiAgICovXG4gIHNldE1lZGlhU3RyZWFtKFxuICAgIHN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQsXG4gICAgcm9vdFN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQsXG4gICkge1xuICAgIFJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlKHRoaXMubWVkaWFTdHJlYW1TdWJqZWN0LCBzdHJlYW0pO1xuICAgIGlmIChyb290U3RyZWFtKSB7XG4gICAgICB0aGlzLnNldERldmljZSh0aGlzLmdldERldmljZUlkRnJvbVN0cmVhbShyb290U3RyZWFtKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gZGV2aWNlSWQgdGhlIGRldmljZSBpZCB0byBzZXQuXG4gICAqL1xuICBzZXREZXZpY2UoZGV2aWNlSWQ6IHN0cmluZyB8IHVuZGVmaW5lZCkge1xuICAgIFJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlKHRoaXMuc2VsZWN0ZWREZXZpY2VTdWJqZWN0LCBkZXZpY2VJZCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgZGVmYXVsdCBjb25zdHJhaW50cyBmb3IgdGhlIGRldmljZS5cbiAgICovXG4gIGdldCBkZWZhdWx0Q29uc3RyYWludHMoKSB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuZGVmYXVsdENvbnN0cmFpbnRzJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgZGVmYXVsdCBjb25zdHJhaW50cyBmb3IgdGhlIGRldmljZS5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBjb25zdHJhaW50cyB0aGUgY29uc3RyYWludHMgdG8gc2V0LlxuICAgKi9cbiAgc2V0RGVmYXVsdENvbnN0cmFpbnRzKGNvbnN0cmFpbnRzOiBDIHwgdW5kZWZpbmVkKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5kZWZhdWx0Q29uc3RyYWludHNTdWJqZWN0LCBjb25zdHJhaW50cyk7XG4gIH1cblxuICBwcm90ZWN0ZWQgYWJzdHJhY3QgZ2V0RGV2aWNlSWRGcm9tU3RyZWFtKFxuICAgIHN0cmVhbTogTWVkaWFTdHJlYW0sXG4gICk6IHN0cmluZyB8IHVuZGVmaW5lZDtcbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZGlzdGluY3RVbnRpbENoYW5nZWQsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcbmltcG9ydCB7IGdldFZpZGVvQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgUnhVdGlscyB9IGZyb20gJy4uL3N0b3JlJztcblxuZXhwb3J0IHR5cGUgQ2FtZXJhRGlyZWN0aW9uID0gJ2Zyb250JyB8ICdiYWNrJyB8IHVuZGVmaW5lZDtcblxuZXhwb3J0IGNsYXNzIENhbWVyYU1hbmFnZXJTdGF0ZSBleHRlbmRzIElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyU3RhdGUge1xuICBwcml2YXRlIGRpcmVjdGlvblN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PENhbWVyYURpcmVjdGlvbj4odW5kZWZpbmVkKTtcblxuICAvKipcbiAgICogT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBwcmVmZXJyZWQgY2FtZXJhIGRpcmVjdGlvblxuICAgKiBmcm9udCAtIG1lYW5zIHRoZSBjYW1lcmEgZmFjaW5nIHRoZSB1c2VyXG4gICAqIGJhY2sgLSBtZWFucyB0aGUgY2FtZXJhIGZhY2luZyB0aGUgZW52aXJvbm1lbnRcbiAgICovXG4gIGRpcmVjdGlvbiQ6IE9ic2VydmFibGU8Q2FtZXJhRGlyZWN0aW9uPjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignc3RvcC10cmFja3MnLCBnZXRWaWRlb0Jyb3dzZXJQZXJtaXNzaW9uKCkpO1xuICAgIHRoaXMuZGlyZWN0aW9uJCA9IHRoaXMuZGlyZWN0aW9uU3ViamVjdFxuICAgICAgLmFzT2JzZXJ2YWJsZSgpXG4gICAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgcHJlZmVycmVkIGNhbWVyYSBkaXJlY3Rpb25cbiAgICogZnJvbnQgLSBtZWFucyB0aGUgY2FtZXJhIGZhY2luZyB0aGUgdXNlclxuICAgKiBiYWNrIC0gbWVhbnMgdGhlIGNhbWVyYSBmYWNpbmcgdGhlIGVudmlyb25tZW50XG4gICAqL1xuICBnZXQgZGlyZWN0aW9uKCkge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLmRpcmVjdGlvbiQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0RGlyZWN0aW9uKGRpcmVjdGlvbjogQ2FtZXJhRGlyZWN0aW9uKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5kaXJlY3Rpb25TdWJqZWN0LCBkaXJlY3Rpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgc2V0TWVkaWFTdHJlYW0oXG4gICAgc3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZCxcbiAgICByb290U3RyZWFtOiBNZWRpYVN0cmVhbSB8IHVuZGVmaW5lZCxcbiAgKTogdm9pZCB7XG4gICAgc3VwZXIuc2V0TWVkaWFTdHJlYW0oc3RyZWFtLCByb290U3RyZWFtKTtcbiAgICBpZiAoc3RyZWFtKSB7XG4gICAgICAvLyBSTiBnZXRTZXR0aW5ncygpIGRvZXNuJ3QgcmV0dXJuIGZhY2luZ01vZGUsIHNvIHdlIGRvbid0IHZlcmlmeSBjYW1lcmEgZGlyZWN0aW9uXG4gICAgICBjb25zdCBkaXJlY3Rpb24gPSBpc1JlYWN0TmF0aXZlKClcbiAgICAgICAgPyB0aGlzLmRpcmVjdGlvblxuICAgICAgICA6IHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpWzBdPy5nZXRTZXR0aW5ncygpLmZhY2luZ01vZGUgPT09ICdlbnZpcm9ubWVudCdcbiAgICAgICAgICA/ICdiYWNrJ1xuICAgICAgICAgIDogJ2Zyb250JztcbiAgICAgIHRoaXMuc2V0RGlyZWN0aW9uKGRpcmVjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldERldmljZUlkRnJvbVN0cmVhbShzdHJlYW06IE1lZGlhU3RyZWFtKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgcmV0dXJuIHRyYWNrPy5nZXRTZXR0aW5ncygpLmRldmljZUlkO1xuICB9XG59XG4iLCJpbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgeyBDYW1lcmFEaXJlY3Rpb24sIENhbWVyYU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vQ2FtZXJhTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlcic7XG5pbXBvcnQgeyBnZXRWaWRlb0RldmljZXMsIGdldFZpZGVvU3RyZWFtIH0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IE93bkNhcGFiaWxpdHksIFZpZGVvU2V0dGluZ3NSZXNwb25zZSB9IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBUcmFja1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHsgaXNNb2JpbGUgfSBmcm9tICcuLi9oZWxwZXJzL2NvbXBhdGliaWxpdHknO1xuaW1wb3J0IHsgaXNSZWFjdE5hdGl2ZSB9IGZyb20gJy4uL2hlbHBlcnMvcGxhdGZvcm1zJztcblxuZXhwb3J0IGNsYXNzIENhbWVyYU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxDYW1lcmFNYW5hZ2VyU3RhdGU+IHtcbiAgcHJpdmF0ZSB0YXJnZXRSZXNvbHV0aW9uID0ge1xuICAgIHdpZHRoOiAxMjgwLFxuICAgIGhlaWdodDogNzIwLFxuICB9O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RzIGEgbmV3IENhbWVyYU1hbmFnZXIuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsIHRoZSBjYWxsIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHN1cGVyKGNhbGwsIG5ldyBDYW1lcmFNYW5hZ2VyU3RhdGUoKSwgVHJhY2tUeXBlLlZJREVPKTtcbiAgfVxuXG4gIHByaXZhdGUgaXNEaXJlY3Rpb25TdXBwb3J0ZWRCeURldmljZSgpIHtcbiAgICByZXR1cm4gaXNSZWFjdE5hdGl2ZSgpIHx8IGlzTW9iaWxlKCk7XG4gIH1cblxuICAvKipcbiAgICogU2VsZWN0IHRoZSBjYW1lcmEgZGlyZWN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gZGlyZWN0aW9uIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGNhbWVyYSB0byBzZWxlY3QuXG4gICAqL1xuICBhc3luYyBzZWxlY3REaXJlY3Rpb24oZGlyZWN0aW9uOiBFeGNsdWRlPENhbWVyYURpcmVjdGlvbiwgdW5kZWZpbmVkPikge1xuICAgIGlmICghdGhpcy5pc0RpcmVjdGlvblN1cHBvcnRlZEJ5RGV2aWNlKCkpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ1NldHRpbmcgZGlyZWN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gdGhpcyBkZXZpY2UnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBwcm92aWRpbmcgYm90aCBkZXZpY2UgaWQgYW5kIGRpcmVjdGlvbiBkb2Vzbid0IHdvcmssIHNvIHdlIGRlc2VsZWN0IHRoZSBkZXZpY2VcbiAgICB0aGlzLnN0YXRlLnNldERpcmVjdGlvbihkaXJlY3Rpb24pO1xuICAgIHRoaXMuc3RhdGUuc2V0RGV2aWNlKHVuZGVmaW5lZCk7XG5cbiAgICBpZiAoaXNSZWFjdE5hdGl2ZSgpKSB7XG4gICAgICBjb25zdCB2aWRlb1RyYWNrID0gdGhpcy5nZXRUcmFja3MoKVswXSBhcyBNZWRpYVN0cmVhbVRyYWNrIHwgdW5kZWZpbmVkO1xuICAgICAgYXdhaXQgdmlkZW9UcmFjaz8uYXBwbHlDb25zdHJhaW50cyh7XG4gICAgICAgIGZhY2luZ01vZGU6IGRpcmVjdGlvbiA9PT0gJ2Zyb250JyA/ICd1c2VyJyA6ICdlbnZpcm9ubWVudCcsXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB0cmFjay5zdG9wKCkpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLnVubXV0ZVN0cmVhbSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSAnTm90UmVhZGFibGVFcnJvcicpIHtcbiAgICAgICAgLy8gdGhlIGNhbWVyYSBpcyBhbHJlYWR5IGluIHVzZSwgYW5kIHRoZSBkZXZpY2UgY2FuJ3QgdXNlIGl0IHVubGVzcyBpdCdzIHJlbGVhc2VkLlxuICAgICAgICAvLyBpbiB0aGF0IGNhc2UsIHdlIG5lZWQgdG8gc3RvcCB0aGUgc3RyZWFtIGFuZCBzdGFydCBpdCBhZ2Fpbi5cbiAgICAgICAgYXdhaXQgdGhpcy5tdXRlU3RyZWFtKCk7XG4gICAgICAgIGF3YWl0IHRoaXMudW5tdXRlU3RyZWFtKCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmxpcHMgdGhlIGNhbWVyYSBkaXJlY3Rpb246IGlmIGl0J3MgZnJvbnQgaXQgd2lsbCBjaGFuZ2UgdG8gYmFjaywgaWYgaXQncyBiYWNrLCBpdCB3aWxsIGNoYW5nZSB0byBmcm9udC5cbiAgICpcbiAgICogTm90ZTogaWYgdGhlcmUgaXMgbm8gYXZhaWxhYmxlIGNhbWVyYSB3aXRoIHRoZSBkZXNpcmVkIGRpcmVjdGlvbiwgdGhpcyBtZXRob2Qgd2lsbCBkbyBub3RoaW5nLlxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgYXN5bmMgZmxpcCgpIHtcbiAgICBjb25zdCBuZXdEaXJlY3Rpb24gPSB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gJ2Zyb250JyA/ICdiYWNrJyA6ICdmcm9udCc7XG4gICAgYXdhaXQgdGhpcy5zZWxlY3REaXJlY3Rpb24obmV3RGlyZWN0aW9uKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFzeW5jIHNlbGVjdFRhcmdldFJlc29sdXRpb24ocmVzb2x1dGlvbjogeyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9KSB7XG4gICAgdGhpcy50YXJnZXRSZXNvbHV0aW9uLmhlaWdodCA9IHJlc29sdXRpb24uaGVpZ2h0O1xuICAgIHRoaXMudGFyZ2V0UmVzb2x1dGlvbi53aWR0aCA9IHJlc29sdXRpb24ud2lkdGg7XG4gICAgaWYgKHRoaXMuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIGNvdWxkbid0IGVuYWJsZSBkZXZpY2UsIHRhcmdldCByZXNvbHV0aW9uIHdpbGwgYmUgYXBwbGllZCB0aGUgbmV4dCB0aW1lIHVzZXIgYXR0ZW1wdHMgdG8gc3RhcnQgdGhlIGRldmljZVxuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdjb3VsZCBub3QgYXBwbHkgdGFyZ2V0IHJlc29sdXRpb24nLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICh0aGlzLmVuYWJsZWQgJiYgdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbSkge1xuICAgICAgY29uc3QgW3ZpZGVvVHJhY2tdID0gdGhpcy5zdGF0ZS5tZWRpYVN0cmVhbS5nZXRWaWRlb1RyYWNrcygpO1xuICAgICAgaWYgKCF2aWRlb1RyYWNrKSByZXR1cm47XG4gICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHZpZGVvVHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgIGlmIChcbiAgICAgICAgd2lkdGggIT09IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi53aWR0aCB8fFxuICAgICAgICBoZWlnaHQgIT09IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi5oZWlnaHRcbiAgICAgICkge1xuICAgICAgICBhd2FpdCB0aGlzLmFwcGx5U2V0dGluZ3NUb1N0cmVhbSgpO1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgIGAke3dpZHRofXgke2hlaWdodH0gdGFyZ2V0IHJlc29sdXRpb24gYXBwbGllZCB0byBtZWRpYSBzdHJlYW1gLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSB2aWRlbyBzZXR0aW5ncyB0byB0aGUgY2FtZXJhLlxuICAgKlxuICAgKiBAcGFyYW0gc2V0dGluZ3MgdGhlIHZpZGVvIHNldHRpbmdzIHRvIGFwcGx5LlxuICAgKiBAcGFyYW0gcHVibGlzaCB3aGV0aGVyIHRvIHB1Ymxpc2ggdGhlIHN0cmVhbSBhZnRlciBhcHBseWluZyB0aGUgc2V0dGluZ3MuXG4gICAqL1xuICBhc3luYyBhcHBseShzZXR0aW5nczogVmlkZW9TZXR0aW5nc1Jlc3BvbnNlLCBwdWJsaXNoOiBib29sZWFuKSB7XG4gICAgY29uc3QgaGFzUHVibGlzaGVkVmlkZW8gPSAhIXRoaXMuY2FsbC5zdGF0ZS5sb2NhbFBhcnRpY2lwYW50Py52aWRlb1N0cmVhbTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gdGhpcy5jYWxsLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKFxuICAgICAgT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPLFxuICAgICk7XG4gICAgaWYgKGhhc1B1Ymxpc2hlZFZpZGVvIHx8ICFoYXNQZXJtaXNzaW9uKSByZXR1cm47XG5cbiAgICAvLyBXYWl0IGZvciBhbnkgaW4gcHJvZ3Jlc3MgY2FtZXJhIG9wZXJhdGlvblxuICAgIGF3YWl0IHRoaXMuc3RhdHVzQ2hhbmdlU2V0dGxlZCgpO1xuXG4gICAgY29uc3QgeyB0YXJnZXRfcmVzb2x1dGlvbiwgY2FtZXJhX2ZhY2luZywgY2FtZXJhX2RlZmF1bHRfb24gfSA9IHNldHRpbmdzO1xuICAgIC8vIG5vcm1hbGl6ZSB0YXJnZXQgcmVzb2x1dGlvbiB0byBsYW5kc2NhcGUgZm9ybWF0LlxuICAgIC8vIG9uIG1vYmlsZSBkZXZpY2VzLCB0aGUgZGV2aWNlIGl0c2VsZiBhZGp1c3RzIHRoZSByZXNvbHV0aW9uIHRvIHBvcnRyYWl0IG9yIGxhbmRzY2FwZVxuICAgIC8vIGRlcGVuZGluZyBvbiB0aGUgb3JpZW50YXRpb24gb2YgdGhlIGRldmljZS4gdXNpbmcgcG9ydHJhaXQgcmVzb2x1dGlvblxuICAgIC8vIHdpbGwgcmVzdWx0IGluIGZhbGxpbmcgYmFjayB0byB0aGUgZGVmYXVsdCByZXNvbHV0aW9uICg2NDB4NDgwKS5cbiAgICBsZXQgeyB3aWR0aCwgaGVpZ2h0IH0gPSB0YXJnZXRfcmVzb2x1dGlvbjtcbiAgICBpZiAod2lkdGggPCBoZWlnaHQpIFt3aWR0aCwgaGVpZ2h0XSA9IFtoZWlnaHQsIHdpZHRoXTtcbiAgICBhd2FpdCB0aGlzLnNlbGVjdFRhcmdldFJlc29sdXRpb24oeyB3aWR0aCwgaGVpZ2h0IH0pO1xuXG4gICAgLy8gU2V0IGNhbWVyYSBkaXJlY3Rpb24gaWYgaXQncyBub3QgeWV0IHNldFxuICAgIGlmICghdGhpcy5zdGF0ZS5kaXJlY3Rpb24gJiYgIXRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UpIHtcbiAgICAgIHRoaXMuc3RhdGUuc2V0RGlyZWN0aW9uKGNhbWVyYV9mYWNpbmcgPT09ICdmcm9udCcgPyAnZnJvbnQnIDogJ2JhY2snKTtcbiAgICB9XG5cbiAgICBpZiAoIXB1Ymxpc2gpIHJldHVybjtcblxuICAgIGNvbnN0IHsgbWVkaWFTdHJlYW0gfSA9IHRoaXMuc3RhdGU7XG4gICAgaWYgKHRoaXMuZW5hYmxlZCAmJiBtZWRpYVN0cmVhbSkge1xuICAgICAgLy8gVGhlIGNhbWVyYSBpcyBhbHJlYWR5IGVuYWJsZWQgKGUuZy4gbG9iYnkgc2NyZWVuKS4gUHVibGlzaCB0aGUgc3RyZWFtXG4gICAgICBhd2FpdCB0aGlzLnB1Ymxpc2hTdHJlYW0obWVkaWFTdHJlYW0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0ZS5zdGF0dXMgPT09IHVuZGVmaW5lZCAmJiBjYW1lcmFfZGVmYXVsdF9vbikge1xuICAgICAgLy8gU3RhcnQgY2FtZXJhIGlmIGJhY2tlbmQgY29uZmlnIHNwZWNpZmllcywgYW5kIHRoZXJlIGlzIG5vIGxvY2FsIHNldHRpbmdcbiAgICAgIGF3YWl0IHRoaXMuZW5hYmxlKCk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIGdldERldmljZXMoKTogT2JzZXJ2YWJsZTxNZWRpYURldmljZUluZm9bXT4ge1xuICAgIHJldHVybiBnZXRWaWRlb0RldmljZXMoKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXRTdHJlYW0oXG4gICAgY29uc3RyYWludHM6IE1lZGlhVHJhY2tDb25zdHJhaW50cyxcbiAgKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgIGNvbnN0cmFpbnRzLndpZHRoID0gdGhpcy50YXJnZXRSZXNvbHV0aW9uLndpZHRoO1xuICAgIGNvbnN0cmFpbnRzLmhlaWdodCA9IHRoaXMudGFyZ2V0UmVzb2x1dGlvbi5oZWlnaHQ7XG4gICAgLy8gV2UgY2FuJ3Qgc2V0IGJvdGggZGV2aWNlIGlkIGFuZCBmYWNpbmcgbW9kZVxuICAgIC8vIERldmljZSBpZCBoYXMgaGlnaGVyIHByaW9yaXR5XG5cbiAgICBpZiAoXG4gICAgICAhY29uc3RyYWludHMuZGV2aWNlSWQgJiZcbiAgICAgIHRoaXMuc3RhdGUuZGlyZWN0aW9uICYmXG4gICAgICB0aGlzLmlzRGlyZWN0aW9uU3VwcG9ydGVkQnlEZXZpY2UoKVxuICAgICkge1xuICAgICAgY29uc3RyYWludHMuZmFjaW5nTW9kZSA9XG4gICAgICAgIHRoaXMuc3RhdGUuZGlyZWN0aW9uID09PSAnZnJvbnQnID8gJ3VzZXInIDogJ2Vudmlyb25tZW50JztcbiAgICB9XG4gICAgcmV0dXJuIGdldFZpZGVvU3RyZWFtKGNvbnN0cmFpbnRzLCB0aGlzLmNhbGwudHJhY2VyKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBkaXN0aW5jdFVudGlsQ2hhbmdlZCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtcbiAgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSxcbiAgVHJhY2tEaXNhYmxlTW9kZSxcbn0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlJztcbmltcG9ydCB7IGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24gfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgUnhVdGlscyB9IGZyb20gJy4uL3N0b3JlJztcblxuZXhwb3J0IGNsYXNzIE1pY3JvcGhvbmVNYW5hZ2VyU3RhdGUgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIHtcbiAgcHJpdmF0ZSBzcGVha2luZ1doaWxlTXV0ZWRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPihmYWxzZSk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyBgdHJ1ZWAgaWYgdGhlIHVzZXIncyBtaWNyb3Bob25lIGlzIG11dGVkIGJ1dCB0aGV5J2FyZSBzcGVha2luZy5cbiAgICpcbiAgICogVGhpcyBmZWF0dXJlIGlzIG5vdCBhdmFpbGFibGUgaW4gdGhlIFJlYWN0IE5hdGl2ZSBTREsuXG4gICAqL1xuICBzcGVha2luZ1doaWxlTXV0ZWQkOiBPYnNlcnZhYmxlPGJvb2xlYW4+O1xuXG4gIGNvbnN0cnVjdG9yKGRpc2FibGVNb2RlOiBUcmFja0Rpc2FibGVNb2RlKSB7XG4gICAgc3VwZXIoZGlzYWJsZU1vZGUsIGdldEF1ZGlvQnJvd3NlclBlcm1pc3Npb24oKSk7XG5cbiAgICB0aGlzLnNwZWFraW5nV2hpbGVNdXRlZCQgPSB0aGlzLnNwZWFraW5nV2hpbGVNdXRlZFN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gIH1cblxuICAvKipcbiAgICogYHRydWVgIGlmIHRoZSB1c2VyJ3MgbWljcm9waG9uZSBpcyBtdXRlZCBidXQgdGhleSdhcmUgc3BlYWtpbmcuXG4gICAqXG4gICAqIFRoaXMgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlIGluIHRoZSBSZWFjdCBOYXRpdmUgU0RLLlxuICAgKi9cbiAgZ2V0IHNwZWFraW5nV2hpbGVNdXRlZCgpIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5zcGVha2luZ1doaWxlTXV0ZWQkKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHNldFNwZWFraW5nV2hpbGVNdXRlZChpc1NwZWFraW5nOiBib29sZWFuKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5zcGVha2luZ1doaWxlTXV0ZWRTdWJqZWN0LCBpc1NwZWFraW5nKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VJZEZyb21TdHJlYW0oc3RyZWFtOiBNZWRpYVN0cmVhbSk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3QgW3RyYWNrXSA9IHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpO1xuICAgIHJldHVybiB0cmFjaz8uZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZDtcbiAgfVxufVxuIiwiZXhwb3J0IHR5cGUgU291bmREZXRlY3Rvck9wdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBEZWZpbmVzIGhvdyBvZnRlbiB0aGUgZGV0ZWN0b3Igc2hvdWxkIGNoZWNrIHdoZXRoZXIgYSBzb3VuZCBpcyBwcmVzZW50LlxuICAgKiBEZWZhdWx0cyB0byA1MDBtcy5cbiAgICovXG4gIGRldGVjdGlvbkZyZXF1ZW5jeUluTXM/OiBudW1iZXI7XG5cbiAgLyoqXG4gICAqIERlZmluZXMgdGhlIGF1ZGlvIGxldmVsIHRocmVzaG9sZCBiZWZvcmUgYSBcImNoYW5nZVwiIGlzIGVtaXR0ZWQuXG4gICAqIERlZmF1bHRzIHRvIDE1MC4gVGhpcyB2YWx1ZSBzaG91bGQgYmUgaW4gdGhlIHJhbmdlIG9mIDAtMjU1LlxuICAgKi9cbiAgYXVkaW9MZXZlbFRocmVzaG9sZD86IG51bWJlcjtcblxuICAvKipcbiAgICogU2VlIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3Mvd2ViL2FwaS9hbmFseXNlcm5vZGUvZmZ0c2l6ZVxuICAgKlxuICAgKiBEZWZhdWx0cyB0byAxMjguXG4gICAqL1xuICBmZnRTaXplPzogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBEZWZpbmVzIHdoZXRoZXIgdGhlIHByb3ZpZGVkIGF1ZGlvIHN0cmVhbSBzaG91bGQgYmUgc3RvcHBlZCAoZGVzdHJveWVkKVxuICAgKiB3aGVuIHRoZSBzb3VuZCBkZXRlY3RvciBpcyBzdG9wcGVkLlxuICAgKlxuICAgKiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gICAqL1xuICBkZXN0cm95U3RyZWFtT25TdG9wPzogYm9vbGVhbjtcbn07XG5cbmV4cG9ydCB0eXBlIFNvdW5kRGV0ZWN0b3JTdGF0ZSA9IHtcbiAgaXNTb3VuZERldGVjdGVkOiBib29sZWFuO1xuICAvKipcbiAgICogUmVwcmVzZW50ZWQgYXMgcGVyY2VudGFnZSAoMC0xMDApIHdoZXJlIDEwMCUgaXMgZGVmaW5lZCBieSBgYXVkaW9MZXZlbFRocmVzaG9sZGAgcHJvcGVydHkuXG4gICAqIERlY3JlYXNlIHRpbWUgYmV0d2VlbiBzYW1wbGVzICh0byA1MC0xMDBtcykgd2l0aCBgZGV0ZWN0aW9uRnJlcXVlbmN5SW5Nc2AgcHJvcGVydHkuXG4gICAqL1xuICBhdWRpb0xldmVsOiBudW1iZXI7XG59O1xuXG5leHBvcnQgdHlwZSBTb3VuZFN0YXRlQ2hhbmdlSGFuZGxlciA9IChzdGF0ZTogU291bmREZXRlY3RvclN0YXRlKSA9PiB2b2lkO1xuXG5jb25zdCBERVRFQ1RJT05fRlJFUVVFTkNZX0lOX01TID0gNTAwO1xuY29uc3QgQVVESU9fTEVWRUxfVEhSRVNIT0xEID0gMTUwO1xuY29uc3QgRkZUX1NJWkUgPSAxMjg7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBzb3VuZCBkZXRlY3Rvci5cbiAqXG4gKiBAcGFyYW0gYXVkaW9TdHJlYW0gdGhlIGF1ZGlvIHN0cmVhbSB0byBvYnNlcnZlLiBEZXBlbmRpbmcgb24gdGhlIHByb3ZpZGVkIGNvbmZpZ3VyYXRpb24sIHRoaXMgc3RyZWFtIG1pZ2h0IGJlIGRlc3Ryb3llZCB3aGVuIHRoZSBzb3VuZCBkZXRlY3RvciBpcyBzdG9wcGVkLlxuICogQHBhcmFtIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCBhIGNhbGxiYWNrIHdoaWNoIGlzIGNhbGxlZCB3aGVuIHRoZSBzb3VuZCBzdGF0ZSBjaGFuZ2VzLlxuICogQHBhcmFtIG9wdGlvbnMgY3VzdG9tIG9wdGlvbnMgZm9yIHRoZSBzb3VuZCBkZXRlY3Rvci5cbiAqIEByZXR1cm5zIGEgY2xlYW4tdXAgZnVuY3Rpb24gd2hpY2ggb25jZSBpbnZva2VkIHN0b3BzIHRoZSBzb3VuZCBkZXRlY3Rvci5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVNvdW5kRGV0ZWN0b3IgPSAoXG4gIGF1ZGlvU3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkOiBTb3VuZFN0YXRlQ2hhbmdlSGFuZGxlcixcbiAgb3B0aW9uczogU291bmREZXRlY3Rvck9wdGlvbnMgPSB7fSxcbikgPT4ge1xuICBjb25zdCB7XG4gICAgZGV0ZWN0aW9uRnJlcXVlbmN5SW5NcyA9IERFVEVDVElPTl9GUkVRVUVOQ1lfSU5fTVMsXG4gICAgYXVkaW9MZXZlbFRocmVzaG9sZCA9IEFVRElPX0xFVkVMX1RIUkVTSE9MRCxcbiAgICBmZnRTaXplID0gRkZUX1NJWkUsXG4gICAgZGVzdHJveVN0cmVhbU9uU3RvcCA9IHRydWUsXG4gIH0gPSBvcHRpb25zO1xuXG4gIGNvbnN0IGF1ZGlvQ29udGV4dCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcbiAgY29uc3QgYW5hbHlzZXIgPSBhdWRpb0NvbnRleHQuY3JlYXRlQW5hbHlzZXIoKTtcbiAgYW5hbHlzZXIuZmZ0U2l6ZSA9IGZmdFNpemU7XG5cbiAgY29uc3QgbWljcm9waG9uZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShhdWRpb1N0cmVhbSk7XG4gIG1pY3JvcGhvbmUuY29ubmVjdChhbmFseXNlcik7XG5cbiAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICBjb25zdCBkYXRhID0gbmV3IFVpbnQ4QXJyYXkoYW5hbHlzZXIuZnJlcXVlbmN5QmluQ291bnQpO1xuICAgIGFuYWx5c2VyLmdldEJ5dGVGcmVxdWVuY3lEYXRhKGRhdGEpO1xuXG4gICAgY29uc3QgaXNTb3VuZERldGVjdGVkID0gZGF0YS5zb21lKCh2YWx1ZSkgPT4gdmFsdWUgPj0gYXVkaW9MZXZlbFRocmVzaG9sZCk7XG5cbiAgICBjb25zdCBhdmVyYWdlZERhdGFWYWx1ZSA9IGRhdGEucmVkdWNlKChwdiwgY3YpID0+IHB2ICsgY3YsIDApIC8gZGF0YS5sZW5ndGg7XG5cbiAgICBjb25zdCBwZXJjZW50YWdlID1cbiAgICAgIGF2ZXJhZ2VkRGF0YVZhbHVlID4gYXVkaW9MZXZlbFRocmVzaG9sZFxuICAgICAgICA/IDEwMFxuICAgICAgICA6IE1hdGgucm91bmQoKGF2ZXJhZ2VkRGF0YVZhbHVlIC8gYXVkaW9MZXZlbFRocmVzaG9sZCkgKiAxMDApO1xuXG4gICAgLy8gV2hlbiB0aGUgdHJhY2sgaXMgZGlzYWJsZWQsIGl0IHRha2VzIHRpbWUgZm9yIHRoZSBidWZmZXIgdG8gZW1wdHlcbiAgICAvLyBUaGlzIGNoZWNrIHdpbGwgZW5zdXJlIHRoYXQgd2UgZG9uJ3Qgc2VuZCBhbnl0aGluZyBpZiB0aGUgdHJhY2sgaXMgZGlzYWJsZWRcbiAgICBpZiAoYXVkaW9TdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXT8uZW5hYmxlZCkge1xuICAgICAgb25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkKHsgaXNTb3VuZERldGVjdGVkLCBhdWRpb0xldmVsOiBwZXJjZW50YWdlIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQoeyBpc1NvdW5kRGV0ZWN0ZWQ6IGZhbHNlLCBhdWRpb0xldmVsOiAwIH0pO1xuICAgIH1cbiAgfSwgZGV0ZWN0aW9uRnJlcXVlbmN5SW5Ncyk7XG5cbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHN0b3AoKSB7XG4gICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcblxuICAgIC8vIGNsZWFuLXVwIHRoZSBBdWRpb0NvbnRleHQgZWxlbWVudHNcbiAgICBtaWNyb3Bob25lLmRpc2Nvbm5lY3QoKTtcbiAgICBhbmFseXNlci5kaXNjb25uZWN0KCk7XG4gICAgaWYgKGF1ZGlvQ29udGV4dC5zdGF0ZSAhPT0gJ2Nsb3NlZCcpIHtcbiAgICAgIGF3YWl0IGF1ZGlvQ29udGV4dC5jbG9zZSgpO1xuICAgIH1cblxuICAgIC8vIHN0b3AgdGhlIHN0cmVhbVxuICAgIGlmIChkZXN0cm95U3RyZWFtT25TdG9wKSB7XG4gICAgICBhdWRpb1N0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgICB0cmFjay5zdG9wKCk7XG4gICAgICAgIGF1ZGlvU3RyZWFtLnJlbW92ZVRyYWNrKHRyYWNrKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG4iLCJpbXBvcnQgeyBCYXNlU3RhdHMgfSBmcm9tICcuLi9zdGF0cyc7XG5pbXBvcnQgeyBTb3VuZFN0YXRlQ2hhbmdlSGFuZGxlciB9IGZyb20gJy4vc291bmQtZGV0ZWN0b3InO1xuaW1wb3J0IHsgZmxhdHRlbiB9IGZyb20gJy4uL3N0YXRzL3V0aWxzJztcbmltcG9ydCB7IGdldExvZ2dlciB9IGZyb20gJy4uL2xvZ2dlcic7XG5cbmV4cG9ydCBjbGFzcyBSTlNwZWVjaERldGVjdG9yIHtcbiAgcHJpdmF0ZSBwYzEgPSBuZXcgUlRDUGVlckNvbm5lY3Rpb24oe30pO1xuICBwcml2YXRlIHBjMiA9IG5ldyBSVENQZWVyQ29ubmVjdGlvbih7fSk7XG4gIHByaXZhdGUgYXVkaW9TdHJlYW06IE1lZGlhU3RyZWFtIHwgdW5kZWZpbmVkO1xuXG4gIC8qKlxuICAgKiBTdGFydHMgdGhlIHNwZWVjaCBkZXRlY3Rpb24uXG4gICAqL1xuICBwdWJsaWMgYXN5bmMgc3RhcnQob25Tb3VuZERldGVjdGVkU3RhdGVDaGFuZ2VkOiBTb3VuZFN0YXRlQ2hhbmdlSGFuZGxlcikge1xuICAgIHRyeSB7XG4gICAgICB0aGlzLmNsZWFudXBBdWRpb1N0cmVhbSgpO1xuICAgICAgY29uc3QgYXVkaW9TdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7XG4gICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICB0aGlzLmF1ZGlvU3RyZWFtID0gYXVkaW9TdHJlYW07XG5cbiAgICAgIHRoaXMucGMxLmFkZEV2ZW50TGlzdGVuZXIoJ2ljZWNhbmRpZGF0ZScsIGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMucGMyLmFkZEljZUNhbmRpZGF0ZShcbiAgICAgICAgICBlLmNhbmRpZGF0ZSBhcyBSVENJY2VDYW5kaWRhdGVJbml0IHwgdW5kZWZpbmVkLFxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnBjMi5hZGRFdmVudExpc3RlbmVyKCdpY2VjYW5kaWRhdGUnLCBhc3luYyAoZSkgPT4ge1xuICAgICAgICBhd2FpdCB0aGlzLnBjMS5hZGRJY2VDYW5kaWRhdGUoXG4gICAgICAgICAgZS5jYW5kaWRhdGUgYXMgUlRDSWNlQ2FuZGlkYXRlSW5pdCB8IHVuZGVmaW5lZCxcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5wYzIuYWRkRXZlbnRMaXN0ZW5lcigndHJhY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnN0cmVhbXNbMF0uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHtcbiAgICAgICAgICAvLyBJbiBSTiwgdGhlIHJlbW90ZSB0cmFjayBpcyBhdXRvbWF0aWNhbGx5IGFkZGVkIHRvIHRoZSBhdWRpbyBvdXRwdXQgZGV2aWNlXG4gICAgICAgICAgLy8gc28gd2UgbmVlZCB0byBtdXRlIGl0IHRvIGF2b2lkIGhlYXJpbmcgdGhlIGF1ZGlvIGJhY2tcbiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIF9zZXRWb2x1bWUgaXMgYSBwcml2YXRlIG1ldGhvZCBpbiByZWFjdC1uYXRpdmUtd2VicnRjXG4gICAgICAgICAgdHJhY2suX3NldFZvbHVtZSgwKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgYXVkaW9TdHJlYW1cbiAgICAgICAgLmdldFRyYWNrcygpXG4gICAgICAgIC5mb3JFYWNoKCh0cmFjaykgPT4gdGhpcy5wYzEuYWRkVHJhY2sodHJhY2ssIGF1ZGlvU3RyZWFtKSk7XG4gICAgICBjb25zdCBvZmZlciA9IGF3YWl0IHRoaXMucGMxLmNyZWF0ZU9mZmVyKHt9KTtcbiAgICAgIGF3YWl0IHRoaXMucGMyLnNldFJlbW90ZURlc2NyaXB0aW9uKG9mZmVyKTtcbiAgICAgIGF3YWl0IHRoaXMucGMxLnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgY29uc3QgYW5zd2VyID0gYXdhaXQgdGhpcy5wYzIuY3JlYXRlQW5zd2VyKCk7XG4gICAgICBhd2FpdCB0aGlzLnBjMS5zZXRSZW1vdGVEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgYXdhaXQgdGhpcy5wYzIuc2V0TG9jYWxEZXNjcmlwdGlvbihhbnN3ZXIpO1xuICAgICAgY29uc3QgdW5zdWIgPSB0aGlzLm9uU3BlYWtpbmdEZXRlY3RlZFN0YXRlQ2hhbmdlKFxuICAgICAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQsXG4gICAgICApO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgdW5zdWIoKTtcbiAgICAgICAgdGhpcy5zdG9wKCk7XG4gICAgICB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydSTlNwZWVjaERldGVjdG9yJ10pO1xuICAgICAgbG9nZ2VyKCdlcnJvcicsICdlcnJvciBoYW5kbGluZyBwZXJtaXNzaW9uczogJywgZXJyb3IpO1xuICAgICAgcmV0dXJuICgpID0+IHt9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgc3BlZWNoIGRldGVjdGlvbiBhbmQgcmVsZWFzZXMgYWxsIGFsbG9jYXRlZCByZXNvdXJjZXMuXG4gICAqL1xuICBwcml2YXRlIHN0b3AoKSB7XG4gICAgdGhpcy5wYzEuY2xvc2UoKTtcbiAgICB0aGlzLnBjMi5jbG9zZSgpO1xuICAgIHRoaXMuY2xlYW51cEF1ZGlvU3RyZWFtKCk7XG4gIH1cblxuICAvKipcbiAgICogUHVibGljIG1ldGhvZCB0aGF0IGRldGVjdHMgdGhlIGF1ZGlvIGxldmVscyBhbmQgcmV0dXJucyB0aGUgc3RhdHVzLlxuICAgKi9cbiAgcHJpdmF0ZSBvblNwZWFraW5nRGV0ZWN0ZWRTdGF0ZUNoYW5nZShcbiAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQ6IFNvdW5kU3RhdGVDaGFuZ2VIYW5kbGVyLFxuICApIHtcbiAgICBjb25zdCBpbml0aWFsQmFzZWxpbmVOb2lzZUxldmVsID0gMC4xMztcbiAgICBsZXQgYmFzZWxpbmVOb2lzZUxldmVsID0gaW5pdGlhbEJhc2VsaW5lTm9pc2VMZXZlbDtcbiAgICBsZXQgc3BlZWNoRGV0ZWN0ZWQgPSBmYWxzZTtcbiAgICBsZXQgc3BlZWNoVGltZXI6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICAgIGxldCBzaWxlbmNlVGltZXI6IE5vZGVKUy5UaW1lb3V0IHwgdW5kZWZpbmVkO1xuICAgIGNvbnN0IGF1ZGlvTGV2ZWxIaXN0b3J5OiBudW1iZXJbXSA9IFtdOyAvLyBTdG9yZSByZWNlbnQgYXVkaW8gbGV2ZWxzIGZvciBzbW9vdGhlciBkZXRlY3Rpb25cbiAgICBjb25zdCBoaXN0b3J5TGVuZ3RoID0gMTA7XG4gICAgY29uc3Qgc2lsZW5jZVRocmVzaG9sZCA9IDEuMTtcbiAgICBjb25zdCByZXNldFRocmVzaG9sZCA9IDAuOTtcbiAgICBjb25zdCBzcGVlY2hUaW1lb3V0ID0gNTAwOyAvLyBTcGVlY2ggaXMgc2V0IHRvIHRydWUgYWZ0ZXIgNTAwbXMgb2YgYXVkaW8gZGV0ZWN0aW9uXG4gICAgY29uc3Qgc2lsZW5jZVRpbWVvdXQgPSA1MDAwOyAvLyBSZXNldCBiYXNlbGluZSBhZnRlciA1IHNlY29uZHMgb2Ygc2lsZW5jZVxuXG4gICAgY29uc3QgY2hlY2tBdWRpb0xldmVsID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgc3RhdHMgPSAoYXdhaXQgdGhpcy5wYzEuZ2V0U3RhdHMoKSkgYXMgUlRDU3RhdHNSZXBvcnQ7XG4gICAgICAgIGNvbnN0IHJlcG9ydCA9IGZsYXR0ZW4oc3RhdHMpO1xuICAgICAgICAvLyBBdWRpbyBsZXZlbHMgYXJlIHByZXNlbnQgaW5zaWRlIHN0YXRzIG9mIHR5cGUgYG1lZGlhLXNvdXJjZWAgYW5kIG9mIGtpbmQgYGF1ZGlvYFxuICAgICAgICBjb25zdCBhdWRpb01lZGlhU291cmNlU3RhdHMgPSByZXBvcnQuZmluZChcbiAgICAgICAgICAoc3RhdCkgPT5cbiAgICAgICAgICAgIHN0YXQudHlwZSA9PT0gJ21lZGlhLXNvdXJjZScgJiZcbiAgICAgICAgICAgIChzdGF0IGFzIFJUQ1J0cFN0cmVhbVN0YXRzKS5raW5kID09PSAnYXVkaW8nLFxuICAgICAgICApIGFzIEJhc2VTdGF0cztcbiAgICAgICAgaWYgKGF1ZGlvTWVkaWFTb3VyY2VTdGF0cykge1xuICAgICAgICAgIGNvbnN0IHsgYXVkaW9MZXZlbCB9ID0gYXVkaW9NZWRpYVNvdXJjZVN0YXRzO1xuICAgICAgICAgIGlmIChhdWRpb0xldmVsKSB7XG4gICAgICAgICAgICAvLyBVcGRhdGUgYXVkaW8gbGV2ZWwgaGlzdG9yeSAod2l0aCBtYXggaGlzdG9yeUxlbmd0aCBzaXplZCBhcnJheSlcbiAgICAgICAgICAgIGF1ZGlvTGV2ZWxIaXN0b3J5LnB1c2goYXVkaW9MZXZlbCk7XG4gICAgICAgICAgICBpZiAoYXVkaW9MZXZlbEhpc3RvcnkubGVuZ3RoID4gaGlzdG9yeUxlbmd0aCkge1xuICAgICAgICAgICAgICBhdWRpb0xldmVsSGlzdG9yeS5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgYXZlcmFnZSBhdWRpbyBsZXZlbFxuICAgICAgICAgICAgY29uc3QgYXZnQXVkaW9MZXZlbCA9XG4gICAgICAgICAgICAgIGF1ZGlvTGV2ZWxIaXN0b3J5LnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC9cbiAgICAgICAgICAgICAgYXVkaW9MZXZlbEhpc3RvcnkubGVuZ3RoO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgYmFzZWxpbmUgKGlmIG5lY2Vzc2FyeSkgYmFzZWQgb24gc2lsZW5jZSBkZXRlY3Rpb25cbiAgICAgICAgICAgIGlmIChhdmdBdWRpb0xldmVsIDwgYmFzZWxpbmVOb2lzZUxldmVsICogc2lsZW5jZVRocmVzaG9sZCkge1xuICAgICAgICAgICAgICBpZiAoIXNpbGVuY2VUaW1lcikge1xuICAgICAgICAgICAgICAgIHNpbGVuY2VUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgYmFzZWxpbmVOb2lzZUxldmVsID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgICAgIGF2Z0F1ZGlvTGV2ZWwgKiByZXNldFRocmVzaG9sZCxcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbEJhc2VsaW5lTm9pc2VMZXZlbCxcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSwgc2lsZW5jZVRpbWVvdXQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2lsZW5jZVRpbWVyKTtcbiAgICAgICAgICAgICAgc2lsZW5jZVRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBTcGVlY2ggZGV0ZWN0aW9uIHdpdGggaHlzdGVyZXNpc1xuICAgICAgICAgICAgaWYgKGF2Z0F1ZGlvTGV2ZWwgPiBiYXNlbGluZU5vaXNlTGV2ZWwgKiAxLjUpIHtcbiAgICAgICAgICAgICAgaWYgKCFzcGVlY2hEZXRlY3RlZCkge1xuICAgICAgICAgICAgICAgIHNwZWVjaERldGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQoe1xuICAgICAgICAgICAgICAgICAgaXNTb3VuZERldGVjdGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgYXVkaW9MZXZlbCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNsZWFyVGltZW91dChzcGVlY2hUaW1lcik7XG5cbiAgICAgICAgICAgICAgc3BlZWNoVGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBzcGVlY2hEZXRlY3RlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIG9uU291bmREZXRlY3RlZFN0YXRlQ2hhbmdlZCh7XG4gICAgICAgICAgICAgICAgICBpc1NvdW5kRGV0ZWN0ZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgYXVkaW9MZXZlbDogMCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSwgc3BlZWNoVGltZW91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydSTlNwZWVjaERldGVjdG9yJ10pO1xuICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ2Vycm9yIGNoZWNraW5nIGF1ZGlvIGxldmVsIGZyb20gc3RhdHMnLCBlcnJvcik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIENhbGwgY2hlY2tBdWRpb0xldmVsIHBlcmlvZGljYWxseSAoZXZlcnkgMTAwbXMpXG4gICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGNoZWNrQXVkaW9MZXZlbCwgMTAwKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHNwZWVjaFRpbWVyKTtcbiAgICAgIGNsZWFyVGltZW91dChzaWxlbmNlVGltZXIpO1xuICAgIH07XG4gIH1cblxuICBwcml2YXRlIGNsZWFudXBBdWRpb1N0cmVhbSgpIHtcbiAgICBpZiAoIXRoaXMuYXVkaW9TdHJlYW0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5hdWRpb1N0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4gdHJhY2suc3RvcCgpKTtcbiAgICBpZiAoXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHJlbGVhc2UoKSBpcyBwcmVzZW50IGluIHJlYWN0LW5hdGl2ZS13ZWJydGNcbiAgICAgIHR5cGVvZiB0aGlzLmF1ZGlvU3RyZWFtLnJlbGVhc2UgPT09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgY2FsbGVkIHRvIGRpc3Bvc2UgdGhlIHN0cmVhbSBpbiBSTlxuICAgICAgdGhpcy5hdWRpb1N0cmVhbS5yZWxlYXNlKCk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgdHlwZSB7IElOb2lzZUNhbmNlbGxhdGlvbiB9IGZyb20gJ0BzdHJlYW0taW8vYXVkaW8tZmlsdGVycy13ZWInO1xuaW1wb3J0IHsgQ2FsbCB9IGZyb20gJy4uL0NhbGwnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXIgfSBmcm9tICcuL0lucHV0TWVkaWFEZXZpY2VNYW5hZ2VyJztcbmltcG9ydCB7IE1pY3JvcGhvbmVNYW5hZ2VyU3RhdGUgfSBmcm9tICcuL01pY3JvcGhvbmVNYW5hZ2VyU3RhdGUnO1xuaW1wb3J0IHsgVHJhY2tEaXNhYmxlTW9kZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBnZXRBdWRpb0RldmljZXMsIGdldEF1ZGlvU3RyZWFtIH0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBjcmVhdGVTb3VuZERldGVjdG9yIH0gZnJvbSAnLi4vaGVscGVycy9zb3VuZC1kZXRlY3Rvcic7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHtcbiAgQXVkaW9TZXR0aW5nc1Jlc3BvbnNlLFxuICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0sXG4gIE93bkNhcGFiaWxpdHksXG59IGZyb20gJy4uL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBDYWxsaW5nU3RhdGUgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQge1xuICBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24sXG4gIGNyZWF0ZVN1YnNjcmlwdGlvbixcbn0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5pbXBvcnQgeyBSTlNwZWVjaERldGVjdG9yIH0gZnJvbSAnLi4vaGVscGVycy9STlNwZWVjaERldGVjdG9yJztcbmltcG9ydCB7IHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4uL2hlbHBlcnMvY29uY3VycmVuY3knO1xuXG5leHBvcnQgY2xhc3MgTWljcm9waG9uZU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxNaWNyb3Bob25lTWFuYWdlclN0YXRlPiB7XG4gIHByaXZhdGUgc3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCA9IHRydWU7XG4gIHByaXZhdGUgc291bmREZXRlY3RvckNvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdzb3VuZERldGVjdG9yQ29uY3VycmVuY3lUYWcnKTtcbiAgcHJpdmF0ZSBzb3VuZERldGVjdG9yQ2xlYW51cD86IEZ1bmN0aW9uO1xuICBwcml2YXRlIHJuU3BlZWNoRGV0ZWN0b3I6IFJOU3BlZWNoRGV0ZWN0b3IgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbm9pc2VDYW5jZWxsYXRpb246IElOb2lzZUNhbmNlbGxhdGlvbiB8IHVuZGVmaW5lZDtcbiAgcHJpdmF0ZSBub2lzZUNhbmNlbGxhdGlvbkNoYW5nZVVuc3Vic2NyaWJlOiAoKCkgPT4gdm9pZCkgfCB1bmRlZmluZWQ7XG4gIHByaXZhdGUgbm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb24/OiBQcm9taXNlPHZvaWQ+O1xuICBwcml2YXRlIHVucmVnaXN0ZXJOb2lzZUNhbmNlbGxhdGlvbj86ICgpID0+IFByb21pc2U8dm9pZD47XG5cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCwgZGlzYWJsZU1vZGU6IFRyYWNrRGlzYWJsZU1vZGUgPSAnc3RvcC10cmFja3MnKSB7XG4gICAgc3VwZXIoY2FsbCwgbmV3IE1pY3JvcGhvbmVNYW5hZ2VyU3RhdGUoZGlzYWJsZU1vZGUpLCBUcmFja1R5cGUuQVVESU8pO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICBjcmVhdGVTYWZlQXN5bmNTdWJzY3JpcHRpb24oXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoW1xuICAgICAgICAgIHRoaXMuY2FsbC5zdGF0ZS5jYWxsaW5nU3RhdGUkLFxuICAgICAgICAgIHRoaXMuY2FsbC5zdGF0ZS5vd25DYXBhYmlsaXRpZXMkLFxuICAgICAgICAgIHRoaXMuc3RhdGUuc2VsZWN0ZWREZXZpY2UkLFxuICAgICAgICAgIHRoaXMuc3RhdGUuc3RhdHVzJCxcbiAgICAgICAgXSksXG4gICAgICAgIGFzeW5jIChbY2FsbGluZ1N0YXRlLCBvd25DYXBhYmlsaXRpZXMsIGRldmljZUlkLCBzdGF0dXNdKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCkgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKCF0aGlzLnNwZWFraW5nV2hpbGVNdXRlZE5vdGlmaWNhdGlvbkVuYWJsZWQpIHJldHVybjtcblxuICAgICAgICAgICAgaWYgKG93bkNhcGFiaWxpdGllcy5pbmNsdWRlcyhPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8pKSB7XG4gICAgICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN0YXJ0U3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKGRldmljZUlkKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdDb3VsZCBub3QgZW5hYmxlIHNwZWFraW5nIHdoaWxlIG11dGVkJywgZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLmNhbGwuc3RhdGUuY2FsbGluZ1N0YXRlJCwgKGNhbGxpbmdTdGF0ZSkgPT4ge1xuICAgICAgICAvLyBkbyBub3RoaW5nIHdoZW4gbm9pc2UgZmlsdGVyaW5nIGlzbid0IHR1cm5lZCBvblxuICAgICAgICBpZiAoIXRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb24gfHwgIXRoaXMubm9pc2VDYW5jZWxsYXRpb24pXG4gICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IGF1dG9PbiA9XG4gICAgICAgICAgdGhpcy5jYWxsLnN0YXRlLnNldHRpbmdzPy5hdWRpby5ub2lzZV9jYW5jZWxsYXRpb24/Lm1vZGUgPT09XG4gICAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkFVVE9fT047XG5cbiAgICAgICAgaWYgKGF1dG9PbiAmJiBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lORUQpIHtcbiAgICAgICAgICB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uPy5jYW5BdXRvRW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9pc2VDYW5jZWxsYXRpb24uY2FuQXV0b0VuYWJsZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKChjYW5BdXRvRW5hYmxlKSA9PiB7XG4gICAgICAgICAgICAgIGlmIChjYW5BdXRvRW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2lzZUNhbmNlbGxhdGlvbj8uZW5hYmxlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gZW5hYmxlIG5vaXNlIGNhbmNlbGxhdGlvbmAsIGVycik7XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNhbGwubm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wcGVkKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKSB7XG4gICAgICAgICAgdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvblxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbj8uZGlzYWJsZSgpKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgRmFpbGVkIHRvIGRpc2FibGUgbm9pc2UgY2FuY2VsbGF0aW9uYCwgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgbm9pc2UgY2FuY2VsbGF0aW9uIGZvciB0aGUgbWljcm9waG9uZS5cbiAgICpcbiAgICogQHBhcmFtIG5vaXNlQ2FuY2VsbGF0aW9uIC0gYSBub2lzZSBjYW5jZWxsYXRpb24gaW5zdGFuY2UgdG8gdXNlLlxuICAgKi9cbiAgYXN5bmMgZW5hYmxlTm9pc2VDYW5jZWxsYXRpb24obm9pc2VDYW5jZWxsYXRpb246IElOb2lzZUNhbmNlbGxhdGlvbikge1xuICAgIGNvbnN0IHsgb3duQ2FwYWJpbGl0aWVzLCBzZXR0aW5ncyB9ID0gdGhpcy5jYWxsLnN0YXRlO1xuICAgIGNvbnN0IGhhc05vaXNlQ2FuY2VsbGF0aW9uQ2FwYWJpbGl0eSA9IG93bkNhcGFiaWxpdGllcy5pbmNsdWRlcyhcbiAgICAgIE93bkNhcGFiaWxpdHkuRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTixcbiAgICApO1xuICAgIGlmICghaGFzTm9pc2VDYW5jZWxsYXRpb25DYXBhYmlsaXR5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vaXNlIGNhbmNlbGxhdGlvbiBpcyBub3QgYXZhaWxhYmxlLicpO1xuICAgIH1cbiAgICBjb25zdCBub2lzZUNhbmNlbGxhdGlvblNldHRpbmdzID0gc2V0dGluZ3M/LmF1ZGlvLm5vaXNlX2NhbmNlbGxhdGlvbjtcbiAgICBpZiAoXG4gICAgICAhbm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncyB8fFxuICAgICAgbm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncy5tb2RlID09PVxuICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uRElTQUJMRURcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm9pc2UgY2FuY2VsbGF0aW9uIGlzIGRpc2FibGVkIGZvciB0aGlzIGNhbGwgdHlwZS4nKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb24gPSBub2lzZUNhbmNlbGxhdGlvbjtcblxuICAgICAgLy8gbGlzdGVuIGZvciBjaGFuZ2UgZXZlbnRzIGFuZCBub3RpZnkgdGhlIFNGVVxuICAgICAgdGhpcy5ub2lzZUNhbmNlbGxhdGlvbkNoYW5nZVVuc3Vic2NyaWJlID0gdGhpcy5ub2lzZUNhbmNlbGxhdGlvbi5vbihcbiAgICAgICAgJ2NoYW5nZScsXG4gICAgICAgIChlbmFibGVkOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgdGhpcy5jYWxsLnRyYWNlci50cmFjZSgnbm9pc2VDYW5jZWxsYXRpb24uZW5hYmxlZCcsIGVuYWJsZWQpO1xuICAgICAgICAgIGlmIChlbmFibGVkKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGwubm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydGluZygpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdGFydCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2FsbC5ub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0b3BwZWQoKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYG5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcCBmYWlsZWRgLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgKTtcblxuICAgICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICAvLyBubyBmaWx0ZXIgcmVnaXN0cmF0aW9uIGluIFJlYWN0IE5hdGl2ZSwgaXRzIGRvbmUgaW4gdGhlIG5hdGl2ZSBjb2RlIG9uIGFwcCBpbml0XG4gICAgICAgIHRoaXMubm9pc2VDYW5jZWxsYXRpb25SZWdpc3RyYXRpb24gPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvblJlc3VsdCA9IHRoaXMucmVnaXN0ZXJGaWx0ZXIoXG4gICAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24udG9GaWx0ZXIoKSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5ub2lzZUNhbmNlbGxhdGlvblJlZ2lzdHJhdGlvbiA9IHJlZ2lzdHJhdGlvblJlc3VsdC5yZWdpc3RlcmVkO1xuICAgICAgICB0aGlzLnVucmVnaXN0ZXJOb2lzZUNhbmNlbGxhdGlvbiA9IHJlZ2lzdHJhdGlvblJlc3VsdC51bnJlZ2lzdGVyO1xuICAgICAgICBhd2FpdCB0aGlzLm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uO1xuICAgICAgfVxuXG4gICAgICAvLyBoYW5kbGVzIGFuIGVkZ2UgY2FzZSB3aGVyZSBhIG5vaXNlIGNhbmNlbGxhdGlvbiBpcyBlbmFibGVkIGFmdGVyXG4gICAgICAvLyB0aGUgcGFydGljaXBhbnQgYXMgam9pbmVkIHRoZSBjYWxsIC0+IHdlIGltbWVkaWF0ZWx5IGVuYWJsZSBOQ1xuICAgICAgaWYgKFxuICAgICAgICBub2lzZUNhbmNlbGxhdGlvblNldHRpbmdzLm1vZGUgPT09XG4gICAgICAgICAgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLkFVVE9fT04gJiZcbiAgICAgICAgdGhpcy5jYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkpPSU5FRFxuICAgICAgKSB7XG4gICAgICAgIGxldCBjYW5BdXRvRW5hYmxlID0gdHJ1ZTtcbiAgICAgICAgaWYgKG5vaXNlQ2FuY2VsbGF0aW9uLmNhbkF1dG9FbmFibGUpIHtcbiAgICAgICAgICBjYW5BdXRvRW5hYmxlID0gYXdhaXQgbm9pc2VDYW5jZWxsYXRpb24uY2FuQXV0b0VuYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjYW5BdXRvRW5hYmxlKSB7XG4gICAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24uZW5hYmxlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gZW5hYmxlIG5vaXNlIGNhbmNlbGxhdGlvbicsIGUpO1xuICAgICAgYXdhaXQgdGhpcy5kaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24oKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBkaXNhYmxlIG5vaXNlIGNhbmNlbGxhdGlvbicsIGVycik7XG4gICAgICB9KTtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIG5vaXNlIGNhbmNlbGxhdGlvbiBmb3IgdGhlIG1pY3JvcGhvbmUuXG4gICAqL1xuICBhc3luYyBkaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24oKSB7XG4gICAgYXdhaXQgKHRoaXMudW5yZWdpc3Rlck5vaXNlQ2FuY2VsbGF0aW9uPy4oKSA/PyBQcm9taXNlLnJlc29sdmUoKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb24/LmRpc2FibGUoKSlcbiAgICAgIC50aGVuKCgpID0+IHRoaXMubm9pc2VDYW5jZWxsYXRpb25DaGFuZ2VVbnN1YnNjcmliZT8uKCkpXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdGYWlsZWQgdG8gdW5yZWdpc3RlciBub2lzZSBjYW5jZWxsYXRpb24nLCBlcnIpO1xuICAgICAgfSk7XG5cbiAgICBhd2FpdCB0aGlzLmNhbGwubm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wcGVkKCk7XG4gIH1cblxuICAvKipcbiAgICogRW5hYmxlcyBzcGVha2luZyB3aGlsZSBtdXRlZCBub3RpZmljYXRpb24uXG4gICAqL1xuICBhc3luYyBlbmFibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24oKSB7XG4gICAgdGhpcy5zcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb25FbmFibGVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5zdGF0ZS5zdGF0dXMgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgIGF3YWl0IHRoaXMuc3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24odGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIERpc2FibGVzIHNwZWFraW5nIHdoaWxlIG11dGVkIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24oKSB7XG4gICAgdGhpcy5zcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb25FbmFibGVkID0gZmFsc2U7XG4gICAgYXdhaXQgdGhpcy5zdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCk7XG4gIH1cblxuICAvKipcbiAgICogQXBwbGllcyB0aGUgYXVkaW8gc2V0dGluZ3MgdG8gdGhlIG1pY3JvcGhvbmUuXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgYXVkaW8gc2V0dGluZ3MgdG8gYXBwbHkuXG4gICAqIEBwYXJhbSBwdWJsaXNoIHdoZXRoZXIgdG8gcHVibGlzaCB0aGUgc3RyZWFtIGFmdGVyIGFwcGx5aW5nIHRoZSBzZXR0aW5ncy5cbiAgICovXG4gIGFzeW5jIGFwcGx5KHNldHRpbmdzOiBBdWRpb1NldHRpbmdzUmVzcG9uc2UsIHB1Ymxpc2g6IGJvb2xlYW4pIHtcbiAgICBpZiAoIXB1Ymxpc2gpIHJldHVybjtcblxuICAgIGNvbnN0IGhhc1B1Ymxpc2hlZEF1ZGlvID0gISF0aGlzLmNhbGwuc3RhdGUubG9jYWxQYXJ0aWNpcGFudD8uYXVkaW9TdHJlYW07XG4gICAgY29uc3QgaGFzUGVybWlzc2lvbiA9IHRoaXMuY2FsbC5wZXJtaXNzaW9uc0NvbnRleHQuaGFzUGVybWlzc2lvbihcbiAgICAgIE93bkNhcGFiaWxpdHkuU0VORF9BVURJTyxcbiAgICApO1xuICAgIGlmIChoYXNQdWJsaXNoZWRBdWRpbyB8fCAhaGFzUGVybWlzc2lvbikgcmV0dXJuO1xuXG4gICAgLy8gV2FpdCBmb3IgYW55IGluIHByb2dyZXNzIG1pYyBvcGVyYXRpb25cbiAgICBhd2FpdCB0aGlzLnN0YXR1c0NoYW5nZVNldHRsZWQoKTtcblxuICAgIC8vIFB1Ymxpc2ggbWVkaWEgc3RyZWFtIHRoYXQgd2FzIHNldCBiZWZvcmUgd2Ugam9pbmVkXG4gICAgY29uc3QgeyBtZWRpYVN0cmVhbSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAodGhpcy5lbmFibGVkICYmIG1lZGlhU3RyZWFtKSB7XG4gICAgICAvLyBUaGUgbWljIGlzIGFscmVhZHkgZW5hYmxlZCAoZS5nLiBsb2JieSBzY3JlZW4pLiBQdWJsaXNoIHRoZSBzdHJlYW1cbiAgICAgIGF3YWl0IHRoaXMucHVibGlzaFN0cmVhbShtZWRpYVN0cmVhbSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLnN0YXRlLnN0YXR1cyA9PT0gdW5kZWZpbmVkICYmIHNldHRpbmdzLm1pY19kZWZhdWx0X29uKSB7XG4gICAgICAvLyBTdGFydCBtaWMgaWYgYmFja2VuZCBjb25maWcgc3BlY2lmaWVzLCBhbmQgdGhlcmUgaXMgbm8gbG9jYWwgc2V0dGluZ1xuICAgICAgYXdhaXQgdGhpcy5lbmFibGUoKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgZ2V0RGV2aWNlcygpOiBPYnNlcnZhYmxlPE1lZGlhRGV2aWNlSW5mb1tdPiB7XG4gICAgcmV0dXJuIGdldEF1ZGlvRGV2aWNlcygpO1xuICB9XG5cbiAgcHJvdGVjdGVkIGdldFN0cmVhbShcbiAgICBjb25zdHJhaW50czogTWVkaWFUcmFja0NvbnN0cmFpbnRzLFxuICApOiBQcm9taXNlPE1lZGlhU3RyZWFtPiB7XG4gICAgcmV0dXJuIGdldEF1ZGlvU3RyZWFtKGNvbnN0cmFpbnRzLCB0aGlzLmNhbGwudHJhY2VyKTtcbiAgfVxuXG4gIHByaXZhdGUgYXN5bmMgc3RhcnRTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24oZGV2aWNlSWQ/OiBzdHJpbmcpIHtcbiAgICBhd2FpdCB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5zb3VuZERldGVjdG9yQ29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuc3RvcFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbigpO1xuICAgICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICB0aGlzLnJuU3BlZWNoRGV0ZWN0b3IgPSBuZXcgUk5TcGVlY2hEZXRlY3RvcigpO1xuICAgICAgICBjb25zdCB1bnN1YnNjcmliZSA9IGF3YWl0IHRoaXMucm5TcGVlY2hEZXRlY3Rvci5zdGFydCgoZXZlbnQpID0+IHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldFNwZWFraW5nV2hpbGVNdXRlZChldmVudC5pc1NvdW5kRGV0ZWN0ZWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zb3VuZERldGVjdG9yQ2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgICAgIHRoaXMucm5TcGVlY2hEZXRlY3RvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE5lZWQgdG8gc3RhcnQgYSBuZXcgc3RyZWFtIHRoYXQncyBub3QgY29ubmVjdGVkIHRvIHB1Ymxpc2hlclxuICAgICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmdldFN0cmVhbSh7XG4gICAgICAgICAgZGV2aWNlSWQ6IHsgZXhhY3Q6IGRldmljZUlkIH0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwID0gY3JlYXRlU291bmREZXRlY3RvcihzdHJlYW0sIChldmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0U3BlYWtpbmdXaGlsZU11dGVkKGV2ZW50LmlzU291bmREZXRlY3RlZCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBzdG9wU3BlYWtpbmdXaGlsZU11dGVkRGV0ZWN0aW9uKCkge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLnNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwKSByZXR1cm47XG4gICAgICBjb25zdCBzb3VuZERldGVjdG9yQ2xlYW51cCA9IHRoaXMuc291bmREZXRlY3RvckNsZWFudXA7XG4gICAgICB0aGlzLnNvdW5kRGV0ZWN0b3JDbGVhbnVwID0gdW5kZWZpbmVkO1xuICAgICAgdGhpcy5zdGF0ZS5zZXRTcGVha2luZ1doaWxlTXV0ZWQoZmFsc2UpO1xuICAgICAgYXdhaXQgc291bmREZXRlY3RvckNsZWFudXAoKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSB9IGZyb20gJy4vSW5wdXRNZWRpYURldmljZU1hbmFnZXJTdGF0ZSc7XG5pbXBvcnQgeyBTY3JlZW5TaGFyZVNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgUnhVdGlscyB9IGZyb20gJy4uL3N0b3JlJztcblxuZXhwb3J0IGNsYXNzIFNjcmVlblNoYXJlU3RhdGUgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlPERpc3BsYXlNZWRpYVN0cmVhbU9wdGlvbnM+IHtcbiAgcHJpdmF0ZSBhdWRpb0VuYWJsZWRTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxib29sZWFuPih0cnVlKTtcbiAgcHJpdmF0ZSBzZXR0aW5nc1N1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PFxuICAgIFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWRcbiAgPih1bmRlZmluZWQpO1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIGF1ZGlvIHN0YXR1cy5cbiAgICovXG4gIGF1ZGlvRW5hYmxlZCQgPSB0aGlzLmF1ZGlvRW5hYmxlZFN1YmplY3RcbiAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAucGlwZShkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAvKipcbiAgICogQW4gT2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICovXG4gIHNldHRpbmdzJCA9IHRoaXMuc2V0dGluZ3NTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByb3RlY3RlZCBnZXREZXZpY2VJZEZyb21TdHJlYW0gPSAoXG4gICAgc3RyZWFtOiBNZWRpYVN0cmVhbSxcbiAgKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcbiAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFRyYWNrcygpO1xuICAgIHJldHVybiB0cmFjaz8uZ2V0U2V0dGluZ3MoKS5kZXZpY2VJZDtcbiAgfTtcblxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIGF1ZGlvIHN0YXR1cy5cbiAgICovXG4gIGdldCBhdWRpb0VuYWJsZWQoKSB7XG4gICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKHRoaXMuYXVkaW9FbmFibGVkJCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBhdWRpbyBzdGF0dXMuXG4gICAqL1xuICBzZXRBdWRpb0VuYWJsZWQoaXNFbmFibGVkOiBib29sZWFuKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5hdWRpb0VuYWJsZWRTdWJqZWN0LCBpc0VuYWJsZWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50IHNjcmVlbiBzaGFyZSBzZXR0aW5ncy5cbiAgICovXG4gIGdldCBzZXR0aW5ncygpIHtcbiAgICByZXR1cm4gUnhVdGlscy5nZXRDdXJyZW50VmFsdWUodGhpcy5zZXR0aW5ncyQpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgc2NyZWVuIHNoYXJlIHNldHRpbmdzIHRvIHNldC5cbiAgICovXG4gIHNldFNldHRpbmdzKHNldHRpbmdzOiBTY3JlZW5TaGFyZVNldHRpbmdzIHwgdW5kZWZpbmVkKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZXR0aW5nc1N1YmplY3QsIHNldHRpbmdzKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IElucHV0TWVkaWFEZXZpY2VNYW5hZ2VyIH0gZnJvbSAnLi9JbnB1dE1lZGlhRGV2aWNlTWFuYWdlcic7XG5pbXBvcnQgeyBTY3JlZW5TaGFyZVN0YXRlIH0gZnJvbSAnLi9TY3JlZW5TaGFyZVN0YXRlJztcbmltcG9ydCB7IENhbGwgfSBmcm9tICcuLi9DYWxsJztcbmltcG9ydCB7IFRyYWNrVHlwZSB9IGZyb20gJy4uL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQgeyBnZXRTY3JlZW5TaGFyZVN0cmVhbSB9IGZyb20gJy4vZGV2aWNlcyc7XG5pbXBvcnQgeyBTY3JlZW5TaGFyZVNldHRpbmdzIH0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IHsgY3JlYXRlU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vc3RvcmUvcnhVdGlscyc7XG5cbmV4cG9ydCBjbGFzcyBTY3JlZW5TaGFyZU1hbmFnZXIgZXh0ZW5kcyBJbnB1dE1lZGlhRGV2aWNlTWFuYWdlcjxcbiAgU2NyZWVuU2hhcmVTdGF0ZSxcbiAgRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9uc1xuPiB7XG4gIGNvbnN0cnVjdG9yKGNhbGw6IENhbGwpIHtcbiAgICBzdXBlcihjYWxsLCBuZXcgU2NyZWVuU2hhcmVTdGF0ZSgpLCBUcmFja1R5cGUuU0NSRUVOX1NIQVJFKTtcblxuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKGNhbGwuc3RhdGUuc2V0dGluZ3MkLCAoc2V0dGluZ3MpID0+IHtcbiAgICAgICAgY29uc3QgbWF5YmVUYXJnZXRSZXNvbHV0aW9uID0gc2V0dGluZ3M/LnNjcmVlbnNoYXJpbmcudGFyZ2V0X3Jlc29sdXRpb247XG5cbiAgICAgICAgaWYgKG1heWJlVGFyZ2V0UmVzb2x1dGlvbikge1xuICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdENvbnN0cmFpbnRzKHtcbiAgICAgICAgICAgIHZpZGVvOiB7XG4gICAgICAgICAgICAgIHdpZHRoOiBtYXliZVRhcmdldFJlc29sdXRpb24ud2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogbWF5YmVUYXJnZXRSZXNvbHV0aW9uLmhlaWdodCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogV2lsbCBlbmFibGUgc2NyZWVuIHNoYXJlIGF1ZGlvIG9wdGlvbnMgb24gc3VwcG9ydGVkIHBsYXRmb3Jtcy5cbiAgICpcbiAgICogTm90ZTogZm9yIG9uZ29pbmcgc2NyZWVuIHNoYXJlLCBhdWRpbyB3b24ndCBiZSBlbmFibGVkIHVudGlsIHlvdVxuICAgKiByZS1wdWJsaXNoIHRoZSBzY3JlZW4gc2hhcmUgc3RyZWFtLlxuICAgKi9cbiAgZW5hYmxlU2NyZWVuU2hhcmVBdWRpbygpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnNldEF1ZGlvRW5hYmxlZCh0cnVlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXaWxsIGRpc2FibGUgc2NyZWVuIHNoYXJlIGF1ZGlvIG9wdGlvbnMgb24gc3VwcG9ydGVkIHBsYXRmb3Jtcy5cbiAgICovXG4gIGFzeW5jIGRpc2FibGVTY3JlZW5TaGFyZUF1ZGlvKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRoaXMuc3RhdGUuc2V0QXVkaW9FbmFibGVkKGZhbHNlKTtcbiAgICBpZiAodGhpcy5jYWxsLnB1Ymxpc2hlcj8uaXNQdWJsaXNoaW5nKFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU8pKSB7XG4gICAgICBhd2FpdCB0aGlzLmNhbGwuc3RvcFB1Ymxpc2goVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGN1cnJlbnQgc2NyZWVuIHNoYXJlIHNldHRpbmdzLlxuICAgKi9cbiAgZ2V0U2V0dGluZ3MoKTogU2NyZWVuU2hhcmVTZXR0aW5ncyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2V0dGluZ3M7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB0aGUgY3VycmVudCBzY3JlZW4gc2hhcmUgc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSBzZXR0aW5ncyB0aGUgc2V0dGluZ3MgdG8gc2V0LlxuICAgKi9cbiAgc2V0U2V0dGluZ3Moc2V0dGluZ3M6IFNjcmVlblNoYXJlU2V0dGluZ3MgfCB1bmRlZmluZWQpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXRlLnNldFNldHRpbmdzKHNldHRpbmdzKTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXREZXZpY2VzKCk6IE9ic2VydmFibGU8TWVkaWFEZXZpY2VJbmZvW10+IHtcbiAgICByZXR1cm4gb2YoW10pOyAvLyB0aGVyZSBhcmUgbm8gZGV2aWNlcyB0byBiZSBsaXN0ZWQgZm9yIFNjcmVlbiBTaGFyZVxuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIGdldFN0cmVhbShcbiAgICBjb25zdHJhaW50czogRGlzcGxheU1lZGlhU3RyZWFtT3B0aW9ucyxcbiAgKTogUHJvbWlzZTxNZWRpYVN0cmVhbT4ge1xuICAgIGlmICghdGhpcy5zdGF0ZS5hdWRpb0VuYWJsZWQpIHtcbiAgICAgIGNvbnN0cmFpbnRzLmF1ZGlvID0gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IGdldFNjcmVlblNoYXJlU3RyZWFtKGNvbnN0cmFpbnRzLCB0aGlzLmNhbGwudHJhY2VyKTtcbiAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgY29uc3QgeyBjb250ZW50SGludCB9ID0gdGhpcy5zdGF0ZS5zZXR0aW5ncyB8fCB7fTtcbiAgICBpZiAodHlwZW9mIGNvbnRlbnRIaW50ICE9PSAndW5kZWZpbmVkJyAmJiB0cmFjayAmJiAnY29udGVudEhpbnQnIGluIHRyYWNrKSB7XG4gICAgICB0aGlzLmNhbGwudHJhY2VyLnRyYWNlKFxuICAgICAgICAnbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXREaXNwbGF5TWVkaWEuY29udGVudEhpbnQnLFxuICAgICAgICBjb250ZW50SGludCxcbiAgICAgICk7XG4gICAgICB0cmFjay5jb250ZW50SGludCA9IGNvbnRlbnRIaW50O1xuICAgIH1cbiAgICByZXR1cm4gc3RyZWFtO1xuICB9XG5cbiAgcHJvdGVjdGVkIGFzeW5jIHN0b3BQdWJsaXNoU3RyZWFtKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmNhbGwuc3RvcFB1Ymxpc2goXG4gICAgICBUcmFja1R5cGUuU0NSRUVOX1NIQVJFLFxuICAgICAgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyxcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIE92ZXJyaWRlcyB0aGUgZGVmYXVsdCBgc2VsZWN0YCBtZXRob2QgdG8gdGhyb3cgYW4gZXJyb3IuXG4gICAqL1xuICBhc3luYyBzZWxlY3QoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdOb3Qgc3VwcG9ydGVkJyk7XG4gIH1cbn1cbiIsImltcG9ydCB7IEJlaGF2aW9yU3ViamVjdCwgZGlzdGluY3RVbnRpbENoYW5nZWQsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJ4VXRpbHMgfSBmcm9tICcuLi9zdG9yZSc7XG5pbXBvcnQgeyBjaGVja0lmQXVkaW9PdXRwdXRDaGFuZ2VTdXBwb3J0ZWQgfSBmcm9tICcuL2RldmljZXMnO1xuaW1wb3J0IHsgVHJhY2VyIH0gZnJvbSAnLi4vc3RhdHMnO1xuXG5leHBvcnQgY2xhc3MgU3BlYWtlclN0YXRlIHtcbiAgcHJvdGVjdGVkIHNlbGVjdGVkRGV2aWNlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8c3RyaW5nPignJyk7XG4gIHByb3RlY3RlZCB2b2x1bWVTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdDxudW1iZXI+KDEpO1xuICAvKipcbiAgICogW1RlbGxzIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIGF1ZGlvIG91dHB1dCBjaGFuZ2Ugb24gJ2F1ZGlvJyBlbGVtZW50c10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnQvc2V0U2lua0lkKS5cbiAgICovXG4gIHJlYWRvbmx5IGlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkID0gY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkKCk7XG5cbiAgLyoqXG4gICAqIEFuIE9ic2VydmFibGUgdGhhdCBlbWl0cyB0aGUgY3VycmVudGx5IHNlbGVjdGVkIGRldmljZVxuICAgKlxuICAgKiBOb3RlOiB0aGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIHNlbGVjdGVkRGV2aWNlJDogT2JzZXJ2YWJsZTxzdHJpbmc+O1xuXG4gIC8qKlxuICAgKiBBbiBPYnNlcnZhYmxlIHRoYXQgZW1pdHMgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCB2b2x1bWVcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICB2b2x1bWUkOiBPYnNlcnZhYmxlPG51bWJlcj47XG5cbiAgcHJpdmF0ZSB0cmFjZXI6IFRyYWNlcjtcblxuICBjb25zdHJ1Y3Rvcih0cmFjZXI6IFRyYWNlcikge1xuICAgIHRoaXMudHJhY2VyID0gdHJhY2VyO1xuICAgIHRoaXMuc2VsZWN0ZWREZXZpY2UkID0gdGhpcy5zZWxlY3RlZERldmljZVN1YmplY3RcbiAgICAgIC5hc09ic2VydmFibGUoKVxuICAgICAgLnBpcGUoZGlzdGluY3RVbnRpbENoYW5nZWQoKSk7XG4gICAgdGhpcy52b2x1bWUkID0gdGhpcy52b2x1bWVTdWJqZWN0XG4gICAgICAuYXNPYnNlcnZhYmxlKClcbiAgICAgIC5waXBlKGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgZGV2aWNlXG4gICAqXG4gICAqIE5vdGU6IHRoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICAgKi9cbiAgZ2V0IHNlbGVjdGVkRGV2aWNlKCkge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnNlbGVjdGVkRGV2aWNlJCk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGN1cnJlbnRseSBzZWxlY3RlZCB2b2x1bWVcbiAgICpcbiAgICogTm90ZTogdGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqL1xuICBnZXQgdm9sdW1lKCkge1xuICAgIHJldHVybiBSeFV0aWxzLmdldEN1cnJlbnRWYWx1ZSh0aGlzLnZvbHVtZSQpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gZGV2aWNlSWRcbiAgICovXG4gIHNldERldmljZShkZXZpY2VJZDogc3RyaW5nKSB7XG4gICAgUnhVdGlscy5zZXRDdXJyZW50VmFsdWUodGhpcy5zZWxlY3RlZERldmljZVN1YmplY3QsIGRldmljZUlkKTtcbiAgICB0aGlzLnRyYWNlci50cmFjZSgnbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5zZXRTaW5rSWQnLCBkZXZpY2VJZCk7XG4gIH1cblxuICAvKipcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSB2b2x1bWVcbiAgICovXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIFJ4VXRpbHMuc2V0Q3VycmVudFZhbHVlKHRoaXMudm9sdW1lU3ViamVjdCwgdm9sdW1lKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi4vQ2FsbCc7XG5pbXBvcnQgeyBpc1JlYWN0TmF0aXZlIH0gZnJvbSAnLi4vaGVscGVycy9wbGF0Zm9ybXMnO1xuaW1wb3J0IHsgU3BlYWtlclN0YXRlIH0gZnJvbSAnLi9TcGVha2VyU3RhdGUnO1xuaW1wb3J0IHsgZGV2aWNlSWRzJCwgZ2V0QXVkaW9PdXRwdXREZXZpY2VzIH0gZnJvbSAnLi9kZXZpY2VzJztcblxuZXhwb3J0IGNsYXNzIFNwZWFrZXJNYW5hZ2VyIHtcbiAgcmVhZG9ubHkgc3RhdGU6IFNwZWFrZXJTdGF0ZTtcbiAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuICBwcml2YXRlIHJlYWRvbmx5IGNhbGw6IENhbGw7XG5cbiAgY29uc3RydWN0b3IoY2FsbDogQ2FsbCkge1xuICAgIHRoaXMuY2FsbCA9IGNhbGw7XG4gICAgdGhpcy5zdGF0ZSA9IG5ldyBTcGVha2VyU3RhdGUoY2FsbC50cmFjZXIpO1xuICAgIGlmIChkZXZpY2VJZHMkICYmICFpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgICBjb21iaW5lTGF0ZXN0KFtkZXZpY2VJZHMkISwgdGhpcy5zdGF0ZS5zZWxlY3RlZERldmljZSRdKS5zdWJzY3JpYmUoXG4gICAgICAgICAgKFtkZXZpY2VzLCBkZXZpY2VJZF0pID0+IHtcbiAgICAgICAgICAgIGlmICghZGV2aWNlSWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZGV2aWNlID0gZGV2aWNlcy5maW5kKFxuICAgICAgICAgICAgICAoZCkgPT4gZC5kZXZpY2VJZCA9PT0gZGV2aWNlSWQgJiYgZC5raW5kID09PSAnYXVkaW9vdXRwdXQnLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGlmICghZGV2aWNlKSB7XG4gICAgICAgICAgICAgIHRoaXMuc2VsZWN0KCcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICApLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTGlzdHMgdGhlIGF2YWlsYWJsZSBhdWRpbyBvdXRwdXQgZGV2aWNlc1xuICAgKlxuICAgKiBOb3RlOiBJdCBwcm9tcHRzIHRoZSB1c2VyIGZvciBhIHBlcm1pc3Npb24gdG8gdXNlIGRldmljZXMgKGlmIG5vdCBhbHJlYWR5IGdyYW50ZWQpXG4gICAqIE5vdGU6IFRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlXG4gICAqXG4gICAqIEByZXR1cm5zIGFuIE9ic2VydmFibGUgdGhhdCB3aWxsIGJlIHVwZGF0ZWQgaWYgYSBkZXZpY2UgaXMgY29ubmVjdGVkIG9yIGRpc2Nvbm5lY3RlZFxuICAgKi9cbiAgbGlzdERldmljZXMoKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEF1ZGlvT3V0cHV0RGV2aWNlcygpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbGVjdCBhIGRldmljZS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICpcbiAgICogQHBhcmFtIGRldmljZUlkIGVtcHR5IHN0cmluZyBtZWFucyB0aGUgc3lzdGVtIGRlZmF1bHRcbiAgICovXG4gIHNlbGVjdChkZXZpY2VJZDogc3RyaW5nKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zdGF0ZS5zZXREZXZpY2UoZGV2aWNlSWQpO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2VzIHRoZSBtYW5hZ2VyLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goKHMpID0+IHMudW5zdWJzY3JpYmUoKSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldCB0aGUgdm9sdW1lIG9mIHRoZSBhdWRpbyBlbGVtZW50c1xuICAgKiBAcGFyYW0gdm9sdW1lIGEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmVcbiAgICovXG4gIHNldFZvbHVtZSh2b2x1bWU6IG51bWJlcikge1xuICAgIGlmIChpc1JlYWN0TmF0aXZlKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1RoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgbW9yZSBkZXRhaWxzJyxcbiAgICAgICk7XG4gICAgfVxuICAgIGlmICh2b2x1bWUgJiYgKHZvbHVtZSA8IDAgfHwgdm9sdW1lID4gMSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVm9sdW1lIG11c3QgYmUgYmV0d2VlbiAwIGFuZCAxJyk7XG4gICAgfVxuICAgIHRoaXMuc3RhdGUuc2V0Vm9sdW1lKHZvbHVtZSk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2b2x1bWUgb2YgYSBwYXJ0aWNpcGFudC5cbiAgICpcbiAgICogTm90ZTogVGhpcyBtZXRob2QgaXMgbm90IHN1cHBvcnRlZCBpbiBSZWFjdCBOYXRpdmUuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHBhcnRpY2lwYW50J3Mgc2Vzc2lvbiBpZC5cbiAgICogQHBhcmFtIHZvbHVtZSBhIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuIFNldCBpdCB0byBgdW5kZWZpbmVkYCB0byB1c2UgdGhlIGRlZmF1bHQgdm9sdW1lLlxuICAgKi9cbiAgc2V0UGFydGljaXBhbnRWb2x1bWUoc2Vzc2lvbklkOiBzdHJpbmcsIHZvbHVtZTogbnVtYmVyIHwgdW5kZWZpbmVkKSB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnVGhpcyBmZWF0dXJlIGlzIG5vdCBzdXBwb3J0ZWQgaW4gUmVhY3QgTmF0aXZlLiBQbGVhc2UgdmlzaXQgaHR0cHM6Ly9nZXRzdHJlYW0uaW8vdmlkZW8vZG9jcy9yZWFjdG5hdGl2ZS9jb3JlL2NhbWVyYS1hbmQtbWljcm9waG9uZS8jc3BlYWtlci1tYW5hZ2VtZW50IGZvciBtb3JlIGRldGFpbHMnLFxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHZvbHVtZSAmJiAodm9sdW1lIDwgMCB8fCB2b2x1bWUgPiAxKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdWb2x1bWUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICB0aGlzLmNhbGwuc3RhdGUudXBkYXRlUGFydGljaXBhbnQoc2Vzc2lvbklkLCB7IGF1ZGlvVm9sdW1lOiB2b2x1bWUgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFN0cmVhbVNmdUNsaWVudCB9IGZyb20gJy4vU3RyZWFtU2Z1Q2xpZW50JztcbmltcG9ydCB7XG4gIERpc3BhdGNoZXIsXG4gIGdldEdlbmVyaWNTZHAsXG4gIGlzQXVkaW9UcmFja1R5cGUsXG4gIGlzU2Z1RXZlbnQsXG4gIG11dGVUeXBlVG9UcmFja1R5cGUsXG4gIFB1Ymxpc2hlcixcbiAgU3Vic2NyaWJlcixcbiAgdG9SdGNDb25maWd1cmF0aW9uLFxuICB0cmFja1R5cGVUb1BhcnRpY2lwYW50U3RyZWFtS2V5LFxufSBmcm9tICcuL3J0Yyc7XG5pbXBvcnQge1xuICByZWdpc3RlckV2ZW50SGFuZGxlcnMsXG4gIHJlZ2lzdGVyUmluZ2luZ0NhbGxFdmVudEhhbmRsZXJzLFxufSBmcm9tICcuL2V2ZW50cy9jYWxsRXZlbnRIYW5kbGVycyc7XG5pbXBvcnQge1xuICBDYWxsaW5nU3RhdGUsXG4gIENhbGxTdGF0ZSxcbiAgU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlLFxufSBmcm9tICcuL3N0b3JlJztcbmltcG9ydCB7XG4gIGNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbixcbiAgY3JlYXRlU3Vic2NyaXB0aW9uLFxuICBnZXRDdXJyZW50VmFsdWUsXG59IGZyb20gJy4vc3RvcmUvcnhVdGlscyc7XG5pbXBvcnQgdHlwZSB7XG4gIEFjY2VwdENhbGxSZXNwb25zZSxcbiAgQmxvY2tVc2VyUmVxdWVzdCxcbiAgQmxvY2tVc2VyUmVzcG9uc2UsXG4gIENhbGxSaW5nRXZlbnQsXG4gIENhbGxTZXR0aW5nc1Jlc3BvbnNlLFxuICBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdCxcbiAgQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlLFxuICBDcmVkZW50aWFscyxcbiAgRGVsZXRlQ2FsbFJlcXVlc3QsXG4gIERlbGV0ZUNhbGxSZXNwb25zZSxcbiAgRW5kQ2FsbFJlc3BvbnNlLFxuICBHZXRDYWxsUmVwb3J0UmVzcG9uc2UsXG4gIEdldENhbGxSZXNwb25zZSxcbiAgR2V0T3JDcmVhdGVDYWxsUmVxdWVzdCxcbiAgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2UsXG4gIEdvTGl2ZVJlcXVlc3QsXG4gIEdvTGl2ZVJlc3BvbnNlLFxuICBKb2luQ2FsbFJlcXVlc3QsXG4gIEpvaW5DYWxsUmVzcG9uc2UsXG4gIExpc3RSZWNvcmRpbmdzUmVzcG9uc2UsXG4gIExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlLFxuICBNdXRlVXNlcnNSZXF1ZXN0LFxuICBNdXRlVXNlcnNSZXNwb25zZSxcbiAgUGluUmVxdWVzdCxcbiAgUGluUmVzcG9uc2UsXG4gIFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0LFxuICBRdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2UsXG4gIFJlamVjdENhbGxSZXF1ZXN0LFxuICBSZWplY3RDYWxsUmVzcG9uc2UsXG4gIFJlcXVlc3RQZXJtaXNzaW9uUmVxdWVzdCxcbiAgUmVxdWVzdFBlcm1pc3Npb25SZXNwb25zZSxcbiAgU2VuZENhbGxFdmVudFJlcXVlc3QsXG4gIFNlbmRDYWxsRXZlbnRSZXNwb25zZSxcbiAgU2VuZFJlYWN0aW9uUmVxdWVzdCxcbiAgU2VuZFJlYWN0aW9uUmVzcG9uc2UsXG4gIFN0YXJ0Q2xvc2VkQ2FwdGlvbnNSZXF1ZXN0LFxuICBTdGFydENsb3NlZENhcHRpb25zUmVzcG9uc2UsXG4gIFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXF1ZXN0LFxuICBTdGFydEZyYW1lUmVjb3JkaW5nUmVzcG9uc2UsXG4gIFN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2UsXG4gIFN0YXJ0UmVjb3JkaW5nUmVxdWVzdCxcbiAgU3RhcnRSZWNvcmRpbmdSZXNwb25zZSxcbiAgU3RhcnRSVE1QQnJvYWRjYXN0c1JlcXVlc3QsXG4gIFN0YXJ0UlRNUEJyb2FkY2FzdHNSZXNwb25zZSxcbiAgU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdCxcbiAgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2UsXG4gIFN0YXRzT3B0aW9ucyxcbiAgU3RvcEFsbFJUTVBCcm9hZGNhc3RzUmVzcG9uc2UsXG4gIFN0b3BDbG9zZWRDYXB0aW9uc1JlcXVlc3QsXG4gIFN0b3BDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlLFxuICBTdG9wRnJhbWVSZWNvcmRpbmdSZXNwb25zZSxcbiAgU3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlLFxuICBTdG9wTGl2ZVJlcXVlc3QsXG4gIFN0b3BMaXZlUmVzcG9uc2UsXG4gIFN0b3BSZWNvcmRpbmdSZXNwb25zZSxcbiAgU3RvcFJUTVBCcm9hZGNhc3RzUmVzcG9uc2UsXG4gIFN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2UsXG4gIFVuYmxvY2tVc2VyUmVxdWVzdCxcbiAgVW5ibG9ja1VzZXJSZXNwb25zZSxcbiAgVW5waW5SZXF1ZXN0LFxuICBVbnBpblJlc3BvbnNlLFxuICBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3QsXG4gIFVwZGF0ZUNhbGxNZW1iZXJzUmVzcG9uc2UsXG4gIFVwZGF0ZUNhbGxSZXF1ZXN0LFxuICBVcGRhdGVDYWxsUmVzcG9uc2UsXG4gIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3QsXG4gIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlLFxufSBmcm9tICcuL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQgeyBPd25DYXBhYmlsaXR5IH0gZnJvbSAnLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHtcbiAgQXVkaW9UcmFja1R5cGUsXG4gIENhbGxDb25zdHJ1Y3RvcixcbiAgQ2FsbExlYXZlT3B0aW9ucyxcbiAgQ2xpZW50UHVibGlzaE9wdGlvbnMsXG4gIENsb3NlZENhcHRpb25zU2V0dGluZ3MsXG4gIEpvaW5DYWxsRGF0YSxcbiAgVHJhY2tNdXRlVHlwZSxcbiAgVmlkZW9UcmFja1R5cGUsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBTdWJqZWN0LCB0YWtlV2hpbGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFJlY29ubmVjdERldGFpbHMgfSBmcm9tICcuL2dlbi92aWRlby9zZnUvZXZlbnQvZXZlbnRzJztcbmltcG9ydCB7XG4gIENsaWVudERldGFpbHMsXG4gIENvZGVjLFxuICBQdWJsaXNoT3B0aW9uLFxuICBTdWJzY3JpYmVPcHRpb24sXG4gIFRyYWNrVHlwZSxcbiAgVmlkZW9EaW1lbnNpb24sXG4gIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LFxufSBmcm9tICcuL2dlbi92aWRlby9zZnUvbW9kZWxzL21vZGVscyc7XG5pbXBvcnQge1xuICBjcmVhdGVTdGF0c1JlcG9ydGVyLFxuICBnZXRTZGtTaWduYXR1cmUsXG4gIFNmdVN0YXRzUmVwb3J0ZXIsXG4gIFN0YXRzUmVwb3J0ZXIsXG4gIFRyYWNlcixcbn0gZnJvbSAnLi9zdGF0cyc7XG5pbXBvcnQgeyBEeW5hc2NhbGVNYW5hZ2VyIH0gZnJvbSAnLi9oZWxwZXJzL0R5bmFzY2FsZU1hbmFnZXInO1xuaW1wb3J0IHsgUGVybWlzc2lvbnNDb250ZXh0IH0gZnJvbSAnLi9wZXJtaXNzaW9ucyc7XG5pbXBvcnQgeyBDYWxsVHlwZXMgfSBmcm9tICcuL0NhbGxUeXBlJztcbmltcG9ydCB7IFN0cmVhbUNsaWVudCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQnO1xuaW1wb3J0IHsgcmV0cnlJbnRlcnZhbCwgc2xlZXAgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdXRpbHMnO1xuaW1wb3J0IHtcbiAgQWxsQ2FsbEV2ZW50cyxcbiAgQ2FsbEV2ZW50TGlzdGVuZXIsXG4gIEVycm9yRnJvbVJlc3BvbnNlLFxuICBMb2dnZXIsXG4gIFJlamVjdFJlYXNvbixcbiAgU3RyZWFtQ2FsbEV2ZW50LFxufSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0Q2xpZW50RGV0YWlscyB9IGZyb20gJy4vaGVscGVycy9jbGllbnQtZGV0YWlscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIgfSBmcm9tICcuL2xvZ2dlcic7XG5pbXBvcnQge1xuICBDYW1lcmFNYW5hZ2VyLFxuICBNaWNyb3Bob25lTWFuYWdlcixcbiAgU2NyZWVuU2hhcmVNYW5hZ2VyLFxuICBTcGVha2VyTWFuYWdlcixcbn0gZnJvbSAnLi9kZXZpY2VzJztcbmltcG9ydCB7IGhhc1BlbmRpbmcsIHdpdGhvdXRDb25jdXJyZW5jeSB9IGZyb20gJy4vaGVscGVycy9jb25jdXJyZW5jeSc7XG5pbXBvcnQgeyBlbnN1cmVFeGhhdXN0ZWQgfSBmcm9tICcuL2hlbHBlcnMvZW5zdXJlRXhoYXVzdGVkJztcbmltcG9ydCB7IHB1c2hUb0lmTWlzc2luZyB9IGZyb20gJy4vaGVscGVycy9hcnJheSc7XG5pbXBvcnQge1xuICBtYWtlU2FmZVByb21pc2UsXG4gIFByb21pc2VXaXRoUmVzb2x2ZXJzLFxuICBwcm9taXNlV2l0aFJlc29sdmVycyxcbn0gZnJvbSAnLi9oZWxwZXJzL3Byb21pc2UnO1xuaW1wb3J0IHsgR2V0Q2FsbFN0YXRzUmVzcG9uc2UgfSBmcm9tICcuL2dlbi9zaGltcyc7XG5cbi8qKlxuICogQW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIGEgYENhbGxgLlxuICovXG5leHBvcnQgY2xhc3MgQ2FsbCB7XG4gIC8qKlxuICAgKiBUaGUgdHlwZSBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHJlYWRvbmx5IHR5cGU6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIElEIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgaWQ6IHN0cmluZztcblxuICAvKipcbiAgICogVGhlIGNhbGwgQ0lELlxuICAgKi9cbiAgcmVhZG9ubHkgY2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBzdGF0ZSBvZiB0aGlzIGNhbGwuXG4gICAqL1xuICByZWFkb25seSBzdGF0ZSA9IG5ldyBDYWxsU3RhdGUoKTtcblxuICAvKipcbiAgICogRmxhZyBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBjYWxsIGlzIFwid2F0Y2hlZFwiIGFuZCByZWNlaXZlc1xuICAgKiB1cGRhdGVzIGZyb20gdGhlIGJhY2tlbmQuXG4gICAqL1xuICB3YXRjaGluZzogYm9vbGVhbjtcblxuICAvKipcbiAgICogRGV2aWNlIG1hbmFnZXIgZm9yIHRoZSBjYW1lcmFcbiAgICovXG4gIHJlYWRvbmx5IGNhbWVyYTogQ2FtZXJhTWFuYWdlcjtcblxuICAvKipcbiAgICogRGV2aWNlIG1hbmFnZXIgZm9yIHRoZSBtaWNyb3Bob25lLlxuICAgKi9cbiAgcmVhZG9ubHkgbWljcm9waG9uZTogTWljcm9waG9uZU1hbmFnZXI7XG5cbiAgLyoqXG4gICAqIERldmljZSBtYW5hZ2VyIGZvciB0aGUgc3BlYWtlci5cbiAgICovXG4gIHJlYWRvbmx5IHNwZWFrZXI6IFNwZWFrZXJNYW5hZ2VyO1xuXG4gIC8qKlxuICAgKiBEZXZpY2UgbWFuYWdlciBmb3IgdGhlIHNjcmVlbi5cbiAgICovXG4gIHJlYWRvbmx5IHNjcmVlblNoYXJlOiBTY3JlZW5TaGFyZU1hbmFnZXI7XG5cbiAgLyoqXG4gICAqIFRoZSBEeW5hc2NhbGVNYW5hZ2VyIGluc3RhbmNlLlxuICAgKi9cbiAgcmVhZG9ubHkgZHluYXNjYWxlTWFuYWdlcjogRHluYXNjYWxlTWFuYWdlcjtcblxuICBzdWJzY3JpYmVyPzogU3Vic2NyaWJlcjtcbiAgcHVibGlzaGVyPzogUHVibGlzaGVyO1xuXG4gIC8qKlxuICAgKiBGbGFnIHRlbGxpbmcgd2hldGhlciB0aGlzIGNhbGwgaXMgYSBcInJpbmdpbmdcIiBjYWxsLlxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSByaW5naW5nU3ViamVjdDogU3ViamVjdDxib29sZWFuPjtcblxuICAvKipcbiAgICogVGhlIHBlcm1pc3Npb25zIGNvbnRleHQgb2YgdGhpcyBjYWxsLlxuICAgKi9cbiAgcmVhZG9ubHkgcGVybWlzc2lvbnNDb250ZXh0ID0gbmV3IFBlcm1pc3Npb25zQ29udGV4dCgpO1xuICByZWFkb25seSB0cmFjZXIgPSBuZXcgVHJhY2VyKG51bGwpO1xuICByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcblxuICAvKipcbiAgICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgaW5zdGFuY2UgZGVkaWNhdGVkIHRvIHRoaXMgQ2FsbCBpbnN0YW5jZS5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIHByaXZhdGUgcmVhZG9ubHkgZGlzcGF0Y2hlciA9IG5ldyBEaXNwYXRjaGVyKCk7XG5cbiAgcHJpdmF0ZSBjbGllbnRQdWJsaXNoT3B0aW9ucz86IENsaWVudFB1Ymxpc2hPcHRpb25zO1xuICBwcml2YXRlIGN1cnJlbnRQdWJsaXNoT3B0aW9ucz86IFB1Ymxpc2hPcHRpb25bXTtcbiAgcHJpdmF0ZSBzdGF0c1JlcG9ydGluZ0ludGVydmFsSW5NczogbnVtYmVyID0gMjAwMDtcbiAgcHJpdmF0ZSBzdGF0c1JlcG9ydGVyPzogU3RhdHNSZXBvcnRlcjtcbiAgcHJpdmF0ZSBzZnVTdGF0c1JlcG9ydGVyPzogU2Z1U3RhdHNSZXBvcnRlcjtcbiAgcHJpdmF0ZSBkcm9wVGltZW91dDogUmV0dXJuVHlwZTx0eXBlb2Ygc2V0VGltZW91dD4gfCB1bmRlZmluZWQ7XG5cbiAgcHJpdmF0ZSByZWFkb25seSBjbGllbnRTdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlO1xuICBwdWJsaWMgcmVhZG9ubHkgc3RyZWFtQ2xpZW50OiBTdHJlYW1DbGllbnQ7XG4gIHByaXZhdGUgc2Z1Q2xpZW50PzogU3RyZWFtU2Z1Q2xpZW50O1xuICBwcml2YXRlIHNmdUNsaWVudFRhZyA9IDA7XG4gIHByaXZhdGUgdW5pZmllZFNlc3Npb25JZD86IHN0cmluZztcblxuICBwcml2YXRlIHJlYWRvbmx5IHJlY29ubmVjdENvbmN1cnJlbmN5VGFnID0gU3ltYm9sKCdyZWNvbm5lY3RDb25jdXJyZW5jeVRhZycpO1xuICBwcml2YXRlIHJlY29ubmVjdEF0dGVtcHRzID0gMDtcbiAgcHJpdmF0ZSByZWNvbm5lY3RTdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlVOU1BFQ0lGSUVEO1xuICBwcml2YXRlIHJlY29ubmVjdFJlYXNvbiA9ICcnO1xuICBwcml2YXRlIGZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHM6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgZGlzY29ubmVjdGlvblRpbWVvdXRTZWNvbmRzOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIGxhc3RPZmZsaW5lVGltZXN0YW1wOiBudW1iZXIgPSAwO1xuICBwcml2YXRlIG5ldHdvcmtBdmFpbGFibGVUYXNrOiBQcm9taXNlV2l0aFJlc29sdmVyczx2b2lkPiB8IHVuZGVmaW5lZDtcbiAgLy8gbWFpbnRhaW4gdGhlIG9yZGVyIG9mIHB1Ymxpc2hpbmcgdHJhY2tzIHRvIHJlc3RvcmUgdGhlbSBhZnRlciBhIHJlY29ubmVjdGlvblxuICAvLyBpdCBzaG91bGRuJ3QgY29udGFpbiBkdXBsaWNhdGVzXG4gIHByaXZhdGUgdHJhY2tQdWJsaXNoT3JkZXI6IFRyYWNrVHlwZVtdID0gW107XG4gIHByaXZhdGUgam9pbkNhbGxEYXRhPzogSm9pbkNhbGxEYXRhO1xuICBwcml2YXRlIGhhc0pvaW5lZE9uY2UgPSBmYWxzZTtcbiAgcHJpdmF0ZSBkZXZpY2VTZXR0aW5nc0FwcGxpZWRPbmNlID0gZmFsc2U7XG4gIHByaXZhdGUgY3JlZGVudGlhbHM/OiBDcmVkZW50aWFscztcblxuICBwcml2YXRlIGluaXRpYWxpemVkID0gZmFsc2U7XG4gIHByaXZhdGUgcmVhZG9ubHkgam9pbkxlYXZlQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woJ2pvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnJyk7XG5cbiAgLyoqXG4gICAqIEEgbGlzdCBob29rcy9mdW5jdGlvbnMgdG8gaW52b2tlIHdoZW4gdGhlIGNhbGwgaXMgbGVmdC5cbiAgICogQSB0eXBpY2FsIHVzZSBjYXNlIGlzIHRvIGNsZWFuIHVwIHNvbWUgZ2xvYmFsIGV2ZW50IGhhbmRsZXJzLlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgcHJpdmF0ZSByZWFkb25seSBsZWF2ZUNhbGxIb29rczogU2V0PEZ1bmN0aW9uPiA9IG5ldyBTZXQoKTtcblxuICBwcml2YXRlIHJlYWRvbmx5IHN0cmVhbUNsaWVudEJhc2VQYXRoOiBzdHJpbmc7XG4gIHByaXZhdGUgc3RyZWFtQ2xpZW50RXZlbnRIYW5kbGVycyA9IG5ldyBNYXA8RnVuY3Rpb24sICgpID0+IHZvaWQ+KCk7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgYENhbGxgIGluc3RhbmNlLlxuICAgKlxuICAgKiBOT1RFOiBEb24ndCBjYWxsIHRoZSBjb25zdHJ1Y3RvciBkaXJlY3RseSwgaW5zdGVhZFxuICAgKiBVc2UgdGhlIFtgU3RyZWFtVmlkZW9DbGllbnQuY2FsbGBdKC4vU3RyZWFtVmlkZW9DbGllbnQubWQvI2NhbGwpXG4gICAqIG1ldGhvZCB0byBjb25zdHJ1Y3QgYSBgQ2FsbGAgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgdHlwZSxcbiAgICBpZCxcbiAgICBzdHJlYW1DbGllbnQsXG4gICAgbWVtYmVycyxcbiAgICBvd25DYXBhYmlsaXRpZXMsXG4gICAgc29ydFBhcnRpY2lwYW50c0J5LFxuICAgIGNsaWVudFN0b3JlLFxuICAgIHJpbmdpbmcgPSBmYWxzZSxcbiAgICB3YXRjaGluZyA9IGZhbHNlLFxuICB9OiBDYWxsQ29uc3RydWN0b3IpIHtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuaWQgPSBpZDtcbiAgICB0aGlzLmNpZCA9IGAke3R5cGV9OiR7aWR9YDtcbiAgICB0aGlzLnJpbmdpbmdTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdChyaW5naW5nKTtcbiAgICB0aGlzLndhdGNoaW5nID0gd2F0Y2hpbmc7XG4gICAgdGhpcy5zdHJlYW1DbGllbnQgPSBzdHJlYW1DbGllbnQ7XG4gICAgdGhpcy5jbGllbnRTdG9yZSA9IGNsaWVudFN0b3JlO1xuICAgIHRoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGggPSBgL2NhbGwvJHt0aGlzLnR5cGV9LyR7dGhpcy5pZH1gO1xuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFsnQ2FsbCddKTtcblxuICAgIGNvbnN0IGNhbGxUeXBlQ29uZmlnID0gQ2FsbFR5cGVzLmdldCh0eXBlKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudFNvcnRlciA9XG4gICAgICBzb3J0UGFydGljaXBhbnRzQnkgfHwgY2FsbFR5cGVDb25maWcub3B0aW9ucy5zb3J0UGFydGljaXBhbnRzQnk7XG4gICAgaWYgKHBhcnRpY2lwYW50U29ydGVyKSB7XG4gICAgICB0aGlzLnN0YXRlLnNldFNvcnRQYXJ0aWNpcGFudHNCeShwYXJ0aWNpcGFudFNvcnRlcik7XG4gICAgfVxuXG4gICAgdGhpcy5zdGF0ZS5zZXRNZW1iZXJzKG1lbWJlcnMgfHwgW10pO1xuICAgIHRoaXMuc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKG93bkNhcGFiaWxpdGllcyB8fCBbXSk7XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoXG4gICAgICByaW5naW5nID8gQ2FsbGluZ1N0YXRlLlJJTkdJTkcgOiBDYWxsaW5nU3RhdGUuSURMRSxcbiAgICApO1xuXG4gICAgdGhpcy5jYW1lcmEgPSBuZXcgQ2FtZXJhTWFuYWdlcih0aGlzKTtcbiAgICB0aGlzLm1pY3JvcGhvbmUgPSBuZXcgTWljcm9waG9uZU1hbmFnZXIodGhpcyk7XG4gICAgdGhpcy5zcGVha2VyID0gbmV3IFNwZWFrZXJNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuc2NyZWVuU2hhcmUgPSBuZXcgU2NyZWVuU2hhcmVNYW5hZ2VyKHRoaXMpO1xuICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlciA9IG5ldyBEeW5hc2NhbGVNYW5hZ2VyKHRoaXMuc3RhdGUsIHRoaXMuc3BlYWtlcik7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyB1cCB0aGUgY2FsbCBpbnN0YW5jZS5cbiAgICpcbiAgICogQGludGVybmFsIGFuIGludGVybmFsIG1ldGhvZCBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIG91dHNpZGUgdGhlIFNESy5cbiAgICovXG4gIHNldHVwID0gYXN5bmMgKCkgPT4ge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLmpvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5pbml0aWFsaXplZCkgcmV0dXJuO1xuXG4gICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgICAgdGhpcy5vbignYWxsJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgLy8gdXBkYXRlIHN0YXRlIHdpdGggdGhlIGxhdGVzdCBldmVudCBkYXRhXG4gICAgICAgICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tRXZlbnQoZXZlbnQpO1xuICAgICAgICB9KSxcbiAgICAgICk7XG5cbiAgICAgIHRoaXMubGVhdmVDYWxsSG9va3MuYWRkKFxuICAgICAgICB0aGlzLm9uKCdjaGFuZ2VQdWJsaXNoT3B0aW9ucycsIChldmVudCkgPT4ge1xuICAgICAgICAgIHRoaXMuY3VycmVudFB1Ymxpc2hPcHRpb25zID0gZXZlbnQucHVibGlzaE9wdGlvbnM7XG4gICAgICAgIH0pLFxuICAgICAgKTtcblxuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQocmVnaXN0ZXJFdmVudEhhbmRsZXJzKHRoaXMsIHRoaXMuZGlzcGF0Y2hlcikpO1xuICAgICAgdGhpcy5yZWdpc3RlckVmZmVjdHMoKTtcbiAgICAgIHRoaXMucmVnaXN0ZXJSZWNvbm5lY3RIYW5kbGVycygpO1xuXG4gICAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUKSB7XG4gICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5JRExFKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XG4gICAgfSk7XG4gIH07XG5cbiAgcHJpdmF0ZSByZWdpc3RlckVmZmVjdHMgPSAoKSA9PiB7XG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQoXG4gICAgICAvLyBoYW5kbGVzIHVwZGF0aW5nIHRoZSBwZXJtaXNzaW9ucyBjb250ZXh0IHdoZW4gdGhlIHNldHRpbmdzIGNoYW5nZS5cbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnN0YXRlLnNldHRpbmdzJCwgKHNldHRpbmdzKSA9PiB7XG4gICAgICAgIGlmICghc2V0dGluZ3MpIHJldHVybjtcbiAgICAgICAgdGhpcy5wZXJtaXNzaW9uc0NvbnRleHQuc2V0Q2FsbFNldHRpbmdzKHNldHRpbmdzKTtcbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIGhhbmRsZSB0aGUgY2FzZSB3aGVuIHRoZSB1c2VyIHBlcm1pc3Npb25zIGFyZSBtb2RpZmllZC5cbiAgICAgIGNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbihcbiAgICAgICAgdGhpcy5zdGF0ZS5vd25DYXBhYmlsaXRpZXMkLFxuICAgICAgICB0aGlzLmhhbmRsZU93bkNhcGFiaWxpdGllc1VwZGF0ZWQsXG4gICAgICApLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIGhhbmRsZXMgdGhlIGNhc2Ugd2hlbiB0aGUgdXNlciBpcyBibG9ja2VkIGJ5IHRoZSBjYWxsIG93bmVyLlxuICAgICAgY3JlYXRlU3Vic2NyaXB0aW9uKHRoaXMuc3RhdGUuYmxvY2tlZFVzZXJJZHMkLCBhc3luYyAoYmxvY2tlZFVzZXJJZHMpID0+IHtcbiAgICAgICAgaWYgKCFibG9ja2VkVXNlcklkcyB8fCBibG9ja2VkVXNlcklkcy5sZW5ndGggPT09IDApIHJldHVybjtcbiAgICAgICAgY29uc3QgY3VycmVudFVzZXJJZCA9IHRoaXMuY3VycmVudFVzZXJJZDtcbiAgICAgICAgaWYgKGN1cnJlbnRVc2VySWQgJiYgYmxvY2tlZFVzZXJJZHMuaW5jbHVkZXMoY3VycmVudFVzZXJJZCkpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignaW5mbycsICdMZWF2aW5nIGNhbGwgYmVjYXVzZSBvZiBiZWluZyBibG9ja2VkJyk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5sZWF2ZSh7IG1lc3NhZ2U6ICd1c2VyIGJsb2NrZWQnIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCdlcnJvcicsICdFcnJvciBsZWF2aW5nIGNhbGwgYWZ0ZXIgYmVpbmcgYmxvY2tlZCcsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIGNhbmNlbCBhdXRvLWRyb3Agd2hlbiBjYWxsIGlzIGFjY2VwdGVkIG9yIHJlamVjdGVkXG4gICAgICBjcmVhdGVTdWJzY3JpcHRpb24odGhpcy5zdGF0ZS5zZXNzaW9uJCwgKHNlc3Npb24pID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnJpbmdpbmcpIHJldHVybjtcblxuICAgICAgICBjb25zdCByZWNlaXZlcklkID0gdGhpcy5jbGllbnRTdG9yZS5jb25uZWN0ZWRVc2VyPy5pZDtcbiAgICAgICAgaWYgKCFyZWNlaXZlcklkKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgaXNBY2NlcHRlZEJ5TWUgPSBCb29sZWFuKHNlc3Npb24/LmFjY2VwdGVkX2J5W3JlY2VpdmVySWRdKTtcbiAgICAgICAgY29uc3QgaXNSZWplY3RlZEJ5TWUgPSBCb29sZWFuKHNlc3Npb24/LnJlamVjdGVkX2J5W3JlY2VpdmVySWRdKTtcblxuICAgICAgICBpZiAoaXNBY2NlcHRlZEJ5TWUgfHwgaXNSZWplY3RlZEJ5TWUpIHtcbiAgICAgICAgICB0aGlzLmNhbmNlbEF1dG9Ecm9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc0FjY2VwdGVkRWxzZXdoZXJlID1cbiAgICAgICAgICBpc0FjY2VwdGVkQnlNZSAmJiB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkc7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChpc0FjY2VwdGVkRWxzZXdoZXJlIHx8IGlzUmVqZWN0ZWRCeU1lKSAmJlxuICAgICAgICAgICFoYXNQZW5kaW5nKHRoaXMuam9pbkxlYXZlQ29uY3VycmVuY3lUYWcpXG4gICAgICAgICkge1xuICAgICAgICAgIHRoaXMubGVhdmUoKS5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICAgJ2Vycm9yJyxcbiAgICAgICAgICAgICAgJ0NvdWxkIG5vdCBsZWF2ZSBhIGNhbGwgdGhhdCB3YXMgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgZWxzZXdoZXJlJyxcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChcbiAgICAgIC8vIFwicmluZ2luZ1wiIG1vZGUgZWZmZWN0cyBhbmQgZXZlbnQgaGFuZGxlcnNcbiAgICAgIGNyZWF0ZVN1YnNjcmlwdGlvbih0aGlzLnJpbmdpbmdTdWJqZWN0LCAoaXNSaW5naW5nKSA9PiB7XG4gICAgICAgIGlmICghaXNSaW5naW5nKSByZXR1cm47XG4gICAgICAgIGNvbnN0IGNhbGxTZXNzaW9uID0gdGhpcy5zdGF0ZS5zZXNzaW9uO1xuICAgICAgICBjb25zdCByZWNlaXZlcl9pZCA9IHRoaXMuY2xpZW50U3RvcmUuY29ubmVjdGVkVXNlcj8uaWQ7XG4gICAgICAgIGNvbnN0IGVuZGVkX2F0ID0gY2FsbFNlc3Npb24/LmVuZGVkX2F0O1xuICAgICAgICBjb25zdCBjcmVhdGVkX2J5X2lkID0gdGhpcy5zdGF0ZS5jcmVhdGVkQnk/LmlkO1xuICAgICAgICBjb25zdCByZWplY3RlZF9ieSA9IGNhbGxTZXNzaW9uPy5yZWplY3RlZF9ieTtcbiAgICAgICAgY29uc3QgYWNjZXB0ZWRfYnkgPSBjYWxsU2Vzc2lvbj8uYWNjZXB0ZWRfYnk7XG4gICAgICAgIGxldCBsZWF2ZUNhbGxJZGxlID0gZmFsc2U7XG4gICAgICAgIGlmIChlbmRlZF9hdCkge1xuICAgICAgICAgIC8vIGNhbGwgd2FzIGVuZGVkIGJlZm9yZSBpdCB3YXMgYWNjZXB0ZWQgb3IgcmVqZWN0ZWQgc28gd2Ugc2hvdWxkIGxlYXZlIGl0IHRvIGlkbGVcbiAgICAgICAgICBsZWF2ZUNhbGxJZGxlID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChjcmVhdGVkX2J5X2lkICYmIHJlamVjdGVkX2J5KSB7XG4gICAgICAgICAgaWYgKHJlamVjdGVkX2J5W2NyZWF0ZWRfYnlfaWRdKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHdhcyBjYW5jZWxsZWQgYnkgdGhlIGNhbGxlclxuICAgICAgICAgICAgbGVhdmVDYWxsSWRsZSA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKHJlY2VpdmVyX2lkICYmIHJlamVjdGVkX2J5KSB7XG4gICAgICAgICAgaWYgKHJlamVjdGVkX2J5W3JlY2VpdmVyX2lkXSkge1xuICAgICAgICAgICAgLy8gY2FsbCB3YXMgcmVqZWN0ZWQgYnkgdGhlIHJlY2VpdmVyIGluIHNvbWUgb3RoZXIgZGV2aWNlXG4gICAgICAgICAgICBsZWF2ZUNhbGxJZGxlID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAocmVjZWl2ZXJfaWQgJiYgYWNjZXB0ZWRfYnkpIHtcbiAgICAgICAgICBpZiAoYWNjZXB0ZWRfYnlbcmVjZWl2ZXJfaWRdKSB7XG4gICAgICAgICAgICAvLyBjYWxsIHdhcyBhY2NlcHRlZCBieSB0aGUgcmVjZWl2ZXIgaW4gc29tZSBvdGhlciBkZXZpY2VcbiAgICAgICAgICAgIGxlYXZlQ2FsbElkbGUgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobGVhdmVDYWxsSWRsZSkge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLklETEUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5JRExFKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSURMRSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJJTkdJTkcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnNjaGVkdWxlQXV0b0Ryb3AoKTtcbiAgICAgICAgICB0aGlzLmxlYXZlQ2FsbEhvb2tzLmFkZChyZWdpc3RlclJpbmdpbmdDYWxsRXZlbnRIYW5kbGVycyh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgcHJpdmF0ZSBoYW5kbGVPd25DYXBhYmlsaXRpZXNVcGRhdGVkID0gYXN5bmMgKFxuICAgIG93bkNhcGFiaWxpdGllczogT3duQ2FwYWJpbGl0eVtdLFxuICApID0+IHtcbiAgICAvLyB1cGRhdGUgdGhlIHBlcm1pc3Npb24gY29udGV4dC5cbiAgICB0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5zZXRQZXJtaXNzaW9ucyhvd25DYXBhYmlsaXRpZXMpO1xuXG4gICAgaWYgKCF0aGlzLnB1Ymxpc2hlcikgcmV0dXJuO1xuXG4gICAgLy8gY2hlY2sgaWYgdGhlIHVzZXIgc3RpbGwgaGFzIHB1Ymxpc2hpbmcgcGVybWlzc2lvbnMgYW5kIHN0b3AgcHVibGlzaGluZyBpZiBub3QuXG4gICAgY29uc3QgcGVybWlzc2lvblRvVHJhY2tUeXBlID0ge1xuICAgICAgW093bkNhcGFiaWxpdHkuU0VORF9BVURJT106IFRyYWNrVHlwZS5BVURJTyxcbiAgICAgIFtPd25DYXBhYmlsaXR5LlNFTkRfVklERU9dOiBUcmFja1R5cGUuVklERU8sXG4gICAgICBbT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRV06IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUsXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IFtwZXJtaXNzaW9uLCB0cmFja1R5cGVdIG9mIE9iamVjdC5lbnRyaWVzKFxuICAgICAgcGVybWlzc2lvblRvVHJhY2tUeXBlLFxuICAgICkpIHtcbiAgICAgIGNvbnN0IGhhc1Blcm1pc3Npb24gPSB0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5oYXNQZXJtaXNzaW9uKFxuICAgICAgICBwZXJtaXNzaW9uIGFzIE93bkNhcGFiaWxpdHksXG4gICAgICApO1xuICAgICAgaWYgKGhhc1Blcm1pc3Npb24pIGNvbnRpbnVlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgc3dpdGNoICh0cmFja1R5cGUpIHtcbiAgICAgICAgICBjYXNlIFRyYWNrVHlwZS5BVURJTzpcbiAgICAgICAgICAgIGlmICh0aGlzLm1pY3JvcGhvbmUuZW5hYmxlZCkgYXdhaXQgdGhpcy5taWNyb3Bob25lLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVHJhY2tUeXBlLlZJREVPOlxuICAgICAgICAgICAgaWYgKHRoaXMuY2FtZXJhLmVuYWJsZWQpIGF3YWl0IHRoaXMuY2FtZXJhLmRpc2FibGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRTpcbiAgICAgICAgICAgIGlmICh0aGlzLnNjcmVlblNoYXJlLmVuYWJsZWQpIGF3YWl0IHRoaXMuc2NyZWVuU2hhcmUuZGlzYWJsZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAnZXJyb3InLFxuICAgICAgICAgIGBDYW4ndCBkaXNhYmxlIG1pYy9jYW1lcmEvc2NyZWVuc2hhcmUgYWZ0ZXIgcmV2b2tlZCBwZXJtaXNzaW9uc2AsXG4gICAgICAgICAgZXJyLFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogWW91IGNhbiBzdWJzY3JpYmUgdG8gV2ViU29ja2V0IGV2ZW50cyBwcm92aWRlZCBieSB0aGUgQVBJLiBUbyByZW1vdmUgYSBzdWJzY3JpcHRpb24sIGNhbGwgdGhlIGBvZmZgIG1ldGhvZC5cbiAgICogUGxlYXNlIG5vdGUgdGhhdCBzdWJzY3JpYmluZyB0byBXZWJTb2NrZXQgZXZlbnRzIGlzIGFuIGFkdmFuY2VkIHVzZS1jYXNlLlxuICAgKiBGb3IgbW9zdCB1c2UtY2FzZXMsIGl0IHNob3VsZCBiZSBlbm91Z2ggdG8gd2F0Y2ggZm9yIHN0YXRlIGNoYW5nZXMuXG4gICAqXG4gICAqIEBwYXJhbSBldmVudE5hbWUgdGhlIGV2ZW50IG5hbWUuXG4gICAqIEBwYXJhbSBmbiB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDYWxsRXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICBpZiAoaXNTZnVFdmVudChldmVudE5hbWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNwYXRjaGVyLm9uKGV2ZW50TmFtZSwgZm4pO1xuICAgIH1cblxuICAgIGNvbnN0IG9mZkhhbmRsZXIgPSB0aGlzLnN0cmVhbUNsaWVudC5vbihldmVudE5hbWUsIChlKSA9PiB7XG4gICAgICBjb25zdCBldmVudCA9IGUgYXMgU3RyZWFtQ2FsbEV2ZW50O1xuICAgICAgaWYgKGV2ZW50LmNhbGxfY2lkICYmIGV2ZW50LmNhbGxfY2lkID09PSB0aGlzLmNpZCkge1xuICAgICAgICBmbihldmVudCBhcyBBbGxDYWxsRXZlbnRzW0VdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGtlZXAgdGhlICdvZmYnIHJlZmVyZW5jZSByZXR1cm5lZCBieSB0aGUgc3RyZWFtIGNsaWVudFxuICAgIHRoaXMuc3RyZWFtQ2xpZW50RXZlbnRIYW5kbGVycy5zZXQoZm4sIG9mZkhhbmRsZXIpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIGZuKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgc3Vic2NyaXB0aW9uIGZvciBXZWJTb2NrZXQgZXZlbnRzIHRoYXQgd2VyZSBjcmVhdGVkIGJ5IHRoZSBgb25gIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIGZuIHRoZSBldmVudCBoYW5kbGVyLlxuICAgKi9cbiAgb2ZmID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDYWxsRXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgZm46IENhbGxFdmVudExpc3RlbmVyPEU+LFxuICApID0+IHtcbiAgICBpZiAoaXNTZnVFdmVudChldmVudE5hbWUpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNwYXRjaGVyLm9mZihldmVudE5hbWUsIGZuKTtcbiAgICB9XG5cbiAgICAvLyB1bnN1YnNjcmliZSBmcm9tIHRoZSBzdHJlYW0gY2xpZW50IGV2ZW50IGJ5IHVzaW5nIHRoZSAnb2ZmJyByZWZlcmVuY2VcbiAgICBjb25zdCByZWdpc3RlcmVkT2ZmSGFuZGxlciA9IHRoaXMuc3RyZWFtQ2xpZW50RXZlbnRIYW5kbGVycy5nZXQoZm4pO1xuICAgIGlmIChyZWdpc3RlcmVkT2ZmSGFuZGxlcikge1xuICAgICAgcmVnaXN0ZXJlZE9mZkhhbmRsZXIoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIExlYXZlIHRoZSBjYWxsIGFuZCBzdG9wIHRoZSBtZWRpYSBzdHJlYW1zIHRoYXQgd2VyZSBwdWJsaXNoZWQgYnkgdGhlIGNhbGwuXG4gICAqL1xuICBsZWF2ZSA9IGFzeW5jICh7IHJlamVjdCwgcmVhc29uLCBtZXNzYWdlIH06IENhbGxMZWF2ZU9wdGlvbnMgPSB7fSkgPT4ge1xuICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGxlYXZlIGNhbGwgdGhhdCBoYXMgYWxyZWFkeSBiZWVuIGxlZnQuJyk7XG4gICAgfVxuXG4gICAgYXdhaXQgd2l0aG91dENvbmN1cnJlbmN5KHRoaXMuam9pbkxlYXZlQ29uY3VycmVuY3lUYWcsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNhbGxpbmdTdGF0ZSA9IHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlO1xuXG4gICAgICBpZiAoY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuTEVGVCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5KT0lOSU5HKSB7XG4gICAgICAgIGNvbnN0IHdhaXRVbnRpbENhbGxKb2luZWQgPSAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSRcbiAgICAgICAgICAgICAgLnBpcGUodGFrZVdoaWxlKChzdGF0ZSkgPT4gc3RhdGUgIT09IENhbGxpbmdTdGF0ZS5KT0lORUQsIHRydWUpKVxuICAgICAgICAgICAgICAuc3Vic2NyaWJlKCgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGF3YWl0IHdhaXRVbnRpbENhbGxKb2luZWQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcgJiYgcmVqZWN0ICE9PSBmYWxzZSkge1xuICAgICAgICBpZiAocmVqZWN0KSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5yZWplY3QocmVhc29uID8/ICdkZWNsaW5lJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgcmVqZWN0IHdhcyB1bmRlZmluZWQsIHdlIHN0aWxsIGhhdmUgdG8gY2FuY2VsIHRoZSBjYWxsIGF1dG9tYXRpY2FsbHlcbiAgICAgICAgICAvLyB3aGVuIEkgYW0gdGhlIGNyZWF0b3IgYW5kIGV2ZXJ5b25lIGVsc2UgbGVmdCB0aGUgY2FsbFxuICAgICAgICAgIGNvbnN0IGhhc090aGVyUGFydGljaXBhbnRzID0gdGhpcy5zdGF0ZS5yZW1vdGVQYXJ0aWNpcGFudHMubGVuZ3RoID4gMDtcbiAgICAgICAgICBpZiAodGhpcy5pc0NyZWF0ZWRCeU1lICYmICFoYXNPdGhlclBhcnRpY2lwYW50cykge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWplY3QoJ2NhbmNlbCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICAgIHRoaXMuc3RhdHNSZXBvcnRlciA9IHVuZGVmaW5lZDtcblxuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5mbHVzaCgpO1xuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zdG9wKCk7XG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIHRoaXMuc3Vic2NyaWJlcj8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5zdWJzY3JpYmVyID0gdW5kZWZpbmVkO1xuXG4gICAgICB0aGlzLnB1Ymxpc2hlcj8uZGlzcG9zZSgpO1xuICAgICAgdGhpcy5wdWJsaXNoZXIgPSB1bmRlZmluZWQ7XG5cbiAgICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50Py5sZWF2ZUFuZENsb3NlKFxuICAgICAgICBtZXNzYWdlID8/IHJlYXNvbiA/PyAndXNlciBpcyBsZWF2aW5nIHRoZSBjYWxsJyxcbiAgICAgICk7XG4gICAgICB0aGlzLnNmdUNsaWVudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZHluYXNjYWxlTWFuYWdlci5zZXRTZnVDbGllbnQodW5kZWZpbmVkKTtcbiAgICAgIGF3YWl0IHRoaXMuZHluYXNjYWxlTWFuYWdlci5kaXNwb3NlKCk7XG5cbiAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5MRUZUKTtcbiAgICAgIHRoaXMuc3RhdGUuc2V0UGFydGljaXBhbnRzKFtdKTtcbiAgICAgIHRoaXMuc3RhdGUuZGlzcG9zZSgpO1xuXG4gICAgICAvLyBDYWxsIGFsbCBsZWF2ZSBjYWxsIGhvb2tzLCBlLmcuIHRvIGNsZWFuIHVwIGdsb2JhbCBldmVudCBoYW5kbGVyc1xuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5mb3JFYWNoKChob29rKSA9PiBob29rKCkpO1xuICAgICAgdGhpcy5pbml0aWFsaXplZCA9IGZhbHNlO1xuICAgICAgdGhpcy5oYXNKb2luZWRPbmNlID0gZmFsc2U7XG4gICAgICB0aGlzLnVuaWZpZWRTZXNzaW9uSWQgPSB1bmRlZmluZWQ7XG4gICAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQoZmFsc2UpO1xuICAgICAgdGhpcy5jYW5jZWxBdXRvRHJvcCgpO1xuICAgICAgdGhpcy5jbGllbnRTdG9yZS51bnJlZ2lzdGVyQ2FsbCh0aGlzKTtcblxuICAgICAgdGhpcy5jYW1lcmEuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5taWNyb3Bob25lLmRpc3Bvc2UoKTtcbiAgICAgIHRoaXMuc2NyZWVuU2hhcmUuZGlzcG9zZSgpO1xuICAgICAgdGhpcy5zcGVha2VyLmRpc3Bvc2UoKTtcblxuICAgICAgY29uc3Qgc3RvcE9uTGVhdmVQcm9taXNlczogUHJvbWlzZTx2b2lkPltdID0gW107XG4gICAgICBpZiAodGhpcy5jYW1lcmEuc3RvcE9uTGVhdmUpIHtcbiAgICAgICAgc3RvcE9uTGVhdmVQcm9taXNlcy5wdXNoKHRoaXMuY2FtZXJhLmRpc2FibGUodHJ1ZSkpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMubWljcm9waG9uZS5zdG9wT25MZWF2ZSkge1xuICAgICAgICBzdG9wT25MZWF2ZVByb21pc2VzLnB1c2godGhpcy5taWNyb3Bob25lLmRpc2FibGUodHJ1ZSkpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc2NyZWVuU2hhcmUuc3RvcE9uTGVhdmUpIHtcbiAgICAgICAgc3RvcE9uTGVhdmVQcm9taXNlcy5wdXNoKHRoaXMuc2NyZWVuU2hhcmUuZGlzYWJsZSh0cnVlKSk7XG4gICAgICB9XG4gICAgICBhd2FpdCBQcm9taXNlLmFsbChzdG9wT25MZWF2ZVByb21pc2VzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBmbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGUgY2FsbCBpcyBcInJpbmdpbmdcIiB0eXBlIG9mIGNhbGwuXG4gICAqL1xuICBnZXQgcmluZ2luZygpIHtcbiAgICByZXR1cm4gZ2V0Q3VycmVudFZhbHVlKHRoaXMucmluZ2luZ1N1YmplY3QpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCB1c2VyIElELlxuICAgKi9cbiAgZ2V0IGN1cnJlbnRVc2VySWQoKSB7XG4gICAgcmV0dXJuIHRoaXMuY2xpZW50U3RvcmUuY29ubmVjdGVkVXNlcj8uaWQ7XG4gIH1cblxuICAvKipcbiAgICogQSBmbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGUgY2FsbCB3YXMgY3JlYXRlZCBieSB0aGUgY3VycmVudCB1c2VyLlxuICAgKi9cbiAgZ2V0IGlzQ3JlYXRlZEJ5TWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuY3JlYXRlZEJ5Py5pZCA9PT0gdGhpcy5jdXJyZW50VXNlcklkO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSBmcm9tIHRoZSBjYWxsIHJlc3BvbnNlIGZyb20gdGhlIFwiY2FsbC5yaW5nXCIgZXZlbnRcbiAgICogQGludGVybmFsXG4gICAqL1xuICB1cGRhdGVGcm9tUmluZ2luZ0V2ZW50ID0gYXN5bmMgKGV2ZW50OiBDYWxsUmluZ0V2ZW50KSA9PiB7XG4gICAgYXdhaXQgdGhpcy5zZXR1cCgpO1xuICAgIC8vIGNhbGwucmluZyBldmVudCBleGNsdWRlcyB0aGUgY2FsbCBjcmVhdG9yIGluIHRoZSBtZW1iZXJzIGxpc3RcbiAgICAvLyBhcyB0aGUgY3JlYXRvciBkb2VzIG5vdCBnZXQgdGhlIHJpbmcgZXZlbnRcbiAgICAvLyBzbyB1cGRhdGUgdGhlIG1lbWJlciBsaXN0IGFjY29yZGluZ2x5XG4gICAgY29uc3QgeyBjcmVhdGVkX2J5LCBzZXR0aW5ncyB9ID0gZXZlbnQuY2FsbDtcbiAgICBjb25zdCBjcmVhdG9yID0gdGhpcy5zdGF0ZS5tZW1iZXJzLmZpbmQoKG0pID0+IG0udXNlci5pZCA9PT0gY3JlYXRlZF9ieS5pZCk7XG4gICAgaWYgKCFjcmVhdG9yKSB7XG4gICAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMoZXZlbnQubWVtYmVycyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhbY3JlYXRvciwgLi4uZXZlbnQubWVtYmVyc10pO1xuICAgIH1cbiAgICAvLyB1cGRhdGUgdGhlIGNhbGwgc3RhdGUgd2l0aCB0aGUgbGF0ZXN0IGV2ZW50IGRhdGFcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21DYWxsUmVzcG9uc2UoZXZlbnQuY2FsbCk7XG4gICAgdGhpcy53YXRjaGluZyA9IHRydWU7XG4gICAgdGhpcy5yaW5naW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgIC8vIHdlIHJlbW92ZSB0aGUgaW5zdGFuY2UgZnJvbSB0aGUgY2FsbHMgbGlzdCB0byBlbmFibGUgdGhlIGZvbGxvd2luZyBmaWx0ZXIgaW4gdXNlQ2FsbHMgaG9va1xuICAgIC8vIGNvbnN0IGNhbGxzID0gdXNlQ2FsbHMoKS5maWx0ZXIoKGMpID0+IGMucmluZ2luZyk7XG4gICAgY29uc3QgY2FsbHMgPSB0aGlzLmNsaWVudFN0b3JlLmNhbGxzLmZpbHRlcigoYykgPT4gYy5jaWQgIT09IHRoaXMuY2lkKTtcbiAgICB0aGlzLmNsaWVudFN0b3JlLnNldENhbGxzKFt0aGlzLCAuLi5jYWxsc10pO1xuICAgIGF3YWl0IHRoaXMuYXBwbHlEZXZpY2VDb25maWcoc2V0dGluZ3MsIGZhbHNlKTtcbiAgfTtcblxuICAvKipcbiAgICogTG9hZHMgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gcGFyYW1zLnJpbmcgaWYgc2V0IHRvIHRydWUsIGEgYGNhbGwucmluZ2AgZXZlbnQgd2lsbCBiZSBzZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqIEBwYXJhbSBwYXJhbXMubm90aWZ5IGlmIHNldCB0byB0cnVlLCBhIGBjYWxsLm5vdGlmaWNhdGlvbmAgZXZlbnQgd2lsbCBiZSBzZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqIEBwYXJhbSBwYXJhbXMubWVtYmVyc19saW1pdCB0aGUgdG90YWwgbnVtYmVyIG9mIG1lbWJlcnMgdG8gcmV0dXJuIGFzIHBhcnQgb2YgdGhlIHJlc3BvbnNlLlxuICAgKi9cbiAgZ2V0ID0gYXN5bmMgKHBhcmFtcz86IHtcbiAgICByaW5nPzogYm9vbGVhbjtcbiAgICBub3RpZnk/OiBib29sZWFuO1xuICAgIG1lbWJlcnNfbGltaXQ/OiBudW1iZXI7XG4gIH0pID0+IHtcbiAgICBhd2FpdCB0aGlzLnNldHVwKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8R2V0Q2FsbFJlc3BvbnNlPihcbiAgICAgIHRoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGgsXG4gICAgICBwYXJhbXMsXG4gICAgKTtcblxuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShyZXNwb25zZS5jYWxsKTtcbiAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMocmVzcG9uc2UubWVtYmVycyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMocmVzcG9uc2Uub3duX2NhcGFiaWxpdGllcyk7XG5cbiAgICBpZiAocGFyYW1zPy5yaW5nKSB7XG4gICAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RyZWFtQ2xpZW50Ll9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy53YXRjaGluZyA9IHRydWU7XG4gICAgICB0aGlzLmNsaWVudFN0b3JlLnJlZ2lzdGVyQ2FsbCh0aGlzKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLmFwcGx5RGV2aWNlQ29uZmlnKHJlc3BvbnNlLmNhbGwuc2V0dGluZ3MsIGZhbHNlKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfTtcblxuICAvKipcbiAgICogTG9hZHMgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjYWxsIGFuZCBjcmVhdGVzIGl0IGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSBkYXRhIHRvIGNyZWF0ZSB0aGUgY2FsbCB3aXRoLlxuICAgKi9cbiAgZ2V0T3JDcmVhdGUgPSBhc3luYyAoZGF0YT86IEdldE9yQ3JlYXRlQ2FsbFJlcXVlc3QpID0+IHtcbiAgICBhd2FpdCB0aGlzLnNldHVwKCk7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgR2V0T3JDcmVhdGVDYWxsUmVzcG9uc2UsXG4gICAgICBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0XG4gICAgPih0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRoLCBkYXRhKTtcblxuICAgIHRoaXMuc3RhdGUudXBkYXRlRnJvbUNhbGxSZXNwb25zZShyZXNwb25zZS5jYWxsKTtcbiAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMocmVzcG9uc2UubWVtYmVycyk7XG4gICAgdGhpcy5zdGF0ZS5zZXRPd25DYXBhYmlsaXRpZXMocmVzcG9uc2Uub3duX2NhcGFiaWxpdGllcyk7XG5cbiAgICBpZiAoZGF0YT8ucmluZykge1xuICAgICAgdGhpcy5yaW5naW5nU3ViamVjdC5uZXh0KHRydWUpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLnN0cmVhbUNsaWVudC5faGFzQ29ubmVjdGlvbklEKCkpIHtcbiAgICAgIHRoaXMud2F0Y2hpbmcgPSB0cnVlO1xuICAgICAgdGhpcy5jbGllbnRTdG9yZS5yZWdpc3RlckNhbGwodGhpcyk7XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5hcHBseURldmljZUNvbmZpZyhyZXNwb25zZS5jYWxsLnNldHRpbmdzLCBmYWxzZSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBjYWxsXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSBkYXRhIHRvIGNyZWF0ZSB0aGUgY2FsbCB3aXRoLlxuICAgKi9cbiAgY3JlYXRlID0gYXN5bmMgKGRhdGE/OiBHZXRPckNyZWF0ZUNhbGxSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0T3JDcmVhdGUoZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIERlbGV0ZXMgdGhlIGNhbGwuXG4gICAqL1xuICBkZWxldGUgPSBhc3luYyAoXG4gICAgZGF0YTogRGVsZXRlQ2FsbFJlcXVlc3QgPSB7fSxcbiAgKTogUHJvbWlzZTxEZWxldGVDYWxsUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxEZWxldGVDYWxsUmVzcG9uc2UsIERlbGV0ZUNhbGxSZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L2RlbGV0ZWAsXG4gICAgICBkYXRhLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEEgc2hvcnRjdXQgZm9yIHtAbGluayBDYWxsLmdldH0gd2l0aCBgcmluZ2AgcGFyYW1ldGVyIHNldCB0byBgdHJ1ZWAuXG4gICAqIFdpbGwgc2VuZCBhIGBjYWxsLnJpbmdgIGV2ZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqL1xuICByaW5nID0gYXN5bmMgKCk6IFByb21pc2U8R2V0Q2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0KHsgcmluZzogdHJ1ZSB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBzaG9ydGN1dCBmb3Ige0BsaW5rIENhbGwuZ2V0fSB3aXRoIGBub3RpZnlgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgLlxuICAgKiBXaWxsIHNlbmQgYSBgY2FsbC5ub3RpZmljYXRpb25gIGV2ZW50IHRvIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqL1xuICBub3RpZnkgPSBhc3luYyAoKTogUHJvbWlzZTxHZXRDYWxsUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXQoeyBub3RpZnk6IHRydWUgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSBpbmNvbWluZyBjYWxsIGFzIGFjY2VwdGVkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBvbmx5IGZvciBcInJpbmdpbmdcIiBjYWxsIGZsb3dzLlxuICAgKiB7QGxpbmsgQ2FsbC5qb2lufSBpbnZva2VzIHRoaXMgbWV0aG9kIGF1dG9tYXRpY2FsbHkgZm9yIHlvdSB3aGVuIGpvaW5pbmcgYSBjYWxsLlxuICAgKiBVbmxlc3MgeW91IGFyZSBpbXBsZW1lbnRpbmcgYSBjdXN0b20gXCJyaW5naW5nXCIgZmxvdywgeW91IHNob3VsZCBub3QgdXNlIHRoaXMgbWV0aG9kLlxuICAgKi9cbiAgYWNjZXB0ID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PEFjY2VwdENhbGxSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9hY2NlcHRgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE1hcmtzIHRoZSBpbmNvbWluZyBjYWxsIGFzIHJlamVjdGVkLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBvbmx5IGZvciBcInJpbmdpbmdcIiBjYWxsIGZsb3dzLlxuICAgKiB7QGxpbmsgQ2FsbC5sZWF2ZX0gaW52b2tlcyB0aGlzIG1ldGhvZCBhdXRvbWF0aWNhbGx5IGZvciB5b3Ugd2hlbiB5b3UgbGVhdmUgb3IgcmVqZWN0IHRoaXMgY2FsbC5cbiAgICogVW5sZXNzIHlvdSBhcmUgaW1wbGVtZW50aW5nIGEgY3VzdG9tIFwicmluZ2luZ1wiIGZsb3csIHlvdSBzaG91bGQgbm90IHVzZSB0aGlzIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIHJlYXNvbiB0aGUgcmVhc29uIGZvciByZWplY3RpbmcgdGhlIGNhbGwuXG4gICAqL1xuICByZWplY3QgPSBhc3luYyAoXG4gICAgcmVhc29uOiBSZWplY3RSZWFzb24gPSAnZGVjbGluZScsXG4gICk6IFByb21pc2U8UmVqZWN0Q2FsbFJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8UmVqZWN0Q2FsbFJlc3BvbnNlLCBSZWplY3RDYWxsUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9yZWplY3RgLFxuICAgICAgeyByZWFzb246IHJlYXNvbiB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgc3RhcnQgdG8gd2F0Y2ggZm9yIGNhbGwgcmVsYXRlZCBXZWJTb2NrZXQgZXZlbnRzIGFuZCBpbml0aWF0ZSBhIGNhbGwgc2Vzc2lvbiB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyBvbmNlIHRoZSBjYWxsIGpvaW4tZmxvdyBoYXMgZmluaXNoZWQuXG4gICAqL1xuICBqb2luID0gYXN5bmMgKHtcbiAgICBtYXhKb2luUmV0cmllcyA9IDMsXG4gICAgLi4uZGF0YVxuICB9OiBKb2luQ2FsbERhdGEgJiB7XG4gICAgbWF4Sm9pblJldHJpZXM/OiBudW1iZXI7XG4gIH0gPSB7fSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGF3YWl0IHRoaXMuc2V0dXAoKTtcbiAgICBjb25zdCBjYWxsaW5nU3RhdGUgPSB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZTtcblxuICAgIGlmIChbQ2FsbGluZ1N0YXRlLkpPSU5FRCwgQ2FsbGluZ1N0YXRlLkpPSU5JTkddLmluY2x1ZGVzKGNhbGxpbmdTdGF0ZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSWxsZWdhbCBTdGF0ZTogY2FsbC5qb2luKCkgc2hhbGwgYmUgY2FsbGVkIG9ubHkgb25jZWApO1xuICAgIH1cblxuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5KT0lOSU5HKTtcblxuICAgIG1heEpvaW5SZXRyaWVzID0gTWF0aC5tYXgobWF4Sm9pblJldHJpZXMsIDEpO1xuICAgIGZvciAobGV0IGF0dGVtcHQgPSAwOyBhdHRlbXB0IDwgbWF4Sm9pblJldHJpZXM7IGF0dGVtcHQrKykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ3RyYWNlJywgYEpvaW5pbmcgY2FsbCAoJHthdHRlbXB0fSlgLCB0aGlzLmNpZCk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmRvSm9pbihkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIGBGYWlsZWQgdG8gam9pbiBjYWxsICgke2F0dGVtcHR9KWAsIHRoaXMuY2lkKTtcbiAgICAgICAgaWYgKGF0dGVtcHQgPT09IG1heEpvaW5SZXRyaWVzIC0gMSkge1xuICAgICAgICAgIC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIGNhbGwgc3RhdGUgaWYgdGhlIGpvaW4tZmxvdyBmYWlsc1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKGNhbGxpbmdTdGF0ZSk7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGF3YWl0IHNsZWVwKHJldHJ5SW50ZXJ2YWwoYXR0ZW1wdCkpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBtYWtlIGEgc2luZ2xlIGF0dGVtcHQgdG8gd2F0Y2ggZm9yIGNhbGwgcmVsYXRlZCBXZWJTb2NrZXQgZXZlbnRzXG4gICAqIGFuZCBpbml0aWF0ZSBhIGNhbGwgc2Vzc2lvbiB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAqXG4gICAqIEByZXR1cm5zIGEgcHJvbWlzZSB3aGljaCByZXNvbHZlcyBvbmNlIHRoZSBjYWxsIGpvaW4tZmxvdyBoYXMgZmluaXNoZWQuXG4gICAqL1xuICBkb0pvaW4gPSBhc3luYyAoZGF0YT86IEpvaW5DYWxsRGF0YSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGNvbnN0IGNvbm5lY3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGNhbGxpbmdTdGF0ZSA9IHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlO1xuXG4gICAgdGhpcy5qb2luQ2FsbERhdGEgPSBkYXRhO1xuXG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1N0YXJ0aW5nIGpvaW4gZmxvdycpO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5KT0lOSU5HKTtcblxuICAgIGNvbnN0IHBlcmZvcm1pbmdNaWdyYXRpb24gPVxuICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9PT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURTtcbiAgICBjb25zdCBwZXJmb3JtaW5nUmVqb2luID1cbiAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICBjb25zdCBwZXJmb3JtaW5nRmFzdFJlY29ubmVjdCA9XG4gICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID09PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5GQVNUO1xuXG4gICAgbGV0IHN0YXRzT3B0aW9ucyA9IHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8ub3B0aW9ucztcbiAgICBpZiAoXG4gICAgICAhdGhpcy5jcmVkZW50aWFscyB8fFxuICAgICAgIXN0YXRzT3B0aW9ucyB8fFxuICAgICAgcGVyZm9ybWluZ1Jlam9pbiB8fFxuICAgICAgcGVyZm9ybWluZ01pZ3JhdGlvblxuICAgICkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3Qgam9pblJlc3BvbnNlID0gYXdhaXQgdGhpcy5kb0pvaW5SZXF1ZXN0KGRhdGEpO1xuICAgICAgICB0aGlzLmNyZWRlbnRpYWxzID0gam9pblJlc3BvbnNlLmNyZWRlbnRpYWxzO1xuICAgICAgICBzdGF0c09wdGlvbnMgPSBqb2luUmVzcG9uc2Uuc3RhdHNfb3B0aW9ucztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIHByZXZlbnQgdHJpZ2dlcmluZyByZWNvbm5lY3QgZmxvdyBpZiB0aGUgc3RhdGUgaXMgT0ZGTElORVxuICAgICAgICBjb25zdCBhdm9pZFJlc3RvcmVTdGF0ZSA9XG4gICAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5PRkZMSU5FO1xuXG4gICAgICAgIGlmICghYXZvaWRSZXN0b3JlU3RhdGUpIHtcbiAgICAgICAgICAvLyByZXN0b3JlIHRoZSBwcmV2aW91cyBjYWxsIHN0YXRlIGlmIHRoZSBqb2luLWZsb3cgZmFpbHNcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShjYWxsaW5nU3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByZXZpb3VzU2Z1Q2xpZW50ID0gdGhpcy5zZnVDbGllbnQ7XG4gICAgY29uc3QgcHJldmlvdXNTZXNzaW9uSWQgPSBwcmV2aW91c1NmdUNsaWVudD8uc2Vzc2lvbklkO1xuICAgIGNvbnN0IGlzV3NIZWFsdGh5ID0gISFwcmV2aW91c1NmdUNsaWVudD8uaXNIZWFsdGh5O1xuICAgIGNvbnN0IHNmdUNsaWVudCA9XG4gICAgICBwZXJmb3JtaW5nUmVqb2luIHx8IHBlcmZvcm1pbmdNaWdyYXRpb24gfHwgIWlzV3NIZWFsdGh5XG4gICAgICAgID8gbmV3IFN0cmVhbVNmdUNsaWVudCh7XG4gICAgICAgICAgICBsb2dUYWc6IFN0cmluZygrK3RoaXMuc2Z1Q2xpZW50VGFnKSxcbiAgICAgICAgICAgIGRpc3BhdGNoZXI6IHRoaXMuZGlzcGF0Y2hlcixcbiAgICAgICAgICAgIGNyZWRlbnRpYWxzOiB0aGlzLmNyZWRlbnRpYWxzLFxuICAgICAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgICAgIGVuYWJsZVRyYWNpbmc6IHN0YXRzT3B0aW9ucy5lbmFibGVfcnRjX3N0YXRzLFxuICAgICAgICAgICAgLy8gYSBuZXcgc2Vzc2lvbl9pZCBpcyBuZWNlc3NhcnkgZm9yIHRoZSBSRUpPSU4gc3RyYXRlZ3kuXG4gICAgICAgICAgICAvLyB3ZSB1c2UgdGhlIHByZXZpb3VzIHNlc3Npb25faWQgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IHBlcmZvcm1pbmdSZWpvaW4gPyB1bmRlZmluZWQgOiBwcmV2aW91c1Nlc3Npb25JZCxcbiAgICAgICAgICAgIG9uU2lnbmFsQ2xvc2U6IChyZWFzb24pID0+XG4gICAgICAgICAgICAgIHRoaXMuaGFuZGxlU2Z1U2lnbmFsQ2xvc2Uoc2Z1Q2xpZW50LCByZWFzb24pLFxuICAgICAgICAgIH0pXG4gICAgICAgIDogcHJldmlvdXNTZnVDbGllbnQ7XG4gICAgdGhpcy5zZnVDbGllbnQgPSBzZnVDbGllbnQ7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFNmdUNsaWVudChzZnVDbGllbnQpO1xuXG4gICAgY29uc3QgY2xpZW50RGV0YWlscyA9IGF3YWl0IGdldENsaWVudERldGFpbHMoKTtcbiAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHNlbmQgSm9pblJlcXVlc3QgaWYgd2UgYXJlIHJlLXVzaW5nIGFuIGV4aXN0aW5nIGhlYWx0aHkgU0ZVIGNsaWVudFxuICAgIGlmIChwcmV2aW91c1NmdUNsaWVudCAhPT0gc2Z1Q2xpZW50KSB7XG4gICAgICAvLyBwcmVwYXJlIGEgZ2VuZXJpYyBTRFAgYW5kIHNlbmQgaXQgdG8gdGhlIFNGVS5cbiAgICAgIC8vIHRoZXNlIGFyZSB0aHJvdy1hd2F5IFNEUHMgdGhhdCB0aGUgU0ZVIHdpbGwgdXNlIHRvIGRldGVybWluZVxuICAgICAgLy8gdGhlIGNhcGFiaWxpdGllcyBvZiB0aGUgY2xpZW50IChjb2RlYyBzdXBwb3J0LCBldGMuKVxuICAgICAgY29uc3QgW3N1YnNjcmliZXJTZHAsIHB1Ymxpc2hlclNkcF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgIGdldEdlbmVyaWNTZHAoJ3JlY3Zvbmx5JyksXG4gICAgICAgIGdldEdlbmVyaWNTZHAoJ3NlbmRvbmx5JyksXG4gICAgICBdKTtcbiAgICAgIGNvbnN0IGlzUmVjb25uZWN0aW5nID1cbiAgICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSAhPT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuVU5TUEVDSUZJRUQ7XG4gICAgICBjb25zdCByZWNvbm5lY3REZXRhaWxzID0gaXNSZWNvbm5lY3RpbmdcbiAgICAgICAgPyB0aGlzLmdldFJlY29ubmVjdERldGFpbHMoZGF0YT8ubWlncmF0aW5nX2Zyb20sIHByZXZpb3VzU2Vzc2lvbklkKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgIGNvbnN0IHByZWZlcnJlZFB1Ymxpc2hPcHRpb25zID0gIWlzUmVjb25uZWN0aW5nXG4gICAgICAgID8gdGhpcy5nZXRQcmVmZXJyZWRQdWJsaXNoT3B0aW9ucygpXG4gICAgICAgIDogdGhpcy5jdXJyZW50UHVibGlzaE9wdGlvbnMgfHwgW107XG4gICAgICBjb25zdCBwcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zID0gIWlzUmVjb25uZWN0aW5nXG4gICAgICAgID8gdGhpcy5nZXRQcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zKClcbiAgICAgICAgOiBbXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBjYWxsU3RhdGUsIGZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHMsIHB1Ymxpc2hPcHRpb25zIH0gPVxuICAgICAgICAgIGF3YWl0IHNmdUNsaWVudC5qb2luKHtcbiAgICAgICAgICAgIHN1YnNjcmliZXJTZHAsXG4gICAgICAgICAgICBwdWJsaXNoZXJTZHAsXG4gICAgICAgICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgICAgICAgZmFzdFJlY29ubmVjdDogcGVyZm9ybWluZ0Zhc3RSZWNvbm5lY3QsXG4gICAgICAgICAgICByZWNvbm5lY3REZXRhaWxzLFxuICAgICAgICAgICAgcHJlZmVycmVkUHVibGlzaE9wdGlvbnMsXG4gICAgICAgICAgICBwcmVmZXJyZWRTdWJzY3JpYmVPcHRpb25zLFxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY3VycmVudFB1Ymxpc2hPcHRpb25zID0gcHVibGlzaE9wdGlvbnM7XG4gICAgICAgIHRoaXMuZmFzdFJlY29ubmVjdERlYWRsaW5lU2Vjb25kcyA9IGZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHM7XG4gICAgICAgIGlmIChjYWxsU3RhdGUpIHtcbiAgICAgICAgICB0aGlzLnN0YXRlLnVwZGF0ZUZyb21TZnVDYWxsU3RhdGUoXG4gICAgICAgICAgICBjYWxsU3RhdGUsXG4gICAgICAgICAgICBzZnVDbGllbnQuc2Vzc2lvbklkLFxuICAgICAgICAgICAgcmVjb25uZWN0RGV0YWlscyxcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsICdKb2luIFNGVSByZXF1ZXN0IGZhaWxlZCcsIGVycm9yKTtcbiAgICAgICAgc2Z1Q2xpZW50LmNsb3NlKFxuICAgICAgICAgIFN0cmVhbVNmdUNsaWVudC5KT0lOX0ZBSUxFRCxcbiAgICAgICAgICAnSm9pbiByZXF1ZXN0IGZhaWxlZCwgY29ubmVjdGlvbiBjb25zaWRlcmVkIHVuaGVhbHRoeScsXG4gICAgICAgICk7XG4gICAgICAgIC8vIHJlc3RvcmUgdGhlIHByZXZpb3VzIGNhbGwgc3RhdGUgaWYgdGhlIGpvaW4tZmxvdyBmYWlsc1xuICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShjYWxsaW5nU3RhdGUpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXBlcmZvcm1pbmdNaWdyYXRpb24pIHtcbiAgICAgIC8vIGluIE1JR1JBVElPTiwgYEpPSU5FRGAgc3RhdGUgaXMgc2V0IGluIGB0aGlzLnJlY29ubmVjdE1pZ3JhdGUoKWBcbiAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5KT0lORUQpO1xuICAgIH1cbiAgICB0aGlzLmhhc0pvaW5lZE9uY2UgPSB0cnVlO1xuXG4gICAgLy8gd2hlbiBwZXJmb3JtaW5nIGZhc3QgcmVjb25uZWN0LCBvciB3aGVuIHdlIHJldXNlIHRoZSBzYW1lIFNGVSBjbGllbnQsXG4gICAgLy8gKHdzIHJlbWFpbmVkIGhlYWx0aHkpLCB3ZSBqdXN0IG5lZWQgdG8gcmVzdG9yZSB0aGUgSUNFIGNvbm5lY3Rpb25cbiAgICBpZiAocGVyZm9ybWluZ0Zhc3RSZWNvbm5lY3QpIHtcbiAgICAgIC8vIHRoZSBTRlUgYXV0b21hdGljYWxseSBpc3N1ZXMgYW4gSUNFIHJlc3RhcnQgb24gdGhlIHN1YnNjcmliZXJcbiAgICAgIC8vIHdlIGRvbid0IGhhdmUgdG8gZG8gaXQgb3Vyc2VsdmVzXG4gICAgICBhd2FpdCB0aGlzLnJlc3RvcmVJQ0Uoc2Z1Q2xpZW50LCB7IGluY2x1ZGVTdWJzY3JpYmVyOiBmYWxzZSB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY29ubmVjdGlvbkNvbmZpZyA9IHRvUnRjQ29uZmlndXJhdGlvbih0aGlzLmNyZWRlbnRpYWxzLmljZV9zZXJ2ZXJzKTtcbiAgICAgIHRoaXMuaW5pdFB1Ymxpc2hlckFuZFN1YnNjcmliZXIoe1xuICAgICAgICBzZnVDbGllbnQsXG4gICAgICAgIGNvbm5lY3Rpb25Db25maWcsXG4gICAgICAgIGNsaWVudERldGFpbHMsXG4gICAgICAgIHN0YXRzT3B0aW9ucyxcbiAgICAgICAgcHVibGlzaE9wdGlvbnM6IHRoaXMuY3VycmVudFB1Ymxpc2hPcHRpb25zIHx8IFtdLFxuICAgICAgICBjbG9zZVByZXZpb3VzSW5zdGFuY2VzOiAhcGVyZm9ybWluZ01pZ3JhdGlvbixcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIG1ha2Ugc3VyZSB3ZSBvbmx5IHRyYWNrIGNvbm5lY3Rpb24gdGltaW5nIGlmIHdlIGFyZSBub3QgY2FsbGluZyB0aGlzIG1ldGhvZCBhcyBwYXJ0IG9mIGEgcmVjb25uZWN0aW9uIGZsb3dcbiAgICBpZiAoIXBlcmZvcm1pbmdSZWpvaW4gJiYgIXBlcmZvcm1pbmdGYXN0UmVjb25uZWN0ICYmICFwZXJmb3JtaW5nTWlncmF0aW9uKSB7XG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnNlbmRDb25uZWN0aW9uVGltZShcbiAgICAgICAgKERhdGUubm93KCkgLSBjb25uZWN0U3RhcnRUaW1lKSAvIDEwMDAsXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChwZXJmb3JtaW5nUmVqb2luICYmIGlzV3NIZWFsdGh5KSB7XG4gICAgICBjb25zdCBzdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5W3RoaXMucmVjb25uZWN0U3RyYXRlZ3ldO1xuICAgICAgYXdhaXQgcHJldmlvdXNTZnVDbGllbnQ/LmxlYXZlQW5kQ2xvc2UoXG4gICAgICAgIGBDbG9zaW5nIHByZXZpb3VzIFdTIGFmdGVyIHJlY29ubmVjdCB3aXRoIHN0cmF0ZWd5OiAke3N0cmF0ZWd5fWAsXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoIWlzV3NIZWFsdGh5KSB7XG4gICAgICBwcmV2aW91c1NmdUNsaWVudD8uY2xvc2UoXG4gICAgICAgIFN0cmVhbVNmdUNsaWVudC5ESVNQT1NFX09MRF9TT0NLRVQsXG4gICAgICAgICdDbG9zaW5nIHVuaGVhbHRoeSBXUyBhZnRlciByZWNvbm5lY3QnLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBkZXZpY2Ugc2V0dGluZ3Mgc2hvdWxkIGJlIGFwcGxpZWQgb25seSBvbmNlLCB3ZSBkb24ndCBoYXZlIHRvXG4gICAgLy8gcmUtYXBwbHkgdGhlbSBvbiBsYXRlciByZWNvbm5lY3Rpb25zIG9yIHNlcnZlci1zaWRlIGRhdGEgZmV0Y2hlc1xuICAgIGlmICghdGhpcy5kZXZpY2VTZXR0aW5nc0FwcGxpZWRPbmNlICYmIHRoaXMuc3RhdGUuc2V0dGluZ3MpIHtcbiAgICAgIGF3YWl0IHRoaXMuYXBwbHlEZXZpY2VDb25maWcodGhpcy5zdGF0ZS5zZXR0aW5ncywgdHJ1ZSk7XG4gICAgICB0aGlzLmRldmljZVNldHRpbmdzQXBwbGllZE9uY2UgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIFdlIHNob3VsZG4ndCBwZXJzaXN0IHRoZSBgcmluZ2AgYW5kIGBub3RpZnlgIHN0YXRlIGFmdGVyIGpvaW5pbmcgdGhlIGNhbGxcbiAgICAvLyBhcyBpdCdzIGEgb25lLXRpbWUgZXZlbnQgYW5kIGNsYXNoZXMgd2l0aCB0aGUgcG90ZW50aWFsIHJlY29ubmVjdGlvbiBhdHRlbXB0cy5cbiAgICAvLyBXaGVuIHJlY29ubmVjdGluZywgaWYgcHJvdmlkZWQgd2l0aCBgcmluZzogdHJ1ZWAgb3IgYG5vdGlmeTogdHJ1ZWAsXG4gICAgLy8gd2Ugd2lsbCBzcGFtIHRoZSBvdGhlciBwYXJ0aWNpcGFudHMgd2l0aCBwdXNoIG5vdGlmaWNhdGlvbnMgYW5kIGBjYWxsLnJpbmdgIGV2ZW50cy5cbiAgICBkZWxldGUgdGhpcy5qb2luQ2FsbERhdGE/LnJpbmc7XG4gICAgZGVsZXRlIHRoaXMuam9pbkNhbGxEYXRhPy5ub3RpZnk7XG4gICAgLy8gcmVzZXQgdGhlIHJlY29ubmVjdCBzdHJhdGVneSB0byB1bnNwZWNpZmllZCBhZnRlciBhIHN1Y2Nlc3NmdWwgcmVjb25uZWN0aW9uXG4gICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlVOU1BFQ0lGSUVEO1xuICAgIHRoaXMucmVjb25uZWN0UmVhc29uID0gJyc7XG5cbiAgICB0aGlzLmxvZ2dlcignaW5mbycsIGBKb2luZWQgY2FsbCAke3RoaXMuY2lkfWApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQcmVwYXJlcyBSZWNvbm5lY3QgRGV0YWlscyBvYmplY3QuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRSZWNvbm5lY3REZXRhaWxzID0gKFxuICAgIG1pZ3JhdGluZ0Zyb21TZnVJZDogc3RyaW5nIHwgdW5kZWZpbmVkLFxuICAgIHByZXZpb3VzU2Vzc2lvbklkOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gICk6IFJlY29ubmVjdERldGFpbHMgPT4ge1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gdGhpcy5yZWNvbm5lY3RTdHJhdGVneTtcbiAgICBjb25zdCBwZXJmb3JtaW5nUmVqb2luID0gc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjtcbiAgICBjb25zdCBhbm5vdW5jZWRUcmFja3MgPVxuICAgICAgdGhpcy5wdWJsaXNoZXI/LmdldEFubm91bmNlZFRyYWNrc0ZvclJlY29ubmVjdCgpIHx8IFtdO1xuICAgIHJldHVybiB7XG4gICAgICBzdHJhdGVneSxcbiAgICAgIGFubm91bmNlZFRyYWNrcyxcbiAgICAgIHN1YnNjcmlwdGlvbnM6IHRoaXMuZHluYXNjYWxlTWFuYWdlci50cmFja1N1YnNjcmlwdGlvbnMsXG4gICAgICByZWNvbm5lY3RBdHRlbXB0OiB0aGlzLnJlY29ubmVjdEF0dGVtcHRzLFxuICAgICAgZnJvbVNmdUlkOiBtaWdyYXRpbmdGcm9tU2Z1SWQgfHwgJycsXG4gICAgICBwcmV2aW91c1Nlc3Npb25JZDogcGVyZm9ybWluZ1Jlam9pbiA/IHByZXZpb3VzU2Vzc2lvbklkIHx8ICcnIDogJycsXG4gICAgICByZWFzb246IHRoaXMucmVjb25uZWN0UmVhc29uLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFByZXBhcmVzIHRoZSBwcmVmZXJyZWQgY29kZWMgZm9yIHRoZSBjYWxsLlxuICAgKiBUaGlzIGlzIGFuIGV4cGVyaW1lbnRhbCBjbGllbnQgZmVhdHVyZSBhbmQgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSBnZXRQcmVmZXJyZWRQdWJsaXNoT3B0aW9ucyA9ICgpOiBQdWJsaXNoT3B0aW9uW10gPT4ge1xuICAgIGNvbnN0IHsgcHJlZmVycmVkQ29kZWMsIGZtdHBMaW5lLCBwcmVmZXJyZWRCaXRyYXRlLCBtYXhTaW11bGNhc3RMYXllcnMgfSA9XG4gICAgICB0aGlzLmNsaWVudFB1Ymxpc2hPcHRpb25zIHx8IHt9O1xuICAgIGlmICghcHJlZmVycmVkQ29kZWMgJiYgIXByZWZlcnJlZEJpdHJhdGUgJiYgIW1heFNpbXVsY2FzdExheWVycykgcmV0dXJuIFtdO1xuXG4gICAgY29uc3QgY29kZWMgPSBwcmVmZXJyZWRDb2RlY1xuICAgICAgPyBDb2RlYy5jcmVhdGUoeyBuYW1lOiBwcmVmZXJyZWRDb2RlYy5zcGxpdCgnLycpLnBvcCgpLCBmbXRwOiBmbXRwTGluZSB9KVxuICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICBjb25zdCBwcmVmZXJyZWRQdWJsaXNoT3B0aW9ucyA9IFtcbiAgICAgIFB1Ymxpc2hPcHRpb24uY3JlYXRlKHtcbiAgICAgICAgdHJhY2tUeXBlOiBUcmFja1R5cGUuVklERU8sXG4gICAgICAgIGNvZGVjLFxuICAgICAgICBiaXRyYXRlOiBwcmVmZXJyZWRCaXRyYXRlLFxuICAgICAgICBtYXhTcGF0aWFsTGF5ZXJzOiBtYXhTaW11bGNhc3RMYXllcnMsXG4gICAgICB9KSxcbiAgICBdO1xuXG4gICAgY29uc3Qgc2NyZWVuU2hhcmVTZXR0aW5ncyA9IHRoaXMuc2NyZWVuU2hhcmUuZ2V0U2V0dGluZ3MoKTtcbiAgICBpZiAoc2NyZWVuU2hhcmVTZXR0aW5ncykge1xuICAgICAgcHJlZmVycmVkUHVibGlzaE9wdGlvbnMucHVzaChcbiAgICAgICAgUHVibGlzaE9wdGlvbi5jcmVhdGUoe1xuICAgICAgICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSxcbiAgICAgICAgICBmcHM6IHNjcmVlblNoYXJlU2V0dGluZ3MubWF4RnJhbWVyYXRlLFxuICAgICAgICAgIGJpdHJhdGU6IHNjcmVlblNoYXJlU2V0dGluZ3MubWF4Qml0cmF0ZSxcbiAgICAgICAgfSksXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBwcmVmZXJyZWRQdWJsaXNoT3B0aW9ucztcbiAgfTtcblxuICAvKipcbiAgICogUHJlcGFyZXMgdGhlIHByZWZlcnJlZCBvcHRpb25zIGZvciBzdWJzY3JpYmluZyB0byB0cmFja3MuXG4gICAqIFRoaXMgaXMgYW4gZXhwZXJpbWVudGFsIGNsaWVudCBmZWF0dXJlIGFuZCBzdWJqZWN0IHRvIGNoYW5nZS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIGdldFByZWZlcnJlZFN1YnNjcmliZU9wdGlvbnMgPSAoKTogU3Vic2NyaWJlT3B0aW9uW10gPT4ge1xuICAgIGNvbnN0IHsgc3Vic2NyaWJlckNvZGVjLCBzdWJzY3JpYmVyRm10cExpbmUgfSA9XG4gICAgICB0aGlzLmNsaWVudFB1Ymxpc2hPcHRpb25zIHx8IHt9O1xuICAgIGlmICghc3Vic2NyaWJlckNvZGVjIHx8ICFzdWJzY3JpYmVyRm10cExpbmUpIHJldHVybiBbXTtcbiAgICByZXR1cm4gW1xuICAgICAgU3Vic2NyaWJlT3B0aW9uLmNyZWF0ZSh7XG4gICAgICAgIHRyYWNrVHlwZTogVHJhY2tUeXBlLlZJREVPLFxuICAgICAgICBjb2RlY3M6IFtcbiAgICAgICAgICB7IG5hbWU6IHN1YnNjcmliZXJDb2RlYy5zcGxpdCgnLycpLnBvcCgpLCBmbXRwOiBzdWJzY3JpYmVyRm10cExpbmUgfSxcbiAgICAgICAgXSxcbiAgICAgIH0pLFxuICAgIF07XG4gIH07XG5cbiAgLyoqXG4gICAqIFBlcmZvcm1zIGFuIElDRSByZXN0YXJ0IG9uIGJvdGggdGhlIFB1Ymxpc2hlciBhbmQgU3Vic2NyaWJlciBQZWVyIENvbm5lY3Rpb25zLlxuICAgKiBVc2VzIHRoZSBwcm92aWRlZCBTRlUgY2xpZW50IHRvIHJlc3RvcmUgdGhlIElDRSBjb25uZWN0aW9uLlxuICAgKlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gdGhyb3cgYW4gZXJyb3IgaWYgdGhlIElDRSByZXN0YXJ0IGZhaWxzLlxuICAgKiBUaGlzIGVycm9yIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHRoZSByZWNvbm5lY3QgbG9vcCxcbiAgICogYW5kIGEgbmV3IHJlY29ubmVjdGlvbiBzaGFsbCBiZSBhdHRlbXB0ZWQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZXN0b3JlSUNFID0gYXN5bmMgKFxuICAgIG5leHRTZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCxcbiAgICBvcHRzOiB7IGluY2x1ZGVTdWJzY3JpYmVyPzogYm9vbGVhbjsgaW5jbHVkZVB1Ymxpc2hlcj86IGJvb2xlYW4gfSA9IHt9LFxuICApID0+IHtcbiAgICBjb25zdCB7IGluY2x1ZGVTdWJzY3JpYmVyID0gdHJ1ZSwgaW5jbHVkZVB1Ymxpc2hlciA9IHRydWUgfSA9IG9wdHM7XG4gICAgaWYgKHRoaXMuc3Vic2NyaWJlcikge1xuICAgICAgdGhpcy5zdWJzY3JpYmVyLnNldFNmdUNsaWVudChuZXh0U2Z1Q2xpZW50KTtcbiAgICAgIGlmIChpbmNsdWRlU3Vic2NyaWJlcikge1xuICAgICAgICBhd2FpdCB0aGlzLnN1YnNjcmliZXIucmVzdGFydEljZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy5wdWJsaXNoZXIpIHtcbiAgICAgIHRoaXMucHVibGlzaGVyLnNldFNmdUNsaWVudChuZXh0U2Z1Q2xpZW50KTtcbiAgICAgIGlmIChpbmNsdWRlUHVibGlzaGVyICYmIHRoaXMucHVibGlzaGVyLmlzUHVibGlzaGluZygpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMucHVibGlzaGVyLnJlc3RhcnRJY2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemVzIHRoZSBQdWJsaXNoZXIgYW5kIFN1YnNjcmliZXIgUGVlciBDb25uZWN0aW9ucy5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIGluaXRQdWJsaXNoZXJBbmRTdWJzY3JpYmVyID0gKG9wdHM6IHtcbiAgICBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudDtcbiAgICBjb25uZWN0aW9uQ29uZmlnOiBSVENDb25maWd1cmF0aW9uO1xuICAgIHN0YXRzT3B0aW9uczogU3RhdHNPcHRpb25zO1xuICAgIGNsaWVudERldGFpbHM6IENsaWVudERldGFpbHM7XG4gICAgcHVibGlzaE9wdGlvbnM6IFB1Ymxpc2hPcHRpb25bXTtcbiAgICBjbG9zZVByZXZpb3VzSW5zdGFuY2VzOiBib29sZWFuO1xuICB9KSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgc2Z1Q2xpZW50LFxuICAgICAgY29ubmVjdGlvbkNvbmZpZyxcbiAgICAgIGNsaWVudERldGFpbHMsXG4gICAgICBzdGF0c09wdGlvbnMsXG4gICAgICBwdWJsaXNoT3B0aW9ucyxcbiAgICAgIGNsb3NlUHJldmlvdXNJbnN0YW5jZXMsXG4gICAgfSA9IG9wdHM7XG4gICAgY29uc3QgeyBlbmFibGVfcnRjX3N0YXRzOiBlbmFibGVUcmFjaW5nIH0gPSBzdGF0c09wdGlvbnM7XG4gICAgaWYgKGNsb3NlUHJldmlvdXNJbnN0YW5jZXMgJiYgdGhpcy5zdWJzY3JpYmVyKSB7XG4gICAgICB0aGlzLnN1YnNjcmliZXIuZGlzcG9zZSgpO1xuICAgIH1cbiAgICB0aGlzLnN1YnNjcmliZXIgPSBuZXcgU3Vic2NyaWJlcih7XG4gICAgICBzZnVDbGllbnQsXG4gICAgICBkaXNwYXRjaGVyOiB0aGlzLmRpc3BhdGNoZXIsXG4gICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgIGNvbm5lY3Rpb25Db25maWcsXG4gICAgICBsb2dUYWc6IFN0cmluZyh0aGlzLnNmdUNsaWVudFRhZyksXG4gICAgICBlbmFibGVUcmFjaW5nLFxuICAgICAgb25SZWNvbm5lY3Rpb25OZWVkZWQ6IChraW5kLCByZWFzb24pID0+IHtcbiAgICAgICAgdGhpcy5yZWNvbm5lY3Qoa2luZCwgcmVhc29uKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcgYWZ0ZXIgYSBzdWJzY3JpYmVyIGVycm9yOiAke3JlYXNvbn1gO1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgbWVzc2FnZSwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgIH0pO1xuXG4gICAgLy8gYW5vbnltb3VzIHVzZXJzIGNhbid0IHB1Ymxpc2ggYW55dGhpbmcgaGVuY2UsIHRoZXJlIGlzIG5vIG5lZWRcbiAgICAvLyB0byBjcmVhdGUgUHVibGlzaGVyIFBlZXIgQ29ubmVjdGlvbiBmb3IgdGhlbVxuICAgIGNvbnN0IGlzQW5vbnltb3VzID0gdGhpcy5zdHJlYW1DbGllbnQudXNlcj8udHlwZSA9PT0gJ2Fub255bW91cyc7XG4gICAgaWYgKCFpc0Fub255bW91cykge1xuICAgICAgaWYgKGNsb3NlUHJldmlvdXNJbnN0YW5jZXMgJiYgdGhpcy5wdWJsaXNoZXIpIHtcbiAgICAgICAgdGhpcy5wdWJsaXNoZXIuZGlzcG9zZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5wdWJsaXNoZXIgPSBuZXcgUHVibGlzaGVyKHtcbiAgICAgICAgc2Z1Q2xpZW50LFxuICAgICAgICBkaXNwYXRjaGVyOiB0aGlzLmRpc3BhdGNoZXIsXG4gICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICBjb25uZWN0aW9uQ29uZmlnLFxuICAgICAgICBwdWJsaXNoT3B0aW9ucyxcbiAgICAgICAgbG9nVGFnOiBTdHJpbmcodGhpcy5zZnVDbGllbnRUYWcpLFxuICAgICAgICBlbmFibGVUcmFjaW5nLFxuICAgICAgICBvblJlY29ubmVjdGlvbk5lZWRlZDogKGtpbmQsIHJlYXNvbikgPT4ge1xuICAgICAgICAgIHRoaXMucmVjb25uZWN0KGtpbmQsIHJlYXNvbikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IGBbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcgYWZ0ZXIgYSBwdWJsaXNoZXIgZXJyb3I6ICR7cmVhc29ufWA7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlcignd2FybicsIG1lc3NhZ2UsIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0b3AoKTtcbiAgICBpZiAodGhpcy5zdGF0c1JlcG9ydGluZ0ludGVydmFsSW5NcyA+IDApIHtcbiAgICAgIHRoaXMuc3RhdHNSZXBvcnRlciA9IGNyZWF0ZVN0YXRzUmVwb3J0ZXIoe1xuICAgICAgICBzdWJzY3JpYmVyOiB0aGlzLnN1YnNjcmliZXIsXG4gICAgICAgIHB1Ymxpc2hlcjogdGhpcy5wdWJsaXNoZXIsXG4gICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICBkYXRhY2VudGVyOiBzZnVDbGllbnQuZWRnZU5hbWUsXG4gICAgICAgIHBvbGxpbmdJbnRlcnZhbEluTXM6IHRoaXMuc3RhdHNSZXBvcnRpbmdJbnRlcnZhbEluTXMsXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLnRyYWNlci5zZXRFbmFibGVkKGVuYWJsZVRyYWNpbmcpO1xuICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc3RvcCgpO1xuICAgIGlmIChzdGF0c09wdGlvbnM/LnJlcG9ydGluZ19pbnRlcnZhbF9tcyA+IDApIHtcbiAgICAgIHRoaXMudW5pZmllZFNlc3Npb25JZCA/Pz0gc2Z1Q2xpZW50LnNlc3Npb25JZDtcbiAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlciA9IG5ldyBTZnVTdGF0c1JlcG9ydGVyKHNmdUNsaWVudCwge1xuICAgICAgICBjbGllbnREZXRhaWxzLFxuICAgICAgICBvcHRpb25zOiBzdGF0c09wdGlvbnMsXG4gICAgICAgIHN1YnNjcmliZXI6IHRoaXMuc3Vic2NyaWJlcixcbiAgICAgICAgcHVibGlzaGVyOiB0aGlzLnB1Ymxpc2hlcixcbiAgICAgICAgbWljcm9waG9uZTogdGhpcy5taWNyb3Bob25lLFxuICAgICAgICBjYW1lcmE6IHRoaXMuY2FtZXJhLFxuICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgdHJhY2VyOiB0aGlzLnRyYWNlcixcbiAgICAgICAgdW5pZmllZFNlc3Npb25JZDogdGhpcy51bmlmaWVkU2Vzc2lvbklkLFxuICAgICAgfSk7XG4gICAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXIuc3RhcnQoKTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBjcmVkZW50aWFscyBmb3Igam9pbmluZyB0aGUgY2FsbC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSBqb2luIGNhbGwgZGF0YS5cbiAgICovXG4gIGRvSm9pblJlcXVlc3QgPSBhc3luYyAoZGF0YT86IEpvaW5DYWxsRGF0YSk6IFByb21pc2U8Sm9pbkNhbGxSZXNwb25zZT4gPT4ge1xuICAgIGNvbnN0IGxvY2F0aW9uID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQuZ2V0TG9jYXRpb25IaW50KCk7XG4gICAgY29uc3QgcmVxdWVzdDogSm9pbkNhbGxSZXF1ZXN0ID0geyAuLi5kYXRhLCBsb2NhdGlvbiB9O1xuICAgIGNvbnN0IGpvaW5SZXNwb25zZSA9IGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBKb2luQ2FsbFJlc3BvbnNlLFxuICAgICAgSm9pbkNhbGxSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9qb2luYCwgcmVxdWVzdCk7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGpvaW5SZXNwb25zZS5jYWxsKTtcbiAgICB0aGlzLnN0YXRlLnNldE1lbWJlcnMoam9pblJlc3BvbnNlLm1lbWJlcnMpO1xuICAgIHRoaXMuc3RhdGUuc2V0T3duQ2FwYWJpbGl0aWVzKGpvaW5SZXNwb25zZS5vd25fY2FwYWJpbGl0aWVzKTtcblxuICAgIGlmIChkYXRhPy5yaW5nKSB7XG4gICAgICB0aGlzLnJpbmdpbmdTdWJqZWN0Lm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgY29uc3QgaXNSZWNvbm5lY3RpbmcgPVxuICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSAhPT0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuVU5TUEVDSUZJRUQ7XG5cbiAgICBpZiAoIWlzUmVjb25uZWN0aW5nICYmIHRoaXMucmluZ2luZyAmJiAhdGhpcy5pc0NyZWF0ZWRCeU1lKSB7XG4gICAgICAvLyBzaWduYWxzIG90aGVyIHVzZXJzIHRoYXQgSSBoYXZlIGFjY2VwdGVkIHRoZSBpbmNvbWluZyBjYWxsLlxuICAgICAgYXdhaXQgdGhpcy5hY2NlcHQoKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdHJlYW1DbGllbnQuX2hhc0Nvbm5lY3Rpb25JRCgpKSB7XG4gICAgICB0aGlzLndhdGNoaW5nID0gdHJ1ZTtcbiAgICAgIHRoaXMuY2xpZW50U3RvcmUucmVnaXN0ZXJDYWxsKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiBqb2luUmVzcG9uc2U7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIGNsb3Npbmcgb2YgdGhlIFNGVSBzaWduYWwgY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqIEBwYXJhbSBzZnVDbGllbnQgdGhlIFNGVSBjbGllbnQgaW5zdGFuY2UgdGhhdCB3YXMgY2xvc2VkLlxuICAgKiBAcGFyYW0gcmVhc29uIHRoZSByZWFzb24gZm9yIHRoZSBjbG9zdXJlLlxuICAgKi9cbiAgcHJpdmF0ZSBoYW5kbGVTZnVTaWduYWxDbG9zZSA9IChcbiAgICBzZnVDbGllbnQ6IFN0cmVhbVNmdUNsaWVudCxcbiAgICByZWFzb246IHN0cmluZyxcbiAgKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ1tSZWNvbm5lY3RdIFNGVSBzaWduYWwgY29ubmVjdGlvbiBjbG9zZWQnKTtcbiAgICBjb25zdCB7IGNhbGxpbmdTdGF0ZSB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAoXG4gICAgICAvLyBTRlUgV1MgY2xvc2VkIGJlZm9yZSB3ZSBmaW5pc2hlZCBjdXJyZW50IGpvaW4sXG4gICAgICAvLyBubyBuZWVkIHRvIHNjaGVkdWxlIHJlY29ubmVjdGluZ1xuICAgICAgY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTklORyB8fFxuICAgICAgLy8gd2UgYXJlIGFscmVhZHkgaW4gdGhlIHByb2Nlc3Mgb2YgcmVjb25uZWN0aW5nLFxuICAgICAgLy8gbm8gbmVlZCB0byBzY2hlZHVsZSBhbm90aGVyIG9uZVxuICAgICAgY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HIHx8XG4gICAgICAvLyBTRlUgV1MgY2xvc2VkIGFzIGEgcmVzdWx0IG9mIHVuc3VjY2Vzc2Z1bCBqb2luLFxuICAgICAgLy8gYW5kIG5vIGZ1cnRoZXIgcmV0cmllcyBuZWVkIHRvIGJlIG1hZGVcbiAgICAgIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLklETEUgfHxcbiAgICAgIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlRcbiAgICApXG4gICAgICByZXR1cm47XG4gICAgLy8gbm9ybWFsIGNsb3NlLCBubyBuZWVkIHRvIHJlY29ubmVjdFxuICAgIGlmIChzZnVDbGllbnQuaXNMZWF2aW5nIHx8IHNmdUNsaWVudC5pc0Nsb3NpbmdDbGVhbikgcmV0dXJuO1xuXG4gICAgY29uc3Qgc3RyYXRlZ3kgPVxuICAgICAgdGhpcy5wdWJsaXNoZXI/LmlzSGVhbHRoeSgpICYmIHRoaXMuc3Vic2NyaWJlcj8uaXNIZWFsdGh5KClcbiAgICAgICAgPyBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5GQVNUXG4gICAgICAgIDogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOO1xuICAgIHRoaXMucmVjb25uZWN0KHN0cmF0ZWd5LCByZWFzb24pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ1tSZWNvbm5lY3RdIEVycm9yIHJlY29ubmVjdGluZycsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgdGhlIHJlY29ubmVjdGlvbiBmbG93LlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICpcbiAgICogQHBhcmFtIHN0cmF0ZWd5IHRoZSByZWNvbm5lY3Rpb24gc3RyYXRlZ3kgdG8gdXNlLlxuICAgKiBAcGFyYW0gcmVhc29uIHRoZSByZWFzb24gZm9yIHRoZSByZWNvbm5lY3Rpb24uXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdCA9IGFzeW5jIChcbiAgICBzdHJhdGVneTogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3ksXG4gICAgcmVhc29uOiBzdHJpbmcsXG4gICk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HIHx8XG4gICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLk1JR1JBVElORyB8fFxuICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEXG4gICAgKVxuICAgICAgcmV0dXJuO1xuXG4gICAgcmV0dXJuIHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLnJlY29ubmVjdENvbmN1cnJlbmN5VGFnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZWNvbm5lY3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5yZWNvbm5lY3RTdHJhdGVneSA9IHN0cmF0ZWd5O1xuICAgICAgdGhpcy5yZWNvbm5lY3RSZWFzb24gPSByZWFzb247XG5cbiAgICAgIGxldCBhdHRlbXB0ID0gMDtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgcmVjb25uZWN0aW5nVGltZSA9IERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWU7XG4gICAgICAgIGNvbnN0IHNob3VsZEdpdmVVcFJlY29ubmVjdGluZyA9XG4gICAgICAgICAgdGhpcy5kaXNjb25uZWN0aW9uVGltZW91dFNlY29uZHMgPiAwICYmXG4gICAgICAgICAgcmVjb25uZWN0aW5nVGltZSAvIDEwMDAgPiB0aGlzLmRpc2Nvbm5lY3Rpb25UaW1lb3V0U2Vjb25kcztcblxuICAgICAgICBpZiAoc2hvdWxkR2l2ZVVwUmVjb25uZWN0aW5nKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnd2FybicsXG4gICAgICAgICAgICAnW1JlY29ubmVjdF0gU3RvcHBpbmcgcmVjb25uZWN0aW9uIGF0dGVtcHRzIGFmdGVyIHJlYWNoaW5nIGRpc2Nvbm5lY3Rpb24gdGltZW91dCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HX0ZBSUxFRCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gd2UgZG9uJ3QgaW5jcmVtZW50IHJlY29ubmVjdCBhdHRlbXB0cyBmb3IgdGhlIEZBU1Qgc3RyYXRlZ3kuXG4gICAgICAgIGlmICh0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ICE9PSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5GQVNUKSB7XG4gICAgICAgICAgdGhpcy5yZWNvbm5lY3RBdHRlbXB0cysrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTdHJhdGVneSA9XG4gICAgICAgICAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3lbdGhpcy5yZWNvbm5lY3RTdHJhdGVneV07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gd2FpdCB1bnRpbCB0aGUgbmV0d29yayBpcyBhdmFpbGFibGVcbiAgICAgICAgICBhd2FpdCB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrPy5wcm9taXNlO1xuXG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnaW5mbycsXG4gICAgICAgICAgICBgW1JlY29ubmVjdF0gUmVjb25uZWN0aW5nIHdpdGggc3RyYXRlZ3kgJHtXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneVt0aGlzLnJlY29ubmVjdFN0cmF0ZWd5XX1gLFxuICAgICAgICAgICk7XG5cbiAgICAgICAgICBzd2l0Y2ggKHRoaXMucmVjb25uZWN0U3RyYXRlZ3kpIHtcbiAgICAgICAgICAgIGNhc2UgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuVU5TUEVDSUZJRUQ6XG4gICAgICAgICAgICBjYXNlIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkRJU0NPTk5FQ1Q6XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAgICAgYFtSZWNvbm5lY3RdIE5vLW9wIHN0cmF0ZWd5ICR7Y3VycmVudFN0cmF0ZWd5fWAsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5GQVNUOlxuICAgICAgICAgICAgICBhd2FpdCB0aGlzLnJlY29ubmVjdEZhc3QoKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlJFSk9JTjpcbiAgICAgICAgICAgICAgYXdhaXQgdGhpcy5yZWNvbm5lY3RSZWpvaW4oKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5Lk1JR1JBVEU6XG4gICAgICAgICAgICAgIGF3YWl0IHRoaXMucmVjb25uZWN0TWlncmF0ZSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIGVuc3VyZUV4aGF1c3RlZChcbiAgICAgICAgICAgICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICdVbmtub3duIHJlY29ubmVjdGlvbiBzdHJhdGVneScsXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhazsgLy8gZG8td2hpbGUgbG9vcCwgcmVjb25uZWN0aW9uIHdvcmtlZCwgZXhpdCB0aGUgbG9vcFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLk9GRkxJTkUpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAnZGVidWcnLFxuICAgICAgICAgICAgICBgW1JlY29ubmVjdF0gQ2FuJ3QgcmVjb25uZWN0IHdoaWxlIG9mZmxpbmUsIHN0b3BwaW5nIHJlY29ubmVjdGlvbiBhdHRlbXB0c2AsXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIGhhbmRsZSB0aGUgZXJyb3IgaWYgdGhlIGNhbGwgaXMgb2ZmbGluZVxuICAgICAgICAgICAgLy8gbmV0d29yayBjaGFuZ2UgZXZlbnQgd2lsbCB0cmlnZ2VyIHRoZSByZWNvbm5lY3Rpb25cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3JGcm9tUmVzcG9uc2UgJiYgZXJyb3IudW5yZWNvdmVyYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgYFtSZWNvbm5lY3RdIENhbid0IHJlY29ubmVjdCBkdWUgdG8gY29vcmRpbmF0b3IgdW5yZWNvdmVyYWJsZSBlcnJvcmAsXG4gICAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5SRUNPTk5FQ1RJTkdfRkFJTEVEKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhd2FpdCBzbGVlcCg1MDApO1xuXG4gICAgICAgICAgY29uc3Qgd2FzTWlncmF0aW5nID1cbiAgICAgICAgICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5Lk1JR1JBVEU7XG4gICAgICAgICAgY29uc3QgbXVzdFBlcmZvcm1SZWpvaW4gPVxuICAgICAgICAgICAgKERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCA+XG4gICAgICAgICAgICB0aGlzLmZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHM7XG5cbiAgICAgICAgICAvLyBkb24ndCBpbW1lZGlhdGVseSBzd2l0Y2ggdG8gdGhlIFJFSk9JTiBzdHJhdGVneSwgYnV0IGluc3RlYWQgYXR0ZW1wdFxuICAgICAgICAgIC8vIHRvIHJlY29ubmVjdCB3aXRoIHRoZSBGQVNUIHN0cmF0ZWd5IGZvciBhIGZldyB0aW1lcyBiZWZvcmUgc3dpdGNoaW5nLlxuICAgICAgICAgIC8vIGluIHNvbWUgY2FzZXMsIHdlIGltbWVkaWF0ZWx5IHN3aXRjaCB0byB0aGUgUkVKT0lOIHN0cmF0ZWd5LlxuICAgICAgICAgIGNvbnN0IHNob3VsZFJlam9pbiA9XG4gICAgICAgICAgICBtdXN0UGVyZm9ybVJlam9pbiB8fCAvLyBpZiB3ZSBhcmUgcGFzdCB0aGUgZmFzdCByZWNvbm5lY3QgZGVhZGxpbmVcbiAgICAgICAgICAgIHdhc01pZ3JhdGluZyB8fCAvLyBpZiB3ZSB3ZXJlIG1pZ3JhdGluZywgYnV0IHRoZSBtaWdyYXRpb24gZmFpbGVkXG4gICAgICAgICAgICBhdHRlbXB0ID49IDMgfHwgLy8gYWZ0ZXIgMyBmYWlsZWQgYXR0ZW1wdHNcbiAgICAgICAgICAgICEodGhpcy5wdWJsaXNoZXI/LmlzSGVhbHRoeSgpID8/IHRydWUpIHx8IC8vIGlmIHRoZSBwdWJsaXNoZXIgaXMgbm90IGhlYWx0aHlcbiAgICAgICAgICAgICEodGhpcy5zdWJzY3JpYmVyPy5pc0hlYWx0aHkoKSA/PyB0cnVlKTsgLy8gaWYgdGhlIHN1YnNjcmliZXIgaXMgbm90IGhlYWx0aHlcblxuICAgICAgICAgIGF0dGVtcHQrKztcblxuICAgICAgICAgIGNvbnN0IG5leHRTdHJhdGVneSA9IHNob3VsZFJlam9pblxuICAgICAgICAgICAgPyBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU5cbiAgICAgICAgICAgIDogV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVDtcbiAgICAgICAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gbmV4dFN0cmF0ZWd5O1xuXG4gICAgICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICAgICAnaW5mbycsXG4gICAgICAgICAgICBgW1JlY29ubmVjdF0gJHtjdXJyZW50U3RyYXRlZ3l9ICgke3RoaXMucmVjb25uZWN0QXR0ZW1wdHN9KSBmYWlsZWQuIEF0dGVtcHRpbmcgd2l0aCAke1dlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5W25leHRTdHJhdGVneV19YCxcbiAgICAgICAgICAgIGVycm9yLFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH0gd2hpbGUgKFxuICAgICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLkpPSU5FRCAmJlxuICAgICAgICB0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR19GQUlMRUQgJiZcbiAgICAgICAgdGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5MRUZUXG4gICAgICApO1xuICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnW1JlY29ubmVjdF0gUmVjb25uZWN0aW9uIGZsb3cgZmluaXNoZWQnKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogSW5pdGlhdGVzIHRoZSByZWNvbm5lY3Rpb24gZmxvdyB3aXRoIHRoZSBcImZhc3RcIiBzdHJhdGVneS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdEZhc3QgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgcmVjb25uZWN0U3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB0aGlzLnJlY29ubmVjdFN0cmF0ZWd5ID0gV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuRkFTVDtcbiAgICB0aGlzLnN0YXRlLnNldENhbGxpbmdTdGF0ZShDYWxsaW5nU3RhdGUuUkVDT05ORUNUSU5HKTtcbiAgICBhd2FpdCB0aGlzLmRvSm9pbih0aGlzLmpvaW5DYWxsRGF0YSk7XG4gICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zZW5kUmVjb25uZWN0aW9uVGltZShcbiAgICAgIFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1QsXG4gICAgICAoRGF0ZS5ub3coKSAtIHJlY29ubmVjdFN0YXJ0VGltZSkgLyAxMDAwLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEluaXRpYXRlcyB0aGUgcmVjb25uZWN0aW9uIGZsb3cgd2l0aCB0aGUgXCJyZWpvaW5cIiBzdHJhdGVneS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlY29ubmVjdFJlam9pbiA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZWNvbm5lY3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU47XG4gICAgdGhpcy5zdGF0ZS5zZXRDYWxsaW5nU3RhdGUoQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElORyk7XG4gICAgYXdhaXQgdGhpcy5kb0pvaW4odGhpcy5qb2luQ2FsbERhdGEpO1xuICAgIGF3YWl0IHRoaXMucmVzdG9yZVB1Ymxpc2hlZFRyYWNrcygpO1xuICAgIHRoaXMucmVzdG9yZVN1YnNjcmliZWRUcmFja3MoKTtcbiAgICB0aGlzLnNmdVN0YXRzUmVwb3J0ZXI/LnNlbmRSZWNvbm5lY3Rpb25UaW1lKFxuICAgICAgV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuUkVKT0lOLFxuICAgICAgKERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBJbml0aWF0ZXMgdGhlIHJlY29ubmVjdGlvbiBmbG93IHdpdGggdGhlIFwibWlncmF0ZVwiIHN0cmF0ZWd5LlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHByaXZhdGUgcmVjb25uZWN0TWlncmF0ZSA9IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZWNvbm5lY3RTdGFydFRpbWUgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGN1cnJlbnRTZnVDbGllbnQgPSB0aGlzLnNmdUNsaWVudDtcbiAgICBpZiAoIWN1cnJlbnRTZnVDbGllbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IG1pZ3JhdGUgd2l0aG91dCBhbiBhY3RpdmUgU0ZVIGNsaWVudCcpO1xuICAgIH1cblxuICAgIHRoaXMucmVjb25uZWN0U3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFO1xuICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5NSUdSQVRJTkcpO1xuICAgIGNvbnN0IGN1cnJlbnRTdWJzY3JpYmVyID0gdGhpcy5zdWJzY3JpYmVyO1xuICAgIGNvbnN0IGN1cnJlbnRQdWJsaXNoZXIgPSB0aGlzLnB1Ymxpc2hlcjtcblxuICAgIGN1cnJlbnRTdWJzY3JpYmVyPy5kZXRhY2hFdmVudEhhbmRsZXJzKCk7XG4gICAgY3VycmVudFB1Ymxpc2hlcj8uZGV0YWNoRXZlbnRIYW5kbGVycygpO1xuXG4gICAgY29uc3QgbWlncmF0aW9uVGFzayA9IG1ha2VTYWZlUHJvbWlzZShjdXJyZW50U2Z1Q2xpZW50LmVudGVyTWlncmF0aW9uKCkpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRTZnUgPSBjdXJyZW50U2Z1Q2xpZW50LmVkZ2VOYW1lO1xuICAgICAgYXdhaXQgdGhpcy5kb0pvaW4oeyAuLi50aGlzLmpvaW5DYWxsRGF0YSwgbWlncmF0aW5nX2Zyb206IGN1cnJlbnRTZnUgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIC8vIGNsZWFudXAgdGhlIG1pZ3JhdGlvbl9mcm9tIGZpZWxkIGFmdGVyIHRoZSBtaWdyYXRpb24gaXMgY29tcGxldGUgb3IgZmFpbGVkXG4gICAgICAvLyBhcyB3ZSBkb24ndCB3YW50IHRvIGtlZXAgZGlydHkgZGF0YSBpbiB0aGUgam9pbiBjYWxsIGRhdGFcbiAgICAgIGRlbGV0ZSB0aGlzLmpvaW5DYWxsRGF0YT8ubWlncmF0aW5nX2Zyb207XG4gICAgfVxuXG4gICAgYXdhaXQgdGhpcy5yZXN0b3JlUHVibGlzaGVkVHJhY2tzKCk7XG4gICAgdGhpcy5yZXN0b3JlU3Vic2NyaWJlZFRyYWNrcygpO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFdhaXQgZm9yIHRoZSBtaWdyYXRpb24gdG8gY29tcGxldGUsIHRoZW4gY2xvc2UgdGhlIHByZXZpb3VzIFNGVSBjbGllbnRcbiAgICAgIC8vIGFuZCB0aGUgcGVlciBjb25uZWN0aW9uIGluc3RhbmNlcy4gSW4gY2FzZSBvZiBmYWlsdXJlLCB0aGUgbWlncmF0aW9uXG4gICAgICAvLyB0YXNrIHdvdWxkIHRocm93IGFuIGVycm9yIGFuZCBSRUpPSU4gd291bGQgYmUgYXR0ZW1wdGVkLlxuICAgICAgYXdhaXQgbWlncmF0aW9uVGFzaygpO1xuXG4gICAgICAvLyBpbiBNSUdSQVRFLCB3ZSBjYW4gY29uc2lkZXIgdGhlIGNhbGwgYXMgam9pbmVkIG9ubHkgYWZ0ZXJcbiAgICAgIC8vIGBwYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlYCBldmVudCBpcyByZWNlaXZlZCwgc2lnbmFsZWQgYnlcbiAgICAgIC8vIHRoZSBgbWlncmF0aW9uVGFza2BcbiAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5KT0lORUQpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjdXJyZW50U3Vic2NyaWJlcj8uZGlzcG9zZSgpO1xuICAgICAgY3VycmVudFB1Ymxpc2hlcj8uZGlzcG9zZSgpO1xuXG4gICAgICAvLyBhbmQgY2xvc2UgdGhlIHByZXZpb3VzIFNGVSBjbGllbnQsIHdpdGhvdXQgc3BlY2lmeWluZyBjbG9zZSBjb2RlXG4gICAgICBjdXJyZW50U2Z1Q2xpZW50LmNsb3NlKFN0cmVhbVNmdUNsaWVudC5OT1JNQUxfQ0xPU1VSRSwgJ01pZ3JhdGluZyBhd2F5Jyk7XG4gICAgfVxuICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc2VuZFJlY29ubmVjdGlvblRpbWUoXG4gICAgICBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5NSUdSQVRFLFxuICAgICAgKERhdGUubm93KCkgLSByZWNvbm5lY3RTdGFydFRpbWUpIC8gMTAwMCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZWdpc3RlcnMgdGhlIHZhcmlvdXMgZXZlbnQgaGFuZGxlcnMgZm9yIHJlY29ubmVjdGlvbi5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBwcml2YXRlIHJlZ2lzdGVyUmVjb25uZWN0SGFuZGxlcnMgPSAoKSA9PiB7XG4gICAgLy8gaGFuZGxlcyB0aGUgbGVnYWN5IFwiZ29Bd2F5XCIgZXZlbnRcbiAgICBjb25zdCB1bnJlZ2lzdGVyR29Bd2F5ID0gdGhpcy5vbignZ29Bd2F5JywgKCkgPT4ge1xuICAgICAgdGhpcy5yZWNvbm5lY3QoV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kuTUlHUkFURSwgJ2dvQXdheScpLmNhdGNoKFxuICAgICAgICAoZXJyKSA9PiB0aGlzLmxvZ2dlcignd2FybicsICdbUmVjb25uZWN0XSBFcnJvciByZWNvbm5lY3RpbmcnLCBlcnIpLFxuICAgICAgKTtcbiAgICB9KTtcblxuICAgIC8vIGhhbmRsZXMgdGhlIFwiZXJyb3JcIiBldmVudCwgdGhyb3VnaCB3aGljaCB0aGUgU0ZVIGNhbiByZXF1ZXN0IGEgcmVjb25uZWN0XG4gICAgY29uc3QgdW5yZWdpc3Rlck9uRXJyb3IgPSB0aGlzLm9uKCdlcnJvcicsIChlKSA9PiB7XG4gICAgICBjb25zdCB7IHJlY29ubmVjdFN0cmF0ZWd5OiBzdHJhdGVneSwgZXJyb3IgfSA9IGU7XG4gICAgICBpZiAoc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LlVOU1BFQ0lGSUVEKSByZXR1cm47XG4gICAgICBpZiAoc3RyYXRlZ3kgPT09IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkRJU0NPTk5FQ1QpIHtcbiAgICAgICAgdGhpcy5sZWF2ZSh7IG1lc3NhZ2U6ICdTRlUgaW5zdHJ1Y3RlZCB0byBkaXNjb25uZWN0JyB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCBgQ2FuJ3QgbGVhdmUgY2FsbCBhZnRlciBkaXNjb25uZWN0IHJlcXVlc3RgLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVjb25uZWN0KHN0cmF0ZWd5LCBlcnJvcj8ubWVzc2FnZSB8fCAnU0ZVIEVycm9yJykuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ1tSZWNvbm5lY3RdIEVycm9yIHJlY29ubmVjdGluZycsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgY29uc3QgdW5yZWdpc3Rlck5ldHdvcmtDaGFuZ2VkID0gdGhpcy5zdHJlYW1DbGllbnQub24oXG4gICAgICAnbmV0d29yay5jaGFuZ2VkJyxcbiAgICAgIChlKSA9PiB7XG4gICAgICAgIHRoaXMudHJhY2VyLnRyYWNlKCduZXR3b3JrLmNoYW5nZWQnLCBlKTtcbiAgICAgICAgaWYgKCFlLm9ubGluZSkge1xuICAgICAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdbUmVjb25uZWN0XSBHb2luZyBvZmZsaW5lJyk7XG4gICAgICAgICAgaWYgKCF0aGlzLmhhc0pvaW5lZE9uY2UpIHJldHVybjtcbiAgICAgICAgICB0aGlzLmxhc3RPZmZsaW5lVGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAvLyBjcmVhdGUgYSBuZXcgdGFzayB0aGF0IHdvdWxkIHJlc29sdmUgd2hlbiB0aGUgbmV0d29yayBpcyBhdmFpbGFibGVcbiAgICAgICAgICBjb25zdCBuZXR3b3JrQXZhaWxhYmxlVGFzayA9IHByb21pc2VXaXRoUmVzb2x2ZXJzKCk7XG4gICAgICAgICAgbmV0d29ya0F2YWlsYWJsZVRhc2sucHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGxldCBzdHJhdGVneSA9IFdlYnNvY2tldFJlY29ubmVjdFN0cmF0ZWd5LkZBU1Q7XG4gICAgICAgICAgICBpZiAodGhpcy5sYXN0T2ZmbGluZVRpbWVzdGFtcCkge1xuICAgICAgICAgICAgICBjb25zdCBvZmZsaW5lID0gKERhdGUubm93KCkgLSB0aGlzLmxhc3RPZmZsaW5lVGltZXN0YW1wKSAvIDEwMDA7XG4gICAgICAgICAgICAgIGlmIChvZmZsaW5lID4gdGhpcy5mYXN0UmVjb25uZWN0RGVhZGxpbmVTZWNvbmRzKSB7XG4gICAgICAgICAgICAgICAgLy8gV2Ugc2hvdWxkbid0IGF0dGVtcHQgRkFTVCBpZiB3ZSBoYXZlIGV4Y2VlZGVkIHRoZSBkZWFkbGluZS5cbiAgICAgICAgICAgICAgICAvLyBUaGUgU0ZVIHdvdWxkIGhhdmUgYWxyZWFkeSB3aXBlZCBvdXQgdGhlIHNlc3Npb24uXG4gICAgICAgICAgICAgICAgc3RyYXRlZ3kgPSBXZWJzb2NrZXRSZWNvbm5lY3RTdHJhdGVneS5SRUpPSU47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5yZWNvbm5lY3Qoc3RyYXRlZ3ksICdHb2luZyBvbmxpbmUnKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICAgICAnW1JlY29ubmVjdF0gRXJyb3IgcmVjb25uZWN0aW5nIGFmdGVyIGdvaW5nIG9ubGluZScsXG4gICAgICAgICAgICAgICAgZXJyLFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdGhpcy5uZXR3b3JrQXZhaWxhYmxlVGFzayA9IG5ldHdvcmtBdmFpbGFibGVUYXNrO1xuICAgICAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc3RvcCgpO1xuICAgICAgICAgIHRoaXMuc3RhdGUuc2V0Q2FsbGluZ1N0YXRlKENhbGxpbmdTdGF0ZS5PRkZMSU5FKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcignZGVidWcnLCAnW1JlY29ubmVjdF0gR29pbmcgb25saW5lJyk7XG4gICAgICAgICAgdGhpcy5zZnVDbGllbnQ/LmNsb3NlKFxuICAgICAgICAgICAgU3RyZWFtU2Z1Q2xpZW50LkRJU1BPU0VfT0xEX1NPQ0tFVCxcbiAgICAgICAgICAgICdDbG9zaW5nIFdTIHRvIHJlY29ubmVjdCBhZnRlciBnb2luZyBvbmxpbmUnLFxuICAgICAgICAgICk7XG4gICAgICAgICAgLy8gd2Ugd2VudCBvbmxpbmUsIHJlbGVhc2UgdGhlIHByZXZpb3VzIHdhaXRlcnMgYW5kIHJlc2V0IHRoZSBzdGF0ZVxuICAgICAgICAgIHRoaXMubmV0d29ya0F2YWlsYWJsZVRhc2s/LnJlc29sdmUoKTtcbiAgICAgICAgICB0aGlzLm5ldHdvcmtBdmFpbGFibGVUYXNrID0gdW5kZWZpbmVkO1xuICAgICAgICAgIHRoaXMuc2Z1U3RhdHNSZXBvcnRlcj8uc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICApO1xuXG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rc1xuICAgICAgLmFkZCh1bnJlZ2lzdGVyR29Bd2F5KVxuICAgICAgLmFkZCh1bnJlZ2lzdGVyT25FcnJvcilcbiAgICAgIC5hZGQodW5yZWdpc3Rlck5ldHdvcmtDaGFuZ2VkKTtcbiAgfTtcblxuICAvKipcbiAgICogUmVzdG9yZXMgdGhlIHB1Ymxpc2hlZCB0cmFja3MgYWZ0ZXIgYSByZWNvbm5lY3Rpb24uXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZXN0b3JlUHVibGlzaGVkVHJhY2tzID0gYXN5bmMgKCkgPT4ge1xuICAgIC8vIHRoZSB0cmFja3MgbmVlZCB0byBiZSByZXN0b3JlZCBpbiB0aGVpciBvcmlnaW5hbCBvcmRlciBvZiBwdWJsaXNoaW5nXG4gICAgLy8gb3RoZXJ3aXNlLCB3ZSBtaWdodCBnZXQgYG0tbGluZXMgb3JkZXIgbWlzbWF0Y2hgIGVycm9yc1xuICAgIGZvciAoY29uc3QgdHJhY2tUeXBlIG9mIHRoaXMudHJhY2tQdWJsaXNoT3JkZXIpIHtcbiAgICAgIGxldCBtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQ7XG4gICAgICBzd2l0Y2ggKHRyYWNrVHlwZSkge1xuICAgICAgICBjYXNlIFRyYWNrVHlwZS5BVURJTzpcbiAgICAgICAgICBtZWRpYVN0cmVhbSA9IHRoaXMubWljcm9waG9uZS5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuVklERU86XG4gICAgICAgICAgbWVkaWFTdHJlYW0gPSB0aGlzLmNhbWVyYS5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBUcmFja1R5cGUuU0NSRUVOX1NIQVJFOlxuICAgICAgICAgIG1lZGlhU3RyZWFtID0gdGhpcy5zY3JlZW5TaGFyZS5zdGF0ZS5tZWRpYVN0cmVhbTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgLy8gc2NyZWVuIHNoYXJlIGF1ZGlvIGNhbid0IGV4aXN0IHdpdGhvdXQgYSBzY3JlZW4gc2hhcmUsIHNvIHdlIGhhbmRsZSBpdCB0aGVyZVxuICAgICAgICBjYXNlIFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkVfQVVESU86XG4gICAgICAgIGNhc2UgVHJhY2tUeXBlLlVOU1BFQ0lGSUVEOlxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGVuc3VyZUV4aGF1c3RlZCh0cmFja1R5cGUsICdVbmtub3duIHRyYWNrIHR5cGUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhU3RyZWFtKSBhd2FpdCB0aGlzLnB1Ymxpc2gobWVkaWFTdHJlYW0sIHRyYWNrVHlwZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBSZXN0b3JlcyB0aGUgc3Vic2NyaWJlZCB0cmFja3MgYWZ0ZXIgYSByZWNvbm5lY3Rpb24uXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgcHJpdmF0ZSByZXN0b3JlU3Vic2NyaWJlZFRyYWNrcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlbW90ZVBhcnRpY2lwYW50cyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBpZiAocmVtb3RlUGFydGljaXBhbnRzLmxlbmd0aCA8PSAwKSByZXR1cm47XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKHVuZGVmaW5lZCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwdWJsaXNoaW5nIHRoZSBnaXZlbiB2aWRlbyBzdHJlYW0gdG8gdGhlIGNhbGwuXG4gICAqIEBkZXByZWNhdGVkIHVzZSBgY2FsbC5wdWJsaXNoKClgLlxuICAgKi9cbiAgcHVibGlzaFZpZGVvU3RyZWFtID0gYXN5bmMgKHZpZGVvU3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgIGF3YWl0IHRoaXMucHVibGlzaCh2aWRlb1N0cmVhbSwgVHJhY2tUeXBlLlZJREVPKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHB1Ymxpc2hpbmcgdGhlIGdpdmVuIGF1ZGlvIHN0cmVhbSB0byB0aGUgY2FsbC5cbiAgICogQGRlcHJlY2F0ZWQgdXNlIGBjYWxsLnB1Ymxpc2goKWBcbiAgICovXG4gIHB1Ymxpc2hBdWRpb1N0cmVhbSA9IGFzeW5jIChhdWRpb1N0cmVhbTogTWVkaWFTdHJlYW0pID0+IHtcbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2goYXVkaW9TdHJlYW0sIFRyYWNrVHlwZS5BVURJTyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBwdWJsaXNoaW5nIHRoZSBnaXZlbiBzY3JlZW4tc2hhcmUgc3RyZWFtIHRvIHRoZSBjYWxsLlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGNhbGwucHVibGlzaCgpYFxuICAgKi9cbiAgcHVibGlzaFNjcmVlblNoYXJlU3RyZWFtID0gYXN5bmMgKHNjcmVlblNoYXJlU3RyZWFtOiBNZWRpYVN0cmVhbSkgPT4ge1xuICAgIGF3YWl0IHRoaXMucHVibGlzaChzY3JlZW5TaGFyZVN0cmVhbSwgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFB1Ymxpc2hlcyB0aGUgZ2l2ZW4gbWVkaWEgc3RyZWFtLlxuICAgKlxuICAgKiBAcGFyYW0gbWVkaWFTdHJlYW0gdGhlIG1lZGlhIHN0cmVhbSB0byBwdWJsaXNoLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSB0eXBlIG9mIHRoZSB0cmFjayB0byBhbm5vdW5jZS5cbiAgICovXG4gIHB1Ymxpc2ggPSBhc3luYyAobWVkaWFTdHJlYW06IE1lZGlhU3RyZWFtLCB0cmFja1R5cGU6IFRyYWNrVHlwZSkgPT4ge1xuICAgIGlmICghdGhpcy5zZnVDbGllbnQpIHRocm93IG5ldyBFcnJvcihgQ2FsbCBub3Qgam9pbmVkIHlldC5gKTtcbiAgICAvLyBqb2luaW5nIGlzIGluIHByb2dyZXNzLCBhbmQgd2Ugc2hvdWxkIHdhaXQgdW50aWwgdGhlIGNsaWVudCBpcyByZWFkeVxuICAgIGF3YWl0IHRoaXMuc2Z1Q2xpZW50LmpvaW5UYXNrO1xuXG4gICAgaWYgKCF0aGlzLnBlcm1pc3Npb25zQ29udGV4dC5jYW5QdWJsaXNoKHRyYWNrVHlwZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gcGVybWlzc2lvbiB0byBwdWJsaXNoICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19YCk7XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLnB1Ymxpc2hlcikgdGhyb3cgbmV3IEVycm9yKCdQdWJsaXNoZXIgaXMgbm90IGluaXRpYWxpemVkJyk7XG5cbiAgICBjb25zdCBbdHJhY2tdID0gaXNBdWRpb1RyYWNrVHlwZSh0cmFja1R5cGUpXG4gICAgICA/IG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKClcbiAgICAgIDogbWVkaWFTdHJlYW0uZ2V0VmlkZW9UcmFja3MoKTtcblxuICAgIGlmICghdHJhY2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFRoZXJlIGlzIG5vICR7VHJhY2tUeXBlW3RyYWNrVHlwZV19IHRyYWNrIGluIHRoZSBzdHJlYW1gLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAodHJhY2sucmVhZHlTdGF0ZSA9PT0gJ2VuZGVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCBwdWJsaXNoIGVuZGVkIHRyYWNrcy5gKTtcbiAgICB9XG5cbiAgICBwdXNoVG9JZk1pc3NpbmcodGhpcy50cmFja1B1Ymxpc2hPcmRlciwgdHJhY2tUeXBlKTtcbiAgICBhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKHRyYWNrLCB0cmFja1R5cGUpO1xuXG4gICAgY29uc3QgdHJhY2tUeXBlcyA9IFt0cmFja1R5cGVdO1xuICAgIGlmICh0cmFja1R5cGUgPT09IFRyYWNrVHlwZS5TQ1JFRU5fU0hBUkUpIHtcbiAgICAgIGNvbnN0IFthdWRpb1RyYWNrXSA9IG1lZGlhU3RyZWFtLmdldEF1ZGlvVHJhY2tzKCk7XG4gICAgICBpZiAoYXVkaW9UcmFjaykge1xuICAgICAgICBwdXNoVG9JZk1pc3NpbmcodGhpcy50cmFja1B1Ymxpc2hPcmRlciwgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyk7XG4gICAgICAgIGF3YWl0IHRoaXMucHVibGlzaGVyLnB1Ymxpc2goYXVkaW9UcmFjaywgVHJhY2tUeXBlLlNDUkVFTl9TSEFSRV9BVURJTyk7XG4gICAgICAgIHRyYWNrVHlwZXMucHVzaChUcmFja1R5cGUuU0NSRUVOX1NIQVJFX0FVRElPKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHJhY2sua2luZCA9PT0gJ3ZpZGVvJykge1xuICAgICAgLy8gc2NoZWR1bGVzIGNhbGlicmF0aW9uIHJlcG9ydCAtIHRoZSBTRlUgd2lsbCB1c2UgdGhlIHBlcmZvcm1hbmNlIHN0YXRzXG4gICAgICAvLyB0byBhZGp1c3QgdGhlIHF1YWxpdHkgdGhyZXNob2xkcyBhcyBlYXJseSBhcyBwb3NzaWJsZVxuICAgICAgdGhpcy5zZnVTdGF0c1JlcG9ydGVyPy5zY2hlZHVsZU9uZSgzMDAwKTtcbiAgICB9XG5cbiAgICBhd2FpdCB0aGlzLnVwZGF0ZUxvY2FsU3RyZWFtU3RhdGUobWVkaWFTdHJlYW0sIC4uLnRyYWNrVHlwZXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyBwdWJsaXNoaW5nIHRoZSBnaXZlbiB0cmFjayB0eXBlIHRvIHRoZSBjYWxsLCBpZiBpdCBpcyBjdXJyZW50bHkgYmVpbmcgcHVibGlzaGVkLlxuICAgKlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlcyB0aGUgdHJhY2sgdHlwZXMgdG8gc3RvcCBwdWJsaXNoaW5nLlxuICAgKi9cbiAgc3RvcFB1Ymxpc2ggPSBhc3luYyAoLi4udHJhY2tUeXBlczogVHJhY2tUeXBlW10pID0+IHtcbiAgICBpZiAoIXRoaXMuc2Z1Q2xpZW50IHx8ICF0aGlzLnB1Ymxpc2hlcikgcmV0dXJuO1xuICAgIHRoaXMucHVibGlzaGVyLnN0b3BUcmFja3MoLi4udHJhY2tUeXBlcyk7XG4gICAgYXdhaXQgdGhpcy51cGRhdGVMb2NhbFN0cmVhbVN0YXRlKHVuZGVmaW5lZCwgLi4udHJhY2tUeXBlcyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgdGhlIGNhbGwgc3RhdGUgd2l0aCB0aGUgbmV3IHN0cmVhbS5cbiAgICpcbiAgICogQHBhcmFtIG1lZGlhU3RyZWFtIHRoZSBuZXcgc3RyZWFtIHRvIHVwZGF0ZSB0aGUgY2FsbCBzdGF0ZSB3aXRoLlxuICAgKiBJZiB1bmRlZmluZWQsIHRoZSBzdHJlYW0gd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIGNhbGwgc3RhdGUuXG4gICAqIEBwYXJhbSB0cmFja1R5cGVzIHRoZSB0cmFjayB0eXBlcyB0byB1cGRhdGUgdGhlIGNhbGwgc3RhdGUgd2l0aC5cbiAgICovXG4gIHByaXZhdGUgdXBkYXRlTG9jYWxTdHJlYW1TdGF0ZSA9IGFzeW5jIChcbiAgICBtZWRpYVN0cmVhbTogTWVkaWFTdHJlYW0gfCB1bmRlZmluZWQsXG4gICAgLi4udHJhY2tUeXBlczogVHJhY2tUeXBlW11cbiAgKSA9PiB7XG4gICAgaWYgKCF0aGlzLnNmdUNsaWVudCB8fCAhdGhpcy5zZnVDbGllbnQuc2Vzc2lvbklkKSByZXR1cm47XG4gICAgYXdhaXQgdGhpcy5ub3RpZnlUcmFja011dGVTdGF0ZSghbWVkaWFTdHJlYW0sIC4uLnRyYWNrVHlwZXMpO1xuXG4gICAgY29uc3QgeyBzZXNzaW9uSWQgfSA9IHRoaXMuc2Z1Q2xpZW50O1xuICAgIGZvciAoY29uc3QgdHJhY2tUeXBlIG9mIHRyYWNrVHlwZXMpIHtcbiAgICAgIGNvbnN0IHN0cmVhbVN0YXRlUHJvcCA9IHRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkodHJhY2tUeXBlKTtcbiAgICAgIGlmICghc3RyZWFtU3RhdGVQcm9wKSBjb250aW51ZTtcblxuICAgICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIChwKSA9PiAoe1xuICAgICAgICBwdWJsaXNoZWRUcmFja3M6IG1lZGlhU3RyZWFtXG4gICAgICAgICAgPyBwdXNoVG9JZk1pc3NpbmcoWy4uLnAucHVibGlzaGVkVHJhY2tzXSwgdHJhY2tUeXBlKVxuICAgICAgICAgIDogcC5wdWJsaXNoZWRUcmFja3MuZmlsdGVyKCh0KSA9PiB0ICE9PSB0cmFja1R5cGUpLFxuICAgICAgICBbc3RyZWFtU3RhdGVQcm9wXTogbWVkaWFTdHJlYW0sXG4gICAgICB9KSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBwcmVmZXJyZWQgcHVibGlzaGluZyBvcHRpb25zXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKiBAcGFyYW0gb3B0aW9ucyB0aGUgb3B0aW9ucyB0byB1c2UuXG4gICAqL1xuICB1cGRhdGVQdWJsaXNoT3B0aW9ucyA9IChvcHRpb25zOiBDbGllbnRQdWJsaXNoT3B0aW9ucykgPT4ge1xuICAgIHRoaXMubG9nZ2VyKFxuICAgICAgJ3dhcm4nLFxuICAgICAgJ1tjYWxsLnVwZGF0ZVB1Ymxpc2hPcHRpb25zXTogWW91IGFyZSBtYW51YWxseSBvdmVycmlkaW5nIHRoZSBwdWJsaXNoIG9wdGlvbnMgZm9yIHRoaXMgY2FsbC4gJyArXG4gICAgICAgICdUaGlzIGlzIG5vdCByZWNvbW1lbmRlZCwgYW5kIGl0IGNhbiBjYXVzZSBjYWxsIHN0YWJpbGl0eS9jb21wYXRpYmlsaXR5IGlzc3Vlcy4gVXNlIHdpdGggY2F1dGlvbi4nLFxuICAgICk7XG4gICAgaWYgKHRoaXMuc3RhdGUuY2FsbGluZ1N0YXRlID09PSBDYWxsaW5nU3RhdGUuSk9JTkVEKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnVXBkYXRpbmcgcHVibGlzaCBvcHRpb25zIGFmdGVyIGpvaW5pbmcgdGhlIGNhbGwgZG9lcyBub3QgaGF2ZSBhbiBlZmZlY3QnLFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5jbGllbnRQdWJsaXNoT3B0aW9ucyA9IHsgLi4udGhpcy5jbGllbnRQdWJsaXNoT3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBOb3RpZmllcyB0aGUgU0ZVIHRoYXQgYSBub2lzZSBjYW5jZWxsYXRpb24gcHJvY2VzcyBoYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQGludGVybmFsXG4gICAqL1xuICBub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0aW5nID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnNmdUNsaWVudD8uc3RhcnROb2lzZUNhbmNlbGxhdGlvbigpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ0ZhaWxlZCB0byBub3RpZnkgc3RhcnQgb2Ygbm9pc2UgY2FuY2VsbGF0aW9uJywgZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogTm90aWZpZXMgdGhlIFNGVSB0aGF0IGEgbm9pc2UgY2FuY2VsbGF0aW9uIHByb2Nlc3MgaGFzIHN0b3BwZWQuXG4gICAqXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgbm90aWZ5Tm9pc2VDYW5jZWxsYXRpb25TdG9wcGVkID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnNmdUNsaWVudD8uc3RvcE5vaXNlQ2FuY2VsbGF0aW9uKCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnRmFpbGVkIHRvIG5vdGlmeSBzdG9wIG9mIG5vaXNlIGNhbmNlbGxhdGlvbicsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIE5vdGlmaWVzIHRoZSBTRlUgYWJvdXQgdGhlIG11dGUgc3RhdGUgb2YgdGhlIGdpdmVuIHRyYWNrIHR5cGVzLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIG5vdGlmeVRyYWNrTXV0ZVN0YXRlID0gYXN5bmMgKG11dGVkOiBib29sZWFuLCAuLi50cmFja1R5cGVzOiBUcmFja1R5cGVbXSkgPT4ge1xuICAgIGlmICghdGhpcy5zZnVDbGllbnQpIHJldHVybjtcbiAgICBhd2FpdCB0aGlzLnNmdUNsaWVudC51cGRhdGVNdXRlU3RhdGVzKFxuICAgICAgdHJhY2tUeXBlcy5tYXAoKHRyYWNrVHlwZSkgPT4gKHsgdHJhY2tUeXBlLCBtdXRlZCB9KSksXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogV2lsbCBlbmhhbmNlIHRoZSByZXBvcnRlZCBzdGF0cyB3aXRoIGFkZGl0aW9uYWwgcGFydGljaXBhbnQtc3BlY2lmaWMgaW5mb3JtYXRpb24gKGBjYWxsU3RhdHNSZXBvcnQkYCBzdGF0ZSBbc3RvcmUgdmFyaWFibGVdKC4vU3RyZWFtVmlkZW9DbGllbnQubWQvI3JlYWRvbmx5c3RhdGVzdG9yZSkpLlxuICAgKiBUaGlzIGlzIHVzdWFsbHkgaGVscGZ1bCB3aGVuIGRldGFpbGVkIHN0YXRzIGZvciBhIHNwZWNpZmljIHBhcnRpY2lwYW50IGFyZSBuZWVkZWQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb25JZCB0byBzdGFydCByZXBvcnRpbmcgZm9yLlxuICAgKi9cbiAgc3RhcnRSZXBvcnRpbmdTdGF0c0ZvciA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0YXJ0UmVwb3J0aW5nU3RhdHNGb3Ioc2Vzc2lvbklkKTtcbiAgfTtcblxuICAvKipcbiAgICogT3Bwb3NpdGUgb2YgYHN0YXJ0UmVwb3J0aW5nU3RhdHNGb3JgLlxuICAgKiBXaWxsIHR1cm4gb2ZmIHN0YXRzIHJlcG9ydGluZyBmb3IgYSBzcGVjaWZpYyBwYXJ0aWNpcGFudC5cbiAgICpcbiAgICogQHBhcmFtIHNlc3Npb25JZCB0aGUgc2Vzc2lvbklkIHRvIHN0b3AgcmVwb3J0aW5nIGZvci5cbiAgICovXG4gIHN0b3BSZXBvcnRpbmdTdGF0c0ZvciA9IChzZXNzaW9uSWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0YXRzUmVwb3J0ZXI/LnN0b3BSZXBvcnRpbmdTdGF0c0ZvcihzZXNzaW9uSWQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZXRzIHRoZSBmcmVxdWVuY3kgb2YgdGhlIGNhbGwgc3RhdHMgcmVwb3J0aW5nLlxuICAgKlxuICAgKiBAcGFyYW0gaW50ZXJ2YWxJbk1zIHRoZSBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHMgdG8gcmVwb3J0IHRoZSBzdGF0cy5cbiAgICovXG4gIHNldFN0YXRzUmVwb3J0aW5nSW50ZXJ2YWxJbk1zID0gKGludGVydmFsSW5NczogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5zdGF0c1JlcG9ydGluZ0ludGVydmFsSW5NcyA9IGludGVydmFsSW5NcztcbiAgfTtcblxuICAvKipcbiAgICogUmVzZXRzIHRoZSBsYXN0IHNlbnQgcmVhY3Rpb24gZm9yIHRoZSB1c2VyIGhvbGRpbmcgdGhlIGdpdmVuIGBzZXNzaW9uSWRgLiBUaGlzIGlzIGEgbG9jYWwgYWN0aW9uLCBpdCB3b24ndCByZXNldCB0aGUgcmVhY3Rpb24gb24gdGhlIGJhY2tlbmQuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqL1xuICByZXNldFJlYWN0aW9uID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHtcbiAgICAgIHJlYWN0aW9uOiB1bmRlZmluZWQsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICAgKlxuICAgKiBAcGFyYW0gY3JpdGVyaWEgdGhlIGxpc3Qgb2YgY3JpdGVyaWEgdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICAgKi9cbiAgc2V0U29ydFBhcnRpY2lwYW50c0J5OiBDYWxsU3RhdGVbJ3NldFNvcnRQYXJ0aWNpcGFudHNCeSddID0gKGNyaXRlcmlhKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RhdGUuc2V0U29ydFBhcnRpY2lwYW50c0J5KGNyaXRlcmlhKTtcbiAgfTtcblxuICAvKipcbiAgICogU2VuZHMgYSByZWFjdGlvbiB0byB0aGUgb3RoZXIgY2FsbCBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSByZWFjdGlvbiB0aGUgcmVhY3Rpb24gdG8gc2VuZC5cbiAgICovXG4gIHNlbmRSZWFjdGlvbiA9IGFzeW5jIChcbiAgICByZWFjdGlvbjogU2VuZFJlYWN0aW9uUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxTZW5kUmVhY3Rpb25SZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFNlbmRSZWFjdGlvblJlc3BvbnNlLCBTZW5kUmVhY3Rpb25SZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3JlYWN0aW9uYCxcbiAgICAgIHJlYWN0aW9uLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEJsb2NrcyB0aGUgdXNlciB3aXRoIHRoZSBnaXZlbiBgdXNlcklkYC5cbiAgICpcbiAgICogQHBhcmFtIHVzZXJJZCB0aGUgaWQgb2YgdGhlIHVzZXIgdG8gYmxvY2suXG4gICAqL1xuICBibG9ja1VzZXIgPSBhc3luYyAodXNlcklkOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxCbG9ja1VzZXJSZXNwb25zZSwgQmxvY2tVc2VyUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9ibG9ja2AsXG4gICAgICB7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5ibG9ja3MgdGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gYHVzZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIHVuYmxvY2suXG4gICAqL1xuICB1bmJsb2NrVXNlciA9IGFzeW5jICh1c2VySWQ6IHN0cmluZykgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFVuYmxvY2tVc2VyUmVzcG9uc2UsIFVuYmxvY2tVc2VyUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS91bmJsb2NrYCxcbiAgICAgIHtcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBNdXRlcyB0aGUgY3VycmVudCB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSB0aGUgdHlwZSBvZiB0aGUgbXV0ZSBvcGVyYXRpb24uXG4gICAqL1xuICBtdXRlU2VsZiA9ICh0eXBlOiBUcmFja011dGVUeXBlKSA9PiB7XG4gICAgY29uc3QgbXlVc2VySWQgPSB0aGlzLmN1cnJlbnRVc2VySWQ7XG4gICAgaWYgKG15VXNlcklkKSB7XG4gICAgICByZXR1cm4gdGhpcy5tdXRlVXNlcihteVVzZXJJZCwgdHlwZSk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBNdXRlcyBhbGwgdGhlIG90aGVyIHBhcnRpY2lwYW50cy5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIG11dGUgb3BlcmF0aW9uLlxuICAgKi9cbiAgbXV0ZU90aGVycyA9ICh0eXBlOiBUcmFja011dGVUeXBlKSA9PiB7XG4gICAgY29uc3QgdHJhY2tUeXBlID0gbXV0ZVR5cGVUb1RyYWNrVHlwZSh0eXBlKTtcbiAgICBpZiAoIXRyYWNrVHlwZSkgcmV0dXJuO1xuICAgIGNvbnN0IHVzZXJJZHNUb011dGU6IHN0cmluZ1tdID0gW107XG4gICAgZm9yIChjb25zdCBwYXJ0aWNpcGFudCBvZiB0aGlzLnN0YXRlLnJlbW90ZVBhcnRpY2lwYW50cykge1xuICAgICAgaWYgKHBhcnRpY2lwYW50LnB1Ymxpc2hlZFRyYWNrcy5pbmNsdWRlcyh0cmFja1R5cGUpKSB7XG4gICAgICAgIHVzZXJJZHNUb011dGUucHVzaChwYXJ0aWNpcGFudC51c2VySWQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh1c2VySWRzVG9NdXRlLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB0aGlzLm11dGVVc2VyKHVzZXJJZHNUb011dGUsIHR5cGUpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogTXV0ZXMgdGhlIHVzZXIgd2l0aCB0aGUgZ2l2ZW4gYHVzZXJJZGAuXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIG11dGUuXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBtdXRlIG9wZXJhdGlvbi5cbiAgICovXG4gIG11dGVVc2VyID0gKHVzZXJJZDogc3RyaW5nIHwgc3RyaW5nW10sIHR5cGU6IFRyYWNrTXV0ZVR5cGUpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxNdXRlVXNlcnNSZXNwb25zZSwgTXV0ZVVzZXJzUmVxdWVzdD4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9tdXRlX3VzZXJzYCxcbiAgICAgIHtcbiAgICAgICAgdXNlcl9pZHM6IEFycmF5LmlzQXJyYXkodXNlcklkKSA/IHVzZXJJZCA6IFt1c2VySWRdLFxuICAgICAgICBbdHlwZV06IHRydWUsXG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgbXV0ZSBhbGwgdXNlcnMgaW4gdGhlIGNhbGwuXG4gICAqXG4gICAqIEBwYXJhbSB0eXBlIHRoZSB0eXBlIG9mIHRoZSBtdXRlIG9wZXJhdGlvbi5cbiAgICovXG4gIG11dGVBbGxVc2VycyA9ICh0eXBlOiBUcmFja011dGVUeXBlKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8TXV0ZVVzZXJzUmVzcG9uc2UsIE11dGVVc2Vyc1JlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vbXV0ZV91c2Vyc2AsXG4gICAgICB7XG4gICAgICAgIG11dGVfYWxsX3VzZXJzOiB0cnVlLFxuICAgICAgICBbdHlwZV06IHRydWUsXG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyByZWNvcmRpbmcgdGhlIGNhbGxcbiAgICovXG4gIHN0YXJ0UmVjb3JkaW5nID0gYXN5bmMgKHJlcXVlc3Q/OiBTdGFydFJlY29yZGluZ1JlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFN0YXJ0UmVjb3JkaW5nUmVzcG9uc2UsXG4gICAgICBTdGFydFJlY29yZGluZ1JlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0YXJ0X3JlY29yZGluZ2AsIHJlcXVlc3QgPyByZXF1ZXN0IDoge30pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyByZWNvcmRpbmcgdGhlIGNhbGxcbiAgICovXG4gIHN0b3BSZWNvcmRpbmcgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcFJlY29yZGluZ1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfcmVjb3JkaW5nYCxcbiAgICAgIHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgdHJhbnNjcmlwdGlvbiBvZiB0aGUgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHJlcXVlc3QgdGhlIHJlcXVlc3QgZGF0YS5cbiAgICovXG4gIHN0YXJ0VHJhbnNjcmlwdGlvbiA9IGFzeW5jIChcbiAgICByZXF1ZXN0PzogU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxTdGFydFRyYW5zY3JpcHRpb25SZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2UsXG4gICAgICBTdGFydFRyYW5zY3JpcHRpb25SZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF90cmFuc2NyaXB0aW9uYCwgcmVxdWVzdCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSB0cmFuc2NyaXB0aW9uIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RvcFRyYW5zY3JpcHRpb24gPSBhc3luYyAoKTogUHJvbWlzZTxTdG9wVHJhbnNjcmlwdGlvblJlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcFRyYW5zY3JpcHRpb25SZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdG9wX3RyYW5zY3JpcHRpb25gLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgY2xvc2VkIGNhcHRpb25zIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RhcnRDbG9zZWRDYXB0aW9ucyA9IGFzeW5jIChcbiAgICBvcHRpb25zPzogU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3QsXG4gICk6IFByb21pc2U8U3RhcnRDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgdHJ4ID0gdGhpcy5zdGF0ZS5zZXRDYXB0aW9uaW5nKHRydWUpOyAvLyBvcHRpbWlzdGljIHVwZGF0ZVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgICAgU3RhcnRDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlLFxuICAgICAgICBTdGFydENsb3NlZENhcHRpb25zUmVxdWVzdFxuICAgICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF9jbG9zZWRfY2FwdGlvbnNgLCBvcHRpb25zKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRyeC5yb2xsYmFjaygpOyAvLyByZXZlcnQgdGhlIG9wdGltaXN0aWMgdXBkYXRlXG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgY2xvc2VkIGNhcHRpb25zIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RvcENsb3NlZENhcHRpb25zID0gYXN5bmMgKFxuICAgIG9wdGlvbnM/OiBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXF1ZXN0LFxuICApOiBQcm9taXNlPFN0b3BDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgdHJ4ID0gdGhpcy5zdGF0ZS5zZXRDYXB0aW9uaW5nKGZhbHNlKTsgLy8gb3B0aW1pc3RpYyB1cGRhdGVcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICAgIFN0b3BDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlLFxuICAgICAgICBTdG9wQ2xvc2VkQ2FwdGlvbnNSZXF1ZXN0XG4gICAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfY2xvc2VkX2NhcHRpb25zYCwgb3B0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0cngucm9sbGJhY2soKTsgLy8gcmV2ZXJ0IHRoZSBvcHRpbWlzdGljIHVwZGF0ZVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgY2xvc2VkIGNhcHRpb24gc2V0dGluZ3MuXG4gICAqXG4gICAqIEBwYXJhbSBjb25maWcgdGhlIGNsb3NlZCBjYXB0aW9uIHNldHRpbmdzIHRvIGFwcGx5XG4gICAqL1xuICB1cGRhdGVDbG9zZWRDYXB0aW9uU2V0dGluZ3MgPSAoY29uZmlnOiBQYXJ0aWFsPENsb3NlZENhcHRpb25zU2V0dGluZ3M+KSA9PiB7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVDbG9zZWRDYXB0aW9uU2V0dGluZ3MoY29uZmlnKTtcbiAgfTtcblxuICAvKipcbiAgICogU2VuZHMgYSBgY2FsbC5wZXJtaXNzaW9uX3JlcXVlc3RgIGV2ZW50IHRvIGFsbCB1c2VycyBjb25uZWN0ZWQgdG8gdGhlIGNhbGwuXG4gICAqIFRoZSBjYWxsIHNldHRpbmdzIG9iamVjdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB3aGljaCBwZXJtaXNzaW9ucyBjYW4gYmUgcmVxdWVzdGVkIGR1cmluZyBhIGNhbGxcbiAgICogKGZvciBleGFtcGxlLCBhIHVzZXIgbWlnaHQgYmUgYWxsb3dlZCB0byByZXF1ZXN0IHBlcm1pc3Npb24gdG8gcHVibGlzaCBhdWRpbywgYnV0IG5vdCB2aWRlbykuXG4gICAqL1xuICByZXF1ZXN0UGVybWlzc2lvbnMgPSBhc3luYyAoXG4gICAgZGF0YTogUmVxdWVzdFBlcm1pc3Npb25SZXF1ZXN0LFxuICApOiBQcm9taXNlPFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2U+ID0+IHtcbiAgICBjb25zdCB7IHBlcm1pc3Npb25zIH0gPSBkYXRhO1xuICAgIGNvbnN0IGNhblJlcXVlc3RQZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25zLmV2ZXJ5KChwZXJtaXNzaW9uKSA9PlxuICAgICAgdGhpcy5wZXJtaXNzaW9uc0NvbnRleHQuY2FuUmVxdWVzdChwZXJtaXNzaW9uIGFzIE93bkNhcGFiaWxpdHkpLFxuICAgICk7XG4gICAgaWYgKCFjYW5SZXF1ZXN0UGVybWlzc2lvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgYFlvdSBhcmUgbm90IGFsbG93ZWQgdG8gcmVxdWVzdCBwZXJtaXNzaW9uczogJHtwZXJtaXNzaW9ucy5qb2luKCcsICcpfWAsXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFJlcXVlc3RQZXJtaXNzaW9uUmVzcG9uc2UsXG4gICAgICBSZXF1ZXN0UGVybWlzc2lvblJlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3JlcXVlc3RfcGVybWlzc2lvbmAsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBbGxvd3MgeW91IHRvIGdyYW50IGNlcnRhaW4gcGVybWlzc2lvbnMgdG8gYSB1c2VyIGluIGEgY2FsbC5cbiAgICogVGhlIHBlcm1pc3Npb25zIGFyZSBzcGVjaWZpYyB0byB0aGUgY2FsbCBleHBlcmllbmNlIGFuZCBkbyBub3Qgc3Vydml2ZSB0aGUgY2FsbCBpdHNlbGYuXG4gICAqXG4gICAqIFN1cHBvcnRlZCBwZXJtaXNzaW9ucyB0aGF0IGNhbiBiZSBncmFudGVkIGFyZTpcbiAgICogLSBgc2VuZC1hdWRpb2BcbiAgICogLSBgc2VuZC12aWRlb2BcbiAgICogLSBgc2NyZWVuc2hhcmVgXG4gICAqXG4gICAqIEBwYXJhbSB1c2VySWQgdGhlIGlkIG9mIHRoZSB1c2VyIHRvIGdyYW50IHBlcm1pc3Npb25zIHRvLlxuICAgKiBAcGFyYW0gcGVybWlzc2lvbnMgdGhlIHBlcm1pc3Npb25zIHRvIGdyYW50LlxuICAgKi9cbiAgZ3JhbnRQZXJtaXNzaW9ucyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgcGVybWlzc2lvbnM6IHN0cmluZ1tdKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlVXNlclBlcm1pc3Npb25zKHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIGdyYW50X3Blcm1pc3Npb25zOiBwZXJtaXNzaW9ucyxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQWxsb3dzIHlvdSB0byByZXZva2UgY2VydGFpbiBwZXJtaXNzaW9ucyBmcm9tIGEgdXNlciBpbiBhIGNhbGwuXG4gICAqIFRoZSBwZXJtaXNzaW9ucyBhcmUgc3BlY2lmaWMgdG8gdGhlIGNhbGwgZXhwZXJpZW5jZSBhbmQgZG8gbm90IHN1cnZpdmUgdGhlIGNhbGwgaXRzZWxmLlxuICAgKlxuICAgKiBTdXBwb3J0ZWQgcGVybWlzc2lvbnMgdGhhdCBjYW4gYmUgcmV2b2tlZCBhcmU6XG4gICAqIC0gYHNlbmQtYXVkaW9gXG4gICAqIC0gYHNlbmQtdmlkZW9gXG4gICAqIC0gYHNjcmVlbnNoYXJlYFxuICAgKlxuICAgKiBAcGFyYW0gdXNlcklkIHRoZSBpZCBvZiB0aGUgdXNlciB0byByZXZva2UgcGVybWlzc2lvbnMgZnJvbS5cbiAgICogQHBhcmFtIHBlcm1pc3Npb25zIHRoZSBwZXJtaXNzaW9ucyB0byByZXZva2UuXG4gICAqL1xuICByZXZva2VQZXJtaXNzaW9ucyA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgcGVybWlzc2lvbnM6IHN0cmluZ1tdKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMudXBkYXRlVXNlclBlcm1pc3Npb25zKHtcbiAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgIHJldm9rZV9wZXJtaXNzaW9uczogcGVybWlzc2lvbnMsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEFsbG93cyB5b3UgdG8gZ3JhbnQgb3IgcmV2b2tlIGEgc3BlY2lmaWMgcGVybWlzc2lvbiB0byBhIHVzZXIgaW4gYSBjYWxsLiBUaGUgcGVybWlzc2lvbnMgYXJlIHNwZWNpZmljIHRvIHRoZSBjYWxsIGV4cGVyaWVuY2UgYW5kIGRvIG5vdCBzdXJ2aXZlIHRoZSBjYWxsIGl0c2VsZi5cbiAgICpcbiAgICogV2hlbiByZXZva2luZyBhIHBlcm1pc3Npb24sIHRoaXMgZW5kcG9pbnQgd2lsbCBhbHNvIG11dGUgdGhlIHJlbGV2YW50IHRyYWNrIGZyb20gdGhlIHVzZXIuIFRoaXMgaXMgc2ltaWxhciB0byBtdXRpbmcgYSB1c2VyIHdpdGggdGhlIGRpZmZlcmVuY2UgdGhhdCB0aGUgdXNlciB3aWxsIG5vdCBiZSBhYmxlIHRvIHVubXV0ZSBhZnRlcndhcmRzLlxuICAgKlxuICAgKiBTdXBwb3J0ZWQgcGVybWlzc2lvbnMgdGhhdCBjYW4gYmUgZ3JhbnRlZCBvciByZXZva2VkOiBgc2VuZC1hdWRpb2AsIGBzZW5kLXZpZGVvYCBhbmQgYHNjcmVlbnNoYXJlYC5cbiAgICpcbiAgICogYGNhbGwucGVybWlzc2lvbnNfdXBkYXRlZGAgZXZlbnQgaXMgc2VudCB0byBhbGwgbWVtYmVycyBvZiB0aGUgY2FsbC5cbiAgICpcbiAgICovXG4gIHVwZGF0ZVVzZXJQZXJtaXNzaW9ucyA9IGFzeW5jIChkYXRhOiBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBVcGRhdGVVc2VyUGVybWlzc2lvbnNSZXNwb25zZSxcbiAgICAgIFVwZGF0ZVVzZXJQZXJtaXNzaW9uc1JlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3VzZXJfcGVybWlzc2lvbnNgLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RhcnRzIHRoZSBsaXZlc3RyZWFtaW5nIG9mIHRoZSBjYWxsLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgcmVxdWVzdCBkYXRhLlxuICAgKiBAcGFyYW0gcGFyYW1zIHRoZSByZXF1ZXN0IHBhcmFtcy5cbiAgICovXG4gIGdvTGl2ZSA9IGFzeW5jIChkYXRhOiBHb0xpdmVSZXF1ZXN0ID0ge30sIHBhcmFtcz86IHsgbm90aWZ5PzogYm9vbGVhbiB9KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8R29MaXZlUmVzcG9uc2UsIEdvTGl2ZVJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vZ29fbGl2ZWAsXG4gICAgICBkYXRhLFxuICAgICAgcGFyYW1zLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBsaXZlc3RyZWFtaW5nIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RvcExpdmUgPSBhc3luYyAoZGF0YTogU3RvcExpdmVSZXF1ZXN0ID0ge30pID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxTdG9wTGl2ZVJlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfbGl2ZWAsXG4gICAgICBkYXRhLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgYnJvYWRjYXN0aW5nIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RhcnRITFMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RhcnRITFNCcm9hZGNhc3RpbmdSZXNwb25zZT4oXG4gICAgICBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGFydF9icm9hZGNhc3RpbmdgLFxuICAgICAge30sXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgdGhlIGJyb2FkY2FzdGluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BITFMgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcEhMU0Jyb2FkY2FzdGluZ1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfYnJvYWRjYXN0aW5nYCxcbiAgICAgIHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgUlRNUC1vdXQgYnJvYWRjYXN0aW5nIG9mIHRoZSBjYWxsLlxuICAgKi9cbiAgc3RhcnRSVE1QQnJvYWRjYXN0cyA9IGFzeW5jIChcbiAgICBkYXRhOiBTdGFydFJUTVBCcm9hZGNhc3RzUmVxdWVzdCxcbiAgKTogUHJvbWlzZTxTdGFydFJUTVBCcm9hZGNhc3RzUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFN0YXJ0UlRNUEJyb2FkY2FzdHNSZXNwb25zZSxcbiAgICAgIFN0YXJ0UlRNUEJyb2FkY2FzdHNSZXF1ZXN0XG4gICAgPihgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9ydG1wX2Jyb2FkY2FzdHNgLCBkYXRhKTtcbiAgfTtcblxuICAvKipcbiAgICogU3RvcHMgYWxsIFJUTVAtb3V0IGJyb2FkY2FzdGluZyBvZiB0aGUgY2FsbC5cbiAgICovXG4gIHN0b3BBbGxSVE1QQnJvYWRjYXN0cyA9IGFzeW5jICgpOiBQcm9taXNlPFN0b3BBbGxSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlPiA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8U3RvcEFsbFJUTVBCcm9hZGNhc3RzUmVzcG9uc2U+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vcnRtcF9icm9hZGNhc3RzL3N0b3BgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0b3BzIHRoZSBSVE1QLW91dCBicm9hZGNhc3Rpbmcgb2YgdGhlIGNhbGwgc3BlY2lmaWVkIGJ5IGl0J3MgbmFtZS5cbiAgICovXG4gIHN0b3BSVE1QQnJvYWRjYXN0ID0gYXN5bmMgKFxuICAgIG5hbWU6IHN0cmluZyxcbiAgKTogUHJvbWlzZTxTdG9wUlRNUEJyb2FkY2FzdHNSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3J0bXBfYnJvYWRjYXN0cy8ke25hbWV9L3N0b3BgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyBmcmFtZSBieSBmcmFtZSByZWNvcmRpbmcuXG4gICAqIFNlbmRzIGNhbGwuZnJhbWVfcmVjb3JkaW5nX3N0YXJ0ZWQgZXZlbnRzXG4gICAqL1xuICBzdGFydEZyYW1lUmVjb3JkaW5nID0gYXN5bmMgKFxuICAgIGRhdGE6IFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXF1ZXN0LFxuICApOiBQcm9taXNlPFN0YXJ0RnJhbWVSZWNvcmRpbmdSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgU3RhcnRGcmFtZVJlY29yZGluZ1Jlc3BvbnNlLFxuICAgICAgU3RhcnRGcmFtZVJlY29yZGluZ1JlcXVlc3RcbiAgICA+KGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0YXJ0X2ZyYW1lX3JlY29yZGluZ2AsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTdG9wcyBmcmFtZSByZWNvcmRpbmcuXG4gICAqL1xuICBzdG9wRnJhbWVSZWNvcmRpbmcgPSBhc3luYyAoKTogUHJvbWlzZTxTdG9wRnJhbWVSZWNvcmRpbmdSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFN0b3BGcmFtZVJlY29yZGluZ1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3N0b3BfZnJhbWVfcmVjb3JkaW5nYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjYWxsIHNldHRpbmdzIG9yIGN1c3RvbSBkYXRhLlxuICAgKlxuICAgKiBAcGFyYW0gdXBkYXRlcyB0aGUgdXBkYXRlcyB0byBhcHBseSB0byB0aGUgY2FsbC5cbiAgICovXG4gIHVwZGF0ZSA9IGFzeW5jICh1cGRhdGVzOiBVcGRhdGVDYWxsUmVxdWVzdCkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucGF0Y2g8XG4gICAgICBVcGRhdGVDYWxsUmVzcG9uc2UsXG4gICAgICBVcGRhdGVDYWxsUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH1gLCB1cGRhdGVzKTtcblxuICAgIGNvbnN0IHsgY2FsbCwgbWVtYmVycywgb3duX2NhcGFiaWxpdGllcyB9ID0gcmVzcG9uc2U7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGNhbGwpO1xuICAgIHRoaXMuc3RhdGUuc2V0TWVtYmVycyhtZW1iZXJzKTtcbiAgICB0aGlzLnN0YXRlLnNldE93bkNhcGFiaWxpdGllcyhvd25fY2FwYWJpbGl0aWVzKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfTtcblxuICAvKipcbiAgICogRW5kcyB0aGUgY2FsbC4gT25jZSB0aGUgY2FsbCBpcyBlbmRlZCwgaXQgY2Fubm90IGJlIHJlLWpvaW5lZC5cbiAgICovXG4gIGVuZENhbGwgPSBhc3luYyAoKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8RW5kQ2FsbFJlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L21hcmtfZW5kZWRgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFBpbnMgdGhlIGdpdmVuIHNlc3Npb24gdG8gdGhlIHRvcCBvZiB0aGUgcGFydGljaXBhbnRzIGxpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb25JZCB0byBwaW4uXG4gICAqL1xuICBwaW4gPSAoc2Vzc2lvbklkOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLnN0YXRlLnVwZGF0ZVBhcnRpY2lwYW50KHNlc3Npb25JZCwge1xuICAgICAgcGluOiB7XG4gICAgICAgIGlzTG9jYWxQaW46IHRydWUsXG4gICAgICAgIHBpbm5lZEF0OiBEYXRlLm5vdygpLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogVW5waW5zIHRoZSBnaXZlbiBzZXNzaW9uIGZyb20gdGhlIHRvcCBvZiB0aGUgcGFydGljaXBhbnRzIGxpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb25JZCB0byB1bnBpbi5cbiAgICovXG4gIHVucGluID0gKHNlc3Npb25JZDogc3RyaW5nKSA9PiB7XG4gICAgdGhpcy5zdGF0ZS51cGRhdGVQYXJ0aWNpcGFudChzZXNzaW9uSWQsIHtcbiAgICAgIHBpbjogdW5kZWZpbmVkLFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBQaW5zIHRoZSBnaXZlbiBzZXNzaW9uIHRvIHRoZSB0b3Agb2YgdGhlIHBhcnRpY2lwYW50cyBsaXN0IGZvciBldmVyeW9uZVxuICAgKiBpbiB0aGUgY2FsbC5cbiAgICogWW91IGNhbiBleGVjdXRlIHRoaXMgbWV0aG9kIG9ubHkgaWYgeW91IGhhdmUgdGhlIGBwaW4tZm9yLWV2ZXJ5b25lYCBjYXBhYmlsaXR5LlxuICAgKlxuICAgKiBAcGFyYW0gcmVxdWVzdCB0aGUgcmVxdWVzdCBvYmplY3QuXG4gICAqL1xuICBwaW5Gb3JFdmVyeW9uZSA9IGFzeW5jIChyZXF1ZXN0OiBQaW5SZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8UGluUmVzcG9uc2UsIFBpblJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vcGluYCxcbiAgICAgIHJlcXVlc3QsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogVW5waW5zIHRoZSBnaXZlbiBzZXNzaW9uIGZyb20gdGhlIHRvcCBvZiB0aGUgcGFydGljaXBhbnRzIGxpc3QgZm9yIGV2ZXJ5b25lXG4gICAqIGluIHRoZSBjYWxsLlxuICAgKiBZb3UgY2FuIGV4ZWN1dGUgdGhpcyBtZXRob2Qgb25seSBpZiB5b3UgaGF2ZSB0aGUgYHBpbi1mb3ItZXZlcnlvbmVgIGNhcGFiaWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSByZXF1ZXN0IHRoZSByZXF1ZXN0IG9iamVjdC5cbiAgICovXG4gIHVucGluRm9yRXZlcnlvbmUgPSBhc3luYyAocmVxdWVzdDogVW5waW5SZXF1ZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8VW5waW5SZXNwb25zZSwgVW5waW5SZXF1ZXN0PihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3VucGluYCxcbiAgICAgIHJlcXVlc3QsXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogUXVlcnkgY2FsbCBtZW1iZXJzIHdpdGggZmlsdGVyIHF1ZXJ5LiBUaGUgcmVzdWx0IHdvbid0IGJlIHN0b3JlZCBpbiBjYWxsIHN0YXRlLlxuICAgKiBAcGFyYW0gcmVxdWVzdFxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgcXVlcnlNZW1iZXJzID0gKHJlcXVlc3Q/OiBPbWl0PFF1ZXJ5Q2FsbE1lbWJlcnNSZXF1ZXN0LCAndHlwZScgfCAnaWQnPikgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlDYWxsTWVtYmVyc1Jlc3BvbnNlLFxuICAgICAgUXVlcnlDYWxsTWVtYmVyc1JlcXVlc3RcbiAgICA+KCcvY2FsbC9tZW1iZXJzJywge1xuICAgICAgLi4uKHJlcXVlc3QgfHwge30pLFxuICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgdXBkYXRlIHRoZSBjYWxsIG1lbWJlcnMuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSByZXF1ZXN0IGRhdGEuXG4gICAqL1xuICB1cGRhdGVDYWxsTWVtYmVycyA9IGFzeW5jIChcbiAgICBkYXRhOiBVcGRhdGVDYWxsTWVtYmVyc1JlcXVlc3QsXG4gICk6IFByb21pc2U8VXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZT4gPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgVXBkYXRlQ2FsbE1lbWJlcnNSZXNwb25zZSxcbiAgICAgIFVwZGF0ZUNhbGxNZW1iZXJzUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vbWVtYmVyc2AsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTY2hlZHVsZXMgYW4gYXV0by1kcm9wIHRpbWVvdXQgYmFzZWQgb24gdGhlIGNhbGwgc2V0dGluZ3MuXG4gICAqIEFwcGxpY2FibGUgb25seSBmb3IgcmluZ2luZyBjYWxscy5cbiAgICovXG4gIHByaXZhdGUgc2NoZWR1bGVBdXRvRHJvcCA9ICgpID0+IHtcbiAgICB0aGlzLmNhbmNlbEF1dG9Ecm9wKCk7XG5cbiAgICBjb25zdCBzZXR0aW5ncyA9IHRoaXMuc3RhdGUuc2V0dGluZ3M7XG4gICAgaWYgKCFzZXR0aW5ncykgcmV0dXJuO1xuICAgIC8vIGlnbm9yZSBpZiB0aGUgY2FsbCBpcyBub3QgcmluZ2luZ1xuICAgIGlmICh0aGlzLnN0YXRlLmNhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkcpIHJldHVybjtcblxuICAgIGNvbnN0IHRpbWVvdXRJbk1zID0gdGhpcy5pc0NyZWF0ZWRCeU1lXG4gICAgICA/IHNldHRpbmdzLnJpbmcuYXV0b19jYW5jZWxfdGltZW91dF9tc1xuICAgICAgOiBzZXR0aW5ncy5yaW5nLmluY29taW5nX2NhbGxfdGltZW91dF9tcztcblxuICAgIC8vIDAgbWVhbnMgbm8gYXV0by1kcm9wXG4gICAgaWYgKHRpbWVvdXRJbk1zIDw9IDApIHJldHVybjtcbiAgICB0aGlzLmRyb3BUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAvLyB0aGUgY2FsbCBtaWdodCBoYXZlIHN0b3BwZWQgcmluZ2luZyBieSB0aGlzIHBvaW50LFxuICAgICAgLy8gZS5nLiBpdCB3YXMgYWxyZWFkeSBhY2NlcHRlZCBhbmQgam9pbmVkXG4gICAgICBpZiAodGhpcy5zdGF0ZS5jYWxsaW5nU3RhdGUgIT09IENhbGxpbmdTdGF0ZS5SSU5HSU5HKSByZXR1cm47XG4gICAgICB0aGlzLmxlYXZlKHtcbiAgICAgICAgcmVqZWN0OiB0cnVlLFxuICAgICAgICByZWFzb246ICd0aW1lb3V0JyxcbiAgICAgICAgbWVzc2FnZTogYHJpbmdpbmcgdGltZW91dCAtICR7dGhpcy5pc0NyZWF0ZWRCeU1lID8gJ25vIG9uZSBhY2NlcHRlZCcgOiBgdXNlciBkaWRuJ3QgaW50ZXJhY3Qgd2l0aCBpbmNvbWluZyBjYWxsIHNjcmVlbmB9YCxcbiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byBkcm9wIGNhbGwnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfSwgdGltZW91dEluTXMpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDYW5jZWxzIGEgc2NoZWR1bGVkIGF1dG8tZHJvcCB0aW1lb3V0LlxuICAgKi9cbiAgcHJpdmF0ZSBjYW5jZWxBdXRvRHJvcCA9ICgpID0+IHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5kcm9wVGltZW91dCk7XG4gICAgdGhpcy5kcm9wVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICAvKipcbiAgICogUmV0cmlldmVzIHRoZSBsaXN0IG9mIHJlY29yZGluZ3MgZm9yIHRoZSBjdXJyZW50IGNhbGwgb3IgY2FsbCBzZXNzaW9uLlxuICAgKlxuICAgKiBJZiBgY2FsbFNlc3Npb25JZGAgaXMgcHJvdmlkZWQsIGl0IHdpbGwgcmV0dXJuIHRoZSByZWNvcmRpbmdzIGZvciB0aGF0IGNhbGwgc2Vzc2lvbi5cbiAgICogT3RoZXJ3aXNlLCBhbGwgcmVjb3JkaW5ncyBmb3IgdGhlIGN1cnJlbnQgY2FsbCB3aWxsIGJlIHJldHVybmVkLlxuICAgKlxuICAgKiBAcGFyYW0gY2FsbFNlc3Npb25JZCB0aGUgY2FsbCBzZXNzaW9uIGlkIHRvIHJldHJpZXZlIHJlY29yZGluZ3MgZm9yLlxuICAgKi9cbiAgcXVlcnlSZWNvcmRpbmdzID0gYXN5bmMgKFxuICAgIGNhbGxTZXNzaW9uSWQ/OiBzdHJpbmcsXG4gICk6IFByb21pc2U8TGlzdFJlY29yZGluZ3NSZXNwb25zZT4gPT4ge1xuICAgIGxldCBlbmRwb2ludCA9IHRoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGg7XG4gICAgaWYgKGNhbGxTZXNzaW9uSWQpIHtcbiAgICAgIGVuZHBvaW50ID0gYCR7ZW5kcG9pbnR9LyR7Y2FsbFNlc3Npb25JZH1gO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PExpc3RSZWNvcmRpbmdzUmVzcG9uc2U+KFxuICAgICAgYCR7ZW5kcG9pbnR9L3JlY29yZGluZ3NgLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyB0aGUgbGlzdCBvZiB0cmFuc2NyaXB0aW9ucyBmb3IgdGhlIGN1cnJlbnQgY2FsbC5cbiAgICpcbiAgICogQHJldHVybnMgdGhlIGxpc3Qgb2YgdHJhbnNjcmlwdGlvbnMuXG4gICAqL1xuICBxdWVyeVRyYW5zY3JpcHRpb25zID0gYXN5bmMgKCk6IFByb21pc2U8TGlzdFRyYW5zY3JpcHRpb25zUmVzcG9uc2U+ID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PExpc3RUcmFuc2NyaXB0aW9uc1Jlc3BvbnNlPihcbiAgICAgIGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3RyYW5zY3JpcHRpb25zYCxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXRyaWV2ZSBjYWxsIHN0YXRpc3RpY3MgZm9yIGEgcGFydGljdWxhciBjYWxsIHNlc3Npb24gKGhpc3RvcmljYWwpLlxuICAgKiBIZXJlIGBjYWxsU2Vzc2lvbklEYCBpcyBtYW5kYXRvcnkuXG4gICAqXG4gICAqIEBwYXJhbSBjYWxsU2Vzc2lvbklEIHRoZSBjYWxsIHNlc3Npb24gSUQgdG8gcmV0cmlldmUgc3RhdGlzdGljcyBmb3IuXG4gICAqIEByZXR1cm5zIFRoZSBjYWxsIHN0YXRzLlxuICAgKiBAZGVwcmVjYXRlZCB1c2UgYGNhbGwuZ2V0Q2FsbFJlcG9ydGAgaW5zdGVhZC5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBnZXRDYWxsU3RhdHMgPSBhc3luYyAoY2FsbFNlc3Npb25JRDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZW5kcG9pbnQgPSBgJHt0aGlzLnN0cmVhbUNsaWVudEJhc2VQYXRofS9zdGF0cy8ke2NhbGxTZXNzaW9uSUR9YDtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZ2V0PEdldENhbGxTdGF0c1Jlc3BvbnNlPihlbmRwb2ludCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIGNhbGwgcmVwb3J0LiBJZiB0aGUgYGNhbGxTZXNzaW9uSURgIGlzIG5vdCBzcGVjaWZpZWQsIHRoZW4gdGhlXG4gICAqIHJlcG9ydCBmb3IgdGhlIGxhdGVzdCBjYWxsIHNlc3Npb24gaXMgcmV0cmlldmVkLiBJZiBpdCBpcyBzcGVjaWZpZWQsIHRoZW5cbiAgICogdGhlIHJlcG9ydCBmb3IgdGhhdCBwYXJ0aWN1bGFyIHNlc3Npb24gaXMgcmV0cmlldmVkIGlmIGl0IGV4aXN0cy5cbiAgICpcbiAgICogQHBhcmFtIGNhbGxTZXNzaW9uSUQgdGhlIG9wdGlvbmFsIGNhbGwgc2Vzc2lvbiBJRCB0byByZXRyaWV2ZSBzdGF0aXN0aWNzIGZvclxuICAgKiBAcmV0dXJucyB0aGUgY2FsbCByZXBvcnRcbiAgICovXG4gIGdldENhbGxSZXBvcnQgPSBhc3luYyAoY2FsbFNlc3Npb25JRDogc3RyaW5nID0gJycpID0+IHtcbiAgICBjb25zdCBlbmRwb2ludCA9IGAke3RoaXMuc3RyZWFtQ2xpZW50QmFzZVBhdGh9L3JlcG9ydGA7XG4gICAgY29uc3QgcGFyYW1zID0gY2FsbFNlc3Npb25JRCAhPT0gJycgPyB7IHNlc3Npb25faWQ6IGNhbGxTZXNzaW9uSUQgfSA6IHt9O1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8R2V0Q2FsbFJlcG9ydFJlc3BvbnNlPihlbmRwb2ludCwgcGFyYW1zKTtcbiAgfTtcblxuICAvKipcbiAgICogU3VibWl0IHVzZXIgZmVlZGJhY2sgZm9yIHRoZSBjYWxsXG4gICAqXG4gICAqIEBwYXJhbSByYXRpbmcgUmF0aW5nIGJldHdlZW4gMSBhbmQgNSBkZW5vdGluZyB0aGUgZXhwZXJpZW5jZSBvZiB0aGUgdXNlciBpbiB0aGUgY2FsbFxuICAgKiBAcGFyYW0gcmVhc29uIFRoZSByZWFzb24vZGVzY3JpcHRpb24gZm9yIHRoZSByYXRpbmdcbiAgICogQHBhcmFtIGN1c3RvbSBDdXN0b20gZGF0YVxuICAgKi9cbiAgc3VibWl0RmVlZGJhY2sgPSBhc3luYyAoXG4gICAgcmF0aW5nOiBudW1iZXIsXG4gICAge1xuICAgICAgcmVhc29uLFxuICAgICAgY3VzdG9tLFxuICAgIH06IFBpY2s8Q29sbGVjdFVzZXJGZWVkYmFja1JlcXVlc3QsICdyZWFzb24nIHwgJ2N1c3RvbSc+ID0ge30sXG4gICk6IFByb21pc2U8Q29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgeyBzZGtOYW1lLCBzZGtWZXJzaW9uLCAuLi5wbGF0Zm9ybSB9ID0gZ2V0U2RrU2lnbmF0dXJlKFxuICAgICAgYXdhaXQgZ2V0Q2xpZW50RGV0YWlscygpLFxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50LnBvc3Q8XG4gICAgICBDb2xsZWN0VXNlckZlZWRiYWNrUmVzcG9uc2UsXG4gICAgICBDb2xsZWN0VXNlckZlZWRiYWNrUmVxdWVzdFxuICAgID4oYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vZmVlZGJhY2tgLCB7XG4gICAgICByYXRpbmcsXG4gICAgICByZWFzb24sXG4gICAgICB1c2VyX3Nlc3Npb25faWQ6IHRoaXMuc2Z1Q2xpZW50Py5zZXNzaW9uSWQsXG4gICAgICBzZGs6IHNka05hbWUsXG4gICAgICBzZGtfdmVyc2lvbjogc2RrVmVyc2lvbixcbiAgICAgIGN1c3RvbToge1xuICAgICAgICAuLi5jdXN0b20sXG4gICAgICAgICd4LXN0cmVhbS1wbGF0Zm9ybS1kYXRhJzogcGxhdGZvcm0sXG4gICAgICB9LFxuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBTZW5kcyBhIGN1c3RvbSBldmVudCB0byBhbGwgY2FsbCBwYXJ0aWNpcGFudHMuXG4gICAqXG4gICAqIEBwYXJhbSBwYXlsb2FkIHRoZSBwYXlsb2FkIHRvIHNlbmQuXG4gICAqL1xuICBzZW5kQ3VzdG9tRXZlbnQgPSBhc3luYyAocGF5bG9hZDogeyBba2V5OiBzdHJpbmddOiBhbnkgfSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFNlbmRDYWxsRXZlbnRSZXNwb25zZSwgU2VuZENhbGxFdmVudFJlcXVlc3Q+KFxuICAgICAgYCR7dGhpcy5zdHJlYW1DbGllbnRCYXNlUGF0aH0vZXZlbnRgLFxuICAgICAgeyBjdXN0b206IHBheWxvYWQgfSxcbiAgICApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBBcHBsaWVzIHRoZSBkZXZpY2UgY29uZmlndXJhdGlvbiBmcm9tIHRoZSBiYWNrZW5kLlxuICAgKlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGFwcGx5RGV2aWNlQ29uZmlnID0gYXN5bmMgKFxuICAgIHNldHRpbmdzOiBDYWxsU2V0dGluZ3NSZXNwb25zZSxcbiAgICBwdWJsaXNoOiBib29sZWFuLFxuICApID0+IHtcbiAgICBhd2FpdCB0aGlzLmNhbWVyYS5hcHBseShzZXR0aW5ncy52aWRlbywgcHVibGlzaCkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIoJ3dhcm4nLCAnQ2FtZXJhIGluaXQgZmFpbGVkJywgZXJyKTtcbiAgICB9KTtcbiAgICBhd2FpdCB0aGlzLm1pY3JvcGhvbmUuYXBwbHkoc2V0dGluZ3MuYXVkaW8sIHB1Ymxpc2gpLmNhdGNoKChlcnIpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgJ01pYyBpbml0IGZhaWxlZCcsIGVycik7XG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFdpbGwgYmVnaW4gdHJhY2tpbmcgdGhlIGdpdmVuIGVsZW1lbnQgZm9yIHZpc2liaWxpdHkgY2hhbmdlcyB3aXRoaW4gdGhlXG4gICAqIGNvbmZpZ3VyZWQgdmlld3BvcnQgZWxlbWVudCAoYGNhbGwuc2V0Vmlld3BvcnRgKS5cbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQgdGhlIGVsZW1lbnQgdG8gdHJhY2suXG4gICAqIEBwYXJhbSBzZXNzaW9uSWQgdGhlIHNlc3Npb24gaWQuXG4gICAqIEBwYXJhbSB0cmFja1R5cGUgdGhlIHZpZGVvIG1vZGUuXG4gICAqL1xuICB0cmFja0VsZW1lbnRWaXNpYmlsaXR5ID0gPFQgZXh0ZW5kcyBIVE1MRWxlbWVudD4oXG4gICAgZWxlbWVudDogVCxcbiAgICBzZXNzaW9uSWQ6IHN0cmluZyxcbiAgICB0cmFja1R5cGU6IFZpZGVvVHJhY2tUeXBlLFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnRyYWNrRWxlbWVudFZpc2liaWxpdHkoXG4gICAgICBlbGVtZW50LFxuICAgICAgc2Vzc2lvbklkLFxuICAgICAgdHJhY2tUeXBlLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHZpZXdwb3J0IGVsZW1lbnQgdG8gdHJhY2sgYm91bmQgdmlkZW8gZWxlbWVudHMgZm9yIHZpc2liaWxpdHkuXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IHRoZSB2aWV3cG9ydCBlbGVtZW50LlxuICAgKi9cbiAgc2V0Vmlld3BvcnQgPSA8VCBleHRlbmRzIEhUTUxFbGVtZW50PihlbGVtZW50OiBUKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZHluYXNjYWxlTWFuYWdlci5zZXRWaWV3cG9ydChlbGVtZW50KTtcbiAgfTtcblxuICAvKipcbiAgICogQmluZHMgYSBET00gPHZpZGVvPiBlbGVtZW50IHRvIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKiBUaGlzIG1ldGhvZCB3aWxsIG1ha2Ugc3VyZSB0aGF0IHRoZSB2aWRlbyBlbGVtZW50IHdpbGwgcGxheVxuICAgKiB0aGUgY29ycmVjdCB2aWRlbyBzdHJlYW0gZm9yIHRoZSBnaXZlbiBzZXNzaW9uIGlkLlxuICAgKlxuICAgKiBVbmRlciB0aGUgaG9vZCwgaXQgd291bGQgYWxzbyBrZWVwIHRyYWNrIG9mIHRoZSB2aWRlbyBlbGVtZW50IGRpbWVuc2lvbnNcbiAgICogYW5kIHVwZGF0ZSB0aGUgc3Vic2NyaXB0aW9uIGFjY29yZGluZ2x5IGluIG9yZGVyIHRvIG9wdGltaXplIHRoZSBiYW5kd2lkdGguXG4gICAqXG4gICAqIElmIGEgXCJ2aWV3cG9ydFwiIGlzIGNvbmZpZ3VyZWQsIHRoZSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgYXV0b21hdGljYWxseVxuICAgKiB0cmFja2VkIGZvciB2aXNpYmlsaXR5IGFuZCB0aGUgc3Vic2NyaXB0aW9uIHdpbGwgYmUgdXBkYXRlZCBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogQHBhcmFtIHZpZGVvRWxlbWVudCB0aGUgdmlkZW8gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIHZpZGVvLlxuICAgKi9cbiAgYmluZFZpZGVvRWxlbWVudCA9IChcbiAgICB2aWRlb0VsZW1lbnQ6IEhUTUxWaWRlb0VsZW1lbnQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBWaWRlb1RyYWNrVHlwZSxcbiAgKSA9PiB7XG4gICAgY29uc3QgdW5iaW5kID0gdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmJpbmRWaWRlb0VsZW1lbnQoXG4gICAgICB2aWRlb0VsZW1lbnQsXG4gICAgICBzZXNzaW9uSWQsXG4gICAgICB0cmFja1R5cGUsXG4gICAgKTtcblxuICAgIGlmICghdW5iaW5kKSByZXR1cm47XG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQodW5iaW5kKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5kZWxldGUodW5iaW5kKTtcbiAgICAgIHVuYmluZCgpO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIGEgRE9NIDxhdWRpbz4gZWxlbWVudCB0byB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICpcbiAgICogVGhpcyBtZXRob2Qgd2lsbCBtYWtlIHN1cmUgdGhhdCB0aGUgYXVkaW8gZWxlbWVudCB3aWxsXG4gICAqIHBsYXkgdGhlIGNvcnJlY3QgYXVkaW8gc3RyZWFtIGZvciB0aGUgZ2l2ZW4gc2Vzc2lvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIGF1ZGlvRWxlbWVudCB0aGUgYXVkaW8gZWxlbWVudCB0byBiaW5kIHRvLlxuICAgKiBAcGFyYW0gc2Vzc2lvbklkIHRoZSBzZXNzaW9uIGlkLlxuICAgKiBAcGFyYW0gdHJhY2tUeXBlIHRoZSBraW5kIG9mIGF1ZGlvLlxuICAgKi9cbiAgYmluZEF1ZGlvRWxlbWVudCA9IChcbiAgICBhdWRpb0VsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQsXG4gICAgc2Vzc2lvbklkOiBzdHJpbmcsXG4gICAgdHJhY2tUeXBlOiBBdWRpb1RyYWNrVHlwZSA9ICdhdWRpb1RyYWNrJyxcbiAgKSA9PiB7XG4gICAgY29uc3QgdW5iaW5kID0gdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmJpbmRBdWRpb0VsZW1lbnQoXG4gICAgICBhdWRpb0VsZW1lbnQsXG4gICAgICBzZXNzaW9uSWQsXG4gICAgICB0cmFja1R5cGUsXG4gICAgKTtcblxuICAgIGlmICghdW5iaW5kKSByZXR1cm47XG4gICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5hZGQodW5iaW5kKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdGhpcy5sZWF2ZUNhbGxIb29rcy5kZWxldGUodW5iaW5kKTtcbiAgICAgIHVuYmluZCgpO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIEJpbmRzIGEgRE9NIDxpbWc+IGVsZW1lbnQgdG8gdGhpcyBjYWxsJ3MgdGh1bWJuYWlsIChpZiBlbmFibGVkIGluIHNldHRpbmdzKS5cbiAgICpcbiAgICogQHBhcmFtIGltYWdlRWxlbWVudCB0aGUgaW1hZ2UgZWxlbWVudCB0byBiaW5kIHRvLlxuICAgKiBAcGFyYW0gb3B0cyBvcHRpb25zIGZvciB0aGUgYmluZGluZy5cbiAgICovXG4gIGJpbmRDYWxsVGh1bWJuYWlsRWxlbWVudCA9IChcbiAgICBpbWFnZUVsZW1lbnQ6IEhUTUxJbWFnZUVsZW1lbnQsXG4gICAgb3B0czoge1xuICAgICAgZmFsbGJhY2tJbWFnZVNvdXJjZT86IHN0cmluZztcbiAgICB9ID0ge30sXG4gICkgPT4ge1xuICAgIGNvbnN0IGhhbmRsZUVycm9yID0gKCkgPT4ge1xuICAgICAgaW1hZ2VFbGVtZW50LnNyYyA9XG4gICAgICAgIG9wdHMuZmFsbGJhY2tJbWFnZVNvdXJjZSB8fFxuICAgICAgICAnaHR0cHM6Ly9nZXRzdHJlYW0uaW8vcmFuZG9tX3N2Zy8/bmFtZT14JmlkPXgnO1xuICAgIH07XG5cbiAgICBjb25zdCB1bnN1YnNjcmliZSA9IGNyZWF0ZVN1YnNjcmlwdGlvbihcbiAgICAgIHRoaXMuc3RhdGUudGh1bWJuYWlscyQsXG4gICAgICAodGh1bWJuYWlscykgPT4ge1xuICAgICAgICBpZiAoIXRodW1ibmFpbHMpIHJldHVybjtcbiAgICAgICAgaW1hZ2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgaGFuZGxlRXJyb3IpO1xuXG4gICAgICAgIGNvbnN0IHRodW1ibmFpbFVybCA9IG5ldyBVUkwodGh1bWJuYWlscy5pbWFnZV91cmwpO1xuICAgICAgICB0aHVtYm5haWxVcmwuc2VhcmNoUGFyYW1zLnNldCgndycsIFN0cmluZyhpbWFnZUVsZW1lbnQuY2xpZW50V2lkdGgpKTtcbiAgICAgICAgdGh1bWJuYWlsVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2gnLCBTdHJpbmcoaW1hZ2VFbGVtZW50LmNsaWVudEhlaWdodCkpO1xuXG4gICAgICAgIGltYWdlRWxlbWVudC5zcmMgPSB0aHVtYm5haWxVcmwudG9TdHJpbmcoKTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZSgpO1xuICAgICAgaW1hZ2VFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgaGFuZGxlRXJyb3IpO1xuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFNwZWNpZnkgcHJlZmVyZW5jZSBmb3IgaW5jb21pbmcgdmlkZW8gcmVzb2x1dGlvbi4gVGhlIHByZWZlcmVuY2Ugd2lsbFxuICAgKiBiZSBtYXRjaGVkIGFzIGNsb3NlIGFzIHBvc3NpYmxlLCBidXQgYWN0dWFsIHJlc29sdXRpb24gd2lsbCBkZXBlbmRcbiAgICogb24gdGhlIHZpZGVvIHNvdXJjZSBxdWFsaXR5IGFuZCBjbGllbnQgbmV0d29yayBjb25kaXRpb25zLiBXaWxsIGVuYWJsZVxuICAgKiBpbmNvbWluZyB2aWRlbywgaWYgcHJldmlvdXNseSBkaXNhYmxlZC5cbiAgICpcbiAgICogQHBhcmFtIHJlc29sdXRpb24gcHJlZmVycmVkIHJlc29sdXRpb24sIG9yIGB1bmRlZmluZWRgIHRvIGNsZWFyIHByZWZlcmVuY2VcbiAgICogQHBhcmFtIHNlc3Npb25JZHMgb3B0aW9uYWxseSBzcGVjaWZ5IHNlc3Npb24gaWRzIG9mIHRoZSBwYXJ0aWNpcGFudHMgdGhpc1xuICAgKiBwcmVmZXJlbmNlIGhhcyBlZmZlY3Qgb24uIEFmZmVjdHMgYWxsIHBhcnRpY2lwYW50cyBieSBkZWZhdWx0LlxuICAgKi9cbiAgc2V0UHJlZmVycmVkSW5jb21pbmdWaWRlb1Jlc29sdXRpb24gPSAoXG4gICAgcmVzb2x1dGlvbjogVmlkZW9EaW1lbnNpb24gfCB1bmRlZmluZWQsXG4gICAgc2Vzc2lvbklkcz86IHN0cmluZ1tdLFxuICApID0+IHtcbiAgICB0aGlzLmR5bmFzY2FsZU1hbmFnZXIuc2V0VmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlcyhcbiAgICAgIHJlc29sdXRpb25cbiAgICAgICAgPyB7XG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgZGltZW5zaW9uOiByZXNvbHV0aW9uLFxuICAgICAgICAgIH1cbiAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICBzZXNzaW9uSWRzLFxuICAgICk7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEVuYWJsZXMgb3IgZGlzYWJsZXMgaW5jb21pbmcgdmlkZW8gZnJvbSBhbGwgcmVtb3RlIGNhbGwgcGFydGljaXBhbnRzLFxuICAgKiBhbmQgcmVtb3ZlcyBhbnkgcHJlZmVyZW5jZSBmb3IgcHJlZmVycmVkIHJlc29sdXRpb24uXG4gICAqL1xuICBzZXRJbmNvbWluZ1ZpZGVvRW5hYmxlZCA9IChlbmFibGVkOiBib29sZWFuKSA9PiB7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLnNldFZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMoXG4gICAgICBlbmFibGVkID8gdW5kZWZpbmVkIDogeyBlbmFibGVkOiBmYWxzZSB9LFxuICAgICk7XG4gICAgdGhpcy5keW5hc2NhbGVNYW5hZ2VyLmFwcGx5VHJhY2tTdWJzY3JpcHRpb25zKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgYSB1c2VyIGNhbiByZW1haW4gd2FpdGluZyBmb3IgYSByZWNvbm5lY3RcbiAgICogYWZ0ZXIgYSBuZXR3b3JrIGRpc3J1cHRpb25cbiAgICogQHBhcmFtIHRpbWVvdXRTZWNvbmRzIFRpbWVvdXQgaW4gc2Vjb25kcywgb3IgMCB0byBrZWVwIHJlY29ubmVjdGluZyBpbmRlZmluZXRlbHlcbiAgICovXG4gIHNldERpc2Nvbm5lY3Rpb25UaW1lb3V0ID0gKHRpbWVvdXRTZWNvbmRzOiBudW1iZXIpID0+IHtcbiAgICB0aGlzLmRpc2Nvbm5lY3Rpb25UaW1lb3V0U2Vjb25kcyA9IHRpbWVvdXRTZWNvbmRzO1xuICB9O1xufVxuIiwiZXhwb3J0IGNvbnN0IEFQSUVycm9yQ29kZXM6IFJlY29yZDxudW1iZXIsIHN0cmluZz4gPSB7XG4gIFstMV06ICdJbnRlcm5hbFN5c3RlbUVycm9yJyxcbiAgMjogJ0FjY2Vzc0tleUVycm9yJyxcbiAgMzogJ0F1dGhlbnRpY2F0aW9uRmFpbGVkRXJyb3InLFxuICA0OiAnSW5wdXRFcnJvcicsXG4gIDU6ICdBdXRoZW50aWNhdGlvbkVycm9yJyxcbiAgNjogJ0R1cGxpY2F0ZVVzZXJuYW1lRXJyb3InLFxuICA5OiAnUmF0ZUxpbWl0RXJyb3InLFxuICAxNjogJ0RvZXNOb3RFeGlzdEVycm9yJyxcbiAgMTc6ICdOb3RBbGxvd2VkRXJyb3InLFxuICAxODogJ0V2ZW50Tm90U3VwcG9ydGVkRXJyb3InLFxuICAxOTogJ0NoYW5uZWxGZWF0dXJlTm90U3VwcG9ydGVkRXJyb3InLFxuICAyMDogJ01lc3NhZ2VUb29Mb25nRXJyb3InLFxuICAyMTogJ011bHRpcGxlTmVzdGluZ0xldmVsRXJyb3InLFxuICAyMjogJ1BheWxvYWRUb29CaWdFcnJvcicsXG4gIDIzOiAnUmVxdWVzdFRpbWVvdXRFcnJvcicsXG4gIDI0OiAnTWF4SGVhZGVyU2l6ZUV4Y2VlZGVkRXJyb3InLFxuICA0MDogJ0F1dGhFcnJvclRva2VuRXhwaXJlZCcsXG4gIDQxOiAnQXV0aEVycm9yVG9rZW5Ob3RWYWxpZFlldCcsXG4gIDQyOiAnQXV0aEVycm9yVG9rZW5Vc2VkQmVmb3JlSXNzdWVkQXQnLFxuICA0MzogJ0F1dGhFcnJvclRva2VuU2lnbmF0dXJlSW52YWxpZCcsXG4gIDQ0OiAnQ3VzdG9tQ29tbWFuZEVuZHBvaW50TWlzc2luZ0Vycm9yJyxcbiAgNDU6ICdDdXN0b21Db21tYW5kRW5kcG9pbnRDYWxsRXJyb3InLFxuICA0NjogJ0Nvbm5lY3Rpb25JRE5vdEZvdW5kRXJyb3InLFxuICA2MDogJ0Nvb2xEb3duRXJyb3InLFxuICA2OTogJ0Vycldyb25nUmVnaW9uJyxcbiAgNzA6ICdFcnJRdWVyeUNoYW5uZWxQZXJtaXNzaW9ucycsXG4gIDcxOiAnRXJyVG9vTWFueUNvbm5lY3Rpb25zJyxcbiAgNzM6ICdNZXNzYWdlTW9kZXJhdGlvbkZhaWxlZEVycm9yJyxcbiAgOTk6ICdBcHBTdXNwZW5kZWRFcnJvcicsXG59O1xuIiwiaW1wb3J0IHsgU3RyZWFtQ2xpZW50IH0gZnJvbSAnLi9jbGllbnQnO1xuaW1wb3J0IHtcbiAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICBpc0Nsb3NlRXZlbnQsXG4gIEtub3duQ29kZXMsXG4gIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyxcbiAgcmV0cnlJbnRlcnZhbCxcbiAgc2xlZXAsXG59IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHR5cGUgeyBMb2dMZXZlbCwgU3RyZWFtVmlkZW9FdmVudCwgVVIgfSBmcm9tICcuL3R5cGVzJztcbmltcG9ydCB0eXBlIHtcbiAgQ29ubmVjdGVkRXZlbnQsXG4gIENvbm5lY3Rpb25FcnJvckV2ZW50LFxuICBXU0F1dGhNZXNzYWdlLFxufSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgbWFrZVNhZmVQcm9taXNlLCB0eXBlIFNhZmVQcm9taXNlIH0gZnJvbSAnLi4vLi4vaGVscGVycy9wcm9taXNlJztcbmltcG9ydCB7IGdldFRpbWVycyB9IGZyb20gJy4uLy4uL3RpbWVycyc7XG5pbXBvcnQgeyBBUElFcnJvckNvZGVzIH0gZnJvbSAnLi9lcnJvcnMnO1xuXG4vKipcbiAqIFN0YWJsZVdTQ29ubmVjdGlvbiAtIEEgV1MgY29ubmVjdGlvbiB0aGF0IHJlY29ubmVjdHMgdXBvbiBmYWlsdXJlLlxuICogLSB0aGUgYnJvd3NlciB3aWxsIHNvbWV0aW1lcyByZXBvcnQgdGhhdCB5b3UncmUgb25saW5lIG9yIG9mZmxpbmVcbiAqIC0gdGhlIFdTIGNvbm5lY3Rpb24gY2FuIGJyZWFrIGFuZCBmYWlsICh0aGVyZSBpcyBhIDMwcyBoZWFsdGggY2hlY2spXG4gKiAtIHNvbWV0aW1lcyB5b3VyIFdTIGNvbm5lY3Rpb24gd2lsbCBzZWVtIHRvIHdvcmsgd2hpbGUgdGhlIHVzZXIgaXMgaW4gZmFjdCBvZmZsaW5lXG4gKiAtIHRvIHNwZWVkIHVwIG9ubGluZS9vZmZsaW5lIGRldGVjdGlvbiB5b3UgY2FuIHVzZSB0aGUgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnKTtcbiAqXG4gKiBUaGVyZSBhcmUgNCB3YXlzIGluIHdoaWNoIGEgY29ubmVjdGlvbiBjYW4gYmVjb21lIHVuaGVhbHRoeTpcbiAqIC0gd2Vic29ja2V0Lm9uZXJyb3IgaXMgY2FsbGVkXG4gKiAtIHdlYnNvY2tldC5vbmNsb3NlIGlzIGNhbGxlZFxuICogLSB0aGUgaGVhbHRoIGNoZWNrIGZhaWxzIGFuZCBubyBldmVudCBpcyByZWNlaXZlZCBmb3IgfjQwIHNlY29uZHNcbiAqIC0gdGhlIGJyb3dzZXIgaW5kaWNhdGVzIHRoZSBjb25uZWN0aW9uIGlzIG5vdyBvZmZsaW5lXG4gKlxuICogVGhlcmUgYXJlIDIgYXNzdW1wdGlvbnMgd2UgbWFrZSBhYm91dCB0aGUgc2VydmVyOlxuICogLSBzdGF0ZSBjYW4gYmUgcmVjb3ZlcmVkIGJ5IHF1ZXJ5aW5nIHRoZSBjaGFubmVsIGFnYWluXG4gKiAtIGlmIHRoZSBzZXJ2ZXJzIGZhaWxzIHRvIHB1Ymxpc2ggYSBtZXNzYWdlIHRvIHRoZSBjbGllbnQsIHRoZSBXUyBjb25uZWN0aW9uIGlzIGRlc3Ryb3llZFxuICovXG5leHBvcnQgY2xhc3MgU3RhYmxlV1NDb25uZWN0aW9uIHtcbiAgLy8gbG9jYWwgdmFyc1xuICBjb25uZWN0aW9uSUQ/OiBzdHJpbmc7XG4gIHByaXZhdGUgY29ubmVjdGlvbk9wZW5TYWZlPzogU2FmZVByb21pc2U8Q29ubmVjdGVkRXZlbnQ+O1xuICBjb25zZWN1dGl2ZUZhaWx1cmVzOiBudW1iZXI7XG4gIHBpbmdJbnRlcnZhbDogbnVtYmVyO1xuICBoZWFsdGhDaGVja1RpbWVvdXRSZWY/OiBudW1iZXI7XG4gIGlzQ29ubmVjdGluZzogYm9vbGVhbjtcbiAgaXNEaXNjb25uZWN0ZWQ6IGJvb2xlYW47XG4gIGlzSGVhbHRoeTogYm9vbGVhbjtcbiAgaXNDb25uZWN0aW9uT3BlblJlc29sdmVkPzogYm9vbGVhbjtcbiAgbGFzdEV2ZW50OiBEYXRlIHwgbnVsbDtcbiAgY29ubmVjdGlvbkNoZWNrVGltZW91dDogbnVtYmVyO1xuICBjb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmPzogTm9kZUpTLlRpbWVvdXQ7XG4gIHJlamVjdENvbm5lY3Rpb25PcGVuPzogKFxuICAgIHJlYXNvbj86IEVycm9yICYge1xuICAgICAgY29kZT86IHN0cmluZyB8IG51bWJlcjtcbiAgICAgIGlzV1NGYWlsdXJlPzogYm9vbGVhbjtcbiAgICAgIFN0YXR1c0NvZGU/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgfSxcbiAgKSA9PiB2b2lkO1xuICByZXNvbHZlQ29ubmVjdGlvbk9wZW4/OiAodmFsdWU6IENvbm5lY3RlZEV2ZW50KSA9PiB2b2lkO1xuICB0b3RhbEZhaWx1cmVzOiBudW1iZXI7XG4gIHdzPzogV2ViU29ja2V0O1xuICB3c0lEOiBudW1iZXI7XG5cbiAgY2xpZW50OiBTdHJlYW1DbGllbnQ7XG5cbiAgY29uc3RydWN0b3IoY2xpZW50OiBTdHJlYW1DbGllbnQpIHtcbiAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICAvKiogY29uc2VjdXRpdmUgZmFpbHVyZXMgaW5mbHVlbmNlIHRoZSBkdXJhdGlvbiBvZiB0aGUgdGltZW91dCAqL1xuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgLyoqIGtlZXAgdHJhY2sgb2YgdGhlIHRvdGFsIG51bWJlciBvZiBmYWlsdXJlcyAqL1xuICAgIHRoaXMudG90YWxGYWlsdXJlcyA9IDA7XG4gICAgLyoqIFdlIG9ubHkgbWFrZSAxIGF0dGVtcHQgdG8gcmVjb25uZWN0IGF0IHRoZSBzYW1lIHRpbWUuLiAqL1xuICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgLyoqIFRvIGF2b2lkIHJlY29ubmVjdCBpZiBjbGllbnQgaXMgZGlzY29ubmVjdGVkICovXG4gICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuICAgIC8qKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBjb25uZWN0aW9uIHByb21pc2UgaXMgcmVzb2x2ZWQgKi9cbiAgICB0aGlzLmlzQ29ubmVjdGlvbk9wZW5SZXNvbHZlZCA9IGZhbHNlO1xuICAgIC8qKiBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHdlIGhhdmUgYSB3b3JraW5nIGNvbm5lY3Rpb24gdG8gdGhlIHNlcnZlciAqL1xuICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgLyoqIEluY3JlbWVudGVkIHdoZW4gYSBuZXcgV1MgY29ubmVjdGlvbiBpcyBtYWRlICovXG4gICAgdGhpcy53c0lEID0gMTtcbiAgICAvKiogU3RvcmUgdGhlIGxhc3QgZXZlbnQgdGltZSBmb3IgaGVhbHRoIGNoZWNrcyAqL1xuICAgIHRoaXMubGFzdEV2ZW50ID0gbnVsbDtcbiAgICAvKiogU2VuZCBhIGhlYWx0aCBjaGVjayBtZXNzYWdlIGV2ZXJ5IDI1IHNlY29uZHMgKi9cbiAgICB0aGlzLnBpbmdJbnRlcnZhbCA9IDI1ICogMTAwMDtcbiAgICB0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXQgPSB0aGlzLnBpbmdJbnRlcnZhbCArIDEwICogMTAwMDtcblxuICAgIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLm9ubGluZVN0YXR1c0NoYW5nZWQpO1xuICB9XG5cbiAgX2xvZyA9IChtc2c6IHN0cmluZywgZXh0cmE6IFVSID0ge30sIGxldmVsOiBMb2dMZXZlbCA9ICdpbmZvJykgPT4ge1xuICAgIHRoaXMuY2xpZW50LmxvZ2dlcihsZXZlbCwgYGNvbm5lY3Rpb246JHttc2d9YCwgZXh0cmEpO1xuICB9O1xuXG4gIHNldENsaWVudCA9IChjbGllbnQ6IFN0cmVhbUNsaWVudCkgPT4ge1xuICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICB9O1xuXG4gIC8qKlxuICAgKiBjb25uZWN0IC0gQ29ubmVjdCB0byB0aGUgV1MgVVJMXG4gICAqIHRoZSBkZWZhdWx0IDE1cyB0aW1lb3V0IGFsbG93cyBiZXR3ZWVuIDJ+MyB0cmllc1xuICAgKiBAcmV0dXJuIHtDb25uZWN0QVBJUmVzcG9uc2U8Q29ubmVjdGVkRXZlbnQ+fSBQcm9taXNlIHRoYXQgY29tcGxldGVzIG9uY2UgdGhlIGZpcnN0IGhlYWx0aCBjaGVjayBtZXNzYWdlIGlzIHJlY2VpdmVkXG4gICAqL1xuICBhc3luYyBjb25uZWN0KHRpbWVvdXQgPSAxNTAwMCkge1xuICAgIGlmICh0aGlzLmlzQ29ubmVjdGluZykge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgIGBZb3UndmUgY2FsbGVkIGNvbm5lY3QgdHdpY2UsIGNhbiBvbmx5IGF0dGVtcHQgMSBjb25uZWN0aW9uIGF0IHRoZSB0aW1lYCxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgdGhpcy5pc0Rpc2Nvbm5lY3RlZCA9IGZhbHNlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGhlYWx0aENoZWNrID0gYXdhaXQgdGhpcy5fY29ubmVjdCgpO1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcblxuICAgICAgdGhpcy5fbG9nKFxuICAgICAgICBgY29ubmVjdCgpIC0gRXN0YWJsaXNoZWQgd3MgY29ubmVjdGlvbiB3aXRoIGhlYWx0aGNoZWNrOiAke2hlYWx0aENoZWNrfWAsXG4gICAgICApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuICAgICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzICs9IDE7XG5cbiAgICAgIGlmIChcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlIGlzc3VlXG4gICAgICAgIGVycm9yLmNvZGUgPT09IEtub3duQ29kZXMuVE9LRU5fRVhQSVJFRCAmJlxuICAgICAgICAhdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmlzU3RhdGljKClcbiAgICAgICkge1xuICAgICAgICB0aGlzLl9sb2coXG4gICAgICAgICAgJ2Nvbm5lY3QoKSAtIFdTIGZhaWx1cmUgZHVlIHRvIGV4cGlyZWQgdG9rZW4sIHNvIGdvaW5nIHRvIHRyeSB0byByZWxvYWQgdG9rZW4gYW5kIHJlY29ubmVjdCcsXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdCh7IHJlZnJlc2hUb2tlbjogdHJ1ZSB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZSBpc3N1ZVxuICAgICAgICBpZiAoIWVycm9yLmlzV1NGYWlsdXJlKSB7XG4gICAgICAgICAgLy8gQVBJIHJlamVjdGVkIHRoZSBjb25uZWN0aW9uIGFuZCB3ZSBzaG91bGQgbm90IHJldHJ5XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgaXNzdWVcbiAgICAgICAgICAgICAgY29kZTogZXJyb3IuY29kZSxcbiAgICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlIGlzc3VlXG4gICAgICAgICAgICAgIFN0YXR1c0NvZGU6IGVycm9yLlN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZSBpc3N1ZVxuICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgaXNzdWVcbiAgICAgICAgICAgICAgaXNXU0ZhaWx1cmU6IGVycm9yLmlzV1NGYWlsdXJlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhd2FpdCB0aGlzLl93YWl0Rm9ySGVhbHRoeSh0aW1lb3V0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBfd2FpdEZvckhlYWx0aHkgcG9sbHMgdGhlIHByb21pc2UgY29ubmVjdGlvbiB0byBzZWUgaWYgaXRzIHJlc29sdmVkIHVudGlsIGl0IHRpbWVzIG91dFxuICAgKiB0aGUgZGVmYXVsdCAxNXMgdGltZW91dCBhbGxvd3MgYmV0d2VlbiAyfjMgdHJpZXNcbiAgICogQHBhcmFtIHRpbWVvdXQgZHVyYXRpb24obXMpXG4gICAqL1xuICBhc3luYyBfd2FpdEZvckhlYWx0aHkodGltZW91dCA9IDE1MDAwKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmFjZShbXG4gICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBpbnRlcnZhbCA9IDUwOyAvLyBtc1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSB0aW1lb3V0OyBpICs9IGludGVydmFsKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNvbm5lY3Rpb25PcGVuO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgICAgIGlmIChpID09PSB0aW1lb3V0KSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICBjb2RlOiBlcnJvci5jb2RlLFxuICAgICAgICAgICAgICAgICAgU3RhdHVzQ29kZTogZXJyb3IuU3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICBpc1dTRmFpbHVyZTogZXJyb3IuaXNXU0ZhaWx1cmUsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzbGVlcChpbnRlcnZhbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSgpLFxuICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgc2xlZXAodGltZW91dCk7XG4gICAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICBjb2RlOiAnJyxcbiAgICAgICAgICAgIFN0YXR1c0NvZGU6ICcnLFxuICAgICAgICAgICAgbWVzc2FnZTogJ2luaXRpYWwgV1MgY29ubmVjdGlvbiBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQnLFxuICAgICAgICAgICAgaXNXU0ZhaWx1cmU6IHRydWUsXG4gICAgICAgICAgfSksXG4gICAgICAgICk7XG4gICAgICB9KSgpLFxuICAgIF0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEJ1aWxkcyBhbmQgcmV0dXJucyB0aGUgdXJsIGZvciB3ZWJzb2NrZXQuXG4gICAqIEBwcml2YXRlXG4gICAqIEByZXR1cm5zIHVybCBzdHJpbmdcbiAgICovXG4gIF9idWlsZFVybCA9ICgpID0+IHtcbiAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgcGFyYW1zLnNldCgnYXBpX2tleScsIHRoaXMuY2xpZW50LmtleSk7XG4gICAgcGFyYW1zLnNldCgnc3RyZWFtLWF1dGgtdHlwZScsIHRoaXMuY2xpZW50LmdldEF1dGhUeXBlKCkpO1xuICAgIHBhcmFtcy5zZXQoJ1gtU3RyZWFtLUNsaWVudCcsIHRoaXMuY2xpZW50LmdldFVzZXJBZ2VudCgpKTtcblxuICAgIHJldHVybiBgJHt0aGlzLmNsaWVudC53c0Jhc2VVUkx9L2Nvbm5lY3Q/JHtwYXJhbXMudG9TdHJpbmcoKX1gO1xuICB9O1xuXG4gIC8qKlxuICAgKiBkaXNjb25uZWN0IC0gRGlzY29ubmVjdCB0aGUgY29ubmVjdGlvbiBhbmQgZG9lc24ndCByZWNvdmVyLi4uXG4gICAqXG4gICAqL1xuICBkaXNjb25uZWN0KHRpbWVvdXQ/OiBudW1iZXIpIHtcbiAgICB0aGlzLl9sb2coXG4gICAgICBgZGlzY29ubmVjdCgpIC0gQ2xvc2luZyB0aGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gZm9yIHdzSUQgJHt0aGlzLndzSUR9YCxcbiAgICApO1xuXG4gICAgdGhpcy53c0lEICs9IDE7XG4gICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmlzRGlzY29ubmVjdGVkID0gdHJ1ZTtcblxuICAgIC8vIHN0YXJ0IGJ5IHJlbW92aW5nIGFsbCB0aGUgbGlzdGVuZXJzXG4gICAgaWYgKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKSB7XG4gICAgICBnZXRUaW1lcnMoKS5jbGVhckludGVydmFsKHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZikge1xuICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpO1xuICAgIH1cblxuICAgIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLm9ubGluZVN0YXR1c0NoYW5nZWQpO1xuXG4gICAgdGhpcy5pc0hlYWx0aHkgPSBmYWxzZTtcblxuICAgIGxldCBpc0Nsb3NlZFByb21pc2U6IFByb21pc2U8dm9pZD47XG4gICAgLy8gYW5kIGZpbmFsbHkgY2xvc2UuLi5cbiAgICAvLyBBc3NpZ25pbmcgdG8gbG9jYWwgaGVyZSBiZWNhdXNlIHdlIHdpbGwgcmVtb3ZlIGl0IGZyb20gdGhpcyBiZWZvcmUgdGhlXG4gICAgLy8gcHJvbWlzZSByZXNvbHZlcy5cbiAgICBjb25zdCB7IHdzIH0gPSB0aGlzO1xuICAgIGlmICh3cyAmJiB3cy5jbG9zZSAmJiB3cy5yZWFkeVN0YXRlID09PSB3cy5PUEVOKSB7XG4gICAgICBpc0Nsb3NlZFByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICBjb25zdCBvbmNsb3NlID0gKGV2ZW50OiBDbG9zZUV2ZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy5fbG9nKFxuICAgICAgICAgICAgYGRpc2Nvbm5lY3QoKSAtIHJlc29sdmluZyBpc0Nsb3NlZFByb21pc2UgJHtcbiAgICAgICAgICAgICAgZXZlbnQgPyAnd2l0aCcgOiAnd2l0aG91dCdcbiAgICAgICAgICAgIH0gY2xvc2UgZnJhbWVgLFxuICAgICAgICAgICAgeyBldmVudCB9LFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHdzLm9uY2xvc2UgPSBvbmNsb3NlO1xuICAgICAgICAvLyBJbiBjYXNlIHdlIGRvbid0IHJlY2VpdmUgY2xvc2UgZnJhbWUgd2Vic29ja2V0IHNlcnZlciBpbiB0aW1lLFxuICAgICAgICAvLyBsZXRzIG5vdCB3YWl0IGZvciBtb3JlIHRoYW4gMSBzZWNvbmQuXG4gICAgICAgIHNldFRpbWVvdXQob25jbG9zZSwgdGltZW91dCAhPSBudWxsID8gdGltZW91dCA6IDEwMDApO1xuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgYGRpc2Nvbm5lY3QoKSAtIE1hbnVhbGx5IGNsb3NlZCBjb25uZWN0aW9uIGJ5IGNhbGxpbmcgY2xpZW50LmRpc2Nvbm5lY3QoKWAsXG4gICAgICApO1xuXG4gICAgICB3cy5jbG9zZShcbiAgICAgICAgS25vd25Db2Rlcy5XU19DTE9TRURfU1VDQ0VTUyxcbiAgICAgICAgJ01hbnVhbGx5IGNsb3NlZCBjb25uZWN0aW9uIGJ5IGNhbGxpbmcgY2xpZW50LmRpc2Nvbm5lY3QoKScsXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgIGBkaXNjb25uZWN0KCkgLSB3cyBjb25uZWN0aW9uIGRvZXNuJ3QgZXhpc3Qgb3IgaXQgaXMgYWxyZWFkeSBjbG9zZWQuYCxcbiAgICAgICk7XG4gICAgICBpc0Nsb3NlZFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICBkZWxldGUgdGhpcy53cztcblxuICAgIHJldHVybiBpc0Nsb3NlZFByb21pc2U7XG4gIH1cblxuICAvKipcbiAgICogX2Nvbm5lY3QgLSBDb25uZWN0IHRvIHRoZSBXUyBlbmRwb2ludFxuICAgKlxuICAgKiBAcmV0dXJuIHtDb25uZWN0QVBJUmVzcG9uc2U8Q29ubmVjdGVkRXZlbnQ+fSBQcm9taXNlIHRoYXQgY29tcGxldGVzIG9uY2UgdGhlIGZpcnN0IGhlYWx0aCBjaGVjayBtZXNzYWdlIGlzIHJlY2VpdmVkXG4gICAqL1xuICBhc3luYyBfY29ubmVjdCgpIHtcbiAgICBpZiAodGhpcy5pc0Nvbm5lY3RpbmcpIHJldHVybjsgLy8gaWdub3JlIF9jb25uZWN0IGlmIGl0J3MgY3VycmVudGx5IHRyeWluZyB0byBjb25uZWN0XG4gICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSB0cnVlO1xuICAgIGxldCBpc1Rva2VuUmVhZHkgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgdGhpcy5fbG9nKGBfY29ubmVjdCgpIC0gd2FpdGluZyBmb3IgdG9rZW5gKTtcbiAgICAgIGF3YWl0IHRoaXMuY2xpZW50LnRva2VuTWFuYWdlci50b2tlblJlYWR5KCk7XG4gICAgICBpc1Rva2VuUmVhZHkgPSB0cnVlO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gdG9rZW4gcHJvdmlkZXIgaGFzIGZhaWxlZCBiZWZvcmUsIHNvIHRyeSBhZ2FpblxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBpZiAoIWlzVG9rZW5SZWFkeSkge1xuICAgICAgICB0aGlzLl9sb2coXG4gICAgICAgICAgYF9jb25uZWN0KCkgLSB0b2tlblByb3ZpZGVyIGZhaWxlZCBiZWZvcmUsIHNvIGdvaW5nIHRvIHJldHJ5YCxcbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRoaXMuY2xpZW50LmlzQ29ubmVjdGlvbklzUHJvbWlzZVBlbmRpbmcpIHtcbiAgICAgICAgdGhpcy5jbGllbnQuX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5fc2V0dXBDb25uZWN0aW9uUHJvbWlzZSgpO1xuICAgICAgY29uc3Qgd3NVUkwgPSB0aGlzLl9idWlsZFVybCgpO1xuICAgICAgdGhpcy5fbG9nKGBfY29ubmVjdCgpIC0gQ29ubmVjdGluZyB0byAke3dzVVJMfWApO1xuICAgICAgY29uc3QgV1MgPSB0aGlzLmNsaWVudC5vcHRpb25zLldlYlNvY2tldEltcGwgPz8gV2ViU29ja2V0O1xuICAgICAgdGhpcy53cyA9IG5ldyBXUyh3c1VSTCk7XG4gICAgICB0aGlzLndzLm9ub3BlbiA9IHRoaXMub25vcGVuLmJpbmQodGhpcywgdGhpcy53c0lEKTtcbiAgICAgIHRoaXMud3Mub25jbG9zZSA9IHRoaXMub25jbG9zZS5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICB0aGlzLndzLm9uZXJyb3IgPSB0aGlzLm9uZXJyb3IuYmluZCh0aGlzLCB0aGlzLndzSUQpO1xuICAgICAgdGhpcy53cy5vbm1lc3NhZ2UgPSB0aGlzLm9ubWVzc2FnZS5iaW5kKHRoaXMsIHRoaXMud3NJRCk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY29ubmVjdGlvbk9wZW47XG4gICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuXG4gICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uSUQgPSByZXNwb25zZS5jb25uZWN0aW9uX2lkO1xuICAgICAgICB0aGlzLmNsaWVudC5yZXNvbHZlQ29ubmVjdGlvbklkPy4odGhpcy5jb25uZWN0aW9uSUQpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLmNsaWVudC5fc2V0dXBDb25uZWN0aW9uSWRQcm9taXNlKCk7XG4gICAgICB0aGlzLmlzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlIGlzc3VlXG4gICAgICB0aGlzLl9sb2coYF9jb25uZWN0KCkgLSBFcnJvciAtIGAsIGVycik7XG4gICAgICB0aGlzLmNsaWVudC5yZWplY3RDb25uZWN0aW9uSWQ/LihlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBfcmVjb25uZWN0IC0gUmV0cnkgdGhlIGNvbm5lY3Rpb24gdG8gV1MgZW5kcG9pbnRcbiAgICpcbiAgICogQHBhcmFtIHt7IGludGVydmFsPzogbnVtYmVyOyByZWZyZXNoVG9rZW4/OiBib29sZWFuIH19IG9wdGlvbnMgRm9sbG93aW5nIG9wdGlvbnMgYXJlIGF2YWlsYWJsZVxuICAgKlxuICAgKiAtIGBpbnRlcnZhbGBcdHtpbnR9XHRcdFx0bnVtYmVyIG9mIG1zIHRoYXQgZnVuY3Rpb24gc2hvdWxkIHdhaXQgYmVmb3JlIHJlY29ubmVjdGluZ1xuICAgKiAtIGByZWZyZXNoVG9rZW5gIHtib29sZWFufVx0cmVsb2FkL3JlZnJlc2ggdXNlciB0b2tlbiBiZSByZWZyZXNoZWQgYmVmb3JlIGF0dGVtcHRpbmcgcmVjb25uZWN0aW9uLlxuICAgKi9cbiAgYXN5bmMgX3JlY29ubmVjdChcbiAgICBvcHRpb25zOiB7IGludGVydmFsPzogbnVtYmVyOyByZWZyZXNoVG9rZW4/OiBib29sZWFuIH0gPSB7fSxcbiAgKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBJbml0aWF0aW5nIHRoZSByZWNvbm5lY3QnKTtcblxuICAgIC8vIG9ubHkgYWxsb3cgMSBjb25uZWN0aW9uIGF0IHRoZSB0aW1lXG4gICAgaWYgKHRoaXMuaXNDb25uZWN0aW5nIHx8IHRoaXMuaXNIZWFsdGh5KSB7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEFib3J0ICgxKSBzaW5jZSBhbHJlYWR5IGNvbm5lY3Rpbmcgb3IgaGVhbHRoeScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIHJlY29ubmVjdCBpbiBjYXNlIG9mIG9uIGVycm9yIG9yIG9uIGNsb3NlXG4gICAgLy8gYWxzbyByZWNvbm5lY3QgaWYgdGhlIGhlYWx0aCBjaGVjayBjeWNsZSBmYWlsc1xuICAgIGxldCBpbnRlcnZhbCA9IG9wdGlvbnMuaW50ZXJ2YWw7XG4gICAgaWYgKCFpbnRlcnZhbCkge1xuICAgICAgaW50ZXJ2YWwgPSByZXRyeUludGVydmFsKHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyk7XG4gICAgfVxuICAgIC8vIHJlY29ubmVjdCwgb3IgdHJ5IGFnYWluIGFmdGVyIGEgbGl0dGxlIHdoaWxlLi4uXG4gICAgYXdhaXQgc2xlZXAoaW50ZXJ2YWwpO1xuXG4gICAgLy8gQ2hlY2sgb25jZSBhZ2FpbiBpZiBieSBzb21lIG90aGVyIGNhbGwgdG8gX3JlY29ubmVjdCBpcyBhY3RpdmUgb3IgY29ubmVjdGlvbiBpc1xuICAgIC8vIGFscmVhZHkgcmVzdG9yZWQsIHRoZW4gbm8gbmVlZCB0byBwcm9jZWVkLlxuICAgIGlmICh0aGlzLmlzQ29ubmVjdGluZyB8fCB0aGlzLmlzSGVhbHRoeSkge1xuICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMikgc2luY2UgYWxyZWFkeSBjb25uZWN0aW5nIG9yIGhlYWx0aHknKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5pc0Rpc2Nvbm5lY3RlZCkge1xuICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBBYm9ydCAoMykgc2luY2UgZGlzY29ubmVjdCgpIGlzIGNhbGxlZCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gRGVzdHJveWluZyBjdXJyZW50IFdTIGNvbm5lY3Rpb24nKTtcblxuICAgIC8vIGNsZWFudXAgdGhlIG9sZCBjb25uZWN0aW9uXG4gICAgdGhpcy5fZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24oKTtcblxuICAgIGlmIChvcHRpb25zLnJlZnJlc2hUb2tlbikge1xuICAgICAgYXdhaXQgdGhpcy5jbGllbnQudG9rZW5NYW5hZ2VyLmxvYWRUb2tlbigpO1xuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLl9jb25uZWN0KCk7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIFdhaXRpbmcgZm9yIHJlY292ZXJDYWxsQmFjaycpO1xuICAgICAgLy8gYXdhaXQgdGhpcy5jbGllbnQucmVjb3ZlclN0YXRlKCk7XG4gICAgICB0aGlzLl9sb2coJ19yZWNvbm5lY3QoKSAtIEZpbmlzaGVkIHJlY292ZXJDYWxsQmFjaycpO1xuXG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgPSAwO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgIHRoaXMuaXNIZWFsdGh5ID0gZmFsc2U7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICAgIGlmIChcbiAgICAgICAgZXJyb3IuY29kZSA9PT0gS25vd25Db2Rlcy5UT0tFTl9FWFBJUkVEICYmXG4gICAgICAgICF0aGlzLmNsaWVudC50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAnX3JlY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0JyxcbiAgICAgICAgKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fcmVjb25uZWN0KHsgcmVmcmVzaFRva2VuOiB0cnVlIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyByZWNvbm5lY3Qgb24gV1MgZmFpbHVyZXMsIGRvbid0IHJlY29ubmVjdCBpZiB0aGVyZSBpcyBhIGNvZGUgYnVnXG4gICAgICBpZiAoZXJyb3IuaXNXU0ZhaWx1cmUpIHtcbiAgICAgICAgdGhpcy5fbG9nKCdfcmVjb25uZWN0KCkgLSBXUyBmYWlsdXJlLCBzbyBnb2luZyB0byB0cnkgdG8gcmVjb25uZWN0Jyk7XG5cbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2xvZygnX3JlY29ubmVjdCgpIC0gPT0gRU5EID09Jyk7XG4gIH1cblxuICAvKipcbiAgICogb25saW5lU3RhdHVzQ2hhbmdlZCAtIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIHdoZW4gdGhlIGJyb3dzZXIgY29ubmVjdHMgb3IgZGlzY29ubmVjdHMgZnJvbSB0aGUgaW50ZXJuZXQuXG4gICAqXG4gICAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEV2ZW50IHdpdGggdHlwZSBvbmxpbmUgb3Igb2ZmbGluZVxuICAgKlxuICAgKi9cbiAgb25saW5lU3RhdHVzQ2hhbmdlZCA9IChldmVudDogRXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQudHlwZSA9PT0gJ29mZmxpbmUnKSB7XG4gICAgICAvLyBtYXJrIHRoZSBjb25uZWN0aW9uIGFzIGRvd25cbiAgICAgIHRoaXMuX2xvZygnb25saW5lU3RhdHVzQ2hhbmdlZCgpIC0gU3RhdHVzIGNoYW5naW5nIHRvIG9mZmxpbmUnKTtcbiAgICAgIC8vIHdlIGtub3cgdGhhdCB0aGUgYXBwIGlzIG9mZmxpbmUgc28gZGlzcGF0Y2ggdGhlIHVuaGVhbHRoeSBjb25uZWN0aW9uIGV2ZW50IGltbWVkaWF0ZWx5XG4gICAgICB0aGlzLl9zZXRIZWFsdGgoZmFsc2UsIHRydWUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ29ubGluZScpIHtcbiAgICAgIC8vIHJldHJ5IHJpZ2h0IG5vdy4uLlxuICAgICAgLy8gV2UgY2hlY2sgdGhpcy5pc0hlYWx0aHksIG5vdCBzdXJlIGlmIGl0J3MgYWx3YXlzXG4gICAgICAvLyBzbWFydCB0byBjcmVhdGUgYSBuZXcgV1MgY29ubmVjdGlvbiBpZiB0aGUgb2xkIG9uZSBpcyBzdGlsbCB1cCBhbmQgcnVubmluZy5cbiAgICAgIC8vIGl0J3MgcG9zc2libGUgd2UgZGlkbid0IG1pc3MgYW55IG1lc3NhZ2VzLCBzbyB0aGlzIHByb2Nlc3MgaXMganVzdCBleHBlbnNpdmUgYW5kIG5vdCBuZWVkZWQuXG4gICAgICB0aGlzLl9sb2coXG4gICAgICAgIGBvbmxpbmVTdGF0dXNDaGFuZ2VkKCkgLSBTdGF0dXMgY2hhbmdpbmcgdG8gb25saW5lLiBpc0hlYWx0aHk6ICR7dGhpcy5pc0hlYWx0aHl9YCxcbiAgICAgICk7XG4gICAgICBpZiAoIXRoaXMuaXNIZWFsdGh5KSB7XG4gICAgICAgIHRoaXMuX3JlY29ubmVjdCh7IGludGVydmFsOiAxMCB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgb25vcGVuID0gKHdzSUQ6IG51bWJlcikgPT4ge1xuICAgIGlmICh0aGlzLndzSUQgIT09IHdzSUQpIHJldHVybjtcblxuICAgIGNvbnN0IHVzZXIgPSB0aGlzLmNsaWVudC51c2VyO1xuICAgIGlmICghdXNlcikge1xuICAgICAgdGhpcy5jbGllbnQubG9nZ2VyKCdlcnJvcicsIGBVc2VyIG5vdCBzZXQsIGNhbid0IGNvbm5lY3QgdG8gV1NgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB0b2tlbiA9IHRoaXMuY2xpZW50Ll9nZXRUb2tlbigpO1xuICAgIGlmICghdG9rZW4pIHtcbiAgICAgIHRoaXMuY2xpZW50LmxvZ2dlcignZXJyb3InLCBgVG9rZW4gbm90IHNldCwgY2FuJ3QgY29ubmVjdCBhdXRoZW50aWNhdGVgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBhdXRoTWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgIHRva2VuLFxuICAgICAgdXNlcl9kZXRhaWxzOiB7XG4gICAgICAgIGlkOiB1c2VyLmlkLFxuICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXG4gICAgICAgIGltYWdlOiB1c2VyLmltYWdlLFxuICAgICAgICBjdXN0b206IHVzZXIuY3VzdG9tLFxuICAgICAgfSxcbiAgICB9IGFzIFdTQXV0aE1lc3NhZ2UpO1xuXG4gICAgdGhpcy5fbG9nKGBvbm9wZW4oKSAtIFNlbmRpbmcgYXV0aCBtZXNzYWdlICR7YXV0aE1lc3NhZ2V9YCwge30sICd0cmFjZScpO1xuXG4gICAgdGhpcy53cz8uc2VuZChhdXRoTWVzc2FnZSk7XG4gICAgdGhpcy5fbG9nKCdvbm9wZW4oKSAtIG9ub3BlbiBjYWxsYmFjaycsIHsgd3NJRCB9KTtcbiAgfTtcblxuICBvbm1lc3NhZ2UgPSAod3NJRDogbnVtYmVyLCBldmVudDogTWVzc2FnZUV2ZW50KSA9PiB7XG4gICAgaWYgKHRoaXMud3NJRCAhPT0gd3NJRCkgcmV0dXJuO1xuXG4gICAgdGhpcy5fbG9nKCdvbm1lc3NhZ2UoKSAtIG9ubWVzc2FnZSBjYWxsYmFjaycsIHsgZXZlbnQsIHdzSUQgfSk7XG4gICAgY29uc3QgZGF0YSA9XG4gICAgICB0eXBlb2YgZXZlbnQuZGF0YSA9PT0gJ3N0cmluZydcbiAgICAgICAgPyAoSlNPTi5wYXJzZShldmVudC5kYXRhKSBhcyBTdHJlYW1WaWRlb0V2ZW50KVxuICAgICAgICA6IG51bGw7XG5cbiAgICAvLyB3ZSB3YWl0IHRpbGwgdGhlIGZpcnN0IG1lc3NhZ2UgYmVmb3JlIHdlIGNvbnNpZGVyIHRoZSBjb25uZWN0aW9uIG9wZW4uXG4gICAgLy8gdGhlIHJlYXNvbiBmb3IgdGhpcyBpcyB0aGF0IGF1dGggZXJyb3JzIGFuZCBzaW1pbGFyIGVycm9ycyB0cmlnZ2VyIGEgd3Mub25vcGVuIGFuZCBpbW1lZGlhdGVseVxuICAgIC8vIGFmdGVyIHRoYXQgYSB3cy5vbmNsb3NlLlxuICAgIGlmIChcbiAgICAgICF0aGlzLmlzQ29ubmVjdGlvbk9wZW5SZXNvbHZlZCAmJlxuICAgICAgZGF0YSAmJlxuICAgICAgZGF0YS50eXBlID09PSAnY29ubmVjdGlvbi5lcnJvcidcbiAgICApIHtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW9uT3BlblJlc29sdmVkID0gdHJ1ZTtcbiAgICAgIGlmIChkYXRhLmVycm9yKSB7XG4gICAgICAgIHRoaXMucmVqZWN0Q29ubmVjdGlvbk9wZW4/Lih0aGlzLl9lcnJvckZyb21XU0V2ZW50KGRhdGEsIGZhbHNlKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0cmlnZ2VyIHRoZSBldmVudC4uXG4gICAgdGhpcy5sYXN0RXZlbnQgPSBuZXcgRGF0ZSgpO1xuXG4gICAgaWYgKFxuICAgICAgZGF0YSAmJlxuICAgICAgKGRhdGEudHlwZSA9PT0gJ2hlYWx0aC5jaGVjaycgfHwgZGF0YS50eXBlID09PSAnY29ubmVjdGlvbi5vaycpXG4gICAgKSB7XG4gICAgICAvLyB0aGUgaW5pdGlhbCBoZWFsdGgtY2hlY2sgc2hvdWxkIGNvbWUgZnJvbSB0aGUgY2xpZW50XG4gICAgICB0aGlzLnNjaGVkdWxlTmV4dFBpbmcoKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09ICdjb25uZWN0aW9uLm9rJykge1xuICAgICAgdGhpcy5yZXNvbHZlQ29ubmVjdGlvbk9wZW4/LihkYXRhKTtcbiAgICAgIHRoaXMuX3NldEhlYWx0aCh0cnVlKTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YSAmJiBkYXRhLnR5cGUgPT09ICdjb25uZWN0aW9uLmVycm9yJyAmJiBkYXRhLmVycm9yKSB7XG4gICAgICBjb25zdCB7IGNvZGUgfSA9IGRhdGEuZXJyb3I7XG4gICAgICB0aGlzLmlzSGVhbHRoeSA9IGZhbHNlO1xuICAgICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgaWYgKFxuICAgICAgICBjb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgIXRoaXMuY2xpZW50LnRva2VuTWFuYWdlci5pc1N0YXRpYygpXG4gICAgICApIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZik7XG4gICAgICAgIHRoaXMuX2xvZyhcbiAgICAgICAgICAnY29ubmVjdCgpIC0gV1MgZmFpbHVyZSBkdWUgdG8gZXhwaXJlZCB0b2tlbiwgc28gZ29pbmcgdG8gdHJ5IHRvIHJlbG9hZCB0b2tlbiBhbmQgcmVjb25uZWN0JyxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KHsgcmVmcmVzaFRva2VuOiB0cnVlIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhKSB7XG4gICAgICBkYXRhLnJlY2VpdmVkX2F0ID0gbmV3IERhdGUoKTtcbiAgICAgIHRoaXMuY2xpZW50LmRpc3BhdGNoRXZlbnQoZGF0YSk7XG4gICAgfVxuICAgIHRoaXMuc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2soKTtcbiAgfTtcblxuICBvbmNsb3NlID0gKHdzSUQ6IG51bWJlciwgZXZlbnQ6IENsb3NlRXZlbnQpID0+IHtcbiAgICBpZiAodGhpcy53c0lEICE9PSB3c0lEKSByZXR1cm47XG5cbiAgICB0aGlzLl9sb2coJ29uY2xvc2UoKSAtIG9uY2xvc2UgY2FsbGJhY2sgLSAnICsgZXZlbnQuY29kZSwgeyBldmVudCwgd3NJRCB9KTtcblxuICAgIGlmIChldmVudC5jb2RlID09PSBLbm93bkNvZGVzLldTX0NMT1NFRF9TVUNDRVNTKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgcGVybWFuZW50IGVycm9yIHJhaXNlZCBieSBzdHJlYW0uLlxuICAgICAgLy8gdXN1YWxseSBjYXVzZWQgYnkgaW52YWxpZCBhdXRoIGRldGFpbHNcbiAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKFxuICAgICAgICBgV1MgY29ubmVjdGlvbiByZWplY3Qgd2l0aCBlcnJvciAke2V2ZW50LnJlYXNvbn1gLFxuICAgICAgKTtcblxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlIGlzc3VlXG4gICAgICBlcnJvci5yZWFzb24gPSBldmVudC5yZWFzb247XG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGUgaXNzdWVcbiAgICAgIGVycm9yLmNvZGUgPSBldmVudC5jb2RlO1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlIGlzc3VlXG4gICAgICBlcnJvci53YXNDbGVhbiA9IGV2ZW50Lndhc0NsZWFuO1xuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB0eXBlIGlzc3VlXG4gICAgICBlcnJvci50YXJnZXQgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgIHRoaXMucmVqZWN0Q29ubmVjdGlvbk9wZW4/LihlcnJvcik7XG4gICAgICB0aGlzLl9sb2coYG9uY2xvc2UoKSAtIFdTIGNvbm5lY3Rpb24gcmVqZWN0IHdpdGggZXJyb3IgJHtldmVudC5yZWFzb259YCwge1xuICAgICAgICBldmVudCxcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMgKz0gMTtcbiAgICAgIHRoaXMudG90YWxGYWlsdXJlcyArPSAxO1xuICAgICAgdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICAgIHRoaXMuaXNDb25uZWN0aW5nID0gZmFsc2U7XG5cbiAgICAgIHRoaXMucmVqZWN0Q29ubmVjdGlvbk9wZW4/Lih0aGlzLl9lcnJvckZyb21XU0V2ZW50KGV2ZW50KSk7XG5cbiAgICAgIHRoaXMuX2xvZyhgb25jbG9zZSgpIC0gV1MgY29ubmVjdGlvbiBjbG9zZWQuIENhbGxpbmcgcmVjb25uZWN0IC4uLmAsIHtcbiAgICAgICAgZXZlbnQsXG4gICAgICB9KTtcblxuICAgICAgLy8gcmVjb25uZWN0IGlmIGl0cyBhbiBhYm5vcm1hbCBmYWlsdXJlXG4gICAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgICB9XG4gIH07XG5cbiAgb25lcnJvciA9ICh3c0lEOiBudW1iZXIsIGV2ZW50OiBFdmVudCkgPT4ge1xuICAgIGlmICh0aGlzLndzSUQgIT09IHdzSUQpIHJldHVybjtcblxuICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgIHRoaXMudG90YWxGYWlsdXJlcyArPSAxO1xuICAgIHRoaXMuX3NldEhlYWx0aChmYWxzZSk7XG4gICAgdGhpcy5pc0Nvbm5lY3RpbmcgPSBmYWxzZTtcbiAgICB0aGlzLnJlamVjdENvbm5lY3Rpb25PcGVuPy4obmV3IEVycm9yKGBXZWJTb2NrZXQgZXJyb3I6ICR7ZXZlbnR9YCkpO1xuICAgIHRoaXMuX2xvZyhgb25lcnJvcigpIC0gV1MgY29ubmVjdGlvbiByZXN1bHRlZCBpbnRvIGVycm9yYCwgeyBldmVudCB9KTtcblxuICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBfc2V0SGVhbHRoIC0gU2V0cyB0aGUgY29ubmVjdGlvbiB0byBoZWFsdGh5IG9yIHVuaGVhbHRoeS5cbiAgICogQnJvYWRjYXN0cyBhbiBldmVudCBpbiBjYXNlIHRoZSBjb25uZWN0aW9uIHN0YXR1cyBjaGFuZ2VkLlxuICAgKlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGhlYWx0aHkgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIHRoZSBjb25uZWN0aW9uIGlzIGhlYWx0aHkgb3Igbm90XG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGlzcGF0Y2hJbW1lZGlhdGVseSBib29sZWFuIGluZGljYXRpbmcgdG8gZGlzcGF0Y2ggZXZlbnQgaW1tZWRpYXRlbHkgZXZlbiBpZiB0aGUgY29ubmVjdGlvbiBpcyB1bmhlYWx0aHlcbiAgICovXG4gIF9zZXRIZWFsdGggPSAoaGVhbHRoeTogYm9vbGVhbiwgZGlzcGF0Y2hJbW1lZGlhdGVseSA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGhlYWx0aHkgPT09IHRoaXMuaXNIZWFsdGh5KSByZXR1cm47XG5cbiAgICB0aGlzLmlzSGVhbHRoeSA9IGhlYWx0aHk7XG5cbiAgICBpZiAodGhpcy5pc0hlYWx0aHkgfHwgZGlzcGF0Y2hJbW1lZGlhdGVseSkge1xuICAgICAgdGhpcy5jbGllbnQuZGlzcGF0Y2hFdmVudCh7XG4gICAgICAgIHR5cGU6ICdjb25uZWN0aW9uLmNoYW5nZWQnLFxuICAgICAgICBvbmxpbmU6IHRoaXMuaXNIZWFsdGh5LFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gd2UncmUgb2ZmbGluZSwgd2FpdCBmZXcgc2Vjb25kcyBhbmQgZmlyZSBhbmQgZXZlbnQgaWYgc3RpbGwgb2ZmbGluZVxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNIZWFsdGh5KSByZXR1cm47XG4gICAgICB0aGlzLmNsaWVudC5kaXNwYXRjaEV2ZW50KHtcbiAgICAgICAgdHlwZTogJ2Nvbm5lY3Rpb24uY2hhbmdlZCcsXG4gICAgICAgIG9ubGluZTogdGhpcy5pc0hlYWx0aHksXG4gICAgICB9KTtcbiAgICB9LCA1MDAwKTtcbiAgfTtcblxuICAvKipcbiAgICogX2Vycm9yRnJvbVdTRXZlbnQgLSBDcmVhdGVzIGFuIGVycm9yIG9iamVjdCBmb3IgdGhlIFdTIGV2ZW50XG4gICAqL1xuICBwcml2YXRlIF9lcnJvckZyb21XU0V2ZW50ID0gKFxuICAgIGV2ZW50OiBDbG9zZUV2ZW50IHwgQ29ubmVjdGlvbkVycm9yRXZlbnQsXG4gICAgaXNXU0ZhaWx1cmUgPSB0cnVlLFxuICApID0+IHtcbiAgICBsZXQgY29kZTogbnVtYmVyO1xuICAgIGxldCBzdGF0dXNDb2RlOiBudW1iZXI7XG4gICAgbGV0IG1lc3NhZ2U6IHN0cmluZztcbiAgICBpZiAoaXNDbG9zZUV2ZW50KGV2ZW50KSkge1xuICAgICAgY29kZSA9IGV2ZW50LmNvZGU7XG4gICAgICBtZXNzYWdlID0gZXZlbnQucmVhc29uO1xuICAgICAgc3RhdHVzQ29kZSA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGV2ZW50O1xuICAgICAgY29kZSA9IGVycm9yLmNvZGU7XG4gICAgICBtZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgIHN0YXR1c0NvZGUgPSBlcnJvci5TdGF0dXNDb2RlO1xuICAgIH1cblxuICAgIGNvbnN0IG1zZyA9IGBXUyBmYWlsZWQgd2l0aCBjb2RlOiAke2NvZGV9OiAke0FQSUVycm9yQ29kZXNbY29kZV0gfHwgY29kZX0gYW5kIHJlYXNvbjogJHttZXNzYWdlfWA7XG4gICAgdGhpcy5fbG9nKG1zZywgeyBldmVudCB9LCAnd2FybicpO1xuICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKG1zZykgYXMgRXJyb3IgJiB7XG4gICAgICBjb2RlPzogbnVtYmVyO1xuICAgICAgaXNXU0ZhaWx1cmU/OiBib29sZWFuO1xuICAgICAgU3RhdHVzQ29kZT86IG51bWJlcjtcbiAgICB9O1xuICAgIGVycm9yLmNvZGUgPSBjb2RlO1xuICAgIC8qKlxuICAgICAqIFN0YXR1c0NvZGUgZG9lcyBub3QgZXhpc3Qgb24gYW55IGV2ZW50IHR5cGVzIGJ1dCBoYXMgYmVlbiBsZWZ0XG4gICAgICogYXMgaXMgdG8gcHJlc2VydmUgSlMgZnVuY3Rpb25hbGl0eSBkdXJpbmcgdGhlIFRTIGltcGxlbWVudGF0aW9uXG4gICAgICovXG4gICAgZXJyb3IuU3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgZXJyb3IuaXNXU0ZhaWx1cmUgPSBpc1dTRmFpbHVyZTtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH07XG5cbiAgLyoqXG4gICAqIF9kZXN0cm95Q3VycmVudFdTQ29ubmVjdGlvbiAtIFJlbW92ZXMgdGhlIGN1cnJlbnQgV1MgY29ubmVjdGlvblxuICAgKlxuICAgKi9cbiAgX2Rlc3Ryb3lDdXJyZW50V1NDb25uZWN0aW9uKCkge1xuICAgIC8vIGluY3JlbWVudCB0aGUgSUQsIG1lYW5pbmcgd2Ugd2lsbCBpZ25vcmUgYWxsIG1lc3NhZ2VzIGZyb20gdGhlIG9sZFxuICAgIC8vIHdzIGNvbm5lY3Rpb24gZnJvbSBub3cgb24uXG4gICAgdGhpcy53c0lEICs9IDE7XG5cbiAgICB0cnkge1xuICAgICAgdGhpcz8ud3M/LmNsb3NlKCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAvLyB3ZSBkb24ndCBjYXJlXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIF9zZXR1cFByb21pc2UgLSBzZXRzIHVwIHRoZSB0aGlzLmNvbm5lY3RPcGVuIHByb21pc2VcbiAgICovXG4gIF9zZXR1cENvbm5lY3Rpb25Qcm9taXNlID0gKCkgPT4ge1xuICAgIHRoaXMuaXNDb25uZWN0aW9uT3BlblJlc29sdmVkID0gZmFsc2U7XG4gICAgLyoqIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIG9uY2Ugd3Mub3BlbiBpcyBjYWxsZWQgKi9cbiAgICB0aGlzLmNvbm5lY3Rpb25PcGVuU2FmZSA9IG1ha2VTYWZlUHJvbWlzZShcbiAgICAgIG5ldyBQcm9taXNlPENvbm5lY3RlZEV2ZW50PigocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIHRoaXMucmVzb2x2ZUNvbm5lY3Rpb25PcGVuID0gcmVzb2x2ZTtcbiAgICAgICAgdGhpcy5yZWplY3RDb25uZWN0aW9uT3BlbiA9IHJlamVjdDtcbiAgICAgIH0pLFxuICAgICk7XG4gIH07XG5cbiAgZ2V0IGNvbm5lY3Rpb25PcGVuKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25PcGVuU2FmZT8uKCk7XG4gIH1cblxuICAvKipcbiAgICogU2NoZWR1bGVzIGEgbmV4dCBoZWFsdGggY2hlY2sgcGluZyBmb3Igd2Vic29ja2V0LlxuICAgKi9cbiAgc2NoZWR1bGVOZXh0UGluZyA9ICgpID0+IHtcbiAgICBjb25zdCB0aW1lcnMgPSBnZXRUaW1lcnMoKTtcbiAgICBpZiAodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpIHtcbiAgICAgIHRpbWVycy5jbGVhclRpbWVvdXQodGhpcy5oZWFsdGhDaGVja1RpbWVvdXRSZWYpO1xuICAgIH1cblxuICAgIC8vIDMwIHNlY29uZHMgaXMgdGhlIHJlY29tbWVuZGVkIGludGVydmFsIChtZXNzZW5nZXIgdXNlcyB0aGlzKVxuICAgIHRoaXMuaGVhbHRoQ2hlY2tUaW1lb3V0UmVmID0gdGltZXJzLnNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgLy8gc2VuZCB0aGUgaGVhbHRoY2hlY2suLi4sIHNlcnZlciByZXBsaWVzIHdpdGggYSBoZWFsdGggY2hlY2sgZXZlbnRcbiAgICAgIGNvbnN0IGRhdGEgPSBbeyB0eXBlOiAnaGVhbHRoLmNoZWNrJywgY2xpZW50X2lkOiB0aGlzLmNsaWVudC5jbGllbnRJRCB9XTtcbiAgICAgIC8vIHRyeSB0byBzZW5kIG9uIHRoZSBjb25uZWN0aW9uXG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLndzPy5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICAvLyBlcnJvciB3aWxsIGFscmVhZHkgYmUgZGV0ZWN0ZWQgZWxzZXdoZXJlXG4gICAgICB9XG4gICAgfSwgdGhpcy5waW5nSW50ZXJ2YWwpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBzY2hlZHVsZUNvbm5lY3Rpb25DaGVjayAtIHNjaGVkdWxlcyBhIGNoZWNrIGZvciB0aW1lIGRpZmZlcmVuY2UgYmV0d2VlbiBsYXN0IHJlY2VpdmVkIGV2ZW50IGFuZCBub3cuXG4gICAqIElmIHRoZSBkaWZmZXJlbmNlIGlzIG1vcmUgdGhhbiAzNSBzZWNvbmRzLCBpdCBtZWFucyBvdXIgaGVhbHRoIGNoZWNrIGxvZ2ljIGhhcyBmYWlsZWQgYW5kIHdlYnNvY2tldCBuZWVkc1xuICAgKiB0byBiZSByZWNvbm5lY3RlZC5cbiAgICovXG4gIHNjaGVkdWxlQ29ubmVjdGlvbkNoZWNrID0gKCkgPT4ge1xuICAgIGNsZWFyVGltZW91dCh0aGlzLmNvbm5lY3Rpb25DaGVja1RpbWVvdXRSZWYpO1xuICAgIHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFJlZiA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5sYXN0RXZlbnQgJiZcbiAgICAgICAgbm93LmdldFRpbWUoKSAtIHRoaXMubGFzdEV2ZW50LmdldFRpbWUoKSA+IHRoaXMuY29ubmVjdGlvbkNoZWNrVGltZW91dFxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX2xvZygnc2NoZWR1bGVDb25uZWN0aW9uQ2hlY2sgLSBnb2luZyB0byByZWNvbm5lY3QnKTtcbiAgICAgICAgdGhpcy5fc2V0SGVhbHRoKGZhbHNlKTtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5jb25uZWN0aW9uQ2hlY2tUaW1lb3V0KTtcbiAgfTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRVc2VyRnJvbVRva2VuKHRva2VuOiBzdHJpbmcpIHtcbiAgY29uc3QgZnJhZ21lbnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcbiAgaWYgKGZyYWdtZW50cy5sZW5ndGggIT09IDMpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cbiAgY29uc3QgYjY0UGF5bG9hZCA9IGZyYWdtZW50c1sxXTtcbiAgY29uc3QgcGF5bG9hZCA9IGRlY29kZUJhc2U2NChiNjRQYXlsb2FkKTtcbiAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UocGF5bG9hZCk7XG4gIHJldHVybiBkYXRhLnVzZXJfaWQgYXMgc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuXG4vLyBiYXNlLTY0IGRlY29kZXIgdGhyb3dzIGV4Y2VwdGlvbiBpZiBlbmNvZGVkIHN0cmluZyBpcyBub3QgcGFkZGVkIGJ5ICc9JyB0byBtYWtlIHN0cmluZyBsZW5ndGhcbi8vIGluIG11bHRpcGxlcyBvZiA0LiBTbyBnb25uYSB1c2Ugb3VyIG93biBtZXRob2QgZm9yIHRoaXMgcHVycG9zZSB0byBrZWVwIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYmVhdGdhbW1pdC9iYXNlNjQtanMvYmxvYi9tYXN0ZXIvaW5kZXguanMjTDI2XG5jb25zdCBkZWNvZGVCYXNlNjQgPSAoczogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgY29uc3QgZSA9IHt9IGFzIHsgW2tleTogc3RyaW5nXTogbnVtYmVyIH0sXG4gICAgdyA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG4gICAgTCA9IHMubGVuZ3RoO1xuICBsZXQgaSxcbiAgICBiID0gMCxcbiAgICBjLFxuICAgIHgsXG4gICAgbCA9IDAsXG4gICAgYSxcbiAgICByID0gJyc7XG4gIGNvbnN0IEEgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyc7XG4gIGZvciAoaSA9IDA7IGkgPCA2NDsgaSsrKSB7XG4gICAgZVtBLmNoYXJBdChpKV0gPSBpO1xuICB9XG4gIGZvciAoeCA9IDA7IHggPCBMOyB4KyspIHtcbiAgICBjID0gZVtzLmNoYXJBdCh4KV07XG4gICAgYiA9IChiIDw8IDYpICsgYztcbiAgICBsICs9IDY7XG4gICAgd2hpbGUgKGwgPj0gOCkge1xuICAgICAgaWYgKChhID0gKGIgPj4+IChsIC09IDgpKSAmIDB4ZmYpIHx8IHggPCBMIC0gMikgciArPSB3KGEpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcjtcbn07XG4iLCJpbXBvcnQgeyBnZXRVc2VyRnJvbVRva2VuIH0gZnJvbSAnLi9zaWduaW5nJztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB0eXBlIHsgVG9rZW5PclByb3ZpZGVyLCBVc2VyV2l0aElkIH0gZnJvbSAnLi90eXBlcyc7XG5cbi8qKlxuICogVG9rZW5NYW5hZ2VyXG4gKlxuICogSGFuZGxlcyBhbGwgdGhlIG9wZXJhdGlvbnMgYXJvdW5kIHVzZXIgdG9rZW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBUb2tlbk1hbmFnZXIge1xuICBwcml2YXRlIGxvYWRUb2tlblByb21pc2U6IFByb21pc2U8c3RyaW5nPiB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIHR5cGU6ICdzdGF0aWMnIHwgJ3Byb3ZpZGVyJyA9ICdzdGF0aWMnO1xuICBwcml2YXRlIHJlYWRvbmx5IHNlY3JldD86IHN0cmluZztcbiAgcHJpdmF0ZSB0b2tlbj86IHN0cmluZztcbiAgcHJpdmF0ZSB0b2tlblByb3ZpZGVyPzogVG9rZW5PclByb3ZpZGVyO1xuICBwcml2YXRlIHVzZXI/OiBVc2VyV2l0aElkO1xuICBwcml2YXRlIGlzQW5vbnltb3VzPzogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihzZWNyZXQ/OiBzdHJpbmcpIHtcbiAgICB0aGlzLnNlY3JldCA9IHNlY3JldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHN0YXRpYyBzdHJpbmcgdG9rZW4gb3IgdG9rZW4gcHJvdmlkZXIuXG4gICAqIFRva2VuIHByb3ZpZGVyIHNob3VsZCByZXR1cm4gYSB0b2tlbiBzdHJpbmcgb3IgYSBwcm9taXNlIHdoaWNoIHJlc29sdmVzIHRvIHN0cmluZyB0b2tlbi5cbiAgICpcbiAgICogQHBhcmFtIHtUb2tlbk9yUHJvdmlkZXJ9IHRva2VuT3JQcm92aWRlciAtIHRoZSB0b2tlbiBvciB0b2tlbiBwcm92aWRlci5cbiAgICogQHBhcmFtIHtVc2VyUmVzcG9uc2V9IHVzZXIgLSB0aGUgdXNlciBvYmplY3QuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNBbm9ueW1vdXMgLSB3aGV0aGVyIHRoZSB1c2VyIGlzIGFub255bW91cyBvciBub3QuXG4gICAqL1xuICBzZXRUb2tlbk9yUHJvdmlkZXIgPSBhc3luYyAoXG4gICAgdG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICAgdXNlcjogVXNlcldpdGhJZCxcbiAgICBpc0Fub255bW91czogYm9vbGVhbixcbiAgKSA9PiB7XG4gICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICB0aGlzLmlzQW5vbnltb3VzID0gaXNBbm9ueW1vdXM7XG4gICAgdGhpcy52YWxpZGF0ZVRva2VuKHRva2VuT3JQcm92aWRlcik7XG5cbiAgICBpZiAoaXNGdW5jdGlvbih0b2tlbk9yUHJvdmlkZXIpKSB7XG4gICAgICB0aGlzLnRva2VuUHJvdmlkZXIgPSB0b2tlbk9yUHJvdmlkZXI7XG4gICAgICB0aGlzLnR5cGUgPSAncHJvdmlkZXInO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy50b2tlbiA9IHRva2VuT3JQcm92aWRlcjtcbiAgICAgIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuICAgIH1cblxuICAgIGF3YWl0IHRoaXMubG9hZFRva2VuKCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJlc2V0cyB0aGUgdG9rZW4gbWFuYWdlci5cbiAgICogVXNlZnVsIGZvciBjbGllbnQgZGlzY29ubmVjdGlvbiBvciBzd2l0Y2hpbmcgdXNlci5cbiAgICovXG4gIHJlc2V0ID0gKCkgPT4ge1xuICAgIHRoaXMudG9rZW4gPSB1bmRlZmluZWQ7XG4gICAgdGhpcy50b2tlblByb3ZpZGVyID0gdW5kZWZpbmVkO1xuICAgIHRoaXMudHlwZSA9ICdzdGF0aWMnO1xuICAgIHRoaXMudXNlciA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBudWxsO1xuICB9O1xuXG4gIC8vIFZhbGlkYXRlcyB0aGUgdXNlciB0b2tlbi5cbiAgdmFsaWRhdGVUb2tlbiA9ICh0b2tlbk9yUHJvdmlkZXI6IFRva2VuT3JQcm92aWRlcikgPT4ge1xuICAgIC8vIGFsbG93IGVtcHR5IHRva2VuIGZvciBhbm9uIHVzZXJcbiAgICBpZiAodGhpcy51c2VyICYmIHRoaXMuaXNBbm9ueW1vdXMgJiYgIXRva2VuT3JQcm92aWRlcikgcmV0dXJuO1xuXG4gICAgLy8gRG9uJ3QgYWxsb3cgZW1wdHkgdG9rZW4gZm9yIG5vbi1zZXJ2ZXIgc2lkZSBjbGllbnQuXG4gICAgaWYgKCF0aGlzLnNlY3JldCAmJiAhdG9rZW5PclByb3ZpZGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgdG9rZW4gY2FuIG5vdCBiZSBlbXB0eScpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdG9rZW5PclByb3ZpZGVyICE9PSAnc3RyaW5nJyAmJiAhaXNGdW5jdGlvbih0b2tlbk9yUHJvdmlkZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgdG9rZW4gc2hvdWxkIGVpdGhlciBiZSBhIHN0cmluZyBvciBhIGZ1bmN0aW9uJyk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB0b2tlbk9yUHJvdmlkZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBBbGxvdyBlbXB0eSB0b2tlbiBmb3IgYW5vbnltb3VzIHVzZXJzXG4gICAgICBpZiAodGhpcy5pc0Fub255bW91cyAmJiB0b2tlbk9yUHJvdmlkZXIgPT09ICcnKSByZXR1cm47XG5cbiAgICAgIGNvbnN0IHRva2VuVXNlcklkID0gZ2V0VXNlckZyb21Ub2tlbih0b2tlbk9yUHJvdmlkZXIpO1xuICAgICAgaWYgKFxuICAgICAgICB0b2tlbk9yUHJvdmlkZXIgIT0gbnVsbCAmJlxuICAgICAgICAodG9rZW5Vc2VySWQgPT0gbnVsbCB8fFxuICAgICAgICAgIHRva2VuVXNlcklkID09PSAnJyB8fFxuICAgICAgICAgICghdGhpcy5pc0Fub255bW91cyAmJiB0b2tlblVzZXJJZCAhPT0gdGhpcy51c2VyIS5pZCkpXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICd1c2VyVG9rZW4gZG9lcyBub3QgaGF2ZSBhIHVzZXJfaWQgb3IgaXMgbm90IG1hdGNoaW5nIHdpdGggdXNlci5pZCcsXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlc29sdmVzIHdoZW4gdG9rZW4gaXMgcmVhZHkuIFRoaXMgZnVuY3Rpb24gaXMgc2ltcGx5IHRvIGNoZWNrIGlmIGxvYWRUb2tlbiBpcyBpbiBwcm9ncmVzcywgaW4gd2hpY2hcbiAgLy8gY2FzZSBhIGZ1bmN0aW9uIHNob3VsZCB3YWl0LlxuICB0b2tlblJlYWR5ID0gKCkgPT4gdGhpcy5sb2FkVG9rZW5Qcm9taXNlO1xuXG4gIC8vIEZldGNoZXMgYSB0b2tlbiBmcm9tIHRva2VuUHJvdmlkZXIgZnVuY3Rpb24gYW5kIHNldHMgaW4gdG9rZW5NYW5hZ2VyLlxuICAvLyBJbiBjYXNlIG9mIHN0YXRpYyB0b2tlbiwgaXQgd2lsbCBzaW1wbHkgcmVzb2x2ZSB0byBzdGF0aWMgdG9rZW4uXG4gIGxvYWRUb2tlbiA9ICgpID0+IHtcbiAgICB0aGlzLmxvYWRUb2tlblByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy50eXBlID09PSAnc3RhdGljJykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSh0aGlzLnRva2VuIGFzIHN0cmluZyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLnRva2VuUHJvdmlkZXIgJiYgdHlwZW9mIHRoaXMudG9rZW5Qcm92aWRlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB0b2tlbiA9IGF3YWl0IHRoaXMudG9rZW5Qcm92aWRlcigpO1xuICAgICAgICAgIHRoaXMudmFsaWRhdGVUb2tlbih0b2tlbik7XG4gICAgICAgICAgdGhpcy50b2tlbiA9IHRva2VuO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChcbiAgICAgICAgICAgIG5ldyBFcnJvcihgQ2FsbCB0byB0b2tlblByb3ZpZGVyIGZhaWxlZCB3aXRoIG1lc3NhZ2U6ICR7ZX1gLCB7XG4gICAgICAgICAgICAgIGNhdXNlOiBlLFxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHRoaXMudG9rZW4pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIHRoaXMubG9hZFRva2VuUHJvbWlzZTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgY3VycmVudCB0b2tlblxuICBnZXRUb2tlbiA9ICgpID0+IHtcbiAgICBpZiAodGhpcy50b2tlbikge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXNlciAmJiAhdGhpcy50b2tlbikge1xuICAgICAgcmV0dXJuIHRoaXMudG9rZW47XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFVzZXIgdG9rZW4gaXMgbm90IHNldC4gRWl0aGVyIGNsaWVudC5jb25uZWN0VXNlciB3YXNuJ3QgY2FsbGVkIG9yIGNsaWVudC5kaXNjb25uZWN0IHdhcyBjYWxsZWRgLFxuICAgICk7XG4gIH07XG5cbiAgaXNTdGF0aWMgPSAoKSA9PiB0aGlzLnR5cGUgPT09ICdzdGF0aWMnO1xufVxuIiwiaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vLi4vbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IGdldExvY2F0aW9uSGludCA9IGFzeW5jIChcbiAgaGludFVybCA9IGBodHRwczovL2hpbnQuc3RyZWFtLWlvLXZpZGVvLmNvbS9gLFxuICB0aW1lb3V0ID0gMjAwMCxcbiAgbWF4QXR0ZW1wdHMgPSAzLFxuKTogUHJvbWlzZTxzdHJpbmc+ID0+IHtcbiAgY29uc3QgbG9nZ2VyID0gZ2V0TG9nZ2VyKFsnbG9jYXRpb24taGludCddKTtcblxuICBsZXQgYXR0ZW1wdCA9IDA7XG4gIGxldCBsb2NhdGlvbkhpbnQgPSAnRVJSJztcbiAgZG8ge1xuICAgIGNvbnN0IGFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGFib3J0Q29udHJvbGxlci5hYm9ydCgpLCB0aW1lb3V0KTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChoaW50VXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ0hFQUQnLFxuICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGF3c1BvcCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCd4LWFtei1jZi1wb3AnKSB8fCAnRVJSJztcbiAgICAgIGxvZ2dlcignZGVidWcnLCBgTG9jYXRpb24gaGVhZGVyOiAke2F3c1BvcH1gKTtcbiAgICAgIGxvY2F0aW9uSGludCA9IGF3c1BvcC5zdWJzdHJpbmcoMCwgMyk7IC8vIEFNUzEtUDIgLT4gQU1TXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBnZXQgbG9jYXRpb24gaGludCBmcm9tICR7aGludFVybH1gLCBlKTtcbiAgICAgIGxvY2F0aW9uSGludCA9ICdFUlInO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICB9XG4gIH0gd2hpbGUgKGxvY2F0aW9uSGludCA9PT0gJ0VSUicgJiYgKythdHRlbXB0IDwgbWF4QXR0ZW1wdHMpO1xuXG4gIHJldHVybiBsb2NhdGlvbkhpbnQ7XG59O1xuIiwiaW1wb3J0IGF4aW9zLCB7XG4gIEF4aW9zRXJyb3IsXG4gIEF4aW9zSW5zdGFuY2UsXG4gIEF4aW9zUmVxdWVzdENvbmZpZyxcbiAgQXhpb3NSZXNwb25zZSxcbn0gZnJvbSAnYXhpb3MnO1xuaW1wb3J0IGh0dHBzIGZyb20gJ2h0dHBzJztcbmltcG9ydCB7IFN0YWJsZVdTQ29ubmVjdGlvbiB9IGZyb20gJy4vY29ubmVjdGlvbic7XG5pbXBvcnQgeyBUb2tlbk1hbmFnZXIgfSBmcm9tICcuL3Rva2VuX21hbmFnZXInO1xuaW1wb3J0IHtcbiAgYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzLFxuICBnZW5lcmF0ZVVVSUR2NCxcbiAgaXNFcnJvclJlc3BvbnNlLFxuICBpc0Z1bmN0aW9uLFxuICBLbm93bkNvZGVzLFxuICByZW1vdmVDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnMsXG4gIHJldHJ5SW50ZXJ2YWwsXG4gIHNsZWVwLFxufSBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB7XG4gIEFsbENsaWVudEV2ZW50cyxcbiAgQWxsQ2xpZW50RXZlbnRUeXBlcyxcbiAgQVBJRXJyb3JSZXNwb25zZSxcbiAgQ2xpZW50RXZlbnRMaXN0ZW5lcixcbiAgQ29ubmVjdEFQSVJlc3BvbnNlLFxuICBFcnJvckZyb21SZXNwb25zZSxcbiAgTG9nZ2VyLFxuICBTdHJlYW1DbGllbnRPcHRpb25zLFxuICBTdHJlYW1WaWRlb0V2ZW50LFxuICBUb2tlbk9yUHJvdmlkZXIsXG4gIFVzZXIsXG4gIFVzZXJXaXRoSWQsXG59IGZyb20gJy4vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0TG9jYXRpb25IaW50IH0gZnJvbSAnLi9sb2NhdGlvbic7XG5pbXBvcnQge1xuICBDb25uZWN0ZWRFdmVudCxcbiAgQ3JlYXRlR3Vlc3RSZXF1ZXN0LFxuICBDcmVhdGVHdWVzdFJlc3BvbnNlLFxufSBmcm9tICcuLi8uLi9nZW4vY29vcmRpbmF0b3InO1xuaW1wb3J0IHsgbWFrZVNhZmVQcm9taXNlLCB0eXBlIFNhZmVQcm9taXNlIH0gZnJvbSAnLi4vLi4vaGVscGVycy9wcm9taXNlJztcbmltcG9ydCB7IGdldExvZ0xldmVsIH0gZnJvbSAnLi4vLi4vbG9nZ2VyJztcblxuZXhwb3J0IGNsYXNzIFN0cmVhbUNsaWVudCB7XG4gIF91c2VyPzogVXNlcldpdGhJZDtcbiAgYW5vbnltb3VzOiBib29sZWFuO1xuICBwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmU/OiBib29sZWFuO1xuICBheGlvc0luc3RhbmNlOiBBeGlvc0luc3RhbmNlO1xuICBiYXNlVVJMPzogc3RyaW5nO1xuICBicm93c2VyOiBib29sZWFuO1xuICBjbGllbnRJRD86IHN0cmluZztcbiAga2V5OiBzdHJpbmc7XG4gIGxpc3RlbmVyczogUGFydGlhbDxcbiAgICBSZWNvcmQ8QWxsQ2xpZW50RXZlbnRUeXBlcywgQ2xpZW50RXZlbnRMaXN0ZW5lcjxhbnk+W10gfCB1bmRlZmluZWQ+XG4gID4gPSB7fTtcbiAgbG9nZ2VyOiBMb2dnZXI7XG5cbiAgcHJpdmF0ZSBsb2NhdGlvbkhpbnQ6IFByb21pc2U8c3RyaW5nPiB8IHVuZGVmaW5lZDtcblxuICBub2RlOiBib29sZWFuO1xuICBvcHRpb25zOiBTdHJlYW1DbGllbnRPcHRpb25zO1xuICBzZWNyZXQ/OiBzdHJpbmc7XG4gIGNvbm5lY3RVc2VyVGFzazogQ29ubmVjdEFQSVJlc3BvbnNlIHwgbnVsbDtcbiAgdG9rZW5NYW5hZ2VyOiBUb2tlbk1hbmFnZXI7XG4gIHVzZXI/OiBVc2VyV2l0aElkO1xuICBwcml2YXRlIGNhY2hlZFVzZXJBZ2VudD86IHN0cmluZztcbiAgdXNlcklEPzogc3RyaW5nO1xuICB3c0Jhc2VVUkw/OiBzdHJpbmc7XG4gIHdzQ29ubmVjdGlvbjogU3RhYmxlV1NDb25uZWN0aW9uIHwgbnVsbDtcbiAgcHJpdmF0ZSB3c1Byb21pc2VTYWZlOiBTYWZlUHJvbWlzZTxDb25uZWN0ZWRFdmVudCB8IHVuZGVmaW5lZD4gfCBudWxsO1xuICBjb25zZWN1dGl2ZUZhaWx1cmVzOiBudW1iZXI7XG4gIGRlZmF1bHRXU1RpbWVvdXQ6IG51bWJlcjtcbiAgcmVzb2x2ZUNvbm5lY3Rpb25JZD86IEZ1bmN0aW9uO1xuICByZWplY3RDb25uZWN0aW9uSWQ/OiBGdW5jdGlvbjtcbiAgcHJpdmF0ZSBjb25uZWN0aW9uSWRQcm9taXNlU2FmZT86IFNhZmVQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD47XG4gIGd1ZXN0VXNlckNyZWF0ZVByb21pc2U/OiBQcm9taXNlPENyZWF0ZUd1ZXN0UmVzcG9uc2U+O1xuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgY2xpZW50LlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0gdGhlIGFwaSBrZXlcbiAgICogQHBhcmFtIHtTdHJlYW1DbGllbnRPcHRpb25zfSBbb3B0aW9uc10gLSBhZGRpdGlvbmFsIG9wdGlvbnMsIGhlcmUgeW91IGNhbiBwYXNzIGN1c3RvbSBvcHRpb25zIHRvIGF4aW9zIGluc3RhbmNlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5zZWNyZXRdIC0gdGhlIGFwaSBzZWNyZXRcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5icm93c2VyXSAtIGVuZm9yY2UgdGhlIGNsaWVudCB0byBiZSBpbiBicm93c2VyIG1vZGVcbiAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy53YXJtVXBdIC0gZGVmYXVsdCB0byBmYWxzZSwgaWYgdHJ1ZSwgY2xpZW50IHdpbGwgb3BlbiBhIGNvbm5lY3Rpb24gYXMgc29vbiBhcyBwb3NzaWJsZSB0byBzcGVlZCB1cCBmb2xsb3dpbmcgcmVxdWVzdHNcbiAgICogQHBhcmFtIHtMb2dnZXJ9IFtvcHRpb25zLkxvZ2dlcl0gLSBjdXN0b20gbG9nZ2VyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0aW9ucy50aW1lb3V0XSAtIGRlZmF1bHQgdG8gMzAwMFxuICAgKiBAcGFyYW0ge2h0dHBzQWdlbnR9IFtvcHRpb25zLmh0dHBzQWdlbnRdIC0gY3VzdG9tIGh0dHBzQWdlbnQsIGluIG5vZGUgaXQncyBkZWZhdWx0IHRvIGh0dHBzLmFnZW50KClcbiAgICovXG4gIGNvbnN0cnVjdG9yKGtleTogc3RyaW5nLCBvcHRpb25zPzogU3RyZWFtQ2xpZW50T3B0aW9ucykge1xuICAgIC8vIHNldCB0aGUga2V5XG4gICAgdGhpcy5rZXkgPSBrZXk7XG5cbiAgICAvLyBzZXQgdGhlIHNlY3JldFxuICAgIHRoaXMuc2VjcmV0ID0gb3B0aW9ucz8uc2VjcmV0O1xuXG4gICAgLy8gc2V0IHRoZSBvcHRpb25zLi4uIGFuZCBmaWd1cmUgb3V0IGRlZmF1bHRzLi4uXG4gICAgY29uc3QgaW5wdXRPcHRpb25zID0gb3B0aW9uc1xuICAgICAgPyBvcHRpb25zXG4gICAgICA6ICh7XG4gICAgICAgICAgYnJvd3NlcjogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcsXG4gICAgICAgIH0gYXMgUGFydGlhbDxTdHJlYW1DbGllbnRPcHRpb25zPik7XG5cbiAgICB0aGlzLmJyb3dzZXIgPSBpbnB1dE9wdGlvbnMuYnJvd3NlciB8fCB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcbiAgICB0aGlzLm5vZGUgPSAhdGhpcy5icm93c2VyO1xuXG4gICAgaWYgKHRoaXMuYnJvd3Nlcikge1xuICAgICAgdGhpcy5sb2NhdGlvbkhpbnQgPSBnZXRMb2NhdGlvbkhpbnQoXG4gICAgICAgIG9wdGlvbnM/LmxvY2F0aW9uSGludFVybCxcbiAgICAgICAgb3B0aW9ucz8ubG9jYXRpb25IaW50VGltZW91dCxcbiAgICAgICAgb3B0aW9ucz8ubG9jYXRpb25IaW50TWF4QXR0ZW1wdHMsXG4gICAgICApO1xuICAgIH1cblxuICAgIHRoaXMub3B0aW9ucyA9IHtcbiAgICAgIHRpbWVvdXQ6IDUwMDAsXG4gICAgICB3aXRoQ3JlZGVudGlhbHM6IGZhbHNlLCAvLyBtYWtpbmcgc3VyZSBjb29raWVzIGFyZSBub3Qgc2VudFxuICAgICAgLi4uaW5wdXRPcHRpb25zLFxuICAgIH07XG5cbiAgICBpZiAodGhpcy5ub2RlICYmICF0aGlzLm9wdGlvbnMuaHR0cHNBZ2VudCkge1xuICAgICAgdGhpcy5vcHRpb25zLmh0dHBzQWdlbnQgPSBuZXcgaHR0cHMuQWdlbnQoe1xuICAgICAgICBrZWVwQWxpdmU6IHRydWUsXG4gICAgICAgIGtlZXBBbGl2ZU1zZWNzOiAzMDAwLFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5zZXRCYXNlVVJMKFxuICAgICAgdGhpcy5vcHRpb25zLmJhc2VVUkwgfHwgJ2h0dHBzOi8vdmlkZW8uc3RyZWFtLWlvLWFwaS5jb20vdmlkZW8nLFxuICAgICk7XG5cbiAgICB0aGlzLmF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgYmFzZVVSTDogdGhpcy5iYXNlVVJMLFxuICAgIH0pO1xuXG4gICAgLy8gV1MgY29ubmVjdGlvbiBpcyBpbml0aWFsaXplZCB3aGVuIHNldFVzZXIgaXMgY2FsbGVkXG4gICAgdGhpcy53c0Nvbm5lY3Rpb24gPSBudWxsO1xuICAgIHRoaXMud3NQcm9taXNlU2FmZSA9IG51bGw7XG4gICAgdGhpcy5jb25uZWN0VXNlclRhc2sgPSBudWxsO1xuXG4gICAgLy8gbWFwcGluZyBiZXR3ZWVuIGNoYW5uZWwgZ3JvdXBzIGFuZCBjb25maWdzXG4gICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcbiAgICB0aGlzLnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSA9XG4gICAgICB0aGlzLm9wdGlvbnM/LnBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZTtcblxuICAgIC8vIElmIGl0IGlzIGEgc2VydmVyLXNpZGUgY2xpZW50LCB0aGVuIGxldHMgaW5pdGlhbGl6ZSB0aGUgdG9rZW5NYW5hZ2VyLCBzaW5jZSB0b2tlbiB3aWxsIGJlXG4gICAgLy8gZ2VuZXJhdGVkIGZyb20gc2VjcmV0LlxuICAgIHRoaXMudG9rZW5NYW5hZ2VyID0gbmV3IFRva2VuTWFuYWdlcih0aGlzLnNlY3JldCk7XG4gICAgdGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID0gMDtcblxuICAgIHRoaXMuZGVmYXVsdFdTVGltZW91dCA9IHRoaXMub3B0aW9ucy5kZWZhdWx0V3NUaW1lb3V0ID8/IDE1MDAwO1xuXG4gICAgdGhpcy5sb2dnZXIgPSBpc0Z1bmN0aW9uKGlucHV0T3B0aW9ucy5sb2dnZXIpXG4gICAgICA/IGlucHV0T3B0aW9ucy5sb2dnZXJcbiAgICAgIDogKCkgPT4gbnVsbDtcbiAgfVxuXG4gIGdldEF1dGhUeXBlID0gKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLmFub255bW91cyA/ICdhbm9ueW1vdXMnIDogJ2p3dCc7XG4gIH07XG5cbiAgc2V0QmFzZVVSTCA9IChiYXNlVVJMOiBzdHJpbmcpID0+IHtcbiAgICB0aGlzLmJhc2VVUkwgPSBiYXNlVVJMO1xuICAgIHRoaXMud3NCYXNlVVJMID0gdGhpcy5iYXNlVVJMXG4gICAgICAucmVwbGFjZSgnaHR0cCcsICd3cycpXG4gICAgICAucmVwbGFjZSgnOjMwMzAnLCAnOjg4MDAnKTtcbiAgfTtcblxuICBnZXRMb2NhdGlvbkhpbnQgPSBhc3luYyAoXG4gICAgaGludFVybD86IHN0cmluZyxcbiAgICB0aW1lb3V0PzogbnVtYmVyLFxuICApOiBQcm9taXNlPHN0cmluZz4gPT4ge1xuICAgIGNvbnN0IGhpbnQgPSBhd2FpdCB0aGlzLmxvY2F0aW9uSGludDtcbiAgICBpZiAoIWhpbnQgfHwgaGludCA9PT0gJ0VSUicpIHtcbiAgICAgIHRoaXMubG9jYXRpb25IaW50ID0gZ2V0TG9jYXRpb25IaW50KFxuICAgICAgICBoaW50VXJsID8/IHRoaXMub3B0aW9ucy5sb2NhdGlvbkhpbnRVcmwsXG4gICAgICAgIHRpbWVvdXQgPz8gdGhpcy5vcHRpb25zLmxvY2F0aW9uSGludFRpbWVvdXQsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHRoaXMubG9jYXRpb25IaW50O1xuICAgIH1cbiAgICByZXR1cm4gaGludDtcbiAgfTtcblxuICBfZ2V0Q29ubmVjdGlvbklEID0gKCkgPT4gdGhpcy53c0Nvbm5lY3Rpb24/LmNvbm5lY3Rpb25JRDtcblxuICBfaGFzQ29ubmVjdGlvbklEID0gKCkgPT4gQm9vbGVhbih0aGlzLl9nZXRDb25uZWN0aW9uSUQoKSk7XG5cbiAgLyoqXG4gICAqIGNvbm5lY3RVc2VyIC0gU2V0IHRoZSBjdXJyZW50IHVzZXIgYW5kIG9wZW4gYSBXZWJTb2NrZXQgY29ubmVjdGlvblxuICAgKlxuICAgKiBAcGFyYW0gdXNlciBEYXRhIGFib3V0IHRoaXMgdXNlci4gSUUge25hbWU6IFwiam9oblwifVxuICAgKiBAcGFyYW0ge1Rva2VuT3JQcm92aWRlcn0gdG9rZW5PclByb3ZpZGVyIFRva2VuIG9yIHByb3ZpZGVyXG4gICAqXG4gICAqIEByZXR1cm4ge0Nvbm5lY3RBUElSZXNwb25zZX0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIHNldHVwXG4gICAqL1xuICBjb25uZWN0VXNlciA9IGFzeW5jIChcbiAgICB1c2VyOiBVc2VyV2l0aElkLFxuICAgIHRva2VuT3JQcm92aWRlcjogVG9rZW5PclByb3ZpZGVyLFxuICApOiBDb25uZWN0QVBJUmVzcG9uc2UgPT4ge1xuICAgIGlmICghdXNlci5pZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJpZFwiIGZpZWxkIG9uIHRoZSB1c2VyIGlzIG1pc3NpbmcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsaW5nIGNvbm5lY3RVc2VyIG11bHRpcGxlIHRpbWVzIGlzIHBvdGVudGlhbGx5IHRoZSByZXN1bHQgb2YgYSAgYmFkIGludGVncmF0aW9uLCBob3dldmVyLFxuICAgICAqIElmIHRoZSB1c2VyIGlkIHJlbWFpbnMgdGhlIHNhbWUgd2UgZG9uJ3QgdGhyb3cgZXJyb3JcbiAgICAgKi9cbiAgICBpZiAodGhpcy51c2VySUQgPT09IHVzZXIuaWQgJiYgdGhpcy5jb25uZWN0VXNlclRhc2spIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnd2FybicsXG4gICAgICAgICdDb25zZWN1dGl2ZSBjYWxscyB0byBjb25uZWN0VXNlciBpcyBkZXRlY3RlZCwgaWRlYWxseSB5b3Ugc2hvdWxkIG9ubHkgY2FsbCB0aGlzIGZ1bmN0aW9uIG9uY2UgaW4geW91ciBhcHAuJyxcbiAgICAgICk7XG4gICAgICByZXR1cm4gdGhpcy5jb25uZWN0VXNlclRhc2s7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMudXNlcklEKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdVc2UgY2xpZW50LmRpc2Nvbm5lY3QoKSBiZWZvcmUgdHJ5aW5nIHRvIGNvbm5lY3QgYXMgYSBkaWZmZXJlbnQgdXNlci4gY29ubmVjdFVzZXIgd2FzIGNhbGxlZCB0d2ljZS4nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAoKHRoaXMuc2VjcmV0IHx8IHRoaXMubm9kZSkgJiYgIXRoaXMub3B0aW9ucy5hbGxvd1NlcnZlclNpZGVDb25uZWN0KSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICAnUGxlYXNlIGRvIG5vdCB1c2UgY29ubmVjdFVzZXIgc2VydmVyIHNpZGUuIFVzZSBvdXIgQHN0cmVhbS1pby9ub2RlLXNkayBpbnN0ZWFkOiBodHRwczovL2dldHN0cmVhbS5pby92aWRlby9kb2NzL2FwaS8nLFxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyB3ZSBnZW5lcmF0ZSB0aGUgY2xpZW50IGlkIGNsaWVudCBzaWRlXG4gICAgdGhpcy51c2VySUQgPSB1c2VyLmlkO1xuICAgIHRoaXMuYW5vbnltb3VzID0gZmFsc2U7XG4gICAgYXdhaXQgdGhpcy50b2tlbk1hbmFnZXIuc2V0VG9rZW5PclByb3ZpZGVyKHRva2VuT3JQcm92aWRlciwgdXNlciwgZmFsc2UpO1xuICAgIHRoaXMuX3NldFVzZXIodXNlcik7XG5cbiAgICB0aGlzLmNvbm5lY3RVc2VyVGFzayA9IHRoaXMub3BlbkNvbm5lY3Rpb24oKTtcblxuICAgIHRyeSB7XG4gICAgICBhZGRDb25uZWN0aW9uRXZlbnRMaXN0ZW5lcnModGhpcy51cGRhdGVOZXR3b3JrQ29ubmVjdGlvblN0YXR1cyk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5jb25uZWN0VXNlclRhc2s7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBpZiAodGhpcy5wZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUpIHtcbiAgICAgICAgLy8gY2xlYW51cCBjbGllbnQgdG8gYWxsb3cgdGhlIHVzZXIgdG8gcmV0cnkgY29ubmVjdFVzZXIgYWdhaW5cbiAgICAgICAgYXdhaXQgdGhpcy5jbG9zZUNvbm5lY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGlzY29ubmVjdFVzZXIoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgX3NldFVzZXIgPSAodXNlcjogVXNlcldpdGhJZCkgPT4ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgb25lIGlzIHVzZWQgYnkgdGhlIGZyb250ZW5kLiBUaGlzIGlzIGEgY29weSBvZiB0aGUgY3VycmVudCB1c2VyIG9iamVjdCBzdG9yZWQgb24gYmFja2VuZC5cbiAgICAgKiBJdCBjb250YWlucyByZXNlcnZlZCBwcm9wZXJ0aWVzIGFuZCBvd24gdXNlciBwcm9wZXJ0aWVzIHdoaWNoIGFyZSBub3QgcHJlc2VudCBpbiBgdGhpcy5fdXNlcmAuXG4gICAgICovXG4gICAgdGhpcy51c2VyID0gdXNlcjtcbiAgICB0aGlzLnVzZXJJRCA9IHVzZXIuaWQ7XG4gICAgLy8gdGhpcyBvbmUgaXMgYWN0dWFsbHkgdXNlZCBmb3IgcmVxdWVzdHMuIFRoaXMgaXMgYSBjb3B5IG9mIGN1cnJlbnQgdXNlciBwcm92aWRlZCB0byBgY29ubmVjdFVzZXJgIGZ1bmN0aW9uLlxuICAgIHRoaXMuX3VzZXIgPSB7IC4uLnVzZXIgfTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uLCB3aXRob3V0IHJlbW92aW5nIHRoZSB1c2VyIHNldCBvbiBjbGllbnQuXG4gICAqIGNsaWVudC5jbG9zZUNvbm5lY3Rpb24gd2lsbCBub3QgdHJpZ2dlciBkZWZhdWx0IGF1dG8tcmV0cnkgbWVjaGFuaXNtIGZvciByZWNvbm5lY3Rpb24uIFlvdSBuZWVkXG4gICAqIHRvIGNhbGwgY2xpZW50Lm9wZW5Db25uZWN0aW9uIHRvIHJlY29ubmVjdCB0byB3ZWJzb2NrZXQuXG4gICAqXG4gICAqIFRoaXMgaXMgbWFpbmx5IHVzZWZ1bCBvbiBtb2JpbGUgc2lkZS4gWW91IGNhbiBvbmx5IHJlY2VpdmUgcHVzaCBub3RpZmljYXRpb25zXG4gICAqIGlmIHlvdSBkb24ndCBoYXZlIGFjdGl2ZSB3ZWJzb2NrZXQgY29ubmVjdGlvbi5cbiAgICogU28gd2hlbiB5b3VyIGFwcCBnb2VzIHRvIGJhY2tncm91bmQsIHlvdSBjYW4gY2FsbCBgY2xpZW50LmNsb3NlQ29ubmVjdGlvbmAuXG4gICAqIEFuZCB3aGVuIGFwcCBjb21lcyBiYWNrIHRvIGZvcmVncm91bmQsIGNhbGwgYGNsaWVudC5vcGVuQ29ubmVjdGlvbmAuXG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IE1heCBudW1iZXIgb2YgbXMsIHRvIHdhaXQgZm9yIGNsb3NlIGV2ZW50IG9mIHdlYnNvY2tldCwgYmVmb3JlIGZvcmNlZnVsbHkgYXNzdW1pbmcgc3VjY2VzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBjbG9zZUNvbm5lY3Rpb24gPSBhc3luYyAodGltZW91dD86IG51bWJlcikgPT4ge1xuICAgIGF3YWl0IHRoaXMud3NDb25uZWN0aW9uPy5kaXNjb25uZWN0KHRpbWVvdXQpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFdlYlNvY2tldCBjb25uZWN0aW9uIHdpdGggdGhlIGN1cnJlbnQgdXNlci4gUmV0dXJucyBlbXB0eSBwcm9taXNlLCBpZiB0aGVyZSBpcyBhbiBhY3RpdmUgY29ubmVjdGlvblxuICAgKi9cbiAgb3BlbkNvbm5lY3Rpb24gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnVzZXJJRCkge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICdVc2VyV2l0aElkIGlzIG5vdCBzZXQgb24gY2xpZW50LCB1c2UgY2xpZW50LmNvbm5lY3RVc2VyIG9yIGNsaWVudC5jb25uZWN0QW5vbnltb3VzVXNlciBpbnN0ZWFkJyxcbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3Qgd3NQcm9taXNlID0gdGhpcy53c1Byb21pc2VTYWZlPy4oKTtcbiAgICBpZiAodGhpcy53c0Nvbm5lY3Rpb24/LmlzQ29ubmVjdGluZyAmJiB3c1Byb21pc2UpIHtcbiAgICAgIHRoaXMubG9nZ2VyKFxuICAgICAgICAnaW5mbycsXG4gICAgICAgICdjbGllbnQ6b3BlbkNvbm5lY3Rpb24oKSAtIGNvbm5lY3Rpb24gYWxyZWFkeSBpbiBwcm9ncmVzcycsXG4gICAgICApO1xuICAgICAgcmV0dXJuIGF3YWl0IHdzUHJvbWlzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy53c0Nvbm5lY3Rpb24/LmlzSGVhbHRoeSAmJiB0aGlzLl9oYXNDb25uZWN0aW9uSUQoKSkge1xuICAgICAgdGhpcy5sb2dnZXIoXG4gICAgICAgICdpbmZvJyxcbiAgICAgICAgJ2NsaWVudDpvcGVuQ29ubmVjdGlvbigpIC0gb3BlbkNvbm5lY3Rpb24gY2FsbGVkIHR3aWNlLCBoZWFsdGh5IGNvbm5lY3Rpb24gYWxyZWFkeSBleGlzdHMnLFxuICAgICAgKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSgpO1xuXG4gICAgdGhpcy5jbGllbnRJRCA9IGAke3RoaXMudXNlcklEfS0tJHtnZW5lcmF0ZVVVSUR2NCgpfWA7XG4gICAgY29uc3QgbmV3V3NQcm9taXNlID0gdGhpcy5jb25uZWN0KCk7XG4gICAgdGhpcy53c1Byb21pc2VTYWZlID0gbWFrZVNhZmVQcm9taXNlKG5ld1dzUHJvbWlzZSk7XG4gICAgcmV0dXJuIGF3YWl0IG5ld1dzUHJvbWlzZTtcbiAgfTtcblxuICAvKipcbiAgICogRGlzY29ubmVjdHMgdGhlIHdlYnNvY2tldCBhbmQgcmVtb3ZlcyB0aGUgdXNlciBmcm9tIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHRpbWVvdXQgTWF4IG51bWJlciBvZiBtcywgdG8gd2FpdCBmb3IgY2xvc2UgZXZlbnQgb2Ygd2Vic29ja2V0LCBiZWZvcmUgZm9yY2VmdWxseSBhc3N1bWluZyBzdWNjZXNzZnVsIGRpc2Nvbm5lY3Rpb24uXG4gICAqICAgICAgICAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9DbG9zZUV2ZW50XG4gICAqL1xuICBkaXNjb25uZWN0VXNlciA9IGFzeW5jICh0aW1lb3V0PzogbnVtYmVyKSA9PiB7XG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnY2xpZW50OmRpc2Nvbm5lY3QoKSAtIERpc2Nvbm5lY3RpbmcgdGhlIGNsaWVudCcpO1xuXG4gICAgLy8gcmVtb3ZlIHRoZSB1c2VyIHNwZWNpZmljIGZpZWxkc1xuICAgIGRlbGV0ZSB0aGlzLnVzZXI7XG4gICAgZGVsZXRlIHRoaXMuX3VzZXI7XG4gICAgZGVsZXRlIHRoaXMudXNlcklEO1xuXG4gICAgdGhpcy5hbm9ueW1vdXMgPSBmYWxzZTtcblxuICAgIGF3YWl0IHRoaXMuY2xvc2VDb25uZWN0aW9uKHRpbWVvdXQpO1xuICAgIHJlbW92ZUNvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLnVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzKTtcblxuICAgIHRoaXMudG9rZW5NYW5hZ2VyLnJlc2V0KCk7XG5cbiAgICB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VTYWZlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVqZWN0Q29ubmVjdGlvbklkID0gdW5kZWZpbmVkO1xuICAgIHRoaXMucmVzb2x2ZUNvbm5lY3Rpb25JZCA9IHVuZGVmaW5lZDtcbiAgfTtcblxuICBjb25uZWN0R3Vlc3RVc2VyID0gYXN5bmMgKHVzZXI6IFVzZXIgJiB7IHR5cGU6ICdndWVzdCcgfSkgPT4ge1xuICAgIHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSA9IHRoaXMuZG9BeGlvc1JlcXVlc3Q8XG4gICAgICBDcmVhdGVHdWVzdFJlc3BvbnNlLFxuICAgICAgQ3JlYXRlR3Vlc3RSZXF1ZXN0XG4gICAgPigncG9zdCcsICcvZ3Vlc3QnLCB7IHVzZXIgfSwgeyBwdWJsaWNFbmRwb2ludDogdHJ1ZSB9KTtcblxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5ndWVzdFVzZXJDcmVhdGVQcm9taXNlO1xuICAgIHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZS5maW5hbGx5KFxuICAgICAgKCkgPT4gKHRoaXMuZ3Vlc3RVc2VyQ3JlYXRlUHJvbWlzZSA9IHVuZGVmaW5lZCksXG4gICAgKTtcblxuICAgIHJldHVybiB0aGlzLmNvbm5lY3RVc2VyKHJlc3BvbnNlLnVzZXIsIHJlc3BvbnNlLmFjY2Vzc190b2tlbik7XG4gIH07XG5cbiAgLyoqXG4gICAqIGNvbm5lY3RBbm9ueW1vdXNVc2VyIC0gU2V0IGFuIGFub255bW91cyB1c2VyIGFuZCBvcGVuIGEgV2ViU29ja2V0IGNvbm5lY3Rpb25cbiAgICovXG4gIGNvbm5lY3RBbm9ueW1vdXNVc2VyID0gYXN5bmMgKFxuICAgIHVzZXI6IFVzZXJXaXRoSWQsXG4gICAgdG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICkgPT4ge1xuICAgIGFkZENvbm5lY3Rpb25FdmVudExpc3RlbmVycyh0aGlzLnVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzKTtcbiAgICB0aGlzLl9zZXR1cENvbm5lY3Rpb25JZFByb21pc2UoKTtcblxuICAgIHRoaXMuYW5vbnltb3VzID0gdHJ1ZTtcbiAgICBhd2FpdCB0aGlzLnRva2VuTWFuYWdlci5zZXRUb2tlbk9yUHJvdmlkZXIodG9rZW5PclByb3ZpZGVyLCB1c2VyLCB0cnVlKTtcblxuICAgIHRoaXMuX3NldFVzZXIodXNlcik7XG4gICAgLy8gc29tZSBlbmRwb2ludHMgcmVxdWlyZSBhIGNvbm5lY3Rpb25faWQgdG8gYmUgcmVzb2x2ZWQuXG4gICAgLy8gYXMgYW5vbnltb3VzIHVzZXJzIGFyZW4ndCBhbGxvd2VkIHRvIG9wZW4gV1MgY29ubmVjdGlvbnMsIHdlIGp1c3RcbiAgICAvLyByZXNvbHZlIHRoZSBjb25uZWN0aW9uX2lkIGhlcmUuXG4gICAgdGhpcy5yZXNvbHZlQ29ubmVjdGlvbklkPy4oKTtcbiAgfTtcblxuICAvKipcbiAgICogb24gLSBMaXN0ZW4gdG8gZXZlbnRzIG9uIGFsbCBjaGFubmVscyBhbmQgdXNlcnMgeW91ciB3YXRjaGluZ1xuICAgKlxuICAgKiBjbGllbnQub24oJ21lc3NhZ2UubmV3JywgZXZlbnQgPT4ge2NvbnNvbGUubG9nKFwibXkgbmV3IG1lc3NhZ2VcIiwgZXZlbnQsIGNoYW5uZWwuc3RhdGUubWVzc2FnZXMpfSlcbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgZXZlbnQgdHlwZSB0byBsaXN0ZW4gZm9yIChvcHRpb25hbClcbiAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBjYWxsXG4gICAqXG4gICAqIEByZXR1cm4gIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCwgd2hlbiBjYWxsZWQsIHVuc3Vic2NyaWJlcyB0aGUgZXZlbnQgaGFuZGxlci5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBjYWxsYmFjazogQ2xpZW50RXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgaWYgKCF0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdKSB7XG4gICAgICB0aGlzLmxpc3RlbmVyc1tldmVudE5hbWVdID0gW107XG4gICAgfVxuXG4gICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgYEFkZGluZyBsaXN0ZW5lciBmb3IgJHtldmVudE5hbWV9IGV2ZW50YCk7XG4gICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXT8ucHVzaChjYWxsYmFjayBhcyBDbGllbnRFdmVudExpc3RlbmVyPGFueT4pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB0aGlzLm9mZihldmVudE5hbWUsIGNhbGxiYWNrKTtcbiAgICB9O1xuICB9O1xuXG4gIC8qKlxuICAgKiBvZmYgLSBSZW1vdmUgdGhlIGV2ZW50IGhhbmRsZXJcbiAgICovXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIGlmICghdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSkge1xuICAgICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IFtdO1xuICAgIH1cblxuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBSZW1vdmluZyBsaXN0ZW5lciBmb3IgJHtldmVudE5hbWV9IGV2ZW50YCk7XG4gICAgdGhpcy5saXN0ZW5lcnNbZXZlbnROYW1lXSA9IHRoaXMubGlzdGVuZXJzW2V2ZW50TmFtZV0/LmZpbHRlcihcbiAgICAgICh2YWx1ZSkgPT4gdmFsdWUgIT09IGNhbGxiYWNrLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHNldHMgdXAgdGhlIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZVxuICAgKi9cbiAgX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSA9ICgpID0+IHtcbiAgICAvKiogYSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgb25jZSBjb25uZWN0aW9uIGlkIGlzIHNldCAqL1xuICAgIHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZVNhZmUgPSBtYWtlU2FmZVByb21pc2UoXG4gICAgICBuZXcgUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgdGhpcy5yZXNvbHZlQ29ubmVjdGlvbklkID0gcmVzb2x2ZTtcbiAgICAgICAgdGhpcy5yZWplY3RDb25uZWN0aW9uSWQgPSByZWplY3Q7XG4gICAgICB9KSxcbiAgICApO1xuICB9O1xuXG4gIGdldCBjb25uZWN0aW9uSWRQcm9taXNlKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VTYWZlPy4oKTtcbiAgfVxuXG4gIGdldCBpc0Nvbm5lY3Rpb25Jc1Byb21pc2VQZW5kaW5nKCkge1xuICAgIHJldHVybiB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2VTYWZlPy5jaGVja1BlbmRpbmcoKSA/PyBmYWxzZTtcbiAgfVxuXG4gIGdldCB3c1Byb21pc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMud3NQcm9taXNlU2FmZT8uKCk7XG4gIH1cblxuICBfbG9nQXBpUmVxdWVzdCA9IChcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YTogdW5rbm93bixcbiAgICBjb25maWc6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHtcbiAgICAgIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgbWF4Qm9keUxlbmd0aD86IG51bWJlciB9O1xuICAgIH0sXG4gICkgPT4ge1xuICAgIGlmIChnZXRMb2dMZXZlbCgpICE9PSAndHJhY2UnKSByZXR1cm47XG4gICAgdGhpcy5sb2dnZXIoJ3RyYWNlJywgYGNsaWVudDogJHt0eXBlfSAtIFJlcXVlc3QgLSAke3VybH1gLCB7XG4gICAgICBwYXlsb2FkOiBkYXRhLFxuICAgICAgY29uZmlnLFxuICAgIH0pO1xuICB9O1xuXG4gIF9sb2dBcGlSZXNwb25zZSA9IDxUPihcbiAgICB0eXBlOiBzdHJpbmcsXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8VD4sXG4gICkgPT4ge1xuICAgIGlmIChnZXRMb2dMZXZlbCgpICE9PSAndHJhY2UnKSByZXR1cm47XG4gICAgdGhpcy5sb2dnZXIoXG4gICAgICAndHJhY2UnLFxuICAgICAgYGNsaWVudDoke3R5cGV9IC0gUmVzcG9uc2UgLSB1cmw6ICR7dXJsfSA+IHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gLFxuICAgICAge1xuICAgICAgICByZXNwb25zZSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBfbG9nQXBpRXJyb3IgPSAodHlwZTogc3RyaW5nLCB1cmw6IHN0cmluZywgZXJyb3I6IHVua25vd24pID0+IHtcbiAgICB0aGlzLmxvZ2dlcignZXJyb3InLCBgY2xpZW50OiR7dHlwZX0gLSBFcnJvciAtIHVybDogJHt1cmx9YCwge1xuICAgICAgdXJsLFxuICAgICAgZXJyb3IsXG4gICAgfSk7XG4gIH07XG5cbiAgZG9BeGlvc1JlcXVlc3QgPSBhc3luYyA8VCwgRCA9IHVua25vd24+KFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhPzogRCxcbiAgICBvcHRpb25zOiBBeGlvc1JlcXVlc3RDb25maWcgJiB7XG4gICAgICBjb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcgJiB7IG1heEJvZHlMZW5ndGg/OiBudW1iZXIgfTtcbiAgICB9ICYgeyBwdWJsaWNFbmRwb2ludD86IGJvb2xlYW4gfSA9IHt9LFxuICApOiBQcm9taXNlPFQ+ID0+IHtcbiAgICBpZiAoIW9wdGlvbnMucHVibGljRW5kcG9pbnQpIHtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgdGhpcy50b2tlbk1hbmFnZXIudG9rZW5SZWFkeSgpLFxuICAgICAgICB0aGlzLmd1ZXN0VXNlckNyZWF0ZVByb21pc2UsXG4gICAgICBdKTtcbiAgICAgIC8vIHdlIG5lZWQgdG8gd2FpdCBmb3IgcHJlc2VuY2Ugb2YgY29ubmVjdGlvbiBpZCBiZWZvcmUgbWFraW5nIHJlcXVlc3RzXG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3Rpb25JZFByb21pc2U7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgLy8gaW4gY2FzZSBjb25uZWN0aW9uIGlkIHdhcyByZWplY3RlZFxuICAgICAgICAvLyByZWNvbm5lY3Rpb24gbWF5YmUgaW4gcHJvZ3Jlc3NcbiAgICAgICAgLy8gd2UgY2FuIHdhaXQgZm9yIGhlYWx0aHkgY29ubmVjdGlvbiB0byByZXNvbHZlLCB3aGljaCByZWplY3RzIHdoZW4gMTVzIHRpbWVvdXQgaXMgcmVhY2hlZFxuICAgICAgICBhd2FpdCB0aGlzLndzQ29ubmVjdGlvbj8uX3dhaXRGb3JIZWFsdGh5KCk7XG4gICAgICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbklkUHJvbWlzZTtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdENvbmZpZyA9IHRoaXMuX2VucmljaEF4aW9zT3B0aW9ucyhvcHRpb25zKTtcbiAgICB0cnkge1xuICAgICAgbGV0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+O1xuICAgICAgdGhpcy5fbG9nQXBpUmVxdWVzdCh0eXBlLCB1cmwsIGRhdGEsIHJlcXVlc3RDb25maWcpO1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgJ2dldCc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UuZ2V0KHVybCwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2RlbGV0ZSc6XG4gICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmF4aW9zSW5zdGFuY2UuZGVsZXRlKHVybCwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Bvc3QnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLnBvc3QodXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncHV0JzpcbiAgICAgICAgICByZXNwb25zZSA9IGF3YWl0IHRoaXMuYXhpb3NJbnN0YW5jZS5wdXQodXJsLCBkYXRhLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncGF0Y2gnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLnBhdGNoKHVybCwgZGF0YSwgcmVxdWVzdENvbmZpZyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ29wdGlvbnMnOlxuICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvc0luc3RhbmNlLm9wdGlvbnModXJsLCByZXF1ZXN0Q29uZmlnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVxdWVzdCB0eXBlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLl9sb2dBcGlSZXNwb25zZTxUPih0eXBlLCB1cmwsIHJlc3BvbnNlKTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyA9IDA7XG4gICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZShyZXNwb25zZSk7XG4gICAgfSBjYXRjaCAoZTogYW55IC8qKlRPRE86IGdlbmVyYWxpemUgZXJyb3IgdHlwZXMgICovKSB7XG4gICAgICBlLmNsaWVudF9yZXF1ZXN0X2lkID0gcmVxdWVzdENvbmZpZy5oZWFkZXJzPy5bJ3gtY2xpZW50LXJlcXVlc3QtaWQnXTtcbiAgICAgIHRoaXMuY29uc2VjdXRpdmVGYWlsdXJlcyArPSAxO1xuICAgICAgaWYgKGUucmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5fbG9nQXBpRXJyb3IodHlwZSwgdXJsLCBlLnJlc3BvbnNlKTtcbiAgICAgICAgLyoqIGNvbm5lY3Rpb25fZmFsbGJhY2sgZGVwZW5kcyBvbiB0aGlzIHRva2VuIGV4cGlyYXRpb24gbG9naWMgKi9cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGUucmVzcG9uc2UuZGF0YS5jb2RlID09PSBLbm93bkNvZGVzLlRPS0VOX0VYUElSRUQgJiZcbiAgICAgICAgICAhdGhpcy50b2tlbk1hbmFnZXIuaXNTdGF0aWMoKVxuICAgICAgICApIHtcbiAgICAgICAgICBpZiAodGhpcy5jb25zZWN1dGl2ZUZhaWx1cmVzID4gMSkge1xuICAgICAgICAgICAgYXdhaXQgc2xlZXAocmV0cnlJbnRlcnZhbCh0aGlzLmNvbnNlY3V0aXZlRmFpbHVyZXMpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXdhaXQgdGhpcy50b2tlbk1hbmFnZXIubG9hZFRva2VuKCk7XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgRD4odHlwZSwgdXJsLCBkYXRhLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVSZXNwb25zZShlLnJlc3BvbnNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX2xvZ0FwaUVycm9yKHR5cGUsIHVybCwgZSk7XG5cbiAgICAgICAgdGhyb3cgZSBhcyBBeGlvc0Vycm9yPEFQSUVycm9yUmVzcG9uc2U+O1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBnZXQgPSA8VD4odXJsOiBzdHJpbmcsIHBhcmFtcz86IEF4aW9zUmVxdWVzdENvbmZpZ1sncGFyYW1zJ10pID0+IHtcbiAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdDxULCB1bmtub3duPignZ2V0JywgdXJsLCBudWxsLCB7XG4gICAgICBwYXJhbXMsXG4gICAgfSk7XG4gIH07XG5cbiAgcHV0ID0gPFQsIEQgPSB1bmtub3duPihcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhPzogRCxcbiAgICBwYXJhbXM/OiBBeGlvc1JlcXVlc3RDb25maWdbJ3BhcmFtcyddLFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdDxULCBEPigncHV0JywgdXJsLCBkYXRhLCB7IHBhcmFtcyB9KTtcbiAgfTtcblxuICBwb3N0ID0gPFQsIEQgPSB1bmtub3duPihcbiAgICB1cmw6IHN0cmluZyxcbiAgICBkYXRhPzogRCxcbiAgICBwYXJhbXM/OiBBeGlvc1JlcXVlc3RDb25maWdbJ3BhcmFtcyddLFxuICApID0+IHtcbiAgICByZXR1cm4gdGhpcy5kb0F4aW9zUmVxdWVzdDxULCBEPigncG9zdCcsIHVybCwgZGF0YSwgeyBwYXJhbXMgfSk7XG4gIH07XG5cbiAgcGF0Y2ggPSA8VCwgRCA9IHVua25vd24+KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiBELFxuICAgIHBhcmFtcz86IEF4aW9zUmVxdWVzdENvbmZpZ1sncGFyYW1zJ10sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLmRvQXhpb3NSZXF1ZXN0PFQsIEQ+KCdwYXRjaCcsIHVybCwgZGF0YSwgeyBwYXJhbXMgfSk7XG4gIH07XG5cbiAgZGVsZXRlID0gPFQ+KHVybDogc3RyaW5nLCBwYXJhbXM/OiBBeGlvc1JlcXVlc3RDb25maWdbJ3BhcmFtcyddKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuZG9BeGlvc1JlcXVlc3Q8VCwgdW5rbm93bj4oJ2RlbGV0ZScsIHVybCwgbnVsbCwge1xuICAgICAgcGFyYW1zLFxuICAgIH0pO1xuICB9O1xuXG4gIGVycm9yRnJvbVJlc3BvbnNlID0gKFxuICAgIHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPEFQSUVycm9yUmVzcG9uc2U+LFxuICApOiBFcnJvckZyb21SZXNwb25zZTxBUElFcnJvclJlc3BvbnNlPiA9PiB7XG4gICAgY29uc3QgeyBkYXRhLCBzdGF0dXMgfSA9IHJlc3BvbnNlO1xuICAgIHJldHVybiBuZXcgRXJyb3JGcm9tUmVzcG9uc2U8QVBJRXJyb3JSZXNwb25zZT4oe1xuICAgICAgbWVzc2FnZTogYFN0cmVhbSBlcnJvciBjb2RlICR7ZGF0YS5jb2RlfTogJHtkYXRhLm1lc3NhZ2V9YCxcbiAgICAgIGNvZGU6IGRhdGEuY29kZSA/PyBudWxsLFxuICAgICAgdW5yZWNvdmVyYWJsZTogZGF0YS51bnJlY292ZXJhYmxlID8/IG51bGwsXG4gICAgICByZXNwb25zZTogcmVzcG9uc2UsXG4gICAgICBzdGF0dXM6IHN0YXR1cyxcbiAgICB9KTtcbiAgfTtcblxuICBoYW5kbGVSZXNwb25zZSA9IDxUPihyZXNwb25zZTogQXhpb3NSZXNwb25zZTxUPikgPT4ge1xuICAgIGNvbnN0IGRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgIGlmIChpc0Vycm9yUmVzcG9uc2UocmVzcG9uc2UpKSB7XG4gICAgICB0aHJvdyB0aGlzLmVycm9yRnJvbVJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH07XG5cbiAgZGlzcGF0Y2hFdmVudCA9IChldmVudDogU3RyZWFtVmlkZW9FdmVudCkgPT4ge1xuICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsIGBEaXNwYXRjaGluZyBldmVudDogJHtldmVudC50eXBlfWAsIGV2ZW50KTtcbiAgICBpZiAoIXRoaXMubGlzdGVuZXJzKSByZXR1cm47XG5cbiAgICAvLyBjYWxsIGdlbmVyaWMgbGlzdGVuZXJzXG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVycy5hbGwgfHwgW10pIHtcbiAgICAgIGxpc3RlbmVyKGV2ZW50KTtcbiAgICB9XG5cbiAgICAvLyBjYWxsIHR5cGUgc3BlY2lmaWMgbGlzdGVuZXJzXG4gICAgZm9yIChjb25zdCBsaXN0ZW5lciBvZiB0aGlzLmxpc3RlbmVyc1tldmVudC50eXBlXSB8fCBbXSkge1xuICAgICAgbGlzdGVuZXIoZXZlbnQpO1xuICAgIH1cbiAgfTtcblxuICAvKipcbiAgICogQHByaXZhdGVcbiAgICovXG4gIGNvbm5lY3QgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKCF0aGlzLnVzZXJJRCB8fCAhdGhpcy5fdXNlcikge1xuICAgICAgdGhyb3cgRXJyb3IoXG4gICAgICAgICdDYWxsIGNvbm5lY3RVc2VyIG9yIGNvbm5lY3RBbm9ueW1vdXNVc2VyIGJlZm9yZSBzdGFydGluZyB0aGUgY29ubmVjdGlvbicsXG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoIXRoaXMud3NCYXNlVVJMKSB0aHJvdyBFcnJvcignV2Vic29ja2V0IGJhc2UgdXJsIG5vdCBzZXQnKTtcbiAgICBpZiAoIXRoaXMuY2xpZW50SUQpIHRocm93IEVycm9yKCdjbGllbnRJRCBpcyBub3Qgc2V0Jyk7XG5cbiAgICAvLyBUaGUgU3RhYmxlV1NDb25uZWN0aW9uIGhhbmRsZXMgYWxsIHRoZSByZWNvbm5lY3Rpb24gbG9naWMuXG4gICAgdGhpcy53c0Nvbm5lY3Rpb24gPSBuZXcgU3RhYmxlV1NDb25uZWN0aW9uKHRoaXMpO1xuXG4gICAgdGhpcy5sb2dnZXIoJ2luZm8nLCAnU3RyZWFtQ2xpZW50LmNvbm5lY3Q6IHRoaXMud3NDb25uZWN0aW9uLmNvbm5lY3QoKScpO1xuICAgIHJldHVybiBhd2FpdCB0aGlzLndzQ29ubmVjdGlvbi5jb25uZWN0KHRoaXMuZGVmYXVsdFdTVGltZW91dCk7XG4gIH07XG5cbiAgZ2V0VXNlckFnZW50ID0gKCk6IHN0cmluZyA9PiB7XG4gICAgaWYgKCF0aGlzLmNhY2hlZFVzZXJBZ2VudCkge1xuICAgICAgY29uc3QgeyBjbGllbnRBcHBJZGVudGlmaWVyID0ge30gfSA9IHRoaXMub3B0aW9ucztcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgc2RrTmFtZSA9ICdqcycsXG4gICAgICAgIHNka1ZlcnNpb24gPSBwcm9jZXNzLmVudi5QS0dfVkVSU0lPTiB8fCAnMC4wLjAnLFxuICAgICAgICAuLi5leHRyYXNcbiAgICAgIH0gPSBjbGllbnRBcHBJZGVudGlmaWVyO1xuXG4gICAgICB0aGlzLmNhY2hlZFVzZXJBZ2VudCA9IFtcbiAgICAgICAgYHN0cmVhbS12aWRlby0ke3Nka05hbWV9LXYke3Nka1ZlcnNpb259YCxcbiAgICAgICAgLi4uT2JqZWN0LmVudHJpZXMoZXh0cmFzKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gYCR7a2V5fT0ke3ZhbHVlfWApLFxuICAgICAgICBgY2xpZW50X2J1bmRsZT0ke3Byb2Nlc3MuZW52LkNMSUVOVF9CVU5ETEUgfHwgKHRoaXMubm9kZSA/ICdub2RlJyA6ICdicm93c2VyJyl9YCxcbiAgICAgIF0uam9pbignfCcpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLmNhY2hlZFVzZXJBZ2VudDtcbiAgfTtcblxuICBfZW5yaWNoQXhpb3NPcHRpb25zID0gKFxuICAgIG9wdGlvbnM6IEF4aW9zUmVxdWVzdENvbmZpZyAmIHsgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnIH0gJiB7XG4gICAgICBwdWJsaWNFbmRwb2ludD86IGJvb2xlYW47XG4gICAgfSA9IHtcbiAgICAgIHBhcmFtczoge30sXG4gICAgICBoZWFkZXJzOiB7fSxcbiAgICAgIGNvbmZpZzoge30sXG4gICAgfSxcbiAgKTogQXhpb3NSZXF1ZXN0Q29uZmlnID0+IHtcbiAgICBjb25zdCB0b2tlbiA9XG4gICAgICBvcHRpb25zLnB1YmxpY0VuZHBvaW50ICYmICF0aGlzLnVzZXIgPyB1bmRlZmluZWQgOiB0aGlzLl9nZXRUb2tlbigpO1xuICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSB0b2tlbiA/IHsgQXV0aG9yaXphdGlvbjogdG9rZW4gfSA6IHVuZGVmaW5lZDtcblxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzPy5bJ3gtY2xpZW50LXJlcXVlc3QtaWQnXSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAuLi5vcHRpb25zLmhlYWRlcnMsXG4gICAgICAgICd4LWNsaWVudC1yZXF1ZXN0LWlkJzogZ2VuZXJhdGVVVUlEdjQoKSxcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhcmFtczoge1xuICAgICAgICB1c2VyX2lkOiB0aGlzLnVzZXJJRCxcbiAgICAgICAgY29ubmVjdGlvbl9pZDogdGhpcy5fZ2V0Q29ubmVjdGlvbklEKCksXG4gICAgICAgIGFwaV9rZXk6IHRoaXMua2V5LFxuICAgICAgICAuLi5vcHRpb25zLnBhcmFtcyxcbiAgICAgIH0sXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIC4uLmF1dGhvcml6YXRpb24sXG4gICAgICAgICdzdHJlYW0tYXV0aC10eXBlJzpcbiAgICAgICAgICBvcHRpb25zLnB1YmxpY0VuZHBvaW50ICYmICF0aGlzLnVzZXJcbiAgICAgICAgICAgID8gJ2Fub255bW91cydcbiAgICAgICAgICAgIDogdGhpcy5nZXRBdXRoVHlwZSgpLFxuICAgICAgICAnWC1TdHJlYW0tQ2xpZW50JzogdGhpcy5nZXRVc2VyQWdlbnQoKSxcbiAgICAgICAgLi4ub3B0aW9ucy5oZWFkZXJzLFxuICAgICAgfSxcbiAgICAgIC4uLm9wdGlvbnMuY29uZmlnLFxuICAgICAgLi4udGhpcy5vcHRpb25zLmF4aW9zUmVxdWVzdENvbmZpZyxcbiAgICB9O1xuICB9O1xuXG4gIF9nZXRUb2tlbiA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMudG9rZW5NYW5hZ2VyKSByZXR1cm4gbnVsbDtcblxuICAgIHJldHVybiB0aGlzLnRva2VuTWFuYWdlci5nZXRUb2tlbigpO1xuICB9O1xuXG4gIHVwZGF0ZU5ldHdvcmtDb25uZWN0aW9uU3RhdHVzID0gKFxuICAgIGV2ZW50OiB7IHR5cGU6ICdvbmxpbmUnIHwgJ29mZmxpbmUnIH0gfCBFdmVudCxcbiAgKSA9PiB7XG4gICAgaWYgKGV2ZW50LnR5cGUgPT09ICdvZmZsaW5lJykge1xuICAgICAgdGhpcy5sb2dnZXIoJ2RlYnVnJywgJ2RldmljZSB3ZW50IG9mZmxpbmUnKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICduZXR3b3JrLmNoYW5nZWQnLCBvbmxpbmU6IGZhbHNlIH0pO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQudHlwZSA9PT0gJ29ubGluZScpIHtcbiAgICAgIHRoaXMubG9nZ2VyKCdkZWJ1ZycsICdkZXZpY2Ugd2VudCBvbmxpbmUnKTtcbiAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudCh7IHR5cGU6ICduZXR3b3JrLmNoYW5nZWQnLCBvbmxpbmU6IHRydWUgfSk7XG4gICAgfVxuICB9O1xufVxuIiwiaW1wb3J0IHR5cGUge1xuICBDbGllbnRBcHBJZGVudGlmaWVyLFxuICBTdHJlYW1DbGllbnRPcHRpb25zLFxuICBUb2tlbk9yUHJvdmlkZXIsXG4gIFVzZXIsXG59IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgZ2V0TG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCB7IFN0cmVhbUNsaWVudCB9IGZyb20gJy4uL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vY2xpZW50JztcbmltcG9ydCB7IGdldFNka0luZm8gfSBmcm9tICcuL2NsaWVudC1kZXRhaWxzJztcbmltcG9ydCB7IFNka1R5cGUgfSBmcm9tICcuLi9nZW4vdmlkZW8vc2Z1L21vZGVscy9tb2RlbHMnO1xuaW1wb3J0IHR5cGUgeyBTdHJlYW1WaWRlb0NsaWVudE9wdGlvbnMgfSBmcm9tICcuLi9TdHJlYW1WaWRlb0NsaWVudCc7XG5cbi8qKlxuICogVXRpbGl0eSBmdW5jdGlvbiB0byBnZXQgdGhlIGluc3RhbmNlIGtleS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdldEluc3RhbmNlS2V5ID0gKGFwaUtleTogc3RyaW5nLCB1c2VyOiBVc2VyKSA9PiB7XG4gIHJldHVybiBgJHthcGlLZXl9LyR7dXNlci5pZH1gO1xufTtcblxuLyoqXG4gKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIGdldCB0aGUgY2xpZW50IGFwcCBpZGVudGlmaWVyLlxuICovXG5jb25zdCBnZXRDbGllbnRBcHBJZGVudGlmaWVyID0gKFxuICBvcHRpb25zPzogU3RyZWFtQ2xpZW50T3B0aW9ucyxcbik6IENsaWVudEFwcElkZW50aWZpZXIgPT4ge1xuICBjb25zdCBhcHBJZCA9IG9wdGlvbnM/LmNsaWVudEFwcElkZW50aWZpZXIgfHwge307XG4gIGNvbnN0IHNka0luZm8gPSBnZXRTZGtJbmZvKCk7XG4gIGlmIChzZGtJbmZvKSB7XG4gICAgLy8gZW5zdXJlIHRoZSBzZGsgbmFtZSBhbmQgdmVyc2lvbiBhcmUgc2V0IGNvcnJlY3RseSxcbiAgICAvLyBvdmVycmlkaW5nIGFueSB1c2VyLXByb3ZpZGVkIHZhbHVlc1xuICAgIGFwcElkLnNka05hbWUgPSBTZGtUeXBlW3Nka0luZm8udHlwZV0udG9Mb3dlckNhc2UoKTtcbiAgICBhcHBJZC5zZGtWZXJzaW9uID0gYCR7c2RrSW5mby5tYWpvcn0uJHtzZGtJbmZvLm1pbm9yfS4ke3Nka0luZm8ucGF0Y2h9YDtcbiAgfVxuICByZXR1cm4gYXBwSWQ7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSBjb29yZGluYXRvciBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBjcmVhdGVDb29yZGluYXRvckNsaWVudCA9IChcbiAgYXBpS2V5OiBzdHJpbmcsXG4gIG9wdGlvbnM6IFN0cmVhbUNsaWVudE9wdGlvbnMgfCB1bmRlZmluZWQsXG4pID0+IHtcbiAgY29uc3QgY2xpZW50QXBwSWRlbnRpZmllciA9IGdldENsaWVudEFwcElkZW50aWZpZXIob3B0aW9ucyk7XG4gIGNvbnN0IGNvb3JkaW5hdG9yTG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY29vcmRpbmF0b3InXSk7XG4gIHJldHVybiBuZXcgU3RyZWFtQ2xpZW50KGFwaUtleSwge1xuICAgIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZTogdHJ1ZSxcbiAgICAuLi5vcHRpb25zLFxuICAgIGNsaWVudEFwcElkZW50aWZpZXIsXG4gICAgbG9nZ2VyOiBjb29yZGluYXRvckxvZ2dlcixcbiAgfSk7XG59O1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0b2tlbiBwcm92aWRlciBhbmQgYWxsb3dzIGludGVncmF0b3JzIHRvIHByb3ZpZGVcbiAqIGEgc3RhdGljIHRva2VuIGFuZCBhIHRva2VuIHByb3ZpZGVyIGF0IHRoZSBzYW1lIHRpbWUuXG4gKlxuICogV2hlbiBib3RoIG9mIHRoZW0gYXJlIHByb3ZpZGVkLCB0aGlzIGZ1bmN0aW9uIHdpbGwgY3JlYXRlIGFuIGludGVybmFsXG4gKiB0b2tlbiBwcm92aWRlciB0aGF0IHdpbGwgdXNlIHRoZSBzdGF0aWMgdG9rZW4gb24gdGhlIGZpcnN0IGludm9jYXRpb25cbiAqIGFuZCB0aGUgdG9rZW4gcHJvdmlkZXIgb24gdGhlIGxhdGVyIGludm9jYXRpb25zLlxuICovXG5leHBvcnQgY29uc3QgY3JlYXRlVG9rZW5PclByb3ZpZGVyID0gKFxuICBvcHRpb25zOiBTdHJlYW1WaWRlb0NsaWVudE9wdGlvbnMsXG4pOiBUb2tlbk9yUHJvdmlkZXIgPT4ge1xuICBjb25zdCB7IHRva2VuLCB0b2tlblByb3ZpZGVyIH0gPSBvcHRpb25zO1xuICBpZiAodG9rZW4gJiYgdG9rZW5Qcm92aWRlcikge1xuICAgIGxldCBpbml0aWFsVG9rZW5Vc2VkID0gZmFsc2U7XG4gICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIHdyYXBwZWRUb2tlblByb3ZpZGVyKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgICBpZiAoIWluaXRpYWxUb2tlblVzZWQpIHtcbiAgICAgICAgaW5pdGlhbFRva2VuVXNlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlblByb3ZpZGVyKCk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdG9rZW4gfHwgdG9rZW5Qcm92aWRlcjtcbn07XG4iLCJpbXBvcnQgeyBDYWxsIH0gZnJvbSAnLi9DYWxsJztcbmltcG9ydCB7IFN0cmVhbUNsaWVudCB9IGZyb20gJy4vY29vcmRpbmF0b3IvY29ubmVjdGlvbi9jbGllbnQnO1xuaW1wb3J0IHtcbiAgU3RyZWFtVmlkZW9SZWFkT25seVN0YXRlU3RvcmUsXG4gIFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSxcbn0gZnJvbSAnLi9zdG9yZSc7XG5pbXBvcnQgdHlwZSB7XG4gIENvbm5lY3RlZEV2ZW50LFxuICBDcmVhdGVEZXZpY2VSZXF1ZXN0LFxuICBDcmVhdGVHdWVzdFJlcXVlc3QsXG4gIENyZWF0ZUd1ZXN0UmVzcG9uc2UsXG4gIEdldEVkZ2VzUmVzcG9uc2UsXG4gIExpc3REZXZpY2VzUmVzcG9uc2UsXG4gIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdCxcbiAgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSxcbiAgUXVlcnlDYWxsc1JlcXVlc3QsXG4gIFF1ZXJ5Q2FsbHNSZXNwb25zZSxcbiAgUXVlcnlDYWxsU3RhdHNSZXF1ZXN0LFxuICBRdWVyeUNhbGxTdGF0c1Jlc3BvbnNlLFxufSBmcm9tICcuL2dlbi9jb29yZGluYXRvcic7XG5pbXBvcnQge1xuICBBbGxDbGllbnRFdmVudHMsXG4gIENsaWVudEV2ZW50TGlzdGVuZXIsXG4gIExvZ2dlcixcbiAgU3RyZWFtQ2xpZW50T3B0aW9ucyxcbiAgVG9rZW5PclByb3ZpZGVyLFxuICBUb2tlblByb3ZpZGVyLFxuICBVc2VyLFxuICBVc2VyV2l0aElkLFxufSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdHlwZXMnO1xuaW1wb3J0IHsgcmV0cnlJbnRlcnZhbCwgc2xlZXAgfSBmcm9tICcuL2Nvb3JkaW5hdG9yL2Nvbm5lY3Rpb24vdXRpbHMnO1xuaW1wb3J0IHtcbiAgY3JlYXRlQ29vcmRpbmF0b3JDbGllbnQsXG4gIGNyZWF0ZVRva2VuT3JQcm92aWRlcixcbiAgZ2V0SW5zdGFuY2VLZXksXG59IGZyb20gJy4vaGVscGVycy9jbGllbnRVdGlscyc7XG5pbXBvcnQgeyBnZXRMb2dnZXIsIGxvZ1RvQ29uc29sZSwgc2V0TG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgd2l0aG91dENvbmN1cnJlbmN5IH0gZnJvbSAnLi9oZWxwZXJzL2NvbmN1cnJlbmN5JztcbmltcG9ydCB7IGVuYWJsZVRpbWVyV29ya2VyIH0gZnJvbSAnLi90aW1lcnMnO1xuXG5leHBvcnQgdHlwZSBTdHJlYW1WaWRlb0NsaWVudE9wdGlvbnMgPSB7XG4gIGFwaUtleTogc3RyaW5nO1xuICBvcHRpb25zPzogU3RyZWFtQ2xpZW50T3B0aW9ucztcbiAgdXNlcj86IFVzZXI7XG4gIHRva2VuPzogc3RyaW5nO1xuICB0b2tlblByb3ZpZGVyPzogVG9rZW5Qcm92aWRlcjtcbn07XG5cbi8qKlxuICogQSBgU3RyZWFtVmlkZW9DbGllbnRgIGluc3RhbmNlIGxldHMgeW91IGNvbW11bmljYXRlIHdpdGggb3VyIEFQSSwgYW5kIGF1dGhlbnRpY2F0ZSB1c2Vycy5cbiAqL1xuZXhwb3J0IGNsYXNzIFN0cmVhbVZpZGVvQ2xpZW50IHtcbiAgLyoqXG4gICAqIEEgcmVhY3RpdmUgc3RvcmUgdGhhdCBleHBvc2VzIGFsbCB0aGUgc3RhdGUgdmFyaWFibGVzIHJlYWN0aXZlbHkuXG4gICAqIFlvdSBjYW4gc3Vic2NyaWJlIHRvIGNoYW5nZXMgb2YgdGhlIGRpZmZlcmVudCBzdGF0ZSB2YXJpYWJsZXMuXG4gICAqIE91ciBsaWJyYXJ5IGlzIGJ1aWx0IGluIGEgd2F5IHRoYXQgYWxsIHN0YXRlIGNoYW5nZXMgYXJlIGV4cG9zZWQgaW4gdGhpcyBzdG9yZSxcbiAgICogbyBhbGwgVUkgY2hhbmdlcyBpbiB5b3VyIGFwcGxpY2F0aW9uIHNob3VsZCBiZSBoYW5kbGVkIGJ5IHN1YnNjcmliaW5nIHRvIHRoZXNlIHZhcmlhYmxlcy5cbiAgICpcbiAgICogQGRlcHJlY2F0ZWQgdXNlIHRoZSBgY2xpZW50LnN0YXRlYCBnZXR0ZXIuXG4gICAqL1xuICByZWFkb25seSByZWFkT25seVN0YXRlU3RvcmU6IFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlO1xuICByZWFkb25seSBsb2dnZXI6IExvZ2dlcjtcblxuICBwcm90ZWN0ZWQgcmVhZG9ubHkgd3JpdGVhYmxlU3RhdGVTdG9yZTogU3RyZWFtVmlkZW9Xcml0ZWFibGVTdGF0ZVN0b3JlO1xuICBzdHJlYW1DbGllbnQ6IFN0cmVhbUNsaWVudDtcblxuICBwcml2YXRlIGVmZmVjdHNSZWdpc3RlcmVkID0gZmFsc2U7XG4gIHByaXZhdGUgZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3RlcjogQXJyYXk8KCkgPT4gdm9pZD4gPSBbXTtcbiAgcHJpdmF0ZSByZWFkb25seSBjb25uZWN0aW9uQ29uY3VycmVuY3lUYWcgPSBTeW1ib2woXG4gICAgJ2Nvbm5lY3Rpb25Db25jdXJyZW5jeVRhZycsXG4gICk7XG5cbiAgcHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlcyA9IG5ldyBNYXA8c3RyaW5nLCBTdHJlYW1WaWRlb0NsaWVudD4oKTtcblxuICAvKipcbiAgICogWW91IHNob3VsZCBjcmVhdGUgb25seSBvbmUgaW5zdGFuY2Ugb2YgYFN0cmVhbVZpZGVvQ2xpZW50YC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKGFwaUtleTogc3RyaW5nLCBvcHRzPzogU3RyZWFtQ2xpZW50T3B0aW9ucyk7XG4gIGNvbnN0cnVjdG9yKGFyZ3M6IFN0cmVhbVZpZGVvQ2xpZW50T3B0aW9ucyk7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGFwaUtleU9yQXJnczogc3RyaW5nIHwgU3RyZWFtVmlkZW9DbGllbnRPcHRpb25zLFxuICAgIG9wdHM/OiBTdHJlYW1DbGllbnRPcHRpb25zLFxuICApIHtcbiAgICBjb25zdCBhcGlLZXkgPVxuICAgICAgdHlwZW9mIGFwaUtleU9yQXJncyA9PT0gJ3N0cmluZycgPyBhcGlLZXlPckFyZ3MgOiBhcGlLZXlPckFyZ3MuYXBpS2V5O1xuICAgIGNvbnN0IGNsaWVudE9wdGlvbnMgPVxuICAgICAgdHlwZW9mIGFwaUtleU9yQXJncyA9PT0gJ3N0cmluZycgPyBvcHRzIDogYXBpS2V5T3JBcmdzLm9wdGlvbnM7XG5cbiAgICBpZiAoY2xpZW50T3B0aW9ucz8uZW5hYmxlVGltZXJXb3JrZXIpIGVuYWJsZVRpbWVyV29ya2VyKCk7XG5cbiAgICBjb25zdCByb290TG9nZ2VyID0gY2xpZW50T3B0aW9ucz8ubG9nZ2VyIHx8IGxvZ1RvQ29uc29sZTtcbiAgICBzZXRMb2dnZXIocm9vdExvZ2dlciwgY2xpZW50T3B0aW9ucz8ubG9nTGV2ZWwgfHwgJ3dhcm4nKTtcblxuICAgIHRoaXMubG9nZ2VyID0gZ2V0TG9nZ2VyKFsnY2xpZW50J10pO1xuXG4gICAgdGhpcy5zdHJlYW1DbGllbnQgPSBjcmVhdGVDb29yZGluYXRvckNsaWVudChhcGlLZXksIGNsaWVudE9wdGlvbnMpO1xuXG4gICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlID0gbmV3IFN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSgpO1xuICAgIHRoaXMucmVhZE9ubHlTdGF0ZVN0b3JlID0gbmV3IFN0cmVhbVZpZGVvUmVhZE9ubHlTdGF0ZVN0b3JlKFxuICAgICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICk7XG5cbiAgICBpZiAodHlwZW9mIGFwaUtleU9yQXJncyAhPT0gJ3N0cmluZycgJiYgYXBpS2V5T3JBcmdzLnVzZXIpIHtcbiAgICAgIGNvbnN0IHVzZXIgPSBhcGlLZXlPckFyZ3MudXNlcjtcbiAgICAgIGlmICh1c2VyLnR5cGUgPT09ICdhbm9ueW1vdXMnKSB1c2VyLmlkID0gJyFhbm9uJztcbiAgICAgIGlmICh1c2VyLmlkKSB0aGlzLnJlZ2lzdGVyQ2xpZW50SW5zdGFuY2UoYXBpS2V5LCB1c2VyKTtcblxuICAgICAgY29uc3QgdG9rZW5PclByb3ZpZGVyID0gY3JlYXRlVG9rZW5PclByb3ZpZGVyKGFwaUtleU9yQXJncyk7XG4gICAgICB0aGlzLmNvbm5lY3RVc2VyKHVzZXIsIHRva2VuT3JQcm92aWRlcikuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICB0aGlzLmxvZ2dlcignZXJyb3InLCAnRmFpbGVkIHRvIGNvbm5lY3QnLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgb3IgY3JlYXRlcyBhIFN0cmVhbVZpZGVvQ2xpZW50IGluc3RhbmNlIGJhc2VkIG9uIHRoZSBnaXZlbiBvcHRpb25zLlxuICAgKi9cbiAgc3RhdGljIGdldE9yQ3JlYXRlSW5zdGFuY2UoXG4gICAgYXJnczogU3RyZWFtVmlkZW9DbGllbnRPcHRpb25zICYgeyB1c2VyOiBVc2VyIH0sXG4gICk6IFN0cmVhbVZpZGVvQ2xpZW50IHtcbiAgICBjb25zdCB7IGFwaUtleSwgdXNlciwgdG9rZW4sIHRva2VuUHJvdmlkZXIgfSA9IGFyZ3M7XG4gICAgaWYgKCF1c2VyLmlkICYmIHVzZXIudHlwZSAhPT0gJ2Fub255bW91cycpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcigndXNlci5pZCBpcyByZXF1aXJlZCBmb3IgYSBub24tYW5vbnltb3VzIHVzZXInKTtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdG9rZW4gJiZcbiAgICAgICF0b2tlblByb3ZpZGVyICYmXG4gICAgICB1c2VyLnR5cGUgIT09ICdhbm9ueW1vdXMnICYmXG4gICAgICB1c2VyLnR5cGUgIT09ICdndWVzdCdcbiAgICApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ3Rva2VuUHJvdmlkZXIgb3IgdG9rZW4gaXMgcmVxdWlyZWQgZm9yIGEgYXV0aGVudGljYXRlZCB1c2VycycsXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiAoXG4gICAgICBTdHJlYW1WaWRlb0NsaWVudC5faW5zdGFuY2VzLmdldChnZXRJbnN0YW5jZUtleShhcGlLZXksIHVzZXIpKSB8fFxuICAgICAgbmV3IFN0cmVhbVZpZGVvQ2xpZW50KGFyZ3MpXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVnaXN0ZXJDbGllbnRJbnN0YW5jZSA9IChhcGlLZXk6IHN0cmluZywgdXNlcjogVXNlcikgPT4ge1xuICAgIGNvbnN0IGluc3RhbmNlS2V5ID0gZ2V0SW5zdGFuY2VLZXkoYXBpS2V5LCB1c2VyKTtcbiAgICBpZiAoU3RyZWFtVmlkZW9DbGllbnQuX2luc3RhbmNlcy5oYXMoaW5zdGFuY2VLZXkpKSB7XG4gICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgJ3dhcm4nLFxuICAgICAgICBgQSBTdHJlYW1WaWRlb0NsaWVudCBhbHJlYWR5IGV4aXN0cyBmb3IgJHt1c2VyLmlkfTsgUHJlZmVyIHVzaW5nIGdldE9yQ3JlYXRlSW5zdGFuY2UgbWV0aG9kYCxcbiAgICAgICk7XG4gICAgfVxuICAgIFN0cmVhbVZpZGVvQ2xpZW50Ll9pbnN0YW5jZXMuc2V0KGluc3RhbmNlS2V5LCB0aGlzKTtcbiAgfTtcblxuICAvKipcbiAgICogUmV0dXJuIHRoZSByZWFjdGl2ZSBzdGF0ZSBzdG9yZSwgdXNlIHRoaXMgaWYgeW91IHdhbnQgdG8gYmUgbm90aWZpZWQgYWJvdXQgY2hhbmdlcyB0byB0aGUgY2xpZW50IHN0YXRlXG4gICAqL1xuICBnZXQgc3RhdGUoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZE9ubHlTdGF0ZVN0b3JlO1xuICB9XG5cbiAgcHJpdmF0ZSByZWdpc3RlckVmZmVjdHMgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuZWZmZWN0c1JlZ2lzdGVyZWQpIHJldHVybjtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY29ubmVjdGlvbi5jaGFuZ2VkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGlmICghZXZlbnQub25saW5lKSByZXR1cm47XG5cbiAgICAgICAgY29uc3QgY2FsbHNUb1JlV2F0Y2ggPSB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuY2FsbHNcbiAgICAgICAgICAuZmlsdGVyKChjYWxsKSA9PiBjYWxsLndhdGNoaW5nKVxuICAgICAgICAgIC5tYXAoKGNhbGwpID0+IGNhbGwuY2lkKTtcbiAgICAgICAgaWYgKGNhbGxzVG9SZVdhdGNoLmxlbmd0aCA8PSAwKSByZXR1cm47XG5cbiAgICAgICAgdGhpcy5sb2dnZXIoJ2luZm8nLCBgUmV3YXRjaGluZyBjYWxscyAke2NhbGxzVG9SZVdhdGNoLmpvaW4oJywgJyl9YCk7XG4gICAgICAgIHRoaXMucXVlcnlDYWxscyh7XG4gICAgICAgICAgd2F0Y2g6IHRydWUsXG4gICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHsgY2lkOiB7ICRpbjogY2FsbHNUb1JlV2F0Y2ggfSB9LFxuICAgICAgICAgIHNvcnQ6IFt7IGZpZWxkOiAnY2lkJywgZGlyZWN0aW9uOiAxIH1dLFxuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIoJ2Vycm9yJywgJ0ZhaWxlZCB0byByZS13YXRjaCBjYWxscycsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY2FsbC5jcmVhdGVkJywgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2FsbCwgbWVtYmVycyB9ID0gZXZlbnQ7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNvbm5lY3RlZFVzZXI/LmlkID09PSBjYWxsLmNyZWF0ZWRfYnkuaWQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICd3YXJuJyxcbiAgICAgICAgICAgICdSZWNlaXZlZCBgY2FsbC5jcmVhdGVkYCBzZW50IGJ5IHRoZSBjdXJyZW50IHVzZXInLFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9nZ2VyKCdpbmZvJywgYE5ldyBjYWxsIGNyZWF0ZWQgYW5kIHJlZ2lzdGVyZWQ6ICR7Y2FsbC5jaWR9YCk7XG4gICAgICAgIGNvbnN0IG5ld0NhbGwgPSBuZXcgQ2FsbCh7XG4gICAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLnN0cmVhbUNsaWVudCxcbiAgICAgICAgICB0eXBlOiBjYWxsLnR5cGUsXG4gICAgICAgICAgaWQ6IGNhbGwuaWQsXG4gICAgICAgICAgbWVtYmVycyxcbiAgICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICB9KTtcbiAgICAgICAgbmV3Q2FsbC5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGNhbGwpO1xuICAgICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUucmVnaXN0ZXJDYWxsKG5ld0NhbGwpO1xuICAgICAgfSksXG4gICAgKTtcblxuICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5wdXNoKFxuICAgICAgdGhpcy5vbignY2FsbC5yaW5nJywgYXN5bmMgKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgY2FsbCwgbWVtYmVycyB9ID0gZXZlbnQ7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlLmNvbm5lY3RlZFVzZXI/LmlkID09PSBjYWxsLmNyZWF0ZWRfYnkuaWQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlcihcbiAgICAgICAgICAgICdkZWJ1ZycsXG4gICAgICAgICAgICAnUmVjZWl2ZWQgYGNhbGwucmluZ2Agc2VudCBieSB0aGUgY3VycmVudCB1c2VyIHNvIGlnbm9yaW5nIHRoZSBldmVudCcsXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgYGNhbGwuY3JlYXRlZGAgd2FzIHJlY2VpdmVkIGJlZm9yZSBgY2FsbC5yaW5nYC5cbiAgICAgICAgLy8gdGhlIGNsaWVudCBhbHJlYWR5IGhhcyB0aGUgY2FsbCBpbnN0YW5jZSBhbmQgd2UganVzdCBuZWVkIHRvIHVwZGF0ZSB0aGUgc3RhdGVcbiAgICAgICAgY29uc3QgdGhlQ2FsbCA9IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5maW5kQ2FsbChjYWxsLnR5cGUsIGNhbGwuaWQpO1xuICAgICAgICBpZiAodGhlQ2FsbCkge1xuICAgICAgICAgIGF3YWl0IHRoZUNhbGwudXBkYXRlRnJvbVJpbmdpbmdFdmVudChldmVudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgY2xpZW50IGRvZXNuJ3QgaGF2ZSB0aGUgY2FsbCBpbnN0YW5jZSwgY3JlYXRlIHRoZSBpbnN0YW5jZSBhbmQgZmV0Y2ggdGhlIGxhdGVzdCBzdGF0ZVxuICAgICAgICAgIC8vIE5vdGU6IHJlbGF0ZWQgLSB3ZSBhbHNvIGhhdmUgb25SaW5naW5nQ2FsbCBtZXRob2QgdG8gaGFuZGxlIHRoaXMgY2FzZSBmcm9tIHB1c2ggbm90aWZpY2F0aW9uc1xuICAgICAgICAgIGNvbnN0IG5ld0NhbGxJbnN0YW5jZSA9IG5ldyBDYWxsKHtcbiAgICAgICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgICAgICB0eXBlOiBjYWxsLnR5cGUsXG4gICAgICAgICAgICBpZDogY2FsbC5pZCxcbiAgICAgICAgICAgIG1lbWJlcnMsXG4gICAgICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICAgICAgcmluZ2luZzogdHJ1ZSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBhd2FpdCBuZXdDYWxsSW5zdGFuY2UuZ2V0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICk7XG5cbiAgICB0aGlzLmVmZmVjdHNSZWdpc3RlcmVkID0gdHJ1ZTtcbiAgfTtcblxuICAvKipcbiAgICogQ29ubmVjdHMgdGhlIGdpdmVuIHVzZXIgdG8gdGhlIGNsaWVudC5cbiAgICogT25seSBvbmUgdXNlciBjYW4gY29ubmVjdCBhdCBhIHRpbWUsIGlmIHlvdSB3YW50IHRvIGNoYW5nZSB1c2VycywgY2FsbCBgZGlzY29ubmVjdFVzZXJgIGJlZm9yZSBjb25uZWN0aW5nIGEgbmV3IHVzZXIuXG4gICAqIElmIHRoZSBjb25uZWN0aW9uIGlzIHN1Y2Nlc3NmdWwsIHRoZSBjb25uZWN0ZWQgdXNlciBbc3RhdGUgdmFyaWFibGVdKCNyZWFkb25seXN0YXRlc3RvcmUpIHdpbGwgYmUgdXBkYXRlZCBhY2NvcmRpbmdseS5cbiAgICpcbiAgICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgdG8gY29ubmVjdC5cbiAgICogQHBhcmFtIHRva2VuT3JQcm92aWRlciBhIHRva2VuIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdG9rZW4uXG4gICAqL1xuICBjb25uZWN0VXNlciA9IGFzeW5jIChcbiAgICB1c2VyOiBVc2VyLFxuICAgIHRva2VuT3JQcm92aWRlcj86IFRva2VuT3JQcm92aWRlcixcbiAgKTogUHJvbWlzZTx2b2lkIHwgQ29ubmVjdGVkRXZlbnQ+ID0+IHtcbiAgICBpZiAodXNlci50eXBlID09PSAnYW5vbnltb3VzJykge1xuICAgICAgdXNlci5pZCA9ICchYW5vbic7XG4gICAgICByZXR1cm4gdGhpcy5jb25uZWN0QW5vbnltb3VzVXNlcih1c2VyIGFzIFVzZXJXaXRoSWQsIHRva2VuT3JQcm92aWRlcik7XG4gICAgfVxuXG4gICAgY29uc3QgY29ubmVjdFVzZXJSZXNwb25zZSA9IGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeShcbiAgICAgIHRoaXMuY29ubmVjdGlvbkNvbmN1cnJlbmN5VGFnLFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBjbGllbnQgPSB0aGlzLnN0cmVhbUNsaWVudDtcbiAgICAgICAgY29uc3QgeyBvbkNvbm5lY3RVc2VyRXJyb3IsIHBlcnNpc3RVc2VyT25Db25uZWN0aW9uRmFpbHVyZSB9ID1cbiAgICAgICAgICBjbGllbnQub3B0aW9ucztcbiAgICAgICAgbGV0IHsgbWF4Q29ubmVjdFVzZXJSZXRyaWVzID0gNSB9ID0gY2xpZW50Lm9wdGlvbnM7XG4gICAgICAgIG1heENvbm5lY3RVc2VyUmV0cmllcyA9IE1hdGgubWF4KG1heENvbm5lY3RVc2VyUmV0cmllcywgMSk7XG5cbiAgICAgICAgY29uc3QgZXJyb3JRdWV1ZTogRXJyb3JbXSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBhdHRlbXB0ID0gMDsgYXR0ZW1wdCA8IG1heENvbm5lY3RVc2VyUmV0cmllczsgYXR0ZW1wdCsrKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd0cmFjZScsIGBDb25uZWN0aW5nIHVzZXIgKCR7YXR0ZW1wdH0pYCwgdXNlcik7XG4gICAgICAgICAgICByZXR1cm4gdXNlci50eXBlID09PSAnZ3Vlc3QnXG4gICAgICAgICAgICAgID8gYXdhaXQgY2xpZW50LmNvbm5lY3RHdWVzdFVzZXIodXNlcilcbiAgICAgICAgICAgICAgOiBhd2FpdCBjbGllbnQuY29ubmVjdFVzZXIodXNlciwgdG9rZW5PclByb3ZpZGVyKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyKCd3YXJuJywgYEZhaWxlZCB0byBjb25uZWN0IGEgdXNlciAoJHthdHRlbXB0fSlgLCBlcnIpO1xuICAgICAgICAgICAgZXJyb3JRdWV1ZS5wdXNoKGVyciBhcyBFcnJvcik7XG4gICAgICAgICAgICBpZiAoYXR0ZW1wdCA9PT0gbWF4Q29ubmVjdFVzZXJSZXRyaWVzIC0gMSkge1xuICAgICAgICAgICAgICBvbkNvbm5lY3RVc2VyRXJyb3I/LihlcnIgYXMgRXJyb3IsIGVycm9yUXVldWUpO1xuICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gZm9yY2UgdG8gZGlzY29ubmVjdCB0aGUgdXNlciBpZiB0aGUgY2xpZW50IGlzXG4gICAgICAgICAgICAvLyBjb25maWd1cmVkIHRvIHBlcnNpc3QgdGhlIHVzZXIgb24gY29ubmVjdGlvbiBmYWlsdXJlXG4gICAgICAgICAgICBpZiAocGVyc2lzdFVzZXJPbkNvbm5lY3Rpb25GYWlsdXJlKSB7XG4gICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5kaXNjb25uZWN0VXNlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBhd2FpdCBzbGVlcChyZXRyeUludGVydmFsKGF0dGVtcHQpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgKTtcblxuICAgIC8vIGNvbm5lY3RVc2VyUmVzcG9uc2Ugd2lsbCBiZSB2b2lkIGlmIGNvbm5lY3RVc2VyIGNhbGxlZCB0d2ljZSBmb3IgdGhlIHNhbWUgdXNlclxuICAgIGlmIChjb25uZWN0VXNlclJlc3BvbnNlPy5tZSkge1xuICAgICAgdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLnNldENvbm5lY3RlZFVzZXIoY29ubmVjdFVzZXJSZXNwb25zZS5tZSk7XG4gICAgfVxuXG4gICAgdGhpcy5yZWdpc3RlckVmZmVjdHMoKTtcblxuICAgIHJldHVybiBjb25uZWN0VXNlclJlc3BvbnNlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBEaXNjb25uZWN0cyB0aGUgY3VycmVudGx5IGNvbm5lY3RlZCB1c2VyIGZyb20gdGhlIGNsaWVudC5cbiAgICpcbiAgICogSWYgdGhlIGNvbm5lY3Rpb24gaXMgc3VjY2Vzc2Z1bGx5IGRpc2Nvbm5lY3RlZCwgdGhlIGNvbm5lY3RlZCB1c2VyIFtzdGF0ZSB2YXJpYWJsZV0oI3JlYWRvbmx5c3RhdGVzdG9yZSkgd2lsbCBiZSB1cGRhdGVkIGFjY29yZGluZ2x5XG4gICAqXG4gICAqIEBwYXJhbSB0aW1lb3V0IE1heCBudW1iZXIgb2YgbXMsIHRvIHdhaXQgZm9yIGNsb3NlIGV2ZW50IG9mIHdlYnNvY2tldCwgYmVmb3JlIGZvcmNlZnVsbHkgYXNzdW1pbmcgc3VjY2Vzc2Z1bCBkaXNjb25uZWN0aW9uLlxuICAgKiAgICAgICAgICAgICAgICBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ2xvc2VFdmVudFxuICAgKi9cbiAgZGlzY29ubmVjdFVzZXIgPSBhc3luYyAodGltZW91dD86IG51bWJlcikgPT4ge1xuICAgIGF3YWl0IHdpdGhvdXRDb25jdXJyZW5jeSh0aGlzLmNvbm5lY3Rpb25Db25jdXJyZW5jeVRhZywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyB1c2VyLCBrZXkgfSA9IHRoaXMuc3RyZWFtQ2xpZW50O1xuICAgICAgaWYgKCF1c2VyKSByZXR1cm47XG5cbiAgICAgIGF3YWl0IHRoaXMuc3RyZWFtQ2xpZW50LmRpc2Nvbm5lY3RVc2VyKHRpbWVvdXQpO1xuXG4gICAgICBpZiAodXNlci5pZCkge1xuICAgICAgICBTdHJlYW1WaWRlb0NsaWVudC5faW5zdGFuY2VzLmRlbGV0ZShnZXRJbnN0YW5jZUtleShrZXksIHVzZXIpKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1RvVW5yZWdpc3Rlci5mb3JFYWNoKCh1bnJlZ2lzdGVyKSA9PiB1bnJlZ2lzdGVyKCkpO1xuICAgICAgdGhpcy5ldmVudEhhbmRsZXJzVG9VbnJlZ2lzdGVyID0gW107XG4gICAgICB0aGlzLmVmZmVjdHNSZWdpc3RlcmVkID0gZmFsc2U7XG4gICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUuc2V0Q29ubmVjdGVkVXNlcih1bmRlZmluZWQpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBZb3UgY2FuIHN1YnNjcmliZSB0byBXZWJTb2NrZXQgZXZlbnRzIHByb3ZpZGVkIGJ5IHRoZSBBUEkuXG4gICAqIFRvIHJlbW92ZSBhIHN1YnNjcmlwdGlvbiwgY2FsbCB0aGUgYG9mZmAgbWV0aG9kIG9yLCBleGVjdXRlIHRoZSByZXR1cm5lZCB1bnN1YnNjcmliZSBmdW5jdGlvbi5cbiAgICogUGxlYXNlIG5vdGUgdGhhdCBzdWJzY3JpYmluZyB0byBXZWJTb2NrZXQgZXZlbnRzIGlzIGFuIGFkdmFuY2VkIHVzZS1jYXNlLCBmb3IgbW9zdCB1c2UtY2FzZXMgaXQgc2hvdWxkIGJlIGVub3VnaCB0byB3YXRjaCBmb3IgY2hhbmdlcyBpbiB0aGUgcmVhY3RpdmUgW3N0YXRlIHN0b3JlXSgjcmVhZG9ubHlzdGF0ZXN0b3JlKS5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZSBvciAnYWxsJy5cbiAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB3aGljaCB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLlxuICAgKiBAcmV0dXJucyBhbiB1bnN1YnNjcmliZSBmdW5jdGlvbi5cbiAgICovXG4gIG9uID0gPEUgZXh0ZW5kcyBrZXlvZiBBbGxDbGllbnRFdmVudHM+KFxuICAgIGV2ZW50TmFtZTogRSxcbiAgICBjYWxsYmFjazogQ2xpZW50RXZlbnRMaXN0ZW5lcjxFPixcbiAgKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuc3RyZWFtQ2xpZW50Lm9uKGV2ZW50TmFtZSwgY2FsbGJhY2spO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgc3Vic2NyaXB0aW9uIGZvciBXZWJTb2NrZXQgZXZlbnRzIHRoYXQgd2VyZSBjcmVhdGVkIGJ5IHRoZSBgb25gIG1ldGhvZC5cbiAgICpcbiAgICogQHBhcmFtIGV2ZW50TmFtZSB0aGUgZXZlbnQgbmFtZS5cbiAgICogQHBhcmFtIGNhbGxiYWNrIHRoZSBjYWxsYmFjayB3aGljaCB3YXMgcGFzc2VkIHRvIHRoZSBgb25gIG1ldGhvZC5cbiAgICovXG4gIG9mZiA9IDxFIGV4dGVuZHMga2V5b2YgQWxsQ2xpZW50RXZlbnRzPihcbiAgICBldmVudE5hbWU6IEUsXG4gICAgY2FsbGJhY2s6IENsaWVudEV2ZW50TGlzdGVuZXI8RT4sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5vZmYoZXZlbnROYW1lLCBjYWxsYmFjayk7XG4gIH07XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgY2FsbC5cbiAgICpcbiAgICogQHBhcmFtIHR5cGUgdGhlIHR5cGUgb2YgdGhlIGNhbGwuXG4gICAqIEBwYXJhbSBpZCB0aGUgaWQgb2YgdGhlIGNhbGwuXG4gICAqL1xuICBjYWxsID0gKFxuICAgIHR5cGU6IHN0cmluZyxcbiAgICBpZDogc3RyaW5nLFxuICAgIG9wdGlvbnM6IHsgcmV1c2VJbnN0YW5jZT86IGJvb2xlYW4gfSA9IHt9LFxuICApID0+IHtcbiAgICBjb25zdCBjYWxsID0gb3B0aW9ucy5yZXVzZUluc3RhbmNlXG4gICAgICA/IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZS5maW5kQ2FsbCh0eXBlLCBpZClcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiAoXG4gICAgICBjYWxsID8/XG4gICAgICBuZXcgQ2FsbCh7XG4gICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgY2xpZW50U3RvcmU6IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZSxcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBndWVzdCB1c2VyIHdpdGggdGhlIGdpdmVuIGRhdGEuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIHRoZSBkYXRhIGZvciB0aGUgZ3Vlc3QgdXNlci5cbiAgICovXG4gIGNyZWF0ZUd1ZXN0VXNlciA9IGFzeW5jIChkYXRhOiBDcmVhdGVHdWVzdFJlcXVlc3QpID0+IHtcbiAgICByZXR1cm4gdGhpcy5zdHJlYW1DbGllbnQuZG9BeGlvc1JlcXVlc3Q8XG4gICAgICBDcmVhdGVHdWVzdFJlc3BvbnNlLFxuICAgICAgQ3JlYXRlR3Vlc3RSZXF1ZXN0XG4gICAgPigncG9zdCcsICcvZ3Vlc3QnLCBkYXRhLCB7IHB1YmxpY0VuZHBvaW50OiB0cnVlIH0pO1xuICB9O1xuXG4gIC8qKlxuICAgKiBXaWxsIHF1ZXJ5IHRoZSBBUEkgZm9yIGNhbGxzIG1hdGNoaW5nIHRoZSBnaXZlbiBmaWx0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSB0aGUgcXVlcnkgZGF0YS5cbiAgICovXG4gIHF1ZXJ5Q2FsbHMgPSBhc3luYyAoZGF0YTogUXVlcnlDYWxsc1JlcXVlc3QgPSB7fSkgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucG9zdDxcbiAgICAgIFF1ZXJ5Q2FsbHNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5Q2FsbHNSZXF1ZXN0XG4gICAgPignL2NhbGxzJywgZGF0YSk7XG4gICAgY29uc3QgY2FsbHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGMgb2YgcmVzcG9uc2UuY2FsbHMpIHtcbiAgICAgIGNvbnN0IGNhbGwgPSBuZXcgQ2FsbCh7XG4gICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgIGlkOiBjLmNhbGwuaWQsXG4gICAgICAgIHR5cGU6IGMuY2FsbC50eXBlLFxuICAgICAgICBtZW1iZXJzOiBjLm1lbWJlcnMsXG4gICAgICAgIG93bkNhcGFiaWxpdGllczogYy5vd25fY2FwYWJpbGl0aWVzLFxuICAgICAgICB3YXRjaGluZzogZGF0YS53YXRjaCxcbiAgICAgICAgY2xpZW50U3RvcmU6IHRoaXMud3JpdGVhYmxlU3RhdGVTdG9yZSxcbiAgICAgIH0pO1xuICAgICAgY2FsbC5zdGF0ZS51cGRhdGVGcm9tQ2FsbFJlc3BvbnNlKGMuY2FsbCk7XG4gICAgICBhd2FpdCBjYWxsLmFwcGx5RGV2aWNlQ29uZmlnKGMuY2FsbC5zZXR0aW5ncywgZmFsc2UpO1xuICAgICAgaWYgKGRhdGEud2F0Y2gpIHtcbiAgICAgICAgYXdhaXQgY2FsbC5zZXR1cCgpO1xuICAgICAgICB0aGlzLndyaXRlYWJsZVN0YXRlU3RvcmUucmVnaXN0ZXJDYWxsKGNhbGwpO1xuICAgICAgfVxuICAgICAgY2FsbHMucHVzaChjYWxsKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgY2FsbHM6IGNhbGxzLFxuICAgIH07XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSBjYWxsIHN0YXRpc3RpY3MgcmVwb3J0cyBtYXRjaGluZyBhIHBhcnRpY3VsYXIgY29uZGl0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gZGF0YSBGaWx0ZXIgYW5kIHNvcnQgY29uZGl0aW9ucyBmb3IgcmV0cmlldmluZyBhdmFpbGFibGUgY2FsbCByZXBvcnQgc3VtbWFyaWVzLlxuICAgKiBAcmV0dXJucyBMaXN0IHdpdGggc3VtbWFyeSBvZiBhdmFpbGFibGUgY2FsbCByZXBvcnRzIG1hdGNoaW5nIHRoZSBjb25kaXRpb24uXG4gICAqL1xuICBxdWVyeUNhbGxTdGF0cyA9IGFzeW5jIChkYXRhOiBRdWVyeUNhbGxTdGF0c1JlcXVlc3QgPSB7fSkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlDYWxsU3RhdHNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5Q2FsbFN0YXRzUmVxdWVzdFxuICAgID4oYC9jYWxsL3N0YXRzYCwgZGF0YSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFJldHJpZXZlIHRoZSBsaXN0IG9mIGF2YWlsYWJsZSByZXBvcnRzIGFnZ3JlZ2F0ZWQgZnJvbSB0aGUgY2FsbCBzdGF0cy5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgU3BlY2lmeSBmaWx0ZXIgY29uZGl0aW9ucyBsaWtlIGZyb20gYW5kIHRvICh3aXRoaW4gbGFzdCAzMCBkYXlzKSBhbmQgdGhlIHJlcG9ydCB0eXBlc1xuICAgKiBAcmV0dXJucyBSZXF1ZXN0ZWQgcmVwb3J0cyB3aXRoIChtb3N0bHkpIHJhdyBkYWlseSBkYXRhIGZvciBlYWNoIHJlcG9ydCB0eXBlIHJlcXVlc3RlZFxuICAgKi9cbiAgcXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHMgPSBhc3luYyAoXG4gICAgZGF0YTogUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXF1ZXN0ID0ge30sXG4gICkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5wb3N0PFxuICAgICAgUXVlcnlBZ2dyZWdhdGVDYWxsU3RhdHNSZXNwb25zZSxcbiAgICAgIFF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzUmVxdWVzdFxuICAgID4oYC9zdGF0c2AsIGRhdGEpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhdmFpbGFibGUgZGF0YSBjZW50ZXJzIGF2YWlsYWJsZSBmb3IgaG9zdGluZyBjYWxscy5cbiAgICovXG4gIGVkZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgIHJldHVybiB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8R2V0RWRnZXNSZXNwb25zZT4oYC9lZGdlc2ApO1xuICB9O1xuXG4gIC8qKlxuICAgKiBhZGREZXZpY2UgLSBBZGRzIGEgcHVzaCBkZXZpY2UgZm9yIGEgdXNlci5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIHRoZSBkZXZpY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IHB1c2hfcHJvdmlkZXIgdGhlIHB1c2ggcHJvdmlkZXIgbmFtZSAoZWcuIGFwbiwgZmlyZWJhc2UpXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwdXNoX3Byb3ZpZGVyX25hbWUgdXNlciBwcm92aWRlZCBwdXNoIHByb3ZpZGVyIG5hbWVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIHRoZSB1c2VyIGlkIChkZWZhdWx0cyB0byBjdXJyZW50IHVzZXIpXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3ZvaXBfdG9rZW5dIGVuYWJsZXMgdXNlIG9mIFZvSVAgdG9rZW4gZm9yIHB1c2ggbm90aWZpY2F0aW9ucyBvbiBpT1MgcGxhdGZvcm1cbiAgICovXG4gIGFkZERldmljZSA9IGFzeW5jIChcbiAgICBpZDogc3RyaW5nLFxuICAgIHB1c2hfcHJvdmlkZXI6IHN0cmluZyxcbiAgICBwdXNoX3Byb3ZpZGVyX25hbWU/OiBzdHJpbmcsXG4gICAgdXNlcklEPzogc3RyaW5nLFxuICAgIHZvaXBfdG9rZW4/OiBib29sZWFuLFxuICApID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdHJlYW1DbGllbnQucG9zdDxDcmVhdGVEZXZpY2VSZXF1ZXN0PignL2RldmljZXMnLCB7XG4gICAgICBpZCxcbiAgICAgIHB1c2hfcHJvdmlkZXIsXG4gICAgICB2b2lwX3Rva2VuLFxuICAgICAgLi4uKHVzZXJJRCAhPSBudWxsID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9KSxcbiAgICAgIC4uLihwdXNoX3Byb3ZpZGVyX25hbWUgIT0gbnVsbCA/IHsgcHVzaF9wcm92aWRlcl9uYW1lIH0gOiB7fSksXG4gICAgfSk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGFkZERldmljZSAtIEFkZHMgYSBwdXNoIGRldmljZSBmb3IgYSB1c2VyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaWQgdGhlIGRldmljZSBpZFxuICAgKiBAcGFyYW0ge3N0cmluZ30gcHVzaF9wcm92aWRlciB0aGUgcHVzaCBwcm92aWRlciBuYW1lIChlZy4gYXBuLCBmaXJlYmFzZSlcbiAgICogQHBhcmFtIHtzdHJpbmd9IHB1c2hfcHJvdmlkZXJfbmFtZSB1c2VyIHByb3ZpZGVkIHB1c2ggcHJvdmlkZXIgbmFtZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gdGhlIHVzZXIgaWQgKGRlZmF1bHRzIHRvIGN1cnJlbnQgdXNlcilcbiAgICovXG4gIGFkZFZvaXBEZXZpY2UgPSBhc3luYyAoXG4gICAgaWQ6IHN0cmluZyxcbiAgICBwdXNoX3Byb3ZpZGVyOiBzdHJpbmcsXG4gICAgcHVzaF9wcm92aWRlcl9uYW1lOiBzdHJpbmcsXG4gICAgdXNlcklEPzogc3RyaW5nLFxuICApID0+IHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5hZGREZXZpY2UoXG4gICAgICBpZCxcbiAgICAgIHB1c2hfcHJvdmlkZXIsXG4gICAgICBwdXNoX3Byb3ZpZGVyX25hbWUsXG4gICAgICB1c2VySUQsXG4gICAgICB0cnVlLFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIGdldERldmljZXMgLSBSZXR1cm5zIHRoZSBkZXZpY2VzIGFzc29jaWF0ZWQgd2l0aCBhIGN1cnJlbnQgdXNlclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW3VzZXJJRF0gVXNlciBJRC4gT25seSB3b3JrcyBvbiBzZXJ2ZXJzaWRlXG4gICAqL1xuICBnZXREZXZpY2VzID0gYXN5bmMgKHVzZXJJRD86IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5nZXQ8TGlzdERldmljZXNSZXNwb25zZT4oXG4gICAgICAnL2RldmljZXMnLFxuICAgICAgdXNlcklEID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9LFxuICAgICk7XG4gIH07XG5cbiAgLyoqXG4gICAqIHJlbW92ZURldmljZSAtIFJlbW92ZXMgdGhlIGRldmljZSB3aXRoIHRoZSBnaXZlbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGlkIFRoZSBkZXZpY2UgaWRcbiAgICogQHBhcmFtIHtzdHJpbmd9IFt1c2VySURdIFRoZSB1c2VyIGlkLiBPbmx5IHNwZWNpZnkgdGhpcyBmb3Igc2VydmVyc2lkZSByZXF1ZXN0c1xuICAgKi9cbiAgcmVtb3ZlRGV2aWNlID0gYXN5bmMgKGlkOiBzdHJpbmcsIHVzZXJJRD86IHN0cmluZykgPT4ge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0cmVhbUNsaWVudC5kZWxldGUoJy9kZXZpY2VzJywge1xuICAgICAgaWQsXG4gICAgICAuLi4odXNlcklEID8geyB1c2VyX2lkOiB1c2VySUQgfSA6IHt9KSxcbiAgICB9KTtcbiAgfTtcblxuICAvKipcbiAgICogQSBjYWxsYmFjayB0aGF0IGNhbiBiZSB1c2VkIHRvIGNyZWF0ZSByaW5naW5nIGNhbGxzIGZyb20gcHVzaCBub3RpZmljYXRpb25zLiBJZiB0aGUgY2FsbCBhbHJlYWR5IGV4aXN0cywgaXQgd2lsbCBkbyBub3RoaW5nLlxuICAgKiBAcGFyYW0gY2FsbF9jaWRcbiAgICogQHJldHVybnNcbiAgICovXG4gIG9uUmluZ2luZ0NhbGwgPSBhc3luYyAoY2FsbF9jaWQ6IHN0cmluZykgPT4ge1xuICAgIC8vIGlmIHdlIGZpbmQgdGhlIGNhbGwgYW5kIGlzIGFscmVhZHkgcmluZ2luZywgd2UgZG9uJ3QgbmVlZCB0byBjcmVhdGUgYSBuZXcgY2FsbFxuICAgIC8vIGFzIGNsaWVudCB3b3VsZCBoYXZlIHJlY2VpdmVkIHRoZSBjYWxsLnJpbmcgc3RhdGUgYmVjYXVzZSB0aGUgYXBwIGhhZCBXUyBhbGl2ZSB3aGVuIHJlY2VpdmluZyBwdXNoIG5vdGlmaWNhdGlvbnNcbiAgICBsZXQgY2FsbCA9IHRoaXMuc3RhdGUuY2FsbHMuZmluZCgoYykgPT4gYy5jaWQgPT09IGNhbGxfY2lkICYmIGMucmluZ2luZyk7XG4gICAgaWYgKCFjYWxsKSB7XG4gICAgICAvLyBpZiBub3QgaXQgbWVhbnMgdGhhdCBXUyBpcyBub3QgYWxpdmUgd2hlbiByZWNlaXZpbmcgdGhlIHB1c2ggbm90aWZpY2F0aW9ucyBhbmQgd2UgbmVlZCB0byBmZXRjaCB0aGUgY2FsbFxuICAgICAgY29uc3QgW2NhbGxUeXBlLCBjYWxsSWRdID0gY2FsbF9jaWQuc3BsaXQoJzonKTtcbiAgICAgIGNhbGwgPSBuZXcgQ2FsbCh7XG4gICAgICAgIHN0cmVhbUNsaWVudDogdGhpcy5zdHJlYW1DbGllbnQsXG4gICAgICAgIHR5cGU6IGNhbGxUeXBlLFxuICAgICAgICBpZDogY2FsbElkLFxuICAgICAgICBjbGllbnRTdG9yZTogdGhpcy53cml0ZWFibGVTdGF0ZVN0b3JlLFxuICAgICAgICByaW5naW5nOiB0cnVlLFxuICAgICAgfSk7XG4gICAgICBhd2FpdCBjYWxsLmdldCgpO1xuICAgIH1cblxuICAgIHJldHVybiBjYWxsO1xuICB9O1xuXG4gIC8qKlxuICAgKiBDb25uZWN0cyB0aGUgZ2l2ZW4gYW5vbnltb3VzIHVzZXIgdG8gdGhlIGNsaWVudC5cbiAgICpcbiAgICogQHBhcmFtIHVzZXIgdGhlIHVzZXIgdG8gY29ubmVjdC5cbiAgICogQHBhcmFtIHRva2VuT3JQcm92aWRlciBhIHRva2VuIG9yIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgdG9rZW4uXG4gICAqL1xuICBwcml2YXRlIGNvbm5lY3RBbm9ueW1vdXNVc2VyID0gYXN5bmMgKFxuICAgIHVzZXI6IFVzZXJXaXRoSWQsXG4gICAgdG9rZW5PclByb3ZpZGVyOiBUb2tlbk9yUHJvdmlkZXIsXG4gICkgPT4ge1xuICAgIHJldHVybiB3aXRob3V0Q29uY3VycmVuY3kodGhpcy5jb25uZWN0aW9uQ29uY3VycmVuY3lUYWcsICgpID0+XG4gICAgICB0aGlzLnN0cmVhbUNsaWVudC5jb25uZWN0QW5vbnltb3VzVXNlcih1c2VyLCB0b2tlbk9yUHJvdmlkZXIpLFxuICAgICk7XG4gIH07XG59XG4iXSwibmFtZXMiOlsiQXVkaW9TZXR0aW5nc1JlcXVlc3REZWZhdWx0RGV2aWNlRW51bSIsIlNQRUFLRVIiLCJFQVJQSUVDRSIsIkF1ZGlvU2V0dGluZ3NSZXNwb25zZURlZmF1bHREZXZpY2VFbnVtIiwiQ3JlYXRlRGV2aWNlUmVxdWVzdFB1c2hQcm92aWRlckVudW0iLCJGSVJFQkFTRSIsIkFQTiIsIkhVQVdFSSIsIlhJQU9NSSIsIkZyYW1lUmVjb3JkaW5nU2V0dGluZ3NSZXF1ZXN0TW9kZUVudW0iLCJBVkFJTEFCTEUiLCJESVNBQkxFRCIsIkFVVE9fT04iLCJGcmFtZVJlY29yZGluZ1NldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtIiwiXzM2MFAiLCJfNDgwUCIsIl83MjBQIiwiXzEwODBQIiwiXzE0NDBQIiwiXzIxNjBQIiwiRnJhbWVSZWNvcmRpbmdTZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0iLCJMYXlvdXRTZXR0aW5nc1JlcXVlc3ROYW1lRW51bSIsIlNQT1RMSUdIVCIsIkdSSUQiLCJTSU5HTEVfUEFSVElDSVBBTlQiLCJNT0JJTEUiLCJDVVNUT00iLCJOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0iLCJPd25DYXBhYmlsaXR5IiwiQkxPQ0tfVVNFUlMiLCJDSEFOR0VfTUFYX0RVUkFUSU9OIiwiQ1JFQVRFX0NBTEwiLCJDUkVBVEVfUkVBQ1RJT04iLCJFTkFCTEVfTk9JU0VfQ0FOQ0VMTEFUSU9OIiwiRU5EX0NBTEwiLCJKT0lOX0JBQ0tTVEFHRSIsIkpPSU5fQ0FMTCIsIkpPSU5fRU5ERURfQ0FMTCIsIk1VVEVfVVNFUlMiLCJQSU5fRk9SX0VWRVJZT05FIiwiUkVBRF9DQUxMIiwiUkVNT1ZFX0NBTExfTUVNQkVSIiwiU0NSRUVOU0hBUkUiLCJTRU5EX0FVRElPIiwiU0VORF9WSURFTyIsIlNUQVJUX0JST0FEQ0FTVF9DQUxMIiwiU1RBUlRfQ0xPU0VEX0NBUFRJT05TX0NBTEwiLCJTVEFSVF9GUkFNRV9SRUNPUkRfQ0FMTCIsIlNUQVJUX1JFQ09SRF9DQUxMIiwiU1RBUlRfVFJBTlNDUklQVElPTl9DQUxMIiwiU1RPUF9CUk9BRENBU1RfQ0FMTCIsIlNUT1BfQ0xPU0VEX0NBUFRJT05TX0NBTEwiLCJTVE9QX0ZSQU1FX1JFQ09SRF9DQUxMIiwiU1RPUF9SRUNPUkRfQ0FMTCIsIlNUT1BfVFJBTlNDUklQVElPTl9DQUxMIiwiVVBEQVRFX0NBTEwiLCJVUERBVEVfQ0FMTF9NRU1CRVIiLCJVUERBVEVfQ0FMTF9QRVJNSVNTSU9OUyIsIlVQREFURV9DQUxMX1NFVFRJTkdTIiwiUlRNUEJyb2FkY2FzdFJlcXVlc3RRdWFsaXR5RW51bSIsIlBPUlRSQUlUXzM2MFg2NDAiLCJQT1JUUkFJVF80ODBYODU0IiwiUE9SVFJBSVRfNzIwWDEyODAiLCJQT1JUUkFJVF8xMDgwWDE5MjAiLCJQT1JUUkFJVF8xNDQwWDI1NjAiLCJQT1JUUkFJVF8yMTYwWDM4NDAiLCJSVE1QU2V0dGluZ3NSZXF1ZXN0UXVhbGl0eUVudW0iLCJSZWNvcmRTZXR0aW5nc1JlcXVlc3RNb2RlRW51bSIsIlJlY29yZFNldHRpbmdzUmVxdWVzdFF1YWxpdHlFbnVtIiwiU3RhcnRDbG9zZWRDYXB0aW9uc1JlcXVlc3RMYW5ndWFnZUVudW0iLCJBVVRPIiwiRU4iLCJGUiIsIkVTIiwiREUiLCJJVCIsIk5MIiwiUFQiLCJQTCIsIkNBIiwiQ1MiLCJEQSIsIkVMIiwiRkkiLCJJRCIsIkpBIiwiUlUiLCJTViIsIlRBIiwiVEgiLCJUUiIsIkhVIiwiUk8iLCJaSCIsIkFSIiwiVEwiLCJIRSIsIkhJIiwiSFIiLCJLTyIsIk1TIiwiTk8iLCJVSyIsIkJHIiwiRVQiLCJTTCIsIlNLIiwiU3RhcnRUcmFuc2NyaXB0aW9uUmVxdWVzdExhbmd1YWdlRW51bSIsIlRyYW5zY3JpcHRpb25TZXR0aW5nc1JlcXVlc3RDbG9zZWRDYXB0aW9uTW9kZUVudW0iLCJUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXF1ZXN0TGFuZ3VhZ2VFbnVtIiwiVHJhbnNjcmlwdGlvblNldHRpbmdzUmVxdWVzdE1vZGVFbnVtIiwiVHJhbnNjcmlwdGlvblNldHRpbmdzUmVzcG9uc2VDbG9zZWRDYXB0aW9uTW9kZUVudW0iLCJUcmFuc2NyaXB0aW9uU2V0dGluZ3NSZXNwb25zZUxhbmd1YWdlRW51bSIsIlRyYW5zY3JpcHRpb25TZXR0aW5nc1Jlc3BvbnNlTW9kZUVudW0iLCJWaWRlb1NldHRpbmdzUmVxdWVzdENhbWVyYUZhY2luZ0VudW0iLCJGUk9OVCIsIkJBQ0siLCJFWFRFUk5BTCIsIlZpZGVvU2V0dGluZ3NSZXNwb25zZUNhbWVyYUZhY2luZ0VudW0iLCJFcnJvckZyb21SZXNwb25zZSIsIkVycm9yIiwiY29uc3RydWN0b3IiLCJtZXNzYWdlIiwiY29kZSIsInN0YXR1cyIsInJlc3BvbnNlIiwidW5yZWNvdmVyYWJsZSIsIm5hbWUiLCJ0b0pTT04iLCJleHRyYSIsImpvaW5hYmxlIiwia2V5IiwidmFsdWUiLCJwdXNoIiwiam9pbiIsInN0YWNrIiwiTnVsbFZhbHVlIiwiU3RydWN0JFR5cGUiLCJNZXNzYWdlVHlwZSIsIm5vIiwia2luZCIsIksiLCJWIiwiVCIsIlZhbHVlIiwiaW50ZXJuYWxKc29uV3JpdGUiLCJvcHRpb25zIiwianNvbiIsImsiLCJ2IiwiT2JqZWN0IiwiZW50cmllcyIsImZpZWxkcyIsInRvSnNvbiIsImludGVybmFsSnNvblJlYWQiLCJ0YXJnZXQiLCJpc0pzb25PYmplY3QiLCJnbG9iYWxUaGlzIiwidHlwZU5hbWUiLCJ0eXBlb2ZKc29uVmFsdWUiLCJjcmVhdGUiLCJmcm9tSnNvbiIsIlN0cnVjdCIsIlZhbHVlJFR5cGUiLCJvbmVvZiIsIkxpc3RWYWx1ZSIsIm9uZW9mS2luZCIsInVuZGVmaW5lZCIsImJvb2xWYWx1ZSIsIm51bWJlclZhbHVlIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJzdHJpbmdWYWx1ZSIsImxpc3RWYWx1ZUZpZWxkIiwiZmluZCIsImYiLCJsaXN0VmFsdWUiLCJzdHJ1Y3RWYWx1ZUZpZWxkIiwic3RydWN0VmFsdWUiLCJudWxsVmFsdWUiLCJOVUxMX1ZBTFVFIiwiQXJyYXkiLCJpc0FycmF5IiwiTGlzdFZhbHVlJFR5cGUiLCJyZXBlYXQiLCJ2YWx1ZXMiLCJtYXAiLCJUaW1lc3RhbXAkVHlwZSIsIm5vdyIsIm1zZyIsIm1zIiwiRGF0ZSIsInNlY29uZHMiLCJQYkxvbmciLCJmcm9tIiwiTWF0aCIsImZsb29yIiwidG9TdHJpbmciLCJuYW5vcyIsInRvRGF0ZSIsInRvTnVtYmVyIiwiY2VpbCIsImZyb21EYXRlIiwiZGF0ZSIsImdldFRpbWUiLCJwYXJzZSIsInoiLCJuYW5vc1N0ciIsInN1YnN0cmluZyIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsIm1hdGNoZXMiLCJtYXRjaCIsImlzTmFOIiwicGFyc2VJbnQiLCJsZW5ndGgiLCJUaW1lc3RhbXAiLCJQZWVyVHlwZSIsIkNvbm5lY3Rpb25RdWFsaXR5IiwiVmlkZW9RdWFsaXR5IiwiVHJhY2tUeXBlIiwiRXJyb3JDb2RlIiwiU2RrVHlwZSIsIlRyYWNrVW5wdWJsaXNoUmVhc29uIiwiR29Bd2F5UmVhc29uIiwiQ2FsbEVuZGVkUmVhc29uIiwiV2Vic29ja2V0UmVjb25uZWN0U3RyYXRlZ3kiLCJBbmRyb2lkVGhlcm1hbFN0YXRlIiwiQXBwbGVUaGVybWFsU3RhdGUiLCJDYWxsU3RhdGUkVHlwZSIsIlBhcnRpY2lwYW50IiwiUGFydGljaXBhbnRDb3VudCIsIlBpbiIsIkNhbGxTdGF0ZSIsIlBhcnRpY2lwYW50Q291bnQkVHlwZSIsIlBpbiRUeXBlIiwiUGFydGljaXBhbnQkVHlwZSIsIlN0cmVhbVF1YWxpdHkkVHlwZSIsIlN0cmVhbVF1YWxpdHkiLCJWaWRlb0RpbWVuc2lvbiRUeXBlIiwiVmlkZW9EaW1lbnNpb24iLCJWaWRlb0xheWVyJFR5cGUiLCJWaWRlb0xheWVyIiwiU3Vic2NyaWJlT3B0aW9uJFR5cGUiLCJDb2RlYyIsIlN1YnNjcmliZU9wdGlvbiIsIlB1Ymxpc2hPcHRpb24kVHlwZSIsIlB1Ymxpc2hPcHRpb24iLCJDb2RlYyRUeXBlIiwiSUNFVHJpY2tsZSRUeXBlIiwiSUNFVHJpY2tsZSIsIlRyYWNrSW5mbyRUeXBlIiwiVHJhY2tJbmZvIiwiRXJyb3IkVHlwZSIsIkNsaWVudERldGFpbHMkVHlwZSIsIlNkayIsIk9TIiwiQnJvd3NlciIsIkRldmljZSIsIkNsaWVudERldGFpbHMiLCJTZGskVHlwZSIsIk9TJFR5cGUiLCJCcm93c2VyJFR5cGUiLCJSVE1QSW5ncmVzcyRUeXBlIiwiUlRNUEluZ3Jlc3MiLCJEZXZpY2UkVHlwZSIsIkNhbGwkVHlwZSIsIkNhbGwiLCJDYWxsR3JhbnRzJFR5cGUiLCJDYWxsR3JhbnRzIiwiSW5wdXREZXZpY2VzJFR5cGUiLCJJbnB1dERldmljZXMiLCJBbmRyb2lkU3RhdGUkVHlwZSIsIkFuZHJvaWRTdGF0ZSIsIkFwcGxlU3RhdGUkVHlwZSIsIkFwcGxlU3RhdGUiLCJQZXJmb3JtYW5jZVN0YXRzJFR5cGUiLCJQZXJmb3JtYW5jZVN0YXRzIiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlcXVlc3QkVHlwZSIsIlN0YXJ0Tm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IiwiU3RhcnROb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlJFR5cGUiLCJTdGFydE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UiLCJTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0JFR5cGUiLCJTdG9wTm9pc2VDYW5jZWxsYXRpb25SZXF1ZXN0IiwiU3RvcE5vaXNlQ2FuY2VsbGF0aW9uUmVzcG9uc2UkVHlwZSIsIlN0b3BOb2lzZUNhbmNlbGxhdGlvblJlc3BvbnNlIiwiUmVjb25uZWN0aW9uJFR5cGUiLCJSZWNvbm5lY3Rpb24iLCJUZWxlbWV0cnkkVHlwZSIsIlRlbGVtZXRyeSIsIlNlbmRTdGF0c1JlcXVlc3QkVHlwZSIsIlNlbmRTdGF0c1JlcXVlc3QiLCJTZW5kU3RhdHNSZXNwb25zZSRUeXBlIiwiU2VuZFN0YXRzUmVzcG9uc2UiLCJJQ0VSZXN0YXJ0UmVxdWVzdCRUeXBlIiwiSUNFUmVzdGFydFJlcXVlc3QiLCJJQ0VSZXN0YXJ0UmVzcG9uc2UkVHlwZSIsIklDRVJlc3RhcnRSZXNwb25zZSIsIlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0JFR5cGUiLCJUcmFja011dGVTdGF0ZSIsIlVwZGF0ZU11dGVTdGF0ZXNSZXF1ZXN0IiwiVXBkYXRlTXV0ZVN0YXRlc1Jlc3BvbnNlJFR5cGUiLCJVcGRhdGVNdXRlU3RhdGVzUmVzcG9uc2UiLCJUcmFja011dGVTdGF0ZSRUeXBlIiwiQXVkaW9NdXRlQ2hhbmdlZCRUeXBlIiwiVmlkZW9NdXRlQ2hhbmdlZCRUeXBlIiwiVXBkYXRlU3Vic2NyaXB0aW9uc1JlcXVlc3QkVHlwZSIsIlRyYWNrU3Vic2NyaXB0aW9uRGV0YWlscyIsIlVwZGF0ZVN1YnNjcmlwdGlvbnNSZXF1ZXN0IiwiVXBkYXRlU3Vic2NyaXB0aW9uc1Jlc3BvbnNlJFR5cGUiLCJVcGRhdGVTdWJzY3JpcHRpb25zUmVzcG9uc2UiLCJUcmFja1N1YnNjcmlwdGlvbkRldGFpbHMkVHlwZSIsIlNlbmRBbnN3ZXJSZXF1ZXN0JFR5cGUiLCJTZW5kQW5zd2VyUmVxdWVzdCIsIlNlbmRBbnN3ZXJSZXNwb25zZSRUeXBlIiwiU2VuZEFuc3dlclJlc3BvbnNlIiwiSUNFVHJpY2tsZVJlc3BvbnNlJFR5cGUiLCJJQ0VUcmlja2xlUmVzcG9uc2UiLCJTZXRQdWJsaXNoZXJSZXF1ZXN0JFR5cGUiLCJTZXRQdWJsaXNoZXJSZXF1ZXN0IiwiU2V0UHVibGlzaGVyUmVzcG9uc2UkVHlwZSIsIlNldFB1Ymxpc2hlclJlc3BvbnNlIiwiU2lnbmFsU2VydmVyIiwiU2VydmljZVR5cGUiLCJJIiwiTyIsIlNmdUV2ZW50JFR5cGUiLCJTdWJzY3JpYmVyT2ZmZXIiLCJQdWJsaXNoZXJBbnN3ZXIiLCJDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQiLCJBdWRpb0xldmVsQ2hhbmdlZCIsIklDRVRyaWNrbGUkIiwiQ2hhbmdlUHVibGlzaFF1YWxpdHkiLCJQYXJ0aWNpcGFudEpvaW5lZCIsIlBhcnRpY2lwYW50TGVmdCIsIkRvbWluYW50U3BlYWtlckNoYW5nZWQiLCJKb2luUmVzcG9uc2UiLCJIZWFsdGhDaGVja1Jlc3BvbnNlIiwiVHJhY2tQdWJsaXNoZWQiLCJUcmFja1VucHVibGlzaGVkIiwiQ2FsbEdyYW50c1VwZGF0ZWQiLCJHb0F3YXkiLCJJQ0VSZXN0YXJ0IiwiUGluc0NoYW5nZWQiLCJDYWxsRW5kZWQiLCJQYXJ0aWNpcGFudFVwZGF0ZWQiLCJQYXJ0aWNpcGFudE1pZ3JhdGlvbkNvbXBsZXRlIiwiQ2hhbmdlUHVibGlzaE9wdGlvbnMiLCJTZnVFdmVudCIsIkNoYW5nZVB1Ymxpc2hPcHRpb25zJFR5cGUiLCJDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlJFR5cGUiLCJDaGFuZ2VQdWJsaXNoT3B0aW9uc0NvbXBsZXRlIiwiUGFydGljaXBhbnRNaWdyYXRpb25Db21wbGV0ZSRUeXBlIiwiUGluc0NoYW5nZWQkVHlwZSIsIkVycm9yJCIsIklDRVJlc3RhcnQkVHlwZSIsIlNmdVJlcXVlc3QkVHlwZSIsIkpvaW5SZXF1ZXN0IiwiSGVhbHRoQ2hlY2tSZXF1ZXN0IiwiTGVhdmVDYWxsUmVxdWVzdCIsIlNmdVJlcXVlc3QiLCJMZWF2ZUNhbGxSZXF1ZXN0JFR5cGUiLCJIZWFsdGhDaGVja1JlcXVlc3QkVHlwZSIsIkhlYWx0aENoZWNrUmVzcG9uc2UkVHlwZSIsIlRyYWNrUHVibGlzaGVkJFR5cGUiLCJUcmFja1VucHVibGlzaGVkJFR5cGUiLCJKb2luUmVxdWVzdCRUeXBlIiwiTWlncmF0aW9uIiwiUmVjb25uZWN0RGV0YWlscyIsIlJlY29ubmVjdERldGFpbHMkVHlwZSIsIk1pZ3JhdGlvbiRUeXBlIiwiSm9pblJlc3BvbnNlJFR5cGUiLCJQYXJ0aWNpcGFudEpvaW5lZCRUeXBlIiwiUGFydGljaXBhbnRMZWZ0JFR5cGUiLCJQYXJ0aWNpcGFudFVwZGF0ZWQkVHlwZSIsIlN1YnNjcmliZXJPZmZlciRUeXBlIiwiUHVibGlzaGVyQW5zd2VyJFR5cGUiLCJDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQkVHlwZSIsIkNvbm5lY3Rpb25RdWFsaXR5SW5mbyIsIkNvbm5lY3Rpb25RdWFsaXR5SW5mbyRUeXBlIiwiRG9taW5hbnRTcGVha2VyQ2hhbmdlZCRUeXBlIiwiQXVkaW9MZXZlbCRUeXBlIiwiQXVkaW9MZXZlbCIsIkF1ZGlvTGV2ZWxDaGFuZ2VkJFR5cGUiLCJBdWRpb1NlbmRlciRUeXBlIiwiQXVkaW9TZW5kZXIiLCJWaWRlb0xheWVyU2V0dGluZyRUeXBlIiwiVmlkZW9MYXllclNldHRpbmciLCJWaWRlb1NlbmRlciRUeXBlIiwiVmlkZW9TZW5kZXIiLCJDaGFuZ2VQdWJsaXNoUXVhbGl0eSRUeXBlIiwiQ2FsbEdyYW50c1VwZGF0ZWQkVHlwZSIsIkdvQXdheSRUeXBlIiwiQ2FsbEVuZGVkJFR5cGUiLCJWaXNpYmlsaXR5U3RhdGUiLCJEZWJvdW5jZVR5cGUiLCJTaWduYWxTZXJ2ZXJDbGllbnQiLCJfdHJhbnNwb3J0IiwibWV0aG9kcyIsInNldFB1Ymxpc2hlciIsImlucHV0IiwibWV0aG9kIiwib3B0IiwibWVyZ2VPcHRpb25zIiwic3RhY2tJbnRlcmNlcHQiLCJzZW5kQW5zd2VyIiwiaWNlVHJpY2tsZSIsInVwZGF0ZVN1YnNjcmlwdGlvbnMiLCJ1cGRhdGVNdXRlU3RhdGVzIiwiaWNlUmVzdGFydCIsInNlbmRTdGF0cyIsInN0YXJ0Tm9pc2VDYW5jZWxsYXRpb24iLCJzdG9wTm9pc2VDYW5jZWxsYXRpb24iLCJkZWZhdWx0T3B0aW9ucyIsImJhc2VVcmwiLCJzZW5kSnNvbiIsInRpbWVvdXQiLCJqc29uT3B0aW9ucyIsImlnbm9yZVVua25vd25GaWVsZHMiLCJ3aXRoSGVhZGVycyIsImhlYWRlcnMiLCJpbnRlcmNlcHRVbmFyeSIsIm5leHQiLCJtZXRhIiwid2l0aFJlcXVlc3RMb2dnZXIiLCJsb2dnZXIiLCJsZXZlbCIsImludm9jYXRpb24iLCJyZXF1ZXN0IiwicmVxdWVzdEhlYWRlcnMiLCJ3aXRoUmVxdWVzdFRyYWNlciIsInRyYWNlIiwidHJhY2VFcnJvciIsImVyciIsImV4Y2x1c2lvbnMiLCJTZW5kU3RhdHMiLCJ1bmFyeUNhbGwiLCJ0aGVuIiwiZXJyb3IiLCJjcmVhdGVTaWduYWxDbGllbnQiLCJ0cmFuc3BvcnQiLCJUd2lycEZldGNoVHJhbnNwb3J0Iiwic2xlZXAiLCJtIiwiUHJvbWlzZSIsInIiLCJzZXRUaW1lb3V0IiwiaXNGdW5jdGlvbiIsInByb3RvdHlwZSIsImNhbGwiLCJGdW5jdGlvbiIsIktub3duQ29kZXMiLCJUT0tFTl9FWFBJUkVEIiwiV1NfQ0xPU0VEX1NVQ0NFU1MiLCJyZXRyeUludGVydmFsIiwibnVtYmVyT2ZGYWlsdXJlcyIsIm1heCIsIm1pbiIsInJhbmRvbSIsImhleCIsImJ5dGVzIiwicyIsImkiLCJwYWRTdGFydCIsImdlbmVyYXRlVVVJRHY0IiwiZ2V0UmFuZG9tQnl0ZXMiLCJzdWJhcnJheSIsImdldFJhbmRvbVZhbHVlcyIsImNyeXB0byIsImJpbmQiLCJnZXRSYW5kb21WYWx1ZXNXaXRoTWF0aFJhbmRvbSIsInBvdyIsImJ5dGVMZW5ndGgiLCJVaW50OEFycmF5IiwiYWRkQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwiY2IiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlQ29ubmVjdGlvbkV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRXJyb3JSZXNwb25zZSIsInJlcyIsImlzQ2xvc2VFdmVudCIsImlzUmVhY3ROYXRpdmUiLCJuYXZpZ2F0b3IiLCJwcm9kdWN0IiwidG9Mb3dlckNhc2UiLCJsb2dMZXZlbHMiLCJmcmVlemUiLCJkZWJ1ZyIsImluZm8iLCJ3YXJuIiwibG9nVG9Db25zb2xlIiwibG9nTGV2ZWwiLCJhcmdzIiwibG9nTWV0aG9kIiwiY29uc29sZSIsImxvZyIsInNldExvZ2dlciIsImwiLCJsdmwiLCJzZXRMb2dMZXZlbCIsImdldExvZ0xldmVsIiwiZ2V0TG9nZ2VyIiwid2l0aFRhZ3MiLCJsb2dnZXJNZXRob2QiLCJ0YWdzIiwiZmlsdGVyIiwiQm9vbGVhbiIsInJlc3VsdCIsInJldHJ5YWJsZSIsInJwYyIsInNpZ25hbCIsImF0dGVtcHQiLCJpc1JlcXVlc3RDYW5jZWxsZWQiLCJScGNFcnJvciIsIlR3aXJwRXJyb3JDb2RlIiwiY2FuY2VsbGVkIiwiaXNBYm9ydGVkIiwiYWJvcnRlZCIsInNob3VsZFJldHJ5IiwiZ2V0R2VuZXJpY1NkcCIsImRpcmVjdGlvbiIsInRlbXBQYyIsIlJUQ1BlZXJDb25uZWN0aW9uIiwiYWRkVHJhbnNjZWl2ZXIiLCJvZmZlciIsImNyZWF0ZU9mZmVyIiwic2RwIiwiZ2V0VHJhbnNjZWl2ZXJzIiwiZm9yRWFjaCIsInQiLCJzdG9wIiwiY2xvc2UiLCJpc1N2Y0NvZGVjIiwiY29kZWNPck1pbWVUeXBlIiwic2Z1RXZlbnRLaW5kcyIsInN1YnNjcmliZXJPZmZlciIsInB1Ymxpc2hlckFuc3dlciIsImNvbm5lY3Rpb25RdWFsaXR5Q2hhbmdlZCIsImF1ZGlvTGV2ZWxDaGFuZ2VkIiwiY2hhbmdlUHVibGlzaFF1YWxpdHkiLCJwYXJ0aWNpcGFudEpvaW5lZCIsInBhcnRpY2lwYW50TGVmdCIsImRvbWluYW50U3BlYWtlckNoYW5nZWQiLCJqb2luUmVzcG9uc2UiLCJoZWFsdGhDaGVja1Jlc3BvbnNlIiwidHJhY2tQdWJsaXNoZWQiLCJ0cmFja1VucHVibGlzaGVkIiwiY2FsbEdyYW50c1VwZGF0ZWQiLCJnb0F3YXkiLCJwaW5zVXBkYXRlZCIsImNhbGxFbmRlZCIsInBhcnRpY2lwYW50VXBkYXRlZCIsInBhcnRpY2lwYW50TWlncmF0aW9uQ29tcGxldGUiLCJjaGFuZ2VQdWJsaXNoT3B0aW9ucyIsImlzU2Z1RXZlbnQiLCJldmVudE5hbWUiLCJoYXNPd25Qcm9wZXJ0eSIsIkRpc3BhdGNoZXIiLCJzdWJzY3JpYmVycyIsImRpc3BhdGNoIiwibG9nVGFnIiwiZXZlbnRLaW5kIiwiZXZlbnRQYXlsb2FkIiwicGF5bG9hZCIsImxpc3RlbmVycyIsImZuIiwiZSIsIm9uIiwiX2EiLCJvZmYiLCJJY2VUcmlja2xlQnVmZmVyIiwic3Vic2NyaWJlckNhbmRpZGF0ZXMiLCJSZXBsYXlTdWJqZWN0IiwicHVibGlzaGVyQ2FuZGlkYXRlcyIsImljZUNhbmRpZGF0ZSIsInRvSWNlQ2FuZGlkYXRlIiwicGVlclR5cGUiLCJTVUJTQ1JJQkVSIiwiUFVCTElTSEVSX1VOU1BFQ0lGSUVEIiwiZGlzcG9zZSIsImNvbXBsZXRlIiwiSlNPTiIsIndpdGhvdXRDb25jdXJyZW5jeSIsImNyZWF0ZVJ1bm5lciIsIndyYXBXaXRoQ29udGludWF0aW9uVHJhY2tpbmciLCJ3aXRoQ2FuY2VsbGF0aW9uIiwid3JhcFdpdGhDYW5jZWxsYXRpb24iLCJwZW5kaW5nUHJvbWlzZXMiLCJNYXAiLCJoYXNQZW5kaW5nIiwidGFnIiwiaGFzIiwic2V0dGxlZCIsInBlbmRpbmciLCJnZXQiLCJwcm9taXNlIiwid3JhcHBlciIsInJ1biIsIndyYXBwZWQiLCJvbkNvbnRpbnVlZCIsInNldCIsImhhc0NvbnRpbnVhdGlvbiIsImZpbmFsbHkiLCJkZWxldGUiLCJhYyIsIkFib3J0Q29udHJvbGxlciIsInJlc29sdmUiLCJhYm9ydCIsImlzRnVuY3Rpb25QYXRjaCIsInVwZGF0ZSIsImdldEN1cnJlbnRWYWx1ZSIsIm9ic2VydmFibGUkIiwiY29tYmluZUxhdGVzdCIsInN1YnNjcmliZSIsInVuc3Vic2NyaWJlIiwic2V0Q3VycmVudFZhbHVlIiwic3ViamVjdCIsInVwZGF0ZVZhbHVlIiwibGFzdFZhbHVlIiwiZ2V0VmFsdWUiLCJyb2xsYmFjayIsImNyZWF0ZVN1YnNjcmlwdGlvbiIsIm9ic2VydmFibGUiLCJoYW5kbGVyIiwib25FcnJvciIsInN1YnNjcmlwdGlvbiIsImNyZWF0ZVNhZmVBc3luY1N1YnNjcmlwdGlvbiIsIlN5bWJvbCIsIkNhbGxpbmdTdGF0ZSIsIlN0cmVhbVZpZGVvV3JpdGVhYmxlU3RhdGVTdG9yZSIsImNvbm5lY3RlZFVzZXJTdWJqZWN0IiwiQmVoYXZpb3JTdWJqZWN0IiwiY2FsbHNTdWJqZWN0Iiwic2V0Q29ubmVjdGVkVXNlciIsInVzZXIiLCJSeFV0aWxzLnNldEN1cnJlbnRWYWx1ZSIsInNldENhbGxzIiwiY2FsbHMiLCJyZWdpc3RlckNhbGwiLCJjIiwiY2lkIiwidW5yZWdpc3RlckNhbGwiLCJmaW5kQ2FsbCIsInR5cGUiLCJpZCIsInN0YXRlIiwiY2FsbGluZ1N0YXRlIiwiTEVGVCIsImxlYXZlIiwiY2F0Y2giLCJjb25uZWN0ZWRVc2VyIiwiUnhVdGlscy5nZXRDdXJyZW50VmFsdWUiLCJTdHJlYW1WaWRlb1JlYWRPbmx5U3RhdGVTdG9yZSIsInN0b3JlIiwiY29ubmVjdGVkVXNlciQiLCJhc09ic2VydmFibGUiLCJjYWxscyQiLCJjb21iaW5lQ29tcGFyYXRvcnMiLCJjb21wYXJhdG9ycyIsImEiLCJiIiwiY29tcGFyYXRvciIsImRlc2NlbmRpbmciLCJjb25kaXRpb25hbCIsInByZWRpY2F0ZSIsIm5vb3BDb21wYXJhdG9yIiwiaGFzVmlkZW8iLCJwIiwicHVibGlzaGVkVHJhY2tzIiwiaW5jbHVkZXMiLCJWSURFTyIsImhhc0F1ZGlvIiwiQVVESU8iLCJoYXNTY3JlZW5TaGFyZSIsIlNDUkVFTl9TSEFSRSIsImhhc1NjcmVlblNoYXJlQXVkaW8iLCJTQ1JFRU5fU0hBUkVfQVVESU8iLCJpc1Bpbm5lZCIsInBpbiIsImlzTG9jYWxQaW4iLCJwaW5uZWRBdCIsImRvbWluYW50U3BlYWtlciIsImlzRG9taW5hbnRTcGVha2VyIiwic3BlYWtpbmciLCJpc1NwZWFraW5nIiwic2NyZWVuU2hhcmluZyIsInB1Ymxpc2hpbmdWaWRlbyIsInB1Ymxpc2hpbmdBdWRpbyIsInBpbm5lZCIsInJlYWN0aW9uVHlwZSIsInJlYWN0aW9uIiwicm9sZSIsInJvbGVzIiwiaGFzQW55Um9sZSIsInNvbWUiLCJpZkludmlzaWJsZUJ5Iiwidmlld3BvcnRWaXNpYmlsaXR5U3RhdGUiLCJ2aWRlb1RyYWNrIiwiSU5WSVNJQkxFIiwiaWZJbnZpc2libGVPclVua25vd25CeSIsIlVOS05PV04iLCJkZWZhdWx0U29ydFByZXNldCIsInNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0IiwicGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCIsImxpdmVzdHJlYW1PckF1ZGlvUm9vbVNvcnRQcmVzZXQiLCJkZWZhdWx0RWdyZXNzIiwiYnJvYWRjYXN0aW5nIiwiaGxzIiwicGxheWxpc3RfdXJsIiwicnRtcHMiLCJiYWNrc3RhZ2VTdWJqZWN0IiwiYmxvY2tlZFVzZXJJZHNTdWJqZWN0IiwiY3JlYXRlZEF0U3ViamVjdCIsImVuZGVkQXRTdWJqZWN0Iiwic3RhcnRzQXRTdWJqZWN0IiwidXBkYXRlZEF0U3ViamVjdCIsImNyZWF0ZWRCeVN1YmplY3QiLCJjdXN0b21TdWJqZWN0IiwiZWdyZXNzU3ViamVjdCIsImluZ3Jlc3NTdWJqZWN0IiwicmVjb3JkaW5nU3ViamVjdCIsInNlc3Npb25TdWJqZWN0Iiwic2V0dGluZ3NTdWJqZWN0IiwidHJhbnNjcmliaW5nU3ViamVjdCIsImNhcHRpb25pbmdTdWJqZWN0IiwiZW5kZWRCeVN1YmplY3QiLCJ0aHVtYm5haWxzU3ViamVjdCIsIm1lbWJlcnNTdWJqZWN0Iiwib3duQ2FwYWJpbGl0aWVzU3ViamVjdCIsImNhbGxpbmdTdGF0ZVN1YmplY3QiLCJzdGFydGVkQXRTdWJqZWN0IiwicGFydGljaXBhbnRDb3VudFN1YmplY3QiLCJhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50U3ViamVjdCIsInBhcnRpY2lwYW50c1N1YmplY3QiLCJjYWxsU3RhdHNSZXBvcnRTdWJqZWN0IiwiY2xvc2VkQ2FwdGlvbnNTdWJqZWN0Iiwib3JwaGFuZWRUcmFja3MiLCJzb3J0UGFydGljaXBhbnRzQnkiLCJjbG9zZWRDYXB0aW9uc1Rhc2tzIiwiY2NLZXkiLCJ0YXNrSWQiLCJjbGVhclRpbWVvdXQiLCJzZXRTb3J0UGFydGljaXBhbnRzQnkiLCJwcyIsInNldFBhcnRpY2lwYW50Q291bnQiLCJjb3VudCIsInNldFN0YXJ0ZWRBdCIsInN0YXJ0ZWRBdCIsInNldENhcHRpb25pbmciLCJjYXB0aW9uaW5nIiwiUnhVdGlscy51cGRhdGVWYWx1ZSIsInNldEFub255bW91c1BhcnRpY2lwYW50Q291bnQiLCJzZXRQYXJ0aWNpcGFudHMiLCJwYXJ0aWNpcGFudHMiLCJzZXRDYWxsaW5nU3RhdGUiLCJzZXRDYWxsU3RhdHNSZXBvcnQiLCJyZXBvcnQiLCJzZXRNZW1iZXJzIiwibWVtYmVycyIsInNldE93bkNhcGFiaWxpdGllcyIsImNhcGFiaWxpdGllcyIsInNldEJhY2tzdGFnZSIsImJhY2tzdGFnZSIsInNldEVuZGVkQXQiLCJlbmRlZEF0IiwiZmluZFBhcnRpY2lwYW50QnlTZXNzaW9uSWQiLCJzZXNzaW9uSWQiLCJnZXRQYXJ0aWNpcGFudExvb2t1cEJ5U2Vzc2lvbklkIiwicmVkdWNlIiwibG9va3VwVGFibGUiLCJwYXJ0aWNpcGFudCIsInVwZGF0ZVBhcnRpY2lwYW50IiwicGF0Y2giLCJ0aGVQYXRjaCIsInVwZGF0ZWRQYXJ0aWNpcGFudCIsInVwZGF0ZU9yQWRkUGFydGljaXBhbnQiLCJhZGQiLCJuZXh0UGFydGljaXBhbnRzIiwidXBkYXRlUGFydGljaXBhbnRzIiwia2V5cyIsInVwZGF0ZVBhcnRpY2lwYW50VHJhY2tzIiwidHJhY2tUeXBlIiwiY2hhbmdlcyIsImFjYyIsImNoYW5nZSIsImRpbWVuc2lvbiIsImhlaWdodCIsIndpZHRoIiwicHJvcCIsInVwZGF0ZUZyb21FdmVudCIsImV2ZW50IiwiZXZlbnRIYW5kbGVycyIsInNldFNlcnZlclNpZGVQaW5zIiwicGlucyIsInBpbnNMb29rdXAiLCJsb29rdXAiLCJzZXJ2ZXJTaWRlUGlubmVkQXQiLCJyZWdpc3Rlck9ycGhhbmVkVHJhY2siLCJvcnBoYW5lZFRyYWNrIiwicmVtb3ZlT3JwaGFuZWRUcmFjayIsIm8iLCJ0YWtlT3JwaGFuZWRUcmFja3MiLCJ0cmFja0xvb2t1cFByZWZpeCIsIm9ycGhhbnMiLCJvcnBoYW4iLCJ1cGRhdGVDbG9zZWRDYXB0aW9uU2V0dGluZ3MiLCJjb25maWciLCJjbG9zZWRDYXB0aW9uc1NldHRpbmdzIiwidXBkYXRlRnJvbUNhbGxSZXNwb25zZSIsImJsb2NrZWRfdXNlcl9pZHMiLCJjcmVhdGVkX2F0IiwidXBkYXRlZF9hdCIsInN0YXJ0c19hdCIsImVuZGVkX2F0IiwiY3JlYXRlZF9ieSIsImN1c3RvbSIsImVncmVzcyIsImluZ3Jlc3MiLCJyZWNvcmRpbmciLCJzZXNzaW9uIiwidXBkYXRlUGFydGljaXBhbnRDb3VudEZyb21TZXNzaW9uIiwic2V0dGluZ3MiLCJ0cmFuc2NyaWJpbmciLCJ0aHVtYm5haWxzIiwidXBkYXRlRnJvbVNmdUNhbGxTdGF0ZSIsImNhbGxTdGF0ZSIsImN1cnJlbnRTZXNzaW9uSWQiLCJyZWNvbm5lY3REZXRhaWxzIiwicGFydGljaXBhbnRDb3VudCIsImxvY2FsUHVibGlzaGVkVHJhY2tzIiwiYW5ub3VuY2VkVHJhY2tzIiwicGFydGljaXBhbnRMb29rdXAiLCJleGlzdGluZ1BhcnRpY2lwYW50IiwiaXNMb2NhbFBhcnRpY2lwYW50IiwiYXNzaWduIiwic2NyZWVuU2hhcmVUcmFjayIsInRvdGFsIiwiYW5vbnltb3VzIiwidXBkYXRlRnJvbU1lbWJlclJlbW92ZWQiLCJpbmRleE9mIiwidXNlcl9pZCIsInVwZGF0ZUZyb21NZW1iZXJBZGRlZCIsInVwZGF0ZUZyb21ITFNCcm9hZGNhc3RTdG9wcGVkIiwidXBkYXRlRnJvbUhMU0Jyb2FkY2FzdGluZ0ZhaWxlZCIsIkpPSU5FRCIsImJ5Um9sZUNvdW50IiwicGFydGljaXBhbnRzX2NvdW50X2J5X3JvbGUiLCJjb3VudEJ5Um9sZSIsImFub255bW91c19wYXJ0aWNpcGFudF9jb3VudCIsInVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRDb3VudFVwZGF0ZSIsInVwZGF0ZUZyb21TZXNzaW9uUGFydGljaXBhbnRMZWZ0IiwidXNlcl9zZXNzaW9uX2lkIiwidXBkYXRlRnJvbVNlc3Npb25QYXJ0aWNpcGFudEpvaW5lZCIsInNob3VsZEluc2VydFBhcnRpY2lwYW50IiwidXBkYXRlZFBhcnRpY2lwYW50cyIsImluY3JlbWVudCIsInVwZGF0ZU1lbWJlcnMiLCJtZW1iZXIiLCJtZW1iZXJVcGRhdGUiLCJ1cGRhdGVQYXJ0aWNpcGFudFJlYWN0aW9uIiwiZW1vamlfY29kZSIsInVzZXJJZCIsInVuYmxvY2tVc2VyIiwiY3VycmVudCIsImJsb2NrVXNlciIsInVwZGF0ZU93bkNhcGFiaWxpdGllcyIsImxvY2FsUGFydGljaXBhbnQiLCJvd25fY2FwYWJpbGl0aWVzIiwidXBkYXRlRnJvbUNsb3NlZENhcHRpb25zIiwicXVldWUiLCJjbG9zZWRfY2FwdGlvbiIsImtleU9mIiwic3BlYWtlcl9pZCIsInN0YXJ0X3RpbWUiLCJjdXJyZW50S2V5IiwiZHVwbGljYXRlIiwiY2FwdGlvbiIsIm5leHRRdWV1ZSIsInZpc2liaWxpdHlEdXJhdGlvbk1zIiwibWF4VmlzaWJsZUNhcHRpb25zIiwiY2FwdGlvbnMiLCJ0YXNrIiwic2xpY2UiLCJyYXdQYXJ0aWNpcGFudHMkIiwicGlwZSIsInNoYXJlUmVwbGF5IiwiYnVmZmVyU2l6ZSIsInJlZkNvdW50IiwicGFydGljaXBhbnRzJCIsInNvcnQiLCJsb2NhbFBhcnRpY2lwYW50JCIsInJlbW90ZVBhcnRpY2lwYW50cyQiLCJwaW5uZWRQYXJ0aWNpcGFudHMkIiwiZG9taW5hbnRTcGVha2VyJCIsImhhc09uZ29pbmdTY3JlZW5TaGFyZSQiLCJkaXN0aW5jdFVudGlsQ2hhbmdlZCIsImNyZWF0ZWRBdCQiLCJlbmRlZEF0JCIsInN0YXJ0c0F0JCIsInN0YXJ0ZWRBdCQiLCJ1cGRhdGVkQXQkIiwiY2FsbFN0YXRzUmVwb3J0JCIsIm1lbWJlcnMkIiwiY3JlYXRlZEJ5JCIsImN1c3RvbSQiLCJlZ3Jlc3MkIiwiaW5ncmVzcyQiLCJzZXNzaW9uJCIsInNldHRpbmdzJCIsImVuZGVkQnkkIiwidGh1bWJuYWlscyQiLCJjbG9zZWRDYXB0aW9ucyQiLCJpc1NoYWxsb3dFcXVhbCIsIml0ZW0iLCJkdWMiLCJhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50JCIsImJsb2NrZWRVc2VySWRzJCIsImJhY2tzdGFnZSQiLCJjYWxsaW5nU3RhdGUkIiwib3duQ2FwYWJpbGl0aWVzJCIsInBhcnRpY2lwYW50Q291bnQkIiwicmVjb3JkaW5nJCIsInRyYW5zY3JpYmluZyQiLCJjYXB0aW9uaW5nJCIsImFub255bW91c1BhcnRpY2lwYW50Q291bnQiLCJyYXdQYXJ0aWNpcGFudHMiLCJyZW1vdGVQYXJ0aWNpcGFudHMiLCJwaW5uZWRQYXJ0aWNpcGFudHMiLCJoYXNPbmdvaW5nU2NyZWVuU2hhcmUiLCJjYWxsU3RhdHNSZXBvcnQiLCJpc0NhbGxTdGF0c1JlcG9ydE9ic2VydmVkIiwib2JzZXJ2ZWQiLCJvd25DYXBhYmlsaXRpZXMiLCJibG9ja2VkVXNlcklkcyIsImNyZWF0ZWRBdCIsInN0YXJ0c0F0IiwidXBkYXRlZEF0IiwiY3JlYXRlZEJ5IiwiZW5kZWRCeSIsImNsb3NlZENhcHRpb25zIiwiTmVnb3RpYXRpb25FcnJvciIsImZsYXR0ZW4iLCJzdGF0cyIsImR1bXBTdHJlYW0iLCJzdHJlYW0iLCJ0cmFja3MiLCJnZXRUcmFja3MiLCJ0cmFjayIsImxhYmVsIiwiZW5hYmxlZCIsIm11dGVkIiwicmVhZHlTdGF0ZSIsImdldFNka1NpZ25hdHVyZSIsImNsaWVudERldGFpbHMiLCJzZGsiLCJwbGF0Zm9ybSIsInNka05hbWUiLCJnZXRTZGtOYW1lIiwic2RrVmVyc2lvbiIsImdldFNka1ZlcnNpb24iLCJSRUFDVCIsIlJFQUNUX05BVElWRSIsIm1ham9yIiwibWlub3IiLCJpc1NhZmFyaSIsInRlc3QiLCJ1c2VyQWdlbnQiLCJpc0ZpcmVmb3giLCJpc0Nocm9tZSIsImNyZWF0ZVN0YXRzUmVwb3J0ZXIiLCJzdWJzY3JpYmVyIiwicHVibGlzaGVyIiwiZGF0YWNlbnRlciIsInBvbGxpbmdJbnRlcnZhbEluTXMiLCJnZXRSYXdTdGF0c0ZvclRyYWNrIiwic2VsZWN0b3IiLCJnZXRTdGF0cyIsImdldFN0YXRzRm9yU3RyZWFtIiwicGMiLCJzdGF0c0ZvclN0cmVhbSIsInRyYW5zZm9ybSIsInRyYWNrS2luZCIsInN0YXJ0UmVwb3J0aW5nU3RhdHNGb3IiLCJzZXNzaW9uSWRzVG9UcmFjayIsInN0b3BSZXBvcnRpbmdTdGF0c0ZvciIsIlNldCIsInBhcnRpY2lwYW50U3RhdHMiLCJzaXplIiwic2Vzc2lvbklkcyIsImF1ZGlvU3RyZWFtIiwidmlkZW9TdHJlYW0iLCJnZXRQdWJsaXNoZWRUcmFja3MiLCJnZXRWaWRlb1RyYWNrcyIsImdldEF1ZGlvVHJhY2tzIiwic3Vic2NyaWJlclJhd1N0YXRzIiwicHVibGlzaGVyUmF3U3RhdHMiLCJhbGwiLCJwcm9jZXNzIiwiYWdncmVnYXRlIiwic3Vic2NyaWJlclN0YXRzIiwiZ2V0RW1wdHlTdGF0cyIsInB1Ymxpc2hlclN0YXRzIiwidGltZXN0YW1wIiwidGltZW91dElkIiwibG9vcCIsIm9wdHMiLCJzdHJlYW1zIiwic3RhdCIsInJ0Y1N0cmVhbVN0YXRzIiwiY29kZWMiLCJjb2RlY0lkIiwidHJhbnNwb3J0SWQiLCJyb3VuZFRyaXBUaW1lIiwiZHRsc1N0YXRlIiwiY2FuZGlkYXRlUGFpciIsInNlbGVjdGVkQ2FuZGlkYXRlUGFpcklkIiwiY3VycmVudFJvdW5kVHJpcFRpbWUiLCJmaXJlZm94IiwibWVkaWFTb3VyY2UiLCJtZWRpYVNvdXJjZUlkIiwiZ2V0VHJhY2tUeXBlIiwidHJhY2tJZGVudGlmaWVyIiwiYnl0ZXNTZW50IiwiYnl0ZXNSZWNlaXZlZCIsIm1pbWVUeXBlIiwiZnJhbWVIZWlnaHQiLCJmcmFtZVdpZHRoIiwiZnJhbWVzUGVyU2Vjb25kIiwiaml0dGVyIiwicXVhbGl0eUxpbWl0YXRpb25SZWFzb24iLCJyaWQiLCJzc3JjIiwicmF3U3RhdHMiLCJyYXdSZXBvcnQiLCJ0b3RhbEJ5dGVzU2VudCIsInRvdGFsQnl0ZXNSZWNlaXZlZCIsImF2ZXJhZ2VKaXR0ZXJJbk1zIiwiYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zIiwicXVhbGl0eUxpbWl0YXRpb25SZWFzb25zIiwiaGlnaGVzdEZyYW1lV2lkdGgiLCJoaWdoZXN0RnJhbWVIZWlnaHQiLCJoaWdoZXN0RnJhbWVzUGVyU2Vjb25kIiwiY29kZWNQZXJUcmFja1R5cGUiLCJhZ2dyZWdhdGVkU3RhdHMiLCJtYXhBcmVhIiwiYXJlYSIsInciLCJoIiwic3RyZWFtQXJlYSIsInJvdW5kIiwidmVyc2lvbiIsInNwbGl0Iiwic2RrSW5mbyIsIlBMQUlOX0pBVkFTQ1JJUFQiLCJvc0luZm8iLCJkZXZpY2VJbmZvIiwid2ViUnRjSW5mbyIsImRldmljZVN0YXRlIiwic2V0U2RrSW5mbyIsImdldFNka0luZm8iLCJzZXRPU0luZm8iLCJzZXREZXZpY2VJbmZvIiwiZ2V0V2ViUlRDSW5mbyIsInNldFdlYlJUQ0luZm8iLCJzZXRUaGVybWFsU3RhdGUiLCJ0aGVybWFsU3RhdGUiLCJVTlNQRUNJRklFRCIsImFuZHJvaWQiLCJpc1Bvd2VyU2F2ZXJNb2RlIiwiYXBwbGUiLCJpc0xvd1Bvd2VyTW9kZUVuYWJsZWQiLCJzZXRQb3dlclN0YXRlIiwicG93ZXJNb2RlIiwiZ2V0RGV2aWNlU3RhdGUiLCJnZXRDbGllbnREZXRhaWxzIiwib3MiLCJkZXZpY2UiLCJ1c2VyQWdlbnREYXRhQXBpIiwidXNlckFnZW50RGF0YSIsImdldEhpZ2hFbnRyb3B5VmFsdWVzIiwiVUFQYXJzZXIiLCJicm93c2VyIiwiY3B1IiwiZ2V0UmVzdWx0IiwicGxhdGZvcm1WZXJzaW9uIiwiYXJjaGl0ZWN0dXJlIiwidmVuZG9yIiwibW9kZWwiLCJTZnVTdGF0c1JlcG9ydGVyIiwic2Z1Q2xpZW50IiwibWljcm9waG9uZSIsImNhbWVyYSIsInRyYWNlciIsInVuaWZpZWRTZXNzaW9uSWQiLCJpbnB1dERldmljZXMiLCJvYnNlcnZlRGV2aWNlIiwiYnJvd3NlclBlcm1pc3Npb25TdGF0ZSQiLCJ1bnN1YnNjcmliZURldmljZVBlcm1pc3Npb25zU3Vic2NyaXB0aW9uIiwiYnJvd3NlclBlcm1pc3Npb25TdGF0ZSIsInVuc3Vic2NyaWJlTGlzdERldmljZXNTdWJzY3JpcHRpb24iLCJoYXNDYXBhYmlsaXR5IiwiY3VycmVudERldmljZSIsImF2YWlsYWJsZURldmljZXMiLCJpc1Blcm1pdHRlZCIsImxpc3REZXZpY2VzIiwic2VsZWN0ZWREZXZpY2UkIiwiZGV2aWNlcyIsImRldmljZUlkIiwic2VsZWN0ZWQiLCJkIiwic2VuZENvbm5lY3Rpb25UaW1lIiwiY29ubmVjdGlvblRpbWVTZWNvbmRzIiwic2VuZFRlbGVtZXRyeURhdGEiLCJkYXRhIiwic2VuZFJlY29ubmVjdGlvblRpbWUiLCJzdHJhdGVneSIsInRpbWVTZWNvbmRzIiwicmVjb25uZWN0aW9uIiwidGVsZW1ldHJ5RGF0YSIsInRlbGVtZXRyeSIsImRlbHRhIiwic3Vic2NyaWJlclRyYWNlIiwidGFrZSIsInB1Ymxpc2hlclRyYWNlIiwic2Z1VHJhY2UiLCJnZXRUcmFjZSIsInRyYWNlcyIsInNuYXBzaG90Iiwid2VicnRjVmVyc2lvbiIsIndlYlJUQ1ZlcnNpb24iLCJzdHJpbmdpZnkiLCJzdWJzY3JpYmVyUnRjU3RhdHMiLCJwdWJsaXNoZXJSdGNTdGF0cyIsInJ0Y1N0YXRzIiwiZW5jb2RlU3RhdHMiLCJwZXJmb3JtYW5jZVN0YXRzIiwiZGVjb2RlU3RhdHMiLCJhdWRpb0RldmljZXMiLCJ2aWRlb0RldmljZXMiLCJzdGFydCIsInJlcG9ydGluZ19pbnRlcnZhbF9tcyIsImNsZWFySW50ZXJ2YWwiLCJpbnRlcnZhbElkIiwic2V0SW50ZXJ2YWwiLCJjbGVhciIsImZsdXNoIiwic2NoZWR1bGVPbmUiLCJ3ZWJSVENJbmZvIiwidHJhY2VSVENQZWVyQ29ubmVjdGlvbiIsImNhbmRpZGF0ZSIsInNpZ25hbGluZ1N0YXRlIiwiaWNlQ29ubmVjdGlvblN0YXRlIiwiaWNlR2F0aGVyaW5nU3RhdGUiLCJjb25uZWN0aW9uU3RhdGUiLCJjaGFubmVsIiwib3JpZ0Nsb3NlIiwidHJhY2VkQ2xvc2UiLCJvcmlnaW5hbCIsInRyYWNlZE1ldGhvZCIsImFwcGx5IiwiU3RhdHNUcmFjZXIiLCJ0cmFja0lkVG9UcmFja1R5cGUiLCJwcmV2aW91c1N0YXRzIiwiZnJhbWVUaW1lSGlzdG9yeSIsImZwc0hpc3RvcnkiLCJjdXJyZW50U3RhdHMiLCJ0b09iamVjdCIsIndpdGhPdmVycmlkZXMiLCJnZXREZWNvZGVTdGF0cyIsImdldEVuY29kZVN0YXRzIiwiZGVsdGFDb21wcmVzc2lvbiIsInJ0cCIsImZyYW1lc1NlbnQiLCJ0b3RhbEVuY29kZVRpbWUiLCJ0YXJnZXRCaXRyYXRlIiwicHJldlJ0cCIsImRlbHRhVG90YWxFbmNvZGVUaW1lIiwiZGVsdGFGcmFtZXNTZW50IiwiZnJhbWVzRW5jb2RlVGltZSIsImdldENvZGVjRnJvbVN0YXRzIiwiYXZnRnJhbWVUaW1lTXMiLCJhdmVyYWdlIiwiYXZnRnBzIiwidmlkZW9EaW1lbnNpb24iLCJydHBJdGVtIiwiZnJhbWVzRGVjb2RlZCIsInRvdGFsRGVjb2RlVGltZSIsImRlbHRhVG90YWxEZWNvZGVUaW1lIiwiZGVsdGFGcmFtZXNEZWNvZGVkIiwiZnJhbWVzRGVjb2RlVGltZSIsImNvc3RPdmVycmlkZXMiLCJvdmVycmlkZSIsInNldENvc3QiLCJjb3N0Iiwib2JqIiwib2xkU3RhdHMiLCJuZXdTdGF0cyIsIkluZmluaXR5IiwiYXJyIiwiY29kZWNTdGF0cyIsInBvcCIsImNsb2NrUmF0ZSIsInBheWxvYWRUeXBlIiwiZm10cCIsInNkcEZtdHBMaW5lIiwiVHJhY2VyIiwiYnVmZmVyIiwic2V0RW5hYmxlZCIsInVuc2hpZnQiLCJCYXNlUGVlckNvbm5lY3Rpb24iLCJjb25uZWN0aW9uQ29uZmlnIiwiZGlzcGF0Y2hlciIsIm9uUmVjb25uZWN0aW9uTmVlZGVkIiwiZW5hYmxlVHJhY2luZyIsImljZVJlc3RhcnREZWxheSIsImlzSWNlUmVzdGFydGluZyIsImlzRGlzcG9zZWQiLCJzdWJzY3JpcHRpb25zIiwibG9jayIsImNyZWF0ZVBlZXJDb25uZWN0aW9uIiwib25JY2VDYW5kaWRhdGUiLCJvbkljZUNhbmRpZGF0ZUVycm9yIiwib25JY2VDb25uZWN0aW9uU3RhdGVDaGFuZ2UiLCJvbkljZUdhdGhlckNoYW5nZSIsIm9uU2lnbmFsaW5nQ2hhbmdlIiwib25Db25uZWN0aW9uU3RhdGVDaGFuZ2UiLCJ0cnlSZXN0YXJ0SWNlIiwicmVzdGFydEljZSIsInJlYXNvbiIsIlBBUlRJQ0lQQU5UX1NJR05BTF9MT1NUIiwiRkFTVCIsIlJFSk9JTiIsImxvY2tLZXkiLCJhZGRUcmlja2xlZEljZUNhbmRpZGF0ZXMiLCJpY2VUcmlja2xlQnVmZmVyIiwidW5zdWJzY3JpYmVJY2VUcmlja2xlIiwiYWRkSWNlQ2FuZGlkYXRlIiwic2V0U2Z1Q2xpZW50IiwidHJhY2tJZCIsImlzSGVhbHRoeSIsImZhaWxlZFN0YXRlcyIsImljZVN0YXRlIiwiYXNKU09OIiwidXNlcm5hbWVGcmFnbWVudCIsInNlZ21lbnRzIiwidWZyYWdJbmRleCIsImZpbmRJbmRleCIsImhhbmRsZUNvbm5lY3Rpb25TdGF0ZVVwZGF0ZSIsIk9GRkxJTkUiLCJSRUNPTk5FQ1RJTkciLCJpY2VSZXN0YXJ0VGltZW91dCIsImN1cnJlbnRTdGF0ZSIsImVycm9yTWVzc2FnZSIsIlJUQ1BlZXJDb25uZWN0aW9uSWNlRXJyb3JFdmVudCIsImVycm9yQ29kZSIsImVycm9yVGV4dCIsInVybCIsImVkZ2VOYW1lIiwiZGV0YWNoRXZlbnRIYW5kbGVycyIsIlRyYW5zY2VpdmVyQ2FjaGUiLCJjYWNoZSIsImxheWVycyIsInRyYW5zY2VpdmVyT3JkZXIiLCJwdWJsaXNoT3B0aW9uIiwidHJhbnNjZWl2ZXIiLCJmaW5kVHJhbnNjZWl2ZXIiLCJpdGVtcyIsImdldExheWVycyIsImVudHJ5Iiwic2V0TGF5ZXJzIiwiZmluZExheWVyIiwiZW5zdXJlRXhoYXVzdGVkIiwieCIsInRyYWNrVHlwZVRvUGFydGljaXBhbnRTdHJlYW1LZXkiLCJtdXRlVHlwZVRvVHJhY2tUeXBlIiwibXV0ZVR5cGUiLCJ0b1RyYWNrVHlwZSIsImlzQXVkaW9UcmFja1R5cGUiLCJkZWZhdWx0Qml0cmF0ZVBlclJpZCIsInEiLCJ0b1N2Y0VuY29kaW5ncyIsIndpdGhSaWQiLCJoaWdoZXN0TGF5ZXIiLCJyaWRUb1ZpZGVvUXVhbGl0eSIsIkxPV19VTlNQRUNJRklFRCIsIk1JRCIsIkhJR0giLCJ0b1ZpZGVvTGF5ZXJzIiwibGF5ZXIiLCJiaXRyYXRlIiwibWF4Qml0cmF0ZSIsImZwcyIsIm1heEZyYW1lcmF0ZSIsInF1YWxpdHkiLCJ0b1NjYWxhYmlsaXR5TW9kZSIsInNwYXRpYWxMYXllcnMiLCJ0ZW1wb3JhbExheWVycyIsImNvbXB1dGVWaWRlb0xheWVycyIsIm9wdGltYWxWaWRlb0xheWVycyIsImdldFNldHRpbmdzIiwibWF4U3BhdGlhbExheWVycyIsIm1heFRlbXBvcmFsTGF5ZXJzIiwidXNlU2luZ2xlTGF5ZXIiLCJnZXRDb21wdXRlZE1heEJpdHJhdGUiLCJkb3duc2NhbGVGYWN0b3IiLCJiaXRyYXRlRmFjdG9yIiwic3ZjQ29kZWMiLCJhY3RpdmUiLCJzY2FsYWJpbGl0eU1vZGUiLCJzY2FsZVJlc29sdXRpb25Eb3duQnkiLCJ3aXRoU2ltdWxjYXN0Q29uc3RyYWludHMiLCJ0YXJnZXRSZXNvbHV0aW9uIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsInRhcmdldFdpZHRoIiwidGFyZ2V0SGVpZ2h0IiwiY3VycmVudFBpeGVscyIsInRhcmdldFBpeGVscyIsInJlZHVjdGlvbkZhY3RvciIsInJpZE1hcHBpbmciLCJpbmRleCIsImV4dHJhY3RNaWQiLCJ0cmFuc2NlaXZlckluaXRJbmRleCIsIm1pZCIsIlN0cmluZyIsInNlbmRlciIsInBhcnNlZFNkcCIsIm1lZGlhIiwibXNpZCIsImVuYWJsZVN0ZXJlbyIsIm9mZmVyU2RwIiwiYW5zd2VyU2RwIiwib2ZmZXJlZFN0ZXJlb01pZHMiLCJwYXJzZWRPZmZlclNkcCIsIm9wdXMiLCJwYXJzZWRBbnN3ZXJTZHAiLCJ3cml0ZSIsIlB1Ymxpc2hlciIsInB1Ymxpc2hPcHRpb25zIiwiYmFzZU9wdGlvbnMiLCJ0cmFuc2NlaXZlckNhY2hlIiwiY2xvbmVkVHJhY2tzIiwicHVibGlzaCIsInRyYWNrVG9QdWJsaXNoIiwiY2xvbmVUcmFjayIsInByZXZpb3VzVHJhY2siLCJ1cGRhdGVUcmFuc2NlaXZlciIsInN0b3BUcmFjayIsInZpZGVvRW5jb2RpbmdzIiwic2VuZEVuY29kaW5ncyIsInBhcmFtcyIsImdldFBhcmFtZXRlcnMiLCJkZWdyYWRhdGlvblByZWZlcmVuY2UiLCJzZXRQYXJhbWV0ZXJzIiwibmVnb3RpYXRlIiwicmVwbGFjZVRyYWNrIiwic3luY1B1Ymxpc2hPcHRpb25zIiwiaXNQdWJsaXNoaW5nIiwiaGFzUHVibGlzaE9wdGlvbiIsIm9wdGlvbiIsInN0b3BUcmFja3MiLCJ0cmFja1R5cGVzIiwic3RvcEFsbFRyYWNrcyIsInZpZGVvU2VuZGVyIiwicHVibGlzaE9wdGlvbklkIiwiZW5hYmxlZExheWVycyIsInRyYW5zY2VpdmVySWQiLCJlbmNvZGluZ3MiLCJjb2RlY0luVXNlIiwidXNlc1N2Y0NvZGVjIiwiY2hhbmdlZCIsImVuY29kZXIiLCJzaG91bGRBY3RpdmF0ZSIsImFjdGl2ZUVuY29kZXJzIiwiZ2V0QW5ub3VuY2VkVHJhY2tzIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwidHJhY2tJbmZvcyIsImJ1bmRsZSIsInRvVHJhY2tJbmZvIiwiZ2V0QW5ub3VuY2VkVHJhY2tzRm9yUmVjb25uZWN0IiwibG9jYWxEZXNjcmlwdGlvbiIsImlzVHJhY2tMaXZlIiwiaXNBdWRpb1RyYWNrIiwiaXNTdGVyZW8iLCJjaGFubmVsQ291bnQiLCJ0cmFuc2NlaXZlckluZGV4IiwiYXVkaW9TZXR0aW5ncyIsImF1ZGlvIiwic3RlcmVvIiwiZHR4Iiwib3B1c19kdHhfZW5hYmxlZCIsInJlZCIsInJlZHVuZGFudF9jb2RpbmdfZW5hYmxlZCIsImNsb25lIiwidmlkZW9TZW5kZXJzIiwiU3Vic2NyaWJlciIsInByZXZpb3VzSXNJY2VSZXN0YXJ0aW5nIiwiaGFuZGxlT25UcmFjayIsInByaW1hcnlTdHJlYW0iLCJyYXdUcmFja1R5cGUiLCJwYXJ0aWNpcGFudFRvVXBkYXRlIiwidHJhY2tEZWJ1Z0luZm8iLCJzdHJlYW1LaW5kUHJvcCIsInByZXZpb3VzU3RyZWFtIiwicmVtb3ZlVHJhY2siLCJhbnN3ZXIiLCJjcmVhdGVBbnN3ZXIiLCJjcmVhdGVXZWJTb2NrZXRTaWduYWxDaGFubmVsIiwiZW5kcG9pbnQiLCJvbk1lc3NhZ2UiLCJ3cyIsIldlYlNvY2tldCIsImJpbmFyeVR5cGUiLCJBcnJheUJ1ZmZlciIsImZyb21CaW5hcnkiLCJmcm9tSnNvblN0cmluZyIsInRvUnRjQ29uZmlndXJhdGlvbiIsImJ1bmRsZVBvbGljeSIsImljZVNlcnZlcnMiLCJpY2UiLCJ1cmxzIiwidXNlcm5hbWUiLCJjcmVkZW50aWFsIiwicGFzc3dvcmQiLCJtYWtlU2FmZVByb21pc2UiLCJpc1BlbmRpbmciLCJzYWZlUHJvbWlzZSIsInVud3JhcFByb21pc2UiLCJmdWxmaWxsbWVudCIsImNoZWNrUGVuZGluZyIsInByb21pc2VXaXRoUmVzb2x2ZXJzIiwicmVqZWN0IiwiX3Jlc29sdmUiLCJfcmVqZWN0IiwiaXNSZXNvbHZlZCIsImlzUmVqZWN0ZWQiLCJyZXNvbHZlciIsInJlamVjdGVyIiwidW5pbml0aWFsaXplZCIsImxhenkiLCJmYWN0b3J5IiwidGltZXJXb3JrZXIiLCJzcmMiLCJUaW1lcldvcmtlciIsImN1cnJlbnRUaW1lcklkIiwiY2FsbGJhY2tzIiwiZmFsbGJhY2siLCJzZXR1cCIsInVzZVRpbWVyV29ya2VyIiwic291cmNlIiwiYmxvYiIsIkJsb2IiLCJzY3JpcHQiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJ3b3JrZXIiLCJXb3JrZXIiLCJkZXN0cm95IiwidGVybWluYXRlIiwicmVhZHkiLCJjYWxsYmFjayIsInNldFRpbWVyIiwiY2xlYXJUaW1lciIsImdldFRpbWVySWQiLCJzZW5kTWVzc2FnZSIsInBvc3RNZXNzYWdlIiwidGltZXJXb3JrZXJFbmFibGVkIiwiZW5hYmxlVGltZXJXb3JrZXIiLCJnZXRUaW1lcnMiLCJpbnN0YW5jZSIsIlN0cmVhbVNmdUNsaWVudCIsImNyZWRlbnRpYWxzIiwiam9pblJlc3BvbnNlVGltZW91dCIsIm9uU2lnbmFsQ2xvc2UiLCJzdHJlYW1DbGllbnQiLCJpc0xlYXZpbmciLCJpc0Nsb3NpbmdDbGVhbiIsInBpbmdJbnRlcnZhbEluTXMiLCJ1bmhlYWx0aHlUaW1lb3V0SW5NcyIsImpvaW5SZXNwb25zZVRhc2siLCJhYm9ydENvbnRyb2xsZXIiLCJjcmVhdGVXZWJTb2NrZXQiLCJldmVudHNUb1RyYWNlIiwic2lnbmFsV3MiLCJzZXJ2ZXIiLCJ3c19lbmRwb2ludCIsImxhc3RNZXNzYWdlVGltZXN0YW1wIiwic2NoZWR1bGVDb25uZWN0aW9uQ2hlY2siLCJzaWduYWxSZWFkeSIsInJhY2UiLCJvbk9wZW4iLCJoYW5kbGVXZWJTb2NrZXRDbG9zZSIsImNsZWFuVXBXZWJTb2NrZXQiLCJrZWVwQWxpdmVJbnRlcnZhbCIsImNvbm5lY3Rpb25DaGVja1RpbWVvdXQiLCJOT1JNQUxfQ0xPU1VSRSIsIkVSUk9SX0NPTk5FQ1RJT05fVU5IRUFMVEhZIiwiT1BFTiIsInVuc3Vic2NyaWJlTmV0d29ya0NoYW5nZWQiLCJtaWdyYXRlQXdheVRpbWVvdXQiLCJtaWdyYXRpb25UYXNrIiwibGVhdmVBbmRDbG9zZSIsImpvaW5UYXNrIiwibm90aWZ5TGVhdmUiLCJtdXRlU3RhdGVzIiwiZW50ZXJNaWdyYXRpb24iLCJrZWVwQWxpdmUiLCJqb2luUmVxdWVzdCIsInJlcXVlc3RQYXlsb2FkIiwidG9rZW4iLCJzZW5kIiwicGluZyIsImhlYWx0aENoZWNrUmVxdWVzdCIsImxlYXZlQ2FsbFJlcXVlc3QiLCJtc2dKc29uIiwidG9CaW5hcnkiLCJ0aW1lcnMiLCJ0aW1lU2luY2VMYXN0TWVzc2FnZSIsImVkZ2VfbmFtZSIsImludGVyY2VwdG9ycyIsIkF1dGhvcml6YXRpb24iLCJvbmxpbmUiLCJuZXR3b3JrQXZhaWxhYmxlVGFzayIsIkRJU1BPU0VfT0xEX1NPQ0tFVCIsIkpPSU5fRkFJTEVEIiwid2F0Y2hDYWxsQWNjZXB0ZWQiLCJvbkNhbGxBY2NlcHRlZCIsImN1cnJlbnRVc2VySWQiLCJSSU5HSU5HIiwid2F0Y2hDYWxsUmVqZWN0ZWQiLCJvbkNhbGxSZWplY3RlZCIsImV2ZW50Q2FsbCIsImNhbGxTZXNzaW9uIiwicmVqZWN0ZWRCeSIsInJlamVjdGVkX2J5IiwiaXNDcmVhdGVkQnlNZSIsImV2ZXJ5b25lRWxzZVJlamVjdGVkIiwiZXZlcnkiLCJ3YXRjaENhbGxFbmRlZCIsIm9uQ2FsbEVuZGVkIiwiSURMRSIsIndhdGNoU2Z1Q2FsbEVuZGVkIiwiTElWRV9FTkRFRCIsImhhc1Blcm1pc3Npb24iLCJwZXJtaXNzaW9uc0NvbnRleHQiLCJ3YXRjaENhbGxHcmFudHNVcGRhdGVkIiwib25DYWxsR3JhbnRzVXBkYXRlZCIsImN1cnJlbnRHcmFudHMiLCJjYW5QdWJsaXNoQXVkaW8iLCJjYW5QdWJsaXNoVmlkZW8iLCJjYW5TY3JlZW5zaGFyZSIsIm5leHRDYXBhYmlsaXRpZXMiLCJjYXBhYmlsaXR5Iiwid2F0Y2hDb25uZWN0aW9uUXVhbGl0eUNoYW5nZWQiLCJjb25uZWN0aW9uUXVhbGl0eVVwZGF0ZXMiLCJwYXRjaGVzIiwiY29ubmVjdGlvblF1YWxpdHkiLCJ3YXRjaFBhcnRpY2lwYW50Q291bnRDaGFuZ2VkIiwid2F0Y2hMaXZlRW5kZWQiLCJ3YXRjaFNmdUVycm9yUmVwb3J0cyIsInJlY29ubmVjdFN0cmF0ZWd5Iiwid2F0Y2hQaW5zVXBkYXRlZCIsIm9uUGluc1VwZGF0ZWQiLCJoYW5kbGVSZW1vdGVTb2Z0TXV0ZSIsImNhdXNlIiwiTU9ERVJBVElPTiIsImRpc2FibGUiLCJzY3JlZW5TaGFyZSIsInB1c2hUb0lmTWlzc2luZyIsIndhdGNoUGFydGljaXBhbnRKb2luZWQiLCJvblBhcnRpY2lwYW50Sm9pbmVkIiwicmVjb25jaWxlT3JwaGFuZWRUcmFja3MiLCJ3YXRjaFBhcnRpY2lwYW50TGVmdCIsIm9uUGFydGljaXBhbnRMZWZ0Iiwid2F0Y2hQYXJ0aWNpcGFudFVwZGF0ZWQiLCJvblBhcnRpY2lwYW50VXBkYXRlZCIsIndhdGNoVHJhY2tQdWJsaXNoZWQiLCJvblRyYWNrUHVibGlzaGVkIiwid2F0Y2hUcmFja1VucHVibGlzaGVkIiwib25UcmFja1VucHVibGlzaGVkIiwib3JwaGFuVHJhY2tzIiwicmVjb25jaWxlZFRyYWNrcyIsIndhdGNoRG9taW5hbnRTcGVha2VyQ2hhbmdlZCIsIndhdGNoQXVkaW9MZXZlbENoYW5nZWQiLCJhdWRpb0xldmVscyIsImF1ZGlvTGV2ZWwiLCJyZWdpc3RlckV2ZW50SGFuZGxlcnMiLCJyaW5naW5nIiwicmVnaXN0ZXJSaW5naW5nQ2FsbEV2ZW50SGFuZGxlcnMiLCJjb29yZGluYXRvclJpbmdFdmVudHMiLCJERUZBVUxUX1RIUkVTSE9MRCIsIlZpZXdwb3J0VHJhY2tlciIsImVsZW1lbnRIYW5kbGVyTWFwIiwib2JzZXJ2ZXIiLCJxdWV1ZVNldCIsInNldFZpZXdwb3J0Iiwidmlld3BvcnRFbGVtZW50IiwiY2xlYW51cCIsImRpc2Nvbm5lY3QiLCJJbnRlcnNlY3Rpb25PYnNlcnZlciIsInJvb3QiLCJ0aHJlc2hvbGQiLCJxdWV1ZUVsZW1lbnQiLCJxdWV1ZUhhbmRsZXIiLCJjb250YWlucyIsIm9ic2VydmUiLCJlbGVtZW50IiwicXVldWVJdGVtIiwidW5vYnNlcnZlIiwiREVGQVVMVF9WSUVXUE9SVF9WSVNJQklMSVRZX1NUQVRFIiwiZ2xvYmFsT3ZlcnJpZGVLZXkiLCJEeW5hc2NhbGVNYW5hZ2VyIiwic3BlYWtlciIsInZpZXdwb3J0VHJhY2tlciIsInBlbmRpbmdTdWJzY3JpcHRpb25zVXBkYXRlIiwidmlkZW9UcmFja1N1YnNjcmlwdGlvbk92ZXJyaWRlc1N1YmplY3QiLCJ2aWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzJCIsImluY29taW5nVmlkZW9TZXR0aW5ncyQiLCJvdmVycmlkZXMiLCJnbG9iYWxTZXR0aW5ncyIsInByZWZlcnJlZFJlc29sdXRpb24iLCJmcm9tRW50cmllcyIsInBhcnRpY2lwYW50T3ZlcnJpZGUiLCJpc1BhcnRpY2lwYW50VmlkZW9FbmFibGVkIiwiY29udGV4dCIsImdldE9yQ3JlYXRlQXVkaW9Db250ZXh0IiwiZG9jdW1lbnQiLCJyZXN1bWVBdWRpb0NvbnRleHQiLCJhdWRpb0NvbnRleHQiLCJzZXRWaWRlb1RyYWNrU3Vic2NyaXB0aW9uT3ZlcnJpZGVzIiwiYXBwbHlUcmFja1N1YnNjcmlwdGlvbnMiLCJkZWJvdW5jZVR5cGUiLCJTTE9XIiwidHJhY2tTdWJzY3JpcHRpb25zIiwidHJhY2tFbGVtZW50VmlzaWJpbGl0eSIsInByZXZpb3VzVmlzaWJpbGl0eVN0YXRlIiwiaXNWaXNpYmxlIiwiaXNJbnRlcnNlY3RpbmciLCJmdWxsc2NyZWVuRWxlbWVudCIsIlZJU0lCTEUiLCJiaW5kVmlkZW9FbGVtZW50IiwidmlkZW9FbGVtZW50IiwiYm91bmRQYXJ0aWNpcGFudCIsInJlcXVlc3RUcmFja1dpdGhEaW1lbnNpb25zIiwicGFydGljaXBhbnQkIiwidGFrZVdoaWxlIiwidmlld3BvcnRWaXNpYmlsaXR5U3RhdGVTdWJzY3JpcHRpb24iLCJuZXh0Vmlld3BvcnRWaXNpYmlsaXR5U3RhdGUiLCJNRURJVU0iLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImxhc3REaW1lbnNpb25zIiwicmVzaXplT2JzZXJ2ZXIiLCJSZXNpemVPYnNlcnZlciIsImN1cnJlbnREaW1lbnNpb25zIiwicmVsYXRpdmVEZWx0YSIsIklNTUVESUFURSIsInB1Ymxpc2hlZFRyYWNrc1N1YnNjcmlwdGlvbiIsImRpc3RpbmN0VW50aWxLZXlDaGFuZ2VkIiwiYXV0b3BsYXkiLCJwbGF5c0lubGluZSIsInN0cmVhbVN1YnNjcmlwdGlvbiIsInNjcmVlblNoYXJlU3RyZWFtIiwic3JjT2JqZWN0IiwicGxheSIsImJpbmRBdWRpb0VsZW1lbnQiLCJhdWRpb0VsZW1lbnQiLCJ1cGRhdGVTaW5rSWQiLCJzZXRTaW5rSWQiLCJzb3VyY2VOb2RlIiwiZ2Fpbk5vZGUiLCJ1cGRhdGVNZWRpYVN0cmVhbVN1YnNjcmlwdGlvbiIsInNjcmVlblNoYXJlQXVkaW9TdHJlYW0iLCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSIsImNyZWF0ZUdhaW4iLCJnYWluIiwiYXVkaW9Wb2x1bWUiLCJ2b2x1bWUiLCJjb25uZWN0IiwiZGVzdGluYXRpb24iLCJzZWxlY3RlZERldmljZSIsInNpbmtJZFN1YnNjcmlwdGlvbiIsInZvbHVtZVN1YnNjcmlwdGlvbiIsInZvbHVtZSQiLCJwYXJ0aWNpcGFudFZvbHVtZSIsIkF1ZGlvQ29udGV4dCIsInJlc3VtZSIsInZpZGVvVHJhY2tTdWJzY3JpcHRpb25PdmVycmlkZXMiLCJzY3JlZW5TaGFyZURpbWVuc2lvbiIsIlBlcm1pc3Npb25zQ29udGV4dCIsInBlcm1pc3Npb25zIiwic2V0UGVybWlzc2lvbnMiLCJzZXRDYWxsU2V0dGluZ3MiLCJwZXJtaXNzaW9uIiwiY2FuUHVibGlzaCIsImNhblJlcXVlc3QiLCJ2aWRlbyIsInNjcmVlbnNoYXJpbmciLCJhY2Nlc3NfcmVxdWVzdF9lbmFibGVkIiwiQ2FsbFR5cGUiLCJDYWxsVHlwZXNSZWdpc3RyeSIsImNhbGxUeXBlcyIsInJlZ2lzdGVyIiwiY2FsbFR5cGUiLCJ1bnJlZ2lzdGVyIiwiQ2FsbFR5cGVzIiwiQnJvd3NlclBlcm1pc3Npb24iLCJkaXNwb3NlQ29udHJvbGxlciIsIndhc1Byb21wdGVkIiwiYXNzdW1lR3JhbnRlZCIsInNldFN0YXRlIiwiY2FuUXVlcnlQZXJtaXNzaW9ucyIsInF1ZXJ5IiwicXVlcnlOYW1lIiwiZ2V0U3RhdGUiLCJwcm9tcHQiLCJmb3JjZVByb21wdCIsInRocm93T25Ob3RBbGxvd2VkIiwiaXNHcmFudGVkIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwiY29uc3RyYWludHMiLCJkaXNwb3NlT2ZNZWRpYVN0cmVhbSIsImxpc3RlbiIsImdldFN0YXRlT2JzZXJ2YWJsZSIsImFzU3RhdGVPYnNlcnZhYmxlIiwiZ2V0SXNQcm9tcHRpbmdPYnNlcnZhYmxlIiwiZnJvbUV2ZW50UGF0dGVybiIsInVubGlzdGVuIiwibGlzdGVuZXIiLCJnZXREZXZpY2VzIiwiZW51bWVyYXRlRGV2aWNlcyIsInNob3VsZFByb21wdEZvckJyb3dzZXJQZXJtaXNzaW9uIiwiY2hlY2tJZkF1ZGlvT3V0cHV0Q2hhbmdlU3VwcG9ydGVkIiwiY3JlYXRlRWxlbWVudCIsImF1ZGlvRGV2aWNlQ29uc3RyYWludHMiLCJhdXRvR2FpbkNvbnRyb2wiLCJub2lzZVN1cHByZXNzaW9uIiwiZWNob0NhbmNlbGxhdGlvbiIsInZpZGVvRGV2aWNlQ29uc3RyYWludHMiLCJnZXRBdWRpb0Jyb3dzZXJQZXJtaXNzaW9uIiwiZ2V0VmlkZW9Ccm93c2VyUGVybWlzc2lvbiIsImdldERldmljZUNoYW5nZU9ic2VydmVyIiwiZnJvbUV2ZW50IiwiZGVib3VuY2VUaW1lIiwiZ2V0QXVkaW9EZXZpY2VzIiwibWVyZ2UiLCJzdGFydFdpdGgiLCJjb25jYXRNYXAiLCJnZXRWaWRlb0RldmljZXMiLCJnZXRBdWRpb091dHB1dERldmljZXMiLCJnZXRVc2VyTWVkaWFFeGVjSWQiLCJnZXRTdHJlYW0iLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJpc05vdEZvdW5kT3JPdmVyY29uc3RyYWluZWRFcnJvciIsInN0YXJ0c1dpdGgiLCJnZXRBdWRpb1N0cmVhbSIsInRyYWNrQ29uc3RyYWludHMiLCJyZWxheGVkQ29uc3RyYWludHMiLCJnZXRWaWRlb1N0cmVhbSIsImdldERpc3BsYXlNZWRpYUV4ZWNJZCIsImdldFNjcmVlblNoYXJlU3RyZWFtIiwic3lzdGVtQXVkaW8iLCJmcmFtZVJhdGUiLCJpZGVhbCIsImdldERpc3BsYXlNZWRpYSIsImRldmljZUlkcyQiLCJyZWxlYXNlIiwiaXNNb2JpbGUiLCJJbnB1dE1lZGlhRGV2aWNlTWFuYWdlciIsInN0b3BPbkxlYXZlIiwiaXNUcmFja1N0b3BwZWREdWVUb1RyYWNrRW5kIiwiZmlsdGVycyIsInN0YXR1c0NoYW5nZUNvbmN1cnJlbmN5VGFnIiwiZmlsdGVyUmVnaXN0cmF0aW9uQ29uY3VycmVuY3lUYWciLCJoYW5kbGVEaXNjb25uZWN0ZWRPclJlcGxhY2VkRGV2aWNlcyIsImVuYWJsZSIsInByZXZTdGF0dXMiLCJvcHRpbWlzdGljU3RhdHVzIiwic2V0UGVuZGluZ1N0YXR1cyIsInVubXV0ZVN0cmVhbSIsInNldFN0YXR1cyIsImZvcmNlU3RvcCIsImRpc2FibGVNb2RlIiwibXV0ZVN0cmVhbSIsInN0YXR1c0NoYW5nZVNldHRsZWQiLCJ0b2dnbGUiLCJyZWdpc3RlckZpbHRlciIsInJlZ2lzdGVyZWQiLCJhcHBseVNldHRpbmdzVG9TdHJlYW0iLCJzZXREZWZhdWx0Q29uc3RyYWludHMiLCJzZWxlY3QiLCJwcmV2RGV2aWNlSWQiLCJzZXREZXZpY2UiLCJwdWJsaXNoU3RyZWFtIiwic3RvcFB1Ymxpc2hTdHJlYW0iLCJzdG9wUHVibGlzaCIsIm1lZGlhU3RyZWFtIiwibXV0ZUxvY2FsU3RyZWFtIiwiYWxsRW5kZWQiLCJzZXRNZWRpYVN0cmVhbSIsImRpc2FibGVUcmFja3MiLCJlbmFibGVUcmFja3MiLCJyb290U3RyZWFtIiwiZGVmYXVsdENvbnN0cmFpbnRzIiwiZXhhY3QiLCJjaGFpbldpdGgiLCJwYXJlbnRTdHJlYW0iLCJmaWx0ZXJTdHJlYW0iLCJwYXJlbnQiLCJvcmlnaW5hbFN0b3AiLCJwYXJlbnRUcmFjayIsImhhbmRsZVBhcmVudFRyYWNrRW5kZWQiLCJpbnB1dFN0cmVhbSIsIm91dHB1dCIsImhhbmRsZVRyYWNrRW5kZWQiLCJjcmVhdGVUcmFja011dGVIYW5kbGVyIiwibm90aWZ5VHJhY2tNdXRlU3RhdGUiLCJtdXRlSGFuZGxlciIsInVubXV0ZUhhbmRsZXIiLCJtZWRpYURldmljZUtpbmQiLCJwYWlyd2lzZSIsInByZXZEZXZpY2VzIiwiY3VycmVudERldmljZXMiLCJpc0RldmljZURpc2Nvbm5lY3RlZCIsImlzRGV2aWNlUmVwbGFjZWQiLCJmaW5kRGV2aWNlIiwicHJldkRldmljZSIsImdyb3VwSWQiLCJJbnB1dE1lZGlhRGV2aWNlTWFuYWdlclN0YXRlIiwic3RhdHVzU3ViamVjdCIsIm9wdGltaXN0aWNTdGF0dXNTdWJqZWN0IiwibWVkaWFTdHJlYW1TdWJqZWN0Iiwic2VsZWN0ZWREZXZpY2VTdWJqZWN0IiwiZGVmYXVsdENvbnN0cmFpbnRzU3ViamVjdCIsIm1lZGlhU3RyZWFtJCIsInN0YXR1cyQiLCJvcHRpbWlzdGljU3RhdHVzJCIsImRlZmF1bHRDb25zdHJhaW50cyQiLCJoYXNCcm93c2VyUGVybWlzc2lvbiQiLCJvZiIsImlzUHJvbXB0aW5nUGVybWlzc2lvbiQiLCJwZW5kaW5nU3RhdHVzIiwiZ2V0RGV2aWNlSWRGcm9tU3RyZWFtIiwiQ2FtZXJhTWFuYWdlclN0YXRlIiwiZGlyZWN0aW9uU3ViamVjdCIsImRpcmVjdGlvbiQiLCJzZXREaXJlY3Rpb24iLCJmYWNpbmdNb2RlIiwiQ2FtZXJhTWFuYWdlciIsImlzRGlyZWN0aW9uU3VwcG9ydGVkQnlEZXZpY2UiLCJzZWxlY3REaXJlY3Rpb24iLCJhcHBseUNvbnN0cmFpbnRzIiwiZmxpcCIsIm5ld0RpcmVjdGlvbiIsInNlbGVjdFRhcmdldFJlc29sdXRpb24iLCJyZXNvbHV0aW9uIiwiaGFzUHVibGlzaGVkVmlkZW8iLCJ0YXJnZXRfcmVzb2x1dGlvbiIsImNhbWVyYV9mYWNpbmciLCJjYW1lcmFfZGVmYXVsdF9vbiIsIk1pY3JvcGhvbmVNYW5hZ2VyU3RhdGUiLCJzcGVha2luZ1doaWxlTXV0ZWRTdWJqZWN0Iiwic3BlYWtpbmdXaGlsZU11dGVkJCIsInNwZWFraW5nV2hpbGVNdXRlZCIsInNldFNwZWFraW5nV2hpbGVNdXRlZCIsIkRFVEVDVElPTl9GUkVRVUVOQ1lfSU5fTVMiLCJBVURJT19MRVZFTF9USFJFU0hPTEQiLCJGRlRfU0laRSIsImNyZWF0ZVNvdW5kRGV0ZWN0b3IiLCJvblNvdW5kRGV0ZWN0ZWRTdGF0ZUNoYW5nZWQiLCJkZXRlY3Rpb25GcmVxdWVuY3lJbk1zIiwiYXVkaW9MZXZlbFRocmVzaG9sZCIsImZmdFNpemUiLCJkZXN0cm95U3RyZWFtT25TdG9wIiwiYW5hbHlzZXIiLCJjcmVhdGVBbmFseXNlciIsImZyZXF1ZW5jeUJpbkNvdW50IiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCJpc1NvdW5kRGV0ZWN0ZWQiLCJhdmVyYWdlZERhdGFWYWx1ZSIsInB2IiwiY3YiLCJwZXJjZW50YWdlIiwiUk5TcGVlY2hEZXRlY3RvciIsInBjMSIsInBjMiIsImNsZWFudXBBdWRpb1N0cmVhbSIsIl9zZXRWb2x1bWUiLCJhZGRUcmFjayIsInVuc3ViIiwib25TcGVha2luZ0RldGVjdGVkU3RhdGVDaGFuZ2UiLCJpbml0aWFsQmFzZWxpbmVOb2lzZUxldmVsIiwiYmFzZWxpbmVOb2lzZUxldmVsIiwic3BlZWNoRGV0ZWN0ZWQiLCJzcGVlY2hUaW1lciIsInNpbGVuY2VUaW1lciIsImF1ZGlvTGV2ZWxIaXN0b3J5IiwiaGlzdG9yeUxlbmd0aCIsInNpbGVuY2VUaHJlc2hvbGQiLCJyZXNldFRocmVzaG9sZCIsInNwZWVjaFRpbWVvdXQiLCJzaWxlbmNlVGltZW91dCIsImNoZWNrQXVkaW9MZXZlbCIsImF1ZGlvTWVkaWFTb3VyY2VTdGF0cyIsInNoaWZ0IiwiYXZnQXVkaW9MZXZlbCIsIk1pY3JvcGhvbmVNYW5hZ2VyIiwic3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uRW5hYmxlZCIsInNvdW5kRGV0ZWN0b3JDb25jdXJyZW5jeVRhZyIsInN0b3BTcGVha2luZ1doaWxlTXV0ZWREZXRlY3Rpb24iLCJzdGFydFNwZWFraW5nV2hpbGVNdXRlZERldGVjdGlvbiIsIm5vaXNlQ2FuY2VsbGF0aW9uUmVnaXN0cmF0aW9uIiwibm9pc2VDYW5jZWxsYXRpb24iLCJhdXRvT24iLCJub2lzZV9jYW5jZWxsYXRpb24iLCJtb2RlIiwiY2FuQXV0b0VuYWJsZSIsIm5vdGlmeU5vaXNlQ2FuY2VsbGF0aW9uU3RvcHBlZCIsImVuYWJsZU5vaXNlQ2FuY2VsbGF0aW9uIiwiaGFzTm9pc2VDYW5jZWxsYXRpb25DYXBhYmlsaXR5Iiwibm9pc2VDYW5jZWxsYXRpb25TZXR0aW5ncyIsIm5vaXNlQ2FuY2VsbGF0aW9uQ2hhbmdlVW5zdWJzY3JpYmUiLCJub3RpZnlOb2lzZUNhbmNlbGxhdGlvblN0YXJ0aW5nIiwicmVnaXN0cmF0aW9uUmVzdWx0IiwidG9GaWx0ZXIiLCJ1bnJlZ2lzdGVyTm9pc2VDYW5jZWxsYXRpb24iLCJkaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24iLCJlbmFibGVTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24iLCJkaXNhYmxlU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uIiwiaGFzUHVibGlzaGVkQXVkaW8iLCJtaWNfZGVmYXVsdF9vbiIsInJuU3BlZWNoRGV0ZWN0b3IiLCJzb3VuZERldGVjdG9yQ2xlYW51cCIsIlNjcmVlblNoYXJlU3RhdGUiLCJhdWRpb0VuYWJsZWRTdWJqZWN0IiwiYXVkaW9FbmFibGVkJCIsImF1ZGlvRW5hYmxlZCIsInNldEF1ZGlvRW5hYmxlZCIsImlzRW5hYmxlZCIsInNldFNldHRpbmdzIiwiU2NyZWVuU2hhcmVNYW5hZ2VyIiwibWF5YmVUYXJnZXRSZXNvbHV0aW9uIiwiZW5hYmxlU2NyZWVuU2hhcmVBdWRpbyIsImRpc2FibGVTY3JlZW5TaGFyZUF1ZGlvIiwiY29udGVudEhpbnQiLCJTcGVha2VyU3RhdGUiLCJ2b2x1bWVTdWJqZWN0IiwiaXNEZXZpY2VTZWxlY3Rpb25TdXBwb3J0ZWQiLCJzZXRWb2x1bWUiLCJTcGVha2VyTWFuYWdlciIsInNldFBhcnRpY2lwYW50Vm9sdW1lIiwiY2xpZW50U3RvcmUiLCJ3YXRjaGluZyIsInN0YXRzUmVwb3J0aW5nSW50ZXJ2YWxJbk1zIiwic2Z1Q2xpZW50VGFnIiwicmVjb25uZWN0Q29uY3VycmVuY3lUYWciLCJyZWNvbm5lY3RBdHRlbXB0cyIsInJlY29ubmVjdFJlYXNvbiIsImZhc3RSZWNvbm5lY3REZWFkbGluZVNlY29uZHMiLCJkaXNjb25uZWN0aW9uVGltZW91dFNlY29uZHMiLCJsYXN0T2ZmbGluZVRpbWVzdGFtcCIsInRyYWNrUHVibGlzaE9yZGVyIiwiaGFzSm9pbmVkT25jZSIsImRldmljZVNldHRpbmdzQXBwbGllZE9uY2UiLCJpbml0aWFsaXplZCIsImpvaW5MZWF2ZUNvbmN1cnJlbmN5VGFnIiwibGVhdmVDYWxsSG9va3MiLCJzdHJlYW1DbGllbnRFdmVudEhhbmRsZXJzIiwiY3VycmVudFB1Ymxpc2hPcHRpb25zIiwicmVnaXN0ZXJFZmZlY3RzIiwicmVnaXN0ZXJSZWNvbm5lY3RIYW5kbGVycyIsImhhbmRsZU93bkNhcGFiaWxpdGllc1VwZGF0ZWQiLCJyZWNlaXZlcklkIiwiaXNBY2NlcHRlZEJ5TWUiLCJhY2NlcHRlZF9ieSIsImlzUmVqZWN0ZWRCeU1lIiwiY2FuY2VsQXV0b0Ryb3AiLCJpc0FjY2VwdGVkRWxzZXdoZXJlIiwicmluZ2luZ1N1YmplY3QiLCJpc1JpbmdpbmciLCJyZWNlaXZlcl9pZCIsImNyZWF0ZWRfYnlfaWQiLCJsZWF2ZUNhbGxJZGxlIiwic2NoZWR1bGVBdXRvRHJvcCIsInBlcm1pc3Npb25Ub1RyYWNrVHlwZSIsIm9mZkhhbmRsZXIiLCJjYWxsX2NpZCIsInJlZ2lzdGVyZWRPZmZIYW5kbGVyIiwiSk9JTklORyIsIndhaXRVbnRpbENhbGxKb2luZWQiLCJoYXNPdGhlclBhcnRpY2lwYW50cyIsInN0YXRzUmVwb3J0ZXIiLCJzZnVTdGF0c1JlcG9ydGVyIiwiZHluYXNjYWxlTWFuYWdlciIsImhvb2siLCJzdG9wT25MZWF2ZVByb21pc2VzIiwidXBkYXRlRnJvbVJpbmdpbmdFdmVudCIsImNyZWF0b3IiLCJhcHBseURldmljZUNvbmZpZyIsInN0cmVhbUNsaWVudEJhc2VQYXRoIiwicmluZyIsIl9oYXNDb25uZWN0aW9uSUQiLCJnZXRPckNyZWF0ZSIsInBvc3QiLCJub3RpZnkiLCJhY2NlcHQiLCJtYXhKb2luUmV0cmllcyIsImRvSm9pbiIsImNvbm5lY3RTdGFydFRpbWUiLCJqb2luQ2FsbERhdGEiLCJwZXJmb3JtaW5nTWlncmF0aW9uIiwiTUlHUkFURSIsInBlcmZvcm1pbmdSZWpvaW4iLCJwZXJmb3JtaW5nRmFzdFJlY29ubmVjdCIsInN0YXRzT3B0aW9ucyIsImRvSm9pblJlcXVlc3QiLCJzdGF0c19vcHRpb25zIiwiYXZvaWRSZXN0b3JlU3RhdGUiLCJwcmV2aW91c1NmdUNsaWVudCIsInByZXZpb3VzU2Vzc2lvbklkIiwiaXNXc0hlYWx0aHkiLCJlbmFibGVfcnRjX3N0YXRzIiwiaGFuZGxlU2Z1U2lnbmFsQ2xvc2UiLCJzdWJzY3JpYmVyU2RwIiwicHVibGlzaGVyU2RwIiwiaXNSZWNvbm5lY3RpbmciLCJnZXRSZWNvbm5lY3REZXRhaWxzIiwibWlncmF0aW5nX2Zyb20iLCJwcmVmZXJyZWRQdWJsaXNoT3B0aW9ucyIsImdldFByZWZlcnJlZFB1Ymxpc2hPcHRpb25zIiwicHJlZmVycmVkU3Vic2NyaWJlT3B0aW9ucyIsImdldFByZWZlcnJlZFN1YnNjcmliZU9wdGlvbnMiLCJmYXN0UmVjb25uZWN0IiwicmVzdG9yZUlDRSIsImluY2x1ZGVTdWJzY3JpYmVyIiwiaWNlX3NlcnZlcnMiLCJpbml0UHVibGlzaGVyQW5kU3Vic2NyaWJlciIsImNsb3NlUHJldmlvdXNJbnN0YW5jZXMiLCJtaWdyYXRpbmdGcm9tU2Z1SWQiLCJyZWNvbm5lY3RBdHRlbXB0IiwiZnJvbVNmdUlkIiwicHJlZmVycmVkQ29kZWMiLCJmbXRwTGluZSIsInByZWZlcnJlZEJpdHJhdGUiLCJtYXhTaW11bGNhc3RMYXllcnMiLCJjbGllbnRQdWJsaXNoT3B0aW9ucyIsInNjcmVlblNoYXJlU2V0dGluZ3MiLCJzdWJzY3JpYmVyQ29kZWMiLCJzdWJzY3JpYmVyRm10cExpbmUiLCJjb2RlY3MiLCJuZXh0U2Z1Q2xpZW50IiwiaW5jbHVkZVB1Ymxpc2hlciIsInJlY29ubmVjdCIsImlzQW5vbnltb3VzIiwibG9jYXRpb24iLCJnZXRMb2NhdGlvbkhpbnQiLCJNSUdSQVRJTkciLCJSRUNPTk5FQ1RJTkdfRkFJTEVEIiwicmVjb25uZWN0U3RhcnRUaW1lIiwicmVjb25uZWN0aW5nVGltZSIsInNob3VsZEdpdmVVcFJlY29ubmVjdGluZyIsImN1cnJlbnRTdHJhdGVneSIsIkRJU0NPTk5FQ1QiLCJyZWNvbm5lY3RGYXN0IiwicmVjb25uZWN0UmVqb2luIiwicmVjb25uZWN0TWlncmF0ZSIsIndhc01pZ3JhdGluZyIsIm11c3RQZXJmb3JtUmVqb2luIiwic2hvdWxkUmVqb2luIiwibmV4dFN0cmF0ZWd5IiwicmVzdG9yZVB1Ymxpc2hlZFRyYWNrcyIsInJlc3RvcmVTdWJzY3JpYmVkVHJhY2tzIiwiY3VycmVudFNmdUNsaWVudCIsImN1cnJlbnRTdWJzY3JpYmVyIiwiY3VycmVudFB1Ymxpc2hlciIsImN1cnJlbnRTZnUiLCJ1bnJlZ2lzdGVyR29Bd2F5IiwidW5yZWdpc3Rlck9uRXJyb3IiLCJ1bnJlZ2lzdGVyTmV0d29ya0NoYW5nZWQiLCJvZmZsaW5lIiwicHVibGlzaFZpZGVvU3RyZWFtIiwicHVibGlzaEF1ZGlvU3RyZWFtIiwicHVibGlzaFNjcmVlblNoYXJlU3RyZWFtIiwiYXVkaW9UcmFjayIsInVwZGF0ZUxvY2FsU3RyZWFtU3RhdGUiLCJzdHJlYW1TdGF0ZVByb3AiLCJ1cGRhdGVQdWJsaXNoT3B0aW9ucyIsInNldFN0YXRzUmVwb3J0aW5nSW50ZXJ2YWxJbk1zIiwiaW50ZXJ2YWxJbk1zIiwicmVzZXRSZWFjdGlvbiIsImNyaXRlcmlhIiwic2VuZFJlYWN0aW9uIiwibXV0ZVNlbGYiLCJteVVzZXJJZCIsIm11dGVVc2VyIiwibXV0ZU90aGVycyIsInVzZXJJZHNUb011dGUiLCJ1c2VyX2lkcyIsIm11dGVBbGxVc2VycyIsIm11dGVfYWxsX3VzZXJzIiwic3RhcnRSZWNvcmRpbmciLCJzdG9wUmVjb3JkaW5nIiwic3RhcnRUcmFuc2NyaXB0aW9uIiwic3RvcFRyYW5zY3JpcHRpb24iLCJzdGFydENsb3NlZENhcHRpb25zIiwidHJ4Iiwic3RvcENsb3NlZENhcHRpb25zIiwicmVxdWVzdFBlcm1pc3Npb25zIiwiY2FuUmVxdWVzdFBlcm1pc3Npb25zIiwiZ3JhbnRQZXJtaXNzaW9ucyIsInVwZGF0ZVVzZXJQZXJtaXNzaW9ucyIsImdyYW50X3Blcm1pc3Npb25zIiwicmV2b2tlUGVybWlzc2lvbnMiLCJyZXZva2VfcGVybWlzc2lvbnMiLCJnb0xpdmUiLCJzdG9wTGl2ZSIsInN0YXJ0SExTIiwic3RvcEhMUyIsInN0YXJ0UlRNUEJyb2FkY2FzdHMiLCJzdG9wQWxsUlRNUEJyb2FkY2FzdHMiLCJzdG9wUlRNUEJyb2FkY2FzdCIsInN0YXJ0RnJhbWVSZWNvcmRpbmciLCJzdG9wRnJhbWVSZWNvcmRpbmciLCJ1cGRhdGVzIiwiZW5kQ2FsbCIsInVucGluIiwicGluRm9yRXZlcnlvbmUiLCJ1bnBpbkZvckV2ZXJ5b25lIiwicXVlcnlNZW1iZXJzIiwidXBkYXRlQ2FsbE1lbWJlcnMiLCJ0aW1lb3V0SW5NcyIsImF1dG9fY2FuY2VsX3RpbWVvdXRfbXMiLCJpbmNvbWluZ19jYWxsX3RpbWVvdXRfbXMiLCJkcm9wVGltZW91dCIsInF1ZXJ5UmVjb3JkaW5ncyIsImNhbGxTZXNzaW9uSWQiLCJxdWVyeVRyYW5zY3JpcHRpb25zIiwiZ2V0Q2FsbFN0YXRzIiwiY2FsbFNlc3Npb25JRCIsImdldENhbGxSZXBvcnQiLCJzZXNzaW9uX2lkIiwic3VibWl0RmVlZGJhY2siLCJyYXRpbmciLCJzZGtfdmVyc2lvbiIsInNlbmRDdXN0b21FdmVudCIsInVuYmluZCIsImJpbmRDYWxsVGh1bWJuYWlsRWxlbWVudCIsImltYWdlRWxlbWVudCIsImhhbmRsZUVycm9yIiwiZmFsbGJhY2tJbWFnZVNvdXJjZSIsInRodW1ibmFpbFVybCIsImltYWdlX3VybCIsInNlYXJjaFBhcmFtcyIsInNldFByZWZlcnJlZEluY29taW5nVmlkZW9SZXNvbHV0aW9uIiwic2V0SW5jb21pbmdWaWRlb0VuYWJsZWQiLCJzZXREaXNjb25uZWN0aW9uVGltZW91dCIsInRpbWVvdXRTZWNvbmRzIiwiY2FsbFR5cGVDb25maWciLCJwYXJ0aWNpcGFudFNvcnRlciIsIkFQSUVycm9yQ29kZXMiLCJTdGFibGVXU0Nvbm5lY3Rpb24iLCJjbGllbnQiLCJfbG9nIiwic2V0Q2xpZW50IiwiX2J1aWxkVXJsIiwiVVJMU2VhcmNoUGFyYW1zIiwiZ2V0QXV0aFR5cGUiLCJnZXRVc2VyQWdlbnQiLCJ3c0Jhc2VVUkwiLCJvbmxpbmVTdGF0dXNDaGFuZ2VkIiwiX3NldEhlYWx0aCIsIl9yZWNvbm5lY3QiLCJpbnRlcnZhbCIsIm9ub3BlbiIsIndzSUQiLCJfZ2V0VG9rZW4iLCJhdXRoTWVzc2FnZSIsInVzZXJfZGV0YWlscyIsImltYWdlIiwib25tZXNzYWdlIiwiaXNDb25uZWN0aW9uT3BlblJlc29sdmVkIiwicmVqZWN0Q29ubmVjdGlvbk9wZW4iLCJfZXJyb3JGcm9tV1NFdmVudCIsImxhc3RFdmVudCIsInNjaGVkdWxlTmV4dFBpbmciLCJyZXNvbHZlQ29ubmVjdGlvbk9wZW4iLCJpc0Nvbm5lY3RpbmciLCJjb25zZWN1dGl2ZUZhaWx1cmVzIiwidG9rZW5NYW5hZ2VyIiwiaXNTdGF0aWMiLCJjb25uZWN0aW9uQ2hlY2tUaW1lb3V0UmVmIiwicmVmcmVzaFRva2VuIiwicmVjZWl2ZWRfYXQiLCJvbmNsb3NlIiwid2FzQ2xlYW4iLCJ0b3RhbEZhaWx1cmVzIiwib25lcnJvciIsImhlYWx0aHkiLCJkaXNwYXRjaEltbWVkaWF0ZWx5IiwiaXNXU0ZhaWx1cmUiLCJzdGF0dXNDb2RlIiwiU3RhdHVzQ29kZSIsIl9zZXR1cENvbm5lY3Rpb25Qcm9taXNlIiwiY29ubmVjdGlvbk9wZW5TYWZlIiwiaGVhbHRoQ2hlY2tUaW1lb3V0UmVmIiwiY2xpZW50X2lkIiwiY2xpZW50SUQiLCJwaW5nSW50ZXJ2YWwiLCJpc0Rpc2Nvbm5lY3RlZCIsImhlYWx0aENoZWNrIiwiX2Nvbm5lY3QiLCJfd2FpdEZvckhlYWx0aHkiLCJjb25uZWN0aW9uT3BlbiIsImlzQ2xvc2VkUHJvbWlzZSIsImlzVG9rZW5SZWFkeSIsInRva2VuUmVhZHkiLCJsb2FkVG9rZW4iLCJpc0Nvbm5lY3Rpb25Jc1Byb21pc2VQZW5kaW5nIiwiX3NldHVwQ29ubmVjdGlvbklkUHJvbWlzZSIsIndzVVJMIiwiV1MiLCJXZWJTb2NrZXRJbXBsIiwiY29ubmVjdGlvbklEIiwiY29ubmVjdGlvbl9pZCIsInJlc29sdmVDb25uZWN0aW9uSWQiLCJyZWplY3RDb25uZWN0aW9uSWQiLCJfZGVzdHJveUN1cnJlbnRXU0Nvbm5lY3Rpb24iLCJnZXRVc2VyRnJvbVRva2VuIiwiZnJhZ21lbnRzIiwiYjY0UGF5bG9hZCIsImRlY29kZUJhc2U2NCIsImZyb21DaGFyQ29kZSIsIkwiLCJBIiwiY2hhckF0IiwiVG9rZW5NYW5hZ2VyIiwic2VjcmV0IiwibG9hZFRva2VuUHJvbWlzZSIsInNldFRva2VuT3JQcm92aWRlciIsInRva2VuT3JQcm92aWRlciIsInZhbGlkYXRlVG9rZW4iLCJ0b2tlblByb3ZpZGVyIiwicmVzZXQiLCJ0b2tlblVzZXJJZCIsImdldFRva2VuIiwiaGludFVybCIsIm1heEF0dGVtcHRzIiwibG9jYXRpb25IaW50IiwiZmV0Y2giLCJhd3NQb3AiLCJTdHJlYW1DbGllbnQiLCJzZXRCYXNlVVJMIiwiYmFzZVVSTCIsImhpbnQiLCJsb2NhdGlvbkhpbnRVcmwiLCJsb2NhdGlvbkhpbnRUaW1lb3V0IiwiX2dldENvbm5lY3Rpb25JRCIsIndzQ29ubmVjdGlvbiIsImNvbm5lY3RVc2VyIiwidXNlcklEIiwiY29ubmVjdFVzZXJUYXNrIiwibm9kZSIsImFsbG93U2VydmVyU2lkZUNvbm5lY3QiLCJfc2V0VXNlciIsIm9wZW5Db25uZWN0aW9uIiwidXBkYXRlTmV0d29ya0Nvbm5lY3Rpb25TdGF0dXMiLCJwZXJzaXN0VXNlck9uQ29ubmVjdGlvbkZhaWx1cmUiLCJjbG9zZUNvbm5lY3Rpb24iLCJkaXNjb25uZWN0VXNlciIsIl91c2VyIiwid3NQcm9taXNlIiwid3NQcm9taXNlU2FmZSIsIm5ld1dzUHJvbWlzZSIsImNvbm5lY3Rpb25JZFByb21pc2VTYWZlIiwiY29ubmVjdEd1ZXN0VXNlciIsImd1ZXN0VXNlckNyZWF0ZVByb21pc2UiLCJkb0F4aW9zUmVxdWVzdCIsInB1YmxpY0VuZHBvaW50IiwiYWNjZXNzX3Rva2VuIiwiY29ubmVjdEFub255bW91c1VzZXIiLCJfbG9nQXBpUmVxdWVzdCIsIl9sb2dBcGlSZXNwb25zZSIsIl9sb2dBcGlFcnJvciIsImNvbm5lY3Rpb25JZFByb21pc2UiLCJyZXF1ZXN0Q29uZmlnIiwiX2VucmljaEF4aW9zT3B0aW9ucyIsImF4aW9zSW5zdGFuY2UiLCJwdXQiLCJoYW5kbGVSZXNwb25zZSIsImNsaWVudF9yZXF1ZXN0X2lkIiwiZXJyb3JGcm9tUmVzcG9uc2UiLCJkZWZhdWx0V1NUaW1lb3V0IiwiY2FjaGVkVXNlckFnZW50IiwiY2xpZW50QXBwSWRlbnRpZmllciIsImV4dHJhcyIsImF1dGhvcml6YXRpb24iLCJhcGlfa2V5IiwiYXhpb3NSZXF1ZXN0Q29uZmlnIiwiaW5wdXRPcHRpb25zIiwibG9jYXRpb25IaW50TWF4QXR0ZW1wdHMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJodHRwc0FnZW50IiwiaHR0cHMiLCJBZ2VudCIsImtlZXBBbGl2ZU1zZWNzIiwiYXhpb3MiLCJkZWZhdWx0V3NUaW1lb3V0IiwiZ2V0SW5zdGFuY2VLZXkiLCJhcGlLZXkiLCJnZXRDbGllbnRBcHBJZGVudGlmaWVyIiwiYXBwSWQiLCJjcmVhdGVDb29yZGluYXRvckNsaWVudCIsImNvb3JkaW5hdG9yTG9nZ2VyIiwiY3JlYXRlVG9rZW5PclByb3ZpZGVyIiwiaW5pdGlhbFRva2VuVXNlZCIsIndyYXBwZWRUb2tlblByb3ZpZGVyIiwiU3RyZWFtVmlkZW9DbGllbnQiLCJhcGlLZXlPckFyZ3MiLCJlZmZlY3RzUmVnaXN0ZXJlZCIsImV2ZW50SGFuZGxlcnNUb1VucmVnaXN0ZXIiLCJjb25uZWN0aW9uQ29uY3VycmVuY3lUYWciLCJyZWdpc3RlckNsaWVudEluc3RhbmNlIiwiaW5zdGFuY2VLZXkiLCJfaW5zdGFuY2VzIiwiY2FsbHNUb1JlV2F0Y2giLCJ3cml0ZWFibGVTdGF0ZVN0b3JlIiwicXVlcnlDYWxscyIsIndhdGNoIiwiZmlsdGVyX2NvbmRpdGlvbnMiLCIkaW4iLCJmaWVsZCIsIm5ld0NhbGwiLCJ0aGVDYWxsIiwibmV3Q2FsbEluc3RhbmNlIiwiY29ubmVjdFVzZXJSZXNwb25zZSIsIm9uQ29ubmVjdFVzZXJFcnJvciIsIm1heENvbm5lY3RVc2VyUmV0cmllcyIsImVycm9yUXVldWUiLCJtZSIsInJldXNlSW5zdGFuY2UiLCJjcmVhdGVHdWVzdFVzZXIiLCJxdWVyeUNhbGxTdGF0cyIsInF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzIiwiZWRnZXMiLCJhZGREZXZpY2UiLCJwdXNoX3Byb3ZpZGVyIiwicHVzaF9wcm92aWRlcl9uYW1lIiwidm9pcF90b2tlbiIsImFkZFZvaXBEZXZpY2UiLCJyZW1vdmVEZXZpY2UiLCJvblJpbmdpbmdDYWxsIiwiY2FsbElkIiwiY2xpZW50T3B0aW9ucyIsInJvb3RMb2dnZXIiLCJyZWFkT25seVN0YXRlU3RvcmUiLCJnZXRPckNyZWF0ZUluc3RhbmNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js":
/*!********************************************************************!*\
  !*** ./node_modules/@stream-io/video-filters-web/dist/index.es.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SegmentationLevel: () => (/* binding */ SegmentationLevel),\n/* harmony export */   createRenderer: () => (/* binding */ createRenderer),\n/* harmony export */   isPlatformSupported: () => (/* binding */ isPlatformSupported),\n/* harmony export */   loadTFLite: () => (/* binding */ loadTFLite)\n/* harmony export */ });\n/* harmony import */ var wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! wasm-feature-detect */ \"(ssr)/./node_modules/wasm-feature-detect/dist/esm/index.js\");\n\n\n/**\n * Checks if the current platform is a mobile device.\n *\n * See:\n * https://developer.mozilla.org/en-US/docs/Web/HTTP/Browser_detection_using_the_user_agent\n */\nconst isMobile = () => /Mobi/i.test(navigator.userAgent);\n/**\n * Runs a check to see if the current platform supports\n * the necessary APIs required for the video filters.\n */\nconst isPlatformSupported = async () => typeof document !== 'undefined' &&\n    typeof window !== 'undefined' &&\n    typeof navigator !== 'undefined' &&\n    !isMobile() && // we don't support mobile devices yet due to performance issues\n    typeof WebAssembly !== 'undefined' &&\n    !!window.WebGL2RenderingContext && // WebGL2 is required for the video filters\n    !!document.createElement('canvas').getContext('webgl2') &&\n    (await (0,wasm_feature_detect__WEBPACK_IMPORTED_MODULE_0__.simd)()); // SIMD is required for the wasm module\n\n/**\n * Use it along with boyswan.glsl-literal VSCode extension\n * to get GLSL syntax highlighting.\n * https://marketplace.visualstudio.com/items?itemName=boyswan.glsl-literal\n *\n * On VSCode OSS, boyswan.glsl-literal requires slevesque.shader extension\n * to be installed as well.\n * https://marketplace.visualstudio.com/items?itemName=slevesque.shader\n */\nconst glsl = String.raw;\nfunction createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer) {\n    const program = createProgram(gl, vertexShader, fragmentShader);\n    const positionAttributeLocation = gl.getAttribLocation(program, 'a_position');\n    gl.enableVertexAttribArray(positionAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    const texCoordAttributeLocation = gl.getAttribLocation(program, 'a_texCoord');\n    gl.enableVertexAttribArray(texCoordAttributeLocation);\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.vertexAttribPointer(texCoordAttributeLocation, 2, gl.FLOAT, false, 0, 0);\n    return program;\n}\nfunction createProgram(gl, vertexShader, fragmentShader) {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n        throw new Error(`Could not link WebGL program: ${gl.getProgramInfoLog(program)}`);\n    }\n    return program;\n}\nfunction compileShader(gl, shaderType, shaderSource) {\n    const shader = gl.createShader(shaderType);\n    gl.shaderSource(shader, shaderSource);\n    gl.compileShader(shader);\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        throw new Error(`Could not compile shader: ${gl.getShaderInfoLog(shader)}`);\n    }\n    return shader;\n}\nfunction createTexture(gl, internalformat, width, height, minFilter = gl.NEAREST, magFilter = gl.NEAREST) {\n    const texture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, minFilter);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, magFilter);\n    gl.texStorage2D(gl.TEXTURE_2D, 1, internalformat, width, height);\n    return texture;\n}\nasync function readPixelsAsync(gl, x, y, width, height, format, type, dest) {\n    const buf = gl.createBuffer();\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, buf);\n    gl.bufferData(gl.PIXEL_PACK_BUFFER, dest.byteLength, gl.STREAM_READ);\n    gl.readPixels(x, y, width, height, format, type, 0);\n    gl.bindBuffer(gl.PIXEL_PACK_BUFFER, null);\n    await getBufferSubDataAsync(gl, gl.PIXEL_PACK_BUFFER, buf, 0, dest);\n    gl.deleteBuffer(buf);\n    return dest;\n}\nasync function getBufferSubDataAsync(gl, target, buffer, srcByteOffset, dstBuffer, dstOffset, length) {\n    const sync = gl.fenceSync(gl.SYNC_GPU_COMMANDS_COMPLETE, 0);\n    gl.flush();\n    if (!sync)\n        return;\n    const res = await clientWaitAsync(gl, sync);\n    gl.deleteSync(sync);\n    if (res !== gl.WAIT_FAILED) {\n        gl.bindBuffer(target, buffer);\n        gl.getBufferSubData(target, srcByteOffset, dstBuffer, dstOffset, length);\n        gl.bindBuffer(target, null);\n    }\n}\nfunction clientWaitAsync(gl, sync) {\n    return new Promise((resolve) => {\n        function test() {\n            const res = gl.clientWaitSync(sync, 0, 0);\n            if (res === gl.WAIT_FAILED) {\n                resolve(res);\n                return;\n            }\n            if (res === gl.TIMEOUT_EXPIRED) {\n                setTimeout(test);\n                return;\n            }\n            resolve(res);\n        }\n        setTimeout(test);\n    });\n}\n\nfunction buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const blurPass = buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel);\n    const blendPass = buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas);\n    function render() {\n        blurPass.render();\n        blendPass.render();\n    }\n    function updateCoverage(coverage) {\n        blendPass.updateCoverage(coverage);\n    }\n    function cleanUp() {\n        blendPass.cleanUp();\n        blurPass.cleanUp();\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\nfunction buildBlurPass(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel) {\n    const sigma = typeof blurLevel === 'number'\n        ? blurLevel\n        : blurLevel === 'low'\n            ? 2\n            : blurLevel === 'medium'\n                ? 4\n                : 6;\n    const windowSize = Math.max(1, Math.floor(sigma * 3));\n    const offset = new Array(windowSize).fill(0).map((v, index) => index);\n    const variance = sigma ** 2;\n    const weights = offset.map((x) => {\n        const m = sigma * Math.sqrt(2 * Math.PI);\n        const e = Math.exp(-(x ** 2) / (2 * variance));\n        return e / m;\n    });\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform vec2 u_texelSize;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    const float offset[${windowSize}] = float[](${offset.map((i) => i.toFixed(10)).join(', ')});\n    const float weight[${windowSize}] = float[](${weights.map((i) => i.toFixed(10)).join(', ')});\n\n    void main() {\n      vec4 centerColor = texture(u_inputFrame, v_texCoord);\n      float personMask = texture(u_personMask, v_texCoord).a;\n\n      vec4 frameColor = centerColor * weight[0] * (1.0 - personMask);\n\n      for (int i = 1; i < ${windowSize}; i++) {\n        vec2 offset = vec2(offset[i]) * u_texelSize;\n\n        vec2 texCoord = v_texCoord + offset;\n        frameColor += texture(u_inputFrame, texCoord)\n           * weight[i]\n           * (1.0 - texture(u_personMask, texCoord).a);\n\n        texCoord = v_texCoord - offset;\n        frameColor += texture(u_inputFrame, texCoord)\n          * weight[i]\n          * (1.0 - texture(u_personMask, texCoord).a);\n      }\n      outColor = vec4(frameColor.rgb + (1.0 - frameColor.a) * centerColor.rgb, 1.0);\n    }\n  `;\n    const scale = 0.5;\n    const outputWidth = canvas.width * scale;\n    const outputHeight = canvas.height * scale;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const texture1 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const texture2 = createTexture(gl, gl.RGBA8, outputWidth, outputHeight, gl.NEAREST, \n    // @ts-expect-error types are incomplete\n    gl.LINEAR);\n    const frameBuffer1 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture1, 0);\n    const frameBuffer2 = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture2, 0);\n    gl.useProgram(program);\n    gl.uniform1i(personMaskLocation, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.uniform1i(inputFrameLocation, 0);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        for (let i = 0; i < 3; i++) {\n            gl.uniform2f(texelSizeLocation, 0, texelHeight);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer1);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, texture1);\n            gl.uniform1i(inputFrameLocation, 2);\n            gl.uniform2f(texelSizeLocation, texelWidth, 0);\n            gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer2);\n            gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n            gl.bindTexture(gl.TEXTURE_2D, texture2);\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer2);\n        gl.deleteFramebuffer(frameBuffer1);\n        gl.deleteTexture(texture2);\n        gl.deleteTexture(texture1);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return {\n        render,\n        cleanUp,\n    };\n}\nfunction buildBlendPass(gl, positionBuffer, texCoordBuffer, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_blurredInputFrame;\n    uniform vec2 u_coverage;\n\n    in vec2 v_texCoord;\n\n    out vec4 outColor;\n\n    void main() {\n      vec3 color = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 blurredColor = texture(u_blurredInputFrame, v_texCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(mix(blurredColor, color, personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const blurredInputFrame = gl.getUniformLocation(program, 'u_blurredInputFrame');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform1i(blurredInputFrame, 2);\n    gl.uniform2f(coverageLocation, 0, 1);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function cleanUp() {\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        cleanUp,\n    };\n}\n\nfunction buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas) {\n    const vertexShaderSource = glsl `#version 300 es\n\n    uniform vec2 u_backgroundScale;\n    uniform vec2 u_backgroundOffset;\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n\n    out vec2 v_texCoord;\n    out vec2 v_backgroundCoord;\n\n    void main() {\n      // Flipping Y is required when rendering to canvas\n      gl_Position = vec4(a_position * vec2(1.0, -1.0), 0.0, 1.0);\n      v_texCoord = a_texCoord;\n      v_backgroundCoord = a_texCoord * u_backgroundScale + u_backgroundOffset;\n    }\n  `;\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_personMask;\n    uniform sampler2D u_background;\n    uniform vec2 u_coverage;\n    uniform float u_lightWrapping;\n    uniform float u_blendMode;\n\n    in vec2 v_texCoord;\n    in vec2 v_backgroundCoord;\n\n    out vec4 outColor;\n\n    vec3 screen(vec3 a, vec3 b) {\n      return 1.0 - (1.0 - a) * (1.0 - b);\n    }\n\n    vec3 linearDodge(vec3 a, vec3 b) {\n      return a + b;\n    }\n\n    void main() {\n      vec3 frameColor = texture(u_inputFrame, v_texCoord).rgb;\n      vec3 backgroundColor = texture(u_background, v_backgroundCoord).rgb;\n      float personMask = texture(u_personMask, v_texCoord).a;\n      float lightWrapMask = 1.0 - max(0.0, personMask - u_coverage.y) / (1.0 - u_coverage.y);\n      vec3 lightWrap = u_lightWrapping * lightWrapMask * backgroundColor;\n\n      frameColor = u_blendMode * linearDodge(frameColor, lightWrap)\n        + (1.0 - u_blendMode) * screen(frameColor, lightWrap);\n      personMask = smoothstep(u_coverage.x, u_coverage.y, personMask);\n      outColor = vec4(frameColor * personMask + backgroundColor * (1.0 - personMask), 1.0);\n    }\n  `;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const outputRatio = outputWidth / outputHeight;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const backgroundScaleLocation = gl.getUniformLocation(program, 'u_backgroundScale');\n    const backgroundOffsetLocation = gl.getUniformLocation(program, 'u_backgroundOffset');\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const personMaskLocation = gl.getUniformLocation(program, 'u_personMask');\n    const backgroundLocation = gl.getUniformLocation(program, 'u_background');\n    const coverageLocation = gl.getUniformLocation(program, 'u_coverage');\n    const lightWrappingLocation = gl.getUniformLocation(program, 'u_lightWrapping');\n    const blendModeLocation = gl.getUniformLocation(program, 'u_blendMode');\n    gl.useProgram(program);\n    gl.uniform2f(backgroundScaleLocation, 1, 1);\n    gl.uniform2f(backgroundOffsetLocation, 0, 0);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(personMaskLocation, 1);\n    gl.uniform2f(coverageLocation, 0, 1);\n    gl.uniform1f(lightWrappingLocation, 0);\n    gl.uniform1f(blendModeLocation, 0);\n    let backgroundTexture = null;\n    // TODO Find a better to handle background being loaded\n    if (backgroundImage?.complete) {\n        updateBackgroundImage(backgroundImage);\n    }\n    else if (backgroundImage) {\n        backgroundImage.onload = () => {\n            updateBackgroundImage(backgroundImage);\n        };\n    }\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, personMaskTexture);\n        if (backgroundTexture !== null) {\n            gl.activeTexture(gl.TEXTURE2);\n            gl.bindTexture(gl.TEXTURE_2D, backgroundTexture);\n            // TODO Handle correctly the background not loaded yet\n            gl.uniform1i(backgroundLocation, 2);\n        }\n        gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateBackgroundImage(bgImage) {\n        backgroundTexture = createTexture(gl, gl.RGBA8, bgImage.naturalWidth, bgImage.naturalHeight, \n        // @ts-expect-error types are incomplete\n        gl.LINEAR, gl.LINEAR);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, bgImage.naturalWidth, bgImage.naturalHeight, gl.RGBA, gl.UNSIGNED_BYTE, bgImage);\n        let xOffset = 0;\n        let yOffset = 0;\n        let backgroundWidth = bgImage.naturalWidth;\n        let backgroundHeight = bgImage.naturalHeight;\n        const backgroundRatio = backgroundWidth / backgroundHeight;\n        if (backgroundRatio < outputRatio) {\n            backgroundHeight = backgroundWidth / outputRatio;\n            yOffset = (bgImage.naturalHeight - backgroundHeight) / 2;\n        }\n        else {\n            backgroundWidth = backgroundHeight * outputRatio;\n            xOffset = (bgImage.naturalWidth - backgroundWidth) / 2;\n        }\n        const xScale = backgroundWidth / bgImage.naturalWidth;\n        const yScale = backgroundHeight / bgImage.naturalHeight;\n        xOffset /= bgImage.naturalWidth;\n        yOffset /= bgImage.naturalHeight;\n        gl.uniform2f(backgroundScaleLocation, xScale, yScale);\n        gl.uniform2f(backgroundOffsetLocation, xOffset, yOffset);\n    }\n    function updateCoverage(coverage) {\n        gl.useProgram(program);\n        gl.uniform2f(coverageLocation, coverage[0], coverage[1]);\n    }\n    function updateLightWrapping(lightWrapping) {\n        gl.useProgram(program);\n        gl.uniform1f(lightWrappingLocation, lightWrapping);\n    }\n    function updateBlendMode(blendMode) {\n        gl.useProgram(program);\n        gl.uniform1f(blendModeLocation, blendMode === 'screen' ? 0 : 1);\n    }\n    function cleanUp() {\n        gl.deleteTexture(backgroundTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n        gl.deleteShader(vertexShader);\n    }\n    return {\n        render,\n        updateCoverage,\n        updateLightWrapping,\n        updateBlendMode,\n        cleanUp,\n    };\n}\n\nfunction buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, inputTexture, outputTexture, canvas, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputFrame;\n    uniform sampler2D u_segmentationMask;\n    uniform vec2 u_texelSize;\n    uniform float u_step;\n    uniform float u_radius;\n    uniform float u_offset;\n    uniform float u_sigmaTexel;\n    uniform float u_sigmaColor;\n\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    float gaussian(float x, float sigma) {\n      float coeff = -0.5 / (sigma * sigma * 4.0 + 1.0e-6);\n      return exp((x * x) * coeff);\n    }\n\n    void main() {\n      vec2 centerCoord = v_texCoord;\n      vec3 centerColor = texture(u_inputFrame, centerCoord).rgb;\n      float newVal = 0.0;\n\n      float spaceWeight = 0.0;\n      float colorWeight = 0.0;\n      float totalWeight = 0.0;\n\n      // Subsample kernel space.\n      for (float i = -u_radius + u_offset; i <= u_radius; i += u_step) {\n        for (float j = -u_radius + u_offset; j <= u_radius; j += u_step) {\n          vec2 shift = vec2(j, i) * u_texelSize;\n          vec2 coord = vec2(centerCoord + shift);\n          vec3 frameColor = texture(u_inputFrame, coord).rgb;\n          float outVal = texture(u_segmentationMask, coord).a;\n\n          spaceWeight = gaussian(distance(centerCoord, coord), u_sigmaTexel);\n          colorWeight = gaussian(distance(centerColor, frameColor), u_sigmaColor);\n          totalWeight += spaceWeight * colorWeight;\n\n          newVal += spaceWeight * colorWeight * outVal;\n        }\n      }\n      newVal /= totalWeight;\n\n      outColor = vec4(vec3(0.0), newVal);\n    }\n  `;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const { width: outputWidth, height: outputHeight } = canvas;\n    const texelWidth = 1 / outputWidth;\n    const texelHeight = 1 / outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const segmentationMaskLocation = gl.getUniformLocation(program, 'u_segmentationMask');\n    const texelSizeLocation = gl.getUniformLocation(program, 'u_texelSize');\n    const stepLocation = gl.getUniformLocation(program, 'u_step');\n    const radiusLocation = gl.getUniformLocation(program, 'u_radius');\n    const offsetLocation = gl.getUniformLocation(program, 'u_offset');\n    const sigmaTexelLocation = gl.getUniformLocation(program, 'u_sigmaTexel');\n    const sigmaColorLocation = gl.getUniformLocation(program, 'u_sigmaColor');\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    gl.uniform1i(segmentationMaskLocation, 1);\n    gl.uniform2f(texelSizeLocation, texelWidth, texelHeight);\n    // Ensures default values are configured to prevent infinite\n    // loop in fragment shader\n    updateSigmaSpace(0);\n    updateSigmaColor(0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function updateSigmaSpace(sigmaSpace) {\n        sigmaSpace *= Math.max(outputWidth / segmentationWidth, outputHeight / segmentationHeight);\n        const kSparsityFactor = 0.66; // Higher is sparser.\n        const step = Math.max(1, Math.sqrt(sigmaSpace) * kSparsityFactor);\n        const radius = sigmaSpace;\n        const offset = step > 1 ? step * 0.5 : 0;\n        const sigmaTexel = Math.max(texelWidth, texelHeight) * sigmaSpace;\n        gl.useProgram(program);\n        gl.uniform1f(stepLocation, step);\n        gl.uniform1f(radiusLocation, radius);\n        gl.uniform1f(offsetLocation, offset);\n        gl.uniform1f(sigmaTexelLocation, sigmaTexel);\n    }\n    function updateSigmaColor(sigmaColor) {\n        gl.useProgram(program);\n        gl.uniform1f(sigmaColorLocation, sigmaColor);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, updateSigmaSpace, updateSigmaColor, cleanUp };\n}\n\nfunction buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig, onError) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n    uniform sampler2D u_inputFrame;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      outColor = texture(u_inputFrame, v_texCoord);\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteInputMemoryOffset = tflite._getInputMemoryOffset() / 4;\n    const { width: outputWidth, height: outputHeight } = segmentationConfig;\n    const outputPixelCount = outputWidth * outputHeight;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputFrameLocation = gl.getUniformLocation(program, 'u_inputFrame');\n    const outputTexture = createTexture(gl, gl.RGBA8, outputWidth, outputHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    const outputPixels = new Uint8Array(outputPixelCount * 4);\n    gl.useProgram(program);\n    gl.uniform1i(inputFrameLocation, 0);\n    function render() {\n        gl.viewport(0, 0, outputWidth, outputHeight);\n        gl.useProgram(program);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n        // Downloads pixels asynchronously from GPU while rendering the current frame.\n        // The pixels will be available in the next frame render which results\n        // in offsets in the segmentation output but increases the frame rate.\n        readPixelsAsync(gl, 0, 0, outputWidth, outputHeight, gl.RGBA, gl.UNSIGNED_BYTE, outputPixels).catch((error) => {\n        });\n        for (let i = 0; i < outputPixelCount; i++) {\n            const tfliteIndex = tfliteInputMemoryOffset + i * 3;\n            const outputIndex = i * 4;\n            tflite.HEAPF32[tfliteIndex] = outputPixels[outputIndex] / 255;\n            tflite.HEAPF32[tfliteIndex + 1] = outputPixels[outputIndex + 1] / 255;\n            tflite.HEAPF32[tfliteIndex + 2] = outputPixels[outputIndex + 2] / 255;\n        }\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(outputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, outputTexture, segmentationConfig) {\n    const fragmentShaderSource = glsl `#version 300 es\n\n    precision highp float;\n\n    uniform sampler2D u_inputSegmentation;\n    in vec2 v_texCoord;\n    out vec4 outColor;\n\n    void main() {\n      vec2 segmentation = texture(u_inputSegmentation, v_texCoord).rg;\n      float shift = max(segmentation.r, segmentation.g);\n      float backgroundExp = exp(segmentation.r - shift);\n      float personExp = exp(segmentation.g - shift);\n      outColor = vec4(vec3(0.0), personExp / (backgroundExp + personExp));\n    }\n  `;\n    // TFLite memory will be accessed as float32\n    const tfliteOutputMemoryOffset = tflite._getOutputMemoryOffset() / 4;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const fragmentShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n    const program = createPipelineStageProgram(gl, vertexShader, fragmentShader, positionBuffer, texCoordBuffer);\n    const inputLocation = gl.getUniformLocation(program, 'u_inputSegmentation');\n    const inputTexture = createTexture(gl, gl.RG32F, segmentationWidth, segmentationHeight);\n    const frameBuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, outputTexture, 0);\n    gl.useProgram(program);\n    gl.uniform1i(inputLocation, 1);\n    function render() {\n        gl.viewport(0, 0, segmentationWidth, segmentationHeight);\n        gl.useProgram(program);\n        gl.activeTexture(gl.TEXTURE1);\n        gl.bindTexture(gl.TEXTURE_2D, inputTexture);\n        gl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, segmentationWidth, segmentationHeight, gl.RG, gl.FLOAT, tflite.HEAPF32, tfliteOutputMemoryOffset);\n        gl.bindFramebuffer(gl.FRAMEBUFFER, frameBuffer);\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\n    }\n    function cleanUp() {\n        gl.deleteFramebuffer(frameBuffer);\n        gl.deleteTexture(inputTexture);\n        gl.deleteProgram(program);\n        gl.deleteShader(fragmentShader);\n    }\n    return { render, cleanUp };\n}\n\nfunction buildWebGL2Pipeline(videoSource, backgroundImage, blurLevel, backgroundFilter, canvas, tflite, segmentationConfig, onError) {\n    const gl = canvas.getContext('webgl2');\n    if (!gl)\n        throw new Error('WebGL2 is not supported');\n    if (gl.isContextLost())\n        throw new Error('WebGL2 context was lost');\n    const { width: frameWidth, height: frameHeight } = videoSource;\n    const { width: segmentationWidth, height: segmentationHeight } = segmentationConfig;\n    const vertexShaderSource = glsl `#version 300 es\n\n    in vec2 a_position;\n    in vec2 a_texCoord;\n    out vec2 v_texCoord;\n\n    void main() {\n      gl_Position = vec4(a_position, 0.0, 1.0);\n      v_texCoord = a_texCoord;\n    }\n  `;\n    const vertexShader = compileShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const vertexArray = gl.createVertexArray();\n    gl.bindVertexArray(vertexArray);\n    const positionBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, 1.0, -1, -1, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    const texCoordBuffer = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, texCoordBuffer);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 1.0]), gl.STATIC_DRAW);\n    // We don't use texStorage2D here because texImage2D seems faster\n    // to upload video texture than texSubImage2D even though the latter\n    // is supposed to be the recommended way:\n    // https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/WebGL_best_practices#use_texstorage_to_create_textures\n    const inputFrameTexture = gl.createTexture();\n    gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    // TODO Rename segmentation and person mask to be more specific\n    const segmentationTexture = createTexture(gl, gl.RGBA8, segmentationWidth, segmentationHeight);\n    const personMaskTexture = createTexture(gl, gl.RGBA8, frameWidth, frameHeight);\n    const resizingStage = buildResizingStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationConfig);\n    const loadSegmentationStage = buildSoftmaxStage(gl, vertexShader, positionBuffer, texCoordBuffer, tflite, segmentationTexture, segmentationConfig);\n    const jointBilateralFilterStage = buildJointBilateralFilterStage(gl, vertexShader, positionBuffer, texCoordBuffer, segmentationTexture, personMaskTexture, canvas, segmentationConfig);\n    const backgroundStage = backgroundFilter === 'blur'\n        ? buildBackgroundBlurStage(gl, vertexShader, positionBuffer, texCoordBuffer, personMaskTexture, canvas, blurLevel || 'high')\n        : buildBackgroundImageStage(gl, positionBuffer, texCoordBuffer, personMaskTexture, backgroundImage, canvas);\n    function render() {\n        gl.activeTexture(gl.TEXTURE0);\n        gl.bindTexture(gl.TEXTURE_2D, inputFrameTexture);\n        // texImage2D seems faster than texSubImage2D to upload\n        // video texture\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, videoSource);\n        gl.bindVertexArray(vertexArray);\n        resizingStage.render();\n        tflite._runInference();\n        loadSegmentationStage.render();\n        jointBilateralFilterStage.render();\n        backgroundStage.render();\n    }\n    function updatePostProcessingConfig() {\n        jointBilateralFilterStage.updateSigmaSpace(1);\n        jointBilateralFilterStage.updateSigmaColor(0.1);\n        if (backgroundFilter === 'image') {\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0.5, 0.75]);\n            backgroundImageStage.updateLightWrapping(0.3);\n            backgroundImageStage.updateBlendMode('screen');\n        }\n        else if (backgroundFilter === 'blur') {\n            const backgroundBlurStage = backgroundStage;\n            backgroundBlurStage.updateCoverage([0.5, 0.75]);\n        }\n        else {\n            // TODO Handle no background in a separate pipeline path\n            const backgroundImageStage = backgroundStage;\n            backgroundImageStage.updateCoverage([0, 0.9999]);\n            backgroundImageStage.updateLightWrapping(0);\n        }\n    }\n    function cleanUp() {\n        backgroundStage.cleanUp();\n        jointBilateralFilterStage.cleanUp();\n        loadSegmentationStage.cleanUp();\n        resizingStage.cleanUp();\n        gl.deleteTexture(personMaskTexture);\n        gl.deleteTexture(segmentationTexture);\n        gl.deleteTexture(inputFrameTexture);\n        gl.deleteBuffer(texCoordBuffer);\n        gl.deleteBuffer(positionBuffer);\n        gl.deleteVertexArray(vertexArray);\n        gl.deleteShader(vertexShader);\n    }\n    return { render, updatePostProcessingConfig, cleanUp };\n}\n\nvar SegmentationLevel;\n(function (SegmentationLevel) {\n    SegmentationLevel[\"LOW\"] = \"low\";\n    SegmentationLevel[\"HIGH\"] = \"high\";\n})(SegmentationLevel || (SegmentationLevel = {}));\nconst getSegmentationParams = (level) => {\n    if (level === SegmentationLevel.HIGH) {\n        return { width: 256, height: 144 };\n    }\n    return { width: 160, height: 96 };\n};\n\nfunction createRenderer(tflite, videoSource, targetCanvas, options, onError) {\n    const { backgroundFilter, backgroundImage, backgroundBlurLevel, segmentationLevel = SegmentationLevel.HIGH, fps = 30, } = options;\n    if (backgroundFilter === 'image' && !backgroundImage) {\n        throw new Error(`backgroundImage element is required when backgroundFilter is image`);\n    }\n    const pipeline = buildWebGL2Pipeline(videoSource, backgroundImage, backgroundBlurLevel, backgroundFilter, targetCanvas, tflite, getSegmentationParams(segmentationLevel));\n    const id = setInterval(() => {\n        try {\n            pipeline.render();\n            if (backgroundFilter === 'image') {\n                pipeline.updatePostProcessingConfig();\n            }\n        }\n        catch (error) {\n            onError?.(error);\n        }\n    }, 1000 / (fps <= 0 ? 30 : fps));\n    return {\n        dispose: () => {\n            pipeline.cleanUp();\n            clearInterval(id);\n        },\n    };\n}\n\nconst createTFLiteSIMDModule = (__Module) => {\n  __Module = __Module || {};\n\n  var _scriptDir =\n    typeof document !== 'undefined' && document.currentScript\n      ? document.currentScript.src\n      : undefined;\n\n  var Module = typeof __Module != 'undefined' ? __Module : {};\n  var readyPromiseResolve, readyPromiseReject;\n  Module['ready'] = new Promise(function (resolve, reject) {\n    readyPromiseResolve = resolve;\n    readyPromiseReject = reject;\n  });\n  var moduleOverrides = Object.assign({}, Module);\n  var thisProgram = './this.program';\n  var quit_ = (status, toThrow) => {\n    throw toThrow;\n  };\n  var ENVIRONMENT_IS_WEB = true;\n  var scriptDirectory = '';\n\n  function locateFile(path) {\n    if (Module['locateFile']) {\n      return Module['locateFile'](path, scriptDirectory);\n    }\n    return scriptDirectory + path;\n  }\n\n  var readBinary;\n  {\n    if (typeof document != 'undefined' && document.currentScript) {\n      scriptDirectory = document.currentScript.src;\n    }\n    if (_scriptDir) {\n      scriptDirectory = _scriptDir;\n    }\n    if (scriptDirectory.indexOf('blob:') !== 0) {\n      scriptDirectory = scriptDirectory.substr(\n        0,\n        scriptDirectory.replace(/[?#].*/, '').lastIndexOf('/') + 1,\n      );\n    } else {\n      scriptDirectory = '';\n    }\n  }\n  var out = Module['print'] || console.log.bind(console);\n  var err = Module['printErr'] || console.warn.bind(console);\n  Object.assign(Module, moduleOverrides);\n  moduleOverrides = null;\n  if (Module['arguments']) Module['arguments'];\n  if (Module['thisProgram']) thisProgram = Module['thisProgram'];\n  if (Module['quit']) quit_ = Module['quit'];\n  var wasmBinary;\n  if (Module['wasmBinary']) wasmBinary = Module['wasmBinary'];\n  Module['noExitRuntime'] || true;\n  if (typeof WebAssembly != 'object') {\n    abort('no native wasm support detected');\n  }\n  var wasmMemory;\n  var ABORT = false;\n\n  var UTF8Decoder =\n    typeof TextDecoder != 'undefined' ? new TextDecoder('utf8') : undefined;\n\n  function UTF8ArrayToString(heapOrArray, idx, maxBytesToRead) {\n    var endIdx = idx + maxBytesToRead;\n    var endPtr = idx;\n    while (heapOrArray[endPtr] && !(endPtr >= endIdx)) ++endPtr;\n    if (endPtr - idx > 16 && heapOrArray.buffer && UTF8Decoder) {\n      return UTF8Decoder.decode(heapOrArray.subarray(idx, endPtr));\n    }\n    var str = '';\n    while (idx < endPtr) {\n      var u0 = heapOrArray[idx++];\n      if (!(u0 & 128)) {\n        str += String.fromCharCode(u0);\n        continue;\n      }\n      var u1 = heapOrArray[idx++] & 63;\n      if ((u0 & 224) == 192) {\n        str += String.fromCharCode(((u0 & 31) << 6) | u1);\n        continue;\n      }\n      var u2 = heapOrArray[idx++] & 63;\n      if ((u0 & 240) == 224) {\n        u0 = ((u0 & 15) << 12) | (u1 << 6) | u2;\n      } else {\n        u0 =\n          ((u0 & 7) << 18) | (u1 << 12) | (u2 << 6) | (heapOrArray[idx++] & 63);\n      }\n      if (u0 < 65536) {\n        str += String.fromCharCode(u0);\n      } else {\n        var ch = u0 - 65536;\n        str += String.fromCharCode(55296 | (ch >> 10), 56320 | (ch & 1023));\n      }\n    }\n    return str;\n  }\n\n  var buffer, HEAP8, HEAPU8, HEAPU32;\n\n  function updateGlobalBufferAndViews(buf) {\n    buffer = buf;\n    Module['HEAP8'] = HEAP8 = new Int8Array(buf);\n    Module['HEAP16'] = new Int16Array(buf);\n    Module['HEAP32'] = new Int32Array(buf);\n    Module['HEAPU8'] = HEAPU8 = new Uint8Array(buf);\n    Module['HEAPU16'] = new Uint16Array(buf);\n    Module['HEAPU32'] = HEAPU32 = new Uint32Array(buf);\n    Module['HEAPF32'] = new Float32Array(buf);\n    Module['HEAPF64'] = new Float64Array(buf);\n  }\n\n  Module['INITIAL_MEMORY'] || 16777216;\n  var __ATPRERUN__ = [];\n  var __ATINIT__ = [];\n  var __ATPOSTRUN__ = [];\n\n  function preRun() {\n    if (Module['preRun']) {\n      if (typeof Module['preRun'] == 'function')\n        Module['preRun'] = [Module['preRun']];\n      while (Module['preRun'].length) {\n        addOnPreRun(Module['preRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPRERUN__);\n  }\n\n  function initRuntime() {\n    callRuntimeCallbacks(__ATINIT__);\n  }\n\n  function postRun() {\n    if (Module['postRun']) {\n      if (typeof Module['postRun'] == 'function')\n        Module['postRun'] = [Module['postRun']];\n      while (Module['postRun'].length) {\n        addOnPostRun(Module['postRun'].shift());\n      }\n    }\n    callRuntimeCallbacks(__ATPOSTRUN__);\n  }\n\n  function addOnPreRun(cb) {\n    __ATPRERUN__.unshift(cb);\n  }\n\n  function addOnInit(cb) {\n    __ATINIT__.unshift(cb);\n  }\n\n  function addOnPostRun(cb) {\n    __ATPOSTRUN__.unshift(cb);\n  }\n\n  var runDependencies = 0;\n  var dependenciesFulfilled = null;\n\n  function addRunDependency(id) {\n    runDependencies++;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n  }\n\n  function removeRunDependency(id) {\n    runDependencies--;\n    if (Module['monitorRunDependencies']) {\n      Module['monitorRunDependencies'](runDependencies);\n    }\n    if (runDependencies == 0) {\n      if (dependenciesFulfilled) {\n        var callback = dependenciesFulfilled;\n        dependenciesFulfilled = null;\n        callback();\n      }\n    }\n  }\n\n  function abort(what) {\n    {\n      if (Module['onAbort']) {\n        Module['onAbort'](what);\n      }\n    }\n    what = 'Aborted(' + what + ')';\n    err(what);\n    ABORT = true;\n    what += '. Build with -sASSERTIONS for more info.';\n    var e = new WebAssembly.RuntimeError(what);\n    readyPromiseReject(e);\n    throw e;\n  }\n\n  var dataURIPrefix = 'data:application/octet-stream;base64,';\n\n  function isDataURI(filename) {\n    return filename.startsWith(dataURIPrefix);\n  }\n\n  var wasmBinaryFile;\n  wasmBinaryFile = 'tflite-simd.wasm';\n  if (!isDataURI(wasmBinaryFile)) {\n    wasmBinaryFile = locateFile(wasmBinaryFile);\n  }\n\n  function getBinary(file) {\n    try {\n      if (file == wasmBinaryFile && wasmBinary) {\n        return new Uint8Array(wasmBinary);\n      }\n      if (readBinary) ;\n      throw 'both async and sync fetching of the wasm failed';\n      // eslint-disable-next-line @typescript-eslint/no-shadow\n    } catch (err) {\n      abort(err);\n    }\n  }\n\n  function getBinaryPromise() {\n    if (!wasmBinary && (ENVIRONMENT_IS_WEB)) {\n      if (typeof fetch == 'function') {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' })\n          .then(function (response) {\n            if (!response['ok']) {\n              throw (\n                \"failed to load wasm binary file at '\" + wasmBinaryFile + \"'\"\n              );\n            }\n            return response['arrayBuffer']();\n          })\n          .catch(function () {\n            return getBinary(wasmBinaryFile);\n          });\n      }\n    }\n    return Promise.resolve().then(function () {\n      return getBinary(wasmBinaryFile);\n    });\n  }\n\n  function createWasm() {\n    var info = {\n      env: asmLibraryArg,\n      wasi_snapshot_preview1: asmLibraryArg,\n    };\n\n    function receiveInstance(instance, module) {\n      var exports = instance.exports;\n      Module['asm'] = exports;\n      wasmMemory = Module['asm']['memory'];\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      Module['asm']['__indirect_function_table'];\n      addOnInit(Module['asm']['__wasm_call_ctors']);\n      removeRunDependency();\n    }\n\n    addRunDependency();\n\n    function receiveInstantiationResult(result) {\n      receiveInstance(result['instance']);\n    }\n\n    function instantiateArrayBuffer(receiver) {\n      return getBinaryPromise()\n        .then(function (binary) {\n          return WebAssembly.instantiate(binary, info);\n        })\n        .then(function (instance) {\n          return instance;\n        })\n        .then(receiver, function (reason) {\n          err('failed to asynchronously prepare wasm: ' + reason);\n          abort(reason);\n        });\n    }\n\n    function instantiateAsync() {\n      if (\n        !wasmBinary &&\n        typeof WebAssembly.instantiateStreaming == 'function' &&\n        !isDataURI(wasmBinaryFile) &&\n        typeof fetch == 'function'\n      ) {\n        return fetch(wasmBinaryFile, { credentials: 'same-origin' }).then(\n          function (response) {\n            var result = WebAssembly.instantiateStreaming(response, info);\n            return result.then(receiveInstantiationResult, function (reason) {\n              err('wasm streaming compile failed: ' + reason);\n              err('falling back to ArrayBuffer instantiation');\n              return instantiateArrayBuffer(receiveInstantiationResult);\n            });\n          },\n        );\n      } else {\n        return instantiateArrayBuffer(receiveInstantiationResult);\n      }\n    }\n\n    if (Module['instantiateWasm']) {\n      try {\n        var exports = Module['instantiateWasm'](info, receiveInstance);\n        return exports;\n      } catch (e) {\n        err('Module.instantiateWasm callback failed with error: ' + e);\n        readyPromiseReject(e);\n      }\n    }\n    instantiateAsync().catch(readyPromiseReject);\n    return {};\n  }\n\n  function ExitStatus(status) {\n    this.name = 'ExitStatus';\n    this.message = 'Program terminated with exit(' + status + ')';\n    this.status = status;\n  }\n\n  function callRuntimeCallbacks(callbacks) {\n    while (callbacks.length > 0) {\n      callbacks.shift()(Module);\n    }\n  }\n\n  function __dlinit(main_dso_handle) {}\n\n  var dlopenMissingError =\n    'To use dlopen, you need enable dynamic linking, see https://github.com/emscripten-core/emscripten/wiki/Linking';\n\n  function __dlopen_js(filename, flag) {\n    abort(dlopenMissingError);\n  }\n\n  function __dlsym_js(handle, symbol) {\n    abort(dlopenMissingError);\n  }\n\n  var nowIsMonotonic = true;\n\n  function __emscripten_get_now_is_monotonic() {\n    return nowIsMonotonic;\n  }\n\n  function __mmap_js(len, prot, flags, fd, off, allocated) {\n    return -52;\n  }\n\n  function __munmap_js(addr, len, prot, flags, fd, offset) {}\n\n  function _abort() {\n    abort('');\n  }\n\n  function _emscripten_date_now() {\n    return Date.now();\n  }\n\n  function getHeapMax() {\n    return 2147483648;\n  }\n\n  function _emscripten_get_heap_max() {\n    return getHeapMax();\n  }\n\n  var _emscripten_get_now;\n  _emscripten_get_now = () => performance.now();\n\n  function _emscripten_memcpy_big(dest, src, num) {\n    HEAPU8.copyWithin(dest, src, src + num);\n  }\n\n  function emscripten_realloc_buffer(size) {\n    try {\n      wasmMemory.grow((size - buffer.byteLength + 65535) >>> 16);\n      updateGlobalBufferAndViews(wasmMemory.buffer);\n      return 1;\n    } catch (e) {}\n  }\n\n  function _emscripten_resize_heap(requestedSize) {\n    var oldSize = HEAPU8.length;\n    requestedSize = requestedSize >>> 0;\n    var maxHeapSize = getHeapMax();\n    if (requestedSize > maxHeapSize) {\n      return false;\n    }\n    let alignUp = (x, multiple) => x + ((multiple - (x % multiple)) % multiple);\n    for (var cutDown = 1; cutDown <= 4; cutDown *= 2) {\n      var overGrownHeapSize = oldSize * (1 + 0.2 / cutDown);\n      overGrownHeapSize = Math.min(\n        overGrownHeapSize,\n        requestedSize + 100663296,\n      );\n      var newSize = Math.min(\n        maxHeapSize,\n        alignUp(Math.max(requestedSize, overGrownHeapSize), 65536),\n      );\n      var replacement = emscripten_realloc_buffer(newSize);\n      if (replacement) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  var ENV = {};\n\n  function getExecutableName() {\n    return thisProgram || './this.program';\n  }\n\n  function getEnvStrings() {\n    if (!getEnvStrings.strings) {\n      var lang =\n        (\n          (typeof navigator == 'object' &&\n            navigator.languages &&\n            navigator.languages[0]) ||\n          'C'\n        ).replace('-', '_') + '.UTF-8';\n      var env = {\n        USER: 'web_user',\n        LOGNAME: 'web_user',\n        PATH: '/',\n        PWD: '/',\n        HOME: '/home/web_user',\n        LANG: lang,\n        _: getExecutableName(),\n      };\n      for (var x in ENV) {\n        if (ENV[x] === undefined) delete env[x];\n        else env[x] = ENV[x];\n      }\n      var strings = [];\n      for (var x in env) {\n        strings.push(x + '=' + env[x]);\n      }\n      getEnvStrings.strings = strings;\n    }\n    return getEnvStrings.strings;\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function writeAsciiToMemory(str, buffer, dontAddNull) {\n    for (var i = 0; i < str.length; ++i) {\n      HEAP8[buffer++ >> 0] = str.charCodeAt(i);\n    }\n    HEAP8[buffer >> 0] = 0;\n  }\n\n  function _environ_get(__environ, environ_buf) {\n    var bufSize = 0;\n    getEnvStrings().forEach(function (string, i) {\n      var ptr = environ_buf + bufSize;\n      HEAPU32[(__environ + i * 4) >> 2] = ptr;\n      writeAsciiToMemory(string, ptr);\n      bufSize += string.length + 1;\n    });\n    return 0;\n  }\n\n  function _environ_sizes_get(penviron_count, penviron_buf_size) {\n    var strings = getEnvStrings();\n    HEAPU32[penviron_count >> 2] = strings.length;\n    var bufSize = 0;\n    strings.forEach(function (string) {\n      bufSize += string.length + 1;\n    });\n    HEAPU32[penviron_buf_size >> 2] = bufSize;\n    return 0;\n  }\n\n  function _proc_exit(code) {\n    quit_(code, new ExitStatus(code));\n  }\n\n  function exitJS(status, implicit) {\n    _proc_exit(status);\n  }\n\n  var _exit = exitJS;\n\n  function _fd_close(fd) {\n    return 52;\n  }\n\n  function _fd_seek(fd, offset_low, offset_high, whence, newOffset) {\n    return 70;\n  }\n\n  var printCharBuffers = [null, [], []];\n\n  function printChar(stream, curr) {\n    // eslint-disable-next-line @typescript-eslint/no-shadow\n    var buffer = printCharBuffers[stream];\n    if (curr === 0 || curr === 10) {\n      (stream === 1 ? out : err)(UTF8ArrayToString(buffer, 0));\n      buffer.length = 0;\n    } else {\n      buffer.push(curr);\n    }\n  }\n\n  function _fd_write(fd, iov, iovcnt, pnum) {\n    var num = 0;\n    for (var i = 0; i < iovcnt; i++) {\n      var ptr = HEAPU32[iov >> 2];\n      var len = HEAPU32[(iov + 4) >> 2];\n      iov += 8;\n      for (var j = 0; j < len; j++) {\n        printChar(fd, HEAPU8[ptr + j]);\n      }\n      num += len;\n    }\n    HEAPU32[pnum >> 2] = num;\n    return 0;\n  }\n\n  function getRandomDevice() {\n    if (\n      typeof crypto == 'object' &&\n      typeof crypto['getRandomValues'] == 'function'\n    ) {\n      var randomBuffer = new Uint8Array(1);\n      return () => {\n        crypto.getRandomValues(randomBuffer);\n        return randomBuffer[0];\n      };\n    } else return () => abort('randomDevice');\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-shadow\n  function _getentropy(buffer, size) {\n    if (!_getentropy.randomDevice) {\n      _getentropy.randomDevice = getRandomDevice();\n    }\n    for (var i = 0; i < size; i++) {\n      HEAP8[(buffer + i) >> 0] = _getentropy.randomDevice();\n    }\n    return 0;\n  }\n\n  var asmLibraryArg = {\n    _dlinit: __dlinit,\n    _dlopen_js: __dlopen_js,\n    _dlsym_js: __dlsym_js,\n    _emscripten_get_now_is_monotonic: __emscripten_get_now_is_monotonic,\n    _mmap_js: __mmap_js,\n    _munmap_js: __munmap_js,\n    abort: _abort,\n    emscripten_date_now: _emscripten_date_now,\n    emscripten_get_heap_max: _emscripten_get_heap_max,\n    emscripten_get_now: _emscripten_get_now,\n    emscripten_memcpy_big: _emscripten_memcpy_big,\n    emscripten_resize_heap: _emscripten_resize_heap,\n    environ_get: _environ_get,\n    environ_sizes_get: _environ_sizes_get,\n    exit: _exit,\n    fd_close: _fd_close,\n    fd_seek: _fd_seek,\n    fd_write: _fd_write,\n    getentropy: _getentropy,\n  };\n  createWasm();\n  (Module['___wasm_call_ctors'] = function () {\n    return (Module['___wasm_call_ctors'] =\n      Module['asm']['__wasm_call_ctors']).apply(null, arguments);\n  });\n  (Module['_getModelBufferMemoryOffset'] =\n    function () {\n      return (Module[\n        '_getModelBufferMemoryOffset'\n      ] =\n        Module['asm']['getModelBufferMemoryOffset']).apply(null, arguments);\n    });\n  (Module['_getInputMemoryOffset'] = function () {\n    return (Module['_getInputMemoryOffset'] =\n      Module['asm']['getInputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getInputHeight'] = function () {\n    return (Module['_getInputHeight'] =\n      Module['asm']['getInputHeight']).apply(null, arguments);\n  });\n  (Module['_getInputWidth'] = function () {\n    return (Module['_getInputWidth'] =\n      Module['asm']['getInputWidth']).apply(null, arguments);\n  });\n  (Module['_getInputChannelCount'] = function () {\n    return (Module['_getInputChannelCount'] =\n      Module['asm']['getInputChannelCount']).apply(null, arguments);\n  });\n  (Module['_getOutputMemoryOffset'] = function () {\n    return (Module['_getOutputMemoryOffset'] =\n      Module['asm']['getOutputMemoryOffset']).apply(null, arguments);\n  });\n  (Module['_getOutputHeight'] = function () {\n    return (Module['_getOutputHeight'] =\n      Module['asm']['getOutputHeight']).apply(null, arguments);\n  });\n  (Module['_getOutputWidth'] = function () {\n    return (Module['_getOutputWidth'] =\n      Module['asm']['getOutputWidth']).apply(null, arguments);\n  });\n  (Module['_getOutputChannelCount'] = function () {\n    return (Module['_getOutputChannelCount'] =\n      Module['asm']['getOutputChannelCount']).apply(null, arguments);\n  });\n  (Module['_loadModel'] = function () {\n    return (Module['_loadModel'] =\n      Module['asm']['loadModel']).apply(null, arguments);\n  });\n  (Module['_runInference'] = function () {\n    return (Module['_runInference'] =\n      Module['asm']['runInference']).apply(null, arguments);\n  });\n  (Module['_malloc'] = function () {\n    return (Module['_malloc'] = Module['asm']['malloc']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['___errno_location'] = function () {\n    return (Module['___errno_location'] =\n      Module['asm']['__errno_location']).apply(null, arguments);\n  });\n  (Module['___dl_seterr'] = function () {\n    return (Module['___dl_seterr'] =\n      Module['asm']['__dl_seterr']).apply(null, arguments);\n  });\n  (Module['stackSave'] = function () {\n    return (Module['stackSave'] = Module['asm']['stackSave']).apply(\n      null,\n      arguments,\n    );\n  });\n  (Module['stackRestore'] = function () {\n    return (Module['stackRestore'] =\n      Module['asm']['stackRestore']).apply(null, arguments);\n  });\n  (Module['stackAlloc'] = function () {\n    return (Module['stackAlloc'] =\n      Module['asm']['stackAlloc']).apply(null, arguments);\n  });\n  (Module['dynCall_jjj'] = function () {\n    return (Module['dynCall_jjj'] =\n      Module['asm']['dynCall_jjj']).apply(null, arguments);\n  });\n  (Module['dynCall_jiii'] = function () {\n    return (Module['dynCall_jiii'] =\n      Module['asm']['dynCall_jiii']).apply(null, arguments);\n  });\n  (Module['dynCall_iiiijj'] = function () {\n    return (Module['dynCall_iiiijj'] =\n      Module['asm']['dynCall_iiiijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viijj'] = function () {\n    return (Module['dynCall_viijj'] =\n      Module['asm']['dynCall_viijj']).apply(null, arguments);\n  });\n  (Module['dynCall_viiijjj'] = function () {\n    return (Module['dynCall_viiijjj'] =\n      Module['asm']['dynCall_viiijjj']).apply(null, arguments);\n  });\n  (Module['dynCall_iijjiiii'] = function () {\n    return (Module['dynCall_iijjiiii'] =\n      Module['asm']['dynCall_iijjiiii']).apply(null, arguments);\n  });\n  (Module['dynCall_jiji'] = function () {\n    return (Module['dynCall_jiji'] =\n      Module['asm']['dynCall_jiji']).apply(null, arguments);\n  });\n  var calledRun;\n  dependenciesFulfilled = function runCaller() {\n    if (!calledRun) run();\n    if (!calledRun) dependenciesFulfilled = runCaller;\n  };\n\n  function run(args) {\n    if (runDependencies > 0) {\n      return;\n    }\n    preRun();\n    if (runDependencies > 0) {\n      return;\n    }\n\n    function doRun() {\n      if (calledRun) return;\n      calledRun = true;\n      Module['calledRun'] = true;\n      if (ABORT) return;\n      initRuntime();\n      readyPromiseResolve(Module);\n      if (Module['onRuntimeInitialized']) Module['onRuntimeInitialized']();\n      postRun();\n    }\n\n    if (Module['setStatus']) {\n      Module['setStatus']('Running...');\n      setTimeout(function () {\n        setTimeout(function () {\n          Module['setStatus']('');\n        }, 1);\n        doRun();\n      }, 1);\n    } else {\n      doRun();\n    }\n  }\n\n  if (Module['preInit']) {\n    if (typeof Module['preInit'] == 'function')\n      Module['preInit'] = [Module['preInit']];\n    while (Module['preInit'].length > 0) {\n      Module['preInit'].pop()();\n    }\n  }\n  run();\n\n  return __Module.ready;\n};\n\nconst version = \"0.2.1\";\nconst packageName = \"@stream-io/video-filters-web\";\n\n// @ts-expect-error - module is not declared\n// This is a WebAssembly module compiled from the TensorFlow Lite C++ library.\nconst createTFLite = createTFLiteSIMDModule;\nconst loadTFLite = async (options = {}) => {\n    const { basePath = `https://unpkg.com/${packageName}@${version}/tf`, tfFilePath = `${basePath}/tflite/tflite-simd.wasm`, modelFilePath = `${basePath}/models/segm_full_v679.tflite`, } = options;\n    const [tfLite, model] = await Promise.all([\n        createTFLite({ locateFile: () => tfFilePath }),\n        fetchModel(modelFilePath),\n    ]);\n    const modelBufferOffset = tfLite._getModelBufferMemoryOffset();\n    tfLite.HEAPU8.set(new Uint8Array(model), modelBufferOffset);\n    tfLite._loadModel(model.byteLength);\n    return tfLite;\n};\nlet lastModelFilePath = '';\nlet modelFileCache;\nconst fetchModel = async (modelFilePath) => {\n    const model = modelFilePath === lastModelFilePath && modelFileCache\n        ? modelFileCache\n        : await fetch(modelFilePath).then((r) => r.arrayBuffer());\n    // Cache the model file for future use.\n    modelFileCache = model;\n    lastModelFilePath = modelFilePath;\n    return model;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYi9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDOztBQUUzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLHlEQUFJLEtBQUs7O0FBRXBCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELDhCQUE4QjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELDRCQUE0QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSx5QkFBeUIsV0FBVyxjQUFjLDRDQUE0QztBQUM5Rix5QkFBeUIsV0FBVyxjQUFjLDZDQUE2Qzs7QUFFL0Y7QUFDQTtBQUNBOztBQUVBOztBQUVBLHNCQUFzQixNQUFNLGFBQWE7QUFDekM7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDJDQUEyQztBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkNBQTJDLGVBQWU7QUFDMUQsNkNBQTZDLGVBQWU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQXVEO0FBQ25FLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksMkNBQTJDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsd0JBQXdCLHNCQUFzQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksdURBQXVEO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLHlDQUF5QztBQUNyRCxZQUFZLHVEQUF1RDtBQUNuRTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhDQUE4QztBQUMvQztBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsYUFBYTtBQUNiOztBQUVBO0FBQ0EsWUFBWSxnSEFBZ0g7QUFDNUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSCx3Q0FBd0M7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHFEQUFxRDs7QUFFckQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDRCQUE0QjtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1Qyw0QkFBNEI7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsY0FBYztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVk7QUFDaEM7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFNBQVM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixVQUFVO0FBQzlCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0M7QUFDdEMsWUFBWSxnQ0FBZ0MsWUFBWSxHQUFHLFFBQVEsc0JBQXNCLFNBQVMsOENBQThDLFNBQVMsa0NBQWtDO0FBQzNMO0FBQ0EsdUJBQXVCLDhCQUE4QjtBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThFO0FBQzlFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViL2Rpc3QvaW5kZXguZXMuanM/NTI0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzaW1kIH0gZnJvbSAnd2FzbS1mZWF0dXJlLWRldGVjdCc7XG5cbi8qKlxuICogQ2hlY2tzIGlmIHRoZSBjdXJyZW50IHBsYXRmb3JtIGlzIGEgbW9iaWxlIGRldmljZS5cbiAqXG4gKiBTZWU6XG4gKiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0Jyb3dzZXJfZGV0ZWN0aW9uX3VzaW5nX3RoZV91c2VyX2FnZW50XG4gKi9cbmNvbnN0IGlzTW9iaWxlID0gKCkgPT4gL01vYmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuLyoqXG4gKiBSdW5zIGEgY2hlY2sgdG8gc2VlIGlmIHRoZSBjdXJyZW50IHBsYXRmb3JtIHN1cHBvcnRzXG4gKiB0aGUgbmVjZXNzYXJ5IEFQSXMgcmVxdWlyZWQgZm9yIHRoZSB2aWRlbyBmaWx0ZXJzLlxuICovXG5jb25zdCBpc1BsYXRmb3JtU3VwcG9ydGVkID0gYXN5bmMgKCkgPT4gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXG4gICAgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAhaXNNb2JpbGUoKSAmJiAvLyB3ZSBkb24ndCBzdXBwb3J0IG1vYmlsZSBkZXZpY2VzIHlldCBkdWUgdG8gcGVyZm9ybWFuY2UgaXNzdWVzXG4gICAgdHlwZW9mIFdlYkFzc2VtYmx5ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICEhd2luZG93LldlYkdMMlJlbmRlcmluZ0NvbnRleHQgJiYgLy8gV2ViR0wyIGlzIHJlcXVpcmVkIGZvciB0aGUgdmlkZW8gZmlsdGVyc1xuICAgICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJykuZ2V0Q29udGV4dCgnd2ViZ2wyJykgJiZcbiAgICAoYXdhaXQgc2ltZCgpKTsgLy8gU0lNRCBpcyByZXF1aXJlZCBmb3IgdGhlIHdhc20gbW9kdWxlXG5cbi8qKlxuICogVXNlIGl0IGFsb25nIHdpdGggYm95c3dhbi5nbHNsLWxpdGVyYWwgVlNDb2RlIGV4dGVuc2lvblxuICogdG8gZ2V0IEdMU0wgc3ludGF4IGhpZ2hsaWdodGluZy5cbiAqIGh0dHBzOi8vbWFya2V0cGxhY2UudmlzdWFsc3R1ZGlvLmNvbS9pdGVtcz9pdGVtTmFtZT1ib3lzd2FuLmdsc2wtbGl0ZXJhbFxuICpcbiAqIE9uIFZTQ29kZSBPU1MsIGJveXN3YW4uZ2xzbC1saXRlcmFsIHJlcXVpcmVzIHNsZXZlc3F1ZS5zaGFkZXIgZXh0ZW5zaW9uXG4gKiB0byBiZSBpbnN0YWxsZWQgYXMgd2VsbC5cbiAqIGh0dHBzOi8vbWFya2V0cGxhY2UudmlzdWFsc3R1ZGlvLmNvbS9pdGVtcz9pdGVtTmFtZT1zbGV2ZXNxdWUuc2hhZGVyXG4gKi9cbmNvbnN0IGdsc2wgPSBTdHJpbmcucmF3O1xuZnVuY3Rpb24gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcikge1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQcm9ncmFtKGdsLCB2ZXJ0ZXhTaGFkZXIsIGZyYWdtZW50U2hhZGVyKTtcbiAgICBjb25zdCBwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2FfcG9zaXRpb24nKTtcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShwb3NpdGlvbkF0dHJpYnV0ZUxvY2F0aW9uKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIocG9zaXRpb25BdHRyaWJ1dGVMb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICBjb25zdCB0ZXhDb29yZEF0dHJpYnV0ZUxvY2F0aW9uID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24ocHJvZ3JhbSwgJ2FfdGV4Q29vcmQnKTtcbiAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSh0ZXhDb29yZEF0dHJpYnV0ZUxvY2F0aW9uKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdGV4Q29vcmRCdWZmZXIpO1xuICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIodGV4Q29vcmRBdHRyaWJ1dGVMb2NhdGlvbiwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICByZXR1cm4gcHJvZ3JhbTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIpIHtcbiAgICBjb25zdCBwcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCB2ZXJ0ZXhTaGFkZXIpO1xuICAgIGdsLmF0dGFjaFNoYWRlcihwcm9ncmFtLCBmcmFnbWVudFNoYWRlcik7XG4gICAgZ2wubGlua1Byb2dyYW0ocHJvZ3JhbSk7XG4gICAgaWYgKCFnbC5nZXRQcm9ncmFtUGFyYW1ldGVyKHByb2dyYW0sIGdsLkxJTktfU1RBVFVTKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkIG5vdCBsaW5rIFdlYkdMIHByb2dyYW06ICR7Z2wuZ2V0UHJvZ3JhbUluZm9Mb2cocHJvZ3JhbSl9YCk7XG4gICAgfVxuICAgIHJldHVybiBwcm9ncmFtO1xufVxuZnVuY3Rpb24gY29tcGlsZVNoYWRlcihnbCwgc2hhZGVyVHlwZSwgc2hhZGVyU291cmNlKSB7XG4gICAgY29uc3Qgc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKHNoYWRlclR5cGUpO1xuICAgIGdsLnNoYWRlclNvdXJjZShzaGFkZXIsIHNoYWRlclNvdXJjZSk7XG4gICAgZ2wuY29tcGlsZVNoYWRlcihzaGFkZXIpO1xuICAgIGlmICghZ2wuZ2V0U2hhZGVyUGFyYW1ldGVyKHNoYWRlciwgZ2wuQ09NUElMRV9TVEFUVVMpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGQgbm90IGNvbXBpbGUgc2hhZGVyOiAke2dsLmdldFNoYWRlckluZm9Mb2coc2hhZGVyKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHNoYWRlcjtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVRleHR1cmUoZ2wsIGludGVybmFsZm9ybWF0LCB3aWR0aCwgaGVpZ2h0LCBtaW5GaWx0ZXIgPSBnbC5ORUFSRVNULCBtYWdGaWx0ZXIgPSBnbC5ORUFSRVNUKSB7XG4gICAgY29uc3QgdGV4dHVyZSA9IGdsLmNyZWF0ZVRleHR1cmUoKTtcbiAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgbWluRmlsdGVyKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUFHX0ZJTFRFUiwgbWFnRmlsdGVyKTtcbiAgICBnbC50ZXhTdG9yYWdlMkQoZ2wuVEVYVFVSRV8yRCwgMSwgaW50ZXJuYWxmb3JtYXQsIHdpZHRoLCBoZWlnaHQpO1xuICAgIHJldHVybiB0ZXh0dXJlO1xufVxuYXN5bmMgZnVuY3Rpb24gcmVhZFBpeGVsc0FzeW5jKGdsLCB4LCB5LCB3aWR0aCwgaGVpZ2h0LCBmb3JtYXQsIHR5cGUsIGRlc3QpIHtcbiAgICBjb25zdCBidWYgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLlBJWEVMX1BBQ0tfQlVGRkVSLCBidWYpO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuUElYRUxfUEFDS19CVUZGRVIsIGRlc3QuYnl0ZUxlbmd0aCwgZ2wuU1RSRUFNX1JFQUQpO1xuICAgIGdsLnJlYWRQaXhlbHMoeCwgeSwgd2lkdGgsIGhlaWdodCwgZm9ybWF0LCB0eXBlLCAwKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLlBJWEVMX1BBQ0tfQlVGRkVSLCBudWxsKTtcbiAgICBhd2FpdCBnZXRCdWZmZXJTdWJEYXRhQXN5bmMoZ2wsIGdsLlBJWEVMX1BBQ0tfQlVGRkVSLCBidWYsIDAsIGRlc3QpO1xuICAgIGdsLmRlbGV0ZUJ1ZmZlcihidWYpO1xuICAgIHJldHVybiBkZXN0O1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0QnVmZmVyU3ViRGF0YUFzeW5jKGdsLCB0YXJnZXQsIGJ1ZmZlciwgc3JjQnl0ZU9mZnNldCwgZHN0QnVmZmVyLCBkc3RPZmZzZXQsIGxlbmd0aCkge1xuICAgIGNvbnN0IHN5bmMgPSBnbC5mZW5jZVN5bmMoZ2wuU1lOQ19HUFVfQ09NTUFORFNfQ09NUExFVEUsIDApO1xuICAgIGdsLmZsdXNoKCk7XG4gICAgaWYgKCFzeW5jKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgcmVzID0gYXdhaXQgY2xpZW50V2FpdEFzeW5jKGdsLCBzeW5jKTtcbiAgICBnbC5kZWxldGVTeW5jKHN5bmMpO1xuICAgIGlmIChyZXMgIT09IGdsLldBSVRfRkFJTEVEKSB7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIodGFyZ2V0LCBidWZmZXIpO1xuICAgICAgICBnbC5nZXRCdWZmZXJTdWJEYXRhKHRhcmdldCwgc3JjQnl0ZU9mZnNldCwgZHN0QnVmZmVyLCBkc3RPZmZzZXQsIGxlbmd0aCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIodGFyZ2V0LCBudWxsKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjbGllbnRXYWl0QXN5bmMoZ2wsIHN5bmMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgZnVuY3Rpb24gdGVzdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGdsLmNsaWVudFdhaXRTeW5jKHN5bmMsIDAsIDApO1xuICAgICAgICAgICAgaWYgKHJlcyA9PT0gZ2wuV0FJVF9GQUlMRUQpIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlcyA9PT0gZ2wuVElNRU9VVF9FWFBJUkVEKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCh0ZXN0KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgc2V0VGltZW91dCh0ZXN0KTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gYnVpbGRCYWNrZ3JvdW5kQmx1clN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgYmx1ckxldmVsKSB7XG4gICAgY29uc3QgYmx1clBhc3MgPSBidWlsZEJsdXJQYXNzKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgYmx1ckxldmVsKTtcbiAgICBjb25zdCBibGVuZFBhc3MgPSBidWlsZEJsZW5kUGFzcyhnbCwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBjYW52YXMpO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgYmx1clBhc3MucmVuZGVyKCk7XG4gICAgICAgIGJsZW5kUGFzcy5yZW5kZXIoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlQ292ZXJhZ2UoY292ZXJhZ2UpIHtcbiAgICAgICAgYmxlbmRQYXNzLnVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgYmxlbmRQYXNzLmNsZWFuVXAoKTtcbiAgICAgICAgYmx1clBhc3MuY2xlYW5VcCgpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICByZW5kZXIsXG4gICAgICAgIHVwZGF0ZUNvdmVyYWdlLFxuICAgICAgICBjbGVhblVwLFxuICAgIH07XG59XG5mdW5jdGlvbiBidWlsZEJsdXJQYXNzKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgYmx1ckxldmVsKSB7XG4gICAgY29uc3Qgc2lnbWEgPSB0eXBlb2YgYmx1ckxldmVsID09PSAnbnVtYmVyJ1xuICAgICAgICA/IGJsdXJMZXZlbFxuICAgICAgICA6IGJsdXJMZXZlbCA9PT0gJ2xvdydcbiAgICAgICAgICAgID8gMlxuICAgICAgICAgICAgOiBibHVyTGV2ZWwgPT09ICdtZWRpdW0nXG4gICAgICAgICAgICAgICAgPyA0XG4gICAgICAgICAgICAgICAgOiA2O1xuICAgIGNvbnN0IHdpbmRvd1NpemUgPSBNYXRoLm1heCgxLCBNYXRoLmZsb29yKHNpZ21hICogMykpO1xuICAgIGNvbnN0IG9mZnNldCA9IG5ldyBBcnJheSh3aW5kb3dTaXplKS5maWxsKDApLm1hcCgodiwgaW5kZXgpID0+IGluZGV4KTtcbiAgICBjb25zdCB2YXJpYW5jZSA9IHNpZ21hICoqIDI7XG4gICAgY29uc3Qgd2VpZ2h0cyA9IG9mZnNldC5tYXAoKHgpID0+IHtcbiAgICAgICAgY29uc3QgbSA9IHNpZ21hICogTWF0aC5zcXJ0KDIgKiBNYXRoLlBJKTtcbiAgICAgICAgY29uc3QgZSA9IE1hdGguZXhwKC0oeCAqKiAyKSAvICgyICogdmFyaWFuY2UpKTtcbiAgICAgICAgcmV0dXJuIGUgLyBtO1xuICAgIH0pO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9wZXJzb25NYXNrO1xuICAgIHVuaWZvcm0gdmVjMiB1X3RleGVsU2l6ZTtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIGNvbnN0IGZsb2F0IG9mZnNldFske3dpbmRvd1NpemV9XSA9IGZsb2F0W10oJHtvZmZzZXQubWFwKChpKSA9PiBpLnRvRml4ZWQoMTApKS5qb2luKCcsICcpfSk7XG4gICAgY29uc3QgZmxvYXQgd2VpZ2h0WyR7d2luZG93U2l6ZX1dID0gZmxvYXRbXSgke3dlaWdodHMubWFwKChpKSA9PiBpLnRvRml4ZWQoMTApKS5qb2luKCcsICcpfSk7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICB2ZWM0IGNlbnRlckNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHZfdGV4Q29vcmQpO1xuICAgICAgZmxvYXQgcGVyc29uTWFzayA9IHRleHR1cmUodV9wZXJzb25NYXNrLCB2X3RleENvb3JkKS5hO1xuXG4gICAgICB2ZWM0IGZyYW1lQ29sb3IgPSBjZW50ZXJDb2xvciAqIHdlaWdodFswXSAqICgxLjAgLSBwZXJzb25NYXNrKTtcblxuICAgICAgZm9yIChpbnQgaSA9IDE7IGkgPCAke3dpbmRvd1NpemV9OyBpKyspIHtcbiAgICAgICAgdmVjMiBvZmZzZXQgPSB2ZWMyKG9mZnNldFtpXSkgKiB1X3RleGVsU2l6ZTtcblxuICAgICAgICB2ZWMyIHRleENvb3JkID0gdl90ZXhDb29yZCArIG9mZnNldDtcbiAgICAgICAgZnJhbWVDb2xvciArPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdGV4Q29vcmQpXG4gICAgICAgICAgICogd2VpZ2h0W2ldXG4gICAgICAgICAgICogKDEuMCAtIHRleHR1cmUodV9wZXJzb25NYXNrLCB0ZXhDb29yZCkuYSk7XG5cbiAgICAgICAgdGV4Q29vcmQgPSB2X3RleENvb3JkIC0gb2Zmc2V0O1xuICAgICAgICBmcmFtZUNvbG9yICs9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB0ZXhDb29yZClcbiAgICAgICAgICAqIHdlaWdodFtpXVxuICAgICAgICAgICogKDEuMCAtIHRleHR1cmUodV9wZXJzb25NYXNrLCB0ZXhDb29yZCkuYSk7XG4gICAgICB9XG4gICAgICBvdXRDb2xvciA9IHZlYzQoZnJhbWVDb2xvci5yZ2IgKyAoMS4wIC0gZnJhbWVDb2xvci5hKSAqIGNlbnRlckNvbG9yLnJnYiwgMS4wKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3Qgc2NhbGUgPSAwLjU7XG4gICAgY29uc3Qgb3V0cHV0V2lkdGggPSBjYW52YXMud2lkdGggKiBzY2FsZTtcbiAgICBjb25zdCBvdXRwdXRIZWlnaHQgPSBjYW52YXMuaGVpZ2h0ICogc2NhbGU7XG4gICAgY29uc3QgdGV4ZWxXaWR0aCA9IDEgLyBvdXRwdXRXaWR0aDtcbiAgICBjb25zdCB0ZXhlbEhlaWdodCA9IDEgLyBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBwZXJzb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGVyc29uTWFzaycpO1xuICAgIGNvbnN0IHRleGVsU2l6ZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3RleGVsU2l6ZScpO1xuICAgIGNvbnN0IHRleHR1cmUxID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQsIGdsLk5FQVJFU1QsIFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZXMgYXJlIGluY29tcGxldGVcbiAgICBnbC5MSU5FQVIpO1xuICAgIGNvbnN0IHRleHR1cmUyID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQsIGdsLk5FQVJFU1QsIFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgdHlwZXMgYXJlIGluY29tcGxldGVcbiAgICBnbC5MSU5FQVIpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyMSA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcjEpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZTEsIDApO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyMiA9IGdsLmNyZWF0ZUZyYW1lYnVmZmVyKCk7XG4gICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBmcmFtZUJ1ZmZlcjIpO1xuICAgIGdsLmZyYW1lYnVmZmVyVGV4dHVyZTJEKGdsLkZSQU1FQlVGRkVSLCBnbC5DT0xPUl9BVFRBQ0hNRU5UMCwgZ2wuVEVYVFVSRV8yRCwgdGV4dHVyZTIsIDApO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKHBlcnNvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTEpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBwZXJzb25NYXNrVGV4dHVyZSk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICBnbC51bmlmb3JtMmYodGV4ZWxTaXplTG9jYXRpb24sIDAsIHRleGVsSGVpZ2h0KTtcbiAgICAgICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIxKTtcbiAgICAgICAgICAgIGdsLmRyYXdBcnJheXMoZ2wuVFJJQU5HTEVfU1RSSVAsIDAsIDQpO1xuICAgICAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMik7XG4gICAgICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlMSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAyKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZih0ZXhlbFNpemVMb2NhdGlvbiwgdGV4ZWxXaWR0aCwgMCk7XG4gICAgICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyMik7XG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHRleHR1cmUyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcjIpO1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcjEpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRleHR1cmUyKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZSh0ZXh0dXJlMSk7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuZnVuY3Rpb24gYnVpbGRCbGVuZFBhc3MoZ2wsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgY2FudmFzKSB7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBpbiB2ZWMyIGFfcG9zaXRpb247XG4gICAgaW4gdmVjMiBhX3RleENvb3JkO1xuXG4gICAgb3V0IHZlYzIgdl90ZXhDb29yZDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIC8vIEZsaXBwaW5nIFkgaXMgcmVxdWlyZWQgd2hlbiByZW5kZXJpbmcgdG8gY2FudmFzXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYV9wb3NpdGlvbiAqIHZlYzIoMS4wLCAtMS4wKSwgMC4wLCAxLjApO1xuICAgICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0RnJhbWU7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9wZXJzb25NYXNrO1xuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfYmx1cnJlZElucHV0RnJhbWU7XG4gICAgdW5pZm9ybSB2ZWMyIHVfY292ZXJhZ2U7XG5cbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG5cbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzMgY29sb3IgPSB0ZXh0dXJlKHVfaW5wdXRGcmFtZSwgdl90ZXhDb29yZCkucmdiO1xuICAgICAgdmVjMyBibHVycmVkQ29sb3IgPSB0ZXh0dXJlKHVfYmx1cnJlZElucHV0RnJhbWUsIHZfdGV4Q29vcmQpLnJnYjtcbiAgICAgIGZsb2F0IHBlcnNvbk1hc2sgPSB0ZXh0dXJlKHVfcGVyc29uTWFzaywgdl90ZXhDb29yZCkuYTtcbiAgICAgIHBlcnNvbk1hc2sgPSBzbW9vdGhzdGVwKHVfY292ZXJhZ2UueCwgdV9jb3ZlcmFnZS55LCBwZXJzb25NYXNrKTtcbiAgICAgIG91dENvbG9yID0gdmVjNChtaXgoYmx1cnJlZENvbG9yLCBjb2xvciwgcGVyc29uTWFzayksIDEuMCk7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHsgd2lkdGg6IG91dHB1dFdpZHRoLCBoZWlnaHQ6IG91dHB1dEhlaWdodCB9ID0gY2FudmFzO1xuICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBwZXJzb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcGVyc29uTWFzaycpO1xuICAgIGNvbnN0IGJsdXJyZWRJbnB1dEZyYW1lID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JsdXJyZWRJbnB1dEZyYW1lJyk7XG4gICAgY29uc3QgY292ZXJhZ2VMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9jb3ZlcmFnZScpO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKHBlcnNvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZ2wudW5pZm9ybTFpKGJsdXJyZWRJbnB1dEZyYW1lLCAyKTtcbiAgICBnbC51bmlmb3JtMmYoY292ZXJhZ2VMb2NhdGlvbiwgMCwgMSk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCBjb3ZlcmFnZVswXSwgY292ZXJhZ2VbMV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIodmVydGV4U2hhZGVyKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyLFxuICAgICAgICB1cGRhdGVDb3ZlcmFnZSxcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBidWlsZEJhY2tncm91bmRJbWFnZVN0YWdlKGdsLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBiYWNrZ3JvdW5kSW1hZ2UsIGNhbnZhcykge1xuICAgIGNvbnN0IHZlcnRleFNoYWRlclNvdXJjZSA9IGdsc2wgYCN2ZXJzaW9uIDMwMCBlc1xuXG4gICAgdW5pZm9ybSB2ZWMyIHVfYmFja2dyb3VuZFNjYWxlO1xuICAgIHVuaWZvcm0gdmVjMiB1X2JhY2tncm91bmRPZmZzZXQ7XG5cbiAgICBpbiB2ZWMyIGFfcG9zaXRpb247XG4gICAgaW4gdmVjMiBhX3RleENvb3JkO1xuXG4gICAgb3V0IHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjMiB2X2JhY2tncm91bmRDb29yZDtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIC8vIEZsaXBwaW5nIFkgaXMgcmVxdWlyZWQgd2hlbiByZW5kZXJpbmcgdG8gY2FudmFzXG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYV9wb3NpdGlvbiAqIHZlYzIoMS4wLCAtMS4wKSwgMC4wLCAxLjApO1xuICAgICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XG4gICAgICB2X2JhY2tncm91bmRDb29yZCA9IGFfdGV4Q29vcmQgKiB1X2JhY2tncm91bmRTY2FsZSArIHVfYmFja2dyb3VuZE9mZnNldDtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3BlcnNvbk1hc2s7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9iYWNrZ3JvdW5kO1xuICAgIHVuaWZvcm0gdmVjMiB1X2NvdmVyYWdlO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9saWdodFdyYXBwaW5nO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9ibGVuZE1vZGU7XG5cbiAgICBpbiB2ZWMyIHZfdGV4Q29vcmQ7XG4gICAgaW4gdmVjMiB2X2JhY2tncm91bmRDb29yZDtcblxuICAgIG91dCB2ZWM0IG91dENvbG9yO1xuXG4gICAgdmVjMyBzY3JlZW4odmVjMyBhLCB2ZWMzIGIpIHtcbiAgICAgIHJldHVybiAxLjAgLSAoMS4wIC0gYSkgKiAoMS4wIC0gYik7XG4gICAgfVxuXG4gICAgdmVjMyBsaW5lYXJEb2RnZSh2ZWMzIGEsIHZlYzMgYikge1xuICAgICAgcmV0dXJuIGEgKyBiO1xuICAgIH1cblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzMgZnJhbWVDb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCB2X3RleENvb3JkKS5yZ2I7XG4gICAgICB2ZWMzIGJhY2tncm91bmRDb2xvciA9IHRleHR1cmUodV9iYWNrZ3JvdW5kLCB2X2JhY2tncm91bmRDb29yZCkucmdiO1xuICAgICAgZmxvYXQgcGVyc29uTWFzayA9IHRleHR1cmUodV9wZXJzb25NYXNrLCB2X3RleENvb3JkKS5hO1xuICAgICAgZmxvYXQgbGlnaHRXcmFwTWFzayA9IDEuMCAtIG1heCgwLjAsIHBlcnNvbk1hc2sgLSB1X2NvdmVyYWdlLnkpIC8gKDEuMCAtIHVfY292ZXJhZ2UueSk7XG4gICAgICB2ZWMzIGxpZ2h0V3JhcCA9IHVfbGlnaHRXcmFwcGluZyAqIGxpZ2h0V3JhcE1hc2sgKiBiYWNrZ3JvdW5kQ29sb3I7XG5cbiAgICAgIGZyYW1lQ29sb3IgPSB1X2JsZW5kTW9kZSAqIGxpbmVhckRvZGdlKGZyYW1lQ29sb3IsIGxpZ2h0V3JhcClcbiAgICAgICAgKyAoMS4wIC0gdV9ibGVuZE1vZGUpICogc2NyZWVuKGZyYW1lQ29sb3IsIGxpZ2h0V3JhcCk7XG4gICAgICBwZXJzb25NYXNrID0gc21vb3Roc3RlcCh1X2NvdmVyYWdlLngsIHVfY292ZXJhZ2UueSwgcGVyc29uTWFzayk7XG4gICAgICBvdXRDb2xvciA9IHZlYzQoZnJhbWVDb2xvciAqIHBlcnNvbk1hc2sgKyBiYWNrZ3JvdW5kQ29sb3IgKiAoMS4wIC0gcGVyc29uTWFzayksIDEuMCk7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHsgd2lkdGg6IG91dHB1dFdpZHRoLCBoZWlnaHQ6IG91dHB1dEhlaWdodCB9ID0gY2FudmFzO1xuICAgIGNvbnN0IG91dHB1dFJhdGlvID0gb3V0cHV0V2lkdGggLyBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyID0gY29tcGlsZVNoYWRlcihnbCwgZ2wuVkVSVEVYX1NIQURFUiwgdmVydGV4U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kU2NhbGVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9iYWNrZ3JvdW5kU2NhbGUnKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kT2Zmc2V0TG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmFja2dyb3VuZE9mZnNldCcpO1xuICAgIGNvbnN0IGlucHV0RnJhbWVMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9pbnB1dEZyYW1lJyk7XG4gICAgY29uc3QgcGVyc29uTWFza0xvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3BlcnNvbk1hc2snKTtcbiAgICBjb25zdCBiYWNrZ3JvdW5kTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfYmFja2dyb3VuZCcpO1xuICAgIGNvbnN0IGNvdmVyYWdlTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfY292ZXJhZ2UnKTtcbiAgICBjb25zdCBsaWdodFdyYXBwaW5nTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfbGlnaHRXcmFwcGluZycpO1xuICAgIGNvbnN0IGJsZW5kTW9kZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2JsZW5kTW9kZScpO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTJmKGJhY2tncm91bmRTY2FsZUxvY2F0aW9uLCAxLCAxKTtcbiAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZE9mZnNldExvY2F0aW9uLCAwLCAwKTtcbiAgICBnbC51bmlmb3JtMWkoaW5wdXRGcmFtZUxvY2F0aW9uLCAwKTtcbiAgICBnbC51bmlmb3JtMWkocGVyc29uTWFza0xvY2F0aW9uLCAxKTtcbiAgICBnbC51bmlmb3JtMmYoY292ZXJhZ2VMb2NhdGlvbiwgMCwgMSk7XG4gICAgZ2wudW5pZm9ybTFmKGxpZ2h0V3JhcHBpbmdMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFmKGJsZW5kTW9kZUxvY2F0aW9uLCAwKTtcbiAgICBsZXQgYmFja2dyb3VuZFRleHR1cmUgPSBudWxsO1xuICAgIC8vIFRPRE8gRmluZCBhIGJldHRlciB0byBoYW5kbGUgYmFja2dyb3VuZCBiZWluZyBsb2FkZWRcbiAgICBpZiAoYmFja2dyb3VuZEltYWdlPy5jb21wbGV0ZSkge1xuICAgICAgICB1cGRhdGVCYWNrZ3JvdW5kSW1hZ2UoYmFja2dyb3VuZEltYWdlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYmFja2dyb3VuZEltYWdlKSB7XG4gICAgICAgIGJhY2tncm91bmRJbWFnZS5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICB1cGRhdGVCYWNrZ3JvdW5kSW1hZ2UoYmFja2dyb3VuZEltYWdlKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIHBlcnNvbk1hc2tUZXh0dXJlKTtcbiAgICAgICAgaWYgKGJhY2tncm91bmRUZXh0dXJlICE9PSBudWxsKSB7XG4gICAgICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUyKTtcbiAgICAgICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGJhY2tncm91bmRUZXh0dXJlKTtcbiAgICAgICAgICAgIC8vIFRPRE8gSGFuZGxlIGNvcnJlY3RseSB0aGUgYmFja2dyb3VuZCBub3QgbG9hZGVkIHlldFxuICAgICAgICAgICAgZ2wudW5pZm9ybTFpKGJhY2tncm91bmRMb2NhdGlvbiwgMik7XG4gICAgICAgIH1cbiAgICAgICAgZ2wuYmluZEZyYW1lYnVmZmVyKGdsLkZSQU1FQlVGRkVSLCBudWxsKTtcbiAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRV9TVFJJUCwgMCwgNCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUJhY2tncm91bmRJbWFnZShiZ0ltYWdlKSB7XG4gICAgICAgIGJhY2tncm91bmRUZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIGJnSW1hZ2UubmF0dXJhbFdpZHRoLCBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQsIFxuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHR5cGVzIGFyZSBpbmNvbXBsZXRlXG4gICAgICAgIGdsLkxJTkVBUiwgZ2wuTElORUFSKTtcbiAgICAgICAgZ2wudGV4U3ViSW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCAwLCAwLCBiZ0ltYWdlLm5hdHVyYWxXaWR0aCwgYmdJbWFnZS5uYXR1cmFsSGVpZ2h0LCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCBiZ0ltYWdlKTtcbiAgICAgICAgbGV0IHhPZmZzZXQgPSAwO1xuICAgICAgICBsZXQgeU9mZnNldCA9IDA7XG4gICAgICAgIGxldCBiYWNrZ3JvdW5kV2lkdGggPSBiZ0ltYWdlLm5hdHVyYWxXaWR0aDtcbiAgICAgICAgbGV0IGJhY2tncm91bmRIZWlnaHQgPSBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIGNvbnN0IGJhY2tncm91bmRSYXRpbyA9IGJhY2tncm91bmRXaWR0aCAvIGJhY2tncm91bmRIZWlnaHQ7XG4gICAgICAgIGlmIChiYWNrZ3JvdW5kUmF0aW8gPCBvdXRwdXRSYXRpbykge1xuICAgICAgICAgICAgYmFja2dyb3VuZEhlaWdodCA9IGJhY2tncm91bmRXaWR0aCAvIG91dHB1dFJhdGlvO1xuICAgICAgICAgICAgeU9mZnNldCA9IChiZ0ltYWdlLm5hdHVyYWxIZWlnaHQgLSBiYWNrZ3JvdW5kSGVpZ2h0KSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kV2lkdGggPSBiYWNrZ3JvdW5kSGVpZ2h0ICogb3V0cHV0UmF0aW87XG4gICAgICAgICAgICB4T2Zmc2V0ID0gKGJnSW1hZ2UubmF0dXJhbFdpZHRoIC0gYmFja2dyb3VuZFdpZHRoKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeFNjYWxlID0gYmFja2dyb3VuZFdpZHRoIC8gYmdJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIGNvbnN0IHlTY2FsZSA9IGJhY2tncm91bmRIZWlnaHQgLyBiZ0ltYWdlLm5hdHVyYWxIZWlnaHQ7XG4gICAgICAgIHhPZmZzZXQgLz0gYmdJbWFnZS5uYXR1cmFsV2lkdGg7XG4gICAgICAgIHlPZmZzZXQgLz0gYmdJbWFnZS5uYXR1cmFsSGVpZ2h0O1xuICAgICAgICBnbC51bmlmb3JtMmYoYmFja2dyb3VuZFNjYWxlTG9jYXRpb24sIHhTY2FsZSwgeVNjYWxlKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmKGJhY2tncm91bmRPZmZzZXRMb2NhdGlvbiwgeE9mZnNldCwgeU9mZnNldCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNvdmVyYWdlKGNvdmVyYWdlKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0yZihjb3ZlcmFnZUxvY2F0aW9uLCBjb3ZlcmFnZVswXSwgY292ZXJhZ2VbMV0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVMaWdodFdyYXBwaW5nKGxpZ2h0V3JhcHBpbmcpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGxpZ2h0V3JhcHBpbmdMb2NhdGlvbiwgbGlnaHRXcmFwcGluZyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHVwZGF0ZUJsZW5kTW9kZShibGVuZE1vZGUpIHtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKGJsZW5kTW9kZUxvY2F0aW9uLCBibGVuZE1vZGUgPT09ICdzY3JlZW4nID8gMCA6IDEpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKGJhY2tncm91bmRUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKGZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHJlbmRlcixcbiAgICAgICAgdXBkYXRlQ292ZXJhZ2UsXG4gICAgICAgIHVwZGF0ZUxpZ2h0V3JhcHBpbmcsXG4gICAgICAgIHVwZGF0ZUJsZW5kTW9kZSxcbiAgICAgICAgY2xlYW5VcCxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBidWlsZEpvaW50QmlsYXRlcmFsRmlsdGVyU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCBpbnB1dFRleHR1cmUsIG91dHB1dFRleHR1cmUsIGNhbnZhcywgc2VnbWVudGF0aW9uQ29uZmlnKSB7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXJTb3VyY2UgPSBnbHNsIGAjdmVyc2lvbiAzMDAgZXNcblxuICAgIHByZWNpc2lvbiBoaWdocCBmbG9hdDtcblxuICAgIHVuaWZvcm0gc2FtcGxlcjJEIHVfaW5wdXRGcmFtZTtcbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X3NlZ21lbnRhdGlvbk1hc2s7XG4gICAgdW5pZm9ybSB2ZWMyIHVfdGV4ZWxTaXplO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9zdGVwO1xuICAgIHVuaWZvcm0gZmxvYXQgdV9yYWRpdXM7XG4gICAgdW5pZm9ybSBmbG9hdCB1X29mZnNldDtcbiAgICB1bmlmb3JtIGZsb2F0IHVfc2lnbWFUZXhlbDtcbiAgICB1bmlmb3JtIGZsb2F0IHVfc2lnbWFDb2xvcjtcblxuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIGZsb2F0IGdhdXNzaWFuKGZsb2F0IHgsIGZsb2F0IHNpZ21hKSB7XG4gICAgICBmbG9hdCBjb2VmZiA9IC0wLjUgLyAoc2lnbWEgKiBzaWdtYSAqIDQuMCArIDEuMGUtNik7XG4gICAgICByZXR1cm4gZXhwKCh4ICogeCkgKiBjb2VmZik7XG4gICAgfVxuXG4gICAgdm9pZCBtYWluKCkge1xuICAgICAgdmVjMiBjZW50ZXJDb29yZCA9IHZfdGV4Q29vcmQ7XG4gICAgICB2ZWMzIGNlbnRlckNvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIGNlbnRlckNvb3JkKS5yZ2I7XG4gICAgICBmbG9hdCBuZXdWYWwgPSAwLjA7XG5cbiAgICAgIGZsb2F0IHNwYWNlV2VpZ2h0ID0gMC4wO1xuICAgICAgZmxvYXQgY29sb3JXZWlnaHQgPSAwLjA7XG4gICAgICBmbG9hdCB0b3RhbFdlaWdodCA9IDAuMDtcblxuICAgICAgLy8gU3Vic2FtcGxlIGtlcm5lbCBzcGFjZS5cbiAgICAgIGZvciAoZmxvYXQgaSA9IC11X3JhZGl1cyArIHVfb2Zmc2V0OyBpIDw9IHVfcmFkaXVzOyBpICs9IHVfc3RlcCkge1xuICAgICAgICBmb3IgKGZsb2F0IGogPSAtdV9yYWRpdXMgKyB1X29mZnNldDsgaiA8PSB1X3JhZGl1czsgaiArPSB1X3N0ZXApIHtcbiAgICAgICAgICB2ZWMyIHNoaWZ0ID0gdmVjMihqLCBpKSAqIHVfdGV4ZWxTaXplO1xuICAgICAgICAgIHZlYzIgY29vcmQgPSB2ZWMyKGNlbnRlckNvb3JkICsgc2hpZnQpO1xuICAgICAgICAgIHZlYzMgZnJhbWVDb2xvciA9IHRleHR1cmUodV9pbnB1dEZyYW1lLCBjb29yZCkucmdiO1xuICAgICAgICAgIGZsb2F0IG91dFZhbCA9IHRleHR1cmUodV9zZWdtZW50YXRpb25NYXNrLCBjb29yZCkuYTtcblxuICAgICAgICAgIHNwYWNlV2VpZ2h0ID0gZ2F1c3NpYW4oZGlzdGFuY2UoY2VudGVyQ29vcmQsIGNvb3JkKSwgdV9zaWdtYVRleGVsKTtcbiAgICAgICAgICBjb2xvcldlaWdodCA9IGdhdXNzaWFuKGRpc3RhbmNlKGNlbnRlckNvbG9yLCBmcmFtZUNvbG9yKSwgdV9zaWdtYUNvbG9yKTtcbiAgICAgICAgICB0b3RhbFdlaWdodCArPSBzcGFjZVdlaWdodCAqIGNvbG9yV2VpZ2h0O1xuXG4gICAgICAgICAgbmV3VmFsICs9IHNwYWNlV2VpZ2h0ICogY29sb3JXZWlnaHQgKiBvdXRWYWw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5ld1ZhbCAvPSB0b3RhbFdlaWdodDtcblxuICAgICAgb3V0Q29sb3IgPSB2ZWM0KHZlYzMoMC4wKSwgbmV3VmFsKTtcbiAgICB9XG4gIGA7XG4gICAgY29uc3QgeyB3aWR0aDogc2VnbWVudGF0aW9uV2lkdGgsIGhlaWdodDogc2VnbWVudGF0aW9uSGVpZ2h0IH0gPSBzZWdtZW50YXRpb25Db25maWc7XG4gICAgY29uc3QgeyB3aWR0aDogb3V0cHV0V2lkdGgsIGhlaWdodDogb3V0cHV0SGVpZ2h0IH0gPSBjYW52YXM7XG4gICAgY29uc3QgdGV4ZWxXaWR0aCA9IDEgLyBvdXRwdXRXaWR0aDtcbiAgICBjb25zdCB0ZXhlbEhlaWdodCA9IDEgLyBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBzZWdtZW50YXRpb25NYXNrTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfc2VnbWVudGF0aW9uTWFzaycpO1xuICAgIGNvbnN0IHRleGVsU2l6ZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3RleGVsU2l6ZScpO1xuICAgIGNvbnN0IHN0ZXBMb2NhdGlvbiA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihwcm9ncmFtLCAndV9zdGVwJyk7XG4gICAgY29uc3QgcmFkaXVzTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3VfcmFkaXVzJyk7XG4gICAgY29uc3Qgb2Zmc2V0TG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfb2Zmc2V0Jyk7XG4gICAgY29uc3Qgc2lnbWFUZXhlbExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X3NpZ21hVGV4ZWwnKTtcbiAgICBjb25zdCBzaWdtYUNvbG9yTG9jYXRpb24gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24ocHJvZ3JhbSwgJ3Vfc2lnbWFDb2xvcicpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIG91dHB1dFRleHR1cmUsIDApO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0RnJhbWVMb2NhdGlvbiwgMCk7XG4gICAgZ2wudW5pZm9ybTFpKHNlZ21lbnRhdGlvbk1hc2tMb2NhdGlvbiwgMSk7XG4gICAgZ2wudW5pZm9ybTJmKHRleGVsU2l6ZUxvY2F0aW9uLCB0ZXhlbFdpZHRoLCB0ZXhlbEhlaWdodCk7XG4gICAgLy8gRW5zdXJlcyBkZWZhdWx0IHZhbHVlcyBhcmUgY29uZmlndXJlZCB0byBwcmV2ZW50IGluZmluaXRlXG4gICAgLy8gbG9vcCBpbiBmcmFnbWVudCBzaGFkZXJcbiAgICB1cGRhdGVTaWdtYVNwYWNlKDApO1xuICAgIHVwZGF0ZVNpZ21hQ29sb3IoMCk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBvdXRwdXRXaWR0aCwgb3V0cHV0SGVpZ2h0KTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wuYWN0aXZlVGV4dHVyZShnbC5URVhUVVJFMSk7XG4gICAgICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0VGV4dHVyZSk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU2lnbWFTcGFjZShzaWdtYVNwYWNlKSB7XG4gICAgICAgIHNpZ21hU3BhY2UgKj0gTWF0aC5tYXgob3V0cHV0V2lkdGggLyBzZWdtZW50YXRpb25XaWR0aCwgb3V0cHV0SGVpZ2h0IC8gc2VnbWVudGF0aW9uSGVpZ2h0KTtcbiAgICAgICAgY29uc3Qga1NwYXJzaXR5RmFjdG9yID0gMC42NjsgLy8gSGlnaGVyIGlzIHNwYXJzZXIuXG4gICAgICAgIGNvbnN0IHN0ZXAgPSBNYXRoLm1heCgxLCBNYXRoLnNxcnQoc2lnbWFTcGFjZSkgKiBrU3BhcnNpdHlGYWN0b3IpO1xuICAgICAgICBjb25zdCByYWRpdXMgPSBzaWdtYVNwYWNlO1xuICAgICAgICBjb25zdCBvZmZzZXQgPSBzdGVwID4gMSA/IHN0ZXAgKiAwLjUgOiAwO1xuICAgICAgICBjb25zdCBzaWdtYVRleGVsID0gTWF0aC5tYXgodGV4ZWxXaWR0aCwgdGV4ZWxIZWlnaHQpICogc2lnbWFTcGFjZTtcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShwcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKHN0ZXBMb2NhdGlvbiwgc3RlcCk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihyYWRpdXNMb2NhdGlvbiwgcmFkaXVzKTtcbiAgICAgICAgZ2wudW5pZm9ybTFmKG9mZnNldExvY2F0aW9uLCBvZmZzZXQpO1xuICAgICAgICBnbC51bmlmb3JtMWYoc2lnbWFUZXhlbExvY2F0aW9uLCBzaWdtYVRleGVsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlU2lnbWFDb2xvcihzaWdtYUNvbG9yKSB7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZihzaWdtYUNvbG9yTG9jYXRpb24sIHNpZ21hQ29sb3IpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhblVwKCkge1xuICAgICAgICBnbC5kZWxldGVGcmFtZWJ1ZmZlcihmcmFtZUJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgdXBkYXRlU2lnbWFTcGFjZSwgdXBkYXRlU2lnbWFDb2xvciwgY2xlYW5VcCB9O1xufVxuXG5mdW5jdGlvbiBidWlsZFJlc2l6aW5nU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIHNlZ21lbnRhdGlvbkNvbmZpZywgb25FcnJvcikge1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG4gICAgdW5pZm9ybSBzYW1wbGVyMkQgdV9pbnB1dEZyYW1lO1xuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIG91dENvbG9yID0gdGV4dHVyZSh1X2lucHV0RnJhbWUsIHZfdGV4Q29vcmQpO1xuICAgIH1cbiAgYDtcbiAgICAvLyBURkxpdGUgbWVtb3J5IHdpbGwgYmUgYWNjZXNzZWQgYXMgZmxvYXQzMlxuICAgIGNvbnN0IHRmbGl0ZUlucHV0TWVtb3J5T2Zmc2V0ID0gdGZsaXRlLl9nZXRJbnB1dE1lbW9yeU9mZnNldCgpIC8gNDtcbiAgICBjb25zdCB7IHdpZHRoOiBvdXRwdXRXaWR0aCwgaGVpZ2h0OiBvdXRwdXRIZWlnaHQgfSA9IHNlZ21lbnRhdGlvbkNvbmZpZztcbiAgICBjb25zdCBvdXRwdXRQaXhlbENvdW50ID0gb3V0cHV0V2lkdGggKiBvdXRwdXRIZWlnaHQ7XG4gICAgY29uc3QgZnJhZ21lbnRTaGFkZXIgPSBjb21waWxlU2hhZGVyKGdsLCBnbC5GUkFHTUVOVF9TSEFERVIsIGZyYWdtZW50U2hhZGVyU291cmNlKTtcbiAgICBjb25zdCBwcm9ncmFtID0gY3JlYXRlUGlwZWxpbmVTdGFnZVByb2dyYW0oZ2wsIHZlcnRleFNoYWRlciwgZnJhZ21lbnRTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgY29uc3QgaW5wdXRGcmFtZUxvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0RnJhbWUnKTtcbiAgICBjb25zdCBvdXRwdXRUZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkdCQTgsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIG91dHB1dFRleHR1cmUsIDApO1xuICAgIGNvbnN0IG91dHB1dFBpeGVscyA9IG5ldyBVaW50OEFycmF5KG91dHB1dFBpeGVsQ291bnQgKiA0KTtcbiAgICBnbC51c2VQcm9ncmFtKHByb2dyYW0pO1xuICAgIGdsLnVuaWZvcm0xaShpbnB1dEZyYW1lTG9jYXRpb24sIDApO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgb3V0cHV0V2lkdGgsIG91dHB1dEhlaWdodCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICAgICAgLy8gRG93bmxvYWRzIHBpeGVscyBhc3luY2hyb25vdXNseSBmcm9tIEdQVSB3aGlsZSByZW5kZXJpbmcgdGhlIGN1cnJlbnQgZnJhbWUuXG4gICAgICAgIC8vIFRoZSBwaXhlbHMgd2lsbCBiZSBhdmFpbGFibGUgaW4gdGhlIG5leHQgZnJhbWUgcmVuZGVyIHdoaWNoIHJlc3VsdHNcbiAgICAgICAgLy8gaW4gb2Zmc2V0cyBpbiB0aGUgc2VnbWVudGF0aW9uIG91dHB1dCBidXQgaW5jcmVhc2VzIHRoZSBmcmFtZSByYXRlLlxuICAgICAgICByZWFkUGl4ZWxzQXN5bmMoZ2wsIDAsIDAsIG91dHB1dFdpZHRoLCBvdXRwdXRIZWlnaHQsIGdsLlJHQkEsIGdsLlVOU0lHTkVEX0JZVEUsIG91dHB1dFBpeGVscykuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dHB1dFBpeGVsQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgdGZsaXRlSW5kZXggPSB0ZmxpdGVJbnB1dE1lbW9yeU9mZnNldCArIGkgKiAzO1xuICAgICAgICAgICAgY29uc3Qgb3V0cHV0SW5kZXggPSBpICogNDtcbiAgICAgICAgICAgIHRmbGl0ZS5IRUFQRjMyW3RmbGl0ZUluZGV4XSA9IG91dHB1dFBpeGVsc1tvdXRwdXRJbmRleF0gLyAyNTU7XG4gICAgICAgICAgICB0ZmxpdGUuSEVBUEYzMlt0ZmxpdGVJbmRleCArIDFdID0gb3V0cHV0UGl4ZWxzW291dHB1dEluZGV4ICsgMV0gLyAyNTU7XG4gICAgICAgICAgICB0ZmxpdGUuSEVBUEYzMlt0ZmxpdGVJbmRleCArIDJdID0gb3V0cHV0UGl4ZWxzW291dHB1dEluZGV4ICsgMl0gLyAyNTU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKG91dHB1dFRleHR1cmUpO1xuICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHByb2dyYW0pO1xuICAgICAgICBnbC5kZWxldGVTaGFkZXIoZnJhZ21lbnRTaGFkZXIpO1xuICAgIH1cbiAgICByZXR1cm4geyByZW5kZXIsIGNsZWFuVXAgfTtcbn1cblxuZnVuY3Rpb24gYnVpbGRTb2Z0bWF4U3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIG91dHB1dFRleHR1cmUsIHNlZ21lbnRhdGlvbkNvbmZpZykge1xuICAgIGNvbnN0IGZyYWdtZW50U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XG5cbiAgICB1bmlmb3JtIHNhbXBsZXIyRCB1X2lucHV0U2VnbWVudGF0aW9uO1xuICAgIGluIHZlYzIgdl90ZXhDb29yZDtcbiAgICBvdXQgdmVjNCBvdXRDb2xvcjtcblxuICAgIHZvaWQgbWFpbigpIHtcbiAgICAgIHZlYzIgc2VnbWVudGF0aW9uID0gdGV4dHVyZSh1X2lucHV0U2VnbWVudGF0aW9uLCB2X3RleENvb3JkKS5yZztcbiAgICAgIGZsb2F0IHNoaWZ0ID0gbWF4KHNlZ21lbnRhdGlvbi5yLCBzZWdtZW50YXRpb24uZyk7XG4gICAgICBmbG9hdCBiYWNrZ3JvdW5kRXhwID0gZXhwKHNlZ21lbnRhdGlvbi5yIC0gc2hpZnQpO1xuICAgICAgZmxvYXQgcGVyc29uRXhwID0gZXhwKHNlZ21lbnRhdGlvbi5nIC0gc2hpZnQpO1xuICAgICAgb3V0Q29sb3IgPSB2ZWM0KHZlYzMoMC4wKSwgcGVyc29uRXhwIC8gKGJhY2tncm91bmRFeHAgKyBwZXJzb25FeHApKTtcbiAgICB9XG4gIGA7XG4gICAgLy8gVEZMaXRlIG1lbW9yeSB3aWxsIGJlIGFjY2Vzc2VkIGFzIGZsb2F0MzJcbiAgICBjb25zdCB0ZmxpdGVPdXRwdXRNZW1vcnlPZmZzZXQgPSB0ZmxpdGUuX2dldE91dHB1dE1lbW9yeU9mZnNldCgpIC8gNDtcbiAgICBjb25zdCB7IHdpZHRoOiBzZWdtZW50YXRpb25XaWR0aCwgaGVpZ2h0OiBzZWdtZW50YXRpb25IZWlnaHQgfSA9IHNlZ21lbnRhdGlvbkNvbmZpZztcbiAgICBjb25zdCBmcmFnbWVudFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLkZSQUdNRU5UX1NIQURFUiwgZnJhZ21lbnRTaGFkZXJTb3VyY2UpO1xuICAgIGNvbnN0IHByb2dyYW0gPSBjcmVhdGVQaXBlbGluZVN0YWdlUHJvZ3JhbShnbCwgdmVydGV4U2hhZGVyLCBmcmFnbWVudFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyKTtcbiAgICBjb25zdCBpbnB1dExvY2F0aW9uID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHByb2dyYW0sICd1X2lucHV0U2VnbWVudGF0aW9uJyk7XG4gICAgY29uc3QgaW5wdXRUZXh0dXJlID0gY3JlYXRlVGV4dHVyZShnbCwgZ2wuUkczMkYsIHNlZ21lbnRhdGlvbldpZHRoLCBzZWdtZW50YXRpb25IZWlnaHQpO1xuICAgIGNvbnN0IGZyYW1lQnVmZmVyID0gZ2wuY3JlYXRlRnJhbWVidWZmZXIoKTtcbiAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZyYW1lQnVmZmVyKTtcbiAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgZ2wuQ09MT1JfQVRUQUNITUVOVDAsIGdsLlRFWFRVUkVfMkQsIG91dHB1dFRleHR1cmUsIDApO1xuICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgZ2wudW5pZm9ybTFpKGlucHV0TG9jYXRpb24sIDEpO1xuICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgc2VnbWVudGF0aW9uV2lkdGgsIHNlZ21lbnRhdGlvbkhlaWdodCk7XG4gICAgICAgIGdsLnVzZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmFjdGl2ZVRleHR1cmUoZ2wuVEVYVFVSRTEpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCBpbnB1dFRleHR1cmUpO1xuICAgICAgICBnbC50ZXhTdWJJbWFnZTJEKGdsLlRFWFRVUkVfMkQsIDAsIDAsIDAsIHNlZ21lbnRhdGlvbldpZHRoLCBzZWdtZW50YXRpb25IZWlnaHQsIGdsLlJHLCBnbC5GTE9BVCwgdGZsaXRlLkhFQVBGMzIsIHRmbGl0ZU91dHB1dE1lbW9yeU9mZnNldCk7XG4gICAgICAgIGdsLmJpbmRGcmFtZWJ1ZmZlcihnbC5GUkFNRUJVRkZFUiwgZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFX1NUUklQLCAwLCA0KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgZ2wuZGVsZXRlRnJhbWVidWZmZXIoZnJhbWVCdWZmZXIpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKGlucHV0VGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZVByb2dyYW0ocHJvZ3JhbSk7XG4gICAgICAgIGdsLmRlbGV0ZVNoYWRlcihmcmFnbWVudFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgY2xlYW5VcCB9O1xufVxuXG5mdW5jdGlvbiBidWlsZFdlYkdMMlBpcGVsaW5lKHZpZGVvU291cmNlLCBiYWNrZ3JvdW5kSW1hZ2UsIGJsdXJMZXZlbCwgYmFja2dyb3VuZEZpbHRlciwgY2FudmFzLCB0ZmxpdGUsIHNlZ21lbnRhdGlvbkNvbmZpZywgb25FcnJvcikge1xuICAgIGNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsMicpO1xuICAgIGlmICghZ2wpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignV2ViR0wyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICBpZiAoZ2wuaXNDb250ZXh0TG9zdCgpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1dlYkdMMiBjb250ZXh0IHdhcyBsb3N0Jyk7XG4gICAgY29uc3QgeyB3aWR0aDogZnJhbWVXaWR0aCwgaGVpZ2h0OiBmcmFtZUhlaWdodCB9ID0gdmlkZW9Tb3VyY2U7XG4gICAgY29uc3QgeyB3aWR0aDogc2VnbWVudGF0aW9uV2lkdGgsIGhlaWdodDogc2VnbWVudGF0aW9uSGVpZ2h0IH0gPSBzZWdtZW50YXRpb25Db25maWc7XG4gICAgY29uc3QgdmVydGV4U2hhZGVyU291cmNlID0gZ2xzbCBgI3ZlcnNpb24gMzAwIGVzXG5cbiAgICBpbiB2ZWMyIGFfcG9zaXRpb247XG4gICAgaW4gdmVjMiBhX3RleENvb3JkO1xuICAgIG91dCB2ZWMyIHZfdGV4Q29vcmQ7XG5cbiAgICB2b2lkIG1haW4oKSB7XG4gICAgICBnbF9Qb3NpdGlvbiA9IHZlYzQoYV9wb3NpdGlvbiwgMC4wLCAxLjApO1xuICAgICAgdl90ZXhDb29yZCA9IGFfdGV4Q29vcmQ7XG4gICAgfVxuICBgO1xuICAgIGNvbnN0IHZlcnRleFNoYWRlciA9IGNvbXBpbGVTaGFkZXIoZ2wsIGdsLlZFUlRFWF9TSEFERVIsIHZlcnRleFNoYWRlclNvdXJjZSk7XG4gICAgY29uc3QgdmVydGV4QXJyYXkgPSBnbC5jcmVhdGVWZXJ0ZXhBcnJheSgpO1xuICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2ZXJ0ZXhBcnJheSk7XG4gICAgY29uc3QgcG9zaXRpb25CdWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgcG9zaXRpb25CdWZmZXIpO1xuICAgIGdsLmJ1ZmZlckRhdGEoZ2wuQVJSQVlfQlVGRkVSLCBuZXcgRmxvYXQzMkFycmF5KFstMSwgLTEsIDEuMCwgLTEsIC0xLCAxLjAsIDEuMCwgMS4wXSksIGdsLlNUQVRJQ19EUkFXKTtcbiAgICBjb25zdCB0ZXhDb29yZEJ1ZmZlciA9IGdsLmNyZWF0ZUJ1ZmZlcigpO1xuICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0ZXhDb29yZEJ1ZmZlcik7XG4gICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIG5ldyBGbG9hdDMyQXJyYXkoWzAuMCwgMC4wLCAxLjAsIDAuMCwgMC4wLCAxLjAsIDEuMCwgMS4wXSksIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAvLyBXZSBkb24ndCB1c2UgdGV4U3RvcmFnZTJEIGhlcmUgYmVjYXVzZSB0ZXhJbWFnZTJEIHNlZW1zIGZhc3RlclxuICAgIC8vIHRvIHVwbG9hZCB2aWRlbyB0ZXh0dXJlIHRoYW4gdGV4U3ViSW1hZ2UyRCBldmVuIHRob3VnaCB0aGUgbGF0dGVyXG4gICAgLy8gaXMgc3VwcG9zZWQgdG8gYmUgdGhlIHJlY29tbWVuZGVkIHdheTpcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2ViR0xfQVBJL1dlYkdMX2Jlc3RfcHJhY3RpY2VzI3VzZV90ZXhzdG9yYWdlX3RvX2NyZWF0ZV90ZXh0dXJlc1xuICAgIGNvbnN0IGlucHV0RnJhbWVUZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgIGdsLmJpbmRUZXh0dXJlKGdsLlRFWFRVUkVfMkQsIGlucHV0RnJhbWVUZXh0dXJlKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9ULCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfTUlOX0ZJTFRFUiwgZ2wuTkVBUkVTVCk7XG4gICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX01BR19GSUxURVIsIGdsLk5FQVJFU1QpO1xuICAgIC8vIFRPRE8gUmVuYW1lIHNlZ21lbnRhdGlvbiBhbmQgcGVyc29uIG1hc2sgdG8gYmUgbW9yZSBzcGVjaWZpY1xuICAgIGNvbnN0IHNlZ21lbnRhdGlvblRleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgc2VnbWVudGF0aW9uV2lkdGgsIHNlZ21lbnRhdGlvbkhlaWdodCk7XG4gICAgY29uc3QgcGVyc29uTWFza1RleHR1cmUgPSBjcmVhdGVUZXh0dXJlKGdsLCBnbC5SR0JBOCwgZnJhbWVXaWR0aCwgZnJhbWVIZWlnaHQpO1xuICAgIGNvbnN0IHJlc2l6aW5nU3RhZ2UgPSBidWlsZFJlc2l6aW5nU3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIHNlZ21lbnRhdGlvbkNvbmZpZyk7XG4gICAgY29uc3QgbG9hZFNlZ21lbnRhdGlvblN0YWdlID0gYnVpbGRTb2Z0bWF4U3RhZ2UoZ2wsIHZlcnRleFNoYWRlciwgcG9zaXRpb25CdWZmZXIsIHRleENvb3JkQnVmZmVyLCB0ZmxpdGUsIHNlZ21lbnRhdGlvblRleHR1cmUsIHNlZ21lbnRhdGlvbkNvbmZpZyk7XG4gICAgY29uc3Qgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZSA9IGJ1aWxkSm9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZShnbCwgdmVydGV4U2hhZGVyLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHNlZ21lbnRhdGlvblRleHR1cmUsIHBlcnNvbk1hc2tUZXh0dXJlLCBjYW52YXMsIHNlZ21lbnRhdGlvbkNvbmZpZyk7XG4gICAgY29uc3QgYmFja2dyb3VuZFN0YWdlID0gYmFja2dyb3VuZEZpbHRlciA9PT0gJ2JsdXInXG4gICAgICAgID8gYnVpbGRCYWNrZ3JvdW5kQmx1clN0YWdlKGdsLCB2ZXJ0ZXhTaGFkZXIsIHBvc2l0aW9uQnVmZmVyLCB0ZXhDb29yZEJ1ZmZlciwgcGVyc29uTWFza1RleHR1cmUsIGNhbnZhcywgYmx1ckxldmVsIHx8ICdoaWdoJylcbiAgICAgICAgOiBidWlsZEJhY2tncm91bmRJbWFnZVN0YWdlKGdsLCBwb3NpdGlvbkJ1ZmZlciwgdGV4Q29vcmRCdWZmZXIsIHBlcnNvbk1hc2tUZXh0dXJlLCBiYWNrZ3JvdW5kSW1hZ2UsIGNhbnZhcyk7XG4gICAgZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICBnbC5hY3RpdmVUZXh0dXJlKGdsLlRFWFRVUkUwKTtcbiAgICAgICAgZ2wuYmluZFRleHR1cmUoZ2wuVEVYVFVSRV8yRCwgaW5wdXRGcmFtZVRleHR1cmUpO1xuICAgICAgICAvLyB0ZXhJbWFnZTJEIHNlZW1zIGZhc3RlciB0aGFuIHRleFN1YkltYWdlMkQgdG8gdXBsb2FkXG4gICAgICAgIC8vIHZpZGVvIHRleHR1cmVcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBnbC5SR0JBLCBnbC5VTlNJR05FRF9CWVRFLCB2aWRlb1NvdXJjZSk7XG4gICAgICAgIGdsLmJpbmRWZXJ0ZXhBcnJheSh2ZXJ0ZXhBcnJheSk7XG4gICAgICAgIHJlc2l6aW5nU3RhZ2UucmVuZGVyKCk7XG4gICAgICAgIHRmbGl0ZS5fcnVuSW5mZXJlbmNlKCk7XG4gICAgICAgIGxvYWRTZWdtZW50YXRpb25TdGFnZS5yZW5kZXIoKTtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS5yZW5kZXIoKTtcbiAgICAgICAgYmFja2dyb3VuZFN0YWdlLnJlbmRlcigpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB1cGRhdGVQb3N0UHJvY2Vzc2luZ0NvbmZpZygpIHtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS51cGRhdGVTaWdtYVNwYWNlKDEpO1xuICAgICAgICBqb2ludEJpbGF0ZXJhbEZpbHRlclN0YWdlLnVwZGF0ZVNpZ21hQ29sb3IoMC4xKTtcbiAgICAgICAgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRJbWFnZVN0YWdlID0gYmFja2dyb3VuZFN0YWdlO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlQ292ZXJhZ2UoWzAuNSwgMC43NV0pO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlTGlnaHRXcmFwcGluZygwLjMpO1xuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlU3RhZ2UudXBkYXRlQmxlbmRNb2RlKCdzY3JlZW4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChiYWNrZ3JvdW5kRmlsdGVyID09PSAnYmx1cicpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhY2tncm91bmRCbHVyU3RhZ2UgPSBiYWNrZ3JvdW5kU3RhZ2U7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQmx1clN0YWdlLnVwZGF0ZUNvdmVyYWdlKFswLjUsIDAuNzVdKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFRPRE8gSGFuZGxlIG5vIGJhY2tncm91bmQgaW4gYSBzZXBhcmF0ZSBwaXBlbGluZSBwYXRoXG4gICAgICAgICAgICBjb25zdCBiYWNrZ3JvdW5kSW1hZ2VTdGFnZSA9IGJhY2tncm91bmRTdGFnZTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVN0YWdlLnVwZGF0ZUNvdmVyYWdlKFswLCAwLjk5OTldKTtcbiAgICAgICAgICAgIGJhY2tncm91bmRJbWFnZVN0YWdlLnVwZGF0ZUxpZ2h0V3JhcHBpbmcoMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gY2xlYW5VcCgpIHtcbiAgICAgICAgYmFja2dyb3VuZFN0YWdlLmNsZWFuVXAoKTtcbiAgICAgICAgam9pbnRCaWxhdGVyYWxGaWx0ZXJTdGFnZS5jbGVhblVwKCk7XG4gICAgICAgIGxvYWRTZWdtZW50YXRpb25TdGFnZS5jbGVhblVwKCk7XG4gICAgICAgIHJlc2l6aW5nU3RhZ2UuY2xlYW5VcCgpO1xuICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHBlcnNvbk1hc2tUZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShzZWdtZW50YXRpb25UZXh0dXJlKTtcbiAgICAgICAgZ2wuZGVsZXRlVGV4dHVyZShpbnB1dEZyYW1lVGV4dHVyZSk7XG4gICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0ZXhDb29yZEJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcihwb3NpdGlvbkJ1ZmZlcik7XG4gICAgICAgIGdsLmRlbGV0ZVZlcnRleEFycmF5KHZlcnRleEFycmF5KTtcbiAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHZlcnRleFNoYWRlcik7XG4gICAgfVxuICAgIHJldHVybiB7IHJlbmRlciwgdXBkYXRlUG9zdFByb2Nlc3NpbmdDb25maWcsIGNsZWFuVXAgfTtcbn1cblxudmFyIFNlZ21lbnRhdGlvbkxldmVsO1xuKGZ1bmN0aW9uIChTZWdtZW50YXRpb25MZXZlbCkge1xuICAgIFNlZ21lbnRhdGlvbkxldmVsW1wiTE9XXCJdID0gXCJsb3dcIjtcbiAgICBTZWdtZW50YXRpb25MZXZlbFtcIkhJR0hcIl0gPSBcImhpZ2hcIjtcbn0pKFNlZ21lbnRhdGlvbkxldmVsIHx8IChTZWdtZW50YXRpb25MZXZlbCA9IHt9KSk7XG5jb25zdCBnZXRTZWdtZW50YXRpb25QYXJhbXMgPSAobGV2ZWwpID0+IHtcbiAgICBpZiAobGV2ZWwgPT09IFNlZ21lbnRhdGlvbkxldmVsLkhJR0gpIHtcbiAgICAgICAgcmV0dXJuIHsgd2lkdGg6IDI1NiwgaGVpZ2h0OiAxNDQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgd2lkdGg6IDE2MCwgaGVpZ2h0OiA5NiB9O1xufTtcblxuZnVuY3Rpb24gY3JlYXRlUmVuZGVyZXIodGZsaXRlLCB2aWRlb1NvdXJjZSwgdGFyZ2V0Q2FudmFzLCBvcHRpb25zLCBvbkVycm9yKSB7XG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kRmlsdGVyLCBiYWNrZ3JvdW5kSW1hZ2UsIGJhY2tncm91bmRCbHVyTGV2ZWwsIHNlZ21lbnRhdGlvbkxldmVsID0gU2VnbWVudGF0aW9uTGV2ZWwuSElHSCwgZnBzID0gMzAsIH0gPSBvcHRpb25zO1xuICAgIGlmIChiYWNrZ3JvdW5kRmlsdGVyID09PSAnaW1hZ2UnICYmICFiYWNrZ3JvdW5kSW1hZ2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBiYWNrZ3JvdW5kSW1hZ2UgZWxlbWVudCBpcyByZXF1aXJlZCB3aGVuIGJhY2tncm91bmRGaWx0ZXIgaXMgaW1hZ2VgKTtcbiAgICB9XG4gICAgY29uc3QgcGlwZWxpbmUgPSBidWlsZFdlYkdMMlBpcGVsaW5lKHZpZGVvU291cmNlLCBiYWNrZ3JvdW5kSW1hZ2UsIGJhY2tncm91bmRCbHVyTGV2ZWwsIGJhY2tncm91bmRGaWx0ZXIsIHRhcmdldENhbnZhcywgdGZsaXRlLCBnZXRTZWdtZW50YXRpb25QYXJhbXMoc2VnbWVudGF0aW9uTGV2ZWwpKTtcbiAgICBjb25zdCBpZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBpcGVsaW5lLnJlbmRlcigpO1xuICAgICAgICAgICAgaWYgKGJhY2tncm91bmRGaWx0ZXIgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICBwaXBlbGluZS51cGRhdGVQb3N0UHJvY2Vzc2luZ0NvbmZpZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgb25FcnJvcj8uKGVycm9yKTtcbiAgICAgICAgfVxuICAgIH0sIDEwMDAgLyAoZnBzIDw9IDAgPyAzMCA6IGZwcykpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGRpc3Bvc2U6ICgpID0+IHtcbiAgICAgICAgICAgIHBpcGVsaW5lLmNsZWFuVXAoKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaWQpO1xuICAgICAgICB9LFxuICAgIH07XG59XG5cbmNvbnN0IGNyZWF0ZVRGTGl0ZVNJTURNb2R1bGUgPSAoX19Nb2R1bGUpID0+IHtcbiAgX19Nb2R1bGUgPSBfX01vZHVsZSB8fCB7fTtcblxuICB2YXIgX3NjcmlwdERpciA9XG4gICAgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0XG4gICAgICA/IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG4gICAgICA6IHVuZGVmaW5lZDtcblxuICB2YXIgTW9kdWxlID0gdHlwZW9mIF9fTW9kdWxlICE9ICd1bmRlZmluZWQnID8gX19Nb2R1bGUgOiB7fTtcbiAgdmFyIHJlYWR5UHJvbWlzZVJlc29sdmUsIHJlYWR5UHJvbWlzZVJlamVjdDtcbiAgTW9kdWxlWydyZWFkeSddID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWR5UHJvbWlzZVJlc29sdmUgPSByZXNvbHZlO1xuICAgIHJlYWR5UHJvbWlzZVJlamVjdCA9IHJlamVjdDtcbiAgfSk7XG4gIHZhciBtb2R1bGVPdmVycmlkZXMgPSBPYmplY3QuYXNzaWduKHt9LCBNb2R1bGUpO1xuICB2YXIgdGhpc1Byb2dyYW0gPSAnLi90aGlzLnByb2dyYW0nO1xuICB2YXIgcXVpdF8gPSAoc3RhdHVzLCB0b1Rocm93KSA9PiB7XG4gICAgdGhyb3cgdG9UaHJvdztcbiAgfTtcbiAgdmFyIEVOVklST05NRU5UX0lTX1dFQiA9IHRydWU7XG4gIHZhciBzY3JpcHREaXJlY3RvcnkgPSAnJztcblxuICBmdW5jdGlvbiBsb2NhdGVGaWxlKHBhdGgpIHtcbiAgICBpZiAoTW9kdWxlWydsb2NhdGVGaWxlJ10pIHtcbiAgICAgIHJldHVybiBNb2R1bGVbJ2xvY2F0ZUZpbGUnXShwYXRoLCBzY3JpcHREaXJlY3RvcnkpO1xuICAgIH1cbiAgICByZXR1cm4gc2NyaXB0RGlyZWN0b3J5ICsgcGF0aDtcbiAgfVxuXG4gIHZhciByZWFkQmluYXJ5O1xuICB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPSAndW5kZWZpbmVkJyAmJiBkb2N1bWVudC5jdXJyZW50U2NyaXB0KSB7XG4gICAgICBzY3JpcHREaXJlY3RvcnkgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyYztcbiAgICB9XG4gICAgaWYgKF9zY3JpcHREaXIpIHtcbiAgICAgIHNjcmlwdERpcmVjdG9yeSA9IF9zY3JpcHREaXI7XG4gICAgfVxuICAgIGlmIChzY3JpcHREaXJlY3RvcnkuaW5kZXhPZignYmxvYjonKSAhPT0gMCkge1xuICAgICAgc2NyaXB0RGlyZWN0b3J5ID0gc2NyaXB0RGlyZWN0b3J5LnN1YnN0cihcbiAgICAgICAgMCxcbiAgICAgICAgc2NyaXB0RGlyZWN0b3J5LnJlcGxhY2UoL1s/I10uKi8sICcnKS5sYXN0SW5kZXhPZignLycpICsgMSxcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcmlwdERpcmVjdG9yeSA9ICcnO1xuICAgIH1cbiAgfVxuICB2YXIgb3V0ID0gTW9kdWxlWydwcmludCddIHx8IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gIHZhciBlcnIgPSBNb2R1bGVbJ3ByaW50RXJyJ10gfHwgY29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7XG4gIE9iamVjdC5hc3NpZ24oTW9kdWxlLCBtb2R1bGVPdmVycmlkZXMpO1xuICBtb2R1bGVPdmVycmlkZXMgPSBudWxsO1xuICBpZiAoTW9kdWxlWydhcmd1bWVudHMnXSkgTW9kdWxlWydhcmd1bWVudHMnXTtcbiAgaWYgKE1vZHVsZVsndGhpc1Byb2dyYW0nXSkgdGhpc1Byb2dyYW0gPSBNb2R1bGVbJ3RoaXNQcm9ncmFtJ107XG4gIGlmIChNb2R1bGVbJ3F1aXQnXSkgcXVpdF8gPSBNb2R1bGVbJ3F1aXQnXTtcbiAgdmFyIHdhc21CaW5hcnk7XG4gIGlmIChNb2R1bGVbJ3dhc21CaW5hcnknXSkgd2FzbUJpbmFyeSA9IE1vZHVsZVsnd2FzbUJpbmFyeSddO1xuICBNb2R1bGVbJ25vRXhpdFJ1bnRpbWUnXSB8fCB0cnVlO1xuICBpZiAodHlwZW9mIFdlYkFzc2VtYmx5ICE9ICdvYmplY3QnKSB7XG4gICAgYWJvcnQoJ25vIG5hdGl2ZSB3YXNtIHN1cHBvcnQgZGV0ZWN0ZWQnKTtcbiAgfVxuICB2YXIgd2FzbU1lbW9yeTtcbiAgdmFyIEFCT1JUID0gZmFsc2U7XG5cbiAgdmFyIFVURjhEZWNvZGVyID1cbiAgICB0eXBlb2YgVGV4dERlY29kZXIgIT0gJ3VuZGVmaW5lZCcgPyBuZXcgVGV4dERlY29kZXIoJ3V0ZjgnKSA6IHVuZGVmaW5lZDtcblxuICBmdW5jdGlvbiBVVEY4QXJyYXlUb1N0cmluZyhoZWFwT3JBcnJheSwgaWR4LCBtYXhCeXRlc1RvUmVhZCkge1xuICAgIHZhciBlbmRJZHggPSBpZHggKyBtYXhCeXRlc1RvUmVhZDtcbiAgICB2YXIgZW5kUHRyID0gaWR4O1xuICAgIHdoaWxlIChoZWFwT3JBcnJheVtlbmRQdHJdICYmICEoZW5kUHRyID49IGVuZElkeCkpICsrZW5kUHRyO1xuICAgIGlmIChlbmRQdHIgLSBpZHggPiAxNiAmJiBoZWFwT3JBcnJheS5idWZmZXIgJiYgVVRGOERlY29kZXIpIHtcbiAgICAgIHJldHVybiBVVEY4RGVjb2Rlci5kZWNvZGUoaGVhcE9yQXJyYXkuc3ViYXJyYXkoaWR4LCBlbmRQdHIpKTtcbiAgICB9XG4gICAgdmFyIHN0ciA9ICcnO1xuICAgIHdoaWxlIChpZHggPCBlbmRQdHIpIHtcbiAgICAgIHZhciB1MCA9IGhlYXBPckFycmF5W2lkeCsrXTtcbiAgICAgIGlmICghKHUwICYgMTI4KSkge1xuICAgICAgICBzdHIgKz0gU3RyaW5nLmZyb21DaGFyQ29kZSh1MCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHUxID0gaGVhcE9yQXJyYXlbaWR4KytdICYgNjM7XG4gICAgICBpZiAoKHUwICYgMjI0KSA9PSAxOTIpIHtcbiAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoKCh1MCAmIDMxKSA8PCA2KSB8IHUxKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgdTIgPSBoZWFwT3JBcnJheVtpZHgrK10gJiA2MztcbiAgICAgIGlmICgodTAgJiAyNDApID09IDIyNCkge1xuICAgICAgICB1MCA9ICgodTAgJiAxNSkgPDwgMTIpIHwgKHUxIDw8IDYpIHwgdTI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1MCA9XG4gICAgICAgICAgKCh1MCAmIDcpIDw8IDE4KSB8ICh1MSA8PCAxMikgfCAodTIgPDwgNikgfCAoaGVhcE9yQXJyYXlbaWR4KytdICYgNjMpO1xuICAgICAgfVxuICAgICAgaWYgKHUwIDwgNjU1MzYpIHtcbiAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUodTApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGNoID0gdTAgLSA2NTUzNjtcbiAgICAgICAgc3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoNTUyOTYgfCAoY2ggPj4gMTApLCA1NjMyMCB8IChjaCAmIDEwMjMpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuXG4gIHZhciBidWZmZXIsIEhFQVA4LCBIRUFQVTgsIEhFQVBVMzI7XG5cbiAgZnVuY3Rpb24gdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3MoYnVmKSB7XG4gICAgYnVmZmVyID0gYnVmO1xuICAgIE1vZHVsZVsnSEVBUDgnXSA9IEhFQVA4ID0gbmV3IEludDhBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUDE2J10gPSBuZXcgSW50MTZBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUDMyJ10gPSBuZXcgSW50MzJBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUFU4J10gPSBIRUFQVTggPSBuZXcgVWludDhBcnJheShidWYpO1xuICAgIE1vZHVsZVsnSEVBUFUxNiddID0gbmV3IFVpbnQxNkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQVTMyJ10gPSBIRUFQVTMyID0gbmV3IFVpbnQzMkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQRjMyJ10gPSBuZXcgRmxvYXQzMkFycmF5KGJ1Zik7XG4gICAgTW9kdWxlWydIRUFQRjY0J10gPSBuZXcgRmxvYXQ2NEFycmF5KGJ1Zik7XG4gIH1cblxuICBNb2R1bGVbJ0lOSVRJQUxfTUVNT1JZJ10gfHwgMTY3NzcyMTY7XG4gIHZhciBfX0FUUFJFUlVOX18gPSBbXTtcbiAgdmFyIF9fQVRJTklUX18gPSBbXTtcbiAgdmFyIF9fQVRQT1NUUlVOX18gPSBbXTtcblxuICBmdW5jdGlvbiBwcmVSdW4oKSB7XG4gICAgaWYgKE1vZHVsZVsncHJlUnVuJ10pIHtcbiAgICAgIGlmICh0eXBlb2YgTW9kdWxlWydwcmVSdW4nXSA9PSAnZnVuY3Rpb24nKVxuICAgICAgICBNb2R1bGVbJ3ByZVJ1biddID0gW01vZHVsZVsncHJlUnVuJ11dO1xuICAgICAgd2hpbGUgKE1vZHVsZVsncHJlUnVuJ10ubGVuZ3RoKSB7XG4gICAgICAgIGFkZE9uUHJlUnVuKE1vZHVsZVsncHJlUnVuJ10uc2hpZnQoKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNhbGxSdW50aW1lQ2FsbGJhY2tzKF9fQVRQUkVSVU5fXyk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0UnVudGltZSgpIHtcbiAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUSU5JVF9fKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RSdW4oKSB7XG4gICAgaWYgKE1vZHVsZVsncG9zdFJ1biddKSB7XG4gICAgICBpZiAodHlwZW9mIE1vZHVsZVsncG9zdFJ1biddID09ICdmdW5jdGlvbicpXG4gICAgICAgIE1vZHVsZVsncG9zdFJ1biddID0gW01vZHVsZVsncG9zdFJ1biddXTtcbiAgICAgIHdoaWxlIChNb2R1bGVbJ3Bvc3RSdW4nXS5sZW5ndGgpIHtcbiAgICAgICAgYWRkT25Qb3N0UnVuKE1vZHVsZVsncG9zdFJ1biddLnNoaWZ0KCkpO1xuICAgICAgfVxuICAgIH1cbiAgICBjYWxsUnVudGltZUNhbGxiYWNrcyhfX0FUUE9TVFJVTl9fKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uUHJlUnVuKGNiKSB7XG4gICAgX19BVFBSRVJVTl9fLnVuc2hpZnQoY2IpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25Jbml0KGNiKSB7XG4gICAgX19BVElOSVRfXy51bnNoaWZ0KGNiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uUG9zdFJ1bihjYikge1xuICAgIF9fQVRQT1NUUlVOX18udW5zaGlmdChjYik7XG4gIH1cblxuICB2YXIgcnVuRGVwZW5kZW5jaWVzID0gMDtcbiAgdmFyIGRlcGVuZGVuY2llc0Z1bGZpbGxlZCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gYWRkUnVuRGVwZW5kZW5jeShpZCkge1xuICAgIHJ1bkRlcGVuZGVuY2llcysrO1xuICAgIGlmIChNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXSkge1xuICAgICAgTW9kdWxlWydtb25pdG9yUnVuRGVwZW5kZW5jaWVzJ10ocnVuRGVwZW5kZW5jaWVzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZW1vdmVSdW5EZXBlbmRlbmN5KGlkKSB7XG4gICAgcnVuRGVwZW5kZW5jaWVzLS07XG4gICAgaWYgKE1vZHVsZVsnbW9uaXRvclJ1bkRlcGVuZGVuY2llcyddKSB7XG4gICAgICBNb2R1bGVbJ21vbml0b3JSdW5EZXBlbmRlbmNpZXMnXShydW5EZXBlbmRlbmNpZXMpO1xuICAgIH1cbiAgICBpZiAocnVuRGVwZW5kZW5jaWVzID09IDApIHtcbiAgICAgIGlmIChkZXBlbmRlbmNpZXNGdWxmaWxsZWQpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gZGVwZW5kZW5jaWVzRnVsZmlsbGVkO1xuICAgICAgICBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBudWxsO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFib3J0KHdoYXQpIHtcbiAgICB7XG4gICAgICBpZiAoTW9kdWxlWydvbkFib3J0J10pIHtcbiAgICAgICAgTW9kdWxlWydvbkFib3J0J10od2hhdCk7XG4gICAgICB9XG4gICAgfVxuICAgIHdoYXQgPSAnQWJvcnRlZCgnICsgd2hhdCArICcpJztcbiAgICBlcnIod2hhdCk7XG4gICAgQUJPUlQgPSB0cnVlO1xuICAgIHdoYXQgKz0gJy4gQnVpbGQgd2l0aCAtc0FTU0VSVElPTlMgZm9yIG1vcmUgaW5mby4nO1xuICAgIHZhciBlID0gbmV3IFdlYkFzc2VtYmx5LlJ1bnRpbWVFcnJvcih3aGF0KTtcbiAgICByZWFkeVByb21pc2VSZWplY3QoZSk7XG4gICAgdGhyb3cgZTtcbiAgfVxuXG4gIHZhciBkYXRhVVJJUHJlZml4ID0gJ2RhdGE6YXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtO2Jhc2U2NCwnO1xuXG4gIGZ1bmN0aW9uIGlzRGF0YVVSSShmaWxlbmFtZSkge1xuICAgIHJldHVybiBmaWxlbmFtZS5zdGFydHNXaXRoKGRhdGFVUklQcmVmaXgpO1xuICB9XG5cbiAgdmFyIHdhc21CaW5hcnlGaWxlO1xuICB3YXNtQmluYXJ5RmlsZSA9ICd0ZmxpdGUtc2ltZC53YXNtJztcbiAgaWYgKCFpc0RhdGFVUkkod2FzbUJpbmFyeUZpbGUpKSB7XG4gICAgd2FzbUJpbmFyeUZpbGUgPSBsb2NhdGVGaWxlKHdhc21CaW5hcnlGaWxlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJpbmFyeShmaWxlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChmaWxlID09IHdhc21CaW5hcnlGaWxlICYmIHdhc21CaW5hcnkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHdhc21CaW5hcnkpO1xuICAgICAgfVxuICAgICAgaWYgKHJlYWRCaW5hcnkpIDtcbiAgICAgIHRocm93ICdib3RoIGFzeW5jIGFuZCBzeW5jIGZldGNoaW5nIG9mIHRoZSB3YXNtIGZhaWxlZCc7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgYWJvcnQoZXJyKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCaW5hcnlQcm9taXNlKCkge1xuICAgIGlmICghd2FzbUJpbmFyeSAmJiAoRU5WSVJPTk1FTlRfSVNfV0VCKSkge1xuICAgICAgaWYgKHR5cGVvZiBmZXRjaCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmZXRjaCh3YXNtQmluYXJ5RmlsZSwgeyBjcmVkZW50aWFsczogJ3NhbWUtb3JpZ2luJyB9KVxuICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZVsnb2snXSkge1xuICAgICAgICAgICAgICB0aHJvdyAoXG4gICAgICAgICAgICAgICAgXCJmYWlsZWQgdG8gbG9hZCB3YXNtIGJpbmFyeSBmaWxlIGF0ICdcIiArIHdhc21CaW5hcnlGaWxlICsgXCInXCJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZVsnYXJyYXlCdWZmZXInXSgpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRCaW5hcnkod2FzbUJpbmFyeUZpbGUpO1xuICAgICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZ2V0QmluYXJ5KHdhc21CaW5hcnlGaWxlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZVdhc20oKSB7XG4gICAgdmFyIGluZm8gPSB7XG4gICAgICBlbnY6IGFzbUxpYnJhcnlBcmcsXG4gICAgICB3YXNpX3NuYXBzaG90X3ByZXZpZXcxOiBhc21MaWJyYXJ5QXJnLFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiByZWNlaXZlSW5zdGFuY2UoaW5zdGFuY2UsIG1vZHVsZSkge1xuICAgICAgdmFyIGV4cG9ydHMgPSBpbnN0YW5jZS5leHBvcnRzO1xuICAgICAgTW9kdWxlWydhc20nXSA9IGV4cG9ydHM7XG4gICAgICB3YXNtTWVtb3J5ID0gTW9kdWxlWydhc20nXVsnbWVtb3J5J107XG4gICAgICB1cGRhdGVHbG9iYWxCdWZmZXJBbmRWaWV3cyh3YXNtTWVtb3J5LmJ1ZmZlcik7XG4gICAgICBNb2R1bGVbJ2FzbSddWydfX2luZGlyZWN0X2Z1bmN0aW9uX3RhYmxlJ107XG4gICAgICBhZGRPbkluaXQoTW9kdWxlWydhc20nXVsnX193YXNtX2NhbGxfY3RvcnMnXSk7XG4gICAgICByZW1vdmVSdW5EZXBlbmRlbmN5KCk7XG4gICAgfVxuXG4gICAgYWRkUnVuRGVwZW5kZW5jeSgpO1xuXG4gICAgZnVuY3Rpb24gcmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQocmVzdWx0KSB7XG4gICAgICByZWNlaXZlSW5zdGFuY2UocmVzdWx0WydpbnN0YW5jZSddKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVyKSB7XG4gICAgICByZXR1cm4gZ2V0QmluYXJ5UHJvbWlzZSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChiaW5hcnkpIHtcbiAgICAgICAgICByZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYmluYXJ5LCBpbmZvKTtcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGluc3RhbmNlKSB7XG4gICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xuICAgICAgICB9KVxuICAgICAgICAudGhlbihyZWNlaXZlciwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgICAgIGVycignZmFpbGVkIHRvIGFzeW5jaHJvbm91c2x5IHByZXBhcmUgd2FzbTogJyArIHJlYXNvbik7XG4gICAgICAgICAgYWJvcnQocmVhc29uKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaW5zdGFudGlhdGVBc3luYygpIHtcbiAgICAgIGlmIChcbiAgICAgICAgIXdhc21CaW5hcnkgJiZcbiAgICAgICAgdHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nID09ICdmdW5jdGlvbicgJiZcbiAgICAgICAgIWlzRGF0YVVSSSh3YXNtQmluYXJ5RmlsZSkgJiZcbiAgICAgICAgdHlwZW9mIGZldGNoID09ICdmdW5jdGlvbidcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmV0Y2god2FzbUJpbmFyeUZpbGUsIHsgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicgfSkudGhlbihcbiAgICAgICAgICBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBXZWJBc3NlbWJseS5pbnN0YW50aWF0ZVN0cmVhbWluZyhyZXNwb25zZSwgaW5mbyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4ocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQsIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgZXJyKCd3YXNtIHN0cmVhbWluZyBjb21waWxlIGZhaWxlZDogJyArIHJlYXNvbik7XG4gICAgICAgICAgICAgIGVycignZmFsbGluZyBiYWNrIHRvIEFycmF5QnVmZmVyIGluc3RhbnRpYXRpb24nKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGluc3RhbnRpYXRlQXJyYXlCdWZmZXIocmVjZWl2ZUluc3RhbnRpYXRpb25SZXN1bHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnN0YW50aWF0ZUFycmF5QnVmZmVyKHJlY2VpdmVJbnN0YW50aWF0aW9uUmVzdWx0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoTW9kdWxlWydpbnN0YW50aWF0ZVdhc20nXSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGV4cG9ydHMgPSBNb2R1bGVbJ2luc3RhbnRpYXRlV2FzbSddKGluZm8sIHJlY2VpdmVJbnN0YW5jZSk7XG4gICAgICAgIHJldHVybiBleHBvcnRzO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBlcnIoJ01vZHVsZS5pbnN0YW50aWF0ZVdhc20gY2FsbGJhY2sgZmFpbGVkIHdpdGggZXJyb3I6ICcgKyBlKTtcbiAgICAgICAgcmVhZHlQcm9taXNlUmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW50aWF0ZUFzeW5jKCkuY2F0Y2gocmVhZHlQcm9taXNlUmVqZWN0KTtcbiAgICByZXR1cm4ge307XG4gIH1cblxuICBmdW5jdGlvbiBFeGl0U3RhdHVzKHN0YXR1cykge1xuICAgIHRoaXMubmFtZSA9ICdFeGl0U3RhdHVzJztcbiAgICB0aGlzLm1lc3NhZ2UgPSAnUHJvZ3JhbSB0ZXJtaW5hdGVkIHdpdGggZXhpdCgnICsgc3RhdHVzICsgJyknO1xuICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICB9XG5cbiAgZnVuY3Rpb24gY2FsbFJ1bnRpbWVDYWxsYmFja3MoY2FsbGJhY2tzKSB7XG4gICAgd2hpbGUgKGNhbGxiYWNrcy5sZW5ndGggPiAwKSB7XG4gICAgICBjYWxsYmFja3Muc2hpZnQoKShNb2R1bGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9fZGxpbml0KG1haW5fZHNvX2hhbmRsZSkge31cblxuICB2YXIgZGxvcGVuTWlzc2luZ0Vycm9yID1cbiAgICAnVG8gdXNlIGRsb3BlbiwgeW91IG5lZWQgZW5hYmxlIGR5bmFtaWMgbGlua2luZywgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbXNjcmlwdGVuLWNvcmUvZW1zY3JpcHRlbi93aWtpL0xpbmtpbmcnO1xuXG4gIGZ1bmN0aW9uIF9fZGxvcGVuX2pzKGZpbGVuYW1lLCBmbGFnKSB7XG4gICAgYWJvcnQoZGxvcGVuTWlzc2luZ0Vycm9yKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9fZGxzeW1fanMoaGFuZGxlLCBzeW1ib2wpIHtcbiAgICBhYm9ydChkbG9wZW5NaXNzaW5nRXJyb3IpO1xuICB9XG5cbiAgdmFyIG5vd0lzTW9ub3RvbmljID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBfX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWMoKSB7XG4gICAgcmV0dXJuIG5vd0lzTW9ub3RvbmljO1xuICB9XG5cbiAgZnVuY3Rpb24gX19tbWFwX2pzKGxlbiwgcHJvdCwgZmxhZ3MsIGZkLCBvZmYsIGFsbG9jYXRlZCkge1xuICAgIHJldHVybiAtNTI7XG4gIH1cblxuICBmdW5jdGlvbiBfX211bm1hcF9qcyhhZGRyLCBsZW4sIHByb3QsIGZsYWdzLCBmZCwgb2Zmc2V0KSB7fVxuXG4gIGZ1bmN0aW9uIF9hYm9ydCgpIHtcbiAgICBhYm9ydCgnJyk7XG4gIH1cblxuICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9kYXRlX25vdygpIHtcbiAgICByZXR1cm4gRGF0ZS5ub3coKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEhlYXBNYXgoKSB7XG4gICAgcmV0dXJuIDIxNDc0ODM2NDg7XG4gIH1cblxuICBmdW5jdGlvbiBfZW1zY3JpcHRlbl9nZXRfaGVhcF9tYXgoKSB7XG4gICAgcmV0dXJuIGdldEhlYXBNYXgoKTtcbiAgfVxuXG4gIHZhciBfZW1zY3JpcHRlbl9nZXRfbm93O1xuICBfZW1zY3JpcHRlbl9nZXRfbm93ID0gKCkgPT4gcGVyZm9ybWFuY2Uubm93KCk7XG5cbiAgZnVuY3Rpb24gX2Vtc2NyaXB0ZW5fbWVtY3B5X2JpZyhkZXN0LCBzcmMsIG51bSkge1xuICAgIEhFQVBVOC5jb3B5V2l0aGluKGRlc3QsIHNyYywgc3JjICsgbnVtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVtc2NyaXB0ZW5fcmVhbGxvY19idWZmZXIoc2l6ZSkge1xuICAgIHRyeSB7XG4gICAgICB3YXNtTWVtb3J5Lmdyb3coKHNpemUgLSBidWZmZXIuYnl0ZUxlbmd0aCArIDY1NTM1KSA+Pj4gMTYpO1xuICAgICAgdXBkYXRlR2xvYmFsQnVmZmVyQW5kVmlld3Mod2FzbU1lbW9yeS5idWZmZXIpO1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuXG4gIGZ1bmN0aW9uIF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwKHJlcXVlc3RlZFNpemUpIHtcbiAgICB2YXIgb2xkU2l6ZSA9IEhFQVBVOC5sZW5ndGg7XG4gICAgcmVxdWVzdGVkU2l6ZSA9IHJlcXVlc3RlZFNpemUgPj4+IDA7XG4gICAgdmFyIG1heEhlYXBTaXplID0gZ2V0SGVhcE1heCgpO1xuICAgIGlmIChyZXF1ZXN0ZWRTaXplID4gbWF4SGVhcFNpemUpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgbGV0IGFsaWduVXAgPSAoeCwgbXVsdGlwbGUpID0+IHggKyAoKG11bHRpcGxlIC0gKHggJSBtdWx0aXBsZSkpICUgbXVsdGlwbGUpO1xuICAgIGZvciAodmFyIGN1dERvd24gPSAxOyBjdXREb3duIDw9IDQ7IGN1dERvd24gKj0gMikge1xuICAgICAgdmFyIG92ZXJHcm93bkhlYXBTaXplID0gb2xkU2l6ZSAqICgxICsgMC4yIC8gY3V0RG93bik7XG4gICAgICBvdmVyR3Jvd25IZWFwU2l6ZSA9IE1hdGgubWluKFxuICAgICAgICBvdmVyR3Jvd25IZWFwU2l6ZSxcbiAgICAgICAgcmVxdWVzdGVkU2l6ZSArIDEwMDY2MzI5NixcbiAgICAgICk7XG4gICAgICB2YXIgbmV3U2l6ZSA9IE1hdGgubWluKFxuICAgICAgICBtYXhIZWFwU2l6ZSxcbiAgICAgICAgYWxpZ25VcChNYXRoLm1heChyZXF1ZXN0ZWRTaXplLCBvdmVyR3Jvd25IZWFwU2l6ZSksIDY1NTM2KSxcbiAgICAgICk7XG4gICAgICB2YXIgcmVwbGFjZW1lbnQgPSBlbXNjcmlwdGVuX3JlYWxsb2NfYnVmZmVyKG5ld1NpemUpO1xuICAgICAgaWYgKHJlcGxhY2VtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgRU5WID0ge307XG5cbiAgZnVuY3Rpb24gZ2V0RXhlY3V0YWJsZU5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXNQcm9ncmFtIHx8ICcuL3RoaXMucHJvZ3JhbSc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRFbnZTdHJpbmdzKCkge1xuICAgIGlmICghZ2V0RW52U3RyaW5ncy5zdHJpbmdzKSB7XG4gICAgICB2YXIgbGFuZyA9XG4gICAgICAgIChcbiAgICAgICAgICAodHlwZW9mIG5hdmlnYXRvciA9PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgbmF2aWdhdG9yLmxhbmd1YWdlcyAmJlxuICAgICAgICAgICAgbmF2aWdhdG9yLmxhbmd1YWdlc1swXSkgfHxcbiAgICAgICAgICAnQydcbiAgICAgICAgKS5yZXBsYWNlKCctJywgJ18nKSArICcuVVRGLTgnO1xuICAgICAgdmFyIGVudiA9IHtcbiAgICAgICAgVVNFUjogJ3dlYl91c2VyJyxcbiAgICAgICAgTE9HTkFNRTogJ3dlYl91c2VyJyxcbiAgICAgICAgUEFUSDogJy8nLFxuICAgICAgICBQV0Q6ICcvJyxcbiAgICAgICAgSE9NRTogJy9ob21lL3dlYl91c2VyJyxcbiAgICAgICAgTEFORzogbGFuZyxcbiAgICAgICAgXzogZ2V0RXhlY3V0YWJsZU5hbWUoKSxcbiAgICAgIH07XG4gICAgICBmb3IgKHZhciB4IGluIEVOVikge1xuICAgICAgICBpZiAoRU5WW3hdID09PSB1bmRlZmluZWQpIGRlbGV0ZSBlbnZbeF07XG4gICAgICAgIGVsc2UgZW52W3hdID0gRU5WW3hdO1xuICAgICAgfVxuICAgICAgdmFyIHN0cmluZ3MgPSBbXTtcbiAgICAgIGZvciAodmFyIHggaW4gZW52KSB7XG4gICAgICAgIHN0cmluZ3MucHVzaCh4ICsgJz0nICsgZW52W3hdKTtcbiAgICAgIH1cbiAgICAgIGdldEVudlN0cmluZ3Muc3RyaW5ncyA9IHN0cmluZ3M7XG4gICAgfVxuICAgIHJldHVybiBnZXRFbnZTdHJpbmdzLnN0cmluZ3M7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICBmdW5jdGlvbiB3cml0ZUFzY2lpVG9NZW1vcnkoc3RyLCBidWZmZXIsIGRvbnRBZGROdWxsKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICAgIEhFQVA4W2J1ZmZlcisrID4+IDBdID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICAgIEhFQVA4W2J1ZmZlciA+PiAwXSA9IDA7XG4gIH1cblxuICBmdW5jdGlvbiBfZW52aXJvbl9nZXQoX19lbnZpcm9uLCBlbnZpcm9uX2J1Zikge1xuICAgIHZhciBidWZTaXplID0gMDtcbiAgICBnZXRFbnZTdHJpbmdzKCkuZm9yRWFjaChmdW5jdGlvbiAoc3RyaW5nLCBpKSB7XG4gICAgICB2YXIgcHRyID0gZW52aXJvbl9idWYgKyBidWZTaXplO1xuICAgICAgSEVBUFUzMlsoX19lbnZpcm9uICsgaSAqIDQpID4+IDJdID0gcHRyO1xuICAgICAgd3JpdGVBc2NpaVRvTWVtb3J5KHN0cmluZywgcHRyKTtcbiAgICAgIGJ1ZlNpemUgKz0gc3RyaW5nLmxlbmd0aCArIDE7XG4gICAgfSk7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBmdW5jdGlvbiBfZW52aXJvbl9zaXplc19nZXQocGVudmlyb25fY291bnQsIHBlbnZpcm9uX2J1Zl9zaXplKSB7XG4gICAgdmFyIHN0cmluZ3MgPSBnZXRFbnZTdHJpbmdzKCk7XG4gICAgSEVBUFUzMltwZW52aXJvbl9jb3VudCA+PiAyXSA9IHN0cmluZ3MubGVuZ3RoO1xuICAgIHZhciBidWZTaXplID0gMDtcbiAgICBzdHJpbmdzLmZvckVhY2goZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgYnVmU2l6ZSArPSBzdHJpbmcubGVuZ3RoICsgMTtcbiAgICB9KTtcbiAgICBIRUFQVTMyW3BlbnZpcm9uX2J1Zl9zaXplID4+IDJdID0gYnVmU2l6ZTtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9wcm9jX2V4aXQoY29kZSkge1xuICAgIHF1aXRfKGNvZGUsIG5ldyBFeGl0U3RhdHVzKGNvZGUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGV4aXRKUyhzdGF0dXMsIGltcGxpY2l0KSB7XG4gICAgX3Byb2NfZXhpdChzdGF0dXMpO1xuICB9XG5cbiAgdmFyIF9leGl0ID0gZXhpdEpTO1xuXG4gIGZ1bmN0aW9uIF9mZF9jbG9zZShmZCkge1xuICAgIHJldHVybiA1MjtcbiAgfVxuXG4gIGZ1bmN0aW9uIF9mZF9zZWVrKGZkLCBvZmZzZXRfbG93LCBvZmZzZXRfaGlnaCwgd2hlbmNlLCBuZXdPZmZzZXQpIHtcbiAgICByZXR1cm4gNzA7XG4gIH1cblxuICB2YXIgcHJpbnRDaGFyQnVmZmVycyA9IFtudWxsLCBbXSwgW11dO1xuXG4gIGZ1bmN0aW9uIHByaW50Q2hhcihzdHJlYW0sIGN1cnIpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICAgIHZhciBidWZmZXIgPSBwcmludENoYXJCdWZmZXJzW3N0cmVhbV07XG4gICAgaWYgKGN1cnIgPT09IDAgfHwgY3VyciA9PT0gMTApIHtcbiAgICAgIChzdHJlYW0gPT09IDEgPyBvdXQgOiBlcnIpKFVURjhBcnJheVRvU3RyaW5nKGJ1ZmZlciwgMCkpO1xuICAgICAgYnVmZmVyLmxlbmd0aCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1ZmZlci5wdXNoKGN1cnIpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIF9mZF93cml0ZShmZCwgaW92LCBpb3ZjbnQsIHBudW0pIHtcbiAgICB2YXIgbnVtID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlvdmNudDsgaSsrKSB7XG4gICAgICB2YXIgcHRyID0gSEVBUFUzMltpb3YgPj4gMl07XG4gICAgICB2YXIgbGVuID0gSEVBUFUzMlsoaW92ICsgNCkgPj4gMl07XG4gICAgICBpb3YgKz0gODtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgcHJpbnRDaGFyKGZkLCBIRUFQVThbcHRyICsgal0pO1xuICAgICAgfVxuICAgICAgbnVtICs9IGxlbjtcbiAgICB9XG4gICAgSEVBUFUzMltwbnVtID4+IDJdID0gbnVtO1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmFuZG9tRGV2aWNlKCkge1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBjcnlwdG8gPT0gJ29iamVjdCcgJiZcbiAgICAgIHR5cGVvZiBjcnlwdG9bJ2dldFJhbmRvbVZhbHVlcyddID09ICdmdW5jdGlvbidcbiAgICApIHtcbiAgICAgIHZhciByYW5kb21CdWZmZXIgPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMocmFuZG9tQnVmZmVyKTtcbiAgICAgICAgcmV0dXJuIHJhbmRvbUJ1ZmZlclswXTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHJldHVybiAoKSA9PiBhYm9ydCgncmFuZG9tRGV2aWNlJyk7XG4gIH1cblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXNoYWRvd1xuICBmdW5jdGlvbiBfZ2V0ZW50cm9weShidWZmZXIsIHNpemUpIHtcbiAgICBpZiAoIV9nZXRlbnRyb3B5LnJhbmRvbURldmljZSkge1xuICAgICAgX2dldGVudHJvcHkucmFuZG9tRGV2aWNlID0gZ2V0UmFuZG9tRGV2aWNlKCk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XG4gICAgICBIRUFQOFsoYnVmZmVyICsgaSkgPj4gMF0gPSBfZ2V0ZW50cm9weS5yYW5kb21EZXZpY2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICB2YXIgYXNtTGlicmFyeUFyZyA9IHtcbiAgICBfZGxpbml0OiBfX2RsaW5pdCxcbiAgICBfZGxvcGVuX2pzOiBfX2Rsb3Blbl9qcyxcbiAgICBfZGxzeW1fanM6IF9fZGxzeW1fanMsXG4gICAgX2Vtc2NyaXB0ZW5fZ2V0X25vd19pc19tb25vdG9uaWM6IF9fZW1zY3JpcHRlbl9nZXRfbm93X2lzX21vbm90b25pYyxcbiAgICBfbW1hcF9qczogX19tbWFwX2pzLFxuICAgIF9tdW5tYXBfanM6IF9fbXVubWFwX2pzLFxuICAgIGFib3J0OiBfYWJvcnQsXG4gICAgZW1zY3JpcHRlbl9kYXRlX25vdzogX2Vtc2NyaXB0ZW5fZGF0ZV9ub3csXG4gICAgZW1zY3JpcHRlbl9nZXRfaGVhcF9tYXg6IF9lbXNjcmlwdGVuX2dldF9oZWFwX21heCxcbiAgICBlbXNjcmlwdGVuX2dldF9ub3c6IF9lbXNjcmlwdGVuX2dldF9ub3csXG4gICAgZW1zY3JpcHRlbl9tZW1jcHlfYmlnOiBfZW1zY3JpcHRlbl9tZW1jcHlfYmlnLFxuICAgIGVtc2NyaXB0ZW5fcmVzaXplX2hlYXA6IF9lbXNjcmlwdGVuX3Jlc2l6ZV9oZWFwLFxuICAgIGVudmlyb25fZ2V0OiBfZW52aXJvbl9nZXQsXG4gICAgZW52aXJvbl9zaXplc19nZXQ6IF9lbnZpcm9uX3NpemVzX2dldCxcbiAgICBleGl0OiBfZXhpdCxcbiAgICBmZF9jbG9zZTogX2ZkX2Nsb3NlLFxuICAgIGZkX3NlZWs6IF9mZF9zZWVrLFxuICAgIGZkX3dyaXRlOiBfZmRfd3JpdGUsXG4gICAgZ2V0ZW50cm9weTogX2dldGVudHJvcHksXG4gIH07XG4gIGNyZWF0ZVdhc20oKTtcbiAgKE1vZHVsZVsnX19fd2FzbV9jYWxsX2N0b3JzJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19fX3dhc21fY2FsbF9jdG9ycyddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ19fd2FzbV9jYWxsX2N0b3JzJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQnXSA9XG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIChNb2R1bGVbXG4gICAgICAgICdfZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQnXG4gICAgICBdID1cbiAgICAgICAgTW9kdWxlWydhc20nXVsnZ2V0TW9kZWxCdWZmZXJNZW1vcnlPZmZzZXQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9KTtcbiAgKE1vZHVsZVsnX2dldElucHV0TWVtb3J5T2Zmc2V0J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dE1lbW9yeU9mZnNldCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldElucHV0TWVtb3J5T2Zmc2V0J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0SW5wdXRIZWlnaHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldElucHV0SGVpZ2h0J10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRIZWlnaHQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRJbnB1dFdpZHRoJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dFdpZHRoJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZ2V0SW5wdXRXaWR0aCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldElucHV0Q2hhbm5lbENvdW50J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRJbnB1dENoYW5uZWxDb3VudCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldElucHV0Q2hhbm5lbENvdW50J10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0T3V0cHV0TWVtb3J5T2Zmc2V0J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRNZW1vcnlPZmZzZXQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRPdXRwdXRNZW1vcnlPZmZzZXQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19nZXRPdXRwdXRIZWlnaHQnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2dldE91dHB1dEhlaWdodCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dEhlaWdodCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX2dldE91dHB1dFdpZHRoJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRXaWR0aCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2dldE91dHB1dFdpZHRoJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfZ2V0T3V0cHV0Q2hhbm5lbENvdW50J10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19nZXRPdXRwdXRDaGFubmVsQ291bnQnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydnZXRPdXRwdXRDaGFubmVsQ291bnQnXSkuYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19sb2FkTW9kZWwnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnX2xvYWRNb2RlbCddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2xvYWRNb2RlbCddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX3J1bkluZmVyZW5jZSddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydfcnVuSW5mZXJlbmNlJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsncnVuSW5mZXJlbmNlJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydfbWFsbG9jJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19tYWxsb2MnXSA9IE1vZHVsZVsnYXNtJ11bJ21hbGxvYyddKS5hcHBseShcbiAgICAgIG51bGwsXG4gICAgICBhcmd1bWVudHMsXG4gICAgKTtcbiAgfSk7XG4gIChNb2R1bGVbJ19fX2Vycm5vX2xvY2F0aW9uJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19fX2Vycm5vX2xvY2F0aW9uJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnX19lcnJub19sb2NhdGlvbiddKS5hcHBseShudWxsLCBhcmd1bWVudHMpO1xuICB9KTtcbiAgKE1vZHVsZVsnX19fZGxfc2V0ZXJyJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ19fX2RsX3NldGVyciddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ19fZGxfc2V0ZXJyJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydzdGFja1NhdmUnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnc3RhY2tTYXZlJ10gPSBNb2R1bGVbJ2FzbSddWydzdGFja1NhdmUnXSkuYXBwbHkoXG4gICAgICBudWxsLFxuICAgICAgYXJndW1lbnRzLFxuICAgICk7XG4gIH0pO1xuICAoTW9kdWxlWydzdGFja1Jlc3RvcmUnXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnc3RhY2tSZXN0b3JlJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnc3RhY2tSZXN0b3JlJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydzdGFja0FsbG9jJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ3N0YWNrQWxsb2MnXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydzdGFja0FsbG9jJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2pqaiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2pqaiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfampqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2ppaWknXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9qaWlpJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9qaWlpJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2lpaWlqaiddID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAoTW9kdWxlWydkeW5DYWxsX2lpaWlqaiddID1cbiAgICAgIE1vZHVsZVsnYXNtJ11bJ2R5bkNhbGxfaWlpaWpqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX3ZpaWpqJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfdmlpamonXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX3ZpaWpqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX3ZpaWlqamonXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF92aWlpampqJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF92aWlpampqJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2lpamppaWlpJ10gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIChNb2R1bGVbJ2R5bkNhbGxfaWlqamlpaWknXSA9XG4gICAgICBNb2R1bGVbJ2FzbSddWydkeW5DYWxsX2lpamppaWlpJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICAoTW9kdWxlWydkeW5DYWxsX2ppamknXSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKE1vZHVsZVsnZHluQ2FsbF9qaWppJ10gPVxuICAgICAgTW9kdWxlWydhc20nXVsnZHluQ2FsbF9qaWppJ10pLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gIH0pO1xuICB2YXIgY2FsbGVkUnVuO1xuICBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBmdW5jdGlvbiBydW5DYWxsZXIoKSB7XG4gICAgaWYgKCFjYWxsZWRSdW4pIHJ1bigpO1xuICAgIGlmICghY2FsbGVkUnVuKSBkZXBlbmRlbmNpZXNGdWxmaWxsZWQgPSBydW5DYWxsZXI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcnVuKGFyZ3MpIHtcbiAgICBpZiAocnVuRGVwZW5kZW5jaWVzID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcmVSdW4oKTtcbiAgICBpZiAocnVuRGVwZW5kZW5jaWVzID4gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvUnVuKCkge1xuICAgICAgaWYgKGNhbGxlZFJ1bikgcmV0dXJuO1xuICAgICAgY2FsbGVkUnVuID0gdHJ1ZTtcbiAgICAgIE1vZHVsZVsnY2FsbGVkUnVuJ10gPSB0cnVlO1xuICAgICAgaWYgKEFCT1JUKSByZXR1cm47XG4gICAgICBpbml0UnVudGltZSgpO1xuICAgICAgcmVhZHlQcm9taXNlUmVzb2x2ZShNb2R1bGUpO1xuICAgICAgaWYgKE1vZHVsZVsnb25SdW50aW1lSW5pdGlhbGl6ZWQnXSkgTW9kdWxlWydvblJ1bnRpbWVJbml0aWFsaXplZCddKCk7XG4gICAgICBwb3N0UnVuKCk7XG4gICAgfVxuXG4gICAgaWYgKE1vZHVsZVsnc2V0U3RhdHVzJ10pIHtcbiAgICAgIE1vZHVsZVsnc2V0U3RhdHVzJ10oJ1J1bm5pbmcuLi4nKTtcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBNb2R1bGVbJ3NldFN0YXR1cyddKCcnKTtcbiAgICAgICAgfSwgMSk7XG4gICAgICAgIGRvUnVuKCk7XG4gICAgICB9LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9SdW4oKTtcbiAgICB9XG4gIH1cblxuICBpZiAoTW9kdWxlWydwcmVJbml0J10pIHtcbiAgICBpZiAodHlwZW9mIE1vZHVsZVsncHJlSW5pdCddID09ICdmdW5jdGlvbicpXG4gICAgICBNb2R1bGVbJ3ByZUluaXQnXSA9IFtNb2R1bGVbJ3ByZUluaXQnXV07XG4gICAgd2hpbGUgKE1vZHVsZVsncHJlSW5pdCddLmxlbmd0aCA+IDApIHtcbiAgICAgIE1vZHVsZVsncHJlSW5pdCddLnBvcCgpKCk7XG4gICAgfVxuICB9XG4gIHJ1bigpO1xuXG4gIHJldHVybiBfX01vZHVsZS5yZWFkeTtcbn07XG5cbmNvbnN0IHZlcnNpb24gPSBcIjAuMi4xXCI7XG5jb25zdCBwYWNrYWdlTmFtZSA9IFwiQHN0cmVhbS1pby92aWRlby1maWx0ZXJzLXdlYlwiO1xuXG4vLyBAdHMtZXhwZWN0LWVycm9yIC0gbW9kdWxlIGlzIG5vdCBkZWNsYXJlZFxuLy8gVGhpcyBpcyBhIFdlYkFzc2VtYmx5IG1vZHVsZSBjb21waWxlZCBmcm9tIHRoZSBUZW5zb3JGbG93IExpdGUgQysrIGxpYnJhcnkuXG5jb25zdCBjcmVhdGVURkxpdGUgPSBjcmVhdGVURkxpdGVTSU1ETW9kdWxlO1xuY29uc3QgbG9hZFRGTGl0ZSA9IGFzeW5jIChvcHRpb25zID0ge30pID0+IHtcbiAgICBjb25zdCB7IGJhc2VQYXRoID0gYGh0dHBzOi8vdW5wa2cuY29tLyR7cGFja2FnZU5hbWV9QCR7dmVyc2lvbn0vdGZgLCB0ZkZpbGVQYXRoID0gYCR7YmFzZVBhdGh9L3RmbGl0ZS90ZmxpdGUtc2ltZC53YXNtYCwgbW9kZWxGaWxlUGF0aCA9IGAke2Jhc2VQYXRofS9tb2RlbHMvc2VnbV9mdWxsX3Y2NzkudGZsaXRlYCwgfSA9IG9wdGlvbnM7XG4gICAgY29uc3QgW3RmTGl0ZSwgbW9kZWxdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBjcmVhdGVURkxpdGUoeyBsb2NhdGVGaWxlOiAoKSA9PiB0ZkZpbGVQYXRoIH0pLFxuICAgICAgICBmZXRjaE1vZGVsKG1vZGVsRmlsZVBhdGgpLFxuICAgIF0pO1xuICAgIGNvbnN0IG1vZGVsQnVmZmVyT2Zmc2V0ID0gdGZMaXRlLl9nZXRNb2RlbEJ1ZmZlck1lbW9yeU9mZnNldCgpO1xuICAgIHRmTGl0ZS5IRUFQVTguc2V0KG5ldyBVaW50OEFycmF5KG1vZGVsKSwgbW9kZWxCdWZmZXJPZmZzZXQpO1xuICAgIHRmTGl0ZS5fbG9hZE1vZGVsKG1vZGVsLmJ5dGVMZW5ndGgpO1xuICAgIHJldHVybiB0ZkxpdGU7XG59O1xubGV0IGxhc3RNb2RlbEZpbGVQYXRoID0gJyc7XG5sZXQgbW9kZWxGaWxlQ2FjaGU7XG5jb25zdCBmZXRjaE1vZGVsID0gYXN5bmMgKG1vZGVsRmlsZVBhdGgpID0+IHtcbiAgICBjb25zdCBtb2RlbCA9IG1vZGVsRmlsZVBhdGggPT09IGxhc3RNb2RlbEZpbGVQYXRoICYmIG1vZGVsRmlsZUNhY2hlXG4gICAgICAgID8gbW9kZWxGaWxlQ2FjaGVcbiAgICAgICAgOiBhd2FpdCBmZXRjaChtb2RlbEZpbGVQYXRoKS50aGVuKChyKSA9PiByLmFycmF5QnVmZmVyKCkpO1xuICAgIC8vIENhY2hlIHRoZSBtb2RlbCBmaWxlIGZvciBmdXR1cmUgdXNlLlxuICAgIG1vZGVsRmlsZUNhY2hlID0gbW9kZWw7XG4gICAgbGFzdE1vZGVsRmlsZVBhdGggPSBtb2RlbEZpbGVQYXRoO1xuICAgIHJldHVybiBtb2RlbDtcbn07XG5cbmV4cG9ydCB7IFNlZ21lbnRhdGlvbkxldmVsLCBjcmVhdGVSZW5kZXJlciwgaXNQbGF0Zm9ybVN1cHBvcnRlZCwgbG9hZFRGTGl0ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-bindings/dist/index.es.js ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Restricted: () => (/* binding */ Restricted),\n/* harmony export */   StreamCallProvider: () => (/* binding */ StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* binding */ StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* binding */ StreamI18nProvider),\n/* harmony export */   StreamVideoProvider: () => (/* binding */ StreamVideoProvider),\n/* harmony export */   defaultTranslationFunction: () => (/* binding */ defaultTranslationFunction),\n/* harmony export */   useCall: () => (/* binding */ useCall),\n/* harmony export */   useCallStateHooks: () => (/* binding */ useCallStateHooks),\n/* harmony export */   useCalls: () => (/* binding */ useCalls),\n/* harmony export */   useConnectedUser: () => (/* binding */ useConnectedUser),\n/* harmony export */   useI18n: () => (/* binding */ useI18n),\n/* harmony export */   useObservableValue: () => (/* binding */ useObservableValue),\n/* harmony export */   useStore: () => (/* binding */ useStore),\n/* harmony export */   useStreamVideoClient: () => (/* binding */ useStreamVideoClient),\n/* harmony export */   useToggleCallRecording: () => (/* binding */ useToggleCallRecording)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var i18next__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18next */ \"(ssr)/./node_modules/i18next/dist/esm/i18next.js\");\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n\n\n\n\n\n\nconst StreamCallContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * A provider for the call object.\n */\nconst StreamCallProvider = (props) => {\n    const { call, children } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamCallContext.Provider, { value: call, children: children }));\n};\n/**\n * A hook to get the call object from the closest provider.\n */\nconst useCall = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamCallContext);\n};\n\nconst mapToRegistry = (translationsMap, namespace) => Object.entries(translationsMap).reduce((acc, [lng, translations]) => {\n    acc[lng] = { [namespace]: translations };\n    return acc;\n}, {});\nconst defaultTranslationFunction = (key) => key;\nclass StreamI18n {\n    constructor({ debug = false, currentLanguage = 'en', fallbackLanguage, translationsOverrides = { en: {} }, } = {}) {\n        /** Translator function that converts the provided string into its equivalent in the current language. */\n        this.t = defaultTranslationFunction;\n        this.init = async () => {\n            this.t = await this.i18nInstance.init();\n            return this.t;\n        };\n        this.changeLanguage = async (language) => {\n            this.t = await this.i18nInstance.changeLanguage(language);\n            return this.t;\n        };\n        const ns = 'stream-video';\n        this.i18nInstance = i18next__WEBPACK_IMPORTED_MODULE_2__[\"default\"].createInstance({\n            debug,\n            defaultNS: ns,\n            fallbackLng: fallbackLanguage,\n            interpolation: { escapeValue: false },\n            keySeparator: false,\n            lng: currentLanguage,\n            nsSeparator: false,\n            parseMissingKeyHandler: defaultTranslationFunction,\n            resources: mapToRegistry(translationsOverrides, ns),\n        });\n    }\n    get currentLanguage() {\n        return this.i18nInstance.language;\n    }\n    get isInitialized() {\n        return this.i18nInstance.isInitialized;\n    }\n}\n\nconst StreamI18nContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    t: defaultTranslationFunction,\n});\nconst StreamI18nProvider = ({ children, ...createI18nParams }) => {\n    const api = useCreateI18n(createI18nParams);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nContext.Provider, { value: api, children: children }));\n};\nconst useCreateI18n = ({ i18nInstance, language, fallbackLanguage, translationsOverrides, }) => {\n    const [i18n] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => i18nInstance ||\n        new StreamI18n({\n            currentLanguage: language,\n            fallbackLanguage,\n            translationsOverrides,\n        }));\n    const [t, setTranslationFn] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => i18n.t);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        if (!i18n.isInitialized) {\n            i18n.init().then(() => setTranslationFn(() => i18n.t));\n        }\n        else if (i18n.currentLanguage !== language) {\n            i18n.changeLanguage(language).then(() => setTranslationFn(() => i18n.t));\n        }\n    }, [i18n, language]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => ({ i18n, t }), [i18n, t]);\n};\n/**\n * A hook to get the i18n instance and translation function from the closest provider.\n *\n * Example usage:\n * const { t, i18n } = useI18n();\n * const message = t('hello_world');\n * console.log(message);\n */\nconst useI18n = () => (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamI18nContext);\n\nconst StreamVideoContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n/**\n * StreamVideo is a provider component which should be used to wrap the entire application.\n * It provides the client object to all children components and initializes the i18n instance.\n */\nconst StreamVideoProvider = ({ children, client, i18nInstance, language, translationsOverrides, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamVideoContext.Provider, { value: client, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StreamI18nProvider, { i18nInstance: i18nInstance, language: language, translationsOverrides: translationsOverrides, children: children }) }));\n};\n/**\n * Hook to access the nearest StreamVideo client instance.\n */\nconst useStreamVideoClient = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(StreamVideoContext);\n};\n\n/**\n * Checks whether we are using React Native\n */\nconst isReactNative = () => {\n    if (typeof navigator === 'undefined')\n        return false;\n    return navigator.product?.toLowerCase() === 'reactnative';\n};\n\n/**\n * Utility hook which provides the current value of the given observable.\n *\n * @param observable$ the observable to read data from.\n * @param defaultValue a default value. Used when the observable data can't be read or emits an error.\n */\nconst useObservableValue = (observable$, defaultValue) => {\n    const [value, setValue] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(() => {\n        try {\n            return _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.RxUtils.getCurrentValue(observable$);\n        }\n        catch (err) {\n            if (typeof defaultValue === 'undefined')\n                throw err;\n            return defaultValue;\n        }\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        return _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.RxUtils.createSubscription(observable$, setValue, (err) => {\n            console.log('An error occurred while reading an observable', err);\n            if (defaultValue)\n                setValue(defaultValue);\n        });\n    }, [defaultValue, observable$]);\n    return value;\n};\n\n// kind-of memoized, used as a default value\nconst EMPTY_DEVICES_ARRAY = Object.freeze([]);\n/**\n * Utility hook, which provides the current call's state.\n */\nconst useCallState = () => {\n    const call = useCall();\n    // return an empty and unlinked CallState object if there is no call in the provider\n    // this ensures that the hooks always return a value and many null checks can be avoided\n    if (!call) {\n        const message = 'You are using useCallState() outside a Call context. ' +\n            'Please wrap your component in <StreamCall /> and provide a \"call\" instance.';\n        console.warn(message);\n        return new _stream_io_video_client__WEBPACK_IMPORTED_MODULE_3__.CallState();\n    }\n    return call.state;\n};\n/**\n * Utility hook which provides information whether the current call is being recorded. It will return `true` if the call is being recorded.\n */\nconst useIsCallRecordingInProgress = () => {\n    const { recording$ } = useCallState();\n    return useObservableValue(recording$);\n};\n/**\n * Utility hook which provides information whether the current call is broadcasting.\n */\nconst useIsCallHLSBroadcastingInProgress = () => {\n    const { egress$ } = useCallState();\n    const egress = useObservableValue(egress$);\n    if (!egress)\n        return false;\n    return egress.broadcasting;\n};\n/**\n * Utility hook which provides information whether the current call is live.\n */\nconst useIsCallLive = () => {\n    const { backstage$ } = useCallState();\n    const isBackstageOn = useObservableValue(backstage$);\n    return !isBackstageOn;\n};\n/**\n * Returns the list of blocked users in the current call.\n */\nconst useCallBlockedUserIds = () => {\n    const { blockedUserIds$ } = useCallState();\n    return useObservableValue(blockedUserIds$);\n};\n/**\n * Returns the timestamp when this call was created.\n */\nconst useCallCreatedAt = () => {\n    const { createdAt$ } = useCallState();\n    return useObservableValue(createdAt$);\n};\n/**\n * Returns the timestamp when this call was ended.\n */\nconst useCallEndedAt = () => {\n    const { endedAt$ } = useCallState();\n    return useObservableValue(endedAt$);\n};\n/**\n * Returns the timestamp telling when the call is scheduled to start.\n */\nconst useCallStartsAt = () => {\n    const { startsAt$ } = useCallState();\n    return useObservableValue(startsAt$);\n};\n/**\n * Returns the timestamp when this call was updated.\n */\nconst useCallUpdatedAt = () => {\n    const { updatedAt$ } = useCallState();\n    return useObservableValue(updatedAt$);\n};\n/**\n * Returns the information about the call's creator.\n */\nconst useCallCreatedBy = () => {\n    const { createdBy$ } = useCallState();\n    return useObservableValue(createdBy$);\n};\n/**\n * Returns the call's custom data.\n */\nconst useCallCustomData = () => {\n    const { custom$ } = useCallState();\n    return useObservableValue(custom$);\n};\n/**\n * Returns the call's Egress information.\n */\nconst useCallEgress = () => {\n    const { egress$ } = useCallState();\n    return useObservableValue(egress$);\n};\n/**\n * Returns the call's Ingress information.\n */\nconst useCallIngress = () => {\n    const { ingress$ } = useCallState();\n    return useObservableValue(ingress$);\n};\n/**\n * Returns the data for the current call session.\n */\nconst useCallSession = () => {\n    const { session$ } = useCallState();\n    return useObservableValue(session$);\n};\n/**\n * Returns the call's settings.\n */\nconst useCallSettings = () => {\n    const { settings$ } = useCallState();\n    return useObservableValue(settings$);\n};\n/**\n * Returns whether the call has transcribing enabled.\n */\nconst useIsCallTranscribingInProgress = () => {\n    const { transcribing$ } = useCallState();\n    return useObservableValue(transcribing$);\n};\n/**\n * Returns information about the user who has marked this call as ended.\n */\nconst useCallEndedBy = () => {\n    const { endedBy$ } = useCallState();\n    return useObservableValue(endedBy$);\n};\n/**\n * Utility hook which provides a boolean indicating whether there is\n * a participant in the current call which shares their screen.\n */\nconst useHasOngoingScreenShare = () => {\n    const { hasOngoingScreenShare$ } = useCallState();\n    return useObservableValue(hasOngoingScreenShare$);\n};\n/**\n * Utility hook which provides the latest stats report of the current call.\n *\n * The latest stats report of the current call.\n * When stats gathering is enabled, this observable will emit a new value\n * at a regular (configurable) interval.\n *\n * Consumers of this observable can implement their own batching logic\n * in case they want to show historical stats data.\n */\nconst useCallStatsReport = () => {\n    const { callStatsReport$ } = useCallState();\n    return useObservableValue(callStatsReport$);\n};\n/**\n * Utility hook which provides the dominant speaker of the current call.\n */\nconst useDominantSpeaker = () => {\n    const { dominantSpeaker$ } = useCallState();\n    return useObservableValue(dominantSpeaker$);\n};\n/**\n * Utility hook which provides a list of call members.\n */\nconst useCallMembers = () => {\n    const { members$ } = useCallState();\n    return useObservableValue(members$);\n};\n/**\n * Utility hook providing the current calling state of the call. For example, `RINGING` or `JOINED`.\n */\nconst useCallCallingState = () => {\n    const { callingState$ } = useCallState();\n    return useObservableValue(callingState$);\n};\n/**\n * Utility hook providing the actual start time of the current session.\n * Useful for calculating the call duration.\n */\nconst useCallStartedAt = () => {\n    const { startedAt$ } = useCallState();\n    return useObservableValue(startedAt$);\n};\n/**\n * A hook which provides a list of all participants that have joined an active call.\n *\n * @param options.sortBy - A comparator function to sort the participants by.\n * Make sure to memoize output of the `combineComparators` function\n * (or keep it out of component's scope if possible) before passing it down to this property.\n */\nconst useParticipants = ({ sortBy, } = {}) => {\n    const { participants$ } = useCallState();\n    const participants = useObservableValue(participants$);\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => {\n        if (sortBy) {\n            return [...participants].sort(sortBy);\n        }\n        return participants;\n    }, [participants, sortBy]);\n};\n/**\n * A hook which provides a list of all participants that have joined an active call.\n * Unlike `useParticipants`, it returns a more stable reference that is not affected\n * by participant sort settings.\n *\n * @category Call State\n */\nconst useRawParticipants = () => {\n    const { rawParticipants$ } = useCallState();\n    return useObservableValue(rawParticipants$);\n};\n/**\n * A hook which provides a StreamVideoLocalParticipant object.\n * It signals that I have joined a call.\n */\nconst useLocalParticipant = () => {\n    const { localParticipant$ } = useCallState();\n    return useObservableValue(localParticipant$);\n};\n/**\n * A hook which provides a list of all other participants than me that have joined an active call.\n */\nconst useRemoteParticipants = () => {\n    const { remoteParticipants$ } = useCallState();\n    return useObservableValue(remoteParticipants$);\n};\n/**\n * Returns the approximate participant count of the active call.\n * This includes the anonymous users as well, and it is computed on the server.\n */\nconst useParticipantCount = () => {\n    const { participantCount$ } = useCallState();\n    return useObservableValue(participantCount$);\n};\n/**\n * Returns the approximate anonymous participant count of the active call.\n * The regular participants are not included in this count. It is computed on the server.\n */\nconst useAnonymousParticipantCount = () => {\n    const { anonymousParticipantCount$ } = useCallState();\n    return useObservableValue(anonymousParticipantCount$);\n};\n/**\n * Returns the generated thumbnail of the current call, if enabled in settings.\n */\nconst useCallThumbnail = () => {\n    const { thumbnails$ } = useCallState();\n    return useObservableValue(thumbnails$);\n};\n/**\n * A hook which returns the local participant's own capabilities.\n */\nconst useOwnCapabilities = () => {\n    const { ownCapabilities$ } = useCallState();\n    return useObservableValue(ownCapabilities$);\n};\n/**\n * Hook that returns true if the local participant has all the given permissions.\n *\n * @param permissions the permissions to check.\n */\nconst useHasPermissions = (...permissions) => {\n    const capabilities = useOwnCapabilities();\n    return permissions.every((permission) => capabilities?.includes(permission));\n};\n/**\n * Returns the camera state of the current call.\n */\nconst useCameraState = () => {\n    const call = useCall();\n    const { camera } = call;\n    const { state } = camera;\n    const direction = useObservableValue(state.direction$);\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const { getDevices } = useLazyDeviceList(camera);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isPromptingPermission = useObservableValue(state.isPromptingPermission$);\n    return {\n        camera,\n        direction,\n        mediaStream,\n        get devices() {\n            return getDevices();\n        },\n        hasBrowserPermission,\n        isPromptingPermission,\n        selectedDevice,\n        ...getComputedStatus(useObservableValue(state.status$), useObservableValue(state.optimisticStatus$)),\n    };\n};\n/**\n * Returns the microphone state of the current call.\n */\nconst useMicrophoneState = () => {\n    const call = useCall();\n    const { microphone } = call;\n    const { state } = microphone;\n    const mediaStream = useObservableValue(state.mediaStream$);\n    const selectedDevice = useObservableValue(state.selectedDevice$);\n    const { getDevices } = useLazyDeviceList(microphone);\n    const hasBrowserPermission = useObservableValue(state.hasBrowserPermission$);\n    const isPromptingPermission = useObservableValue(state.isPromptingPermission$);\n    const isSpeakingWhileMuted = useObservableValue(state.speakingWhileMuted$);\n    return {\n        microphone,\n        mediaStream,\n        get devices() {\n            return getDevices();\n        },\n        selectedDevice,\n        hasBrowserPermission,\n        isPromptingPermission,\n        isSpeakingWhileMuted,\n        ...getComputedStatus(useObservableValue(state.status$), useObservableValue(state.optimisticStatus$)),\n    };\n};\n/**\n * Returns the speaker state of the current call.\n *\n * Note: This hook is not supported in React Native\n */\nconst useSpeakerState = () => {\n    if (isReactNative()) {\n        throw new Error('This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details');\n    }\n    const call = useCall();\n    const { speaker } = call;\n    const { getDevices } = useLazyDeviceList(speaker);\n    const selectedDevice = useObservableValue(speaker.state.selectedDevice$);\n    return {\n        speaker,\n        get devices() {\n            return getDevices();\n        },\n        selectedDevice,\n        isDeviceSelectionSupported: speaker.state.isDeviceSelectionSupported,\n    };\n};\n/**\n * Returns the Screen Share state of the current call.\n */\nconst useScreenShareState = () => {\n    const call = useCall();\n    const { screenShare } = call;\n    return {\n        screenShare,\n        mediaStream: useObservableValue(screenShare.state.mediaStream$),\n        ...getComputedStatus(useObservableValue(screenShare.state.status$), useObservableValue(screenShare.state.optimisticStatus$)),\n    };\n};\n/**\n * Returns incoming video settings for the current call, including\n * global and per-participant manual video quality overrides.\n */\nconst useIncomingVideoSettings = () => {\n    const call = useCall();\n    const settings = useObservableValue(call.dynascaleManager.incomingVideoSettings$);\n    return settings;\n};\n/**\n * Returns the current call's closed captions queue.\n */\nconst useCallClosedCaptions = () => {\n    const { closedCaptions$ } = useCallState();\n    return useObservableValue(closedCaptions$);\n};\n/**\n * Returns the current call's closed captions queue.\n */\nconst useIsCallCaptioningInProgress = () => {\n    const { captioning$ } = useCallState();\n    return useObservableValue(captioning$);\n};\nfunction getComputedStatus(status, pendingStatus) {\n    const optimisticStatus = pendingStatus ?? status;\n    return {\n        status,\n        optimisticStatus,\n        isEnabled: status === 'enabled',\n        isMute: status !== 'enabled',\n        optimisticIsMute: optimisticStatus !== 'enabled',\n        isTogglePending: optimisticStatus !== status,\n    };\n}\nfunction useLazyDeviceList(manager) {\n    const placeholderDevices$ = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.of)(EMPTY_DEVICES_ARRAY), []);\n    const [devices$, setDevices$] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(placeholderDevices$);\n    const devices = useObservableValue(devices$, EMPTY_DEVICES_ARRAY);\n    const getDevices = () => {\n        if (devices$ === placeholderDevices$) {\n            setDevices$(manager.listDevices());\n        }\n        return devices;\n    };\n    return { getDevices };\n}\n\nvar CallStateHooks = /*#__PURE__*/Object.freeze({\n    __proto__: null,\n    useAnonymousParticipantCount: useAnonymousParticipantCount,\n    useCallBlockedUserIds: useCallBlockedUserIds,\n    useCallCallingState: useCallCallingState,\n    useCallClosedCaptions: useCallClosedCaptions,\n    useCallCreatedAt: useCallCreatedAt,\n    useCallCreatedBy: useCallCreatedBy,\n    useCallCustomData: useCallCustomData,\n    useCallEgress: useCallEgress,\n    useCallEndedAt: useCallEndedAt,\n    useCallEndedBy: useCallEndedBy,\n    useCallIngress: useCallIngress,\n    useCallMembers: useCallMembers,\n    useCallSession: useCallSession,\n    useCallSettings: useCallSettings,\n    useCallStartedAt: useCallStartedAt,\n    useCallStartsAt: useCallStartsAt,\n    useCallState: useCallState,\n    useCallStatsReport: useCallStatsReport,\n    useCallThumbnail: useCallThumbnail,\n    useCallUpdatedAt: useCallUpdatedAt,\n    useCameraState: useCameraState,\n    useDominantSpeaker: useDominantSpeaker,\n    useHasOngoingScreenShare: useHasOngoingScreenShare,\n    useHasPermissions: useHasPermissions,\n    useIncomingVideoSettings: useIncomingVideoSettings,\n    useIsCallCaptioningInProgress: useIsCallCaptioningInProgress,\n    useIsCallHLSBroadcastingInProgress: useIsCallHLSBroadcastingInProgress,\n    useIsCallLive: useIsCallLive,\n    useIsCallRecordingInProgress: useIsCallRecordingInProgress,\n    useIsCallTranscribingInProgress: useIsCallTranscribingInProgress,\n    useLocalParticipant: useLocalParticipant,\n    useMicrophoneState: useMicrophoneState,\n    useOwnCapabilities: useOwnCapabilities,\n    useParticipantCount: useParticipantCount,\n    useParticipants: useParticipants,\n    useRawParticipants: useRawParticipants,\n    useRemoteParticipants: useRemoteParticipants,\n    useScreenShareState: useScreenShareState,\n    useSpeakerState: useSpeakerState\n});\n\n/**\n * Utility hook which provides access to client's state store.\n */\nconst useStore = () => {\n    const client = useStreamVideoClient();\n    if (!client) {\n        throw new Error(`StreamVideoClient isn't initialized or this hook is called outside of <StreamVideo> context.`);\n    }\n    return client.state;\n};\n/**\n * Utility hook which provides a list of all notifications about created calls.\n * In the ring call settings, these calls can be outgoing (I have called somebody)\n * or incoming (somebody has called me).\n */\nconst useCalls = () => {\n    const { calls$ } = useStore();\n    return useObservableValue(calls$);\n};\n/**\n * Returns the current connected user.\n */\nconst useConnectedUser = () => {\n    const { connectedUser$ } = useStore();\n    return useObservableValue(connectedUser$);\n};\n\n/**\n * Custom hook for toggling call recording in a video call.\n *\n * This hook provides functionality to start and stop call recording,\n * along with state management for tracking the recording status\n * and the loading indicator while awaiting a response.\n */\nconst useToggleCallRecording = () => {\n    const call = useCall();\n    const isCallRecordingInProgress = useIsCallRecordingInProgress();\n    const [isAwaitingResponse, setIsAwaitingResponse] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // TODO: add permissions\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(() => {\n        // we wait until call.recording_started/stopped event to flips the\n        // `isCallRecordingInProgress` state variable.\n        // Once the flip happens, we remove the loading indicator\n        setIsAwaitingResponse((isAwaiting) => {\n            if (isAwaiting)\n                return false;\n            return isAwaiting;\n        });\n    }, [isCallRecordingInProgress]);\n    const toggleCallRecording = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async () => {\n        try {\n            setIsAwaitingResponse(true);\n            if (isCallRecordingInProgress) {\n                await call?.stopRecording();\n            }\n            else {\n                await call?.startRecording();\n            }\n        }\n        catch (e) {\n            console.error(`Failed start recording`, e);\n            throw e;\n        }\n    }, [call, isCallRecordingInProgress]);\n    return { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress };\n};\n\n/**\n * A hook-alike function that exposes all call state hooks.\n */\nconst useCallStateHooks = () => CallStateHooks;\n\nconst Restricted = ({ canRequestOnly, hasPermissionsOnly, requiredGrants, requireAll = true, children, }) => {\n    const call = useCall();\n    const { useCallSettings, useOwnCapabilities } = useCallStateHooks();\n    const ownCapabilities = useOwnCapabilities();\n    const settings = useCallSettings();\n    const hasPermissions = requiredGrants[requireAll ? 'every' : 'some']((capability) => ownCapabilities?.includes(capability));\n    if (hasPermissionsOnly)\n        return hasPermissions ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    const canRequest = requiredGrants.some((capability) => call?.permissionsContext.canRequest(capability, settings));\n    if (canRequestOnly)\n        return canRequest ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children }) : null;\n    if (hasPermissions || canRequest)\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: children });\n    return null;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1iaW5kaW5ncy9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBa0Q7QUFDMkM7QUFDL0Q7QUFDK0I7QUFDbkM7O0FBRTFCLDBCQUEwQixvREFBYTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksaUJBQWlCO0FBQzdCLFlBQVksc0RBQUcsK0JBQStCLGlDQUFpQztBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxpREFBVTtBQUNyQjs7QUFFQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLENBQUMsSUFBSTtBQUNMO0FBQ0E7QUFDQSxrQkFBa0IsbUZBQW1GLFFBQVEsSUFBSSxJQUFJO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsOERBQXNCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixvQkFBb0I7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDBCQUEwQixvREFBYTtBQUN2QztBQUNBLENBQUM7QUFDRCw4QkFBOEIsK0JBQStCO0FBQzdEO0FBQ0EsWUFBWSxzREFBRywrQkFBK0IsZ0NBQWdDO0FBQzlFO0FBQ0EseUJBQXlCLGtFQUFrRTtBQUMzRixtQkFBbUIsK0NBQVE7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Qsa0NBQWtDLCtDQUFRO0FBQzFDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsV0FBVyw4Q0FBTyxVQUFVLFNBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0Is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TCxhQUFhO0FBQ2I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsc0JBQXNCLGtGQUFrRjtBQUN4RztBQUNBLFlBQVksc0NBQXNDO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLHNEQUFHLENBQUMsdURBQVEsSUFBSSxvQkFBb0I7QUFDcEU7QUFDQTtBQUNBLDRCQUE0QixzREFBRyxDQUFDLHVEQUFRLElBQUksb0JBQW9CO0FBQ2hFO0FBQ0EsZUFBZSxzREFBRyxDQUFDLHVEQUFRLElBQUksb0JBQW9CO0FBQ25EO0FBQ0E7O0FBRXdRO0FBQ3hRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL3ZpZGVvLXJlYWN0LWJpbmRpbmdzL2Rpc3QvaW5kZXguZXMuanM/MzQ2YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc3gsIEZyYWdtZW50IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlTWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgaTE4bmV4dCBmcm9tICdpMThuZXh0JztcbmltcG9ydCB7IFJ4VXRpbHMsIENhbGxTdGF0ZSB9IGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tY2xpZW50JztcbmltcG9ydCB7IG9mIH0gZnJvbSAncnhqcyc7XG5cbmNvbnN0IFN0cmVhbUNhbGxDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh1bmRlZmluZWQpO1xuLyoqXG4gKiBBIHByb3ZpZGVyIGZvciB0aGUgY2FsbCBvYmplY3QuXG4gKi9cbmNvbnN0IFN0cmVhbUNhbGxQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2FsbCwgY2hpbGRyZW4gfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFN0cmVhbUNhbGxDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBjYWxsLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcbi8qKlxuICogQSBob29rIHRvIGdldCB0aGUgY2FsbCBvYmplY3QgZnJvbSB0aGUgY2xvc2VzdCBwcm92aWRlci5cbiAqL1xuY29uc3QgdXNlQ2FsbCA9ICgpID0+IHtcbiAgICByZXR1cm4gdXNlQ29udGV4dChTdHJlYW1DYWxsQ29udGV4dCk7XG59O1xuXG5jb25zdCBtYXBUb1JlZ2lzdHJ5ID0gKHRyYW5zbGF0aW9uc01hcCwgbmFtZXNwYWNlKSA9PiBPYmplY3QuZW50cmllcyh0cmFuc2xhdGlvbnNNYXApLnJlZHVjZSgoYWNjLCBbbG5nLCB0cmFuc2xhdGlvbnNdKSA9PiB7XG4gICAgYWNjW2xuZ10gPSB7IFtuYW1lc3BhY2VdOiB0cmFuc2xhdGlvbnMgfTtcbiAgICByZXR1cm4gYWNjO1xufSwge30pO1xuY29uc3QgZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb24gPSAoa2V5KSA9PiBrZXk7XG5jbGFzcyBTdHJlYW1JMThuIHtcbiAgICBjb25zdHJ1Y3Rvcih7IGRlYnVnID0gZmFsc2UsIGN1cnJlbnRMYW5ndWFnZSA9ICdlbicsIGZhbGxiYWNrTGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlcyA9IHsgZW46IHt9IH0sIH0gPSB7fSkge1xuICAgICAgICAvKiogVHJhbnNsYXRvciBmdW5jdGlvbiB0aGF0IGNvbnZlcnRzIHRoZSBwcm92aWRlZCBzdHJpbmcgaW50byBpdHMgZXF1aXZhbGVudCBpbiB0aGUgY3VycmVudCBsYW5ndWFnZS4gKi9cbiAgICAgICAgdGhpcy50ID0gZGVmYXVsdFRyYW5zbGF0aW9uRnVuY3Rpb247XG4gICAgICAgIHRoaXMuaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudCA9IGF3YWl0IHRoaXMuaTE4bkluc3RhbmNlLmluaXQoKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhbmdlTGFuZ3VhZ2UgPSBhc3luYyAobGFuZ3VhZ2UpID0+IHtcbiAgICAgICAgICAgIHRoaXMudCA9IGF3YWl0IHRoaXMuaTE4bkluc3RhbmNlLmNoYW5nZUxhbmd1YWdlKGxhbmd1YWdlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnQ7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG5zID0gJ3N0cmVhbS12aWRlbyc7XG4gICAgICAgIHRoaXMuaTE4bkluc3RhbmNlID0gaTE4bmV4dC5jcmVhdGVJbnN0YW5jZSh7XG4gICAgICAgICAgICBkZWJ1ZyxcbiAgICAgICAgICAgIGRlZmF1bHROUzogbnMsXG4gICAgICAgICAgICBmYWxsYmFja0xuZzogZmFsbGJhY2tMYW5ndWFnZSxcbiAgICAgICAgICAgIGludGVycG9sYXRpb246IHsgZXNjYXBlVmFsdWU6IGZhbHNlIH0sXG4gICAgICAgICAgICBrZXlTZXBhcmF0b3I6IGZhbHNlLFxuICAgICAgICAgICAgbG5nOiBjdXJyZW50TGFuZ3VhZ2UsXG4gICAgICAgICAgICBuc1NlcGFyYXRvcjogZmFsc2UsXG4gICAgICAgICAgICBwYXJzZU1pc3NpbmdLZXlIYW5kbGVyOiBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbixcbiAgICAgICAgICAgIHJlc291cmNlczogbWFwVG9SZWdpc3RyeSh0cmFuc2xhdGlvbnNPdmVycmlkZXMsIG5zKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBjdXJyZW50TGFuZ3VhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmkxOG5JbnN0YW5jZS5sYW5ndWFnZTtcbiAgICB9XG4gICAgZ2V0IGlzSW5pdGlhbGl6ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmkxOG5JbnN0YW5jZS5pc0luaXRpYWxpemVkO1xuICAgIH1cbn1cblxuY29uc3QgU3RyZWFtSTE4bkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KHtcbiAgICB0OiBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbixcbn0pO1xuY29uc3QgU3RyZWFtSTE4blByb3ZpZGVyID0gKHsgY2hpbGRyZW4sIC4uLmNyZWF0ZUkxOG5QYXJhbXMgfSkgPT4ge1xuICAgIGNvbnN0IGFwaSA9IHVzZUNyZWF0ZUkxOG4oY3JlYXRlSTE4blBhcmFtcyk7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtSTE4bkNvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IGFwaSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5jb25zdCB1c2VDcmVhdGVJMThuID0gKHsgaTE4bkluc3RhbmNlLCBsYW5ndWFnZSwgZmFsbGJhY2tMYW5ndWFnZSwgdHJhbnNsYXRpb25zT3ZlcnJpZGVzLCB9KSA9PiB7XG4gICAgY29uc3QgW2kxOG5dID0gdXNlU3RhdGUoKCkgPT4gaTE4bkluc3RhbmNlIHx8XG4gICAgICAgIG5ldyBTdHJlYW1JMThuKHtcbiAgICAgICAgICAgIGN1cnJlbnRMYW5ndWFnZTogbGFuZ3VhZ2UsXG4gICAgICAgICAgICBmYWxsYmFja0xhbmd1YWdlLFxuICAgICAgICAgICAgdHJhbnNsYXRpb25zT3ZlcnJpZGVzLFxuICAgICAgICB9KSk7XG4gICAgY29uc3QgW3QsIHNldFRyYW5zbGF0aW9uRm5dID0gdXNlU3RhdGUoKCkgPT4gaTE4bi50KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWkxOG4uaXNJbml0aWFsaXplZCkge1xuICAgICAgICAgICAgaTE4bi5pbml0KCkudGhlbigoKSA9PiBzZXRUcmFuc2xhdGlvbkZuKCgpID0+IGkxOG4udCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGkxOG4uY3VycmVudExhbmd1YWdlICE9PSBsYW5ndWFnZSkge1xuICAgICAgICAgICAgaTE4bi5jaGFuZ2VMYW5ndWFnZShsYW5ndWFnZSkudGhlbigoKSA9PiBzZXRUcmFuc2xhdGlvbkZuKCgpID0+IGkxOG4udCkpO1xuICAgICAgICB9XG4gICAgfSwgW2kxOG4sIGxhbmd1YWdlXSk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4gKHsgaTE4biwgdCB9KSwgW2kxOG4sIHRdKTtcbn07XG4vKipcbiAqIEEgaG9vayB0byBnZXQgdGhlIGkxOG4gaW5zdGFuY2UgYW5kIHRyYW5zbGF0aW9uIGZ1bmN0aW9uIGZyb20gdGhlIGNsb3Nlc3QgcHJvdmlkZXIuXG4gKlxuICogRXhhbXBsZSB1c2FnZTpcbiAqIGNvbnN0IHsgdCwgaTE4biB9ID0gdXNlSTE4bigpO1xuICogY29uc3QgbWVzc2FnZSA9IHQoJ2hlbGxvX3dvcmxkJyk7XG4gKiBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAqL1xuY29uc3QgdXNlSTE4biA9ICgpID0+IHVzZUNvbnRleHQoU3RyZWFtSTE4bkNvbnRleHQpO1xuXG5jb25zdCBTdHJlYW1WaWRlb0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG4vKipcbiAqIFN0cmVhbVZpZGVvIGlzIGEgcHJvdmlkZXIgY29tcG9uZW50IHdoaWNoIHNob3VsZCBiZSB1c2VkIHRvIHdyYXAgdGhlIGVudGlyZSBhcHBsaWNhdGlvbi5cbiAqIEl0IHByb3ZpZGVzIHRoZSBjbGllbnQgb2JqZWN0IHRvIGFsbCBjaGlsZHJlbiBjb21wb25lbnRzIGFuZCBpbml0aWFsaXplcyB0aGUgaTE4biBpbnN0YW5jZS5cbiAqL1xuY29uc3QgU3RyZWFtVmlkZW9Qcm92aWRlciA9ICh7IGNoaWxkcmVuLCBjbGllbnQsIGkxOG5JbnN0YW5jZSwgbGFuZ3VhZ2UsIHRyYW5zbGF0aW9uc092ZXJyaWRlcywgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFN0cmVhbVZpZGVvQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY2xpZW50LCBjaGlsZHJlbjoganN4KFN0cmVhbUkxOG5Qcm92aWRlciwgeyBpMThuSW5zdGFuY2U6IGkxOG5JbnN0YW5jZSwgbGFuZ3VhZ2U6IGxhbmd1YWdlLCB0cmFuc2xhdGlvbnNPdmVycmlkZXM6IHRyYW5zbGF0aW9uc092ZXJyaWRlcywgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pKTtcbn07XG4vKipcbiAqIEhvb2sgdG8gYWNjZXNzIHRoZSBuZWFyZXN0IFN0cmVhbVZpZGVvIGNsaWVudCBpbnN0YW5jZS5cbiAqL1xuY29uc3QgdXNlU3RyZWFtVmlkZW9DbGllbnQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoU3RyZWFtVmlkZW9Db250ZXh0KTtcbn07XG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgd2UgYXJlIHVzaW5nIFJlYWN0IE5hdGl2ZVxuICovXG5jb25zdCBpc1JlYWN0TmF0aXZlID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBuYXZpZ2F0b3IucHJvZHVjdD8udG9Mb3dlckNhc2UoKSA9PT0gJ3JlYWN0bmF0aXZlJztcbn07XG5cbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIHRoZSBjdXJyZW50IHZhbHVlIG9mIHRoZSBnaXZlbiBvYnNlcnZhYmxlLlxuICpcbiAqIEBwYXJhbSBvYnNlcnZhYmxlJCB0aGUgb2JzZXJ2YWJsZSB0byByZWFkIGRhdGEgZnJvbS5cbiAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgYSBkZWZhdWx0IHZhbHVlLiBVc2VkIHdoZW4gdGhlIG9ic2VydmFibGUgZGF0YSBjYW4ndCBiZSByZWFkIG9yIGVtaXRzIGFuIGVycm9yLlxuICovXG5jb25zdCB1c2VPYnNlcnZhYmxlVmFsdWUgPSAob2JzZXJ2YWJsZSQsIGRlZmF1bHRWYWx1ZSkgPT4ge1xuICAgIGNvbnN0IFt2YWx1ZSwgc2V0VmFsdWVdID0gdXNlU3RhdGUoKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIFJ4VXRpbHMuZ2V0Q3VycmVudFZhbHVlKG9ic2VydmFibGUkKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiBSeFV0aWxzLmNyZWF0ZVN1YnNjcmlwdGlvbihvYnNlcnZhYmxlJCwgc2V0VmFsdWUsIChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdBbiBlcnJvciBvY2N1cnJlZCB3aGlsZSByZWFkaW5nIGFuIG9ic2VydmFibGUnLCBlcnIpO1xuICAgICAgICAgICAgaWYgKGRlZmF1bHRWYWx1ZSlcbiAgICAgICAgICAgICAgICBzZXRWYWx1ZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9LCBbZGVmYXVsdFZhbHVlLCBvYnNlcnZhYmxlJF0pO1xuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbi8vIGtpbmQtb2YgbWVtb2l6ZWQsIHVzZWQgYXMgYSBkZWZhdWx0IHZhbHVlXG5jb25zdCBFTVBUWV9ERVZJQ0VTX0FSUkFZID0gT2JqZWN0LmZyZWV6ZShbXSk7XG4vKipcbiAqIFV0aWxpdHkgaG9vaywgd2hpY2ggcHJvdmlkZXMgdGhlIGN1cnJlbnQgY2FsbCdzIHN0YXRlLlxuICovXG5jb25zdCB1c2VDYWxsU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICAvLyByZXR1cm4gYW4gZW1wdHkgYW5kIHVubGlua2VkIENhbGxTdGF0ZSBvYmplY3QgaWYgdGhlcmUgaXMgbm8gY2FsbCBpbiB0aGUgcHJvdmlkZXJcbiAgICAvLyB0aGlzIGVuc3VyZXMgdGhhdCB0aGUgaG9va3MgYWx3YXlzIHJldHVybiBhIHZhbHVlIGFuZCBtYW55IG51bGwgY2hlY2tzIGNhbiBiZSBhdm9pZGVkXG4gICAgaWYgKCFjYWxsKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAnWW91IGFyZSB1c2luZyB1c2VDYWxsU3RhdGUoKSBvdXRzaWRlIGEgQ2FsbCBjb250ZXh0LiAnICtcbiAgICAgICAgICAgICdQbGVhc2Ugd3JhcCB5b3VyIGNvbXBvbmVudCBpbiA8U3RyZWFtQ2FsbCAvPiBhbmQgcHJvdmlkZSBhIFwiY2FsbFwiIGluc3RhbmNlLic7XG4gICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBDYWxsU3RhdGUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGwuc3RhdGU7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgaW5mb3JtYXRpb24gd2hldGhlciB0aGUgY3VycmVudCBjYWxsIGlzIGJlaW5nIHJlY29yZGVkLiBJdCB3aWxsIHJldHVybiBgdHJ1ZWAgaWYgdGhlIGNhbGwgaXMgYmVpbmcgcmVjb3JkZWQuXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByZWNvcmRpbmckIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHJlY29yZGluZyQpO1xufTtcbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGluZm9ybWF0aW9uIHdoZXRoZXIgdGhlIGN1cnJlbnQgY2FsbCBpcyBicm9hZGNhc3RpbmcuXG4gKi9cbmNvbnN0IHVzZUlzQ2FsbEhMU0Jyb2FkY2FzdGluZ0luUHJvZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBlZ3Jlc3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICBjb25zdCBlZ3Jlc3MgPSB1c2VPYnNlcnZhYmxlVmFsdWUoZWdyZXNzJCk7XG4gICAgaWYgKCFlZ3Jlc3MpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gZWdyZXNzLmJyb2FkY2FzdGluZztcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBpbmZvcm1hdGlvbiB3aGV0aGVyIHRoZSBjdXJyZW50IGNhbGwgaXMgbGl2ZS5cbiAqL1xuY29uc3QgdXNlSXNDYWxsTGl2ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGJhY2tzdGFnZSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIGNvbnN0IGlzQmFja3N0YWdlT24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoYmFja3N0YWdlJCk7XG4gICAgcmV0dXJuICFpc0JhY2tzdGFnZU9uO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgbGlzdCBvZiBibG9ja2VkIHVzZXJzIGluIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmNvbnN0IHVzZUNhbGxCbG9ja2VkVXNlcklkcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGJsb2NrZWRVc2VySWRzJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShibG9ja2VkVXNlcklkcyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHdoZW4gdGhpcyBjYWxsIHdhcyBjcmVhdGVkLlxuICovXG5jb25zdCB1c2VDYWxsQ3JlYXRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY3JlYXRlZEF0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjcmVhdGVkQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIHRpbWVzdGFtcCB3aGVuIHRoaXMgY2FsbCB3YXMgZW5kZWQuXG4gKi9cbmNvbnN0IHVzZUNhbGxFbmRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZW5kZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoZW5kZWRBdCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHRlbGxpbmcgd2hlbiB0aGUgY2FsbCBpcyBzY2hlZHVsZWQgdG8gc3RhcnQuXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGFydHNBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXJ0c0F0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShzdGFydHNBdCQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgdGltZXN0YW1wIHdoZW4gdGhpcyBjYWxsIHdhcyB1cGRhdGVkLlxuICovXG5jb25zdCB1c2VDYWxsVXBkYXRlZEF0ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdXBkYXRlZEF0JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZSh1cGRhdGVkQXQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjYWxsJ3MgY3JlYXRvci5cbiAqL1xuY29uc3QgdXNlQ2FsbENyZWF0ZWRCeSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNyZWF0ZWRCeSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY3JlYXRlZEJ5JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYWxsJ3MgY3VzdG9tIGRhdGEuXG4gKi9cbmNvbnN0IHVzZUNhbGxDdXN0b21EYXRhID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY3VzdG9tJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjdXN0b20kKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbGwncyBFZ3Jlc3MgaW5mb3JtYXRpb24uXG4gKi9cbmNvbnN0IHVzZUNhbGxFZ3Jlc3MgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBlZ3Jlc3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGVncmVzcyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY2FsbCdzIEluZ3Jlc3MgaW5mb3JtYXRpb24uXG4gKi9cbmNvbnN0IHVzZUNhbGxJbmdyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaW5ncmVzcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoaW5ncmVzcyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgZGF0YSBmb3IgdGhlIGN1cnJlbnQgY2FsbCBzZXNzaW9uLlxuICovXG5jb25zdCB1c2VDYWxsU2Vzc2lvbiA9ICgpID0+IHtcbiAgICBjb25zdCB7IHNlc3Npb24kIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHNlc3Npb24kKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGNhbGwncyBzZXR0aW5ncy5cbiAqL1xuY29uc3QgdXNlQ2FsbFNldHRpbmdzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgc2V0dGluZ3MkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHNldHRpbmdzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIGNhbGwgaGFzIHRyYW5zY3JpYmluZyBlbmFibGVkLlxuICovXG5jb25zdCB1c2VJc0NhbGxUcmFuc2NyaWJpbmdJblByb2dyZXNzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdHJhbnNjcmliaW5nJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZSh0cmFuc2NyaWJpbmckKTtcbn07XG4vKipcbiAqIFJldHVybnMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgd2hvIGhhcyBtYXJrZWQgdGhpcyBjYWxsIGFzIGVuZGVkLlxuICovXG5jb25zdCB1c2VDYWxsRW5kZWRCeSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGVuZGVkQnkkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGVuZGVkQnkkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBhIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRoZXJlIGlzXG4gKiBhIHBhcnRpY2lwYW50IGluIHRoZSBjdXJyZW50IGNhbGwgd2hpY2ggc2hhcmVzIHRoZWlyIHNjcmVlbi5cbiAqL1xuY29uc3QgdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgaGFzT25nb2luZ1NjcmVlblNoYXJlJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShoYXNPbmdvaW5nU2NyZWVuU2hhcmUkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyB0aGUgbGF0ZXN0IHN0YXRzIHJlcG9ydCBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIFRoZSBsYXRlc3Qgc3RhdHMgcmVwb3J0IG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKiBXaGVuIHN0YXRzIGdhdGhlcmluZyBpcyBlbmFibGVkLCB0aGlzIG9ic2VydmFibGUgd2lsbCBlbWl0IGEgbmV3IHZhbHVlXG4gKiBhdCBhIHJlZ3VsYXIgKGNvbmZpZ3VyYWJsZSkgaW50ZXJ2YWwuXG4gKlxuICogQ29uc3VtZXJzIG9mIHRoaXMgb2JzZXJ2YWJsZSBjYW4gaW1wbGVtZW50IHRoZWlyIG93biBiYXRjaGluZyBsb2dpY1xuICogaW4gY2FzZSB0aGV5IHdhbnQgdG8gc2hvdyBoaXN0b3JpY2FsIHN0YXRzIGRhdGEuXG4gKi9cbmNvbnN0IHVzZUNhbGxTdGF0c1JlcG9ydCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNhbGxTdGF0c1JlcG9ydCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbFN0YXRzUmVwb3J0JCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgdGhlIGRvbWluYW50IHNwZWFrZXIgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqL1xuY29uc3QgdXNlRG9taW5hbnRTcGVha2VyID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZG9taW5hbnRTcGVha2VyJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShkb21pbmFudFNwZWFrZXIkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayB3aGljaCBwcm92aWRlcyBhIGxpc3Qgb2YgY2FsbCBtZW1iZXJzLlxuICovXG5jb25zdCB1c2VDYWxsTWVtYmVycyA9ICgpID0+IHtcbiAgICBjb25zdCB7IG1lbWJlcnMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKG1lbWJlcnMkKTtcbn07XG4vKipcbiAqIFV0aWxpdHkgaG9vayBwcm92aWRpbmcgdGhlIGN1cnJlbnQgY2FsbGluZyBzdGF0ZSBvZiB0aGUgY2FsbC4gRm9yIGV4YW1wbGUsIGBSSU5HSU5HYCBvciBgSk9JTkVEYC5cbiAqL1xuY29uc3QgdXNlQ2FsbENhbGxpbmdTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNhbGxpbmdTdGF0ZSQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbGluZ1N0YXRlJCk7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgcHJvdmlkaW5nIHRoZSBhY3R1YWwgc3RhcnQgdGltZSBvZiB0aGUgY3VycmVudCBzZXNzaW9uLlxuICogVXNlZnVsIGZvciBjYWxjdWxhdGluZyB0aGUgY2FsbCBkdXJhdGlvbi5cbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXJ0ZWRBdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHN0YXJ0ZWRBdCQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhcnRlZEF0JCk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYXJ0aWNpcGFudHMgdGhhdCBoYXZlIGpvaW5lZCBhbiBhY3RpdmUgY2FsbC5cbiAqXG4gKiBAcGFyYW0gb3B0aW9ucy5zb3J0QnkgLSBBIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gc29ydCB0aGUgcGFydGljaXBhbnRzIGJ5LlxuICogTWFrZSBzdXJlIHRvIG1lbW9pemUgb3V0cHV0IG9mIHRoZSBgY29tYmluZUNvbXBhcmF0b3JzYCBmdW5jdGlvblxuICogKG9yIGtlZXAgaXQgb3V0IG9mIGNvbXBvbmVudCdzIHNjb3BlIGlmIHBvc3NpYmxlKSBiZWZvcmUgcGFzc2luZyBpdCBkb3duIHRvIHRoaXMgcHJvcGVydHkuXG4gKi9cbmNvbnN0IHVzZVBhcnRpY2lwYW50cyA9ICh7IHNvcnRCeSwgfSA9IHt9KSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VPYnNlcnZhYmxlVmFsdWUocGFydGljaXBhbnRzJCk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBpZiAoc29ydEJ5KSB7XG4gICAgICAgICAgICByZXR1cm4gWy4uLnBhcnRpY2lwYW50c10uc29ydChzb3J0QnkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXJ0aWNpcGFudHM7XG4gICAgfSwgW3BhcnRpY2lwYW50cywgc29ydEJ5XSk7XG59O1xuLyoqXG4gKiBBIGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYXJ0aWNpcGFudHMgdGhhdCBoYXZlIGpvaW5lZCBhbiBhY3RpdmUgY2FsbC5cbiAqIFVubGlrZSBgdXNlUGFydGljaXBhbnRzYCwgaXQgcmV0dXJucyBhIG1vcmUgc3RhYmxlIHJlZmVyZW5jZSB0aGF0IGlzIG5vdCBhZmZlY3RlZFxuICogYnkgcGFydGljaXBhbnQgc29ydCBzZXR0aW5ncy5cbiAqXG4gKiBAY2F0ZWdvcnkgQ2FsbCBTdGF0ZVxuICovXG5jb25zdCB1c2VSYXdQYXJ0aWNpcGFudHMgPSAoKSA9PiB7XG4gICAgY29uc3QgeyByYXdQYXJ0aWNpcGFudHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHJhd1BhcnRpY2lwYW50cyQpO1xufTtcbi8qKlxuICogQSBob29rIHdoaWNoIHByb3ZpZGVzIGEgU3RyZWFtVmlkZW9Mb2NhbFBhcnRpY2lwYW50IG9iamVjdC5cbiAqIEl0IHNpZ25hbHMgdGhhdCBJIGhhdmUgam9pbmVkIGEgY2FsbC5cbiAqL1xuY29uc3QgdXNlTG9jYWxQYXJ0aWNpcGFudCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGxvY2FsUGFydGljaXBhbnQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGxvY2FsUGFydGljaXBhbnQkKTtcbn07XG4vKipcbiAqIEEgaG9vayB3aGljaCBwcm92aWRlcyBhIGxpc3Qgb2YgYWxsIG90aGVyIHBhcnRpY2lwYW50cyB0aGFuIG1lIHRoYXQgaGF2ZSBqb2luZWQgYW4gYWN0aXZlIGNhbGwuXG4gKi9cbmNvbnN0IHVzZVJlbW90ZVBhcnRpY2lwYW50cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHJlbW90ZVBhcnRpY2lwYW50cyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUocmVtb3RlUGFydGljaXBhbnRzJCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBhcHByb3hpbWF0ZSBwYXJ0aWNpcGFudCBjb3VudCBvZiB0aGUgYWN0aXZlIGNhbGwuXG4gKiBUaGlzIGluY2x1ZGVzIHRoZSBhbm9ueW1vdXMgdXNlcnMgYXMgd2VsbCwgYW5kIGl0IGlzIGNvbXB1dGVkIG9uIHRoZSBzZXJ2ZXIuXG4gKi9cbmNvbnN0IHVzZVBhcnRpY2lwYW50Q291bnQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudENvdW50JCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShwYXJ0aWNpcGFudENvdW50JCk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBhcHByb3hpbWF0ZSBhbm9ueW1vdXMgcGFydGljaXBhbnQgY291bnQgb2YgdGhlIGFjdGl2ZSBjYWxsLlxuICogVGhlIHJlZ3VsYXIgcGFydGljaXBhbnRzIGFyZSBub3QgaW5jbHVkZWQgaW4gdGhpcyBjb3VudC4gSXQgaXMgY29tcHV0ZWQgb24gdGhlIHNlcnZlci5cbiAqL1xuY29uc3QgdXNlQW5vbnltb3VzUGFydGljaXBhbnRDb3VudCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGFub255bW91c1BhcnRpY2lwYW50Q291bnQkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGFub255bW91c1BhcnRpY2lwYW50Q291bnQkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGdlbmVyYXRlZCB0aHVtYm5haWwgb2YgdGhlIGN1cnJlbnQgY2FsbCwgaWYgZW5hYmxlZCBpbiBzZXR0aW5ncy5cbiAqL1xuY29uc3QgdXNlQ2FsbFRodW1ibmFpbCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHRodW1ibmFpbHMkIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKHRodW1ibmFpbHMkKTtcbn07XG4vKipcbiAqIEEgaG9vayB3aGljaCByZXR1cm5zIHRoZSBsb2NhbCBwYXJ0aWNpcGFudCdzIG93biBjYXBhYmlsaXRpZXMuXG4gKi9cbmNvbnN0IHVzZU93bkNhcGFiaWxpdGllcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IG93bkNhcGFiaWxpdGllcyQgfSA9IHVzZUNhbGxTdGF0ZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUob3duQ2FwYWJpbGl0aWVzJCk7XG59O1xuLyoqXG4gKiBIb29rIHRoYXQgcmV0dXJucyB0cnVlIGlmIHRoZSBsb2NhbCBwYXJ0aWNpcGFudCBoYXMgYWxsIHRoZSBnaXZlbiBwZXJtaXNzaW9ucy5cbiAqXG4gKiBAcGFyYW0gcGVybWlzc2lvbnMgdGhlIHBlcm1pc3Npb25zIHRvIGNoZWNrLlxuICovXG5jb25zdCB1c2VIYXNQZXJtaXNzaW9ucyA9ICguLi5wZXJtaXNzaW9ucykgPT4ge1xuICAgIGNvbnN0IGNhcGFiaWxpdGllcyA9IHVzZU93bkNhcGFiaWxpdGllcygpO1xuICAgIHJldHVybiBwZXJtaXNzaW9ucy5ldmVyeSgocGVybWlzc2lvbikgPT4gY2FwYWJpbGl0aWVzPy5pbmNsdWRlcyhwZXJtaXNzaW9uKSk7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjYW1lcmEgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqL1xuY29uc3QgdXNlQ2FtZXJhU3RhdGUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IGNhbWVyYSB9ID0gY2FsbDtcbiAgICBjb25zdCB7IHN0YXRlIH0gPSBjYW1lcmE7XG4gICAgY29uc3QgZGlyZWN0aW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmRpcmVjdGlvbiQpO1xuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm1lZGlhU3RyZWFtJCk7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc2VsZWN0ZWREZXZpY2UkKTtcbiAgICBjb25zdCB7IGdldERldmljZXMgfSA9IHVzZUxhenlEZXZpY2VMaXN0KGNhbWVyYSk7XG4gICAgY29uc3QgaGFzQnJvd3NlclBlcm1pc3Npb24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuaGFzQnJvd3NlclBlcm1pc3Npb24kKTtcbiAgICBjb25zdCBpc1Byb21wdGluZ1Blcm1pc3Npb24gPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuaXNQcm9tcHRpbmdQZXJtaXNzaW9uJCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FtZXJhLFxuICAgICAgICBkaXJlY3Rpb24sXG4gICAgICAgIG1lZGlhU3RyZWFtLFxuICAgICAgICBnZXQgZGV2aWNlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXREZXZpY2VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGhhc0Jyb3dzZXJQZXJtaXNzaW9uLFxuICAgICAgICBpc1Byb21wdGluZ1Blcm1pc3Npb24sXG4gICAgICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgICAgICAuLi5nZXRDb21wdXRlZFN0YXR1cyh1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc3RhdHVzJCksIHVzZU9ic2VydmFibGVWYWx1ZShzdGF0ZS5vcHRpbWlzdGljU3RhdHVzJCkpLFxuICAgIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBtaWNyb3Bob25lIHN0YXRlIG9mIHRoZSBjdXJyZW50IGNhbGwuXG4gKi9cbmNvbnN0IHVzZU1pY3JvcGhvbmVTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgbWljcm9waG9uZSB9ID0gY2FsbDtcbiAgICBjb25zdCB7IHN0YXRlIH0gPSBtaWNyb3Bob25lO1xuICAgIGNvbnN0IG1lZGlhU3RyZWFtID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLm1lZGlhU3RyZWFtJCk7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUuc2VsZWN0ZWREZXZpY2UkKTtcbiAgICBjb25zdCB7IGdldERldmljZXMgfSA9IHVzZUxhenlEZXZpY2VMaXN0KG1pY3JvcGhvbmUpO1xuICAgIGNvbnN0IGhhc0Jyb3dzZXJQZXJtaXNzaW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmhhc0Jyb3dzZXJQZXJtaXNzaW9uJCk7XG4gICAgY29uc3QgaXNQcm9tcHRpbmdQZXJtaXNzaW9uID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLmlzUHJvbXB0aW5nUGVybWlzc2lvbiQpO1xuICAgIGNvbnN0IGlzU3BlYWtpbmdXaGlsZU11dGVkID0gdXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnNwZWFraW5nV2hpbGVNdXRlZCQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIG1pY3JvcGhvbmUsXG4gICAgICAgIG1lZGlhU3RyZWFtLFxuICAgICAgICBnZXQgZGV2aWNlcygpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXREZXZpY2VzKCk7XG4gICAgICAgIH0sXG4gICAgICAgIHNlbGVjdGVkRGV2aWNlLFxuICAgICAgICBoYXNCcm93c2VyUGVybWlzc2lvbixcbiAgICAgICAgaXNQcm9tcHRpbmdQZXJtaXNzaW9uLFxuICAgICAgICBpc1NwZWFraW5nV2hpbGVNdXRlZCxcbiAgICAgICAgLi4uZ2V0Q29tcHV0ZWRTdGF0dXModXNlT2JzZXJ2YWJsZVZhbHVlKHN0YXRlLnN0YXR1cyQpLCB1c2VPYnNlcnZhYmxlVmFsdWUoc3RhdGUub3B0aW1pc3RpY1N0YXR1cyQpKSxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgc3BlYWtlciBzdGF0ZSBvZiB0aGUgY3VycmVudCBjYWxsLlxuICpcbiAqIE5vdGU6IFRoaXMgaG9vayBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZVxuICovXG5jb25zdCB1c2VTcGVha2VyU3RhdGUgPSAoKSA9PiB7XG4gICAgaWYgKGlzUmVhY3ROYXRpdmUoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoaXMgZmVhdHVyZSBpcyBub3Qgc3VwcG9ydGVkIGluIFJlYWN0IE5hdGl2ZS4gUGxlYXNlIHZpc2l0IGh0dHBzOi8vZ2V0c3RyZWFtLmlvL3ZpZGVvL2RvY3MvcmVhY3RuYXRpdmUvY29yZS9jYW1lcmEtYW5kLW1pY3JvcGhvbmUvI3NwZWFrZXItbWFuYWdlbWVudCBmb3IgbW9yZSBkZXRhaWxzJyk7XG4gICAgfVxuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBzcGVha2VyIH0gPSBjYWxsO1xuICAgIGNvbnN0IHsgZ2V0RGV2aWNlcyB9ID0gdXNlTGF6eURldmljZUxpc3Qoc3BlYWtlcik7XG4gICAgY29uc3Qgc2VsZWN0ZWREZXZpY2UgPSB1c2VPYnNlcnZhYmxlVmFsdWUoc3BlYWtlci5zdGF0ZS5zZWxlY3RlZERldmljZSQpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNwZWFrZXIsXG4gICAgICAgIGdldCBkZXZpY2VzKCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldERldmljZXMoKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIGlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkOiBzcGVha2VyLnN0YXRlLmlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkLFxuICAgIH07XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBTY3JlZW4gU2hhcmUgc3RhdGUgb2YgdGhlIGN1cnJlbnQgY2FsbC5cbiAqL1xuY29uc3QgdXNlU2NyZWVuU2hhcmVTdGF0ZSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgc2NyZWVuU2hhcmUgfSA9IGNhbGw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2NyZWVuU2hhcmUsXG4gICAgICAgIG1lZGlhU3RyZWFtOiB1c2VPYnNlcnZhYmxlVmFsdWUoc2NyZWVuU2hhcmUuc3RhdGUubWVkaWFTdHJlYW0kKSxcbiAgICAgICAgLi4uZ2V0Q29tcHV0ZWRTdGF0dXModXNlT2JzZXJ2YWJsZVZhbHVlKHNjcmVlblNoYXJlLnN0YXRlLnN0YXR1cyQpLCB1c2VPYnNlcnZhYmxlVmFsdWUoc2NyZWVuU2hhcmUuc3RhdGUub3B0aW1pc3RpY1N0YXR1cyQpKSxcbiAgICB9O1xufTtcbi8qKlxuICogUmV0dXJucyBpbmNvbWluZyB2aWRlbyBzZXR0aW5ncyBmb3IgdGhlIGN1cnJlbnQgY2FsbCwgaW5jbHVkaW5nXG4gKiBnbG9iYWwgYW5kIHBlci1wYXJ0aWNpcGFudCBtYW51YWwgdmlkZW8gcXVhbGl0eSBvdmVycmlkZXMuXG4gKi9cbmNvbnN0IHVzZUluY29taW5nVmlkZW9TZXR0aW5ncyA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdXNlT2JzZXJ2YWJsZVZhbHVlKGNhbGwuZHluYXNjYWxlTWFuYWdlci5pbmNvbWluZ1ZpZGVvU2V0dGluZ3MkKTtcbiAgICByZXR1cm4gc2V0dGluZ3M7XG59O1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBjdXJyZW50IGNhbGwncyBjbG9zZWQgY2FwdGlvbnMgcXVldWUuXG4gKi9cbmNvbnN0IHVzZUNhbGxDbG9zZWRDYXB0aW9ucyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNsb3NlZENhcHRpb25zJCB9ID0gdXNlQ2FsbFN0YXRlKCk7XG4gICAgcmV0dXJuIHVzZU9ic2VydmFibGVWYWx1ZShjbG9zZWRDYXB0aW9ucyQpO1xufTtcbi8qKlxuICogUmV0dXJucyB0aGUgY3VycmVudCBjYWxsJ3MgY2xvc2VkIGNhcHRpb25zIHF1ZXVlLlxuICovXG5jb25zdCB1c2VJc0NhbGxDYXB0aW9uaW5nSW5Qcm9ncmVzcyA9ICgpID0+IHtcbiAgICBjb25zdCB7IGNhcHRpb25pbmckIH0gPSB1c2VDYWxsU3RhdGUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNhcHRpb25pbmckKTtcbn07XG5mdW5jdGlvbiBnZXRDb21wdXRlZFN0YXR1cyhzdGF0dXMsIHBlbmRpbmdTdGF0dXMpIHtcbiAgICBjb25zdCBvcHRpbWlzdGljU3RhdHVzID0gcGVuZGluZ1N0YXR1cyA/PyBzdGF0dXM7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICBvcHRpbWlzdGljU3RhdHVzLFxuICAgICAgICBpc0VuYWJsZWQ6IHN0YXR1cyA9PT0gJ2VuYWJsZWQnLFxuICAgICAgICBpc011dGU6IHN0YXR1cyAhPT0gJ2VuYWJsZWQnLFxuICAgICAgICBvcHRpbWlzdGljSXNNdXRlOiBvcHRpbWlzdGljU3RhdHVzICE9PSAnZW5hYmxlZCcsXG4gICAgICAgIGlzVG9nZ2xlUGVuZGluZzogb3B0aW1pc3RpY1N0YXR1cyAhPT0gc3RhdHVzLFxuICAgIH07XG59XG5mdW5jdGlvbiB1c2VMYXp5RGV2aWNlTGlzdChtYW5hZ2VyKSB7XG4gICAgY29uc3QgcGxhY2Vob2xkZXJEZXZpY2VzJCA9IHVzZU1lbW8oKCkgPT4gb2YoRU1QVFlfREVWSUNFU19BUlJBWSksIFtdKTtcbiAgICBjb25zdCBbZGV2aWNlcyQsIHNldERldmljZXMkXSA9IHVzZVN0YXRlKHBsYWNlaG9sZGVyRGV2aWNlcyQpO1xuICAgIGNvbnN0IGRldmljZXMgPSB1c2VPYnNlcnZhYmxlVmFsdWUoZGV2aWNlcyQsIEVNUFRZX0RFVklDRVNfQVJSQVkpO1xuICAgIGNvbnN0IGdldERldmljZXMgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkZXZpY2VzJCA9PT0gcGxhY2Vob2xkZXJEZXZpY2VzJCkge1xuICAgICAgICAgICAgc2V0RGV2aWNlcyQobWFuYWdlci5saXN0RGV2aWNlcygpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGV2aWNlcztcbiAgICB9O1xuICAgIHJldHVybiB7IGdldERldmljZXMgfTtcbn1cblxudmFyIENhbGxTdGF0ZUhvb2tzID0gLyojX19QVVJFX18qL09iamVjdC5mcmVlemUoe1xuICAgIF9fcHJvdG9fXzogbnVsbCxcbiAgICB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50OiB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50LFxuICAgIHVzZUNhbGxCbG9ja2VkVXNlcklkczogdXNlQ2FsbEJsb2NrZWRVc2VySWRzLFxuICAgIHVzZUNhbGxDYWxsaW5nU3RhdGU6IHVzZUNhbGxDYWxsaW5nU3RhdGUsXG4gICAgdXNlQ2FsbENsb3NlZENhcHRpb25zOiB1c2VDYWxsQ2xvc2VkQ2FwdGlvbnMsXG4gICAgdXNlQ2FsbENyZWF0ZWRBdDogdXNlQ2FsbENyZWF0ZWRBdCxcbiAgICB1c2VDYWxsQ3JlYXRlZEJ5OiB1c2VDYWxsQ3JlYXRlZEJ5LFxuICAgIHVzZUNhbGxDdXN0b21EYXRhOiB1c2VDYWxsQ3VzdG9tRGF0YSxcbiAgICB1c2VDYWxsRWdyZXNzOiB1c2VDYWxsRWdyZXNzLFxuICAgIHVzZUNhbGxFbmRlZEF0OiB1c2VDYWxsRW5kZWRBdCxcbiAgICB1c2VDYWxsRW5kZWRCeTogdXNlQ2FsbEVuZGVkQnksXG4gICAgdXNlQ2FsbEluZ3Jlc3M6IHVzZUNhbGxJbmdyZXNzLFxuICAgIHVzZUNhbGxNZW1iZXJzOiB1c2VDYWxsTWVtYmVycyxcbiAgICB1c2VDYWxsU2Vzc2lvbjogdXNlQ2FsbFNlc3Npb24sXG4gICAgdXNlQ2FsbFNldHRpbmdzOiB1c2VDYWxsU2V0dGluZ3MsXG4gICAgdXNlQ2FsbFN0YXJ0ZWRBdDogdXNlQ2FsbFN0YXJ0ZWRBdCxcbiAgICB1c2VDYWxsU3RhcnRzQXQ6IHVzZUNhbGxTdGFydHNBdCxcbiAgICB1c2VDYWxsU3RhdGU6IHVzZUNhbGxTdGF0ZSxcbiAgICB1c2VDYWxsU3RhdHNSZXBvcnQ6IHVzZUNhbGxTdGF0c1JlcG9ydCxcbiAgICB1c2VDYWxsVGh1bWJuYWlsOiB1c2VDYWxsVGh1bWJuYWlsLFxuICAgIHVzZUNhbGxVcGRhdGVkQXQ6IHVzZUNhbGxVcGRhdGVkQXQsXG4gICAgdXNlQ2FtZXJhU3RhdGU6IHVzZUNhbWVyYVN0YXRlLFxuICAgIHVzZURvbWluYW50U3BlYWtlcjogdXNlRG9taW5hbnRTcGVha2VyLFxuICAgIHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZTogdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlLFxuICAgIHVzZUhhc1Blcm1pc3Npb25zOiB1c2VIYXNQZXJtaXNzaW9ucyxcbiAgICB1c2VJbmNvbWluZ1ZpZGVvU2V0dGluZ3M6IHVzZUluY29taW5nVmlkZW9TZXR0aW5ncyxcbiAgICB1c2VJc0NhbGxDYXB0aW9uaW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsQ2FwdGlvbmluZ0luUHJvZ3Jlc3MsXG4gICAgdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsSExTQnJvYWRjYXN0aW5nSW5Qcm9ncmVzcyxcbiAgICB1c2VJc0NhbGxMaXZlOiB1c2VJc0NhbGxMaXZlLFxuICAgIHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3M6IHVzZUlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MsXG4gICAgdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzczogdXNlSXNDYWxsVHJhbnNjcmliaW5nSW5Qcm9ncmVzcyxcbiAgICB1c2VMb2NhbFBhcnRpY2lwYW50OiB1c2VMb2NhbFBhcnRpY2lwYW50LFxuICAgIHVzZU1pY3JvcGhvbmVTdGF0ZTogdXNlTWljcm9waG9uZVN0YXRlLFxuICAgIHVzZU93bkNhcGFiaWxpdGllczogdXNlT3duQ2FwYWJpbGl0aWVzLFxuICAgIHVzZVBhcnRpY2lwYW50Q291bnQ6IHVzZVBhcnRpY2lwYW50Q291bnQsXG4gICAgdXNlUGFydGljaXBhbnRzOiB1c2VQYXJ0aWNpcGFudHMsXG4gICAgdXNlUmF3UGFydGljaXBhbnRzOiB1c2VSYXdQYXJ0aWNpcGFudHMsXG4gICAgdXNlUmVtb3RlUGFydGljaXBhbnRzOiB1c2VSZW1vdGVQYXJ0aWNpcGFudHMsXG4gICAgdXNlU2NyZWVuU2hhcmVTdGF0ZTogdXNlU2NyZWVuU2hhcmVTdGF0ZSxcbiAgICB1c2VTcGVha2VyU3RhdGU6IHVzZVNwZWFrZXJTdGF0ZVxufSk7XG5cbi8qKlxuICogVXRpbGl0eSBob29rIHdoaWNoIHByb3ZpZGVzIGFjY2VzcyB0byBjbGllbnQncyBzdGF0ZSBzdG9yZS5cbiAqL1xuY29uc3QgdXNlU3RvcmUgPSAoKSA9PiB7XG4gICAgY29uc3QgY2xpZW50ID0gdXNlU3RyZWFtVmlkZW9DbGllbnQoKTtcbiAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFN0cmVhbVZpZGVvQ2xpZW50IGlzbid0IGluaXRpYWxpemVkIG9yIHRoaXMgaG9vayBpcyBjYWxsZWQgb3V0c2lkZSBvZiA8U3RyZWFtVmlkZW8+IGNvbnRleHQuYCk7XG4gICAgfVxuICAgIHJldHVybiBjbGllbnQuc3RhdGU7XG59O1xuLyoqXG4gKiBVdGlsaXR5IGhvb2sgd2hpY2ggcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBub3RpZmljYXRpb25zIGFib3V0IGNyZWF0ZWQgY2FsbHMuXG4gKiBJbiB0aGUgcmluZyBjYWxsIHNldHRpbmdzLCB0aGVzZSBjYWxscyBjYW4gYmUgb3V0Z29pbmcgKEkgaGF2ZSBjYWxsZWQgc29tZWJvZHkpXG4gKiBvciBpbmNvbWluZyAoc29tZWJvZHkgaGFzIGNhbGxlZCBtZSkuXG4gKi9cbmNvbnN0IHVzZUNhbGxzID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY2FsbHMkIH0gPSB1c2VTdG9yZSgpO1xuICAgIHJldHVybiB1c2VPYnNlcnZhYmxlVmFsdWUoY2FsbHMkKTtcbn07XG4vKipcbiAqIFJldHVybnMgdGhlIGN1cnJlbnQgY29ubmVjdGVkIHVzZXIuXG4gKi9cbmNvbnN0IHVzZUNvbm5lY3RlZFVzZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjb25uZWN0ZWRVc2VyJCB9ID0gdXNlU3RvcmUoKTtcbiAgICByZXR1cm4gdXNlT2JzZXJ2YWJsZVZhbHVlKGNvbm5lY3RlZFVzZXIkKTtcbn07XG5cbi8qKlxuICogQ3VzdG9tIGhvb2sgZm9yIHRvZ2dsaW5nIGNhbGwgcmVjb3JkaW5nIGluIGEgdmlkZW8gY2FsbC5cbiAqXG4gKiBUaGlzIGhvb2sgcHJvdmlkZXMgZnVuY3Rpb25hbGl0eSB0byBzdGFydCBhbmQgc3RvcCBjYWxsIHJlY29yZGluZyxcbiAqIGFsb25nIHdpdGggc3RhdGUgbWFuYWdlbWVudCBmb3IgdHJhY2tpbmcgdGhlIHJlY29yZGluZyBzdGF0dXNcbiAqIGFuZCB0aGUgbG9hZGluZyBpbmRpY2F0b3Igd2hpbGUgYXdhaXRpbmcgYSByZXNwb25zZS5cbiAqL1xuY29uc3QgdXNlVG9nZ2xlQ2FsbFJlY29yZGluZyA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPSB1c2VJc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKCk7XG4gICAgY29uc3QgW2lzQXdhaXRpbmdSZXNwb25zZSwgc2V0SXNBd2FpdGluZ1Jlc3BvbnNlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICAvLyBUT0RPOiBhZGQgcGVybWlzc2lvbnNcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyB3ZSB3YWl0IHVudGlsIGNhbGwucmVjb3JkaW5nX3N0YXJ0ZWQvc3RvcHBlZCBldmVudCB0byBmbGlwcyB0aGVcbiAgICAgICAgLy8gYGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NgIHN0YXRlIHZhcmlhYmxlLlxuICAgICAgICAvLyBPbmNlIHRoZSBmbGlwIGhhcHBlbnMsIHdlIHJlbW92ZSB0aGUgbG9hZGluZyBpbmRpY2F0b3JcbiAgICAgICAgc2V0SXNBd2FpdGluZ1Jlc3BvbnNlKChpc0F3YWl0aW5nKSA9PiB7XG4gICAgICAgICAgICBpZiAoaXNBd2FpdGluZylcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gaXNBd2FpdGluZztcbiAgICAgICAgfSk7XG4gICAgfSwgW2lzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NdKTtcbiAgICBjb25zdCB0b2dnbGVDYWxsUmVjb3JkaW5nID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0SXNBd2FpdGluZ1Jlc3BvbnNlKHRydWUpO1xuICAgICAgICAgICAgaWYgKGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5zdG9wUmVjb3JkaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBjYWxsPy5zdGFydFJlY29yZGluZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgc3RhcnQgcmVjb3JkaW5nYCwgZSk7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgfSwgW2NhbGwsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3NdKTtcbiAgICByZXR1cm4geyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgfTtcbn07XG5cbi8qKlxuICogQSBob29rLWFsaWtlIGZ1bmN0aW9uIHRoYXQgZXhwb3NlcyBhbGwgY2FsbCBzdGF0ZSBob29rcy5cbiAqL1xuY29uc3QgdXNlQ2FsbFN0YXRlSG9va3MgPSAoKSA9PiBDYWxsU3RhdGVIb29rcztcblxuY29uc3QgUmVzdHJpY3RlZCA9ICh7IGNhblJlcXVlc3RPbmx5LCBoYXNQZXJtaXNzaW9uc09ubHksIHJlcXVpcmVkR3JhbnRzLCByZXF1aXJlQWxsID0gdHJ1ZSwgY2hpbGRyZW4sIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlQ2FsbFNldHRpbmdzLCB1c2VPd25DYXBhYmlsaXRpZXMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3Qgb3duQ2FwYWJpbGl0aWVzID0gdXNlT3duQ2FwYWJpbGl0aWVzKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9ucyA9IHJlcXVpcmVkR3JhbnRzW3JlcXVpcmVBbGwgPyAnZXZlcnknIDogJ3NvbWUnXSgoY2FwYWJpbGl0eSkgPT4gb3duQ2FwYWJpbGl0aWVzPy5pbmNsdWRlcyhjYXBhYmlsaXR5KSk7XG4gICAgaWYgKGhhc1Blcm1pc3Npb25zT25seSlcbiAgICAgICAgcmV0dXJuIGhhc1Blcm1pc3Npb25zID8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KSA6IG51bGw7XG4gICAgY29uc3QgY2FuUmVxdWVzdCA9IHJlcXVpcmVkR3JhbnRzLnNvbWUoKGNhcGFiaWxpdHkpID0+IGNhbGw/LnBlcm1pc3Npb25zQ29udGV4dC5jYW5SZXF1ZXN0KGNhcGFiaWxpdHksIHNldHRpbmdzKSk7XG4gICAgaWYgKGNhblJlcXVlc3RPbmx5KVxuICAgICAgICByZXR1cm4gY2FuUmVxdWVzdCA/IGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogY2hpbGRyZW4gfSkgOiBudWxsO1xuICAgIGlmIChoYXNQZXJtaXNzaW9ucyB8fCBjYW5SZXF1ZXN0KVxuICAgICAgICByZXR1cm4ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBjaGlsZHJlbiB9KTtcbiAgICByZXR1cm4gbnVsbDtcbn07XG5cbmV4cG9ydCB7IFJlc3RyaWN0ZWQsIFN0cmVhbUNhbGxQcm92aWRlciwgU3RyZWFtSTE4biwgU3RyZWFtSTE4blByb3ZpZGVyLCBTdHJlYW1WaWRlb1Byb3ZpZGVyLCBkZWZhdWx0VHJhbnNsYXRpb25GdW5jdGlvbiwgdXNlQ2FsbCwgdXNlQ2FsbFN0YXRlSG9va3MsIHVzZUNhbGxzLCB1c2VDb25uZWN0ZWRVc2VyLCB1c2VJMThuLCB1c2VPYnNlcnZhYmxlVmFsdWUsIHVzZVN0b3JlLCB1c2VTdHJlYW1WaWRlb0NsaWVudCwgdXNlVG9nZ2xlQ2FsbFJlY29yZGluZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js":
/*!******************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/index.es.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AcceptCallButton: () => (/* binding */ AcceptCallButton),\n/* harmony export */   Audio: () => (/* binding */ Audio),\n/* harmony export */   AudioSettingsRequestDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsRequestDefaultDeviceEnum),\n/* harmony export */   AudioSettingsResponseDefaultDeviceEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AudioSettingsResponseDefaultDeviceEnum),\n/* harmony export */   Avatar: () => (/* binding */ Avatar),\n/* harmony export */   AvatarFallback: () => (/* binding */ AvatarFallback),\n/* harmony export */   AxiosError: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.AxiosError),\n/* harmony export */   BackgroundFiltersProvider: () => (/* binding */ BackgroundFiltersProvider),\n/* harmony export */   BackstageLayout: () => (/* binding */ BackstageLayout),\n/* harmony export */   BaseVideo: () => (/* binding */ BaseVideo),\n/* harmony export */   Browsers: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers),\n/* harmony export */   Call: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Call),\n/* harmony export */   CallControls: () => (/* binding */ CallControls),\n/* harmony export */   CallParticipantListing: () => (/* binding */ CallParticipantListing),\n/* harmony export */   CallParticipantListingItem: () => (/* binding */ CallParticipantListingItem),\n/* harmony export */   CallParticipantsList: () => (/* binding */ CallParticipantsList),\n/* harmony export */   CallPreview: () => (/* binding */ CallPreview),\n/* harmony export */   CallRecordingList: () => (/* binding */ CallRecordingList),\n/* harmony export */   CallRecordingListHeader: () => (/* binding */ CallRecordingListHeader),\n/* harmony export */   CallRecordingListItem: () => (/* binding */ CallRecordingListItem),\n/* harmony export */   CallState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallState),\n/* harmony export */   CallStats: () => (/* binding */ CallStats),\n/* harmony export */   CallStatsButton: () => (/* binding */ CallStatsButton),\n/* harmony export */   CallType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallType),\n/* harmony export */   CallTypes: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes),\n/* harmony export */   CallingState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState),\n/* harmony export */   CameraManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManager),\n/* harmony export */   CameraManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CameraManagerState),\n/* harmony export */   CancelCallButton: () => (/* binding */ CancelCallButton),\n/* harmony export */   CancelCallConfirmButton: () => (/* binding */ CancelCallConfirmButton),\n/* harmony export */   CompositeButton: () => (/* binding */ CompositeButton),\n/* harmony export */   CreateDeviceRequestPushProviderEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CreateDeviceRequestPushProviderEnum),\n/* harmony export */   DebounceType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DebounceType),\n/* harmony export */   DefaultParticipantViewUI: () => (/* binding */ DefaultParticipantViewUI),\n/* harmony export */   DefaultReactionsMenu: () => (/* binding */ DefaultReactionsMenu),\n/* harmony export */   DefaultScreenShareOverlay: () => (/* binding */ DefaultScreenShareOverlay),\n/* harmony export */   DefaultVideoPlaceholder: () => (/* binding */ DefaultVideoPlaceholder),\n/* harmony export */   DeviceSelector: () => (/* binding */ DeviceSelector),\n/* harmony export */   DeviceSelectorAudioInput: () => (/* binding */ DeviceSelectorAudioInput),\n/* harmony export */   DeviceSelectorAudioOutput: () => (/* binding */ DeviceSelectorAudioOutput),\n/* harmony export */   DeviceSelectorVideo: () => (/* binding */ DeviceSelectorVideo),\n/* harmony export */   DeviceSettings: () => (/* binding */ DeviceSettings),\n/* harmony export */   DropDownSelect: () => (/* binding */ DropDownSelect),\n/* harmony export */   DropDownSelectOption: () => (/* binding */ DropDownSelectOption),\n/* harmony export */   DynascaleManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.DynascaleManager),\n/* harmony export */   EmptyCallRecordingListing: () => (/* binding */ EmptyCallRecordingListing),\n/* harmony export */   ErrorFromResponse: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ErrorFromResponse),\n/* harmony export */   FrameRecordingSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.FrameRecordingSettingsRequestModeEnum),\n/* harmony export */   FrameRecordingSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.FrameRecordingSettingsRequestQualityEnum),\n/* harmony export */   FrameRecordingSettingsResponseModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.FrameRecordingSettingsResponseModeEnum),\n/* harmony export */   GenericMenu: () => (/* binding */ GenericMenu),\n/* harmony export */   GenericMenuButtonItem: () => (/* binding */ GenericMenuButtonItem),\n/* harmony export */   Icon: () => (/* binding */ Icon),\n/* harmony export */   IconButton: () => (/* binding */ IconButton),\n/* harmony export */   InputMediaDeviceManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManager),\n/* harmony export */   InputMediaDeviceManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.InputMediaDeviceManagerState),\n/* harmony export */   LayoutSettingsRequestNameEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.LayoutSettingsRequestNameEnum),\n/* harmony export */   LivestreamLayout: () => (/* binding */ LivestreamLayout),\n/* harmony export */   LivestreamPlayer: () => (/* binding */ LivestreamPlayer),\n/* harmony export */   LoadingCallRecordingListing: () => (/* binding */ LoadingCallRecordingListing),\n/* harmony export */   LoadingIndicator: () => (/* binding */ LoadingIndicator),\n/* harmony export */   MenuToggle: () => (/* binding */ MenuToggle),\n/* harmony export */   MenuVisualType: () => (/* binding */ MenuVisualType),\n/* harmony export */   MicrophoneManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManager),\n/* harmony export */   MicrophoneManagerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.MicrophoneManagerState),\n/* harmony export */   NoiseCancellationProvider: () => (/* binding */ NoiseCancellationProvider),\n/* harmony export */   NoiseCancellationSettingsModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum),\n/* harmony export */   Notification: () => (/* binding */ Notification),\n/* harmony export */   OwnCapability: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability),\n/* harmony export */   PaginatedGridLayout: () => (/* binding */ PaginatedGridLayout),\n/* harmony export */   ParticipantActionsContextMenu: () => (/* binding */ ParticipantActionsContextMenu),\n/* harmony export */   ParticipantDetails: () => (/* binding */ ParticipantDetails),\n/* harmony export */   ParticipantView: () => (/* binding */ ParticipantView),\n/* harmony export */   ParticipantViewContext: () => (/* binding */ ParticipantViewContext),\n/* harmony export */   ParticipantsAudio: () => (/* binding */ ParticipantsAudio),\n/* harmony export */   PermissionNotification: () => (/* binding */ PermissionNotification),\n/* harmony export */   PermissionRequestList: () => (/* binding */ PermissionRequestList),\n/* harmony export */   PermissionRequests: () => (/* binding */ PermissionRequests),\n/* harmony export */   PipLayout: () => (/* binding */ PipLayout),\n/* harmony export */   RTMPBroadcastRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RTMPBroadcastRequestQualityEnum),\n/* harmony export */   RTMPSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RTMPSettingsRequestQualityEnum),\n/* harmony export */   ReactionsButton: () => (/* binding */ ReactionsButton),\n/* harmony export */   RecordCallButton: () => (/* binding */ RecordCallButton),\n/* harmony export */   RecordCallConfirmationButton: () => (/* binding */ RecordCallConfirmationButton),\n/* harmony export */   RecordSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestModeEnum),\n/* harmony export */   RecordSettingsRequestQualityEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RecordSettingsRequestQualityEnum),\n/* harmony export */   RecordingInProgressNotification: () => (/* binding */ RecordingInProgressNotification),\n/* harmony export */   Restricted: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted),\n/* harmony export */   RingingCall: () => (/* binding */ RingingCall),\n/* harmony export */   RingingCallControls: () => (/* binding */ RingingCallControls),\n/* harmony export */   RxUtils: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.RxUtils),\n/* harmony export */   ScreenShareButton: () => (/* binding */ ScreenShareButton),\n/* harmony export */   ScreenShareManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareManager),\n/* harmony export */   ScreenShareState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ScreenShareState),\n/* harmony export */   SearchInput: () => (/* binding */ SearchInput),\n/* harmony export */   SearchResults: () => (/* binding */ SearchResults),\n/* harmony export */   SfuEvents: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuEvents),\n/* harmony export */   SfuModels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels),\n/* harmony export */   SpeakerLayout: () => (/* binding */ SpeakerLayout),\n/* harmony export */   SpeakerManager: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerManager),\n/* harmony export */   SpeakerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SpeakerState),\n/* harmony export */   SpeakingWhileMutedNotification: () => (/* binding */ SpeakingWhileMutedNotification),\n/* harmony export */   SpeechIndicator: () => (/* binding */ SpeechIndicator),\n/* harmony export */   StartClosedCaptionsRequestLanguageEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StartClosedCaptionsRequestLanguageEnum),\n/* harmony export */   StartTranscriptionRequestLanguageEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StartTranscriptionRequestLanguageEnum),\n/* harmony export */   StatCard: () => (/* binding */ StatCard),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamCallProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider),\n/* harmony export */   StreamI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18n),\n/* harmony export */   StreamI18nProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamI18nProvider),\n/* harmony export */   StreamSfuClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamSfuClient),\n/* harmony export */   StreamTheme: () => (/* binding */ StreamTheme),\n/* harmony export */   StreamVideo: () => (/* binding */ StreamVideo),\n/* harmony export */   StreamVideoClient: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoClient),\n/* harmony export */   StreamVideoProvider: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider),\n/* harmony export */   StreamVideoReadOnlyStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoReadOnlyStateStore),\n/* harmony export */   StreamVideoWriteableStateStore: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.StreamVideoWriteableStateStore),\n/* harmony export */   TextButton: () => (/* binding */ TextButton),\n/* harmony export */   ToggleAudioOutputButton: () => (/* binding */ ToggleAudioOutputButton),\n/* harmony export */   ToggleAudioPreviewButton: () => (/* binding */ ToggleAudioPreviewButton),\n/* harmony export */   ToggleAudioPublishingButton: () => (/* binding */ ToggleAudioPublishingButton),\n/* harmony export */   ToggleVideoPreviewButton: () => (/* binding */ ToggleVideoPreviewButton),\n/* harmony export */   ToggleVideoPublishingButton: () => (/* binding */ ToggleVideoPublishingButton),\n/* harmony export */   Tooltip: () => (/* binding */ Tooltip),\n/* harmony export */   TranscriptionSettingsRequestClosedCaptionModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsRequestLanguageEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestLanguageEnum),\n/* harmony export */   TranscriptionSettingsRequestModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsRequestModeEnum),\n/* harmony export */   TranscriptionSettingsResponseClosedCaptionModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseClosedCaptionModeEnum),\n/* harmony export */   TranscriptionSettingsResponseLanguageEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseLanguageEnum),\n/* harmony export */   TranscriptionSettingsResponseModeEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.TranscriptionSettingsResponseModeEnum),\n/* harmony export */   Video: () => (/* binding */ Video$1),\n/* harmony export */   VideoPreview: () => (/* binding */ VideoPreview),\n/* harmony export */   VideoSettingsRequestCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsRequestCameraFacingEnum),\n/* harmony export */   VideoSettingsResponseCameraFacingEnum: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VideoSettingsResponseCameraFacingEnum),\n/* harmony export */   ViewportTracker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.ViewportTracker),\n/* harmony export */   VisibilityState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState),\n/* harmony export */   WithTooltip: () => (/* binding */ WithTooltip),\n/* harmony export */   checkIfAudioOutputChangeSupported: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.checkIfAudioOutputChangeSupported),\n/* harmony export */   combineComparators: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators),\n/* harmony export */   conditional: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.conditional),\n/* harmony export */   createSoundDetector: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.createSoundDetector),\n/* harmony export */   defaultReactions: () => (/* binding */ defaultReactions),\n/* harmony export */   defaultSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset),\n/* harmony export */   defaultTranslationFunction: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.defaultTranslationFunction),\n/* harmony export */   descending: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.descending),\n/* harmony export */   deviceIds$: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.deviceIds$),\n/* harmony export */   disposeOfMediaStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream),\n/* harmony export */   dominantSpeaker: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.dominantSpeaker),\n/* harmony export */   getAudioBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioBrowserPermission),\n/* harmony export */   getAudioDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioDevices),\n/* harmony export */   getAudioOutputDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioOutputDevices),\n/* harmony export */   getAudioStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getAudioStream),\n/* harmony export */   getClientDetails: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getClientDetails),\n/* harmony export */   getDeviceState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getDeviceState),\n/* harmony export */   getLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogLevel),\n/* harmony export */   getLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger),\n/* harmony export */   getScreenShareStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getScreenShareStream),\n/* harmony export */   getSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getSdkInfo),\n/* harmony export */   getVideoBrowserPermission: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoBrowserPermission),\n/* harmony export */   getVideoDevices: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoDevices),\n/* harmony export */   getVideoStream: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getVideoStream),\n/* harmony export */   getWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getWebRTCInfo),\n/* harmony export */   hasAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio),\n/* harmony export */   hasScreenShare: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare),\n/* harmony export */   hasScreenShareAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio),\n/* harmony export */   hasVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo),\n/* harmony export */   isPinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned),\n/* harmony export */   livestreamOrAudioRoomSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.livestreamOrAudioRoomSortPreset),\n/* harmony export */   logLevels: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logLevels),\n/* harmony export */   logToConsole: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.logToConsole),\n/* harmony export */   name: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name),\n/* harmony export */   noopComparator: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.noopComparator),\n/* harmony export */   paginatedLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset),\n/* harmony export */   pinned: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.pinned),\n/* harmony export */   publishingAudio: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingAudio),\n/* harmony export */   publishingVideo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.publishingVideo),\n/* harmony export */   reactionType: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.reactionType),\n/* harmony export */   role: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.role),\n/* harmony export */   screenSharing: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing),\n/* harmony export */   setDeviceInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setDeviceInfo),\n/* harmony export */   setLogLevel: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogLevel),\n/* harmony export */   setLogger: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setLogger),\n/* harmony export */   setOSInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setOSInfo),\n/* harmony export */   setPowerState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setPowerState),\n/* harmony export */   setSdkInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo),\n/* harmony export */   setThermalState: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setThermalState),\n/* harmony export */   setWebRTCInfo: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setWebRTCInfo),\n/* harmony export */   speakerLayoutSortPreset: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset),\n/* harmony export */   speaking: () => (/* reexport safe */ _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speaking),\n/* harmony export */   translations: () => (/* binding */ translations),\n/* harmony export */   useBackgroundFilters: () => (/* binding */ useBackgroundFilters),\n/* harmony export */   useCall: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall),\n/* harmony export */   useCallStateHooks: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks),\n/* harmony export */   useCalls: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCalls),\n/* harmony export */   useConnectedUser: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser),\n/* harmony export */   useDeviceList: () => (/* binding */ useDeviceList),\n/* harmony export */   useFilteredParticipants: () => (/* binding */ useFilteredParticipants),\n/* harmony export */   useHorizontalScrollPosition: () => (/* binding */ useHorizontalScrollPosition),\n/* harmony export */   useI18n: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n),\n/* harmony export */   useMenuContext: () => (/* binding */ useMenuContext),\n/* harmony export */   useNoiseCancellation: () => (/* binding */ useNoiseCancellation),\n/* harmony export */   useObservableValue: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useObservableValue),\n/* harmony export */   useParticipantViewContext: () => (/* binding */ useParticipantViewContext),\n/* harmony export */   usePersistedDevicePreferences: () => (/* binding */ usePersistedDevicePreferences),\n/* harmony export */   useRequestPermission: () => (/* binding */ useRequestPermission),\n/* harmony export */   useStore: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStore),\n/* harmony export */   useStreamVideoClient: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient),\n/* harmony export */   useToggleCallRecording: () => (/* reexport safe */ _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording),\n/* harmony export */   useTrackElementVisibility: () => (/* binding */ useTrackElementVisibility),\n/* harmony export */   useVerticalScrollPosition: () => (/* binding */ useVerticalScrollPosition)\n/* harmony export */ });\n/* harmony import */ var _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @stream-io/video-client */ \"(ssr)/./node_modules/@stream-io/video-client/dist/index.es.js\");\n/* harmony import */ var _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @stream-io/video-react-bindings */ \"(ssr)/./node_modules/@stream-io/video-react-bindings/dist/index.es.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react/dist/floating-ui.react.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @floating-ui/react */ \"(ssr)/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var clsx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! clsx */ \"(ssr)/./node_modules/clsx/dist/clsx.mjs\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @stream-io/video-filters-web */ \"(ssr)/./node_modules/@stream-io/video-filters-web/dist/index.es.js\");\n\n\n\n\n\n\n\n\n\n\n\nconst Audio = ({ participant, trackType = 'audioTrack', ...rest }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [audioElement, setAudioElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const { userId, sessionId } = participant;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !audioElement)\n            return;\n        const cleanup = call.bindAudioElement(audioElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, sessionId, audioElement, trackType]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"audio\", { autoPlay: true, ...rest, ref: setAudioElement, \"data-user-id\": userId, \"data-session-id\": sessionId, \"data-track-type\": trackType }));\n};\nAudio.displayName = 'Audio';\n\nconst ParticipantsAudio = (props) => {\n    const { participants, audioProps } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: participants.map((participant) => {\n            if (participant.isLocalParticipant)\n                return null;\n            const { audioStream, screenShareAudioStream, sessionId } = participant;\n            const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n            const audioTrackElement = hasAudioTrack && audioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"audioTrack\", participant: participant }));\n            const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n            const screenShareAudioTrackElement = hasScreenShareAudioTrack &&\n                screenShareAudioStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { ...audioProps, trackType: \"screenShareAudioTrack\", participant: participant }));\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: [audioTrackElement, screenShareAudioTrackElement] }, sessionId));\n        }) }));\n};\nParticipantsAudio.displayName = 'ParticipantsAudio';\n\nconst ParticipantViewContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\nconst useParticipantViewContext = () => (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(ParticipantViewContext);\n\nconst useFloatingUIPreset = ({ middleware = [], placement, strategy, offset: offsetInPx = 10, }) => {\n    const { refs, x, y, update, elements: { domReference, floating }, context, } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement,\n        strategy,\n        middleware: [\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.offset)(offsetInPx),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.shift)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)(),\n            (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.size)({\n                padding: 10,\n                apply: ({ availableHeight, elements }) => {\n                    Object.assign(elements.floating.style, {\n                        maxHeight: `${availableHeight}px`,\n                    });\n                },\n            }),\n            ...middleware,\n        ],\n    });\n    // handle window resizing\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!domReference || !floating)\n            return;\n        const cleanup = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate)(domReference, floating, update);\n        return () => cleanup();\n    }, [domReference, floating, update]);\n    return { refs, x, y, domReference, floating, strategy, context };\n};\n\nconst defaultDevice = 'default';\n/**\n * This hook will apply and persist the device preferences from local storage.\n *\n * @param key the key to use for local storage.\n */\nconst usePersistedDevicePreferences = (key = '@stream-io/device-preferences') => {\n    const { useCallSettings, useCallCallingState, useMicrophoneState, useCameraState, useSpeakerState, } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const settings = useCallSettings();\n    const callingState = useCallCallingState();\n    const microphoneState = useMicrophoneState();\n    const cameraState = useCameraState();\n    const speakerState = useSpeakerState();\n    const [applyingState, setApplyingState] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('idle');\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function apply() {\n        if (callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT ||\n            !microphoneState.devices.length ||\n            !cameraState.devices.length ||\n            !speakerState.devices ||\n            !settings ||\n            applyingState !== 'idle') {\n            return;\n        }\n        setApplyingState('applying');\n        (async () => {\n            for (const [deviceKey, state, defaultMuted] of [\n                ['microphone', microphoneState, !settings.audio.mic_default_on],\n                ['camera', cameraState, !settings.video.camera_default_on],\n                ['speaker', speakerState, false],\n            ]) {\n                const preferences = parseLocalDevicePreferences(key);\n                const preference = preferences[deviceKey];\n                const manager = state[deviceKey];\n                const applyPromise = preference\n                    ? applyLocalDevicePreference(manager, [preference].flat(), state.devices)\n                    : applyMutedState(manager, defaultMuted);\n                await applyPromise.catch((err) => {\n                    console.warn(`Failed to apply ${deviceKey} device preferences`, err);\n                });\n            }\n        })().finally(() => setApplyingState((state) => (state === 'applying' ? 'applied' : state)));\n    }, [\n        applyingState,\n        callingState,\n        cameraState,\n        cameraState.devices,\n        key,\n        microphoneState,\n        microphoneState.devices,\n        settings,\n        speakerState,\n        speakerState.devices,\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(function persist() {\n        if (callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT || applyingState !== 'applied') {\n            return;\n        }\n        for (const [deviceKey, devices, selectedDevice, isMute] of [\n            [\n                'camera',\n                cameraState.devices,\n                cameraState.selectedDevice,\n                cameraState.isMute,\n            ],\n            [\n                'microphone',\n                microphoneState.devices,\n                microphoneState.selectedDevice,\n                microphoneState.isMute,\n            ],\n            [\n                'speaker',\n                speakerState.devices,\n                speakerState.selectedDevice,\n                speakerState.isMute,\n            ],\n        ]) {\n            try {\n                patchLocalDevicePreference(key, deviceKey, {\n                    devices,\n                    selectedDevice,\n                    isMute,\n                });\n            }\n            catch (err) {\n                console.warn(`Failed to save ${deviceKey} device preferences`, err);\n            }\n        }\n    }, [\n        applyingState,\n        callingState,\n        cameraState.devices,\n        cameraState.isMute,\n        cameraState.selectedDevice,\n        key,\n        microphoneState.devices,\n        microphoneState.isMute,\n        microphoneState.selectedDevice,\n        speakerState.devices,\n        speakerState.isMute,\n        speakerState.selectedDevice,\n    ]);\n};\n// const usePersistedDevicePreference = <K extends DeviceKey>(\n//   key: string,\n//   deviceKey: K,\n//   state: DeviceState<K>,\n//   defaultMuted?: boolean,\n// ): void => {\n//   const { useCallCallingState } = useCallStateHooks();\n//   const callingState = useCallCallingState();\n//   const [applyingState, setApplyingState] = useState<\n//     'idle' | 'applying' | 'applied'\n//   >('idle');\n//   const manager = state[deviceKey];\n//   useEffect(\n//     function apply() {\n//       if (\n//         callingState === CallingState.LEFT ||\n//         !state.devices?.length ||\n//         typeof defaultMuted !== 'boolean' ||\n//         applyingState !== 'idle'\n//       ) {\n//         return;\n//       }\n//       const preferences = parseLocalDevicePreferences(key);\n//       const preference = preferences[deviceKey];\n//       setApplyingState('applying');\n//       if (!manager.state.selectedDevice) {\n//         const applyPromise = preference\n//           ? applyLocalDevicePreference(\n//               manager,\n//               [preference].flat(),\n//               state.devices,\n//             )\n//           : applyMutedState(manager, defaultMuted);\n//         applyPromise\n//           .catch((err) => {\n//             console.warn(\n//               `Failed to apply ${deviceKey} device preferences`,\n//               err,\n//             );\n//           })\n//           .finally(() => setApplyingState('applied'));\n//       } else {\n//         setApplyingState('applied');\n//       }\n//     },\n//     [\n//       applyingState,\n//       callingState,\n//       defaultMuted,\n//       deviceKey,\n//       key,\n//       manager,\n//       state.devices,\n//     ],\n//   );\n//   useEffect(\n//     function persist() {\n//       if (\n//         callingState === CallingState.LEFT ||\n//         !state.devices?.length ||\n//         applyingState !== 'applied'\n//       ) {\n//         return;\n//       }\n//       try {\n//         patchLocalDevicePreference(key, deviceKey, {\n//           devices: state.devices,\n//           selectedDevice: state.selectedDevice,\n//           isMute: state.isMute,\n//         });\n//       } catch (err) {\n//         console.warn(`Failed to save ${deviceKey} device preferences`, err);\n//       }\n//     },\n//     [\n//       applyingState,\n//       callingState,\n//       deviceKey,\n//       key,\n//       state.devices,\n//       state.isMute,\n//       state.selectedDevice,\n//     ],\n//   );\n// };\nconst parseLocalDevicePreferences = (key) => {\n    const preferencesStr = window.localStorage.getItem(key);\n    let preferences = {};\n    if (preferencesStr) {\n        try {\n            preferences = JSON.parse(preferencesStr);\n            if (Object.hasOwn(preferences, 'mic')) {\n                // for backwards compatibility\n                preferences.microphone = preferences.mic;\n            }\n        }\n        catch {\n            /* assume preferences are empty */\n        }\n    }\n    return preferences;\n};\nconst patchLocalDevicePreference = (key, deviceKey, state) => {\n    const preferences = parseLocalDevicePreferences(key);\n    const nextPreference = getSelectedDevicePreference(state.devices, state.selectedDevice);\n    const preferenceHistory = [preferences[deviceKey] ?? []]\n        .flat()\n        .filter((p) => p.selectedDeviceId !== nextPreference.selectedDeviceId &&\n        (p.selectedDeviceLabel === '' ||\n            p.selectedDeviceLabel !== nextPreference.selectedDeviceLabel));\n    window.localStorage.setItem(key, JSON.stringify({\n        ...preferences,\n        mic: undefined, // for backwards compatibility\n        [deviceKey]: [\n            {\n                ...nextPreference,\n                muted: state.isMute,\n            },\n            ...preferenceHistory,\n        ].slice(0, 3),\n    }));\n};\nconst applyLocalDevicePreference = async (manager, preference, devices) => {\n    let muted;\n    for (const p of preference) {\n        muted ?? (muted = p.muted);\n        if (p.selectedDeviceId === defaultDevice) {\n            break;\n        }\n        const device = devices.find((d) => d.deviceId === p.selectedDeviceId) ??\n            devices.find((d) => d.label === p.selectedDeviceLabel);\n        if (device) {\n            if (!manager.state.selectedDevice) {\n                await manager.select(device.deviceId);\n            }\n            muted = p.muted;\n            break;\n        }\n    }\n    if (typeof muted === 'boolean') {\n        await applyMutedState(manager, muted);\n    }\n};\nconst applyMutedState = async (manager, muted) => {\n    if (!manager.state.status) {\n        await manager[muted ? 'disable' : 'enable']?.();\n    }\n};\nconst getSelectedDevicePreference = (devices, selectedDevice) => ({\n    selectedDeviceId: selectedDevice || defaultDevice,\n    selectedDeviceLabel: devices?.find((d) => d.deviceId === selectedDevice)?.label ?? '',\n});\n\nconst SCROLL_THRESHOLD = 10;\n/**\n * Hook which observes element's scroll position and returns text value based on the\n * position of the scrollbar (`top`, `bottom`, `between` and `null` if no scrollbar is available)\n */\nconst useVerticalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasVerticalScrollbar = element.scrollHeight > element.clientHeight;\n            if (!hasVerticalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheTop = element.scrollTop <= threshold;\n            if (isAtTheTop)\n                return setScrollPosition('top');\n            const isAtTheBottom = Math.abs(element.scrollHeight - element.scrollTop - element.clientHeight) <= threshold;\n            if (isAtTheBottom)\n                return setScrollPosition('bottom');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\nconst useHorizontalScrollPosition = (scrollElement, threshold = SCROLL_THRESHOLD) => {\n    const [scrollPosition, setScrollPosition] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!scrollElement)\n            return;\n        const scrollHandler = () => {\n            const element = scrollElement;\n            const hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;\n            if (!hasHorizontalScrollbar)\n                return setScrollPosition(null);\n            const isAtTheStart = element.scrollLeft <= threshold;\n            if (isAtTheStart)\n                return setScrollPosition('start');\n            const isAtTheEnd = Math.abs(element.scrollWidth - element.scrollLeft - element.clientWidth) <= threshold;\n            if (isAtTheEnd)\n                return setScrollPosition('end');\n            setScrollPosition('between');\n        };\n        const resizeObserver = new ResizeObserver(scrollHandler);\n        resizeObserver.observe(scrollElement);\n        scrollElement.addEventListener('scroll', scrollHandler);\n        return () => {\n            scrollElement.removeEventListener('scroll', scrollHandler);\n            resizeObserver.disconnect();\n        };\n    }, [scrollElement, threshold]);\n    return scrollPosition;\n};\n\nconst useRequestPermission = (permission) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const [isAwaitingPermission, setIsAwaitingPermission] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false); // TODO: load with possibly pending state\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const reset = () => setIsAwaitingPermission(false);\n        if (hasPermission)\n            reset();\n    }, [hasPermission]);\n    const requestPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async () => {\n        if (hasPermission)\n            return true;\n        const canRequestPermission = !!call?.permissionsContext.canRequest(permission);\n        if (isAwaitingPermission || !canRequestPermission)\n            return false;\n        setIsAwaitingPermission(true);\n        try {\n            await call?.requestPermissions({\n                permissions: [permission],\n            });\n        }\n        catch (error) {\n            setIsAwaitingPermission(false);\n            throw new Error(`requestPermission failed: ${error}`);\n        }\n        return false;\n    }, [call, hasPermission, isAwaitingPermission, permission]);\n    return {\n        requestPermission,\n        hasPermission,\n        canRequestPermission: !!call?.permissionsContext.canRequest(permission),\n        isAwaitingPermission,\n    };\n};\n\n/**\n * Utility hook that helps render a list of devices or implement a device selector.\n * Compared to someting like `useCameraState().devices`, it has some handy features:\n * 1. Adds the \"Default\" device to the list if applicable (either the user did not\n * select a device, or a previously selected device is no longer available).\n * 2. Maps the device list to a format more suitable for rendering.\n */\nfunction useDeviceList(devices, selectedDeviceId) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n        let selectedDeviceInfo = null;\n        let selectedIndex = null;\n        const deviceList = devices.map((d, i) => {\n            const isSelected = d.deviceId === selectedDeviceId;\n            const device = { deviceId: d.deviceId, label: d.label, isSelected };\n            if (isSelected) {\n                selectedDeviceInfo = device;\n                selectedIndex = i;\n            }\n            return device;\n        });\n        if (selectedDeviceInfo === null || selectedIndex === null) {\n            const defaultDevice = {\n                deviceId: 'default',\n                label: t('Default'),\n                isSelected: true,\n            };\n            selectedDeviceInfo = defaultDevice;\n            selectedIndex = 0;\n            deviceList.unshift(defaultDevice);\n        }\n        return { deviceList, selectedDeviceInfo, selectedIndex };\n    }, [devices, selectedDeviceId, t]);\n}\n\nvar MenuVisualType;\n(function (MenuVisualType) {\n    MenuVisualType[\"PORTAL\"] = \"portal\";\n    MenuVisualType[\"MENU\"] = \"menu\";\n})(MenuVisualType || (MenuVisualType = {}));\n/**\n * Used to provide utility APIs to the components rendered inside the portal.\n */\nconst MenuContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\n/**\n * Access to the closes MenuContext.\n */\nconst useMenuContext = () => {\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(MenuContext);\n};\nconst MenuPortal = ({ children, refs, }) => {\n    const portalId = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => `str-video-portal-${Math.random().toString(36).substring(2, 9)}`, []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { id: portalId, className: \"str-video__portal\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingOverlay, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingPortal, { id: portalId, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__portal-content\", ref: refs.setFloating, children: children }) }) })] }));\n};\nconst MenuToggle = ({ ToggleButton, placement = 'top-start', strategy = 'absolute', offset, visualType = MenuVisualType.MENU, children, onToggle, }) => {\n    const [menuShown, setMenuShown] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const toggleHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(onToggle);\n    toggleHandler.current = onToggle;\n    const { floating, domReference, refs, x, y } = useFloatingUIPreset({\n        placement,\n        strategy,\n        offset,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const parentDocument = domReference?.ownerDocument;\n        const handleClick = (event) => {\n            if (!floating && domReference?.contains(event.target)) {\n                setMenuShown(true);\n                toggleHandler.current?.(true);\n            }\n            else if (floating && !floating?.contains(event.target)) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        const handleKeyDown = (event) => {\n            if (event.key && // key can be undefined in some browsers\n                event.key.toLowerCase() === 'escape' &&\n                !event.altKey &&\n                !event.ctrlKey) {\n                setMenuShown(false);\n                toggleHandler.current?.(false);\n            }\n        };\n        parentDocument?.addEventListener('click', handleClick, { capture: true });\n        parentDocument?.addEventListener('keydown', handleKeyDown);\n        return () => {\n            parentDocument?.removeEventListener('click', handleClick, {\n                capture: true,\n            });\n            parentDocument?.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [floating, domReference]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [menuShown && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuContext.Provider, { value: { close: () => setMenuShown(false) }, children: visualType === MenuVisualType.PORTAL ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuPortal, { refs: refs, children: children })) : visualType === MenuVisualType.MENU ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__menu-container\", ref: refs.setFloating, style: {\n                        position: strategy,\n                        top: y ?? 0,\n                        left: x ?? 0,\n                        overflowY: 'auto',\n                    }, role: \"menu\", children: children })) : null })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleButton, { menuShown: menuShown, ref: refs.setReference })] }));\n};\n\nconst GenericMenu = ({ children, onItemClick, }) => {\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__generic-menu\", ref: ref, onClick: (e) => {\n            if (onItemClick &&\n                e.target !== ref.current &&\n                ref.current?.contains(e.target)) {\n                onItemClick(e);\n            }\n        }, children: children }));\n};\nconst GenericMenuButtonItem = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"li\", { className: \"str-video__generic-menu--item\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, children: children }) }));\n};\n\nconst Icon = ({ className, icon }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__icon', icon && `str-video__icon--${icon}`, className) }));\n\nfunction usePictureInPictureState(videoElement) {\n    const [isPiP, setIsPiP] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(document.pictureInPictureElement === videoElement);\n    if (!videoElement && isPiP)\n        setIsPiP(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement)\n            return;\n        const handlePiP = () => {\n            setIsPiP(document.pictureInPictureElement === videoElement);\n        };\n        videoElement.addEventListener('enterpictureinpicture', handlePiP);\n        videoElement.addEventListener('leavepictureinpicture', handlePiP);\n        return () => {\n            videoElement.removeEventListener('enterpictureinpicture', handlePiP);\n            videoElement.removeEventListener('leavepictureinpicture', handlePiP);\n        };\n    }, [videoElement]);\n    return isPiP;\n}\n\nconst ParticipantActionsContextMenu = () => {\n    const { participant, participantViewElement, videoElement } = useParticipantViewContext();\n    const [fullscreenModeOn, setFullscreenModeOn] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(!!document.fullscreenElement);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const isPiP = usePictureInPictureState(videoElement ?? undefined);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { pin, sessionId, userId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const blockUser = () => call?.blockUser(userId);\n    const muteAudio = () => call?.muteUser(userId, 'audio');\n    const muteVideo = () => call?.muteUser(userId, 'video');\n    const muteScreenShare = () => call?.muteUser(userId, 'screenshare');\n    const muteScreenShareAudio = () => call?.muteUser(userId, 'screenshare_audio');\n    const grantPermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            grant_permissions: [permission],\n        });\n    };\n    const revokePermission = (permission) => () => {\n        call?.updateUserPermissions({\n            user_id: userId,\n            revoke_permissions: [permission],\n        });\n    };\n    const toggleParticipantPin = () => {\n        if (pin) {\n            call?.unpin(sessionId);\n        }\n        else {\n            call?.pin(sessionId);\n        }\n    };\n    const pinForEveryone = () => {\n        call\n            ?.pinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to pin participant ${userId}`, err);\n        });\n    };\n    const unpinForEveryone = () => {\n        call\n            ?.unpinForEveryone({\n            user_id: userId,\n            session_id: sessionId,\n        })\n            .catch((err) => {\n            console.error(`Failed to unpin participant ${userId}`, err);\n        });\n    };\n    const toggleFullscreenMode = () => {\n        if (!fullscreenModeOn) {\n            return participantViewElement?.requestFullscreen().catch(console.error);\n        }\n        return document.exitFullscreen().catch(console.error);\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // handles the case when fullscreen mode is toggled externally,\n        // e.g., by pressing ESC key or some other keyboard shortcut\n        const handleFullscreenChange = () => {\n            setFullscreenModeOn(!!document.fullscreenElement);\n        };\n        document.addEventListener('fullscreenchange', handleFullscreenChange);\n        return () => {\n            document.removeEventListener('fullscreenchange', handleFullscreenChange);\n        };\n    }, []);\n    const togglePictureInPicture = () => {\n        if (videoElement && !isPiP) {\n            return videoElement\n                .requestPictureInPicture()\n                .catch(console.error);\n        }\n        return document.exitPictureInPicture().catch(console.error);\n    };\n    const { close } = useMenuContext() || {};\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenu, { onItemClick: close, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: toggleParticipantPin, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), pin ? t('Unpin') : t('Pin')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.PIN_FOR_EVERYONE], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: pinForEveryone, disabled: pin && !pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Pin for everyone')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: unpinForEveryone, disabled: !pin || pin.isLocalPin, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"pin\" }), t('Unpin for everyone')] })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: blockUser, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"not-allowed\" }), t('Block')] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], children: [hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteVideo, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"camera-off-outline\" }), t('Turn off video')] })), hasScreenShareTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShare, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), t('Turn off screen share')] })), hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute audio')] })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(GenericMenuButtonItem, { onClick: muteScreenShareAudio, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"no-audio\" }), t('Mute screen share audio')] }))] }), participantViewElement &&\n                typeof participantViewElement.requestFullscreen !== 'undefined' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: toggleFullscreenMode, children: t('{{ direction }} fullscreen', {\n                    direction: fullscreenModeOn ? t('Leave') : t('Enter'),\n                }) })), videoElement && document.pictureInPictureEnabled && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: togglePictureInPicture, children: t('{{ direction }} picture-in-picture', {\n                    direction: isPiP ? t('Leave') : t('Enter'),\n                }) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS], children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Allow audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Allow video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: grantPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Allow screen sharing') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO), children: t('Disable audio') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO), children: t('Disable video') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { onClick: revokePermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE), children: t('Disable screen sharing') })] })] }));\n};\n\nconst isComponentType = (elementOrComponent) => {\n    return elementOrComponent === null\n        ? false\n        : !(0,react__WEBPACK_IMPORTED_MODULE_3__.isValidElement)(elementOrComponent);\n};\n\nconst chunk = (array, size) => {\n    const chunkCount = Math.ceil(array.length / size);\n    return Array.from({ length: chunkCount }, (_, index) => array.slice(size * index, size * index + size));\n};\n\nconst applyElementToRef = (ref, element) => {\n    if (!ref)\n        return;\n    if (typeof ref === 'function')\n        return ref(element);\n    ref.current = element;\n};\n\n/**\n * @description Extends video element with `stream` property\n * (`srcObject`) to reactively handle stream changes\n */\nconst BaseVideo = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function BaseVideo({ stream, ...rest }, ref) {\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!videoElement || !stream)\n            return;\n        if (stream === videoElement.srcObject)\n            return;\n        videoElement.srcObject = stream;\n        if (_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isSafari() || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.Browsers.isFirefox()) {\n            // Firefox and Safari have some timing issue\n            setTimeout(() => {\n                videoElement.srcObject = stream;\n                videoElement.play().catch((e) => {\n                    console.error(`Failed to play stream`, e);\n                });\n            }, 0);\n        }\n        return () => {\n            videoElement.pause();\n            videoElement.srcObject = null;\n        };\n    }, [stream, videoElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { autoPlay: true, playsInline: true, ...rest, ref: (element) => {\n            applyElementToRef(ref, element);\n            setVideoElement(element);\n        } }));\n});\n\nconst BaseVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder({ participant, style, children }, ref) {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const name = participant.name || participant.userId;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__video-placeholder\", style: style, ref: ref, children: [(!participant.image || error) &&\n                (name ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(InitialsFallback, { name: name })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__no-video-label\", children: children }))), participant.image && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: name, className: \"str-video__video-placeholder__avatar\", src: participant.image }))] }));\n});\nconst InitialsFallback = (props) => {\n    const { name } = props;\n    const initials = name\n        .split(' ')\n        .slice(0, 2)\n        .map((n) => n[0])\n        .join('');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__video-placeholder__initials-fallback\", children: initials }));\n};\n\nconst DefaultVideoPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultVideoPlaceholder(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideoPlaceholder, { ref: ref, ...props, children: t('Video is disabled') }));\n});\n\nconst DefaultPictureInPicturePlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultPictureInPicturePlaceholder(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideoPlaceholder, { ref: ref, ...props, children: t('Video is playing in a popup') }));\n});\n\nconst Video$1 = ({ enabled = true, mirror, trackType, participant, className, VideoPlaceholder = DefaultVideoPlaceholder, PictureInPicturePlaceholder = DefaultPictureInPicturePlaceholder, refs, ...rest }) => {\n    const { sessionId, videoStream, screenShareStream, viewportVisibilityState, isLocalParticipant, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const [videoElement, setVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // start with true, will flip once the video starts playing\n    const [isVideoPaused, setIsVideoPaused] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const [isWideMode, setIsWideMode] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(true);\n    const isPiP = usePictureInPictureState(videoElement ?? undefined);\n    const stream = trackType === 'videoTrack'\n        ? videoStream\n        : trackType === 'screenShareTrack'\n            ? screenShareStream\n            : undefined;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(() => {\n        if (!call || !videoElement || trackType === 'none')\n            return;\n        const cleanup = call.bindVideoElement(videoElement, sessionId, trackType);\n        return () => {\n            cleanup?.();\n        };\n    }, [call, trackType, sessionId, videoElement]);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!stream || !videoElement)\n            return;\n        const [track] = stream.getVideoTracks();\n        if (!track)\n            return;\n        const handlePlayPause = () => {\n            setIsVideoPaused(videoElement.paused);\n            const { width = 0, height = 0 } = track.getSettings();\n            setIsWideMode(width >= height);\n        };\n        // playback may have started before we had a chance to\n        // attach the 'play/pause' event listener, so we set the state\n        // here to make sure it's in sync\n        setIsVideoPaused(videoElement.paused);\n        videoElement.addEventListener('play', handlePlayPause);\n        videoElement.addEventListener('pause', handlePlayPause);\n        track.addEventListener('unmute', handlePlayPause);\n        return () => {\n            videoElement.removeEventListener('play', handlePlayPause);\n            videoElement.removeEventListener('pause', handlePlayPause);\n            track.removeEventListener('unmute', handlePlayPause);\n            // reset the 'pause' state once we unmount the video element\n            setIsVideoPaused(true);\n        };\n    }, [stream, videoElement]);\n    if (!call)\n        return null;\n    const isPublishingTrack = trackType === 'videoTrack'\n        ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant)\n        : trackType === 'screenShareTrack'\n            ? (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant)\n            : false;\n    const isInvisible = trackType === 'none' ||\n        viewportVisibilityState?.[trackType] === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.VisibilityState.INVISIBLE;\n    const hasNoVideoOrInvisible = !enabled || !isPublishingTrack || isInvisible;\n    const mirrorVideo = mirror === undefined\n        ? isLocalParticipant && trackType === 'videoTrack'\n        : mirror;\n    const isScreenShareTrack = trackType === 'screenShareTrack';\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [!hasNoVideoOrInvisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { ...rest, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video', className, {\n                    'str-video__video--not-playing': isVideoPaused,\n                    'str-video__video--tall': !isWideMode,\n                    'str-video__video--mirror': mirrorVideo,\n                    'str-video__video--screen-share': isScreenShareTrack,\n                }), \"data-user-id\": userId, \"data-session-id\": sessionId, ref: (element) => {\n                    setVideoElement(element);\n                    refs?.setVideoElement?.(element);\n                } })), isPiP && PictureInPicturePlaceholder && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PictureInPicturePlaceholder, { style: { position: 'absolute' }, participant: participant })), (hasNoVideoOrInvisible || isVideoPaused) && VideoPlaceholder && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VideoPlaceholder, { style: { position: 'absolute' }, participant: participant, ref: refs?.setVideoPlaceholderElement }))] }));\n};\nVideo$1.displayName = 'Video';\n\nconst useTrackElementVisibility = ({ trackedElement, dynascaleManager: propsDynascaleManager, sessionId, trackType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const manager = propsDynascaleManager ?? call?.dynascaleManager;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!trackedElement || !manager || !call || trackType === 'none')\n            return;\n        const unobserve = manager.trackElementVisibility(trackedElement, sessionId, trackType);\n        return () => {\n            unobserve();\n        };\n    }, [trackedElement, manager, call, sessionId, trackType]);\n};\n\nconst Avatar = ({ imageSrc, name, style, className, ...rest }) => {\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(!imageSrc || error) && name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AvatarFallback, { className: className, style: style, names: [name] })), imageSrc && !error && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { onError: () => setError(true), alt: \"avatar\", className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar', className), src: imageSrc, style: style, ...rest }))] }));\n};\nconst AvatarFallback = ({ className, names, style, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__avatar--initials-fallback', className), style: style, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { children: [names[0][0], names[1]?.[0]] }) }));\n};\n\n/**\n * The context for the background filters.\n */\nconst BackgroundFiltersContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(undefined);\n/**\n * A hook to access the background filters context API.\n */\nconst useBackgroundFilters = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(BackgroundFiltersContext);\n    if (!context) {\n        throw new Error('useBackgroundFilters must be used within a BackgroundFiltersProvider');\n    }\n    return context;\n};\n/**\n * A provider component that enables the use of background filters in your app.\n *\n * Please make sure you have the `@stream-io/video-filters-web` package installed\n * in your project before using this component.\n */\nconst BackgroundFiltersProvider = (props) => {\n    const { children, backgroundImages = [], backgroundFilter: bgFilterFromProps = undefined, backgroundImage: bgImageFromProps = undefined, backgroundBlurLevel: bgBlurLevelFromProps = undefined, tfFilePath, modelFilePath, basePath, onError, } = props;\n    const [backgroundFilter, setBackgroundFilter] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgFilterFromProps);\n    const [backgroundImage, setBackgroundImage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgImageFromProps);\n    const [backgroundBlurLevel, setBackgroundBlurLevel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(bgBlurLevelFromProps);\n    const applyBackgroundImageFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((imageUrl) => {\n        setBackgroundFilter('image');\n        setBackgroundImage(imageUrl);\n    }, []);\n    const applyBackgroundBlurFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((blurLevel = 'high') => {\n        setBackgroundFilter('blur');\n        setBackgroundBlurLevel(blurLevel);\n    }, []);\n    const disableBackgroundFilter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        setBackgroundFilter(undefined);\n        setBackgroundImage(undefined);\n        setBackgroundBlurLevel(undefined);\n    }, []);\n    const [isSupported, setIsSupported] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.isPlatformSupported)().then(setIsSupported);\n    }, []);\n    const [tfLite, setTfLite] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        // don't try to load TFLite if the platform is not supported\n        if (!isSupported)\n            return;\n        (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.loadTFLite)({ basePath, modelFilePath, tfFilePath })\n            .then(setTfLite)\n            .catch((err) => console.error('Failed to load TFLite', err));\n    }, [basePath, isSupported, modelFilePath, tfFilePath]);\n    const handleError = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((error) => {\n        (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['filters'])('warn', 'Filter encountered an error and will be disabled');\n        disableBackgroundFilter();\n        onError?.(error);\n    }, [disableBackgroundFilter, onError]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(BackgroundFiltersContext.Provider, { value: {\n            isSupported,\n            isReady: !!tfLite,\n            backgroundImage,\n            backgroundBlurLevel,\n            backgroundFilter,\n            disableBackgroundFilter,\n            applyBackgroundBlurFilter,\n            applyBackgroundImageFilter,\n            backgroundImages,\n            tfFilePath,\n            modelFilePath,\n            basePath,\n            onError: handleError,\n        }, children: [children, tfLite && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BackgroundFilters, { tfLite: tfLite })] }));\n};\nconst BackgroundFilters = (props) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { children, start } = useRenderer(props.tfLite);\n    const { backgroundFilter, onError } = useBackgroundFilters();\n    const handleErrorRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    handleErrorRef.current = onError;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !backgroundFilter)\n            return;\n        const { unregister } = call.camera.registerFilter((ms) => start(ms, (error) => handleErrorRef.current?.(error)));\n        return () => {\n            unregister().catch((err) => console.warn(`Can't unregister filter`, err));\n        };\n    }, [backgroundFilter, call, start]);\n    return children;\n};\nconst useRenderer = (tfLite) => {\n    const { backgroundFilter, backgroundBlurLevel, backgroundImage } = useBackgroundFilters();\n    const videoRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const canvasRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const bgImageRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const [videoSize, setVideoSize] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        width: 1920,\n        height: 1080,\n    });\n    const start = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((ms, onError) => {\n        let outputStream;\n        let renderer;\n        const output = new Promise((resolve, reject) => {\n            if (!backgroundFilter) {\n                reject(new Error('No filter specified'));\n                return;\n            }\n            const videoEl = videoRef.current;\n            const canvasEl = canvasRef.current;\n            const bgImageEl = bgImageRef.current;\n            if (!videoEl || !canvasEl || (backgroundImage && !bgImageEl)) {\n                // You should start renderer in effect or event handlers\n                reject(new Error('Renderer started before elements are ready'));\n                return;\n            }\n            videoEl.srcObject = ms;\n            videoEl.play().then(() => {\n                const [track] = ms.getVideoTracks();\n                if (!track) {\n                    reject(new Error('No video tracks in input media stream'));\n                    return;\n                }\n                const trackSettings = track.getSettings();\n                (0,react_dom__WEBPACK_IMPORTED_MODULE_5__.flushSync)(() => setVideoSize({\n                    width: trackSettings.width ?? 0,\n                    height: trackSettings.height ?? 0,\n                }));\n                renderer = (0,_stream_io_video_filters_web__WEBPACK_IMPORTED_MODULE_9__.createRenderer)(tfLite, videoEl, canvasEl, {\n                    backgroundFilter,\n                    backgroundBlurLevel,\n                    backgroundImage: bgImageEl ?? undefined,\n                }, onError);\n                outputStream = canvasEl.captureStream();\n                resolve(outputStream);\n            }, () => {\n                reject(new Error('Could not play the source video stream'));\n            });\n        });\n        return {\n            output,\n            stop: () => {\n                renderer?.dispose();\n                if (videoRef.current)\n                    videoRef.current.srcObject = null;\n                if (outputStream)\n                    (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.disposeOfMediaStream)(outputStream);\n            },\n        };\n    }, [backgroundBlurLevel, backgroundFilter, backgroundImage, tfLite]);\n    const children = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__background-filters\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"video\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__background-filters__video', videoSize.height > videoSize.width &&\n                    'str-video__background-filters__video--tall'), ref: videoRef, playsInline: true, muted: true, controls: false, ...videoSize }), backgroundImage && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: \"str-video__background-filters__background-image\", alt: \"Background\", ref: bgImageRef, src: backgroundImage, ...videoSize })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"canvas\", { className: \"str-video__background-filters__target-canvas\", ...videoSize, ref: canvasRef })] }));\n    return {\n        start,\n        children,\n    };\n};\n\nconst IconButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function IconButton(props, ref) {\n    const { icon, enabled, variant, onClick, className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-controls__button', className, {\n            [`str-video__call-controls__button--variant-${variant}`]: variant,\n            'str-video__call-controls__button--enabled': enabled,\n        }), onClick: (e) => {\n            e.preventDefault();\n            onClick?.(e);\n        }, ref: ref, ...rest, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: icon }) }));\n});\n\nconst CompositeButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CompositeButton({ disabled, caption, children, className, active, Menu, menuPlacement, menuOffset, title, ToggleMenuButton = DefaultToggleMenuButton, variant, onClick, onMenuToggle, ...restButtonProps }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button', className, {\n            'str-video__composite-button--caption': caption,\n            'str-video__composite-button--menu': Menu,\n        }), title: title, ref: ref, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__composite-button__button-group', {\n                    'str-video__composite-button__button-group--active': active,\n                    'str-video__composite-button__button-group--active-primary': active && variant === 'primary',\n                    'str-video__composite-button__button-group--active-secondary': active && variant === 'secondary',\n                    'str-video__composite-button__button-group--disabled': disabled,\n                }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__composite-button__button\", onClick: (e) => {\n                            e.preventDefault();\n                            onClick?.(e);\n                        }, disabled: disabled, ...restButtonProps, children: children }), Menu && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { offset: menuOffset, placement: menuPlacement, ToggleButton: ToggleMenuButton, onToggle: onMenuToggle, children: isComponentType(Menu) ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) : Menu }))] }), caption && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__composite-button__caption\", children: caption }))] }));\n});\nconst DefaultToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function DefaultToggleMenuButton({ menuShown }, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__menu-toggle-button', {\n            'str-video__menu-toggle-button--active': menuShown,\n        }), icon: menuShown ? 'caret-down' : 'caret-up', ref: ref }));\n});\n\nconst TextButton = ({ children, ...rest }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { ...rest, className: \"str-video__text-button\", children: children }));\n};\n\nconst AcceptCallButton = ({ disabled, onAccept, onClick, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.join();\n            onAccept?.();\n        }\n    }, [onClick, onAccept, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-accept\", variant: \"success\", \"data-testid\": \"accept-call-button\", onClick: handleClick }));\n};\n\nconst Notification = (props) => {\n    const { isVisible, message, children, visibilityTimeout, resetIsVisible, placement = 'top', iconClassName = 'str-video__notification__icon', close, } = props;\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement,\n        strategy: 'absolute',\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isVisible || !visibilityTimeout || !resetIsVisible)\n            return;\n        const timeout = setTimeout(() => {\n            resetIsVisible();\n        }, visibilityTimeout);\n        return () => clearTimeout(timeout);\n    }, [isVisible, resetIsVisible, visibilityTimeout]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: refs.setReference, children: [isVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__notification\", ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, children: [iconClassName && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: iconClassName }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__notification__message\", children: message }), close ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"i\", { className: \"str-video__icon str-video__icon--close str-video__notification__close\", onClick: close })) : null] })), children] }));\n};\n\nconst PermissionNotification = (props) => {\n    const { permission, isAwaitingApproval, messageApproved, messageAwaitingApproval, messageRevoked, visibilityTimeout = 3500, children, } = props;\n    const { useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const hasPermission = useHasPermissions(permission);\n    const prevHasPermission = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(hasPermission);\n    const [showNotification, setShowNotification] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (hasPermission && !prevHasPermission.current) {\n            setShowNotification('granted');\n            prevHasPermission.current = true;\n        }\n        else if (!hasPermission && prevHasPermission.current) {\n            setShowNotification('revoked');\n            prevHasPermission.current = false;\n        }\n    }, [hasPermission]);\n    const resetIsVisible = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setShowNotification(undefined), []);\n    if (isAwaitingApproval) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isAwaitingApproval && !hasPermission, message: messageAwaitingApproval, children: children }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: !!showNotification, visibilityTimeout: visibilityTimeout, resetIsVisible: resetIsVisible, message: showNotification === 'granted' ? messageApproved : messageRevoked, children: children }));\n};\n\nconst SpeakingWhileMutedNotification = ({ children, text, placement, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isSpeakingWhileMuted } = useMicrophoneState();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const message = text ?? t('You are muted. Unmute to speak.');\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, isVisible: isSpeakingWhileMuted, placement: placement || 'top-start', children: children }));\n};\n\nconst RecordingInProgressNotification = ({ children, text, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    const [isVisible, setVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const message = text ?? t('Recording in progress...');\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (isCallRecordingInProgress) {\n            setVisible(true);\n        }\n        else {\n            setVisible(false);\n        }\n    }, [isCallRecordingInProgress]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { message: message, iconClassName: \"str-video__icon str-video__icon--recording-on\", isVisible: isVisible, placement: \"top-start\", close: () => setVisible(false), children: children }));\n};\n\nconst LoadingIndicator = ({ className, type = 'spinner', text, tooltip, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator', className), title: tooltip, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__loading-indicator__icon', type) }), text && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__loading-indicator-text\", children: text })] }));\n};\n\nconst Tooltip = ({ children, referenceElement, tooltipClassName, tooltipPlacement = 'top', visible = false, }) => {\n    const arrowRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n    const { refs, x, y, strategy, context } = useFloatingUIPreset({\n        placement: tooltipPlacement,\n        strategy: 'absolute',\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.arrow)({ element: arrowRef })],\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        refs.setReference(referenceElement);\n    }, [referenceElement, refs]);\n    if (!visible)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__tooltip', tooltipClassName), ref: refs.setFloating, style: {\n            position: strategy,\n            top: y ?? 0,\n            left: x ?? 0,\n        }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingArrow, { ref: arrowRef, context: context, fill: \"var(--str-video__tooltip--background-color)\" }), children] }));\n};\n\nconst useEnterLeaveHandlers = ({ onMouseEnter, onMouseLeave, } = {}) => {\n    const [tooltipVisible, setTooltipVisible] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleMouseEnter = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(true);\n        onMouseEnter?.(e);\n    }, [onMouseEnter]);\n    const handleMouseLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((e) => {\n        setTooltipVisible(false);\n        onMouseLeave?.(e);\n    }, [onMouseLeave]);\n    return { handleMouseEnter, handleMouseLeave, tooltipVisible };\n};\n\n// todo: duplicate of CallParticipantList.tsx#MediaIndicator - refactor to a single component\nconst WithTooltip = ({ title, tooltipClassName, tooltipPlacement, tooltipDisabled, ...props }) => {\n    const { handleMouseEnter, handleMouseLeave, tooltipVisible } = useEnterLeaveHandlers();\n    const [tooltipAnchor, setTooltipAnchor] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const tooltipActuallyVisible = !tooltipDisabled && Boolean(title) && tooltipVisible;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Tooltip, { referenceElement: tooltipAnchor, visible: tooltipActuallyVisible, tooltipClassName: tooltipClassName, tooltipPlacement: tooltipPlacement, children: title || '' }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { ref: setTooltipAnchor, onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave, ...props })] }));\n};\n\nconst RecordEndConfirmation = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-on\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"h2\", { className: \"str-video__end-recording__heading\", children: t('End recording') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__end-recording__description\", children: t('Are you sure you want end the recording?') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-recording__actions\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"secondary\", onClick: close, children: t('Cancel') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { variant: \"primary\", onClick: toggleCallRecording, children: isAwaitingResponse ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {}) : t('End recording') })] })] }));\n};\nconst ToggleEndRecordingMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleEndRecordingMenuButton(props, ref) {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: true, variant: \"secondary\", \"data-testid\": \"recording-stop-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" }) }));\n});\nconst RecordCallConfirmationButton = ({ caption, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    if (isCallRecordingInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { ToggleButton: ToggleEndRecordingMenuButton, visualType: MenuVisualType.PORTAL, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordEndConfirmation, {}) }) }));\n    }\n    const title = isAwaitingResponse\n        ? t('Waiting for recording to start...')\n        : (caption ?? t('Record call'));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: title, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": \"recording-start-button\", onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"recording-off\" })) }) }) }));\n};\nconst RecordCallButton = ({ caption }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { toggleCallRecording, isAwaitingResponse, isCallRecordingInProgress } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useToggleCallRecording)();\n    let title = caption ?? t('Record call');\n    if (isAwaitingResponse) {\n        title = isCallRecordingInProgress\n            ? t('Waiting for recording to stop...')\n            : t('Waiting for recording to start...');\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n        ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isCallRecordingInProgress, caption: caption, variant: \"secondary\", \"data-testid\": isCallRecordingInProgress\n                ? 'recording-stop-button'\n                : 'recording-start-button', title: title, onClick: isAwaitingResponse ? undefined : toggleCallRecording, children: isAwaitingResponse ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, {})) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isCallRecordingInProgress ? 'recording-on' : 'recording-off' })) }) }));\n};\n\nconst defaultEmojiReactionMap = {\n    ':like:': '👍',\n    ':raise-hand:': '✋',\n    ':fireworks:': '🎉',\n    ':dislike:': '👎',\n    ':heart:': '❤️',\n    ':smile:': '😀',\n};\nconst Reaction = ({ participant: { reaction, sessionId }, hideAfterTimeoutInMs = 5500, emojiReactionMap = defaultEmojiReactionMap, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !reaction)\n            return;\n        const timeoutId = setTimeout(() => {\n            call.resetReaction(sessionId);\n        }, hideAfterTimeoutInMs);\n        return () => {\n            clearTimeout(timeoutId);\n        };\n    }, [call, hideAfterTimeoutInMs, reaction, sessionId]);\n    if (!reaction)\n        return null;\n    const { emoji_code: emojiCode } = reaction;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__reaction\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__reaction__emoji\", children: emojiCode && emojiReactionMap[emojiCode] }) }));\n};\n\nconst defaultReactions = [\n    {\n        type: 'reaction',\n        emoji_code: ':like:',\n    },\n    {\n        // TODO OL: use `prompt` type?\n        type: 'raised-hand',\n        emoji_code: ':raise-hand:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':fireworks:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':dislike:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':heart:',\n    },\n    {\n        type: 'reaction',\n        emoji_code: ':smile:',\n    },\n];\nconst ReactionsButton = ({ reactions = defaultReactions, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top\", ToggleButton: ToggleReactionsMenuButton, visualType: MenuVisualType.MENU, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultReactionsMenu, { reactions: reactions }) }) }));\n};\nconst ToggleReactionsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleReactionsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Reactions'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, variant: \"primary\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"reactions\" }) }) }));\n});\nconst DefaultReactionsMenu = ({ reactions, layout = 'horizontal', }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { close } = useMenuContext();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__reactions-menu', {\n            'str-video__reactions-menu--horizontal': layout === 'horizontal',\n            'str-video__reactions-menu--vertical': layout === 'vertical',\n        }), children: reactions.map((reaction) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { type: \"button\", className: \"str-video__reactions-menu__button\", onClick: () => {\n                call?.sendReaction(reaction);\n                close?.();\n            }, children: reaction.emoji_code && defaultEmojiReactionMap[reaction.emoji_code] }, reaction.emoji_code))) }));\n};\n\n/**\n * Wraps an event handler, silencing and logging exceptions (excluding the NotAllowedError\n * DOMException, which is a normal situation handled by the SDK)\n *\n * @param props component props, including the onError callback\n * @param handler event handler to wrap\n */\nconst createCallControlHandler = (props, handler) => {\n    const logger = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.getLogger)(['react-sdk']);\n    return async () => {\n        try {\n            await handler();\n        }\n        catch (error) {\n            if (props.onError) {\n                props.onError(error);\n                return;\n            }\n            if (!isNotAllowedError(error)) {\n                logger('error', 'Call control handler failed', error);\n            }\n        }\n    };\n};\nfunction isNotAllowedError(error) {\n    return error instanceof DOMException && error.name === 'NotAllowedError';\n}\n\nconst ScreenShareButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption } = props;\n    const { useHasOngoingScreenShare, useScreenShareState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isSomeoneScreenSharing = useHasOngoingScreenShare();\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE);\n    const callSettings = useCallSettings();\n    const isScreenSharingAllowed = callSettings?.screensharing.enabled;\n    const { screenShare, optimisticIsMute } = useScreenShareState();\n    const amIScreenSharing = !optimisticIsMute;\n    const disableScreenShareButton = !amIScreenSharing &&\n        (isSomeoneScreenSharing || isScreenSharingAllowed === false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await screenShare.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your screen.'), messageAwaitingApproval: t('Awaiting for an approval to share screen.'), messageRevoked: t('You can no longer share your screen.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption ?? t('Share screen'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { active: isSomeoneScreenSharing || amIScreenSharing, caption: caption, variant: \"primary\", \"data-testid\": isSomeoneScreenSharing\n                        ? 'screen-share-stop-button'\n                        : 'screen-share-start-button', disabled: disableScreenShareButton, onClick: handleClick, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: isSomeoneScreenSharing ? 'screen-share-on' : 'screen-share-off' }) }) }) }) }));\n};\n\nconst SelectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\nconst Select = (props) => {\n    const { children, icon, defaultSelectedLabel, defaultSelectedIndex, handleSelect: handleSelectProp, } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [activeIndex, setActiveIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [selectedIndex, setSelectedIndex] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedIndex);\n    const [selectedLabel, setSelectedLabel] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(defaultSelectedLabel);\n    const { refs, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        placement: 'bottom-start',\n        open: isOpen,\n        onOpenChange: setIsOpen,\n        whileElementsMounted: _floating_ui_react__WEBPACK_IMPORTED_MODULE_8__.autoUpdate,\n        middleware: [(0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_7__.flip)()],\n    });\n    const elementsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const labelsRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        setSelectedIndex(index);\n        handleSelectProp(index || 0);\n        setIsOpen(false);\n        if (index !== null) {\n            setSelectedLabel(labelsRef.current[index]);\n        }\n    }, [handleSelectProp]);\n    const handleTypeaheadMatch = (index) => {\n        if (isOpen) {\n            setActiveIndex(index);\n        }\n        else {\n            handleSelect(index);\n        }\n    };\n    const listNav = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListNavigation)(context, {\n        listRef: elementsRef,\n        activeIndex,\n        selectedIndex,\n        onNavigate: setActiveIndex,\n    });\n    const typeahead = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useTypeahead)(context, {\n        listRef: labelsRef,\n        activeIndex,\n        selectedIndex,\n        onMatch: handleTypeaheadMatch,\n    });\n    const click = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useClick)(context);\n    const dismiss = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useDismiss)(context);\n    const role = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useRole)(context, { role: 'listbox' });\n    const { getReferenceProps, getFloatingProps, getItemProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([listNav, typeahead, click, dismiss, role]);\n    const selectContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        activeIndex,\n        selectedIndex,\n        getItemProps,\n        handleSelect,\n    }), [activeIndex, selectedIndex, getItemProps, handleSelect]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__dropdown-selected\", ref: refs.setReference, tabIndex: 0, ...getReferenceProps(), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: \"str-video__dropdown-selected__label\", children: [icon && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__icon\", icon: icon })), selectedLabel] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-selected__chevron\", icon: isOpen ? 'chevron-up' : 'chevron-down' })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SelectContext.Provider, { value: selectContext, children: isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingFocusManager, { context: context, modal: false, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__dropdown-list\", ref: refs.setFloating, ...getFloatingProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.FloatingList, { elementsRef: elementsRef, labelsRef: labelsRef, children: children }) }) })) })] }));\n};\nconst DropDownSelectOption = (props) => {\n    const { selected, label, icon } = props;\n    const { getItemProps, handleSelect } = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SelectContext);\n    const { ref, index } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useListItem)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__dropdown-option', {\n            'str-video__dropdown-option--selected': selected,\n        }), ref: ref, ...getItemProps({\n            onClick: () => handleSelect(index),\n        }), children: [icon && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__dropdown-icon\", icon: icon }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__dropdown-label\", children: label })] }));\n};\nconst DropDownSelect = (props) => {\n    const { children, icon, handleSelect, defaultSelectedLabel, defaultSelectedIndex, } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Select, { icon: icon, handleSelect: handleSelect, defaultSelectedIndex: defaultSelectedIndex, defaultSelectedLabel: defaultSelectedLabel, children: children }));\n};\n\nconst DeviceSelectorOption = ({ disabled, id, label, onChange, name, selected, defaultChecked, value, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"label\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__option', {\n            'str-video__device-settings__option--selected': selected,\n            'str-video__device-settings__option--disabled': disabled,\n        }), htmlFor: id, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { type: \"radio\", name: name, onChange: onChange, value: value, id: id, checked: selected, defaultChecked: defaultChecked, disabled: disabled }), label] }));\n};\nconst DeviceSelectorList = (props) => {\n    const { devices = [], selectedDeviceId, title, type, onChange } = props;\n    const { close } = useMenuContext();\n    const { deviceList } = useDeviceList(devices, selectedDeviceId);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [title && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title })), deviceList.map((device) => {\n                return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorOption, { id: `${type}--${device.deviceId}`, value: device.deviceId, label: device.label, onChange: (e) => {\n                        const deviceId = e.target.value;\n                        if (deviceId !== 'default') {\n                            onChange?.(deviceId);\n                        }\n                        close?.();\n                    }, name: type, selected: device.isSelected }, device.deviceId));\n            })] }));\n};\nconst DeviceSelectorDropdown = (props) => {\n    const { devices = [], selectedDeviceId, title, onChange, icon } = props;\n    const { deviceList, selectedDeviceInfo, selectedIndex } = useDeviceList(devices, selectedDeviceId);\n    const handleSelect = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((index) => {\n        const deviceId = deviceList[index].deviceId;\n        if (deviceId !== 'default') {\n            onChange?.(deviceId);\n        }\n    }, [deviceList, onChange]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings__device-kind\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__device-settings__device-selector-title\", children: title }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelect, { icon: icon, defaultSelectedIndex: selectedIndex, defaultSelectedLabel: selectedDeviceInfo.label, handleSelect: handleSelect, children: deviceList.map((device) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DropDownSelectOption, { icon: icon, label: device.label, selected: device.isSelected }, device.deviceId))) })] }));\n};\nconst DeviceSelector = (props) => {\n    const { visualType = 'list', icon, ...rest } = props;\n    if (visualType === 'list') {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorList, { ...rest });\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorDropdown, { ...rest, icon: icon });\n};\n\nconst DeviceSelectorAudioInput = ({ title, visualType, }) => {\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, selectedDevice, devices } = useMicrophoneState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], selectedDeviceId: selectedDevice, type: \"audioinput\", onChange: async (deviceId) => {\n            await microphone.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"mic\" }));\n};\nconst DeviceSelectorAudioOutput = ({ title, visualType, }) => {\n    const { useSpeakerState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { speaker, selectedDevice, devices, isDeviceSelectionSupported } = useSpeakerState();\n    if (!isDeviceSelectionSupported)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices, type: \"audiooutput\", selectedDeviceId: selectedDevice, onChange: (deviceId) => {\n            speaker.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"speaker\" }));\n};\n\nconst DeviceSelectorVideo = ({ title, visualType, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, devices, selectedDevice } = useCameraState();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelector, { devices: devices || [], type: \"videoinput\", selectedDeviceId: selectedDevice, onChange: async (deviceId) => {\n            await camera.select(deviceId);\n        }, title: title, visualType: visualType, icon: \"camera\" }));\n};\n\nconst DeviceSettings = ({ visualType = MenuVisualType.MENU, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleDeviceSettingsMenuButton, visualType: visualType, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Menu, {}) }));\n};\nconst Menu = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__device-settings\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { title: t('Select a Camera') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { title: t('Select a Mic') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioOutput, { title: t('Select Speakers') })] }));\n};\nconst ToggleDeviceSettingsMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleDeviceSettingsMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__device-settings__button', {\n            'str-video__device-settings__button--active': menuShown,\n        }), title: t('Toggle device menu'), icon: \"device-settings\", ref: ref }));\n});\n\nconst ToggleAudioPreviewButton = (props) => {\n    const { caption, onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission, isPromptingPermission, } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => microphone.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser audio permissions')\n            : (caption ?? t('Mic')), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", disabled: !hasBrowserPermission, \"data-testid\": optimisticIsMute\n                ? 'preview-audio-unmute-button'\n                : 'preview-audio-mute-button', onClick: handleClick, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'mic' : 'mic-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser audio permissions'), children: \"!\" })), isPromptingPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pending-permission\", title: t('Waiting for permission'), children: \"?\" }))] }) }));\n};\nconst ToggleAudioPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorAudioInput, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO);\n    const { useMicrophoneState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { microphone, optimisticIsMute, hasBrowserPermission, isPromptingPermission, } = useMicrophoneState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await microphone.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now speak.'), messageAwaitingApproval: t('Awaiting for an approval to speak.'), messageRevoked: t('You can no longer speak.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your audio')\n                    : !hasBrowserPermission\n                        ? t('Check your browser mic permissions')\n                        : (caption ?? t('Mic')), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission || !hasPermission, \"data-testid\": optimisticIsMute ? 'audio-unmute-button' : 'audio-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'mic-off' : 'mic' }), (!hasBrowserPermission || !hasPermission) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" })), isPromptingPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pending-permission\", title: t('Waiting for permission'), children: \"?\" }))] }) }) }) }));\n};\n\nconst ToggleVideoPreviewButton = (props) => {\n    const { caption, Menu = DeviceSelectorVideo, menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission, isPromptingPermission, } = useCameraState();\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, () => camera.toggle());\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasBrowserPermission\n            ? t('Check your browser video permissions')\n            : (caption ?? t('Video')), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(!hasBrowserPermission && 'str-video__device-unavailable'), variant: \"secondary\", \"data-testid\": optimisticIsMute\n                ? 'preview-video-unmute-button'\n                : 'preview-video-mute-button', onClick: handleClick, disabled: !hasBrowserPermission, Menu: Menu, menuPlacement: menuPlacement, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: !optimisticIsMute ? 'camera' : 'camera-off' }), !hasBrowserPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", title: t('Check your browser video permissions'), children: \"!\" })), isPromptingPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pending-permission\", title: t('Waiting for permission'), children: \"?\" }))] }) }));\n};\nconst ToggleVideoPublishingButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DeviceSelectorVideo, { visualType: \"list\" }), menuPlacement = 'top', onMenuToggle, ...restCompositeButtonProps } = props;\n    const { hasPermission, requestPermission, isAwaitingPermission } = useRequestPermission(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO);\n    const { useCameraState, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { camera, optimisticIsMute, hasBrowserPermission, isPromptingPermission, } = useCameraState();\n    const callSettings = useCallSettings();\n    const isPublishingVideoAllowed = callSettings?.video.enabled;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const handleClick = createCallControlHandler(props, async () => {\n        if (!hasPermission) {\n            await requestPermission();\n        }\n        else {\n            await camera.toggle();\n        }\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionNotification, { permission: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO, isAwaitingApproval: isAwaitingPermission, messageApproved: t('You can now share your video.'), messageAwaitingApproval: t('Awaiting for an approval to share your video.'), messageRevoked: t('You can no longer share your video.'), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: !hasPermission\n                    ? t('You have no permission to share your video')\n                    : !hasBrowserPermission\n                        ? t('Check your browser video permissions')\n                        : !isPublishingVideoAllowed\n                            ? t('Video publishing is disabled by the system')\n                            : caption || t('Video'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(CompositeButton, { active: optimisticIsMute, caption: caption, variant: \"secondary\", disabled: !hasBrowserPermission ||\n                        !hasPermission ||\n                        !isPublishingVideoAllowed, \"data-testid\": optimisticIsMute ? 'video-unmute-button' : 'video-mute-button', onClick: handleClick, Menu: Menu, menuPlacement: menuPlacement, menuOffset: 16, ...restCompositeButtonProps, onMenuToggle: (shown) => {\n                        setTooltipDisabled(shown);\n                        onMenuToggle?.(shown);\n                    }, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: optimisticIsMute ? 'camera-off' : 'camera' }), (!hasBrowserPermission ||\n                            !hasPermission ||\n                            !isPublishingVideoAllowed) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__no-media-permission\", children: \"!\" })), isPromptingPermission && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pending-permission\", title: t('Waiting for permission'), children: \"?\" }))] }) }) }) }));\n};\n\nconst EndCallMenu = (props) => {\n    const { onLeave, onEnd } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__end-call__confirmation\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__leave\", type: \"button\", \"data-testid\": \"leave-call-button\", onClick: onLeave, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__leave-icon\", icon: \"logout\" }), t('Leave call')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.END_CALL], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { className: \"str-video__button str-video__end-call__end\", type: \"button\", \"data-testid\": \"end-call-for-all-button\", onClick: onEnd, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__button__icon str-video__end-call__end-icon\", icon: \"call-end\" }), t('End call for all')] }) })] }));\n};\nconst CancelCallToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function CancelCallToggleMenuButton({ menuShown }, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: t('Leave call'), tooltipDisabled: menuShown, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: menuShown ? 'close' : 'call-end', variant: menuShown ? 'active' : 'danger', \"data-testid\": \"leave-call-button\", ref: ref }) }));\n});\nconst CancelCallConfirmButton = ({ onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const handleLeave = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    const handleEndCall = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.endCall();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-start\", ToggleButton: CancelCallToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EndCallMenu, { onEnd: handleEndCall, onLeave: handleLeave }) }));\n};\nconst CancelCallButton = ({ disabled, caption, onClick, onLeave, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(async (e) => {\n        if (onClick) {\n            onClick(e);\n        }\n        else if (call) {\n            await call.leave();\n            onLeave?.();\n        }\n    }, [onClick, onLeave, call]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: disabled, icon: \"call-end\", variant: \"danger\", title: caption ?? t('Leave call'), \"data-testid\": \"cancel-call-button\", onClick: handleClick }));\n};\n\nconst CallControls = ({ onLeave }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-controls\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeakingWhileMutedNotification, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleAudioPublishingButton, {}) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ToggleVideoPublishingButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.CREATE_REACTION], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ReactionsButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ScreenShareButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.START_RECORD_CALL,\n                _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.STOP_RECORD_CALL,\n            ], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RecordCallButton, {}) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onLeave: onLeave })] }));\n\nconst CallStatsLatencyChart = (0,react__WEBPACK_IMPORTED_MODULE_3__.lazy)(() => Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/@stream-io\"), __webpack_require__.e(\"vendor-chunks/chart.js\"), __webpack_require__.e(\"vendor-chunks/react-chartjs-2\"), __webpack_require__.e(\"vendor-chunks/@kurkle\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./latency-chart-Bj5OSYzg.es.js */ \"(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\")));\nvar Status;\n(function (Status) {\n    Status[\"GOOD\"] = \"Good\";\n    Status[\"OK\"] = \"Ok\";\n    Status[\"BAD\"] = \"Bad\";\n})(Status || (Status = {}));\nconst CallStats = (props) => {\n    const { latencyLowBound = 75, latencyHighBound = 400, showCodecInfo = false, LatencyChartSuspenseFallback = null, } = props;\n    const [latencyBuffer, setLatencyBuffer] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        const now = Date.now();\n        return Array.from({ length: 20 }, (_, i) => ({ x: now + i, y: 0 }));\n    });\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const [publishBitrate, setPublishBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const [subscribeBitrate, setSubscribeBitrate] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('-');\n    const previousStats = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    const { useCallStatsReport } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callStatsReport = useCallStatsReport();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!callStatsReport)\n            return;\n        if (!previousStats.current) {\n            previousStats.current = callStatsReport;\n            return;\n        }\n        const previousCallStatsReport = previousStats.current;\n        setPublishBitrate(() => {\n            return calculatePublishBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setSubscribeBitrate(() => {\n            return calculateSubscribeBitrate(previousCallStatsReport, callStatsReport);\n        });\n        setLatencyBuffer((latencyBuf) => {\n            const newLatencyBuffer = latencyBuf.slice(-19);\n            newLatencyBuffer.push({\n                x: callStatsReport.timestamp,\n                y: callStatsReport.publisherStats.averageRoundTripTimeInMs,\n            });\n            return newLatencyBuffer;\n        });\n        previousStats.current = callStatsReport;\n    }, [callStatsReport]);\n    const latencyComparison = {\n        lowBound: latencyLowBound,\n        highBound: latencyHighBound,\n        value: callStatsReport?.publisherStats.averageRoundTripTimeInMs || 0,\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats\", children: callStatsReport && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"call-latency\" }), t('Call Latency')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Very high latency values may reduce call quality, cause lag, and make the call less enjoyable.') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__latencychart\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Suspense, { fallback: LatencyChartSuspenseFallback, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStatsLatencyChart, { values: latencyBuffer }) }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"h3\", { className: \"str-video__call-stats__heading\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-stats__icon\", icon: \"network-quality\" }), t('Call performance')] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-stats__description\", children: t('Review the key data points below to assess call performance') })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-container\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Region'), value: callStatsReport.datacenter }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Latency'), value: `${callStatsReport.publisherStats.averageRoundTripTimeInMs} ms.`, comparison: latencyComparison }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive jitter'), value: `${callStatsReport.subscriberStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.subscriberStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish jitter'), value: `${callStatsReport.publisherStats.averageJitterInMs} ms.`, comparison: {\n                                ...latencyComparison,\n                                value: callStatsReport.publisherStats.averageJitterInMs,\n                            } }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: `${t('Publish resolution')}${showCodecInfo ? formatCodec(callStatsReport) : ''}`, value: toFrameSize(callStatsReport.publisherStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish quality drop reason'), value: callStatsReport.publisherStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving resolution'), value: toFrameSize(callStatsReport.subscriberStats) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receive quality drop reason'), value: callStatsReport.subscriberStats.qualityLimitationReasons }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Publish bitrate'), value: publishBitrate }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCard, { label: t('Receiving bitrate'), value: subscribeBitrate })] })] })) }));\n};\nconst StatCardExplanation = (props) => {\n    const { description } = props;\n    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const { refs, floatingStyles, context } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useFloating)({\n        open: isOpen,\n        onOpenChange: setIsOpen,\n    });\n    const hover = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useHover)(context);\n    const { getReferenceProps, getFloatingProps } = (0,_floating_ui_react__WEBPACK_IMPORTED_MODULE_6__.useInteractions)([hover]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation\", ref: refs.setReference, ...getReferenceProps(), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { className: \"str-video__call-explanation__icon\", icon: \"info\" }) }), isOpen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-explanation__description\", ref: refs.setFloating, style: floatingStyles, ...getFloatingProps(), children: description }))] }));\n};\nconst StatsTag = (props) => {\n    const { children, status } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-stats__tag', {\n            'str-video__call-stats__tag--good': status === Status.GOOD,\n            'str-video__call-stats__tag--ok': status === Status.OK,\n            'str-video__call-stats__tag--bad': status === Status.BAD,\n        }), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__tag__text\", children: children }) }));\n};\nconst StatCard = (props) => {\n    const { label, value, description, comparison } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const status = comparison ? toStatus(comparison) : undefined;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-content\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-stats__card-label\", children: [label, description && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatCardExplanation, { description: description })] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-stats__card-value\", children: value })] }), status && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StatsTag, { status: status, children: t(status) })] }));\n};\nconst toStatus = (config) => {\n    const { value, lowBound, highBound } = config;\n    if (value <= lowBound)\n        return Status.GOOD;\n    if (value >= lowBound && value <= highBound)\n        return Status.OK;\n    if (value >= highBound)\n        return Status.BAD;\n    return Status.GOOD;\n};\nconst toFrameSize = (stats) => {\n    const { highestFrameWidth: w, highestFrameHeight: h, highestFramesPerSecond: fps, } = stats;\n    let size = `-`;\n    if (w && h) {\n        size = `${w}x${h}`;\n        if (fps) {\n            size += `@${fps}fps.`;\n        }\n    }\n    return size;\n};\nconst formatCodec = (callStatsReport) => {\n    const { codecPerTrackType } = callStatsReport.publisherStats;\n    if (!codecPerTrackType || !codecPerTrackType[_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.TrackType.VIDEO]) {\n        return '';\n    }\n    const [, name] = codecPerTrackType[_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.TrackType.VIDEO].split('/');\n    return name ? ` (${name})` : '';\n};\nconst calculatePublishBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { publisherStats: { totalBytesSent: previousTotalBytesSent, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { publisherStats: { totalBytesSent, timestamp }, } = callStatsReport;\n    const bytesSent = totalBytesSent - previousTotalBytesSent;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesSent * 8) / timeElapsed).toFixed(2)} kbps`;\n};\nconst calculateSubscribeBitrate = (previousCallStatsReport, callStatsReport) => {\n    const { subscriberStats: { totalBytesReceived: previousTotalBytesReceived, timestamp: previousTimestamp, }, } = previousCallStatsReport;\n    const { subscriberStats: { totalBytesReceived, timestamp }, } = callStatsReport;\n    const bytesReceived = totalBytesReceived - previousTotalBytesReceived;\n    const timeElapsed = timestamp - previousTimestamp;\n    return `${((bytesReceived * 8) / timeElapsed).toFixed(2)} kbps`;\n};\n\nconst CallStatsButton = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"top-end\", ToggleButton: ToggleMenuButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallStats, {}) }));\nconst ToggleMenuButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleMenuButton(props, ref) {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, menuShown } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { ref: ref, active: menuShown, caption: caption, title: caption || t('Statistics'), \"data-testid\": \"stats-button\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"stats\" }) }));\n});\n\nconst ToggleAudioOutputButton = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { caption, Menu = DeviceSelectorAudioOutput, menuPlacement = 'top', onMenuToggle, } = props;\n    const [tooltipDisabled, setTooltipDisabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { title: caption || t('Speakers'), tooltipDisabled: tooltipDisabled, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CompositeButton, { Menu: Menu, menuPlacement: menuPlacement, caption: caption, \"data-testid\": \"audio-output-button\", onMenuToggle: (shown) => {\n                setTooltipDisabled(shown);\n                onMenuToggle?.(shown);\n            }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"speaker\" }) }) }));\n};\n\nconst BlockedUserListing = ({ data }) => {\n    if (!data.length)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((userId) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUserListingItem, { userId: userId }, userId))) }) }));\n};\nconst BlockedUserListingItem = ({ userId }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const unblockUserClickHandler = () => {\n        if (userId)\n            call?.unblockUser(userId);\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing-item__display-name\", children: userId }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.BLOCK_USERS], children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: unblockUserClickHandler, children: \"Unblock\" }) })] }));\n};\n\nconst CallParticipantListHeader = ({ onClose, }) => {\n    const { useParticipants, useAnonymousParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants();\n    const anonymousParticipantCount = useAnonymousParticipantCount();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list-header__title\", children: [t('Participants'), ' ', (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-list-header__title-count\", children: [\"[\", participants.length, \"]\"] }), anonymousParticipantCount > 0 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-list-header__title-anonymous\", children: t('Anonymous', { count: anonymousParticipantCount }) }))] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: onClose, className: \"str-video__participant-list-header__close-button\", icon: \"close\" })] }));\n};\n\nconst CallParticipantListingItem = ({ participant, DisplayName = DefaultDisplayName, }) => {\n    const isAudioOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const isVideoOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const isPinnedOn = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned)(participant);\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: participant.name, imageSrc: participant.image }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisplayName, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-listing-item__media-indicator-group\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isAudioOn ? t('Microphone on') : t('Microphone off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isAudioOn ? 'mic' : 'mic-off'}`) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: isVideoOn ? t('Camera on') : t('Camera off'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', `str-video__participant-listing-item__icon-${isVideoOn ? 'camera' : 'camera-off'}`) }), isPinnedOn && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MediaIndicator, { title: t('Pinned'), className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-listing-item__icon', 'str-video__participant-listing-item__icon-pinned') })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$2, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewContext.Provider, { value: { participant, trackType: 'none' }, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu, {}) }) })] })] }));\n};\nconst MediaIndicator = (props) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { ...props }));\nconst DefaultDisplayName = ({ participant }) => {\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const meFlag = participant.userId === connectedUser?.id ? t('Me') : '';\n    const nameOrId = participant.name || participant.userId || t('Unknown');\n    let displayName;\n    if (!participant.name) {\n        displayName = meFlag || nameOrId || t('Unknown');\n    }\n    else if (meFlag) {\n        displayName = `${nameOrId} (${meFlag})`;\n    }\n    else {\n        displayName = nameOrId;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(WithTooltip, { className: \"str-video__participant-listing-item__display-name\", title: displayName, children: displayName }));\n};\nconst ToggleButton$2 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\n\nconst CallParticipantListing = ({ data, }) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-listing\", children: data.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListingItem, { participant: participant }, participant.sessionId))) }));\n\nconst EmptyParticipantSearchList = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list--empty\", children: t('No participants found') }));\n};\n\nconst SearchInput = ({ exitSearch, isActive, ...rest }) => {\n    const [inputElement, setInputElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!inputElement)\n            return;\n        const handleKeyDown = (e) => {\n            if (e.key.toLowerCase() === 'escape')\n                exitSearch();\n        };\n        inputElement.addEventListener('keydown', handleKeyDown);\n        return () => {\n            inputElement.removeEventListener('keydown', handleKeyDown);\n        };\n    }, [exitSearch, inputElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__search-input__container', {\n            'str-video__search-input__container--active': isActive,\n        }), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"input\", { placeholder: \"Search\", ...rest, ref: setInputElement }), isActive ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: \"str-video__search-input__clear-btn\", onClick: exitSearch, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon--active\" }) })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__search-input__icon\" }))] }));\n};\n\nfunction SearchResults({ EmptySearchResultComponent, LoadingIndicator: LoadingIndicator$1 = LoadingIndicator, searchQueryInProgress, searchResults, SearchResultList, }) {\n    if (searchQueryInProgress) {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__search-results--loading\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator$1, {}) }));\n    }\n    if (!searchResults.length) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptySearchResultComponent, {});\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResultList, { data: searchResults });\n}\n\nconst useSearch = ({ debounceInterval, searchFn, searchQuery = '', }) => {\n    const [searchResults, setSearchResults] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const [searchQueryInProgress, setSearchQueryInProgress] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!searchQuery.length) {\n            setSearchQueryInProgress(false);\n            setSearchResults([]);\n            return;\n        }\n        setSearchQueryInProgress(true);\n        const timeout = setTimeout(async () => {\n            try {\n                const results = await searchFn(searchQuery);\n                setSearchResults(results);\n            }\n            catch (error) {\n                console.error(error);\n            }\n            finally {\n                setSearchQueryInProgress(false);\n            }\n        }, debounceInterval);\n        return () => {\n            clearTimeout(timeout);\n        };\n    }, [debounceInterval, searchFn, searchQuery]);\n    return {\n        searchQueryInProgress,\n        searchResults,\n    };\n};\n\nconst UserListTypes = {\n    active: 'Active users',\n    blocked: 'Blocked users',\n};\nconst DEFAULT_DEBOUNCE_SEARCH_INTERVAL = 200;\nconst CallParticipantsList = ({ onClose, activeUsersSearchFn, blockedUsersSearchFn, debounceSearchInterval, }) => {\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('');\n    const [userListType, setUserListType] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)('active');\n    const exitSearch = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => setSearchQuery(''), []);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListHeader, { onClose: onClose }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchInput, { value: searchQuery, onChange: ({ currentTarget }) => setSearchQuery(currentTarget.value), exitSearch: exitSearch, isActive: !!searchQuery }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallParticipantListContentHeader, { userListType: userListType, setUserListType: setUserListType }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content\", children: [userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ActiveUsersSearchResults, { searchQuery: searchQuery, activeUsersSearchFn: activeUsersSearchFn, debounceSearchInterval: debounceSearchInterval })), userListType === 'blocked' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BlockedUsersSearchResults, { searchQuery: searchQuery, blockedUsersSearchFn: blockedUsersSearchFn, debounceSearchInterval: debounceSearchInterval }))] })] }));\n};\nconst CallParticipantListContentHeader = ({ userListType, setUserListType, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const muteAll = () => {\n        call?.muteAllUsers('audio');\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__participant-list__content-header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-list__content-header-title\", children: userListType === 'active' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.Restricted, { requiredGrants: [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.MUTE_USERS], hasPermissionsOnly: true, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(TextButton, { onClick: muteAll, children: \"Mute all\" }) })) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { placement: \"bottom-end\", ToggleButton: ToggleButton$1, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenu, { children: Object.keys(UserListTypes).map((lt) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(GenericMenuButtonItem, { \"aria-selected\": lt === userListType, onClick: () => setUserListType(lt), children: UserListTypes[lt] }, lt))) }) })] }));\n};\nconst ActiveUsersSearchResults = ({ searchQuery, activeUsersSearchFn: activeUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, }) => {\n    const { useParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participants = useParticipants({ sortBy: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.name });\n    const activeUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(participants.filter((participant) => {\n            return participant.name.match(queryRegExp);\n        }));\n    }, [participants]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: activeUsersSearchFnFromProps ?? activeUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : participants, SearchResultList: CallParticipantListing }));\n};\nconst BlockedUsersSearchResults = ({ blockedUsersSearchFn: blockedUsersSearchFnFromProps, debounceSearchInterval = DEFAULT_DEBOUNCE_SEARCH_INTERVAL, searchQuery, }) => {\n    const { useCallBlockedUserIds } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const blockedUsers = useCallBlockedUserIds();\n    const blockedUsersSearchFn = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((queryString) => {\n        const queryRegExp = new RegExp(queryString, 'i');\n        return Promise.resolve(blockedUsers.filter((blockedUser) => {\n            return blockedUser.match(queryRegExp);\n        }));\n    }, [blockedUsers]);\n    const { searchQueryInProgress, searchResults } = useSearch({\n        searchFn: blockedUsersSearchFnFromProps ?? blockedUsersSearchFn,\n        debounceInterval: debounceSearchInterval,\n        searchQuery,\n    });\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SearchResults, { EmptySearchResultComponent: EmptyParticipantSearchList, LoadingIndicator: LoadingIndicator, searchQueryInProgress: searchQueryInProgress, searchResults: searchQuery ? searchResults : blockedUsers, SearchResultList: BlockedUserListing }));\n};\nconst ToggleButton$1 = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"filter\", ref: ref });\n});\n\nconst CallPreview = (props) => {\n    const { className, style } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallThumbnail } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const thumbnail = useCallThumbnail();\n    const [imageRef, setImageRef] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!imageRef || !call)\n            return;\n        const cleanup = call.bindCallThumbnailElement(imageRef);\n        return () => cleanup();\n    }, [imageRef, call]);\n    if (!thumbnail)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"img\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-preview', className), style: style, alt: \"Call Preview Thumbnail\", ref: setImageRef }));\n};\n\nconst CallRecordingListHeader = ({ callRecordings, onRefresh, }) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__header\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__title\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { children: t('Call Recordings') }), callRecordings.length ? (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { children: [\"(\", callRecordings.length, \")\"] }) : null] }), onRefresh && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"refresh\", title: t('Refresh'), onClick: onRefresh }))] }));\n};\n\nconst dateFormat = (date) => {\n    const format = new Date(date);\n    return format.toTimeString().split(' ')[0];\n};\nconst CallRecordingListItem = ({ recording, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__filename\", children: recording.filename }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.start_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__time\", children: dateFormat(recording.end_time) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__table-cell str-video__call-recording-list__download\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"a\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__call-recording-list-item__action-button', 'str-video__call-recording-list-item__action-button--download'), role: \"button\", href: recording.url, download: recording.filename, title: \"Download the recording\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"download\" }) }) })] }));\n};\n\nconst EmptyCallRecordingListing = () => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list__listing str-video__call-recording-list__listing--empty\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing--icon-empty\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"p\", { className: \"str-video__call-recording-list__listing--text-empty\", children: \"No recordings available\" })] }));\n};\n\nconst LoadingCallRecordingListing = ({ callRecordings, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem, { recording: recording }, recording.filename))), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingIndicator, { text: \"Recording getting ready\" })] }));\n};\n\nconst CallRecordingList = ({ callRecordings, CallRecordingListHeader: CallRecordingListHeader$1 = CallRecordingListHeader, CallRecordingListItem: CallRecordingListItem$1 = CallRecordingListItem, EmptyCallRecordingList = EmptyCallRecordingListing, loading, LoadingCallRecordingList = LoadingCallRecordingListing, onRefresh, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-recording-list\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListHeader$1, { callRecordings: callRecordings, onRefresh: onRefresh }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__listing\", children: loading ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LoadingCallRecordingList, { callRecordings: callRecordings })) : callRecordings.length ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"li\", { className: \"str-video__call-recording-list__item\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__filename\", children: \"Name\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"Start time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__time\", children: \"End time\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-recording-list__download\" })] }) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"ul\", { className: \"str-video__call-recording-list__list\", children: callRecordings.map((recording) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CallRecordingListItem$1, { recording: recording }, recording.filename))) })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(EmptyCallRecordingList, {})) })] }));\n};\n\nconst NoiseCancellationContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n/**\n * Exposes the NoiseCancellation API.\n * Throws an error if used outside <NoiseCancellationProvider />.\n */\nconst useNoiseCancellation = () => {\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(NoiseCancellationContext);\n    if (!context) {\n        throw new Error('useNoiseCancellation must be used within a NoiseCancellationProvider');\n    }\n    return context;\n};\nconst NoiseCancellationProvider = (props) => {\n    const { children, noiseCancellation } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallSettings, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const settings = useCallSettings();\n    const noiseCancellationAllowed = !!(settings &&\n        settings.audio.noise_cancellation &&\n        settings.audio.noise_cancellation.mode !==\n            _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.NoiseCancellationSettingsModeEnum.DISABLED);\n    const hasCapability = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.ENABLE_NOISE_CANCELLATION);\n    const [isSupportedByBrowser, setIsSupportedByBrowser] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        const result = noiseCancellation.isSupported();\n        if (typeof result === 'boolean') {\n            setIsSupportedByBrowser(result);\n        }\n        else {\n            result\n                .then((s) => setIsSupportedByBrowser(s))\n                .catch((err) => console.error(`Can't determine if noise cancellation is supported`, err));\n        }\n    }, [noiseCancellation]);\n    const isSupported = isSupportedByBrowser && hasCapability && noiseCancellationAllowed;\n    const [isEnabled, setIsEnabled] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const deinit = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !isSupported)\n            return;\n        noiseCancellation.isEnabled().then((e) => setIsEnabled(e));\n        const unsubscribe = noiseCancellation.on('change', (v) => setIsEnabled(v));\n        const init = (deinit.current || Promise.resolve())\n            .then(() => noiseCancellation.init({ tracer: call.tracer }))\n            .then(() => call.microphone.enableNoiseCancellation(noiseCancellation))\n            .catch((e) => console.error(`Can't initialize noise cancellation`, e));\n        return () => {\n            deinit.current = init\n                .then(() => call.microphone.disableNoiseCancellation())\n                .then(() => noiseCancellation.dispose())\n                .then(() => unsubscribe());\n        };\n    }, [call, isSupported, noiseCancellation]);\n    const contextValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        isSupported,\n        isEnabled,\n        setSuppressionLevel: (level) => {\n            if (!noiseCancellation)\n                return;\n            noiseCancellation.setSuppressionLevel(level);\n        },\n        setEnabled: (enabledOrSetter) => {\n            if (!noiseCancellation)\n                return;\n            const enable = typeof enabledOrSetter === 'function'\n                ? enabledOrSetter(isEnabled)\n                : enabledOrSetter;\n            if (enable) {\n                noiseCancellation.enable();\n            }\n            else {\n                noiseCancellation.disable();\n            }\n        },\n    }), [isEnabled, isSupported, noiseCancellation]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoiseCancellationContext.Provider, { value: contextValue, children: children }));\n};\n\nconst RingingCallControls = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useCallCallingState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callCallingState = useCallCallingState();\n    if (!call)\n        return null;\n    const buttonsDisabled = callCallingState !== _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__pending-call-controls\", children: call.isCreatedByMe ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { disabled: buttonsDisabled })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(AcceptCallButton, { disabled: buttonsDisabled }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(CancelCallButton, { onClick: () => {\n                        const reason = call.isCreatedByMe ? 'cancel' : 'decline';\n                        call.leave({ reject: true, reason });\n                    }, disabled: buttonsDisabled })] })) }));\n};\n\nconst CALLING_STATE_TO_LABEL = {\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING]: 'Joining',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING]: 'Ringing',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.MIGRATING]: 'Migrating',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING]: 'Re-connecting',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RECONNECTING_FAILED]: 'Failed',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.OFFLINE]: 'No internet connection',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.IDLE]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.UNKNOWN]: '',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINED]: 'Joined',\n    [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.LEFT]: 'Left call',\n};\nconst RingingCall = (props) => {\n    const { includeSelf = false, totalMembersToShow = 3 } = props;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { useCallCallingState, useCallMembers } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const callingState = useCallCallingState();\n    const members = useCallMembers();\n    const connectedUser = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useConnectedUser)();\n    if (!call)\n        return null;\n    // take the first N members to show their avatars\n    const membersToShow = (members || [])\n        .slice(0, totalMembersToShow)\n        .map(({ user }) => user)\n        .filter((user) => user.id !== connectedUser?.id || includeSelf);\n    if (includeSelf &&\n        !membersToShow.find((user) => user.id === connectedUser?.id)) {\n        // if the current user is not in the initial batch of members,\n        // replace the first item in membersToShow array with the current user\n        const self = members.find(({ user }) => user.id === connectedUser?.id);\n        if (self) {\n            membersToShow.splice(0, 1, self.user);\n        }\n    }\n    const callingStateLabel = CALLING_STATE_TO_LABEL[callingState];\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel str-video__call-panel--ringing\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__members-list\", children: membersToShow.map((user) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__call-panel__member-box\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Avatar, { name: user.name, imageSrc: user.image }), user.name && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__member_details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__member_name\", children: user.name }) }))] }, user.id))) }), callingStateLabel && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__call-panel__calling-state-label\", children: t(callingStateLabel) })), [_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.RINGING, _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.JOINING].includes(callingState) && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(RingingCallControls, {}))] }));\n};\n\nconst byNameOrId = (a, b) => {\n    if (a.name && b.name && a.name < b.name)\n        return -1;\n    if (a.name && b.name && a.name > b.name)\n        return 1;\n    if (a.id < b.id)\n        return -1;\n    if (a.id > b.id)\n        return 1;\n    return 0;\n};\nconst PermissionRequests = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useLocalParticipant, useHasPermissions } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const localParticipant = useLocalParticipant();\n    const [expanded, setExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    const [permissionRequests, setPermissionRequests] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)([]);\n    const canUpdateCallPermissions = useHasPermissions(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.UPDATE_CALL_PERMISSIONS);\n    const localUserId = localParticipant?.userId;\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call || !canUpdateCallPermissions)\n            return;\n        return call.on('call.permission_request', (event) => {\n            if (event.user.id !== localUserId) {\n                setPermissionRequests((requests) => [...requests, event].sort((a, b) => byNameOrId(a.user, b.user)));\n            }\n        });\n    }, [call, canUpdateCallPermissions, localUserId]);\n    const handleUpdatePermission = (request, type) => {\n        return async () => {\n            const { user, permissions } = request;\n            switch (type) {\n                case 'grant':\n                    await call?.grantPermissions(user.id, permissions);\n                    break;\n                case 'revoke':\n                    await call?.revokePermissions(user.id, permissions);\n                    break;\n            }\n            setPermissionRequests((requests) => requests.filter((r) => r !== request));\n        };\n    };\n    const { refs, x, y, strategy } = useFloatingUIPreset({\n        placement: 'bottom',\n        strategy: 'absolute',\n    });\n    // don't render anything if there are no permission requests\n    if (permissionRequests.length === 0)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests\", ref: refs.setReference, children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-requests__notification\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__permission-requests__notification__message\", children: [permissionRequests.length, \" pending permission requests\"] }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { type: \"button\", onClick: () => {\n                            setExpanded((e) => !e);\n                        }, children: expanded ? 'Hide requests' : 'Show requests' })] }), expanded && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PermissionRequestList, { ref: refs.setFloating, style: {\n                    position: strategy,\n                    top: y ?? 0,\n                    left: x ?? 0,\n                    overflowY: 'auto',\n                }, permissionRequests: permissionRequests, handleUpdatePermission: handleUpdatePermission }))] }));\n};\nconst PermissionRequestList = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function PermissionRequestList(props, ref) {\n    const { permissionRequests, handleUpdatePermission, ...rest } = props;\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-requests-list\", ref: ref, ...rest, children: permissionRequests.map((request, reqIndex) => {\n            const { user, permissions } = request;\n            return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(react__WEBPACK_IMPORTED_MODULE_3__.Fragment, { children: permissions.map((permission) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__permission-request\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__permission-request__message\", children: messageForPermission(user.name || user.id, permission, t) }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--allow\", type: \"button\", onClick: handleUpdatePermission(request, 'grant'), children: t('Allow') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'revoke'), children: t('Revoke') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Button, { className: \"str-video__permission-request__button--reject\", type: \"button\", onClick: handleUpdatePermission(request, 'dismiss'), children: t('Dismiss') })] }, permission))) }, `${user.id}/${reqIndex}`));\n        }) }));\n});\nconst Button = (props) => {\n    const { className, ...rest } = props;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"button\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__permission-request__button', className), ...rest }));\n};\nconst messageForPermission = (userName, permission, t) => {\n    switch (permission) {\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_AUDIO:\n            return t('{{ userName }} is requesting to speak', { userName });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SEND_VIDEO:\n            return t('{{ userName }} is requesting to share their camera', {\n                userName,\n            });\n        case _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.OwnCapability.SCREENSHARE:\n            return t('{{ userName }} is requesting to present their screen', {\n                userName,\n            });\n        default:\n            return t('{{ userName }} is requesting permission: {{ permission }}', {\n                userName,\n                permission,\n            });\n    }\n};\n\nconst StreamTheme = ({ as: Component = 'div', className, children, ...props }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Component, { ...props, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video', className), children: children }));\n};\n\nconst DefaultDisabledVideoPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__disabled-video-preview\", children: t('Video is disabled') }));\n};\nconst DefaultNoCameraPreview = () => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str_video__video-preview__no-camera-preview\", children: t('No camera found') }));\n};\nconst VideoPreview = ({ className, mirror = true, DisabledVideoPreview = DefaultDisabledVideoPreview, NoCameraPreview = DefaultNoCameraPreview, StartingCameraPreview = LoadingIndicator, }) => {\n    const { useCameraState } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { devices, status, isMute, mediaStream } = useCameraState();\n    let contents;\n    if (isMute && devices?.length === 0) {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(NoCameraPreview, {});\n    }\n    else if (status === 'enabled') {\n        const loading = !mediaStream;\n        contents = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [mediaStream && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BaseVideo, { stream: mediaStream, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview', {\n                        'str-video__video-preview--mirror': mirror,\n                        'str-video__video-preview--loading': loading,\n                    }) })), loading && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StartingCameraPreview, {})] }));\n    }\n    else {\n        contents = (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DisabledVideoPreview, {});\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__video-preview-container', className), children: contents }));\n};\n\nconst ToggleButton = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ToggleButton(props, ref) {\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { enabled: props.menuShown, icon: \"ellipsis\", ref: ref });\n});\nconst DefaultScreenShareOverlay = () => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const stopScreenShare = () => {\n        call?.screenShare.disable();\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__screen-share-overlay\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__screen-share-overlay__title\", children: t('You are presenting your screen') }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"button\", { onClick: stopScreenShare, className: \"str-video__screen-share-overlay__button\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"close\" }), \" \", t('Stop Screen Sharing')] })] }));\n};\nconst DefaultParticipantViewUI = ({ indicatorsVisible = true, menuPlacement = 'bottom-start', showMenuButton = true, ParticipantActionsContextMenu: ParticipantActionsContextMenu$1 = ParticipantActionsContextMenu, }) => {\n    const { participant, trackType } = useParticipantViewContext();\n    const isScreenSharing = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participant);\n    if (participant.isLocalParticipant &&\n        isScreenSharing &&\n        trackType === 'screenShareTrack') {\n        return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultScreenShareOverlay, {}), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [showMenuButton && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(MenuToggle, { strategy: \"fixed\", placement: menuPlacement, ToggleButton: ToggleButton, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantActionsContextMenu$1, {}) })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Reaction, { participant: participant }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantDetails, { indicatorsVisible: indicatorsVisible })] }));\n};\nconst ParticipantDetails = ({ indicatorsVisible = true, }) => {\n    const { participant } = useParticipantViewContext();\n    const { isLocalParticipant, connectionQuality, pin, sessionId, name, userId, } = participant;\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const connectionQualityAsString = !!connectionQuality &&\n        _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality[connectionQuality].toLowerCase();\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const canUnpin = !!pin && pin.isLocalPin;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__participant-details\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: \"str-video__participant-details__name\", children: [name || userId, indicatorsVisible && !hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--audio-muted\" })), indicatorsVisible && !hasVideoTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__participant-details__name--video-muted\" })), indicatorsVisible && canUnpin && (\n                        // TODO: remove this monstrosity once we have a proper design\n                        (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { title: t('Unpin'), onClick: () => call?.unpin(sessionId), className: \"str-video__participant-details__name--pinned\" })), indicatorsVisible && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(SpeechIndicator, {})] }) }), indicatorsVisible && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Notification, { isVisible: isLocalParticipant &&\n                    connectionQuality === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.ConnectionQuality.POOR, message: t('Poor connection quality'), children: connectionQualityAsString && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-details__connection-quality', `str-video__participant-details__connection-quality--${connectionQualityAsString}`), title: connectionQualityAsString })) }))] }));\n};\nconst SpeechIndicator = () => {\n    const { participant } = useParticipantViewContext();\n    const { isSpeaking, isDominantSpeaker } = participant;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"span\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speech-indicator', isSpeaking && 'str-video__speech-indicator--speaking', isDominantSpeaker && 'str-video__speech-indicator--dominant'), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__speech-indicator__bar\" })] }));\n};\n\nconst ParticipantView = (0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)(function ParticipantView({ participant, trackType = 'videoTrack', mirror, muteAudio, refs: { setVideoElement, setVideoPlaceholderElement } = {}, className, VideoPlaceholder, PictureInPicturePlaceholder, ParticipantViewUI = DefaultParticipantViewUI, }, ref) {\n    const { isLocalParticipant, isSpeaking, isDominantSpeaker, sessionId } = participant;\n    const hasAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant);\n    const hasVideoTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant);\n    const hasScreenShareAudioTrack = (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShareAudio)(participant);\n    const [trackedElement, setTrackedElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoElement, setContextVideoElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [contextVideoPlaceholderElement, setContextVideoPlaceholderElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    // TODO: allow to pass custom ViewportTracker instance from props\n    useTrackElementVisibility({\n        sessionId,\n        trackedElement,\n        trackType,\n    });\n    const { useIncomingVideoSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const { isParticipantVideoEnabled } = useIncomingVideoSettings();\n    const participantViewContextValue = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        participant,\n        participantViewElement: trackedElement,\n        videoElement: contextVideoElement,\n        videoPlaceholderElement: contextVideoPlaceholderElement,\n        trackType,\n    }), [\n        contextVideoElement,\n        contextVideoPlaceholderElement,\n        participant,\n        trackedElement,\n        trackType,\n    ]);\n    const videoRefs = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n        setVideoElement: (element) => {\n            setVideoElement?.(element);\n            setContextVideoElement(element);\n        },\n        setVideoPlaceholderElement: (element) => {\n            setVideoPlaceholderElement?.(element);\n            setContextVideoPlaceholderElement(element);\n        },\n    }), [setVideoElement, setVideoPlaceholderElement]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { \"data-testid\": \"participant-view\", ref: (element) => {\n            applyElementToRef(ref, element);\n            setTrackedElement(element);\n        }, className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__participant-view', isDominantSpeaker && 'str-video__participant-view--dominant-speaker', isSpeaking && 'str-video__participant-view--speaking', !hasVideoTrack && 'str-video__participant-view--no-video', !hasAudioTrack && 'str-video__participant-view--no-audio', className), children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(ParticipantViewContext.Provider, { value: participantViewContextValue, children: [!isLocalParticipant && !muteAudio && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [hasAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"audioTrack\" })), hasScreenShareAudioTrack && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Audio, { participant: participant, trackType: \"screenShareAudioTrack\" }))] })), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Video$1, { VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, participant: participant, trackType: trackType, refs: videoRefs, enabled: isLocalParticipant ||\n                        trackType !== 'videoTrack' ||\n                        isParticipantVideoEnabled(participant.sessionId), mirror: mirror, autoPlay: true }), isComponentType(ParticipantViewUI) ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantViewUI, {})) : (ParticipantViewUI)] }) }));\n});\nParticipantView.displayName = 'ParticipantView';\n\n// re-exporting the StreamCallProvider as StreamCall\nconst StreamCall = _stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamCallProvider;\nStreamCall.displayName = 'StreamCall';\n\nvar Joining = \"Joining\";\nvar Mic = \"Mic\";\nvar Ringing = \"Ringing\";\nvar Speakers = \"Speakers\";\nvar Video = \"Video\";\nvar Live = \"Live\";\nvar Reactions = \"Reactions\";\nvar Statistics = \"Statistics\";\nvar Invite = \"Invite\";\nvar Join = \"Join\";\nvar You = \"You\";\nvar Me = \"Me\";\nvar Unknown = \"Unknown\";\nvar Default = \"Default\";\nvar Refresh = \"Refresh\";\nvar Allow = \"Allow\";\nvar Revoke = \"Revoke\";\nvar Dismiss = \"Dismiss\";\nvar Pinned = \"Pinned\";\nvar Unpin = \"Unpin\";\nvar Pin = \"Pin\";\nvar Block = \"Block\";\nvar Enter = \"Enter\";\nvar Leave = \"Leave\";\nvar Participants = \"Participants\";\nvar Anonymous = \", and ({{ count }}) anonymous\";\nvar en = {\n\tJoining: Joining,\n\tMic: Mic,\n\t\"No internet connection\": \"No internet connection\",\n\t\"Re-connecting\": \"Re-connecting\",\n\tRinging: Ringing,\n\t\"Screen Share\": \"Screen Share\",\n\t\"Select a Camera\": \"Select a Camera\",\n\t\"Select a Mic\": \"Select a Mic\",\n\t\"Select Speakers\": \"Select Speakers\",\n\tSpeakers: Speakers,\n\tVideo: Video,\n\t\"You are muted. Unmute to speak.\": \"You are muted. Unmute to speak.\",\n\tLive: Live,\n\t\"Livestream starts soon\": \"Livestream starts soon\",\n\t\"Livestream starts at {{ startsAt }}\": \"Livestream starts at {{ startsAt, datetime }}\",\n\t\"{{ count }} participants joined early_one\": \"{{ count }} participant joined early\",\n\t\"{{ count }} participants joined early_other\": \"{{ count }} participants joined early\",\n\t\"You can now speak.\": \"You can now speak.\",\n\t\"Awaiting for an approval to speak.\": \"Awaiting for an approval to speak.\",\n\t\"You can no longer speak.\": \"You can no longer speak.\",\n\t\"You can now share your video.\": \"You can now share your video.\",\n\t\"Awaiting for an approval to share your video.\": \"Awaiting for an approval to share your video.\",\n\t\"You can no longer share your video.\": \"You can no longer share your video.\",\n\t\"Waiting for recording to stop...\": \"Waiting for recording to stop...\",\n\t\"Waiting for recording to start...\": \"Waiting for recording to start...\",\n\t\"Record call\": \"Record call\",\n\tReactions: Reactions,\n\tStatistics: Statistics,\n\t\"You can now share your screen.\": \"You can now share your screen.\",\n\t\"Awaiting for an approval to share screen.\": \"Awaiting for an approval to share screen.\",\n\t\"You can no longer share your screen.\": \"You can no longer share your screen.\",\n\t\"Share screen\": \"Share screen\",\n\t\"Incoming Call...\": \"Incoming Call...\",\n\t\"Calling...\": \"Calling...\",\n\t\"Mute All\": \"Mute All\",\n\tInvite: Invite,\n\tJoin: Join,\n\tYou: You,\n\tMe: Me,\n\tUnknown: Unknown,\n\t\"Toggle device menu\": \"Toggle device menu\",\n\tDefault: Default,\n\t\"Call Recordings\": \"Call Recordings\",\n\tRefresh: Refresh,\n\t\"Check your browser video permissions\": \"Check your browser video permissions\",\n\t\"Video publishing is disabled by the system\": \"Video publishing is disabled by the system\",\n\t\"You have no permission to share your video\": \"You have no permission to share your video\",\n\t\"You have no permission to share your audio\": \"You have no permission to share your audio\",\n\t\"You are presenting your screen\": \"You are presenting your screen\",\n\t\"Stop Screen Sharing\": \"Stop Screen Sharing\",\n\tAllow: Allow,\n\tRevoke: Revoke,\n\tDismiss: Dismiss,\n\t\"Microphone on\": \"Microphone on\",\n\t\"Microphone off\": \"Microphone off\",\n\t\"Camera on\": \"Camera on\",\n\t\"Camera off\": \"Camera off\",\n\t\"No camera found\": \"No camera found\",\n\t\"Video is disabled\": \"Video is disabled\",\n\tPinned: Pinned,\n\tUnpin: Unpin,\n\tPin: Pin,\n\t\"Pin for everyone\": \"Pin for everyone\",\n\t\"Unpin for everyone\": \"Unpin for everyone\",\n\tBlock: Block,\n\t\"Turn off video\": \"Turn off video\",\n\t\"Turn off screen share\": \"Turn off screen share\",\n\t\"Mute audio\": \"Mute audio\",\n\t\"Mute screen share audio\": \"Mute screen share audio\",\n\t\"Allow audio\": \"Allow audio\",\n\t\"Allow video\": \"Allow video\",\n\t\"Allow screen sharing\": \"Allow screen sharing\",\n\t\"Disable audio\": \"Disable audio\",\n\t\"Disable video\": \"Disable video\",\n\t\"Disable screen sharing\": \"Disable screen sharing\",\n\tEnter: Enter,\n\tLeave: Leave,\n\t\"Leave call\": \"Leave call\",\n\t\"End call for all\": \"End call for all\",\n\t\"{{ direction }} fullscreen\": \"{{ direction }} fullscreen\",\n\t\"{{ direction }} picture-in-picture\": \"{{ direction }} picture-in-picture\",\n\t\"Dominant Speaker\": \"Dominant Speaker\",\n\t\"Poor connection quality\": \"Poor connection quality. Please check your internet connection.\",\n\tParticipants: Participants,\n\tAnonymous: Anonymous,\n\t\"No participants found\": \"No participants found\",\n\t\"Participants ({{ numberOfParticipants }})\": \"Participants ({{ numberOfParticipants }})\",\n\t\"{{ userName }} is sharing their screen\": \"{{ userName }} is sharing their screen\",\n\t\"{{ userName }} is requesting to speak\": \"{{ userName }} is requesting to speak\",\n\t\"{{ userName }} is requesting to share their camera\": \"{{ userName }} is requesting to share their camera\",\n\t\"{{ userName }} is requesting to present their screen\": \"{{ userName }} is requesting to present their screen\",\n\t\"{{ userName }} is requesting permission: {{ permission }}\": \"{{ userName }} is requesting permission: {{ permission }}\"\n};\n\nconst translations = { en };\n\nconst StreamVideo = (props) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.StreamVideoProvider, { translationsOverrides: translations, ...props }));\n};\nStreamVideo.displayName = 'StreamVideo';\n\nfunction applyFilter(obj, filter) {\n    if ('$and' in filter) {\n        return filter.$and.every((f) => applyFilter(obj, f));\n    }\n    if ('$or' in filter) {\n        return filter.$or.some((f) => applyFilter(obj, f));\n    }\n    if ('$not' in filter) {\n        return !applyFilter(obj, filter.$not);\n    }\n    return checkConditions(obj, filter);\n}\nfunction checkConditions(obj, conditions) {\n    let match = true;\n    for (const key of Object.keys(conditions)) {\n        const operator = conditions[key];\n        const maybeOperator = operator && typeof operator === 'object';\n        const value = obj[key];\n        if (maybeOperator && '$eq' in operator) {\n            const eqOperator = operator;\n            match && (match = eqOperator.$eq === value);\n        }\n        else if (maybeOperator && '$neq' in operator) {\n            const neqOperator = operator;\n            match && (match = neqOperator.$neq !== value);\n        }\n        else if (maybeOperator && '$in' in operator) {\n            const inOperator = operator;\n            match && (match = inOperator.$in.includes(value));\n        }\n        else if (maybeOperator && '$contains' in operator) {\n            if (Array.isArray(value)) {\n                const containsOperator = operator;\n                match && (match = value.includes(containsOperator.$contains));\n            }\n            else {\n                match = false;\n            }\n        }\n        else {\n            const eqValue = operator;\n            match && (match = eqValue === value);\n        }\n        if (!match) {\n            return false;\n        }\n    }\n    return true;\n}\n\nconst useFilteredParticipants = ({ excludeLocalParticipant = false, filterParticipants, }) => {\n    const { useParticipants, useRemoteParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const allParticipants = useParticipants();\n    const remoteParticipants = useRemoteParticipants();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n        const unfilteredParticipants = excludeLocalParticipant\n            ? remoteParticipants\n            : allParticipants;\n        return filterParticipants\n            ? applyParticipantsFilter(unfilteredParticipants, filterParticipants)\n            : unfilteredParticipants;\n    }, [\n        allParticipants,\n        remoteParticipants,\n        excludeLocalParticipant,\n        filterParticipants,\n    ]);\n};\nconst applyParticipantsFilter = (participants, filter) => {\n    const filterCallback = typeof filter === 'function'\n        ? filter\n        : (participant) => applyFilter({\n            userId: participant.userId,\n            isSpeaking: participant.isSpeaking,\n            isDominantSpeaker: participant.isDominantSpeaker,\n            name: participant.name,\n            roles: participant.roles,\n            isPinned: (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.isPinned)(participant),\n            hasVideo: (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasVideo)(participant),\n            hasAudio: (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasAudio)(participant),\n        }, filter);\n    return participants.filter(filterCallback);\n};\nconst usePaginatedLayoutSortPreset = (call) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.paginatedLayoutSortPreset);\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call]);\n};\nconst useSpeakerLayoutSortPreset = (call, isOneOnOneCall) => {\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!call)\n            return;\n        // always show the remote participant in the spotlight\n        if (isOneOnOneCall) {\n            call.setSortParticipantsBy((0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.combineComparators)(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.screenSharing, loggedIn));\n        }\n        else {\n            call.setSortParticipantsBy(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.speakerLayoutSortPreset);\n        }\n        return () => {\n            resetSortPreset(call);\n        };\n    }, [call, isOneOnOneCall]);\n};\nconst useRawRemoteParticipants = () => {\n    const { useRawParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const rawParicipants = useRawParticipants();\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => rawParicipants.filter((p) => !p.isLocalParticipant), [rawParicipants]);\n};\nconst resetSortPreset = (call) => {\n    // reset the sorting to the default for the call type\n    const callConfig = _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallTypes.get(call.type);\n    call.setSortParticipantsBy(callConfig.options.sortParticipantsBy || _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.defaultSortPreset);\n};\nconst loggedIn = (a, b) => {\n    if (a.isLocalParticipant)\n        return 1;\n    if (b.isLocalParticipant)\n        return -1;\n    return 0;\n};\n\nconst LivestreamLayout = (props) => {\n    const { useParticipants, useHasOngoingScreenShare } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const participants = useParticipants();\n    const [currentSpeaker] = participants;\n    const remoteParticipants = useRawRemoteParticipants();\n    const hasOngoingScreenShare = useHasOngoingScreenShare();\n    const presenter = hasOngoingScreenShare\n        ? participants.find(_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)\n        : undefined;\n    usePaginatedLayoutSortPreset(call);\n    const overlay = ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay, { showParticipantCount: props.showParticipantCount, showDuration: props.showDuration, showLiveBadge: props.showLiveBadge, showSpeakerName: props.showSpeakerName }));\n    const { floatingParticipantProps, muted } = props;\n    const floatingParticipantOverlay = hasOngoingScreenShare && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantOverlay\n    // these elements aren't needed for the video feed\n    , { \n        // these elements aren't needed for the video feed\n        showParticipantCount: floatingParticipantProps?.showParticipantCount ?? false, showDuration: floatingParticipantProps?.showDuration ?? false, showLiveBadge: floatingParticipantProps?.showLiveBadge ?? false, showSpeakerName: floatingParticipantProps?.showSpeakerName ?? true }));\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__wrapper\", children: [!muted && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), hasOngoingScreenShare && presenter && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: \"str-video__livestream-layout__screen-share\", participant: presenter, ParticipantViewUI: overlay, trackType: \"screenShareTrack\", muteAudio // audio is rendered by ParticipantsAudio\n                : true })), currentSpeaker && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(hasOngoingScreenShare &&\n                    (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__livestream-layout__floating-participant', `str-video__livestream-layout__floating-participant--${floatingParticipantProps?.position ?? 'top-right'}`)), participant: currentSpeaker, ParticipantViewUI: floatingParticipantOverlay || overlay, mirror: props.mirrorLocalParticipantVideo !== false ? undefined : false, muteAudio // audio is rendered by ParticipantsAudio\n                : true }))] }));\n};\nLivestreamLayout.displayName = 'LivestreamLayout';\nconst BackstageLayout = (props) => {\n    const { showEarlyParticipantCount = true } = props;\n    const { useParticipantCount, useCallStartsAt } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participantCount = useParticipantCount();\n    const startsAt = useCallStartsAt();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__livestream-layout__wrapper\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__backstage\", children: [startsAt && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__starts-at\", children: startsAt.getTime() < Date.now()\n                        ? t('Livestream starts soon')\n                        : t('Livestream starts at {{ startsAt }}', { startsAt }) })), showEarlyParticipantCount && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__early-viewers-count\", children: t('{{ count }} participants joined early', {\n                        count: participantCount,\n                    }) }))] }) }));\n};\nBackstageLayout.displayName = 'BackstageLayout';\nconst ParticipantOverlay = (props) => {\n    const { enableFullScreen = true, showParticipantCount = true, showDuration = true, showLiveBadge = true, showSpeakerName = false, } = props;\n    const { participant } = useParticipantViewContext();\n    const { useParticipantCount } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const participantCount = useParticipantCount();\n    const duration = useUpdateCallDuration();\n    const toggleFullScreen = useToggleFullScreen();\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__livestream-layout__overlay\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__livestream-layout__overlay__bar\", children: [showLiveBadge && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__live-badge\", children: t('Live') })), showParticipantCount && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__viewers-count\", children: participantCount })), showSpeakerName && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__speaker-name\", title: participant.name || participant.userId || '', children: participant.name || participant.userId || '' })), showDuration && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__duration\", children: formatDuration(duration) })), enableFullScreen && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__livestream-layout__go-fullscreen\", onClick: toggleFullScreen }))] }) }));\n};\nconst useUpdateCallDuration = () => {\n    const { useIsCallLive, useCallSession } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isCallLive = useIsCallLive();\n    const session = useCallSession();\n    const [duration, setDuration] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => {\n        if (!session || !session.live_started_at)\n            return 0;\n        const liveStartTime = new Date(session.live_started_at);\n        const now = new Date();\n        return Math.floor((now.getTime() - liveStartTime.getTime()) / 1000);\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!isCallLive)\n            return;\n        const interval = setInterval(() => {\n            setDuration((d) => d + 1);\n        }, 1000);\n        return () => {\n            clearInterval(interval);\n        };\n    }, [isCallLive]);\n    return duration;\n};\nconst useToggleFullScreen = () => {\n    const { participantViewElement } = useParticipantViewContext();\n    const [isFullscreen, setIsFullscreen] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n        if (isFullscreen) {\n            document.exitFullscreen().then(() => {\n                setIsFullscreen(false);\n            });\n        }\n        else {\n            participantViewElement?.requestFullscreen().then(() => {\n                setIsFullscreen(true);\n            });\n        }\n    }, [isFullscreen, participantViewElement]);\n};\nconst formatDuration = (durationInMs) => {\n    const days = Math.floor(durationInMs / 86400);\n    const hours = Math.floor(durationInMs / 3600);\n    const minutes = Math.floor((durationInMs % 3600) / 60);\n    const seconds = durationInMs % 60;\n    return `${days ? days + ' ' : ''}${hours ? hours + ':' : ''}${minutes < 10 ? '0' : ''}${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n};\n\nconst GROUP_SIZE = 16;\nconst PaginatedGridLayoutGroup = ({ group, mirror, VideoPlaceholder, PictureInPicturePlaceholder, ParticipantViewUI, }) => {\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__paginated-grid-layout__group', {\n            'str-video__paginated-grid-layout--one': group.length === 1,\n            'str-video__paginated-grid-layout--two-four': group.length >= 2 && group.length <= 4,\n            'str-video__paginated-grid-layout--five-nine': group.length >= 5 && group.length <= 9,\n        }), children: group.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, muteAudio: true, mirror: mirror, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, ParticipantViewUI: ParticipantViewUI }, participant.sessionId))) }));\n};\nconst PaginatedGridLayout = (props) => {\n    const { groupSize = (props.groupSize || 0) > 0\n        ? props.groupSize || GROUP_SIZE\n        : GROUP_SIZE, excludeLocalParticipant = false, filterParticipants, mirrorLocalParticipantVideo = true, pageArrowsVisible = true, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, PictureInPicturePlaceholder, muted, } = props;\n    const [page, setPage] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(0);\n    const [paginatedGridLayoutWrapperElement, setPaginatedGridLayoutWrapperElement,] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const remoteParticipants = useRawRemoteParticipants();\n    const participants = useFilteredParticipants({\n        excludeLocalParticipant,\n        filterParticipants,\n    });\n    usePaginatedLayoutSortPreset(call);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!paginatedGridLayoutWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(paginatedGridLayoutWrapperElement);\n        return () => cleanup();\n    }, [paginatedGridLayoutWrapperElement, call]);\n    // only used to render video elements\n    const participantGroups = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => chunk(participants, groupSize), [participants, groupSize]);\n    const pageCount = participantGroups.length;\n    // update page when page count is reduced and selected page no longer exists\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (page > pageCount - 1) {\n            setPage(Math.max(0, pageCount - 1));\n        }\n    }, [page, pageCount]);\n    const selectedGroup = participantGroups[page];\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout__wrapper\", ref: setPaginatedGridLayoutWrapperElement, children: [!muted && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__paginated-grid-layout\", children: [pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { icon: \"caret-left\", disabled: page === 0, onClick: () => setPage((currentPage) => Math.max(0, currentPage - 1)) })), selectedGroup && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(PaginatedGridLayoutGroup, { group: selectedGroup, mirror: mirror, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI, PictureInPicturePlaceholder: PictureInPicturePlaceholder })), pageArrowsVisible && pageCount > 1 && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { disabled: page === pageCount - 1, icon: \"caret-right\", onClick: () => setPage((currentPage) => Math.min(pageCount - 1, currentPage + 1)) }))] })] }));\n};\nPaginatedGridLayout.displayName = 'PaginatedGridLayout';\n\nconst useCalculateHardLimit = (\n/**\n * Element that stretches to 100% of the whole layout component\n */\nwrapperElement, \n/**\n * Element that directly hosts individual `ParticipantView` (or wrapper) elements\n */\nhostElement, limit) => {\n    const [calculatedLimit, setCalculatedLimit] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)({\n        vertical: typeof limit === 'number' ? limit : null,\n        horizontal: typeof limit === 'number' ? limit : null,\n    });\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!hostElement ||\n            !wrapperElement ||\n            typeof limit === 'number' ||\n            typeof limit === 'undefined')\n            return;\n        let childWidth = null;\n        let childHeight = null;\n        const resizeObserver = new ResizeObserver((entries, observer) => {\n            // this part should ideally run as little times as possible\n            // get child measurements and disconnect\n            // does not consider dynamically sized children\n            // this hook is for SpeakerLayout use only, where children in the bar are fixed size\n            if (entries.length > 1) {\n                const child = hostElement.firstChild;\n                if (child) {\n                    childHeight = child.clientHeight;\n                    childWidth = child.clientWidth;\n                    observer.unobserve(hostElement);\n                }\n            }\n            // keep the state at { vertical: 1, horizontal: 1 }\n            // until we get the proper child measurements\n            if (childHeight === null || childWidth === null)\n                return;\n            const vertical = Math.floor(wrapperElement.clientHeight / childHeight);\n            const horizontal = Math.floor(wrapperElement.clientWidth / childWidth);\n            setCalculatedLimit((pv) => {\n                if (pv.vertical !== vertical || pv.horizontal !== horizontal)\n                    return { vertical, horizontal };\n                return pv;\n            });\n        });\n        resizeObserver.observe(wrapperElement);\n        resizeObserver.observe(hostElement);\n        return () => {\n            resizeObserver.disconnect();\n        };\n    }, [hostElement, limit, wrapperElement]);\n    return calculatedLimit;\n};\n\nconst DefaultParticipantViewUIBar = () => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(DefaultParticipantViewUI, { menuPlacement: \"top-end\" }));\nconst SpeakerLayout = ({ ParticipantViewUIBar = DefaultParticipantViewUIBar, ParticipantViewUISpotlight = DefaultParticipantViewUI, VideoPlaceholder, PictureInPicturePlaceholder, participantsBarPosition = 'bottom', participantsBarLimit, mirrorLocalParticipantVideo = true, excludeLocalParticipant = false, filterParticipants, pageArrowsVisible = true, muted, }) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useParticipants } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const allParticipants = useParticipants();\n    const remoteParticipants = useRawRemoteParticipants();\n    const [participantInSpotlight, ...otherParticipants] = useFilteredParticipants({ excludeLocalParticipant, filterParticipants });\n    const [participantsBarWrapperElement, setParticipantsBarWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [participantsBarElement, setParticipantsBarElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const [buttonsWrapperElement, setButtonsWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const isSpeakerScreenSharing = participantInSpotlight && (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(participantInSpotlight);\n    const hardLimit = useCalculateHardLimit(buttonsWrapperElement, participantsBarElement, participantsBarLimit);\n    const isVertical = participantsBarPosition === 'left' || participantsBarPosition === 'right';\n    const isHorizontal = participantsBarPosition === 'top' || participantsBarPosition === 'bottom';\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!participantsBarWrapperElement || !call)\n            return;\n        const cleanup = call.setViewport(participantsBarWrapperElement);\n        return () => cleanup();\n    }, [participantsBarWrapperElement, call]);\n    const isOneOnOneCall = allParticipants.length === 2;\n    useSpeakerLayoutSortPreset(call, isOneOnOneCall);\n    let participantsWithAppliedLimit = otherParticipants;\n    const hardLimitToApply = isVertical\n        ? hardLimit.vertical\n        : hardLimit.horizontal;\n    if (typeof participantsBarLimit !== 'undefined' &&\n        hardLimitToApply !== null) {\n        participantsWithAppliedLimit = otherParticipants.slice(0, \n        // subtract 1 if speaker is sharing screen as\n        // that one is rendered independently from otherParticipants array\n        hardLimitToApply - (isSpeakerScreenSharing ? 1 : 0));\n    }\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    const renderParticipantsBar = participantsBarPosition &&\n        (participantsWithAppliedLimit.length > 0 || isSpeakerScreenSharing);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__speaker-layout__wrapper\", children: [!muted && (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: (0,clsx__WEBPACK_IMPORTED_MODULE_4__[\"default\"])('str-video__speaker-layout', participantsBarPosition &&\n                    `str-video__speaker-layout--variant-${participantsBarPosition}`), children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__spotlight\", children: participantInSpotlight && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, muteAudio: true, mirror: mirror, trackType: isSpeakerScreenSharing ? 'screenShareTrack' : 'videoTrack', ParticipantViewUI: ParticipantViewUISpotlight, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder })) }), renderParticipantsBar && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setButtonsWrapperElement, className: \"str-video__speaker-layout__participants-bar-buttons-wrapper\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participants-bar-wrapper\", ref: setParticipantsBarWrapperElement, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { ref: setParticipantsBarElement, className: \"str-video__speaker-layout__participants-bar\", children: [isSpeakerScreenSharing && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participantInSpotlight, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, mirror: mirror, muteAudio: true }) }, participantInSpotlight.sessionId)), participantsWithAppliedLimit.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"div\", { className: \"str-video__speaker-layout__participant-tile\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, ParticipantViewUI: ParticipantViewUIBar, VideoPlaceholder: VideoPlaceholder, PictureInPicturePlaceholder: PictureInPicturePlaceholder, mirror: mirror, muteAudio: true }) }, participant.sessionId)))] }) }), pageArrowsVisible && isVertical && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(VerticalScrollButtons, { scrollWrapper: participantsBarWrapperElement })), pageArrowsVisible && isHorizontal && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(HorizontalScrollButtons, { scrollWrapper: participantsBarWrapperElement }))] }))] })] }));\n};\nSpeakerLayout.displayName = 'SpeakerLayout';\nconst HorizontalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useHorizontalScrollPosition(scrollWrapper);\n    const scrollStartClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: -150, behavior: 'smooth' });\n    };\n    const scrollEndClickHandler = () => {\n        scrollWrapper?.scrollBy({ left: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'start' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollStartClickHandler, icon: \"caret-left\", className: \"str-video__speaker-layout__participants-bar--button-left\" })), scrollPosition && scrollPosition !== 'end' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollEndClickHandler, icon: \"caret-right\", className: \"str-video__speaker-layout__participants-bar--button-right\" }))] }));\n};\nconst VerticalScrollButtons = ({ scrollWrapper, }) => {\n    const scrollPosition = useVerticalScrollPosition(scrollWrapper);\n    const scrollTopClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: -150, behavior: 'smooth' });\n    };\n    const scrollBottomClickHandler = () => {\n        scrollWrapper?.scrollBy({ top: 150, behavior: 'smooth' });\n    };\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: [scrollPosition && scrollPosition !== 'top' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollTopClickHandler, icon: \"caret-up\", className: \"str-video__speaker-layout__participants-bar--button-top\" })), scrollPosition && scrollPosition !== 'bottom' && ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(IconButton, { onClick: scrollBottomClickHandler, icon: \"caret-down\", className: \"str-video__speaker-layout__participants-bar--button-bottom\" }))] }));\n};\n\nconst Pip = (props) => {\n    const { t } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useI18n)();\n    const { excludeLocalParticipant = false, filterParticipants, mirrorLocalParticipantVideo = true, VideoPlaceholder, ParticipantViewUI = DefaultParticipantViewUI, } = props;\n    const [layoutWrapperElement, setLayoutWrapperElement] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(null);\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const participants = useFilteredParticipants({\n        excludeLocalParticipant,\n        filterParticipants,\n    });\n    const screenSharingParticipant = participants.find((p) => (0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.hasScreenShare)(p));\n    usePaginatedLayoutSortPreset(call);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!layoutWrapperElement || !call)\n            return;\n        return call.setViewport(layoutWrapperElement);\n    }, [layoutWrapperElement, call]);\n    const mirror = mirrorLocalParticipantVideo ? undefined : false;\n    if (!call)\n        return null;\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__pip-layout\", ref: setLayoutWrapperElement, children: [screenSharingParticipant &&\n                (screenSharingParticipant.isLocalParticipant ? ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)(\"div\", { className: \"str-video__pip-screen-share-local\", children: [(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(Icon, { icon: \"screen-share-off\" }), (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(\"span\", { className: \"str-video__pip-screen-share-local__title\", children: t('You are presenting your screen') })] })) : ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: screenSharingParticipant, trackType: \"screenShareTrack\", muteAudio: true, mirror: false, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI }))), participants.map((participant) => ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantView, { participant: participant, muteAudio: true, mirror: mirror, VideoPlaceholder: VideoPlaceholder, ParticipantViewUI: ParticipantViewUI }, participant.sessionId)))] }));\n};\nPip.displayName = 'PipLayout.Pip';\nconst Host = () => {\n    const remoteParticipants = useRawRemoteParticipants();\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(ParticipantsAudio, { participants: remoteParticipants });\n};\nHost.displayName = 'PipLayout.Host';\nconst PipLayout = { Pip, Host };\n\nfunction useEffectEvent(cb) {\n    const cbRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(undefined);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect)(() => {\n        cbRef.current = cb;\n    }, [cb]);\n    return (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)((...args) => {\n        const callback = cbRef.current;\n        callback?.(...args);\n    }, []);\n}\n\nconst LivestreamPlayer = (props) => {\n    const { callType, callId, ...restProps } = props;\n    const client = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useStreamVideoClient)();\n    const [call, setCall] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n    const onError = useEffectEvent(props.onError);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!client)\n            return;\n        const myCall = client.call(callType, callId);\n        setCall(myCall);\n        myCall.get().catch((e) => {\n            console.error('Failed to fetch call', e);\n            onError(e);\n        });\n        return () => {\n            myCall.leave().catch((e) => {\n                console.error('Failed to leave call', e);\n            });\n            setCall(undefined);\n        };\n    }, [callId, callType, client, onError]);\n    if (!call) {\n        return null;\n    }\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(StreamCall, { call: call, children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LivestreamCall, { ...restProps }) }));\n};\nconst LivestreamCall = (props) => {\n    const call = useLivestreamCall(props);\n    const { useIsCallLive } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const isLive = useIsCallLive();\n    if (!call)\n        return null;\n    if (isLive) {\n        return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(LivestreamLayout, { ...props.layoutProps });\n    }\n    return (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(BackstageLayout, { ...props.backstageProps });\n};\nconst useLivestreamCall = (props) => {\n    const call = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCall)();\n    const { useIsCallLive, useOwnCapabilities } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const canJoinLive = useIsCallLive();\n    const canJoinEarly = useCanJoinEarly();\n    const canJoinBackstage = useOwnCapabilities()?.includes('join-backstage') ?? false;\n    const canJoinAsap = canJoinLive || canJoinEarly || canJoinBackstage;\n    const joinBehavior = props.joinBehavior ?? 'asap';\n    const canJoin = (joinBehavior === 'asap' && canJoinAsap) ||\n        (joinBehavior === 'live' && canJoinLive);\n    const onError = useEffectEvent(props.onError);\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (call && call.state.callingState === _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.CallingState.IDLE && canJoin) {\n            call.join().catch((e) => {\n                console.error('Failed to join call', e);\n                onError(e);\n            });\n        }\n    }, [call, canJoin, onError]);\n    return call;\n};\nconst useCanJoinEarly = () => {\n    const { useCallStartsAt, useCallSettings } = (0,_stream_io_video_react_bindings__WEBPACK_IMPORTED_MODULE_1__.useCallStateHooks)();\n    const startsAt = useCallStartsAt();\n    const settings = useCallSettings();\n    const joinAheadTimeSeconds = settings?.backstage.join_ahead_time_seconds;\n    const [canJoinEarly, setCanJoinEarly] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => checkCanJoinEarly(startsAt, joinAheadTimeSeconds));\n    (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n        if (!canJoinEarly) {\n            const handle = setInterval(() => {\n                setCanJoinEarly(checkCanJoinEarly(startsAt, joinAheadTimeSeconds));\n            }, 1000);\n            return () => clearInterval(handle);\n        }\n    }, [canJoinEarly, startsAt, joinAheadTimeSeconds]);\n    return canJoinEarly;\n};\nconst checkCanJoinEarly = (startsAt, joinAheadTimeSeconds) => {\n    if (!startsAt) {\n        return false;\n    }\n    return Date.now() >= +startsAt - (joinAheadTimeSeconds ?? 0) * 1000;\n};\n\nconst [major, minor, patch] = (\"1.18.6\").split('.');\n(0,_stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.setSdkInfo)({\n    type: _stream_io_video_client__WEBPACK_IMPORTED_MODULE_0__.SfuModels.SdkType.REACT,\n    major,\n    minor,\n    patch,\n});\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9pbmRleC5lcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBYO0FBQ2xWO0FBQ21LO0FBQzNKO0FBQ1E7QUFDa0k7QUFDaUc7QUFDblE7QUFDYztBQUN5RDs7QUFFL0YsaUJBQWlCLGdEQUFnRDtBQUNqRSxpQkFBaUIsd0VBQU87QUFDeEIsNENBQTRDLCtDQUFRO0FBQ3BELFlBQVksb0JBQW9CO0FBQ2hDLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWSxzREFBRyxZQUFZLG1JQUFtSTtBQUM5SjtBQUNBOztBQUVBO0FBQ0EsWUFBWSwyQkFBMkI7QUFDdkMsWUFBWSxzREFBRyxDQUFDLHVEQUFRLElBQUk7QUFDNUI7QUFDQTtBQUNBLG9CQUFvQixpREFBaUQ7QUFDckUsa0NBQWtDLGlFQUFRO0FBQzFDLHVFQUF1RSxzREFBRyxVQUFVLGtFQUFrRTtBQUN0Siw2Q0FBNkMsNEVBQW1CO0FBQ2hFO0FBQ0EsMkNBQTJDLHNEQUFHLFVBQVUsNkVBQTZFO0FBQ3JJLG9CQUFvQix1REFBSSxDQUFDLDJDQUFVLElBQUksNkRBQTZEO0FBQ3BHLFNBQVMsR0FBRztBQUNaO0FBQ0E7O0FBRUEsK0JBQStCLG9EQUFhO0FBQzVDLHdDQUF3QyxpREFBVTs7QUFFbEQsK0JBQStCLGdFQUFnRTtBQUMvRixZQUFZLGdDQUFnQyx3QkFBd0Is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LGFBQWE7QUFDYjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxtRUFBVTtBQUNWLFVBQVUsOERBQVM7QUFDbkI7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFbXpEO0FBQ3B6RCIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20tY2xvbmUvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9pbmRleC5lcy5qcz85NGRkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGhhc0F1ZGlvLCBoYXNTY3JlZW5TaGFyZUF1ZGlvLCBDYWxsaW5nU3RhdGUsIGhhc1ZpZGVvLCBoYXNTY3JlZW5TaGFyZSwgT3duQ2FwYWJpbGl0eSwgQnJvd3NlcnMsIFZpc2liaWxpdHlTdGF0ZSwgZ2V0TG9nZ2VyLCBkaXNwb3NlT2ZNZWRpYVN0cmVhbSwgU2Z1TW9kZWxzLCBpc1Bpbm5lZCwgbmFtZSwgTm9pc2VDYW5jZWxsYXRpb25TZXR0aW5nc01vZGVFbnVtLCBwYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0LCBjb21iaW5lQ29tcGFyYXRvcnMsIHNjcmVlblNoYXJpbmcsIHNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0LCBDYWxsVHlwZXMsIGRlZmF1bHRTb3J0UHJlc2V0LCBzZXRTZGtJbmZvIH0gZnJvbSAnQHN0cmVhbS1pby92aWRlby1jbGllbnQnO1xuZXhwb3J0ICogZnJvbSAnQHN0cmVhbS1pby92aWRlby1jbGllbnQnO1xuaW1wb3J0IHsgdXNlQ2FsbCwgdXNlQ2FsbFN0YXRlSG9va3MsIHVzZUkxOG4sIFJlc3RyaWN0ZWQsIHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcsIHVzZUNvbm5lY3RlZFVzZXIsIFN0cmVhbUNhbGxQcm92aWRlciwgU3RyZWFtVmlkZW9Qcm92aWRlciwgdXNlU3RyZWFtVmlkZW9DbGllbnQgfSBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLXJlYWN0LWJpbmRpbmdzJztcbmV4cG9ydCAqIGZyb20gJ0BzdHJlYW0taW8vdmlkZW8tcmVhY3QtYmluZGluZ3MnO1xuaW1wb3J0IHsganN4LCBGcmFnbWVudCwganN4cyB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIEZyYWdtZW50IGFzIEZyYWdtZW50JDEsIGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VSZWYsIGlzVmFsaWRFbGVtZW50LCBmb3J3YXJkUmVmLCB1c2VMYXlvdXRFZmZlY3QsIGxhenksIFN1c3BlbnNlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRmxvYXRpbmcsIG9mZnNldCwgc2hpZnQsIGZsaXAsIHNpemUsIGF1dG9VcGRhdGUsIEZsb2F0aW5nT3ZlcmxheSwgRmxvYXRpbmdQb3J0YWwsIGFycm93LCBGbG9hdGluZ0Fycm93LCB1c2VMaXN0SXRlbSwgdXNlTGlzdE5hdmlnYXRpb24sIHVzZVR5cGVhaGVhZCwgdXNlQ2xpY2ssIHVzZURpc21pc3MsIHVzZVJvbGUsIHVzZUludGVyYWN0aW9ucywgRmxvYXRpbmdGb2N1c01hbmFnZXIsIEZsb2F0aW5nTGlzdCwgdXNlSG92ZXIgfSBmcm9tICdAZmxvYXRpbmctdWkvcmVhY3QnO1xuaW1wb3J0IGNsc3ggZnJvbSAnY2xzeCc7XG5pbXBvcnQgeyBmbHVzaFN5bmMgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IHsgaXNQbGF0Zm9ybVN1cHBvcnRlZCwgbG9hZFRGTGl0ZSwgY3JlYXRlUmVuZGVyZXIgfSBmcm9tICdAc3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViJztcblxuY29uc3QgQXVkaW8gPSAoeyBwYXJ0aWNpcGFudCwgdHJhY2tUeXBlID0gJ2F1ZGlvVHJhY2snLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IFthdWRpb0VsZW1lbnQsIHNldEF1ZGlvRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCB7IHVzZXJJZCwgc2Vzc2lvbklkIH0gPSBwYXJ0aWNpcGFudDtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWF1ZGlvRWxlbWVudClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGwuYmluZEF1ZGlvRWxlbWVudChhdWRpb0VsZW1lbnQsIHNlc3Npb25JZCwgdHJhY2tUeXBlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFudXA/LigpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCBzZXNzaW9uSWQsIGF1ZGlvRWxlbWVudCwgdHJhY2tUeXBlXSk7XG4gICAgcmV0dXJuIChqc3goXCJhdWRpb1wiLCB7IGF1dG9QbGF5OiB0cnVlLCAuLi5yZXN0LCByZWY6IHNldEF1ZGlvRWxlbWVudCwgXCJkYXRhLXVzZXItaWRcIjogdXNlcklkLCBcImRhdGEtc2Vzc2lvbi1pZFwiOiBzZXNzaW9uSWQsIFwiZGF0YS10cmFjay10eXBlXCI6IHRyYWNrVHlwZSB9KSk7XG59O1xuQXVkaW8uZGlzcGxheU5hbWUgPSAnQXVkaW8nO1xuXG5jb25zdCBQYXJ0aWNpcGFudHNBdWRpbyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnRzLCBhdWRpb1Byb3BzIH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChGcmFnbWVudCwgeyBjaGlsZHJlbjogcGFydGljaXBhbnRzLm1hcCgocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChwYXJ0aWNpcGFudC5pc0xvY2FsUGFydGljaXBhbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCB7IGF1ZGlvU3RyZWFtLCBzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtLCBzZXNzaW9uSWQgfSA9IHBhcnRpY2lwYW50O1xuICAgICAgICAgICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIGNvbnN0IGF1ZGlvVHJhY2tFbGVtZW50ID0gaGFzQXVkaW9UcmFjayAmJiBhdWRpb1N0cmVhbSAmJiAoanN4KEF1ZGlvLCB7IC4uLmF1ZGlvUHJvcHMsIHRyYWNrVHlwZTogXCJhdWRpb1RyYWNrXCIsIHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9KSk7XG4gICAgICAgICAgICBjb25zdCBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgPSBoYXNTY3JlZW5TaGFyZUF1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICAgICAgICAgIGNvbnN0IHNjcmVlblNoYXJlQXVkaW9UcmFja0VsZW1lbnQgPSBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgJiZcbiAgICAgICAgICAgICAgICBzY3JlZW5TaGFyZUF1ZGlvU3RyZWFtICYmIChqc3goQXVkaW8sIHsgLi4uYXVkaW9Qcm9wcywgdHJhY2tUeXBlOiBcInNjcmVlblNoYXJlQXVkaW9UcmFja1wiLCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIChqc3hzKEZyYWdtZW50JDEsIHsgY2hpbGRyZW46IFthdWRpb1RyYWNrRWxlbWVudCwgc2NyZWVuU2hhcmVBdWRpb1RyYWNrRWxlbWVudF0gfSwgc2Vzc2lvbklkKSk7XG4gICAgICAgIH0pIH0pKTtcbn07XG5QYXJ0aWNpcGFudHNBdWRpby5kaXNwbGF5TmFtZSA9ICdQYXJ0aWNpcGFudHNBdWRpbyc7XG5cbmNvbnN0IFBhcnRpY2lwYW50Vmlld0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KHVuZGVmaW5lZCk7XG5jb25zdCB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0ID0gKCkgPT4gdXNlQ29udGV4dChQYXJ0aWNpcGFudFZpZXdDb250ZXh0KTtcblxuY29uc3QgdXNlRmxvYXRpbmdVSVByZXNldCA9ICh7IG1pZGRsZXdhcmUgPSBbXSwgcGxhY2VtZW50LCBzdHJhdGVneSwgb2Zmc2V0OiBvZmZzZXRJblB4ID0gMTAsIH0pID0+IHtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHVwZGF0ZSwgZWxlbWVudHM6IHsgZG9tUmVmZXJlbmNlLCBmbG9hdGluZyB9LCBjb250ZXh0LCB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5LFxuICAgICAgICBtaWRkbGV3YXJlOiBbXG4gICAgICAgICAgICBvZmZzZXQob2Zmc2V0SW5QeCksXG4gICAgICAgICAgICBzaGlmdCgpLFxuICAgICAgICAgICAgZmxpcCgpLFxuICAgICAgICAgICAgc2l6ZSh7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgYXBwbHk6ICh7IGF2YWlsYWJsZUhlaWdodCwgZWxlbWVudHMgfSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGVsZW1lbnRzLmZsb2F0aW5nLnN0eWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQ6IGAke2F2YWlsYWJsZUhlaWdodH1weGAsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIC4uLm1pZGRsZXdhcmUsXG4gICAgICAgIF0sXG4gICAgfSk7XG4gICAgLy8gaGFuZGxlIHdpbmRvdyByZXNpemluZ1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghZG9tUmVmZXJlbmNlIHx8ICFmbG9hdGluZylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGF1dG9VcGRhdGUoZG9tUmVmZXJlbmNlLCBmbG9hdGluZywgdXBkYXRlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFudXAoKTtcbiAgICB9LCBbZG9tUmVmZXJlbmNlLCBmbG9hdGluZywgdXBkYXRlXSk7XG4gICAgcmV0dXJuIHsgcmVmcywgeCwgeSwgZG9tUmVmZXJlbmNlLCBmbG9hdGluZywgc3RyYXRlZ3ksIGNvbnRleHQgfTtcbn07XG5cbmNvbnN0IGRlZmF1bHREZXZpY2UgPSAnZGVmYXVsdCc7XG4vKipcbiAqIFRoaXMgaG9vayB3aWxsIGFwcGx5IGFuZCBwZXJzaXN0IHRoZSBkZXZpY2UgcHJlZmVyZW5jZXMgZnJvbSBsb2NhbCBzdG9yYWdlLlxuICpcbiAqIEBwYXJhbSBrZXkgdGhlIGtleSB0byB1c2UgZm9yIGxvY2FsIHN0b3JhZ2UuXG4gKi9cbmNvbnN0IHVzZVBlcnNpc3RlZERldmljZVByZWZlcmVuY2VzID0gKGtleSA9ICdAc3RyZWFtLWlvL2RldmljZS1wcmVmZXJlbmNlcycpID0+IHtcbiAgICBjb25zdCB7IHVzZUNhbGxTZXR0aW5ncywgdXNlQ2FsbENhbGxpbmdTdGF0ZSwgdXNlTWljcm9waG9uZVN0YXRlLCB1c2VDYW1lcmFTdGF0ZSwgdXNlU3BlYWtlclN0YXRlLCB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBzZXR0aW5ncyA9IHVzZUNhbGxTZXR0aW5ncygpO1xuICAgIGNvbnN0IGNhbGxpbmdTdGF0ZSA9IHVzZUNhbGxDYWxsaW5nU3RhdGUoKTtcbiAgICBjb25zdCBtaWNyb3Bob25lU3RhdGUgPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICBjb25zdCBjYW1lcmFTdGF0ZSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgY29uc3Qgc3BlYWtlclN0YXRlID0gdXNlU3BlYWtlclN0YXRlKCk7XG4gICAgY29uc3QgW2FwcGx5aW5nU3RhdGUsIHNldEFwcGx5aW5nU3RhdGVdID0gdXNlU3RhdGUoJ2lkbGUnKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gYXBwbHkoKSB7XG4gICAgICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUIHx8XG4gICAgICAgICAgICAhbWljcm9waG9uZVN0YXRlLmRldmljZXMubGVuZ3RoIHx8XG4gICAgICAgICAgICAhY2FtZXJhU3RhdGUuZGV2aWNlcy5sZW5ndGggfHxcbiAgICAgICAgICAgICFzcGVha2VyU3RhdGUuZGV2aWNlcyB8fFxuICAgICAgICAgICAgIXNldHRpbmdzIHx8XG4gICAgICAgICAgICBhcHBseWluZ1N0YXRlICE9PSAnaWRsZScpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzZXRBcHBseWluZ1N0YXRlKCdhcHBseWluZycpO1xuICAgICAgICAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBbZGV2aWNlS2V5LCBzdGF0ZSwgZGVmYXVsdE11dGVkXSBvZiBbXG4gICAgICAgICAgICAgICAgWydtaWNyb3Bob25lJywgbWljcm9waG9uZVN0YXRlLCAhc2V0dGluZ3MuYXVkaW8ubWljX2RlZmF1bHRfb25dLFxuICAgICAgICAgICAgICAgIFsnY2FtZXJhJywgY2FtZXJhU3RhdGUsICFzZXR0aW5ncy52aWRlby5jYW1lcmFfZGVmYXVsdF9vbl0sXG4gICAgICAgICAgICAgICAgWydzcGVha2VyJywgc3BlYWtlclN0YXRlLCBmYWxzZV0sXG4gICAgICAgICAgICBdKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcHJlZmVyZW5jZXMgPSBwYXJzZUxvY2FsRGV2aWNlUHJlZmVyZW5jZXMoa2V5KTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmVmZXJlbmNlID0gcHJlZmVyZW5jZXNbZGV2aWNlS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYW5hZ2VyID0gc3RhdGVbZGV2aWNlS2V5XTtcbiAgICAgICAgICAgICAgICBjb25zdCBhcHBseVByb21pc2UgPSBwcmVmZXJlbmNlXG4gICAgICAgICAgICAgICAgICAgID8gYXBwbHlMb2NhbERldmljZVByZWZlcmVuY2UobWFuYWdlciwgW3ByZWZlcmVuY2VdLmZsYXQoKSwgc3RhdGUuZGV2aWNlcylcbiAgICAgICAgICAgICAgICAgICAgOiBhcHBseU11dGVkU3RhdGUobWFuYWdlciwgZGVmYXVsdE11dGVkKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBhcHBseVByb21pc2UuY2F0Y2goKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBhcHBseSAke2RldmljZUtleX0gZGV2aWNlIHByZWZlcmVuY2VzYCwgZXJyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoKS5maW5hbGx5KCgpID0+IHNldEFwcGx5aW5nU3RhdGUoKHN0YXRlKSA9PiAoc3RhdGUgPT09ICdhcHBseWluZycgPyAnYXBwbGllZCcgOiBzdGF0ZSkpKTtcbiAgICB9LCBbXG4gICAgICAgIGFwcGx5aW5nU3RhdGUsXG4gICAgICAgIGNhbGxpbmdTdGF0ZSxcbiAgICAgICAgY2FtZXJhU3RhdGUsXG4gICAgICAgIGNhbWVyYVN0YXRlLmRldmljZXMsXG4gICAgICAgIGtleSxcbiAgICAgICAgbWljcm9waG9uZVN0YXRlLFxuICAgICAgICBtaWNyb3Bob25lU3RhdGUuZGV2aWNlcyxcbiAgICAgICAgc2V0dGluZ3MsXG4gICAgICAgIHNwZWFrZXJTdGF0ZSxcbiAgICAgICAgc3BlYWtlclN0YXRlLmRldmljZXMsXG4gICAgXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uIHBlcnNpc3QoKSB7XG4gICAgICAgIGlmIChjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUIHx8IGFwcGx5aW5nU3RhdGUgIT09ICdhcHBsaWVkJykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgW2RldmljZUtleSwgZGV2aWNlcywgc2VsZWN0ZWREZXZpY2UsIGlzTXV0ZV0gb2YgW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICdjYW1lcmEnLFxuICAgICAgICAgICAgICAgIGNhbWVyYVN0YXRlLmRldmljZXMsXG4gICAgICAgICAgICAgICAgY2FtZXJhU3RhdGUuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgICAgICAgICAgY2FtZXJhU3RhdGUuaXNNdXRlLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFtcbiAgICAgICAgICAgICAgICAnbWljcm9waG9uZScsXG4gICAgICAgICAgICAgICAgbWljcm9waG9uZVN0YXRlLmRldmljZXMsXG4gICAgICAgICAgICAgICAgbWljcm9waG9uZVN0YXRlLnNlbGVjdGVkRGV2aWNlLFxuICAgICAgICAgICAgICAgIG1pY3JvcGhvbmVTdGF0ZS5pc011dGUsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICAgICdzcGVha2VyJyxcbiAgICAgICAgICAgICAgICBzcGVha2VyU3RhdGUuZGV2aWNlcyxcbiAgICAgICAgICAgICAgICBzcGVha2VyU3RhdGUuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgICAgICAgICAgc3BlYWtlclN0YXRlLmlzTXV0ZSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIF0pIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGF0Y2hMb2NhbERldmljZVByZWZlcmVuY2Uoa2V5LCBkZXZpY2VLZXksIHtcbiAgICAgICAgICAgICAgICAgICAgZGV2aWNlcyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgICAgICAgICAgICAgIGlzTXV0ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBzYXZlICR7ZGV2aWNlS2V5fSBkZXZpY2UgcHJlZmVyZW5jZXNgLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBhcHBseWluZ1N0YXRlLFxuICAgICAgICBjYWxsaW5nU3RhdGUsXG4gICAgICAgIGNhbWVyYVN0YXRlLmRldmljZXMsXG4gICAgICAgIGNhbWVyYVN0YXRlLmlzTXV0ZSxcbiAgICAgICAgY2FtZXJhU3RhdGUuc2VsZWN0ZWREZXZpY2UsXG4gICAgICAgIGtleSxcbiAgICAgICAgbWljcm9waG9uZVN0YXRlLmRldmljZXMsXG4gICAgICAgIG1pY3JvcGhvbmVTdGF0ZS5pc011dGUsXG4gICAgICAgIG1pY3JvcGhvbmVTdGF0ZS5zZWxlY3RlZERldmljZSxcbiAgICAgICAgc3BlYWtlclN0YXRlLmRldmljZXMsXG4gICAgICAgIHNwZWFrZXJTdGF0ZS5pc011dGUsXG4gICAgICAgIHNwZWFrZXJTdGF0ZS5zZWxlY3RlZERldmljZSxcbiAgICBdKTtcbn07XG4vLyBjb25zdCB1c2VQZXJzaXN0ZWREZXZpY2VQcmVmZXJlbmNlID0gPEsgZXh0ZW5kcyBEZXZpY2VLZXk+KFxuLy8gICBrZXk6IHN0cmluZyxcbi8vICAgZGV2aWNlS2V5OiBLLFxuLy8gICBzdGF0ZTogRGV2aWNlU3RhdGU8Sz4sXG4vLyAgIGRlZmF1bHRNdXRlZD86IGJvb2xlYW4sXG4vLyApOiB2b2lkID0+IHtcbi8vICAgY29uc3QgeyB1c2VDYWxsQ2FsbGluZ1N0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuLy8gICBjb25zdCBjYWxsaW5nU3RhdGUgPSB1c2VDYWxsQ2FsbGluZ1N0YXRlKCk7XG4vLyAgIGNvbnN0IFthcHBseWluZ1N0YXRlLCBzZXRBcHBseWluZ1N0YXRlXSA9IHVzZVN0YXRlPFxuLy8gICAgICdpZGxlJyB8ICdhcHBseWluZycgfCAnYXBwbGllZCdcbi8vICAgPignaWRsZScpO1xuLy8gICBjb25zdCBtYW5hZ2VyID0gc3RhdGVbZGV2aWNlS2V5XTtcbi8vICAgdXNlRWZmZWN0KFxuLy8gICAgIGZ1bmN0aW9uIGFwcGx5KCkge1xuLy8gICAgICAgaWYgKFxuLy8gICAgICAgICBjYWxsaW5nU3RhdGUgPT09IENhbGxpbmdTdGF0ZS5MRUZUIHx8XG4vLyAgICAgICAgICFzdGF0ZS5kZXZpY2VzPy5sZW5ndGggfHxcbi8vICAgICAgICAgdHlwZW9mIGRlZmF1bHRNdXRlZCAhPT0gJ2Jvb2xlYW4nIHx8XG4vLyAgICAgICAgIGFwcGx5aW5nU3RhdGUgIT09ICdpZGxlJ1xuLy8gICAgICAgKSB7XG4vLyAgICAgICAgIHJldHVybjtcbi8vICAgICAgIH1cbi8vICAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gcGFyc2VMb2NhbERldmljZVByZWZlcmVuY2VzKGtleSk7XG4vLyAgICAgICBjb25zdCBwcmVmZXJlbmNlID0gcHJlZmVyZW5jZXNbZGV2aWNlS2V5XTtcbi8vICAgICAgIHNldEFwcGx5aW5nU3RhdGUoJ2FwcGx5aW5nJyk7XG4vLyAgICAgICBpZiAoIW1hbmFnZXIuc3RhdGUuc2VsZWN0ZWREZXZpY2UpIHtcbi8vICAgICAgICAgY29uc3QgYXBwbHlQcm9taXNlID0gcHJlZmVyZW5jZVxuLy8gICAgICAgICAgID8gYXBwbHlMb2NhbERldmljZVByZWZlcmVuY2UoXG4vLyAgICAgICAgICAgICAgIG1hbmFnZXIsXG4vLyAgICAgICAgICAgICAgIFtwcmVmZXJlbmNlXS5mbGF0KCksXG4vLyAgICAgICAgICAgICAgIHN0YXRlLmRldmljZXMsXG4vLyAgICAgICAgICAgICApXG4vLyAgICAgICAgICAgOiBhcHBseU11dGVkU3RhdGUobWFuYWdlciwgZGVmYXVsdE11dGVkKTtcbi8vICAgICAgICAgYXBwbHlQcm9taXNlXG4vLyAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbi8vICAgICAgICAgICAgIGNvbnNvbGUud2Fybihcbi8vICAgICAgICAgICAgICAgYEZhaWxlZCB0byBhcHBseSAke2RldmljZUtleX0gZGV2aWNlIHByZWZlcmVuY2VzYCxcbi8vICAgICAgICAgICAgICAgZXJyLFxuLy8gICAgICAgICAgICAgKTtcbi8vICAgICAgICAgICB9KVxuLy8gICAgICAgICAgIC5maW5hbGx5KCgpID0+IHNldEFwcGx5aW5nU3RhdGUoJ2FwcGxpZWQnKSk7XG4vLyAgICAgICB9IGVsc2Uge1xuLy8gICAgICAgICBzZXRBcHBseWluZ1N0YXRlKCdhcHBsaWVkJyk7XG4vLyAgICAgICB9XG4vLyAgICAgfSxcbi8vICAgICBbXG4vLyAgICAgICBhcHBseWluZ1N0YXRlLFxuLy8gICAgICAgY2FsbGluZ1N0YXRlLFxuLy8gICAgICAgZGVmYXVsdE11dGVkLFxuLy8gICAgICAgZGV2aWNlS2V5LFxuLy8gICAgICAga2V5LFxuLy8gICAgICAgbWFuYWdlcixcbi8vICAgICAgIHN0YXRlLmRldmljZXMsXG4vLyAgICAgXSxcbi8vICAgKTtcbi8vICAgdXNlRWZmZWN0KFxuLy8gICAgIGZ1bmN0aW9uIHBlcnNpc3QoKSB7XG4vLyAgICAgICBpZiAoXG4vLyAgICAgICAgIGNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLkxFRlQgfHxcbi8vICAgICAgICAgIXN0YXRlLmRldmljZXM/Lmxlbmd0aCB8fFxuLy8gICAgICAgICBhcHBseWluZ1N0YXRlICE9PSAnYXBwbGllZCdcbi8vICAgICAgICkge1xuLy8gICAgICAgICByZXR1cm47XG4vLyAgICAgICB9XG4vLyAgICAgICB0cnkge1xuLy8gICAgICAgICBwYXRjaExvY2FsRGV2aWNlUHJlZmVyZW5jZShrZXksIGRldmljZUtleSwge1xuLy8gICAgICAgICAgIGRldmljZXM6IHN0YXRlLmRldmljZXMsXG4vLyAgICAgICAgICAgc2VsZWN0ZWREZXZpY2U6IHN0YXRlLnNlbGVjdGVkRGV2aWNlLFxuLy8gICAgICAgICAgIGlzTXV0ZTogc3RhdGUuaXNNdXRlLFxuLy8gICAgICAgICB9KTtcbi8vICAgICAgIH0gY2F0Y2ggKGVycikge1xuLy8gICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBzYXZlICR7ZGV2aWNlS2V5fSBkZXZpY2UgcHJlZmVyZW5jZXNgLCBlcnIpO1xuLy8gICAgICAgfVxuLy8gICAgIH0sXG4vLyAgICAgW1xuLy8gICAgICAgYXBwbHlpbmdTdGF0ZSxcbi8vICAgICAgIGNhbGxpbmdTdGF0ZSxcbi8vICAgICAgIGRldmljZUtleSxcbi8vICAgICAgIGtleSxcbi8vICAgICAgIHN0YXRlLmRldmljZXMsXG4vLyAgICAgICBzdGF0ZS5pc011dGUsXG4vLyAgICAgICBzdGF0ZS5zZWxlY3RlZERldmljZSxcbi8vICAgICBdLFxuLy8gICApO1xuLy8gfTtcbmNvbnN0IHBhcnNlTG9jYWxEZXZpY2VQcmVmZXJlbmNlcyA9IChrZXkpID0+IHtcbiAgICBjb25zdCBwcmVmZXJlbmNlc1N0ciA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgIGxldCBwcmVmZXJlbmNlcyA9IHt9O1xuICAgIGlmIChwcmVmZXJlbmNlc1N0cikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcHJlZmVyZW5jZXMgPSBKU09OLnBhcnNlKHByZWZlcmVuY2VzU3RyKTtcbiAgICAgICAgICAgIGlmIChPYmplY3QuaGFzT3duKHByZWZlcmVuY2VzLCAnbWljJykpIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlcy5taWNyb3Bob25lID0gcHJlZmVyZW5jZXMubWljO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8qIGFzc3VtZSBwcmVmZXJlbmNlcyBhcmUgZW1wdHkgKi9cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcHJlZmVyZW5jZXM7XG59O1xuY29uc3QgcGF0Y2hMb2NhbERldmljZVByZWZlcmVuY2UgPSAoa2V5LCBkZXZpY2VLZXksIHN0YXRlKSA9PiB7XG4gICAgY29uc3QgcHJlZmVyZW5jZXMgPSBwYXJzZUxvY2FsRGV2aWNlUHJlZmVyZW5jZXMoa2V5KTtcbiAgICBjb25zdCBuZXh0UHJlZmVyZW5jZSA9IGdldFNlbGVjdGVkRGV2aWNlUHJlZmVyZW5jZShzdGF0ZS5kZXZpY2VzLCBzdGF0ZS5zZWxlY3RlZERldmljZSk7XG4gICAgY29uc3QgcHJlZmVyZW5jZUhpc3RvcnkgPSBbcHJlZmVyZW5jZXNbZGV2aWNlS2V5XSA/PyBbXV1cbiAgICAgICAgLmZsYXQoKVxuICAgICAgICAuZmlsdGVyKChwKSA9PiBwLnNlbGVjdGVkRGV2aWNlSWQgIT09IG5leHRQcmVmZXJlbmNlLnNlbGVjdGVkRGV2aWNlSWQgJiZcbiAgICAgICAgKHAuc2VsZWN0ZWREZXZpY2VMYWJlbCA9PT0gJycgfHxcbiAgICAgICAgICAgIHAuc2VsZWN0ZWREZXZpY2VMYWJlbCAhPT0gbmV4dFByZWZlcmVuY2Uuc2VsZWN0ZWREZXZpY2VMYWJlbCkpO1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgLi4ucHJlZmVyZW5jZXMsXG4gICAgICAgIG1pYzogdW5kZWZpbmVkLCAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgW2RldmljZUtleV06IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAuLi5uZXh0UHJlZmVyZW5jZSxcbiAgICAgICAgICAgICAgICBtdXRlZDogc3RhdGUuaXNNdXRlLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLnByZWZlcmVuY2VIaXN0b3J5LFxuICAgICAgICBdLnNsaWNlKDAsIDMpLFxuICAgIH0pKTtcbn07XG5jb25zdCBhcHBseUxvY2FsRGV2aWNlUHJlZmVyZW5jZSA9IGFzeW5jIChtYW5hZ2VyLCBwcmVmZXJlbmNlLCBkZXZpY2VzKSA9PiB7XG4gICAgbGV0IG11dGVkO1xuICAgIGZvciAoY29uc3QgcCBvZiBwcmVmZXJlbmNlKSB7XG4gICAgICAgIG11dGVkID8/IChtdXRlZCA9IHAubXV0ZWQpO1xuICAgICAgICBpZiAocC5zZWxlY3RlZERldmljZUlkID09PSBkZWZhdWx0RGV2aWNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZXZpY2UgPSBkZXZpY2VzLmZpbmQoKGQpID0+IGQuZGV2aWNlSWQgPT09IHAuc2VsZWN0ZWREZXZpY2VJZCkgPz9cbiAgICAgICAgICAgIGRldmljZXMuZmluZCgoZCkgPT4gZC5sYWJlbCA9PT0gcC5zZWxlY3RlZERldmljZUxhYmVsKTtcbiAgICAgICAgaWYgKGRldmljZSkge1xuICAgICAgICAgICAgaWYgKCFtYW5hZ2VyLnN0YXRlLnNlbGVjdGVkRGV2aWNlKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgbWFuYWdlci5zZWxlY3QoZGV2aWNlLmRldmljZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG11dGVkID0gcC5tdXRlZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbXV0ZWQgPT09ICdib29sZWFuJykge1xuICAgICAgICBhd2FpdCBhcHBseU11dGVkU3RhdGUobWFuYWdlciwgbXV0ZWQpO1xuICAgIH1cbn07XG5jb25zdCBhcHBseU11dGVkU3RhdGUgPSBhc3luYyAobWFuYWdlciwgbXV0ZWQpID0+IHtcbiAgICBpZiAoIW1hbmFnZXIuc3RhdGUuc3RhdHVzKSB7XG4gICAgICAgIGF3YWl0IG1hbmFnZXJbbXV0ZWQgPyAnZGlzYWJsZScgOiAnZW5hYmxlJ10/LigpO1xuICAgIH1cbn07XG5jb25zdCBnZXRTZWxlY3RlZERldmljZVByZWZlcmVuY2UgPSAoZGV2aWNlcywgc2VsZWN0ZWREZXZpY2UpID0+ICh7XG4gICAgc2VsZWN0ZWREZXZpY2VJZDogc2VsZWN0ZWREZXZpY2UgfHwgZGVmYXVsdERldmljZSxcbiAgICBzZWxlY3RlZERldmljZUxhYmVsOiBkZXZpY2VzPy5maW5kKChkKSA9PiBkLmRldmljZUlkID09PSBzZWxlY3RlZERldmljZSk/LmxhYmVsID8/ICcnLFxufSk7XG5cbmNvbnN0IFNDUk9MTF9USFJFU0hPTEQgPSAxMDtcbi8qKlxuICogSG9vayB3aGljaCBvYnNlcnZlcyBlbGVtZW50J3Mgc2Nyb2xsIHBvc2l0aW9uIGFuZCByZXR1cm5zIHRleHQgdmFsdWUgYmFzZWQgb24gdGhlXG4gKiBwb3NpdGlvbiBvZiB0aGUgc2Nyb2xsYmFyIChgdG9wYCwgYGJvdHRvbWAsIGBiZXR3ZWVuYCBhbmQgYG51bGxgIGlmIG5vIHNjcm9sbGJhciBpcyBhdmFpbGFibGUpXG4gKi9cbmNvbnN0IHVzZVZlcnRpY2FsU2Nyb2xsUG9zaXRpb24gPSAoc2Nyb2xsRWxlbWVudCwgdGhyZXNob2xkID0gU0NST0xMX1RIUkVTSE9MRCkgPT4ge1xuICAgIGNvbnN0IFtzY3JvbGxQb3NpdGlvbiwgc2V0U2Nyb2xsUG9zaXRpb25dID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFzY3JvbGxFbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBzY3JvbGxIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHNjcm9sbEVsZW1lbnQ7XG4gICAgICAgICAgICBjb25zdCBoYXNWZXJ0aWNhbFNjcm9sbGJhciA9IGVsZW1lbnQuc2Nyb2xsSGVpZ2h0ID4gZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICBpZiAoIWhhc1ZlcnRpY2FsU2Nyb2xsYmFyKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbihudWxsKTtcbiAgICAgICAgICAgIGNvbnN0IGlzQXRUaGVUb3AgPSBlbGVtZW50LnNjcm9sbFRvcCA8PSB0aHJlc2hvbGQ7XG4gICAgICAgICAgICBpZiAoaXNBdFRoZVRvcClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24oJ3RvcCcpO1xuICAgICAgICAgICAgY29uc3QgaXNBdFRoZUJvdHRvbSA9IE1hdGguYWJzKGVsZW1lbnQuc2Nyb2xsSGVpZ2h0IC0gZWxlbWVudC5zY3JvbGxUb3AgLSBlbGVtZW50LmNsaWVudEhlaWdodCkgPD0gdGhyZXNob2xkO1xuICAgICAgICAgICAgaWYgKGlzQXRUaGVCb3R0b20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFNjcm9sbFBvc2l0aW9uKCdib3R0b20nKTtcbiAgICAgICAgICAgIHNldFNjcm9sbFBvc2l0aW9uKCdiZXR3ZWVuJyk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHNjcm9sbEVsZW1lbnQpO1xuICAgICAgICBzY3JvbGxFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHNjcm9sbEhhbmRsZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgc2Nyb2xsRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgICAgIHJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgfTtcbiAgICB9LCBbc2Nyb2xsRWxlbWVudCwgdGhyZXNob2xkXSk7XG4gICAgcmV0dXJuIHNjcm9sbFBvc2l0aW9uO1xufTtcbmNvbnN0IHVzZUhvcml6b250YWxTY3JvbGxQb3NpdGlvbiA9IChzY3JvbGxFbGVtZW50LCB0aHJlc2hvbGQgPSBTQ1JPTExfVEhSRVNIT0xEKSA9PiB7XG4gICAgY29uc3QgW3Njcm9sbFBvc2l0aW9uLCBzZXRTY3JvbGxQb3NpdGlvbl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNjcm9sbEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjcm9sbEhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gc2Nyb2xsRWxlbWVudDtcbiAgICAgICAgICAgIGNvbnN0IGhhc0hvcml6b250YWxTY3JvbGxiYXIgPSBlbGVtZW50LnNjcm9sbFdpZHRoID4gZWxlbWVudC5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIGlmICghaGFzSG9yaXpvbnRhbFNjcm9sbGJhcilcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24obnVsbCk7XG4gICAgICAgICAgICBjb25zdCBpc0F0VGhlU3RhcnQgPSBlbGVtZW50LnNjcm9sbExlZnQgPD0gdGhyZXNob2xkO1xuICAgICAgICAgICAgaWYgKGlzQXRUaGVTdGFydClcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0U2Nyb2xsUG9zaXRpb24oJ3N0YXJ0Jyk7XG4gICAgICAgICAgICBjb25zdCBpc0F0VGhlRW5kID0gTWF0aC5hYnMoZWxlbWVudC5zY3JvbGxXaWR0aCAtIGVsZW1lbnQuc2Nyb2xsTGVmdCAtIGVsZW1lbnQuY2xpZW50V2lkdGgpIDw9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIGlmIChpc0F0VGhlRW5kKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXRTY3JvbGxQb3NpdGlvbignZW5kJyk7XG4gICAgICAgICAgICBzZXRTY3JvbGxQb3NpdGlvbignYmV0d2VlbicpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcihzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShzY3JvbGxFbGVtZW50KTtcbiAgICAgICAgc2Nyb2xsRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzY3JvbGxIYW5kbGVyKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHNjcm9sbEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgc2Nyb2xsSGFuZGxlcik7XG4gICAgICAgICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW3Njcm9sbEVsZW1lbnQsIHRocmVzaG9sZF0pO1xuICAgIHJldHVybiBzY3JvbGxQb3NpdGlvbjtcbn07XG5cbmNvbnN0IHVzZVJlcXVlc3RQZXJtaXNzaW9uID0gKHBlcm1pc3Npb24pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlSGFzUGVybWlzc2lvbnMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgaGFzUGVybWlzc2lvbiA9IHVzZUhhc1Blcm1pc3Npb25zKHBlcm1pc3Npb24pO1xuICAgIGNvbnN0IFtpc0F3YWl0aW5nUGVybWlzc2lvbiwgc2V0SXNBd2FpdGluZ1Blcm1pc3Npb25dID0gdXNlU3RhdGUoZmFsc2UpOyAvLyBUT0RPOiBsb2FkIHdpdGggcG9zc2libHkgcGVuZGluZyBzdGF0ZVxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc2V0ID0gKCkgPT4gc2V0SXNBd2FpdGluZ1Blcm1pc3Npb24oZmFsc2UpO1xuICAgICAgICBpZiAoaGFzUGVybWlzc2lvbilcbiAgICAgICAgICAgIHJlc2V0KCk7XG4gICAgfSwgW2hhc1Blcm1pc3Npb25dKTtcbiAgICBjb25zdCByZXF1ZXN0UGVybWlzc2lvbiA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKGhhc1Blcm1pc3Npb24pXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3QgY2FuUmVxdWVzdFBlcm1pc3Npb24gPSAhIWNhbGw/LnBlcm1pc3Npb25zQ29udGV4dC5jYW5SZXF1ZXN0KHBlcm1pc3Npb24pO1xuICAgICAgICBpZiAoaXNBd2FpdGluZ1Blcm1pc3Npb24gfHwgIWNhblJlcXVlc3RQZXJtaXNzaW9uKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBzZXRJc0F3YWl0aW5nUGVybWlzc2lvbih0cnVlKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGw/LnJlcXVlc3RQZXJtaXNzaW9ucyh7XG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbnM6IFtwZXJtaXNzaW9uXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc2V0SXNBd2FpdGluZ1Blcm1pc3Npb24oZmFsc2UpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGByZXF1ZXN0UGVybWlzc2lvbiBmYWlsZWQ6ICR7ZXJyb3J9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0sIFtjYWxsLCBoYXNQZXJtaXNzaW9uLCBpc0F3YWl0aW5nUGVybWlzc2lvbiwgcGVybWlzc2lvbl0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uLFxuICAgICAgICBoYXNQZXJtaXNzaW9uLFxuICAgICAgICBjYW5SZXF1ZXN0UGVybWlzc2lvbjogISFjYWxsPy5wZXJtaXNzaW9uc0NvbnRleHQuY2FuUmVxdWVzdChwZXJtaXNzaW9uKSxcbiAgICAgICAgaXNBd2FpdGluZ1Blcm1pc3Npb24sXG4gICAgfTtcbn07XG5cbi8qKlxuICogVXRpbGl0eSBob29rIHRoYXQgaGVscHMgcmVuZGVyIGEgbGlzdCBvZiBkZXZpY2VzIG9yIGltcGxlbWVudCBhIGRldmljZSBzZWxlY3Rvci5cbiAqIENvbXBhcmVkIHRvIHNvbWV0aW5nIGxpa2UgYHVzZUNhbWVyYVN0YXRlKCkuZGV2aWNlc2AsIGl0IGhhcyBzb21lIGhhbmR5IGZlYXR1cmVzOlxuICogMS4gQWRkcyB0aGUgXCJEZWZhdWx0XCIgZGV2aWNlIHRvIHRoZSBsaXN0IGlmIGFwcGxpY2FibGUgKGVpdGhlciB0aGUgdXNlciBkaWQgbm90XG4gKiBzZWxlY3QgYSBkZXZpY2UsIG9yIGEgcHJldmlvdXNseSBzZWxlY3RlZCBkZXZpY2UgaXMgbm8gbG9uZ2VyIGF2YWlsYWJsZSkuXG4gKiAyLiBNYXBzIHRoZSBkZXZpY2UgbGlzdCB0byBhIGZvcm1hdCBtb3JlIHN1aXRhYmxlIGZvciByZW5kZXJpbmcuXG4gKi9cbmZ1bmN0aW9uIHVzZURldmljZUxpc3QoZGV2aWNlcywgc2VsZWN0ZWREZXZpY2VJZCkge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgbGV0IHNlbGVjdGVkRGV2aWNlSW5mbyA9IG51bGw7XG4gICAgICAgIGxldCBzZWxlY3RlZEluZGV4ID0gbnVsbDtcbiAgICAgICAgY29uc3QgZGV2aWNlTGlzdCA9IGRldmljZXMubWFwKChkLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpc1NlbGVjdGVkID0gZC5kZXZpY2VJZCA9PT0gc2VsZWN0ZWREZXZpY2VJZDtcbiAgICAgICAgICAgIGNvbnN0IGRldmljZSA9IHsgZGV2aWNlSWQ6IGQuZGV2aWNlSWQsIGxhYmVsOiBkLmxhYmVsLCBpc1NlbGVjdGVkIH07XG4gICAgICAgICAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkRGV2aWNlSW5mbyA9IGRldmljZTtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEluZGV4ID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZXZpY2U7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc2VsZWN0ZWREZXZpY2VJbmZvID09PSBudWxsIHx8IHNlbGVjdGVkSW5kZXggPT09IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHREZXZpY2UgPSB7XG4gICAgICAgICAgICAgICAgZGV2aWNlSWQ6ICdkZWZhdWx0JyxcbiAgICAgICAgICAgICAgICBsYWJlbDogdCgnRGVmYXVsdCcpLFxuICAgICAgICAgICAgICAgIGlzU2VsZWN0ZWQ6IHRydWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc2VsZWN0ZWREZXZpY2VJbmZvID0gZGVmYXVsdERldmljZTtcbiAgICAgICAgICAgIHNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgZGV2aWNlTGlzdC51bnNoaWZ0KGRlZmF1bHREZXZpY2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGRldmljZUxpc3QsIHNlbGVjdGVkRGV2aWNlSW5mbywgc2VsZWN0ZWRJbmRleCB9O1xuICAgIH0sIFtkZXZpY2VzLCBzZWxlY3RlZERldmljZUlkLCB0XSk7XG59XG5cbnZhciBNZW51VmlzdWFsVHlwZTtcbihmdW5jdGlvbiAoTWVudVZpc3VhbFR5cGUpIHtcbiAgICBNZW51VmlzdWFsVHlwZVtcIlBPUlRBTFwiXSA9IFwicG9ydGFsXCI7XG4gICAgTWVudVZpc3VhbFR5cGVbXCJNRU5VXCJdID0gXCJtZW51XCI7XG59KShNZW51VmlzdWFsVHlwZSB8fCAoTWVudVZpc3VhbFR5cGUgPSB7fSkpO1xuLyoqXG4gKiBVc2VkIHRvIHByb3ZpZGUgdXRpbGl0eSBBUElzIHRvIHRoZSBjb21wb25lbnRzIHJlbmRlcmVkIGluc2lkZSB0aGUgcG9ydGFsLlxuICovXG5jb25zdCBNZW51Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuLyoqXG4gKiBBY2Nlc3MgdG8gdGhlIGNsb3NlcyBNZW51Q29udGV4dC5cbiAqL1xuY29uc3QgdXNlTWVudUNvbnRleHQgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHVzZUNvbnRleHQoTWVudUNvbnRleHQpO1xufTtcbmNvbnN0IE1lbnVQb3J0YWwgPSAoeyBjaGlsZHJlbiwgcmVmcywgfSkgPT4ge1xuICAgIGNvbnN0IHBvcnRhbElkID0gdXNlTWVtbygoKSA9PiBgc3RyLXZpZGVvLXBvcnRhbC0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gLCBbXSk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgaWQ6IHBvcnRhbElkLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wb3J0YWxcIiB9KSwganN4KEZsb2F0aW5nT3ZlcmxheSwgeyBjaGlsZHJlbjoganN4KEZsb2F0aW5nUG9ydGFsLCB7IGlkOiBwb3J0YWxJZCwgY2hpbGRyZW46IGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BvcnRhbC1jb250ZW50XCIsIHJlZjogcmVmcy5zZXRGbG9hdGluZywgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pIH0pXSB9KSk7XG59O1xuY29uc3QgTWVudVRvZ2dsZSA9ICh7IFRvZ2dsZUJ1dHRvbiwgcGxhY2VtZW50ID0gJ3RvcC1zdGFydCcsIHN0cmF0ZWd5ID0gJ2Fic29sdXRlJywgb2Zmc2V0LCB2aXN1YWxUeXBlID0gTWVudVZpc3VhbFR5cGUuTUVOVSwgY2hpbGRyZW4sIG9uVG9nZ2xlLCB9KSA9PiB7XG4gICAgY29uc3QgW21lbnVTaG93biwgc2V0TWVudVNob3duXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB0b2dnbGVIYW5kbGVyID0gdXNlUmVmKG9uVG9nZ2xlKTtcbiAgICB0b2dnbGVIYW5kbGVyLmN1cnJlbnQgPSBvblRvZ2dsZTtcbiAgICBjb25zdCB7IGZsb2F0aW5nLCBkb21SZWZlcmVuY2UsIHJlZnMsIHgsIHkgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQsXG4gICAgICAgIHN0cmF0ZWd5LFxuICAgICAgICBvZmZzZXQsXG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgcGFyZW50RG9jdW1lbnQgPSBkb21SZWZlcmVuY2U/Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoIWZsb2F0aW5nICYmIGRvbVJlZmVyZW5jZT8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHNldE1lbnVTaG93bih0cnVlKTtcbiAgICAgICAgICAgICAgICB0b2dnbGVIYW5kbGVyLmN1cnJlbnQ/Lih0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZsb2F0aW5nICYmICFmbG9hdGluZz8uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgIHNldE1lbnVTaG93bihmYWxzZSk7XG4gICAgICAgICAgICAgICAgdG9nZ2xlSGFuZGxlci5jdXJyZW50Py4oZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5ICYmIC8vIGtleSBjYW4gYmUgdW5kZWZpbmVkIGluIHNvbWUgYnJvd3NlcnNcbiAgICAgICAgICAgICAgICBldmVudC5rZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2VzY2FwZScgJiZcbiAgICAgICAgICAgICAgICAhZXZlbnQuYWx0S2V5ICYmXG4gICAgICAgICAgICAgICAgIWV2ZW50LmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICBzZXRNZW51U2hvd24oZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRvZ2dsZUhhbmRsZXIuY3VycmVudD8uKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcGFyZW50RG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2xpY2ssIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICAgICAgcGFyZW50RG9jdW1lbnQ/LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHBhcmVudERvY3VtZW50Py5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZUNsaWNrLCB7XG4gICAgICAgICAgICAgICAgY2FwdHVyZTogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcGFyZW50RG9jdW1lbnQ/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgfTtcbiAgICB9LCBbZmxvYXRpbmcsIGRvbVJlZmVyZW5jZV0pO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW21lbnVTaG93biAmJiAoanN4KE1lbnVDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGNsb3NlOiAoKSA9PiBzZXRNZW51U2hvd24oZmFsc2UpIH0sIGNoaWxkcmVuOiB2aXN1YWxUeXBlID09PSBNZW51VmlzdWFsVHlwZS5QT1JUQUwgPyAoanN4KE1lbnVQb3J0YWwsIHsgcmVmczogcmVmcywgY2hpbGRyZW46IGNoaWxkcmVuIH0pKSA6IHZpc3VhbFR5cGUgPT09IE1lbnVWaXN1YWxUeXBlLk1FTlUgPyAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbWVudS1jb250YWluZXJcIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB5ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB4ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICAgICAgfSwgcm9sZTogXCJtZW51XCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSkgOiBudWxsIH0pKSwganN4KFRvZ2dsZUJ1dHRvbiwgeyBtZW51U2hvd246IG1lbnVTaG93biwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSB9KV0gfSkpO1xufTtcblxuY29uc3QgR2VuZXJpY01lbnUgPSAoeyBjaGlsZHJlbiwgb25JdGVtQ2xpY2ssIH0pID0+IHtcbiAgICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgcmV0dXJuIChqc3goXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2dlbmVyaWMtbWVudVwiLCByZWY6IHJlZiwgb25DbGljazogKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChvbkl0ZW1DbGljayAmJlxuICAgICAgICAgICAgICAgIGUudGFyZ2V0ICE9PSByZWYuY3VycmVudCAmJlxuICAgICAgICAgICAgICAgIHJlZi5jdXJyZW50Py5jb250YWlucyhlLnRhcmdldCkpIHtcbiAgICAgICAgICAgICAgICBvbkl0ZW1DbGljayhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5jb25zdCBHZW5lcmljTWVudUJ1dHRvbkl0ZW0gPSAoeyBjaGlsZHJlbiwgLi4ucmVzdCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2dlbmVyaWMtbWVudS0taXRlbVwiLCBjaGlsZHJlbjoganN4KFwiYnV0dG9uXCIsIHsgLi4ucmVzdCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pKTtcbn07XG5cbmNvbnN0IEljb24gPSAoeyBjbGFzc05hbWUsIGljb24gfSkgPT4gKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19faWNvbicsIGljb24gJiYgYHN0ci12aWRlb19faWNvbi0tJHtpY29ufWAsIGNsYXNzTmFtZSkgfSkpO1xuXG5mdW5jdGlvbiB1c2VQaWN0dXJlSW5QaWN0dXJlU3RhdGUodmlkZW9FbGVtZW50KSB7XG4gICAgY29uc3QgW2lzUGlQLCBzZXRJc1BpUF0gPSB1c2VTdGF0ZShkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCA9PT0gdmlkZW9FbGVtZW50KTtcbiAgICBpZiAoIXZpZGVvRWxlbWVudCAmJiBpc1BpUClcbiAgICAgICAgc2V0SXNQaVAoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBoYW5kbGVQaVAgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJc1BpUChkb2N1bWVudC5waWN0dXJlSW5QaWN0dXJlRWxlbWVudCA9PT0gdmlkZW9FbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgdmlkZW9FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2VudGVycGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgIHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdsZWF2ZXBpY3R1cmVpbnBpY3R1cmUnLCBoYW5kbGVQaVApO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2VudGVycGljdHVyZWlucGljdHVyZScsIGhhbmRsZVBpUCk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbGVhdmVwaWN0dXJlaW5waWN0dXJlJywgaGFuZGxlUGlQKTtcbiAgICAgICAgfTtcbiAgICB9LCBbdmlkZW9FbGVtZW50XSk7XG4gICAgcmV0dXJuIGlzUGlQO1xufVxuXG5jb25zdCBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50LCBwYXJ0aWNpcGFudFZpZXdFbGVtZW50LCB2aWRlb0VsZW1lbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCBbZnVsbHNjcmVlbk1vZGVPbiwgc2V0RnVsbHNjcmVlbk1vZGVPbl0gPSB1c2VTdGF0ZSghIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KTtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IGlzUGlQID0gdXNlUGljdHVyZUluUGljdHVyZVN0YXRlKHZpZGVvRWxlbWVudCA/PyB1bmRlZmluZWQpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgcGluLCBzZXNzaW9uSWQsIHVzZXJJZCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgaGFzQXVkaW9UcmFjayA9IGhhc0F1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNWaWRlb1RyYWNrID0gaGFzVmlkZW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1NjcmVlblNoYXJlVHJhY2sgPSBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrID0gaGFzU2NyZWVuU2hhcmVBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgYmxvY2tVc2VyID0gKCkgPT4gY2FsbD8uYmxvY2tVc2VyKHVzZXJJZCk7XG4gICAgY29uc3QgbXV0ZUF1ZGlvID0gKCkgPT4gY2FsbD8ubXV0ZVVzZXIodXNlcklkLCAnYXVkaW8nKTtcbiAgICBjb25zdCBtdXRlVmlkZW8gPSAoKSA9PiBjYWxsPy5tdXRlVXNlcih1c2VySWQsICd2aWRlbycpO1xuICAgIGNvbnN0IG11dGVTY3JlZW5TaGFyZSA9ICgpID0+IGNhbGw/Lm11dGVVc2VyKHVzZXJJZCwgJ3NjcmVlbnNoYXJlJyk7XG4gICAgY29uc3QgbXV0ZVNjcmVlblNoYXJlQXVkaW8gPSAoKSA9PiBjYWxsPy5tdXRlVXNlcih1c2VySWQsICdzY3JlZW5zaGFyZV9hdWRpbycpO1xuICAgIGNvbnN0IGdyYW50UGVybWlzc2lvbiA9IChwZXJtaXNzaW9uKSA9PiAoKSA9PiB7XG4gICAgICAgIGNhbGw/LnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyh7XG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICBncmFudF9wZXJtaXNzaW9uczogW3Blcm1pc3Npb25dLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHJldm9rZVBlcm1pc3Npb24gPSAocGVybWlzc2lvbikgPT4gKCkgPT4ge1xuICAgICAgICBjYWxsPy51cGRhdGVVc2VyUGVybWlzc2lvbnMoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgcmV2b2tlX3Blcm1pc3Npb25zOiBbcGVybWlzc2lvbl0sXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgY29uc3QgdG9nZ2xlUGFydGljaXBhbnRQaW4gPSAoKSA9PiB7XG4gICAgICAgIGlmIChwaW4pIHtcbiAgICAgICAgICAgIGNhbGw/LnVucGluKHNlc3Npb25JZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjYWxsPy5waW4oc2Vzc2lvbklkKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgcGluRm9yRXZlcnlvbmUgPSAoKSA9PiB7XG4gICAgICAgIGNhbGxcbiAgICAgICAgICAgID8ucGluRm9yRXZlcnlvbmUoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbklkLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBwaW4gcGFydGljaXBhbnQgJHt1c2VySWR9YCwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCB1bnBpbkZvckV2ZXJ5b25lID0gKCkgPT4ge1xuICAgICAgICBjYWxsXG4gICAgICAgICAgICA/LnVucGluRm9yRXZlcnlvbmUoe1xuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxuICAgICAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbklkLFxuICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byB1bnBpbiBwYXJ0aWNpcGFudCAke3VzZXJJZH1gLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHRvZ2dsZUZ1bGxzY3JlZW5Nb2RlID0gKCkgPT4ge1xuICAgICAgICBpZiAoIWZ1bGxzY3JlZW5Nb2RlT24pIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWNpcGFudFZpZXdFbGVtZW50Py5yZXF1ZXN0RnVsbHNjcmVlbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH07XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gaGFuZGxlcyB0aGUgY2FzZSB3aGVuIGZ1bGxzY3JlZW4gbW9kZSBpcyB0b2dnbGVkIGV4dGVybmFsbHksXG4gICAgICAgIC8vIGUuZy4sIGJ5IHByZXNzaW5nIEVTQyBrZXkgb3Igc29tZSBvdGhlciBrZXlib2FyZCBzaG9ydGN1dFxuICAgICAgICBjb25zdCBoYW5kbGVGdWxsc2NyZWVuQ2hhbmdlID0gKCkgPT4ge1xuICAgICAgICAgICAgc2V0RnVsbHNjcmVlbk1vZGVPbighIWRvY3VtZW50LmZ1bGxzY3JlZW5FbGVtZW50KTtcbiAgICAgICAgfTtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGhhbmRsZUZ1bGxzY3JlZW5DaGFuZ2UpO1xuICAgICAgICB9O1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCB0b2dnbGVQaWN0dXJlSW5QaWN0dXJlID0gKCkgPT4ge1xuICAgICAgICBpZiAodmlkZW9FbGVtZW50ICYmICFpc1BpUCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZGVvRWxlbWVudFxuICAgICAgICAgICAgICAgIC5yZXF1ZXN0UGljdHVyZUluUGljdHVyZSgpXG4gICAgICAgICAgICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5leGl0UGljdHVyZUluUGljdHVyZSgpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAgIH07XG4gICAgY29uc3QgeyBjbG9zZSB9ID0gdXNlTWVudUNvbnRleHQoKSB8fCB7fTtcbiAgICByZXR1cm4gKGpzeHMoR2VuZXJpY01lbnUsIHsgb25JdGVtQ2xpY2s6IGNsb3NlLCBjaGlsZHJlbjogW2pzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHRvZ2dsZVBhcnRpY2lwYW50UGluLCBkaXNhYmxlZDogcGluICYmICFwaW4uaXNMb2NhbFBpbiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInBpblwiIH0pLCBwaW4gPyB0KCdVbnBpbicpIDogdCgnUGluJyldIH0pLCBqc3hzKFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlBJTl9GT1JfRVZFUllPTkVdLCBjaGlsZHJlbjogW2pzeHMoR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHBpbkZvckV2ZXJ5b25lLCBkaXNhYmxlZDogcGluICYmICFwaW4uaXNMb2NhbFBpbiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInBpblwiIH0pLCB0KCdQaW4gZm9yIGV2ZXJ5b25lJyldIH0pLCBqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiB1bnBpbkZvckV2ZXJ5b25lLCBkaXNhYmxlZDogIXBpbiB8fCBwaW4uaXNMb2NhbFBpbiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInBpblwiIH0pLCB0KCdVbnBpbiBmb3IgZXZlcnlvbmUnKV0gfSldIH0pLCBqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuQkxPQ0tfVVNFUlNdLCBjaGlsZHJlbjoganN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogYmxvY2tVc2VyLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwibm90LWFsbG93ZWRcIiB9KSwgdCgnQmxvY2snKV0gfSkgfSksIGpzeHMoUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuTVVURV9VU0VSU10sIGNoaWxkcmVuOiBbaGFzVmlkZW9UcmFjayAmJiAoanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogbXV0ZVZpZGVvLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwiY2FtZXJhLW9mZi1vdXRsaW5lXCIgfSksIHQoJ1R1cm4gb2ZmIHZpZGVvJyldIH0pKSwgaGFzU2NyZWVuU2hhcmVUcmFjayAmJiAoanN4cyhHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogbXV0ZVNjcmVlblNoYXJlLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwic2NyZWVuLXNoYXJlLW9mZlwiIH0pLCB0KCdUdXJuIG9mZiBzY3JlZW4gc2hhcmUnKV0gfSkpLCBoYXNBdWRpb1RyYWNrICYmIChqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBtdXRlQXVkaW8sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJuby1hdWRpb1wiIH0pLCB0KCdNdXRlIGF1ZGlvJyldIH0pKSwgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrICYmIChqc3hzKEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBtdXRlU2NyZWVuU2hhcmVBdWRpbywgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcIm5vLWF1ZGlvXCIgfSksIHQoJ011dGUgc2NyZWVuIHNoYXJlIGF1ZGlvJyldIH0pKV0gfSksIHBhcnRpY2lwYW50Vmlld0VsZW1lbnQgJiZcbiAgICAgICAgICAgICAgICB0eXBlb2YgcGFydGljaXBhbnRWaWV3RWxlbWVudC5yZXF1ZXN0RnVsbHNjcmVlbiAhPT0gJ3VuZGVmaW5lZCcgJiYgKGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogdG9nZ2xlRnVsbHNjcmVlbk1vZGUsIGNoaWxkcmVuOiB0KCd7eyBkaXJlY3Rpb24gfX0gZnVsbHNjcmVlbicsIHtcbiAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBmdWxsc2NyZWVuTW9kZU9uID8gdCgnTGVhdmUnKSA6IHQoJ0VudGVyJyksXG4gICAgICAgICAgICAgICAgfSkgfSkpLCB2aWRlb0VsZW1lbnQgJiYgZG9jdW1lbnQucGljdHVyZUluUGljdHVyZUVuYWJsZWQgJiYgKGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogdG9nZ2xlUGljdHVyZUluUGljdHVyZSwgY2hpbGRyZW46IHQoJ3t7IGRpcmVjdGlvbiB9fSBwaWN0dXJlLWluLXBpY3R1cmUnLCB7XG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogaXNQaVAgPyB0KCdMZWF2ZScpIDogdCgnRW50ZXInKSxcbiAgICAgICAgICAgICAgICB9KSB9KSksIGpzeHMoUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuVVBEQVRFX0NBTExfUEVSTUlTU0lPTlNdLCBjaGlsZHJlbjogW2pzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogZ3JhbnRQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTyksIGNoaWxkcmVuOiB0KCdBbGxvdyBhdWRpbycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IGdyYW50UGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNFTkRfVklERU8pLCBjaGlsZHJlbjogdCgnQWxsb3cgdmlkZW8nKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiBncmFudFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSksIGNoaWxkcmVuOiB0KCdBbGxvdyBzY3JlZW4gc2hhcmluZycpIH0pLCBqc3goR2VuZXJpY01lbnVCdXR0b25JdGVtLCB7IG9uQ2xpY2s6IHJldm9rZVBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX0FVRElPKSwgY2hpbGRyZW46IHQoJ0Rpc2FibGUgYXVkaW8nKSB9KSwganN4KEdlbmVyaWNNZW51QnV0dG9uSXRlbSwgeyBvbkNsaWNrOiByZXZva2VQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9WSURFTyksIGNoaWxkcmVuOiB0KCdEaXNhYmxlIHZpZGVvJykgfSksIGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgb25DbGljazogcmV2b2tlUGVybWlzc2lvbihPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFKSwgY2hpbGRyZW46IHQoJ0Rpc2FibGUgc2NyZWVuIHNoYXJpbmcnKSB9KV0gfSldIH0pKTtcbn07XG5cbmNvbnN0IGlzQ29tcG9uZW50VHlwZSA9IChlbGVtZW50T3JDb21wb25lbnQpID0+IHtcbiAgICByZXR1cm4gZWxlbWVudE9yQ29tcG9uZW50ID09PSBudWxsXG4gICAgICAgID8gZmFsc2VcbiAgICAgICAgOiAhaXNWYWxpZEVsZW1lbnQoZWxlbWVudE9yQ29tcG9uZW50KTtcbn07XG5cbmNvbnN0IGNodW5rID0gKGFycmF5LCBzaXplKSA9PiB7XG4gICAgY29uc3QgY2h1bmtDb3VudCA9IE1hdGguY2VpbChhcnJheS5sZW5ndGggLyBzaXplKTtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY2h1bmtDb3VudCB9LCAoXywgaW5kZXgpID0+IGFycmF5LnNsaWNlKHNpemUgKiBpbmRleCwgc2l6ZSAqIGluZGV4ICsgc2l6ZSkpO1xufTtcblxuY29uc3QgYXBwbHlFbGVtZW50VG9SZWYgPSAocmVmLCBlbGVtZW50KSA9PiB7XG4gICAgaWYgKCFyZWYpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHJlZihlbGVtZW50KTtcbiAgICByZWYuY3VycmVudCA9IGVsZW1lbnQ7XG59O1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbiBFeHRlbmRzIHZpZGVvIGVsZW1lbnQgd2l0aCBgc3RyZWFtYCBwcm9wZXJ0eVxuICogKGBzcmNPYmplY3RgKSB0byByZWFjdGl2ZWx5IGhhbmRsZSBzdHJlYW0gY2hhbmdlc1xuICovXG5jb25zdCBCYXNlVmlkZW8gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIEJhc2VWaWRlbyh7IHN0cmVhbSwgLi4ucmVzdCB9LCByZWYpIHtcbiAgICBjb25zdCBbdmlkZW9FbGVtZW50LCBzZXRWaWRlb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCF2aWRlb0VsZW1lbnQgfHwgIXN0cmVhbSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHN0cmVhbSA9PT0gdmlkZW9FbGVtZW50LnNyY09iamVjdClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmlkZW9FbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgICAgaWYgKEJyb3dzZXJzLmlzU2FmYXJpKCkgfHwgQnJvd3NlcnMuaXNGaXJlZm94KCkpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggYW5kIFNhZmFyaSBoYXZlIHNvbWUgdGltaW5nIGlzc3VlXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICAgICAgICAgIHZpZGVvRWxlbWVudC5wbGF5KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHBsYXkgc3RyZWFtYCwgZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdmlkZW9FbGVtZW50LnBhdXNlKCk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQuc3JjT2JqZWN0ID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9LCBbc3RyZWFtLCB2aWRlb0VsZW1lbnRdKTtcbiAgICByZXR1cm4gKGpzeChcInZpZGVvXCIsIHsgYXV0b1BsYXk6IHRydWUsIHBsYXlzSW5saW5lOiB0cnVlLCAuLi5yZXN0LCByZWY6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBhcHBseUVsZW1lbnRUb1JlZihyZWYsIGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0VmlkZW9FbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9IH0pKTtcbn0pO1xuXG5jb25zdCBCYXNlVmlkZW9QbGFjZWhvbGRlciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gRGVmYXVsdFZpZGVvUGxhY2Vob2xkZXIoeyBwYXJ0aWNpcGFudCwgc3R5bGUsIGNoaWxkcmVuIH0sIHJlZikge1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG5hbWUgPSBwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXJJZDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlclwiLCBzdHlsZTogc3R5bGUsIHJlZjogcmVmLCBjaGlsZHJlbjogWyghcGFydGljaXBhbnQuaW1hZ2UgfHwgZXJyb3IpICYmXG4gICAgICAgICAgICAgICAgKG5hbWUgPyAoanN4KEluaXRpYWxzRmFsbGJhY2ssIHsgbmFtZTogbmFtZSB9KSkgOiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fdmlkZW8tcGxhY2Vob2xkZXJfX25vLXZpZGVvLWxhYmVsXCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSkpLCBwYXJ0aWNpcGFudC5pbWFnZSAmJiAhZXJyb3IgJiYgKGpzeChcImltZ1wiLCB7IG9uRXJyb3I6ICgpID0+IHNldEVycm9yKHRydWUpLCBhbHQ6IG5hbWUsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3ZpZGVvLXBsYWNlaG9sZGVyX19hdmF0YXJcIiwgc3JjOiBwYXJ0aWNpcGFudC5pbWFnZSB9KSldIH0pKTtcbn0pO1xuY29uc3QgSW5pdGlhbHNGYWxsYmFjayA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbmFtZSB9ID0gcHJvcHM7XG4gICAgY29uc3QgaW5pdGlhbHMgPSBuYW1lXG4gICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgIC5zbGljZSgwLCAyKVxuICAgICAgICAubWFwKChuKSA9PiBuWzBdKVxuICAgICAgICAuam9pbignJyk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX192aWRlby1wbGFjZWhvbGRlcl9faW5pdGlhbHMtZmFsbGJhY2tcIiwgY2hpbGRyZW46IGluaXRpYWxzIH0pKTtcbn07XG5cbmNvbnN0IERlZmF1bHRWaWRlb1BsYWNlaG9sZGVyID0gZm9yd2FyZFJlZihmdW5jdGlvbiBEZWZhdWx0VmlkZW9QbGFjZWhvbGRlcihwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goQmFzZVZpZGVvUGxhY2Vob2xkZXIsIHsgcmVmOiByZWYsIC4uLnByb3BzLCBjaGlsZHJlbjogdCgnVmlkZW8gaXMgZGlzYWJsZWQnKSB9KSk7XG59KTtcblxuY29uc3QgRGVmYXVsdFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gRGVmYXVsdFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlcihwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goQmFzZVZpZGVvUGxhY2Vob2xkZXIsIHsgcmVmOiByZWYsIC4uLnByb3BzLCBjaGlsZHJlbjogdCgnVmlkZW8gaXMgcGxheWluZyBpbiBhIHBvcHVwJykgfSkpO1xufSk7XG5cbmNvbnN0IFZpZGVvJDEgPSAoeyBlbmFibGVkID0gdHJ1ZSwgbWlycm9yLCB0cmFja1R5cGUsIHBhcnRpY2lwYW50LCBjbGFzc05hbWUsIFZpZGVvUGxhY2Vob2xkZXIgPSBEZWZhdWx0VmlkZW9QbGFjZWhvbGRlciwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyID0gRGVmYXVsdFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgcmVmcywgLi4ucmVzdCB9KSA9PiB7XG4gICAgY29uc3QgeyBzZXNzaW9uSWQsIHZpZGVvU3RyZWFtLCBzY3JlZW5TaGFyZVN0cmVhbSwgdmlld3BvcnRWaXNpYmlsaXR5U3RhdGUsIGlzTG9jYWxQYXJ0aWNpcGFudCwgdXNlcklkLCB9ID0gcGFydGljaXBhbnQ7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBbdmlkZW9FbGVtZW50LCBzZXRWaWRlb0VsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgLy8gc3RhcnQgd2l0aCB0cnVlLCB3aWxsIGZsaXAgb25jZSB0aGUgdmlkZW8gc3RhcnRzIHBsYXlpbmdcbiAgICBjb25zdCBbaXNWaWRlb1BhdXNlZCwgc2V0SXNWaWRlb1BhdXNlZF0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbaXNXaWRlTW9kZSwgc2V0SXNXaWRlTW9kZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBpc1BpUCA9IHVzZVBpY3R1cmVJblBpY3R1cmVTdGF0ZSh2aWRlb0VsZW1lbnQgPz8gdW5kZWZpbmVkKTtcbiAgICBjb25zdCBzdHJlYW0gPSB0cmFja1R5cGUgPT09ICd2aWRlb1RyYWNrJ1xuICAgICAgICA/IHZpZGVvU3RyZWFtXG4gICAgICAgIDogdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjaydcbiAgICAgICAgICAgID8gc2NyZWVuU2hhcmVTdHJlYW1cbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbCB8fCAhdmlkZW9FbGVtZW50IHx8IHRyYWNrVHlwZSA9PT0gJ25vbmUnKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBjbGVhbnVwID0gY2FsbC5iaW5kVmlkZW9FbGVtZW50KHZpZGVvRWxlbWVudCwgc2Vzc2lvbklkLCB0cmFja1R5cGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYW51cD8uKCk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIHRyYWNrVHlwZSwgc2Vzc2lvbklkLCB2aWRlb0VsZW1lbnRdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXN0cmVhbSB8fCAhdmlkZW9FbGVtZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBbdHJhY2tdID0gc3RyZWFtLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgICAgIGlmICghdHJhY2spXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZVBsYXlQYXVzZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHNldElzVmlkZW9QYXVzZWQodmlkZW9FbGVtZW50LnBhdXNlZCk7XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoID0gMCwgaGVpZ2h0ID0gMCB9ID0gdHJhY2suZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgICAgIHNldElzV2lkZU1vZGUod2lkdGggPj0gaGVpZ2h0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gcGxheWJhY2sgbWF5IGhhdmUgc3RhcnRlZCBiZWZvcmUgd2UgaGFkIGEgY2hhbmNlIHRvXG4gICAgICAgIC8vIGF0dGFjaCB0aGUgJ3BsYXkvcGF1c2UnIGV2ZW50IGxpc3RlbmVyLCBzbyB3ZSBzZXQgdGhlIHN0YXRlXG4gICAgICAgIC8vIGhlcmUgdG8gbWFrZSBzdXJlIGl0J3MgaW4gc3luY1xuICAgICAgICBzZXRJc1ZpZGVvUGF1c2VkKHZpZGVvRWxlbWVudC5wYXVzZWQpO1xuICAgICAgICB2aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgIHZpZGVvRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdwYXVzZScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgIHRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ3VubXV0ZScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGxheScsIGhhbmRsZVBsYXlQYXVzZSk7XG4gICAgICAgICAgICB2aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGF1c2UnLCBoYW5kbGVQbGF5UGF1c2UpO1xuICAgICAgICAgICAgdHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcigndW5tdXRlJywgaGFuZGxlUGxheVBhdXNlKTtcbiAgICAgICAgICAgIC8vIHJlc2V0IHRoZSAncGF1c2UnIHN0YXRlIG9uY2Ugd2UgdW5tb3VudCB0aGUgdmlkZW8gZWxlbWVudFxuICAgICAgICAgICAgc2V0SXNWaWRlb1BhdXNlZCh0cnVlKTtcbiAgICAgICAgfTtcbiAgICB9LCBbc3RyZWFtLCB2aWRlb0VsZW1lbnRdKTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGlzUHVibGlzaGluZ1RyYWNrID0gdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaydcbiAgICAgICAgPyBoYXNWaWRlbyhwYXJ0aWNpcGFudClcbiAgICAgICAgOiB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJ1xuICAgICAgICAgICAgPyBoYXNTY3JlZW5TaGFyZShwYXJ0aWNpcGFudClcbiAgICAgICAgICAgIDogZmFsc2U7XG4gICAgY29uc3QgaXNJbnZpc2libGUgPSB0cmFja1R5cGUgPT09ICdub25lJyB8fFxuICAgICAgICB2aWV3cG9ydFZpc2liaWxpdHlTdGF0ZT8uW3RyYWNrVHlwZV0gPT09IFZpc2liaWxpdHlTdGF0ZS5JTlZJU0lCTEU7XG4gICAgY29uc3QgaGFzTm9WaWRlb09ySW52aXNpYmxlID0gIWVuYWJsZWQgfHwgIWlzUHVibGlzaGluZ1RyYWNrIHx8IGlzSW52aXNpYmxlO1xuICAgIGNvbnN0IG1pcnJvclZpZGVvID0gbWlycm9yID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBpc0xvY2FsUGFydGljaXBhbnQgJiYgdHJhY2tUeXBlID09PSAndmlkZW9UcmFjaydcbiAgICAgICAgOiBtaXJyb3I7XG4gICAgY29uc3QgaXNTY3JlZW5TaGFyZVRyYWNrID0gdHJhY2tUeXBlID09PSAnc2NyZWVuU2hhcmVUcmFjayc7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbIWhhc05vVmlkZW9PckludmlzaWJsZSAmJiAoanN4KFwidmlkZW9cIiwgeyAuLi5yZXN0LCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdmlkZW8nLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fdmlkZW8tLW5vdC1wbGF5aW5nJzogaXNWaWRlb1BhdXNlZCxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fdmlkZW8tLXRhbGwnOiAhaXNXaWRlTW9kZSxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fdmlkZW8tLW1pcnJvcic6IG1pcnJvclZpZGVvLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX192aWRlby0tc2NyZWVuLXNoYXJlJzogaXNTY3JlZW5TaGFyZVRyYWNrLFxuICAgICAgICAgICAgICAgIH0pLCBcImRhdGEtdXNlci1pZFwiOiB1c2VySWQsIFwiZGF0YS1zZXNzaW9uLWlkXCI6IHNlc3Npb25JZCwgcmVmOiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRWaWRlb0VsZW1lbnQoZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJlZnM/LnNldFZpZGVvRWxlbWVudD8uKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH0gfSkpLCBpc1BpUCAmJiBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIgJiYgKGpzeChQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIHsgc3R5bGU6IHsgcG9zaXRpb246ICdhYnNvbHV0ZScgfSwgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pKSwgKGhhc05vVmlkZW9PckludmlzaWJsZSB8fCBpc1ZpZGVvUGF1c2VkKSAmJiBWaWRlb1BsYWNlaG9sZGVyICYmIChqc3goVmlkZW9QbGFjZWhvbGRlciwgeyBzdHlsZTogeyBwb3NpdGlvbjogJ2Fic29sdXRlJyB9LCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQsIHJlZjogcmVmcz8uc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQgfSkpXSB9KSk7XG59O1xuVmlkZW8kMS5kaXNwbGF5TmFtZSA9ICdWaWRlbyc7XG5cbmNvbnN0IHVzZVRyYWNrRWxlbWVudFZpc2liaWxpdHkgPSAoeyB0cmFja2VkRWxlbWVudCwgZHluYXNjYWxlTWFuYWdlcjogcHJvcHNEeW5hc2NhbGVNYW5hZ2VyLCBzZXNzaW9uSWQsIHRyYWNrVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgbWFuYWdlciA9IHByb3BzRHluYXNjYWxlTWFuYWdlciA/PyBjYWxsPy5keW5hc2NhbGVNYW5hZ2VyO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdHJhY2tlZEVsZW1lbnQgfHwgIW1hbmFnZXIgfHwgIWNhbGwgfHwgdHJhY2tUeXBlID09PSAnbm9uZScpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHVub2JzZXJ2ZSA9IG1hbmFnZXIudHJhY2tFbGVtZW50VmlzaWJpbGl0eSh0cmFja2VkRWxlbWVudCwgc2Vzc2lvbklkLCB0cmFja1R5cGUpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdW5vYnNlcnZlKCk7XG4gICAgICAgIH07XG4gICAgfSwgW3RyYWNrZWRFbGVtZW50LCBtYW5hZ2VyLCBjYWxsLCBzZXNzaW9uSWQsIHRyYWNrVHlwZV0pO1xufTtcblxuY29uc3QgQXZhdGFyID0gKHsgaW1hZ2VTcmMsIG5hbWUsIHN0eWxlLCBjbGFzc05hbWUsIC4uLnJlc3QgfSkgPT4ge1xuICAgIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogWyghaW1hZ2VTcmMgfHwgZXJyb3IpICYmIG5hbWUgJiYgKGpzeChBdmF0YXJGYWxsYmFjaywgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwgc3R5bGU6IHN0eWxlLCBuYW1lczogW25hbWVdIH0pKSwgaW1hZ2VTcmMgJiYgIWVycm9yICYmIChqc3goXCJpbWdcIiwgeyBvbkVycm9yOiAoKSA9PiBzZXRFcnJvcih0cnVlKSwgYWx0OiBcImF2YXRhclwiLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fYXZhdGFyJywgY2xhc3NOYW1lKSwgc3JjOiBpbWFnZVNyYywgc3R5bGU6IHN0eWxlLCAuLi5yZXN0IH0pKV0gfSkpO1xufTtcbmNvbnN0IEF2YXRhckZhbGxiYWNrID0gKHsgY2xhc3NOYW1lLCBuYW1lcywgc3R5bGUsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19hdmF0YXItLWluaXRpYWxzLWZhbGxiYWNrJywgY2xhc3NOYW1lKSwgc3R5bGU6IHN0eWxlLCBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7IGNoaWxkcmVuOiBbbmFtZXNbMF1bMF0sIG5hbWVzWzFdPy5bMF1dIH0pIH0pKTtcbn07XG5cbi8qKlxuICogVGhlIGNvbnRleHQgZm9yIHRoZSBiYWNrZ3JvdW5kIGZpbHRlcnMuXG4gKi9cbmNvbnN0IEJhY2tncm91bmRGaWx0ZXJzQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQodW5kZWZpbmVkKTtcbi8qKlxuICogQSBob29rIHRvIGFjY2VzcyB0aGUgYmFja2dyb3VuZCBmaWx0ZXJzIGNvbnRleHQgQVBJLlxuICovXG5jb25zdCB1c2VCYWNrZ3JvdW5kRmlsdGVycyA9ICgpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChCYWNrZ3JvdW5kRmlsdGVyc0NvbnRleHQpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUJhY2tncm91bmRGaWx0ZXJzIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBCYWNrZ3JvdW5kRmlsdGVyc1Byb3ZpZGVyJyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufTtcbi8qKlxuICogQSBwcm92aWRlciBjb21wb25lbnQgdGhhdCBlbmFibGVzIHRoZSB1c2Ugb2YgYmFja2dyb3VuZCBmaWx0ZXJzIGluIHlvdXIgYXBwLlxuICpcbiAqIFBsZWFzZSBtYWtlIHN1cmUgeW91IGhhdmUgdGhlIGBAc3RyZWFtLWlvL3ZpZGVvLWZpbHRlcnMtd2ViYCBwYWNrYWdlIGluc3RhbGxlZFxuICogaW4geW91ciBwcm9qZWN0IGJlZm9yZSB1c2luZyB0aGlzIGNvbXBvbmVudC5cbiAqL1xuY29uc3QgQmFja2dyb3VuZEZpbHRlcnNQcm92aWRlciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2hpbGRyZW4sIGJhY2tncm91bmRJbWFnZXMgPSBbXSwgYmFja2dyb3VuZEZpbHRlcjogYmdGaWx0ZXJGcm9tUHJvcHMgPSB1bmRlZmluZWQsIGJhY2tncm91bmRJbWFnZTogYmdJbWFnZUZyb21Qcm9wcyA9IHVuZGVmaW5lZCwgYmFja2dyb3VuZEJsdXJMZXZlbDogYmdCbHVyTGV2ZWxGcm9tUHJvcHMgPSB1bmRlZmluZWQsIHRmRmlsZVBhdGgsIG1vZGVsRmlsZVBhdGgsIGJhc2VQYXRoLCBvbkVycm9yLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2JhY2tncm91bmRGaWx0ZXIsIHNldEJhY2tncm91bmRGaWx0ZXJdID0gdXNlU3RhdGUoYmdGaWx0ZXJGcm9tUHJvcHMpO1xuICAgIGNvbnN0IFtiYWNrZ3JvdW5kSW1hZ2UsIHNldEJhY2tncm91bmRJbWFnZV0gPSB1c2VTdGF0ZShiZ0ltYWdlRnJvbVByb3BzKTtcbiAgICBjb25zdCBbYmFja2dyb3VuZEJsdXJMZXZlbCwgc2V0QmFja2dyb3VuZEJsdXJMZXZlbF0gPSB1c2VTdGF0ZShiZ0JsdXJMZXZlbEZyb21Qcm9wcyk7XG4gICAgY29uc3QgYXBwbHlCYWNrZ3JvdW5kSW1hZ2VGaWx0ZXIgPSB1c2VDYWxsYmFjaygoaW1hZ2VVcmwpID0+IHtcbiAgICAgICAgc2V0QmFja2dyb3VuZEZpbHRlcignaW1hZ2UnKTtcbiAgICAgICAgc2V0QmFja2dyb3VuZEltYWdlKGltYWdlVXJsKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgYXBwbHlCYWNrZ3JvdW5kQmx1ckZpbHRlciA9IHVzZUNhbGxiYWNrKChibHVyTGV2ZWwgPSAnaGlnaCcpID0+IHtcbiAgICAgICAgc2V0QmFja2dyb3VuZEZpbHRlcignYmx1cicpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kQmx1ckxldmVsKGJsdXJMZXZlbCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGRpc2FibGVCYWNrZ3JvdW5kRmlsdGVyID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBzZXRCYWNrZ3JvdW5kRmlsdGVyKHVuZGVmaW5lZCk7XG4gICAgICAgIHNldEJhY2tncm91bmRJbWFnZSh1bmRlZmluZWQpO1xuICAgICAgICBzZXRCYWNrZ3JvdW5kQmx1ckxldmVsKHVuZGVmaW5lZCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IFtpc1N1cHBvcnRlZCwgc2V0SXNTdXBwb3J0ZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlzUGxhdGZvcm1TdXBwb3J0ZWQoKS50aGVuKHNldElzU3VwcG9ydGVkKTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgW3RmTGl0ZSwgc2V0VGZMaXRlXSA9IHVzZVN0YXRlKCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgLy8gZG9uJ3QgdHJ5IHRvIGxvYWQgVEZMaXRlIGlmIHRoZSBwbGF0Zm9ybSBpcyBub3Qgc3VwcG9ydGVkXG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxvYWRURkxpdGUoeyBiYXNlUGF0aCwgbW9kZWxGaWxlUGF0aCwgdGZGaWxlUGF0aCB9KVxuICAgICAgICAgICAgLnRoZW4oc2V0VGZMaXRlKVxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIFRGTGl0ZScsIGVycikpO1xuICAgIH0sIFtiYXNlUGF0aCwgaXNTdXBwb3J0ZWQsIG1vZGVsRmlsZVBhdGgsIHRmRmlsZVBhdGhdKTtcbiAgICBjb25zdCBoYW5kbGVFcnJvciA9IHVzZUNhbGxiYWNrKChlcnJvcikgPT4ge1xuICAgICAgICBnZXRMb2dnZXIoWydmaWx0ZXJzJ10pKCd3YXJuJywgJ0ZpbHRlciBlbmNvdW50ZXJlZCBhbiBlcnJvciBhbmQgd2lsbCBiZSBkaXNhYmxlZCcpO1xuICAgICAgICBkaXNhYmxlQmFja2dyb3VuZEZpbHRlcigpO1xuICAgICAgICBvbkVycm9yPy4oZXJyb3IpO1xuICAgIH0sIFtkaXNhYmxlQmFja2dyb3VuZEZpbHRlciwgb25FcnJvcl0pO1xuICAgIHJldHVybiAoanN4cyhCYWNrZ3JvdW5kRmlsdGVyc0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHtcbiAgICAgICAgICAgIGlzU3VwcG9ydGVkLFxuICAgICAgICAgICAgaXNSZWFkeTogISF0ZkxpdGUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQmx1ckxldmVsLFxuICAgICAgICAgICAgYmFja2dyb3VuZEZpbHRlcixcbiAgICAgICAgICAgIGRpc2FibGVCYWNrZ3JvdW5kRmlsdGVyLFxuICAgICAgICAgICAgYXBwbHlCYWNrZ3JvdW5kQmx1ckZpbHRlcixcbiAgICAgICAgICAgIGFwcGx5QmFja2dyb3VuZEltYWdlRmlsdGVyLFxuICAgICAgICAgICAgYmFja2dyb3VuZEltYWdlcyxcbiAgICAgICAgICAgIHRmRmlsZVBhdGgsXG4gICAgICAgICAgICBtb2RlbEZpbGVQYXRoLFxuICAgICAgICAgICAgYmFzZVBhdGgsXG4gICAgICAgICAgICBvbkVycm9yOiBoYW5kbGVFcnJvcixcbiAgICAgICAgfSwgY2hpbGRyZW46IFtjaGlsZHJlbiwgdGZMaXRlICYmIGpzeChCYWNrZ3JvdW5kRmlsdGVycywgeyB0ZkxpdGU6IHRmTGl0ZSB9KV0gfSkpO1xufTtcbmNvbnN0IEJhY2tncm91bmRGaWx0ZXJzID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBzdGFydCB9ID0gdXNlUmVuZGVyZXIocHJvcHMudGZMaXRlKTtcbiAgICBjb25zdCB7IGJhY2tncm91bmRGaWx0ZXIsIG9uRXJyb3IgfSA9IHVzZUJhY2tncm91bmRGaWx0ZXJzKCk7XG4gICAgY29uc3QgaGFuZGxlRXJyb3JSZWYgPSB1c2VSZWYodW5kZWZpbmVkKTtcbiAgICBoYW5kbGVFcnJvclJlZi5jdXJyZW50ID0gb25FcnJvcjtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWJhY2tncm91bmRGaWx0ZXIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHsgdW5yZWdpc3RlciB9ID0gY2FsbC5jYW1lcmEucmVnaXN0ZXJGaWx0ZXIoKG1zKSA9PiBzdGFydChtcywgKGVycm9yKSA9PiBoYW5kbGVFcnJvclJlZi5jdXJyZW50Py4oZXJyb3IpKSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICB1bnJlZ2lzdGVyKCkuY2F0Y2goKGVycikgPT4gY29uc29sZS53YXJuKGBDYW4ndCB1bnJlZ2lzdGVyIGZpbHRlcmAsIGVycikpO1xuICAgICAgICB9O1xuICAgIH0sIFtiYWNrZ3JvdW5kRmlsdGVyLCBjYWxsLCBzdGFydF0pO1xuICAgIHJldHVybiBjaGlsZHJlbjtcbn07XG5jb25zdCB1c2VSZW5kZXJlciA9ICh0ZkxpdGUpID0+IHtcbiAgICBjb25zdCB7IGJhY2tncm91bmRGaWx0ZXIsIGJhY2tncm91bmRCbHVyTGV2ZWwsIGJhY2tncm91bmRJbWFnZSB9ID0gdXNlQmFja2dyb3VuZEZpbHRlcnMoKTtcbiAgICBjb25zdCB2aWRlb1JlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBjYW52YXNSZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgYmdJbWFnZVJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBbdmlkZW9TaXplLCBzZXRWaWRlb1NpemVdID0gdXNlU3RhdGUoe1xuICAgICAgICB3aWR0aDogMTkyMCxcbiAgICAgICAgaGVpZ2h0OiAxMDgwLFxuICAgIH0pO1xuICAgIGNvbnN0IHN0YXJ0ID0gdXNlQ2FsbGJhY2soKG1zLCBvbkVycm9yKSA9PiB7XG4gICAgICAgIGxldCBvdXRwdXRTdHJlYW07XG4gICAgICAgIGxldCByZW5kZXJlcjtcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFiYWNrZ3JvdW5kRmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcignTm8gZmlsdGVyIHNwZWNpZmllZCcpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB2aWRlb0VsID0gdmlkZW9SZWYuY3VycmVudDtcbiAgICAgICAgICAgIGNvbnN0IGNhbnZhc0VsID0gY2FudmFzUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBjb25zdCBiZ0ltYWdlRWwgPSBiZ0ltYWdlUmVmLmN1cnJlbnQ7XG4gICAgICAgICAgICBpZiAoIXZpZGVvRWwgfHwgIWNhbnZhc0VsIHx8IChiYWNrZ3JvdW5kSW1hZ2UgJiYgIWJnSW1hZ2VFbCkpIHtcbiAgICAgICAgICAgICAgICAvLyBZb3Ugc2hvdWxkIHN0YXJ0IHJlbmRlcmVyIGluIGVmZmVjdCBvciBldmVudCBoYW5kbGVyc1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ1JlbmRlcmVyIHN0YXJ0ZWQgYmVmb3JlIGVsZW1lbnRzIGFyZSByZWFkeScpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2aWRlb0VsLnNyY09iamVjdCA9IG1zO1xuICAgICAgICAgICAgdmlkZW9FbC5wbGF5KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3RyYWNrXSA9IG1zLmdldFZpZGVvVHJhY2tzKCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0cmFjaykge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdObyB2aWRlbyB0cmFja3MgaW4gaW5wdXQgbWVkaWEgc3RyZWFtJykpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNrU2V0dGluZ3MgPSB0cmFjay5nZXRTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIGZsdXNoU3luYygoKSA9PiBzZXRWaWRlb1NpemUoe1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogdHJhY2tTZXR0aW5ncy53aWR0aCA/PyAwLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHRyYWNrU2V0dGluZ3MuaGVpZ2h0ID8/IDAsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJlbmRlcmVyID0gY3JlYXRlUmVuZGVyZXIodGZMaXRlLCB2aWRlb0VsLCBjYW52YXNFbCwge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kRmlsdGVyLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQmx1ckxldmVsLFxuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6IGJnSW1hZ2VFbCA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgfSwgb25FcnJvcik7XG4gICAgICAgICAgICAgICAgb3V0cHV0U3RyZWFtID0gY2FudmFzRWwuY2FwdHVyZVN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUob3V0cHV0U3RyZWFtKTtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKCdDb3VsZCBub3QgcGxheSB0aGUgc291cmNlIHZpZGVvIHN0cmVhbScpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG91dHB1dCxcbiAgICAgICAgICAgIHN0b3A6ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZW5kZXJlcj8uZGlzcG9zZSgpO1xuICAgICAgICAgICAgICAgIGlmICh2aWRlb1JlZi5jdXJyZW50KVxuICAgICAgICAgICAgICAgICAgICB2aWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dFN0cmVhbSlcbiAgICAgICAgICAgICAgICAgICAgZGlzcG9zZU9mTWVkaWFTdHJlYW0ob3V0cHV0U3RyZWFtKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSwgW2JhY2tncm91bmRCbHVyTGV2ZWwsIGJhY2tncm91bmRGaWx0ZXIsIGJhY2tncm91bmRJbWFnZSwgdGZMaXRlXSk7XG4gICAgY29uc3QgY2hpbGRyZW4gPSAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc1wiLCBjaGlsZHJlbjogW2pzeChcInZpZGVvXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc19fdmlkZW8nLCB2aWRlb1NpemUuaGVpZ2h0ID4gdmlkZW9TaXplLndpZHRoICYmXG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2JhY2tncm91bmQtZmlsdGVyc19fdmlkZW8tLXRhbGwnKSwgcmVmOiB2aWRlb1JlZiwgcGxheXNJbmxpbmU6IHRydWUsIG11dGVkOiB0cnVlLCBjb250cm9sczogZmFsc2UsIC4uLnZpZGVvU2l6ZSB9KSwgYmFja2dyb3VuZEltYWdlICYmIChqc3goXCJpbWdcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19iYWNrZ3JvdW5kLWZpbHRlcnNfX2JhY2tncm91bmQtaW1hZ2VcIiwgYWx0OiBcIkJhY2tncm91bmRcIiwgcmVmOiBiZ0ltYWdlUmVmLCBzcmM6IGJhY2tncm91bmRJbWFnZSwgLi4udmlkZW9TaXplIH0pKSwganN4KFwiY2FudmFzXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYmFja2dyb3VuZC1maWx0ZXJzX190YXJnZXQtY2FudmFzXCIsIC4uLnZpZGVvU2l6ZSwgcmVmOiBjYW52YXNSZWYgfSldIH0pKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdGFydCxcbiAgICAgICAgY2hpbGRyZW4sXG4gICAgfTtcbn07XG5cbmNvbnN0IEljb25CdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIEljb25CdXR0b24ocHJvcHMsIHJlZikge1xuICAgIGNvbnN0IHsgaWNvbiwgZW5hYmxlZCwgdmFyaWFudCwgb25DbGljaywgY2xhc3NOYW1lLCAuLi5yZXN0IH0gPSBwcm9wcztcbiAgICByZXR1cm4gKGpzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24nLCBjbGFzc05hbWUsIHtcbiAgICAgICAgICAgIFtgc3RyLXZpZGVvX19jYWxsLWNvbnRyb2xzX19idXR0b24tLXZhcmlhbnQtJHt2YXJpYW50fWBdOiB2YXJpYW50LFxuICAgICAgICAgICAgJ3N0ci12aWRlb19fY2FsbC1jb250cm9sc19fYnV0dG9uLS1lbmFibGVkJzogZW5hYmxlZCxcbiAgICAgICAgfSksIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBvbkNsaWNrPy4oZSk7XG4gICAgICAgIH0sIHJlZjogcmVmLCAuLi5yZXN0LCBjaGlsZHJlbjoganN4KEljb24sIHsgaWNvbjogaWNvbiB9KSB9KSk7XG59KTtcblxuY29uc3QgQ29tcG9zaXRlQnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBDb21wb3NpdGVCdXR0b24oeyBkaXNhYmxlZCwgY2FwdGlvbiwgY2hpbGRyZW4sIGNsYXNzTmFtZSwgYWN0aXZlLCBNZW51LCBtZW51UGxhY2VtZW50LCBtZW51T2Zmc2V0LCB0aXRsZSwgVG9nZ2xlTWVudUJ1dHRvbiA9IERlZmF1bHRUb2dnbGVNZW51QnV0dG9uLCB2YXJpYW50LCBvbkNsaWNrLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RCdXR0b25Qcm9wcyB9LCByZWYpIHtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbicsIGNsYXNzTmFtZSwge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbi0tY2FwdGlvbic6IGNhcHRpb24sXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uLS1tZW51JzogTWVudSxcbiAgICAgICAgfSksIHRpdGxlOiB0aXRsZSwgcmVmOiByZWYsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAnLCB7XG4gICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX2NvbXBvc2l0ZS1idXR0b25fX2J1dHRvbi1ncm91cC0tYWN0aXZlJzogYWN0aXZlLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAtLWFjdGl2ZS1wcmltYXJ5JzogYWN0aXZlICYmIHZhcmlhbnQgPT09ICdwcmltYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgJ3N0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbl9fYnV0dG9uLWdyb3VwLS1hY3RpdmUtc2Vjb25kYXJ5JzogYWN0aXZlICYmIHZhcmlhbnQgPT09ICdzZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAnc3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19idXR0b24tZ3JvdXAtLWRpc2FibGVkJzogZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgfSksIGNoaWxkcmVuOiBbanN4KFwiYnV0dG9uXCIsIHsgdHlwZTogXCJidXR0b25cIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY29tcG9zaXRlLWJ1dHRvbl9fYnV0dG9uXCIsIG9uQ2xpY2s6IChlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s/LihlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGRpc2FibGVkOiBkaXNhYmxlZCwgLi4ucmVzdEJ1dHRvblByb3BzLCBjaGlsZHJlbjogY2hpbGRyZW4gfSksIE1lbnUgJiYgKGpzeChNZW51VG9nZ2xlLCB7IG9mZnNldDogbWVudU9mZnNldCwgcGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBUb2dnbGVCdXR0b246IFRvZ2dsZU1lbnVCdXR0b24sIG9uVG9nZ2xlOiBvbk1lbnVUb2dnbGUsIGNoaWxkcmVuOiBpc0NvbXBvbmVudFR5cGUoTWVudSkgPyBqc3goTWVudSwge30pIDogTWVudSB9KSldIH0pLCBjYXB0aW9uICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jb21wb3NpdGUtYnV0dG9uX19jYXB0aW9uXCIsIGNoaWxkcmVuOiBjYXB0aW9uIH0pKV0gfSkpO1xufSk7XG5jb25zdCBEZWZhdWx0VG9nZ2xlTWVudUJ1dHRvbiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gRGVmYXVsdFRvZ2dsZU1lbnVCdXR0b24oeyBtZW51U2hvd24gfSwgcmVmKSB7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fbWVudS10b2dnbGUtYnV0dG9uJywge1xuICAgICAgICAgICAgJ3N0ci12aWRlb19fbWVudS10b2dnbGUtYnV0dG9uLS1hY3RpdmUnOiBtZW51U2hvd24sXG4gICAgICAgIH0pLCBpY29uOiBtZW51U2hvd24gPyAnY2FyZXQtZG93bicgOiAnY2FyZXQtdXAnLCByZWY6IHJlZiB9KSk7XG59KTtcblxuY29uc3QgVGV4dEJ1dHRvbiA9ICh7IGNoaWxkcmVuLCAuLi5yZXN0IH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChcImJ1dHRvblwiLCB7IC4uLnJlc3QsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3RleHQtYnV0dG9uXCIsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBBY2NlcHRDYWxsQnV0dG9uID0gKHsgZGlzYWJsZWQsIG9uQWNjZXB0LCBvbkNsaWNrLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwuam9pbigpO1xuICAgICAgICAgICAgb25BY2NlcHQ/LigpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2ssIG9uQWNjZXB0LCBjYWxsXSk7XG4gICAgcmV0dXJuIChqc3goSWNvbkJ1dHRvbiwgeyBkaXNhYmxlZDogZGlzYWJsZWQsIGljb246IFwiY2FsbC1hY2NlcHRcIiwgdmFyaWFudDogXCJzdWNjZXNzXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJhY2NlcHQtY2FsbC1idXR0b25cIiwgb25DbGljazogaGFuZGxlQ2xpY2sgfSkpO1xufTtcblxuY29uc3QgTm90aWZpY2F0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBpc1Zpc2libGUsIG1lc3NhZ2UsIGNoaWxkcmVuLCB2aXNpYmlsaXR5VGltZW91dCwgcmVzZXRJc1Zpc2libGUsIHBsYWNlbWVudCA9ICd0b3AnLCBpY29uQ2xhc3NOYW1lID0gJ3N0ci12aWRlb19fbm90aWZpY2F0aW9uX19pY29uJywgY2xvc2UsIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICB9KTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWlzVmlzaWJsZSB8fCAhdmlzaWJpbGl0eVRpbWVvdXQgfHwgIXJlc2V0SXNWaXNpYmxlKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXNldElzVmlzaWJsZSgpO1xuICAgICAgICB9LCB2aXNpYmlsaXR5VGltZW91dCk7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgfSwgW2lzVmlzaWJsZSwgcmVzZXRJc1Zpc2libGUsIHZpc2liaWxpdHlUaW1lb3V0XSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgY2hpbGRyZW46IFtpc1Zpc2libGUgJiYgKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19ub3RpZmljYXRpb25cIiwgcmVmOiByZWZzLnNldEZsb2F0aW5nLCBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICAgICAgICAgICAgICAgIHRvcDogeSA/PyAwLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiB4ID8/IDAsXG4gICAgICAgICAgICAgICAgICAgIG92ZXJmbG93WTogJ2F1dG8nLFxuICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbaWNvbkNsYXNzTmFtZSAmJiBqc3goXCJpXCIsIHsgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lIH0pLCBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbm90aWZpY2F0aW9uX19tZXNzYWdlXCIsIGNoaWxkcmVuOiBtZXNzYWdlIH0pLCBjbG9zZSA/IChqc3goXCJpXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19faWNvbiBzdHItdmlkZW9fX2ljb24tLWNsb3NlIHN0ci12aWRlb19fbm90aWZpY2F0aW9uX19jbG9zZVwiLCBvbkNsaWNrOiBjbG9zZSB9KSkgOiBudWxsXSB9KSksIGNoaWxkcmVuXSB9KSk7XG59O1xuXG5jb25zdCBQZXJtaXNzaW9uTm90aWZpY2F0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9uLCBpc0F3YWl0aW5nQXBwcm92YWwsIG1lc3NhZ2VBcHByb3ZlZCwgbWVzc2FnZUF3YWl0aW5nQXBwcm92YWwsIG1lc3NhZ2VSZXZva2VkLCB2aXNpYmlsaXR5VGltZW91dCA9IDM1MDAsIGNoaWxkcmVuLCB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB1c2VIYXNQZXJtaXNzaW9ucyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBoYXNQZXJtaXNzaW9uID0gdXNlSGFzUGVybWlzc2lvbnMocGVybWlzc2lvbik7XG4gICAgY29uc3QgcHJldkhhc1Blcm1pc3Npb24gPSB1c2VSZWYoaGFzUGVybWlzc2lvbik7XG4gICAgY29uc3QgW3Nob3dOb3RpZmljYXRpb24sIHNldFNob3dOb3RpZmljYXRpb25dID0gdXNlU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoaGFzUGVybWlzc2lvbiAmJiAhcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCkge1xuICAgICAgICAgICAgc2V0U2hvd05vdGlmaWNhdGlvbignZ3JhbnRlZCcpO1xuICAgICAgICAgICAgcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIWhhc1Blcm1pc3Npb24gJiYgcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCkge1xuICAgICAgICAgICAgc2V0U2hvd05vdGlmaWNhdGlvbigncmV2b2tlZCcpO1xuICAgICAgICAgICAgcHJldkhhc1Blcm1pc3Npb24uY3VycmVudCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfSwgW2hhc1Blcm1pc3Npb25dKTtcbiAgICBjb25zdCByZXNldElzVmlzaWJsZSA9IHVzZUNhbGxiYWNrKCgpID0+IHNldFNob3dOb3RpZmljYXRpb24odW5kZWZpbmVkKSwgW10pO1xuICAgIGlmIChpc0F3YWl0aW5nQXBwcm92YWwpIHtcbiAgICAgICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IGlzVmlzaWJsZTogaXNBd2FpdGluZ0FwcHJvdmFsICYmICFoYXNQZXJtaXNzaW9uLCBtZXNzYWdlOiBtZXNzYWdlQXdhaXRpbmdBcHByb3ZhbCwgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIChqc3goTm90aWZpY2F0aW9uLCB7IGlzVmlzaWJsZTogISFzaG93Tm90aWZpY2F0aW9uLCB2aXNpYmlsaXR5VGltZW91dDogdmlzaWJpbGl0eVRpbWVvdXQsIHJlc2V0SXNWaXNpYmxlOiByZXNldElzVmlzaWJsZSwgbWVzc2FnZTogc2hvd05vdGlmaWNhdGlvbiA9PT0gJ2dyYW50ZWQnID8gbWVzc2FnZUFwcHJvdmVkIDogbWVzc2FnZVJldm9rZWQsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBTcGVha2luZ1doaWxlTXV0ZWROb3RpZmljYXRpb24gPSAoeyBjaGlsZHJlbiwgdGV4dCwgcGxhY2VtZW50LCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBpc1NwZWFraW5nV2hpbGVNdXRlZCB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgbWVzc2FnZSA9IHRleHQgPz8gdCgnWW91IGFyZSBtdXRlZC4gVW5tdXRlIHRvIHNwZWFrLicpO1xuICAgIHJldHVybiAoanN4KE5vdGlmaWNhdGlvbiwgeyBtZXNzYWdlOiBtZXNzYWdlLCBpc1Zpc2libGU6IGlzU3BlYWtpbmdXaGlsZU11dGVkLCBwbGFjZW1lbnQ6IHBsYWNlbWVudCB8fCAndG9wLXN0YXJ0JywgY2hpbGRyZW46IGNoaWxkcmVuIH0pKTtcbn07XG5cbmNvbnN0IFJlY29yZGluZ0luUHJvZ3Jlc3NOb3RpZmljYXRpb24gPSAoeyBjaGlsZHJlbiwgdGV4dCwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlVG9nZ2xlQ2FsbFJlY29yZGluZygpO1xuICAgIGNvbnN0IFtpc1Zpc2libGUsIHNldFZpc2libGVdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB0ZXh0ID8/IHQoJ1JlY29yZGluZyBpbiBwcm9ncmVzcy4uLicpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmIChpc0NhbGxSZWNvcmRpbmdJblByb2dyZXNzKSB7XG4gICAgICAgICAgICBzZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc10pO1xuICAgIHJldHVybiAoanN4KE5vdGlmaWNhdGlvbiwgeyBtZXNzYWdlOiBtZXNzYWdlLCBpY29uQ2xhc3NOYW1lOiBcInN0ci12aWRlb19faWNvbiBzdHItdmlkZW9fX2ljb24tLXJlY29yZGluZy1vblwiLCBpc1Zpc2libGU6IGlzVmlzaWJsZSwgcGxhY2VtZW50OiBcInRvcC1zdGFydFwiLCBjbG9zZTogKCkgPT4gc2V0VmlzaWJsZShmYWxzZSksIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBMb2FkaW5nSW5kaWNhdG9yID0gKHsgY2xhc3NOYW1lLCB0eXBlID0gJ3NwaW5uZXInLCB0ZXh0LCB0b29sdGlwLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2xvYWRpbmctaW5kaWNhdG9yJywgY2xhc3NOYW1lKSwgdGl0bGU6IHRvb2x0aXAsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2xvYWRpbmctaW5kaWNhdG9yX19pY29uJywgdHlwZSkgfSksIHRleHQgJiYganN4KFwicFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xvYWRpbmctaW5kaWNhdG9yLXRleHRcIiwgY2hpbGRyZW46IHRleHQgfSldIH0pKTtcbn07XG5cbmNvbnN0IFRvb2x0aXAgPSAoeyBjaGlsZHJlbiwgcmVmZXJlbmNlRWxlbWVudCwgdG9vbHRpcENsYXNzTmFtZSwgdG9vbHRpcFBsYWNlbWVudCA9ICd0b3AnLCB2aXNpYmxlID0gZmFsc2UsIH0pID0+IHtcbiAgICBjb25zdCBhcnJvd1JlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCB7IHJlZnMsIHgsIHksIHN0cmF0ZWd5LCBjb250ZXh0IH0gPSB1c2VGbG9hdGluZ1VJUHJlc2V0KHtcbiAgICAgICAgcGxhY2VtZW50OiB0b29sdGlwUGxhY2VtZW50LFxuICAgICAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICAgICAgbWlkZGxld2FyZTogW2Fycm93KHsgZWxlbWVudDogYXJyb3dSZWYgfSldLFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJlZnMuc2V0UmVmZXJlbmNlKHJlZmVyZW5jZUVsZW1lbnQpO1xuICAgIH0sIFtyZWZlcmVuY2VFbGVtZW50LCByZWZzXSk7XG4gICAgaWYgKCF2aXNpYmxlKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdG9vbHRpcCcsIHRvb2x0aXBDbGFzc05hbWUpLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogc3RyYXRlZ3ksXG4gICAgICAgICAgICB0b3A6IHkgPz8gMCxcbiAgICAgICAgICAgIGxlZnQ6IHggPz8gMCxcbiAgICAgICAgfSwgY2hpbGRyZW46IFtqc3goRmxvYXRpbmdBcnJvdywgeyByZWY6IGFycm93UmVmLCBjb250ZXh0OiBjb250ZXh0LCBmaWxsOiBcInZhcigtLXN0ci12aWRlb19fdG9vbHRpcC0tYmFja2dyb3VuZC1jb2xvcilcIiB9KSwgY2hpbGRyZW5dIH0pKTtcbn07XG5cbmNvbnN0IHVzZUVudGVyTGVhdmVIYW5kbGVycyA9ICh7IG9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlLCB9ID0ge30pID0+IHtcbiAgICBjb25zdCBbdG9vbHRpcFZpc2libGUsIHNldFRvb2x0aXBWaXNpYmxlXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZUVudGVyID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICAgICAgc2V0VG9vbHRpcFZpc2libGUodHJ1ZSk7XG4gICAgICAgIG9uTW91c2VFbnRlcj8uKGUpO1xuICAgIH0sIFtvbk1vdXNlRW50ZXJdKTtcbiAgICBjb25zdCBoYW5kbGVNb3VzZUxlYXZlID0gdXNlQ2FsbGJhY2soKGUpID0+IHtcbiAgICAgICAgc2V0VG9vbHRpcFZpc2libGUoZmFsc2UpO1xuICAgICAgICBvbk1vdXNlTGVhdmU/LihlKTtcbiAgICB9LCBbb25Nb3VzZUxlYXZlXSk7XG4gICAgcmV0dXJuIHsgaGFuZGxlTW91c2VFbnRlciwgaGFuZGxlTW91c2VMZWF2ZSwgdG9vbHRpcFZpc2libGUgfTtcbn07XG5cbi8vIHRvZG86IGR1cGxpY2F0ZSBvZiBDYWxsUGFydGljaXBhbnRMaXN0LnRzeCNNZWRpYUluZGljYXRvciAtIHJlZmFjdG9yIHRvIGEgc2luZ2xlIGNvbXBvbmVudFxuY29uc3QgV2l0aFRvb2x0aXAgPSAoeyB0aXRsZSwgdG9vbHRpcENsYXNzTmFtZSwgdG9vbHRpcFBsYWNlbWVudCwgdG9vbHRpcERpc2FibGVkLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgY29uc3QgeyBoYW5kbGVNb3VzZUVudGVyLCBoYW5kbGVNb3VzZUxlYXZlLCB0b29sdGlwVmlzaWJsZSB9ID0gdXNlRW50ZXJMZWF2ZUhhbmRsZXJzKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBBbmNob3IsIHNldFRvb2x0aXBBbmNob3JdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgdG9vbHRpcEFjdHVhbGx5VmlzaWJsZSA9ICF0b29sdGlwRGlzYWJsZWQgJiYgQm9vbGVhbih0aXRsZSkgJiYgdG9vbHRpcFZpc2libGU7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFRvb2x0aXAsIHsgcmVmZXJlbmNlRWxlbWVudDogdG9vbHRpcEFuY2hvciwgdmlzaWJsZTogdG9vbHRpcEFjdHVhbGx5VmlzaWJsZSwgdG9vbHRpcENsYXNzTmFtZTogdG9vbHRpcENsYXNzTmFtZSwgdG9vbHRpcFBsYWNlbWVudDogdG9vbHRpcFBsYWNlbWVudCwgY2hpbGRyZW46IHRpdGxlIHx8ICcnIH0pLCBqc3goXCJkaXZcIiwgeyByZWY6IHNldFRvb2x0aXBBbmNob3IsIG9uTW91c2VFbnRlcjogaGFuZGxlTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiBoYW5kbGVNb3VzZUxlYXZlLCAuLi5wcm9wcyB9KV0gfSkpO1xufTtcblxuY29uc3QgUmVjb3JkRW5kQ29uZmlybWF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgdG9nZ2xlQ2FsbFJlY29yZGluZywgaXNBd2FpdGluZ1Jlc3BvbnNlIH0gPSB1c2VUb2dnbGVDYWxsUmVjb3JkaW5nKCk7XG4gICAgY29uc3QgeyBjbG9zZSB9ID0gdXNlTWVudUNvbnRleHQoKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19jb25maXJtYXRpb25cIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLXJlY29yZGluZ19faGVhZGVyXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogXCJyZWNvcmRpbmctb25cIiB9KSwganN4KFwiaDJcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19lbmQtcmVjb3JkaW5nX19oZWFkaW5nXCIsIGNoaWxkcmVuOiB0KCdFbmQgcmVjb3JkaW5nJykgfSldIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLXJlY29yZGluZ19fZGVzY3JpcHRpb25cIiwgY2hpbGRyZW46IHQoJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCBlbmQgdGhlIHJlY29yZGluZz8nKSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2VuZC1yZWNvcmRpbmdfX2FjdGlvbnNcIiwgY2hpbGRyZW46IFtqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIG9uQ2xpY2s6IGNsb3NlLCBjaGlsZHJlbjogdCgnQ2FuY2VsJykgfSksIGpzeChDb21wb3NpdGVCdXR0b24sIHsgdmFyaWFudDogXCJwcmltYXJ5XCIsIG9uQ2xpY2s6IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGNoaWxkcmVuOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyBqc3goTG9hZGluZ0luZGljYXRvciwge30pIDogdCgnRW5kIHJlY29yZGluZycpIH0pXSB9KV0gfSkpO1xufTtcbmNvbnN0IFRvZ2dsZUVuZFJlY29yZGluZ01lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZUVuZFJlY29yZGluZ01lbnVCdXR0b24ocHJvcHMsIHJlZikge1xuICAgIHJldHVybiAoanN4KENvbXBvc2l0ZUJ1dHRvbiwgeyByZWY6IHJlZiwgYWN0aXZlOiB0cnVlLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IFwicmVjb3JkaW5nLXN0b3AtYnV0dG9uXCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInJlY29yZGluZy1vZmZcIiB9KSB9KSk7XG59KTtcbmNvbnN0IFJlY29yZENhbGxDb25maXJtYXRpb25CdXR0b24gPSAoeyBjYXB0aW9uLCB9KSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyB0b2dnbGVDYWxsUmVjb3JkaW5nLCBpc0F3YWl0aW5nUmVzcG9uc2UsIGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgfSA9IHVzZVRvZ2dsZUNhbGxSZWNvcmRpbmcoKTtcbiAgICBpZiAoaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcykge1xuICAgICAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbXG4gICAgICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVEFSVF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUT1BfUkVDT1JEX0NBTEwsXG4gICAgICAgICAgICBdLCBjaGlsZHJlbjoganN4KE1lbnVUb2dnbGUsIHsgVG9nZ2xlQnV0dG9uOiBUb2dnbGVFbmRSZWNvcmRpbmdNZW51QnV0dG9uLCB2aXN1YWxUeXBlOiBNZW51VmlzdWFsVHlwZS5QT1JUQUwsIGNoaWxkcmVuOiBqc3goUmVjb3JkRW5kQ29uZmlybWF0aW9uLCB7fSkgfSkgfSkpO1xuICAgIH1cbiAgICBjb25zdCB0aXRsZSA9IGlzQXdhaXRpbmdSZXNwb25zZVxuICAgICAgICA/IHQoJ1dhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLicpXG4gICAgICAgIDogKGNhcHRpb24gPz8gdCgnUmVjb3JkIGNhbGwnKSk7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW1xuICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVEFSVF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgXSwgY2hpbGRyZW46IGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogdGl0bGUsIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcywgY2FwdGlvbjogY2FwdGlvbiwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgXCJkYXRhLXRlc3RpZFwiOiBcInJlY29yZGluZy1zdGFydC1idXR0b25cIiwgb25DbGljazogaXNBd2FpdGluZ1Jlc3BvbnNlID8gdW5kZWZpbmVkIDogdG9nZ2xlQ2FsbFJlY29yZGluZywgY2hpbGRyZW46IGlzQXdhaXRpbmdSZXNwb25zZSA/IChqc3goTG9hZGluZ0luZGljYXRvciwge30pKSA6IChqc3goSWNvbiwgeyBpY29uOiBcInJlY29yZGluZy1vZmZcIiB9KSkgfSkgfSkgfSkpO1xufTtcbmNvbnN0IFJlY29yZENhbGxCdXR0b24gPSAoeyBjYXB0aW9uIH0pID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHRvZ2dsZUNhbGxSZWNvcmRpbmcsIGlzQXdhaXRpbmdSZXNwb25zZSwgaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzcyB9ID0gdXNlVG9nZ2xlQ2FsbFJlY29yZGluZygpO1xuICAgIGxldCB0aXRsZSA9IGNhcHRpb24gPz8gdCgnUmVjb3JkIGNhbGwnKTtcbiAgICBpZiAoaXNBd2FpdGluZ1Jlc3BvbnNlKSB7XG4gICAgICAgIHRpdGxlID0gaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc1xuICAgICAgICAgICAgPyB0KCdXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RvcC4uLicpXG4gICAgICAgICAgICA6IHQoJ1dhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdGFydC4uLicpO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbXG4gICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUQVJUX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgT3duQ2FwYWJpbGl0eS5TVE9QX1JFQ09SRF9DQUxMLFxuICAgICAgICBdLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIFwiZGF0YS10ZXN0aWRcIjogaXNDYWxsUmVjb3JkaW5nSW5Qcm9ncmVzc1xuICAgICAgICAgICAgICAgID8gJ3JlY29yZGluZy1zdG9wLWJ1dHRvbidcbiAgICAgICAgICAgICAgICA6ICdyZWNvcmRpbmctc3RhcnQtYnV0dG9uJywgdGl0bGU6IHRpdGxlLCBvbkNsaWNrOiBpc0F3YWl0aW5nUmVzcG9uc2UgPyB1bmRlZmluZWQgOiB0b2dnbGVDYWxsUmVjb3JkaW5nLCBjaGlsZHJlbjogaXNBd2FpdGluZ1Jlc3BvbnNlID8gKGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7fSkpIDogKGpzeChJY29uLCB7IGljb246IGlzQ2FsbFJlY29yZGluZ0luUHJvZ3Jlc3MgPyAncmVjb3JkaW5nLW9uJyA6ICdyZWNvcmRpbmctb2ZmJyB9KSkgfSkgfSkpO1xufTtcblxuY29uc3QgZGVmYXVsdEVtb2ppUmVhY3Rpb25NYXAgPSB7XG4gICAgJzpsaWtlOic6ICfwn5GNJyxcbiAgICAnOnJhaXNlLWhhbmQ6JzogJ+KciycsXG4gICAgJzpmaXJld29ya3M6JzogJ/CfjoknLFxuICAgICc6ZGlzbGlrZTonOiAn8J+RjicsXG4gICAgJzpoZWFydDonOiAn4p2k77iPJyxcbiAgICAnOnNtaWxlOic6ICfwn5iAJyxcbn07XG5jb25zdCBSZWFjdGlvbiA9ICh7IHBhcnRpY2lwYW50OiB7IHJlYWN0aW9uLCBzZXNzaW9uSWQgfSwgaGlkZUFmdGVyVGltZW91dEluTXMgPSA1NTAwLCBlbW9qaVJlYWN0aW9uTWFwID0gZGVmYXVsdEVtb2ppUmVhY3Rpb25NYXAsIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbCB8fCAhcmVhY3Rpb24pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgY2FsbC5yZXNldFJlYWN0aW9uKHNlc3Npb25JZCk7XG4gICAgICAgIH0sIGhpZGVBZnRlclRpbWVvdXRJbk1zKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCBoaWRlQWZ0ZXJUaW1lb3V0SW5NcywgcmVhY3Rpb24sIHNlc3Npb25JZF0pO1xuICAgIGlmICghcmVhY3Rpb24pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHsgZW1vamlfY29kZTogZW1vamlDb2RlIH0gPSByZWFjdGlvbjtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3JlYWN0aW9uXCIsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcmVhY3Rpb25fX2Vtb2ppXCIsIGNoaWxkcmVuOiBlbW9qaUNvZGUgJiYgZW1vamlSZWFjdGlvbk1hcFtlbW9qaUNvZGVdIH0pIH0pKTtcbn07XG5cbmNvbnN0IGRlZmF1bHRSZWFjdGlvbnMgPSBbXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmxpa2U6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgLy8gVE9ETyBPTDogdXNlIGBwcm9tcHRgIHR5cGU/XG4gICAgICAgIHR5cGU6ICdyYWlzZWQtaGFuZCcsXG4gICAgICAgIGVtb2ppX2NvZGU6ICc6cmFpc2UtaGFuZDonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmZpcmV3b3JrczonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOmRpc2xpa2U6JyxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgdHlwZTogJ3JlYWN0aW9uJyxcbiAgICAgICAgZW1vamlfY29kZTogJzpoZWFydDonLFxuICAgIH0sXG4gICAge1xuICAgICAgICB0eXBlOiAncmVhY3Rpb24nLFxuICAgICAgICBlbW9qaV9jb2RlOiAnOnNtaWxlOicsXG4gICAgfSxcbl07XG5jb25zdCBSZWFjdGlvbnNCdXR0b24gPSAoeyByZWFjdGlvbnMgPSBkZWZhdWx0UmVhY3Rpb25zLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuQ1JFQVRFX1JFQUNUSU9OXSwgY2hpbGRyZW46IGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJ0b3BcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVSZWFjdGlvbnNNZW51QnV0dG9uLCB2aXN1YWxUeXBlOiBNZW51VmlzdWFsVHlwZS5NRU5VLCBjaGlsZHJlbjoganN4KERlZmF1bHRSZWFjdGlvbnNNZW51LCB7IHJlYWN0aW9uczogcmVhY3Rpb25zIH0pIH0pIH0pKTtcbn07XG5jb25zdCBUb2dnbGVSZWFjdGlvbnNNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVSZWFjdGlvbnNNZW51QnV0dG9uKHsgbWVudVNob3duIH0sIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiB0KCdSZWFjdGlvbnMnKSwgdG9vbHRpcERpc2FibGVkOiBtZW51U2hvd24sIGNoaWxkcmVuOiBqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHJlZjogcmVmLCBhY3RpdmU6IG1lbnVTaG93biwgdmFyaWFudDogXCJwcmltYXJ5XCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInJlYWN0aW9uc1wiIH0pIH0pIH0pKTtcbn0pO1xuY29uc3QgRGVmYXVsdFJlYWN0aW9uc01lbnUgPSAoeyByZWFjdGlvbnMsIGxheW91dCA9ICdob3Jpem9udGFsJywgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyBjbG9zZSB9ID0gdXNlTWVudUNvbnRleHQoKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudScsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3JlYWN0aW9ucy1tZW51LS1ob3Jpem9udGFsJzogbGF5b3V0ID09PSAnaG9yaXpvbnRhbCcsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudS0tdmVydGljYWwnOiBsYXlvdXQgPT09ICd2ZXJ0aWNhbCcsXG4gICAgICAgIH0pLCBjaGlsZHJlbjogcmVhY3Rpb25zLm1hcCgocmVhY3Rpb24pID0+IChqc3goXCJidXR0b25cIiwgeyB0eXBlOiBcImJ1dHRvblwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19yZWFjdGlvbnMtbWVudV9fYnV0dG9uXCIsIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjYWxsPy5zZW5kUmVhY3Rpb24ocmVhY3Rpb24pO1xuICAgICAgICAgICAgICAgIGNsb3NlPy4oKTtcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuOiByZWFjdGlvbi5lbW9qaV9jb2RlICYmIGRlZmF1bHRFbW9qaVJlYWN0aW9uTWFwW3JlYWN0aW9uLmVtb2ppX2NvZGVdIH0sIHJlYWN0aW9uLmVtb2ppX2NvZGUpKSkgfSkpO1xufTtcblxuLyoqXG4gKiBXcmFwcyBhbiBldmVudCBoYW5kbGVyLCBzaWxlbmNpbmcgYW5kIGxvZ2dpbmcgZXhjZXB0aW9ucyAoZXhjbHVkaW5nIHRoZSBOb3RBbGxvd2VkRXJyb3JcbiAqIERPTUV4Y2VwdGlvbiwgd2hpY2ggaXMgYSBub3JtYWwgc2l0dWF0aW9uIGhhbmRsZWQgYnkgdGhlIFNESylcbiAqXG4gKiBAcGFyYW0gcHJvcHMgY29tcG9uZW50IHByb3BzLCBpbmNsdWRpbmcgdGhlIG9uRXJyb3IgY2FsbGJhY2tcbiAqIEBwYXJhbSBoYW5kbGVyIGV2ZW50IGhhbmRsZXIgdG8gd3JhcFxuICovXG5jb25zdCBjcmVhdGVDYWxsQ29udHJvbEhhbmRsZXIgPSAocHJvcHMsIGhhbmRsZXIpID0+IHtcbiAgICBjb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoWydyZWFjdC1zZGsnXSk7XG4gICAgcmV0dXJuIGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGhhbmRsZXIoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChwcm9wcy5vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgcHJvcHMub25FcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc05vdEFsbG93ZWRFcnJvcihlcnJvcikpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXIoJ2Vycm9yJywgJ0NhbGwgY29udHJvbCBoYW5kbGVyIGZhaWxlZCcsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59O1xuZnVuY3Rpb24gaXNOb3RBbGxvd2VkRXJyb3IoZXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gJiYgZXJyb3IubmFtZSA9PT0gJ05vdEFsbG93ZWRFcnJvcic7XG59XG5cbmNvbnN0IFNjcmVlblNoYXJlQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBjYXB0aW9uIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZSwgdXNlU2NyZWVuU2hhcmVTdGF0ZSwgdXNlQ2FsbFNldHRpbmdzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGlzU29tZW9uZVNjcmVlblNoYXJpbmcgPSB1c2VIYXNPbmdvaW5nU2NyZWVuU2hhcmUoKTtcbiAgICBjb25zdCB7IGhhc1Blcm1pc3Npb24sIHJlcXVlc3RQZXJtaXNzaW9uLCBpc0F3YWl0aW5nUGVybWlzc2lvbiB9ID0gdXNlUmVxdWVzdFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSk7XG4gICAgY29uc3QgY2FsbFNldHRpbmdzID0gdXNlQ2FsbFNldHRpbmdzKCk7XG4gICAgY29uc3QgaXNTY3JlZW5TaGFyaW5nQWxsb3dlZCA9IGNhbGxTZXR0aW5ncz8uc2NyZWVuc2hhcmluZy5lbmFibGVkO1xuICAgIGNvbnN0IHsgc2NyZWVuU2hhcmUsIG9wdGltaXN0aWNJc011dGUgfSA9IHVzZVNjcmVlblNoYXJlU3RhdGUoKTtcbiAgICBjb25zdCBhbUlTY3JlZW5TaGFyaW5nID0gIW9wdGltaXN0aWNJc011dGU7XG4gICAgY29uc3QgZGlzYWJsZVNjcmVlblNoYXJlQnV0dG9uID0gIWFtSVNjcmVlblNoYXJpbmcgJiZcbiAgICAgICAgKGlzU29tZW9uZVNjcmVlblNoYXJpbmcgfHwgaXNTY3JlZW5TaGFyaW5nQWxsb3dlZCA9PT0gZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyKHByb3BzLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghaGFzUGVybWlzc2lvbikge1xuICAgICAgICAgICAgYXdhaXQgcmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHNjcmVlblNoYXJlLnRvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuU0NSRUVOU0hBUkVdLCBjaGlsZHJlbjoganN4KFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIHsgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRSwgaXNBd2FpdGluZ0FwcHJvdmFsOiBpc0F3YWl0aW5nUGVybWlzc2lvbiwgbWVzc2FnZUFwcHJvdmVkOiB0KCdZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHNjcmVlbi4nKSwgbWVzc2FnZUF3YWl0aW5nQXBwcm92YWw6IHQoJ0F3YWl0aW5nIGZvciBhbiBhcHByb3ZhbCB0byBzaGFyZSBzY3JlZW4uJyksIG1lc3NhZ2VSZXZva2VkOiB0KCdZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHNjcmVlbi4nKSwgY2hpbGRyZW46IGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogY2FwdGlvbiA/PyB0KCdTaGFyZSBzY3JlZW4nKSwgY2hpbGRyZW46IGpzeChDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBpc1NvbWVvbmVTY3JlZW5TaGFyaW5nIHx8IGFtSVNjcmVlblNoYXJpbmcsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwicHJpbWFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IGlzU29tZW9uZVNjcmVlblNoYXJpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgID8gJ3NjcmVlbi1zaGFyZS1zdG9wLWJ1dHRvbidcbiAgICAgICAgICAgICAgICAgICAgICAgIDogJ3NjcmVlbi1zaGFyZS1zdGFydC1idXR0b24nLCBkaXNhYmxlZDogZGlzYWJsZVNjcmVlblNoYXJlQnV0dG9uLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IGlzU29tZW9uZVNjcmVlblNoYXJpbmcgPyAnc2NyZWVuLXNoYXJlLW9uJyA6ICdzY3JlZW4tc2hhcmUtb2ZmJyB9KSB9KSB9KSB9KSB9KSk7XG59O1xuXG5jb25zdCBTZWxlY3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh7fSk7XG5jb25zdCBTZWxlY3QgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBpY29uLCBkZWZhdWx0U2VsZWN0ZWRMYWJlbCwgZGVmYXVsdFNlbGVjdGVkSW5kZXgsIGhhbmRsZVNlbGVjdDogaGFuZGxlU2VsZWN0UHJvcCwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2FjdGl2ZUluZGV4LCBzZXRBY3RpdmVJbmRleF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbc2VsZWN0ZWRJbmRleCwgc2V0U2VsZWN0ZWRJbmRleF0gPSB1c2VTdGF0ZShkZWZhdWx0U2VsZWN0ZWRJbmRleCk7XG4gICAgY29uc3QgW3NlbGVjdGVkTGFiZWwsIHNldFNlbGVjdGVkTGFiZWxdID0gdXNlU3RhdGUoZGVmYXVsdFNlbGVjdGVkTGFiZWwpO1xuICAgIGNvbnN0IHsgcmVmcywgY29udGV4dCB9ID0gdXNlRmxvYXRpbmcoe1xuICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20tc3RhcnQnLFxuICAgICAgICBvcGVuOiBpc09wZW4sXG4gICAgICAgIG9uT3BlbkNoYW5nZTogc2V0SXNPcGVuLFxuICAgICAgICB3aGlsZUVsZW1lbnRzTW91bnRlZDogYXV0b1VwZGF0ZSxcbiAgICAgICAgbWlkZGxld2FyZTogW2ZsaXAoKV0sXG4gICAgfSk7XG4gICAgY29uc3QgZWxlbWVudHNSZWYgPSB1c2VSZWYoW10pO1xuICAgIGNvbnN0IGxhYmVsc1JlZiA9IHVzZVJlZihbXSk7XG4gICAgY29uc3QgaGFuZGxlU2VsZWN0ID0gdXNlQ2FsbGJhY2soKGluZGV4KSA9PiB7XG4gICAgICAgIHNldFNlbGVjdGVkSW5kZXgoaW5kZXgpO1xuICAgICAgICBoYW5kbGVTZWxlY3RQcm9wKGluZGV4IHx8IDApO1xuICAgICAgICBzZXRJc09wZW4oZmFsc2UpO1xuICAgICAgICBpZiAoaW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkTGFiZWwobGFiZWxzUmVmLmN1cnJlbnRbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgIH0sIFtoYW5kbGVTZWxlY3RQcm9wXSk7XG4gICAgY29uc3QgaGFuZGxlVHlwZWFoZWFkTWF0Y2ggPSAoaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKGlzT3Blbikge1xuICAgICAgICAgICAgc2V0QWN0aXZlSW5kZXgoaW5kZXgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaGFuZGxlU2VsZWN0KGluZGV4KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3QgbGlzdE5hdiA9IHVzZUxpc3ROYXZpZ2F0aW9uKGNvbnRleHQsIHtcbiAgICAgICAgbGlzdFJlZjogZWxlbWVudHNSZWYsXG4gICAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgICBzZWxlY3RlZEluZGV4LFxuICAgICAgICBvbk5hdmlnYXRlOiBzZXRBY3RpdmVJbmRleCxcbiAgICB9KTtcbiAgICBjb25zdCB0eXBlYWhlYWQgPSB1c2VUeXBlYWhlYWQoY29udGV4dCwge1xuICAgICAgICBsaXN0UmVmOiBsYWJlbHNSZWYsXG4gICAgICAgIGFjdGl2ZUluZGV4LFxuICAgICAgICBzZWxlY3RlZEluZGV4LFxuICAgICAgICBvbk1hdGNoOiBoYW5kbGVUeXBlYWhlYWRNYXRjaCxcbiAgICB9KTtcbiAgICBjb25zdCBjbGljayA9IHVzZUNsaWNrKGNvbnRleHQpO1xuICAgIGNvbnN0IGRpc21pc3MgPSB1c2VEaXNtaXNzKGNvbnRleHQpO1xuICAgIGNvbnN0IHJvbGUgPSB1c2VSb2xlKGNvbnRleHQsIHsgcm9sZTogJ2xpc3Rib3gnIH0pO1xuICAgIGNvbnN0IHsgZ2V0UmVmZXJlbmNlUHJvcHMsIGdldEZsb2F0aW5nUHJvcHMsIGdldEl0ZW1Qcm9wcyB9ID0gdXNlSW50ZXJhY3Rpb25zKFtsaXN0TmF2LCB0eXBlYWhlYWQsIGNsaWNrLCBkaXNtaXNzLCByb2xlXSk7XG4gICAgY29uc3Qgc2VsZWN0Q29udGV4dCA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgYWN0aXZlSW5kZXgsXG4gICAgICAgIHNlbGVjdGVkSW5kZXgsXG4gICAgICAgIGdldEl0ZW1Qcm9wcyxcbiAgICAgICAgaGFuZGxlU2VsZWN0LFxuICAgIH0pLCBbYWN0aXZlSW5kZXgsIHNlbGVjdGVkSW5kZXgsIGdldEl0ZW1Qcm9wcywgaGFuZGxlU2VsZWN0XSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd25cIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRcIiwgcmVmOiByZWZzLnNldFJlZmVyZW5jZSwgdGFiSW5kZXg6IDAsIC4uLmdldFJlZmVyZW5jZVByb3BzKCksIGNoaWxkcmVuOiBbanN4cyhcImxhYmVsXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRfX2xhYmVsXCIsIGNoaWxkcmVuOiBbaWNvbiAmJiAoanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tc2VsZWN0ZWRfX2ljb25cIiwgaWNvbjogaWNvbiB9KSksIHNlbGVjdGVkTGFiZWxdIH0pLCBqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kcm9wZG93bi1zZWxlY3RlZF9fY2hldnJvblwiLCBpY29uOiBpc09wZW4gPyAnY2hldnJvbi11cCcgOiAnY2hldnJvbi1kb3duJyB9KV0gfSksIGpzeChTZWxlY3RDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiBzZWxlY3RDb250ZXh0LCBjaGlsZHJlbjogaXNPcGVuICYmIChqc3goRmxvYXRpbmdGb2N1c01hbmFnZXIsIHsgY29udGV4dDogY29udGV4dCwgbW9kYWw6IGZhbHNlLCBjaGlsZHJlbjoganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tbGlzdFwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIC4uLmdldEZsb2F0aW5nUHJvcHMoKSwgY2hpbGRyZW46IGpzeChGbG9hdGluZ0xpc3QsIHsgZWxlbWVudHNSZWY6IGVsZW1lbnRzUmVmLCBsYWJlbHNSZWY6IGxhYmVsc1JlZiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pIH0pKSB9KV0gfSkpO1xufTtcbmNvbnN0IERyb3BEb3duU2VsZWN0T3B0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBzZWxlY3RlZCwgbGFiZWwsIGljb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgZ2V0SXRlbVByb3BzLCBoYW5kbGVTZWxlY3QgfSA9IHVzZUNvbnRleHQoU2VsZWN0Q29udGV4dCk7XG4gICAgY29uc3QgeyByZWYsIGluZGV4IH0gPSB1c2VMaXN0SXRlbSgpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19kcm9wZG93bi1vcHRpb24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kcm9wZG93bi1vcHRpb24tLXNlbGVjdGVkJzogc2VsZWN0ZWQsXG4gICAgICAgIH0pLCByZWY6IHJlZiwgLi4uZ2V0SXRlbVByb3BzKHtcbiAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IGhhbmRsZVNlbGVjdChpbmRleCksXG4gICAgICAgIH0pLCBjaGlsZHJlbjogW2ljb24gJiYganN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24taWNvblwiLCBpY29uOiBpY29uIH0pLCBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZHJvcGRvd24tbGFiZWxcIiwgY2hpbGRyZW46IGxhYmVsIH0pXSB9KSk7XG59O1xuY29uc3QgRHJvcERvd25TZWxlY3QgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBpY29uLCBoYW5kbGVTZWxlY3QsIGRlZmF1bHRTZWxlY3RlZExhYmVsLCBkZWZhdWx0U2VsZWN0ZWRJbmRleCwgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFNlbGVjdCwgeyBpY29uOiBpY29uLCBoYW5kbGVTZWxlY3Q6IGhhbmRsZVNlbGVjdCwgZGVmYXVsdFNlbGVjdGVkSW5kZXg6IGRlZmF1bHRTZWxlY3RlZEluZGV4LCBkZWZhdWx0U2VsZWN0ZWRMYWJlbDogZGVmYXVsdFNlbGVjdGVkTGFiZWwsIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBEZXZpY2VTZWxlY3Rvck9wdGlvbiA9ICh7IGRpc2FibGVkLCBpZCwgbGFiZWwsIG9uQ2hhbmdlLCBuYW1lLCBzZWxlY3RlZCwgZGVmYXVsdENoZWNrZWQsIHZhbHVlLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwibGFiZWxcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19vcHRpb24nLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX29wdGlvbi0tc2VsZWN0ZWQnOiBzZWxlY3RlZCxcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fb3B0aW9uLS1kaXNhYmxlZCc6IGRpc2FibGVkLFxuICAgICAgICB9KSwgaHRtbEZvcjogaWQsIGNoaWxkcmVuOiBbanN4KFwiaW5wdXRcIiwgeyB0eXBlOiBcInJhZGlvXCIsIG5hbWU6IG5hbWUsIG9uQ2hhbmdlOiBvbkNoYW5nZSwgdmFsdWU6IHZhbHVlLCBpZDogaWQsIGNoZWNrZWQ6IHNlbGVjdGVkLCBkZWZhdWx0Q2hlY2tlZDogZGVmYXVsdENoZWNrZWQsIGRpc2FibGVkOiBkaXNhYmxlZCB9KSwgbGFiZWxdIH0pKTtcbn07XG5jb25zdCBEZXZpY2VTZWxlY3Rvckxpc3QgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGRldmljZXMgPSBbXSwgc2VsZWN0ZWREZXZpY2VJZCwgdGl0bGUsIHR5cGUsIG9uQ2hhbmdlIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGNsb3NlIH0gPSB1c2VNZW51Q29udGV4dCgpO1xuICAgIGNvbnN0IHsgZGV2aWNlTGlzdCB9ID0gdXNlRGV2aWNlTGlzdChkZXZpY2VzLCBzZWxlY3RlZERldmljZUlkKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2RldmljZS1raW5kXCIsIGNoaWxkcmVuOiBbdGl0bGUgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fZGV2aWNlLXNlbGVjdG9yLXRpdGxlXCIsIGNoaWxkcmVuOiB0aXRsZSB9KSksIGRldmljZUxpc3QubWFwKChkZXZpY2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3Rvck9wdGlvbiwgeyBpZDogYCR7dHlwZX0tLSR7ZGV2aWNlLmRldmljZUlkfWAsIHZhbHVlOiBkZXZpY2UuZGV2aWNlSWQsIGxhYmVsOiBkZXZpY2UubGFiZWwsIG9uQ2hhbmdlOiAoZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGV2aWNlSWQgPSBlLnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXZpY2VJZCAhPT0gJ2RlZmF1bHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DaGFuZ2U/LihkZXZpY2VJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjbG9zZT8uKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIG5hbWU6IHR5cGUsIHNlbGVjdGVkOiBkZXZpY2UuaXNTZWxlY3RlZCB9LCBkZXZpY2UuZGV2aWNlSWQpKTtcbiAgICAgICAgICAgIH0pXSB9KSk7XG59O1xuY29uc3QgRGV2aWNlU2VsZWN0b3JEcm9wZG93biA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgZGV2aWNlcyA9IFtdLCBzZWxlY3RlZERldmljZUlkLCB0aXRsZSwgb25DaGFuZ2UsIGljb24gfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgZGV2aWNlTGlzdCwgc2VsZWN0ZWREZXZpY2VJbmZvLCBzZWxlY3RlZEluZGV4IH0gPSB1c2VEZXZpY2VMaXN0KGRldmljZXMsIHNlbGVjdGVkRGV2aWNlSWQpO1xuICAgIGNvbnN0IGhhbmRsZVNlbGVjdCA9IHVzZUNhbGxiYWNrKChpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBkZXZpY2VJZCA9IGRldmljZUxpc3RbaW5kZXhdLmRldmljZUlkO1xuICAgICAgICBpZiAoZGV2aWNlSWQgIT09ICdkZWZhdWx0Jykge1xuICAgICAgICAgICAgb25DaGFuZ2U/LihkZXZpY2VJZCk7XG4gICAgICAgIH1cbiAgICB9LCBbZGV2aWNlTGlzdCwgb25DaGFuZ2VdKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2RldmljZS1raW5kXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZGV2aWNlLXNldHRpbmdzX19kZXZpY2Utc2VsZWN0b3ItdGl0bGVcIiwgY2hpbGRyZW46IHRpdGxlIH0pLCBqc3goRHJvcERvd25TZWxlY3QsIHsgaWNvbjogaWNvbiwgZGVmYXVsdFNlbGVjdGVkSW5kZXg6IHNlbGVjdGVkSW5kZXgsIGRlZmF1bHRTZWxlY3RlZExhYmVsOiBzZWxlY3RlZERldmljZUluZm8ubGFiZWwsIGhhbmRsZVNlbGVjdDogaGFuZGxlU2VsZWN0LCBjaGlsZHJlbjogZGV2aWNlTGlzdC5tYXAoKGRldmljZSkgPT4gKGpzeChEcm9wRG93blNlbGVjdE9wdGlvbiwgeyBpY29uOiBpY29uLCBsYWJlbDogZGV2aWNlLmxhYmVsLCBzZWxlY3RlZDogZGV2aWNlLmlzU2VsZWN0ZWQgfSwgZGV2aWNlLmRldmljZUlkKSkpIH0pXSB9KSk7XG59O1xuY29uc3QgRGV2aWNlU2VsZWN0b3IgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IHZpc3VhbFR5cGUgPSAnbGlzdCcsIGljb24sIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIGlmICh2aXN1YWxUeXBlID09PSAnbGlzdCcpIHtcbiAgICAgICAgcmV0dXJuIGpzeChEZXZpY2VTZWxlY3Rvckxpc3QsIHsgLi4ucmVzdCB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGpzeChEZXZpY2VTZWxlY3RvckRyb3Bkb3duLCB7IC4uLnJlc3QsIGljb246IGljb24gfSk7XG59O1xuXG5jb25zdCBEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQgPSAoeyB0aXRsZSwgdmlzdWFsVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlTWljcm9waG9uZVN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgbWljcm9waG9uZSwgc2VsZWN0ZWREZXZpY2UsIGRldmljZXMgfSA9IHVzZU1pY3JvcGhvbmVTdGF0ZSgpO1xuICAgIHJldHVybiAoanN4KERldmljZVNlbGVjdG9yLCB7IGRldmljZXM6IGRldmljZXMgfHwgW10sIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlLCB0eXBlOiBcImF1ZGlvaW5wdXRcIiwgb25DaGFuZ2U6IGFzeW5jIChkZXZpY2VJZCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgbWljcm9waG9uZS5zZWxlY3QoZGV2aWNlSWQpO1xuICAgICAgICB9LCB0aXRsZTogdGl0bGUsIHZpc3VhbFR5cGU6IHZpc3VhbFR5cGUsIGljb246IFwibWljXCIgfSkpO1xufTtcbmNvbnN0IERldmljZVNlbGVjdG9yQXVkaW9PdXRwdXQgPSAoeyB0aXRsZSwgdmlzdWFsVHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlU3BlYWtlclN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgc3BlYWtlciwgc2VsZWN0ZWREZXZpY2UsIGRldmljZXMsIGlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkIH0gPSB1c2VTcGVha2VyU3RhdGUoKTtcbiAgICBpZiAoIWlzRGV2aWNlU2VsZWN0aW9uU3VwcG9ydGVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeChEZXZpY2VTZWxlY3RvciwgeyBkZXZpY2VzOiBkZXZpY2VzLCB0eXBlOiBcImF1ZGlvb3V0cHV0XCIsIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlLCBvbkNoYW5nZTogKGRldmljZUlkKSA9PiB7XG4gICAgICAgICAgICBzcGVha2VyLnNlbGVjdChkZXZpY2VJZCk7XG4gICAgICAgIH0sIHRpdGxlOiB0aXRsZSwgdmlzdWFsVHlwZTogdmlzdWFsVHlwZSwgaWNvbjogXCJzcGVha2VyXCIgfSkpO1xufTtcblxuY29uc3QgRGV2aWNlU2VsZWN0b3JWaWRlbyA9ICh7IHRpdGxlLCB2aXN1YWxUeXBlLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGNhbWVyYSwgZGV2aWNlcywgc2VsZWN0ZWREZXZpY2UgfSA9IHVzZUNhbWVyYVN0YXRlKCk7XG4gICAgcmV0dXJuIChqc3goRGV2aWNlU2VsZWN0b3IsIHsgZGV2aWNlczogZGV2aWNlcyB8fCBbXSwgdHlwZTogXCJ2aWRlb2lucHV0XCIsIHNlbGVjdGVkRGV2aWNlSWQ6IHNlbGVjdGVkRGV2aWNlLCBvbkNoYW5nZTogYXN5bmMgKGRldmljZUlkKSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBjYW1lcmEuc2VsZWN0KGRldmljZUlkKTtcbiAgICAgICAgfSwgdGl0bGU6IHRpdGxlLCB2aXN1YWxUeXBlOiB2aXN1YWxUeXBlLCBpY29uOiBcImNhbWVyYVwiIH0pKTtcbn07XG5cbmNvbnN0IERldmljZVNldHRpbmdzID0gKHsgdmlzdWFsVHlwZSA9IE1lbnVWaXN1YWxUeXBlLk1FTlUsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJib3R0b20tZW5kXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlRGV2aWNlU2V0dGluZ3NNZW51QnV0dG9uLCB2aXN1YWxUeXBlOiB2aXN1YWxUeXBlLCBjaGlsZHJlbjoganN4KE1lbnUsIHt9KSB9KSk7XG59O1xuY29uc3QgTWVudSA9ICgpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NcIiwgY2hpbGRyZW46IFtqc3goRGV2aWNlU2VsZWN0b3JWaWRlbywgeyB0aXRsZTogdCgnU2VsZWN0IGEgQ2FtZXJhJykgfSksIGpzeChEZXZpY2VTZWxlY3RvckF1ZGlvSW5wdXQsIHsgdGl0bGU6IHQoJ1NlbGVjdCBhIE1pYycpIH0pLCBqc3goRGV2aWNlU2VsZWN0b3JBdWRpb091dHB1dCwgeyB0aXRsZTogdCgnU2VsZWN0IFNwZWFrZXJzJykgfSldIH0pKTtcbn07XG5jb25zdCBUb2dnbGVEZXZpY2VTZXR0aW5nc01lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZURldmljZVNldHRpbmdzTWVudUJ1dHRvbih7IG1lbnVTaG93biB9LCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19kZXZpY2Utc2V0dGluZ3NfX2J1dHRvbicsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2RldmljZS1zZXR0aW5nc19fYnV0dG9uLS1hY3RpdmUnOiBtZW51U2hvd24sXG4gICAgICAgIH0pLCB0aXRsZTogdCgnVG9nZ2xlIGRldmljZSBtZW51JyksIGljb246IFwiZGV2aWNlLXNldHRpbmdzXCIsIHJlZjogcmVmIH0pKTtcbn0pO1xuXG5jb25zdCBUb2dnbGVBdWRpb1ByZXZpZXdCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNhcHRpb24sIG9uTWVudVRvZ2dsZSwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHVzZU1pY3JvcGhvbmVTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IG1pY3JvcGhvbmUsIG9wdGltaXN0aWNJc011dGUsIGhhc0Jyb3dzZXJQZXJtaXNzaW9uLCBpc1Byb21wdGluZ1Blcm1pc3Npb24sIH0gPSB1c2VNaWNyb3Bob25lU3RhdGUoKTtcbiAgICBjb25zdCBbdG9vbHRpcERpc2FibGVkLCBzZXRUb29sdGlwRGlzYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyKHByb3BzLCAoKSA9PiBtaWNyb3Bob25lLnRvZ2dsZSgpKTtcbiAgICByZXR1cm4gKGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uXG4gICAgICAgICAgICA/IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciBhdWRpbyBwZXJtaXNzaW9ucycpXG4gICAgICAgICAgICA6IChjYXB0aW9uID8/IHQoJ01pYycpKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3hzKENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IG9wdGltaXN0aWNJc011dGUsIGNhcHRpb246IGNhcHRpb24sIGNsYXNzTmFtZTogY2xzeCghaGFzQnJvd3NlclBlcm1pc3Npb24gJiYgJ3N0ci12aWRlb19fZGV2aWNlLXVuYXZhaWxhYmxlJyksIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIGRpc2FibGVkOiAhaGFzQnJvd3NlclBlcm1pc3Npb24sIFwiZGF0YS10ZXN0aWRcIjogb3B0aW1pc3RpY0lzTXV0ZVxuICAgICAgICAgICAgICAgID8gJ3ByZXZpZXctYXVkaW8tdW5tdXRlLWJ1dHRvbidcbiAgICAgICAgICAgICAgICA6ICdwcmV2aWV3LWF1ZGlvLW11dGUtYnV0dG9uJywgb25DbGljazogaGFuZGxlQ2xpY2ssIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcywgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgIG9uTWVudVRvZ2dsZT8uKHNob3duKTtcbiAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogIW9wdGltaXN0aWNJc011dGUgPyAnbWljJyA6ICdtaWMtb2ZmJyB9KSwgIWhhc0Jyb3dzZXJQZXJtaXNzaW9uICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbm8tbWVkaWEtcGVybWlzc2lvblwiLCB0aXRsZTogdCgnQ2hlY2sgeW91ciBicm93c2VyIGF1ZGlvIHBlcm1pc3Npb25zJyksIGNoaWxkcmVuOiBcIiFcIiB9KSksIGlzUHJvbXB0aW5nUGVybWlzc2lvbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BlbmRpbmctcGVybWlzc2lvblwiLCB0aXRsZTogdCgnV2FpdGluZyBmb3IgcGVybWlzc2lvbicpLCBjaGlsZHJlbjogXCI/XCIgfSkpXSB9KSB9KSk7XG59O1xuY29uc3QgVG9nZ2xlQXVkaW9QdWJsaXNoaW5nQnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBNZW51ID0ganN4KERldmljZVNlbGVjdG9yQXVkaW9JbnB1dCwgeyB2aXN1YWxUeXBlOiBcImxpc3RcIiB9KSwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyBoYXNQZXJtaXNzaW9uLCByZXF1ZXN0UGVybWlzc2lvbiwgaXNBd2FpdGluZ1Blcm1pc3Npb24gfSA9IHVzZVJlcXVlc3RQZXJtaXNzaW9uKE93bkNhcGFiaWxpdHkuU0VORF9BVURJTyk7XG4gICAgY29uc3QgeyB1c2VNaWNyb3Bob25lU3RhdGUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBtaWNyb3Bob25lLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiwgaXNQcm9tcHRpbmdQZXJtaXNzaW9uLCB9ID0gdXNlTWljcm9waG9uZVN0YXRlKCk7XG4gICAgY29uc3QgW3Rvb2x0aXBEaXNhYmxlZCwgc2V0VG9vbHRpcERpc2FibGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IGNyZWF0ZUNhbGxDb250cm9sSGFuZGxlcihwcm9wcywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHJlcXVlc3RQZXJtaXNzaW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCBtaWNyb3Bob25lLnRvZ2dsZSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuU0VORF9BVURJT10sIGNoaWxkcmVuOiBqc3goUGVybWlzc2lvbk5vdGlmaWNhdGlvbiwgeyBwZXJtaXNzaW9uOiBPd25DYXBhYmlsaXR5LlNFTkRfQVVESU8sIGlzQXdhaXRpbmdBcHByb3ZhbDogaXNBd2FpdGluZ1Blcm1pc3Npb24sIG1lc3NhZ2VBcHByb3ZlZDogdCgnWW91IGNhbiBub3cgc3BlYWsuJyksIG1lc3NhZ2VBd2FpdGluZ0FwcHJvdmFsOiB0KCdBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc3BlYWsuJyksIG1lc3NhZ2VSZXZva2VkOiB0KCdZb3UgY2FuIG5vIGxvbmdlciBzcGVhay4nKSwgY2hpbGRyZW46IGpzeChXaXRoVG9vbHRpcCwgeyB0aXRsZTogIWhhc1Blcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgPyB0KCdZb3UgaGF2ZSBubyBwZXJtaXNzaW9uIHRvIHNoYXJlIHlvdXIgYXVkaW8nKVxuICAgICAgICAgICAgICAgICAgICA6ICFoYXNCcm93c2VyUGVybWlzc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0KCdDaGVjayB5b3VyIGJyb3dzZXIgbWljIHBlcm1pc3Npb25zJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogKGNhcHRpb24gPz8gdCgnTWljJykpLCB0b29sdGlwRGlzYWJsZWQ6IHRvb2x0aXBEaXNhYmxlZCwgY2hpbGRyZW46IGpzeHMoQ29tcG9zaXRlQnV0dG9uLCB7IGFjdGl2ZTogb3B0aW1pc3RpY0lzTXV0ZSwgY2FwdGlvbjogY2FwdGlvbiwgdmFyaWFudDogXCJzZWNvbmRhcnlcIiwgZGlzYWJsZWQ6ICFoYXNCcm93c2VyUGVybWlzc2lvbiB8fCAhaGFzUGVybWlzc2lvbiwgXCJkYXRhLXRlc3RpZFwiOiBvcHRpbWlzdGljSXNNdXRlID8gJ2F1ZGlvLXVubXV0ZS1idXR0b24nIDogJ2F1ZGlvLW11dGUtYnV0dG9uJywgb25DbGljazogaGFuZGxlQ2xpY2ssIE1lbnU6IE1lbnUsIG1lbnVQbGFjZW1lbnQ6IG1lbnVQbGFjZW1lbnQsIG1lbnVPZmZzZXQ6IDE2LCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUb29sdGlwRGlzYWJsZWQoc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IG9wdGltaXN0aWNJc011dGUgPyAnbWljLW9mZicgOiAnbWljJyB9KSwgKCFoYXNCcm93c2VyUGVybWlzc2lvbiB8fCAhaGFzUGVybWlzc2lvbikgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19uby1tZWRpYS1wZXJtaXNzaW9uXCIsIGNoaWxkcmVuOiBcIiFcIiB9KSksIGlzUHJvbXB0aW5nUGVybWlzc2lvbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BlbmRpbmctcGVybWlzc2lvblwiLCB0aXRsZTogdCgnV2FpdGluZyBmb3IgcGVybWlzc2lvbicpLCBjaGlsZHJlbjogXCI/XCIgfSkpXSB9KSB9KSB9KSB9KSk7XG59O1xuXG5jb25zdCBUb2dnbGVWaWRlb1ByZXZpZXdCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNhcHRpb24sIE1lbnUgPSBEZXZpY2VTZWxlY3RvclZpZGVvLCBtZW51UGxhY2VtZW50ID0gJ3RvcCcsIG9uTWVudVRvZ2dsZSwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHVzZUNhbWVyYVN0YXRlIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHsgY2FtZXJhLCBvcHRpbWlzdGljSXNNdXRlLCBoYXNCcm93c2VyUGVybWlzc2lvbiwgaXNQcm9tcHRpbmdQZXJtaXNzaW9uLCB9ID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICBjb25zdCBbdG9vbHRpcERpc2FibGVkLCBzZXRUb29sdGlwRGlzYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyKHByb3BzLCAoKSA9PiBjYW1lcmEudG9nZ2xlKCkpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiAhaGFzQnJvd3NlclBlcm1pc3Npb25cbiAgICAgICAgICAgID8gdCgnQ2hlY2sgeW91ciBicm93c2VyIHZpZGVvIHBlcm1pc3Npb25zJylcbiAgICAgICAgICAgIDogKGNhcHRpb24gPz8gdCgnVmlkZW8nKSksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4cyhDb21wb3NpdGVCdXR0b24sIHsgYWN0aXZlOiBvcHRpbWlzdGljSXNNdXRlLCBjYXB0aW9uOiBjYXB0aW9uLCBjbGFzc05hbWU6IGNsc3goIWhhc0Jyb3dzZXJQZXJtaXNzaW9uICYmICdzdHItdmlkZW9fX2RldmljZS11bmF2YWlsYWJsZScpLCB2YXJpYW50OiBcInNlY29uZGFyeVwiLCBcImRhdGEtdGVzdGlkXCI6IG9wdGltaXN0aWNJc011dGVcbiAgICAgICAgICAgICAgICA/ICdwcmV2aWV3LXZpZGVvLXVubXV0ZS1idXR0b24nXG4gICAgICAgICAgICAgICAgOiAncHJldmlldy12aWRlby1tdXRlLWJ1dHRvbicsIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLCBkaXNhYmxlZDogIWhhc0Jyb3dzZXJQZXJtaXNzaW9uLCBNZW51OiBNZW51LCBtZW51UGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCAuLi5yZXN0Q29tcG9zaXRlQnV0dG9uUHJvcHMsIG9uTWVudVRvZ2dsZTogKHNob3duKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0VG9vbHRpcERpc2FibGVkKHNob3duKTtcbiAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICB9LCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246ICFvcHRpbWlzdGljSXNNdXRlID8gJ2NhbWVyYScgOiAnY2FtZXJhLW9mZicgfSksICFoYXNCcm93c2VyUGVybWlzc2lvbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vLW1lZGlhLXBlcm1pc3Npb25cIiwgdGl0bGU6IHQoJ0NoZWNrIHlvdXIgYnJvd3NlciB2aWRlbyBwZXJtaXNzaW9ucycpLCBjaGlsZHJlbjogXCIhXCIgfSkpLCBpc1Byb21wdGluZ1Blcm1pc3Npb24gJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZW5kaW5nLXBlcm1pc3Npb25cIiwgdGl0bGU6IHQoJ1dhaXRpbmcgZm9yIHBlcm1pc3Npb24nKSwgY2hpbGRyZW46IFwiP1wiIH0pKV0gfSkgfSkpO1xufTtcbmNvbnN0IFRvZ2dsZVZpZGVvUHVibGlzaGluZ0J1dHRvbiA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgY2FwdGlvbiwgTWVudSA9IGpzeChEZXZpY2VTZWxlY3RvclZpZGVvLCB7IHZpc3VhbFR5cGU6IFwibGlzdFwiIH0pLCBtZW51UGxhY2VtZW50ID0gJ3RvcCcsIG9uTWVudVRvZ2dsZSwgLi4ucmVzdENvbXBvc2l0ZUJ1dHRvblByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IGhhc1Blcm1pc3Npb24sIHJlcXVlc3RQZXJtaXNzaW9uLCBpc0F3YWl0aW5nUGVybWlzc2lvbiB9ID0gdXNlUmVxdWVzdFBlcm1pc3Npb24oT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPKTtcbiAgICBjb25zdCB7IHVzZUNhbWVyYVN0YXRlLCB1c2VDYWxsU2V0dGluZ3MgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBjYW1lcmEsIG9wdGltaXN0aWNJc011dGUsIGhhc0Jyb3dzZXJQZXJtaXNzaW9uLCBpc1Byb21wdGluZ1Blcm1pc3Npb24sIH0gPSB1c2VDYW1lcmFTdGF0ZSgpO1xuICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHVzZUNhbGxTZXR0aW5ncygpO1xuICAgIGNvbnN0IGlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZCA9IGNhbGxTZXR0aW5ncz8udmlkZW8uZW5hYmxlZDtcbiAgICBjb25zdCBbdG9vbHRpcERpc2FibGVkLCBzZXRUb29sdGlwRGlzYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGhhbmRsZUNsaWNrID0gY3JlYXRlQ2FsbENvbnRyb2xIYW5kbGVyKHByb3BzLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGlmICghaGFzUGVybWlzc2lvbikge1xuICAgICAgICAgICAgYXdhaXQgcmVxdWVzdFBlcm1pc3Npb24oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbWVyYS50b2dnbGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LlNFTkRfVklERU9dLCBjaGlsZHJlbjoganN4KFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIHsgcGVybWlzc2lvbjogT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPLCBpc0F3YWl0aW5nQXBwcm92YWw6IGlzQXdhaXRpbmdQZXJtaXNzaW9uLCBtZXNzYWdlQXBwcm92ZWQ6IHQoJ1lvdSBjYW4gbm93IHNoYXJlIHlvdXIgdmlkZW8uJyksIG1lc3NhZ2VBd2FpdGluZ0FwcHJvdmFsOiB0KCdBd2FpdGluZyBmb3IgYW4gYXBwcm92YWwgdG8gc2hhcmUgeW91ciB2aWRlby4nKSwgbWVzc2FnZVJldm9rZWQ6IHQoJ1lvdSBjYW4gbm8gbG9uZ2VyIHNoYXJlIHlvdXIgdmlkZW8uJyksIGNoaWxkcmVuOiBqc3goV2l0aFRvb2x0aXAsIHsgdGl0bGU6ICFoYXNQZXJtaXNzaW9uXG4gICAgICAgICAgICAgICAgICAgID8gdCgnWW91IGhhdmUgbm8gcGVybWlzc2lvbiB0byBzaGFyZSB5b3VyIHZpZGVvJylcbiAgICAgICAgICAgICAgICAgICAgOiAhaGFzQnJvd3NlclBlcm1pc3Npb25cbiAgICAgICAgICAgICAgICAgICAgICAgID8gdCgnQ2hlY2sgeW91ciBicm93c2VyIHZpZGVvIHBlcm1pc3Npb25zJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogIWlzUHVibGlzaGluZ1ZpZGVvQWxsb3dlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdCgnVmlkZW8gcHVibGlzaGluZyBpcyBkaXNhYmxlZCBieSB0aGUgc3lzdGVtJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGNhcHRpb24gfHwgdCgnVmlkZW8nKSwgdG9vbHRpcERpc2FibGVkOiB0b29sdGlwRGlzYWJsZWQsIGNoaWxkcmVuOiBqc3hzKENvbXBvc2l0ZUJ1dHRvbiwgeyBhY3RpdmU6IG9wdGltaXN0aWNJc011dGUsIGNhcHRpb246IGNhcHRpb24sIHZhcmlhbnQ6IFwic2Vjb25kYXJ5XCIsIGRpc2FibGVkOiAhaGFzQnJvd3NlclBlcm1pc3Npb24gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICFoYXNQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNQdWJsaXNoaW5nVmlkZW9BbGxvd2VkLCBcImRhdGEtdGVzdGlkXCI6IG9wdGltaXN0aWNJc011dGUgPyAndmlkZW8tdW5tdXRlLWJ1dHRvbicgOiAndmlkZW8tbXV0ZS1idXR0b24nLCBvbkNsaWNrOiBoYW5kbGVDbGljaywgTWVudTogTWVudSwgbWVudVBsYWNlbWVudDogbWVudVBsYWNlbWVudCwgbWVudU9mZnNldDogMTYsIC4uLnJlc3RDb21wb3NpdGVCdXR0b25Qcm9wcywgb25NZW51VG9nZ2xlOiAoc2hvd24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbk1lbnVUb2dnbGU/LihzaG93bik7XG4gICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBbanN4KEljb24sIHsgaWNvbjogb3B0aW1pc3RpY0lzTXV0ZSA/ICdjYW1lcmEtb2ZmJyA6ICdjYW1lcmEnIH0pLCAoIWhhc0Jyb3dzZXJQZXJtaXNzaW9uIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIWhhc1Blcm1pc3Npb24gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNQdWJsaXNoaW5nVmlkZW9BbGxvd2VkKSAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX25vLW1lZGlhLXBlcm1pc3Npb25cIiwgY2hpbGRyZW46IFwiIVwiIH0pKSwgaXNQcm9tcHRpbmdQZXJtaXNzaW9uICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVuZGluZy1wZXJtaXNzaW9uXCIsIHRpdGxlOiB0KCdXYWl0aW5nIGZvciBwZXJtaXNzaW9uJyksIGNoaWxkcmVuOiBcIj9cIiB9KSldIH0pIH0pIH0pIH0pKTtcbn07XG5cbmNvbnN0IEVuZENhbGxNZW51ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBvbkxlYXZlLCBvbkVuZCB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fZW5kLWNhbGxfX2NvbmZpcm1hdGlvblwiLCBjaGlsZHJlbjogW2pzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b24gc3RyLXZpZGVvX19lbmQtY2FsbF9fbGVhdmVcIiwgdHlwZTogXCJidXR0b25cIiwgXCJkYXRhLXRlc3RpZFwiOiBcImxlYXZlLWNhbGwtYnV0dG9uXCIsIG9uQ2xpY2s6IG9uTGVhdmUsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fYnV0dG9uX19pY29uIHN0ci12aWRlb19fZW5kLWNhbGxfX2xlYXZlLWljb25cIiwgaWNvbjogXCJsb2dvdXRcIiB9KSwgdCgnTGVhdmUgY2FsbCcpXSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkVORF9DQUxMXSwgY2hpbGRyZW46IGpzeHMoXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b24gc3RyLXZpZGVvX19lbmQtY2FsbF9fZW5kXCIsIHR5cGU6IFwiYnV0dG9uXCIsIFwiZGF0YS10ZXN0aWRcIjogXCJlbmQtY2FsbC1mb3ItYWxsLWJ1dHRvblwiLCBvbkNsaWNrOiBvbkVuZCwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19idXR0b25fX2ljb24gc3RyLXZpZGVvX19lbmQtY2FsbF9fZW5kLWljb25cIiwgaWNvbjogXCJjYWxsLWVuZFwiIH0pLCB0KCdFbmQgY2FsbCBmb3IgYWxsJyldIH0pIH0pXSB9KSk7XG59O1xuY29uc3QgQ2FuY2VsQ2FsbFRvZ2dsZU1lbnVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIENhbmNlbENhbGxUb2dnbGVNZW51QnV0dG9uKHsgbWVudVNob3duIH0sIHJlZikge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiB0KCdMZWF2ZSBjYWxsJyksIHRvb2x0aXBEaXNhYmxlZDogbWVudVNob3duLCBjaGlsZHJlbjoganN4KEljb25CdXR0b24sIHsgaWNvbjogbWVudVNob3duID8gJ2Nsb3NlJyA6ICdjYWxsLWVuZCcsIHZhcmlhbnQ6IG1lbnVTaG93biA/ICdhY3RpdmUnIDogJ2RhbmdlcicsIFwiZGF0YS10ZXN0aWRcIjogXCJsZWF2ZS1jYWxsLWJ1dHRvblwiLCByZWY6IHJlZiB9KSB9KSk7XG59KTtcbmNvbnN0IENhbmNlbENhbGxDb25maXJtQnV0dG9uID0gKHsgb25DbGljaywgb25MZWF2ZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgaGFuZGxlTGVhdmUgPSB1c2VDYWxsYmFjayhhc3luYyAoZSkgPT4ge1xuICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgb25DbGljayhlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjYWxsKSB7XG4gICAgICAgICAgICBhd2FpdCBjYWxsLmxlYXZlKCk7XG4gICAgICAgICAgICBvbkxlYXZlPy4oKTtcbiAgICAgICAgfVxuICAgIH0sIFtvbkNsaWNrLCBvbkxlYXZlLCBjYWxsXSk7XG4gICAgY29uc3QgaGFuZGxlRW5kQ2FsbCA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwuZW5kQ2FsbCgpO1xuICAgICAgICAgICAgb25MZWF2ZT8uKCk7XG4gICAgICAgIH1cbiAgICB9LCBbb25DbGljaywgb25MZWF2ZSwgY2FsbF0pO1xuICAgIHJldHVybiAoanN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcInRvcC1zdGFydFwiLCBUb2dnbGVCdXR0b246IENhbmNlbENhbGxUb2dnbGVNZW51QnV0dG9uLCBjaGlsZHJlbjoganN4KEVuZENhbGxNZW51LCB7IG9uRW5kOiBoYW5kbGVFbmRDYWxsLCBvbkxlYXZlOiBoYW5kbGVMZWF2ZSB9KSB9KSk7XG59O1xuY29uc3QgQ2FuY2VsQ2FsbEJ1dHRvbiA9ICh7IGRpc2FibGVkLCBjYXB0aW9uLCBvbkNsaWNrLCBvbkxlYXZlLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCBoYW5kbGVDbGljayA9IHVzZUNhbGxiYWNrKGFzeW5jIChlKSA9PiB7XG4gICAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgICAgICBvbkNsaWNrKGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNhbGwpIHtcbiAgICAgICAgICAgIGF3YWl0IGNhbGwubGVhdmUoKTtcbiAgICAgICAgICAgIG9uTGVhdmU/LigpO1xuICAgICAgICB9XG4gICAgfSwgW29uQ2xpY2ssIG9uTGVhdmUsIGNhbGxdKTtcbiAgICByZXR1cm4gKGpzeChJY29uQnV0dG9uLCB7IGRpc2FibGVkOiBkaXNhYmxlZCwgaWNvbjogXCJjYWxsLWVuZFwiLCB2YXJpYW50OiBcImRhbmdlclwiLCB0aXRsZTogY2FwdGlvbiA/PyB0KCdMZWF2ZSBjYWxsJyksIFwiZGF0YS10ZXN0aWRcIjogXCJjYW5jZWwtY2FsbC1idXR0b25cIiwgb25DbGljazogaGFuZGxlQ2xpY2sgfSkpO1xufTtcblxuY29uc3QgQ2FsbENvbnRyb2xzID0gKHsgb25MZWF2ZSB9KSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtY29udHJvbHNcIiwgY2hpbGRyZW46IFtqc3goUmVzdHJpY3RlZCwgeyByZXF1aXJlZEdyYW50czogW093bkNhcGFiaWxpdHkuU0VORF9BVURJT10sIGNoaWxkcmVuOiBqc3goU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uLCB7IGNoaWxkcmVuOiBqc3goVG9nZ2xlQXVkaW9QdWJsaXNoaW5nQnV0dG9uLCB7fSkgfSkgfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TRU5EX1ZJREVPXSwgY2hpbGRyZW46IGpzeChUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24sIHt9KSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5LkNSRUFURV9SRUFDVElPTl0sIGNoaWxkcmVuOiBqc3goUmVhY3Rpb25zQnV0dG9uLCB7fSkgfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5TQ1JFRU5TSEFSRV0sIGNoaWxkcmVuOiBqc3goU2NyZWVuU2hhcmVCdXR0b24sIHt9KSB9KSwganN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtcbiAgICAgICAgICAgICAgICBPd25DYXBhYmlsaXR5LlNUQVJUX1JFQ09SRF9DQUxMLFxuICAgICAgICAgICAgICAgIE93bkNhcGFiaWxpdHkuU1RPUF9SRUNPUkRfQ0FMTCxcbiAgICAgICAgICAgIF0sIGNoaWxkcmVuOiBqc3goUmVjb3JkQ2FsbEJ1dHRvbiwge30pIH0pLCBqc3goQ2FuY2VsQ2FsbEJ1dHRvbiwgeyBvbkxlYXZlOiBvbkxlYXZlIH0pXSB9KSk7XG5cbmNvbnN0IENhbGxTdGF0c0xhdGVuY3lDaGFydCA9IGxhenkoKCkgPT4gaW1wb3J0KCcuL2xhdGVuY3ktY2hhcnQtQmo1T1NZemcuZXMuanMnKSk7XG52YXIgU3RhdHVzO1xuKGZ1bmN0aW9uIChTdGF0dXMpIHtcbiAgICBTdGF0dXNbXCJHT09EXCJdID0gXCJHb29kXCI7XG4gICAgU3RhdHVzW1wiT0tcIl0gPSBcIk9rXCI7XG4gICAgU3RhdHVzW1wiQkFEXCJdID0gXCJCYWRcIjtcbn0pKFN0YXR1cyB8fCAoU3RhdHVzID0ge30pKTtcbmNvbnN0IENhbGxTdGF0cyA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGF0ZW5jeUxvd0JvdW5kID0gNzUsIGxhdGVuY3lIaWdoQm91bmQgPSA0MDAsIHNob3dDb2RlY0luZm8gPSBmYWxzZSwgTGF0ZW5jeUNoYXJ0U3VzcGVuc2VGYWxsYmFjayA9IG51bGwsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbbGF0ZW5jeUJ1ZmZlciwgc2V0TGF0ZW5jeUJ1ZmZlcl0gPSB1c2VTdGF0ZSgoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiAyMCB9LCAoXywgaSkgPT4gKHsgeDogbm93ICsgaSwgeTogMCB9KSk7XG4gICAgfSk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgW3B1Ymxpc2hCaXRyYXRlLCBzZXRQdWJsaXNoQml0cmF0ZV0gPSB1c2VTdGF0ZSgnLScpO1xuICAgIGNvbnN0IFtzdWJzY3JpYmVCaXRyYXRlLCBzZXRTdWJzY3JpYmVCaXRyYXRlXSA9IHVzZVN0YXRlKCctJyk7XG4gICAgY29uc3QgcHJldmlvdXNTdGF0cyA9IHVzZVJlZih1bmRlZmluZWQpO1xuICAgIGNvbnN0IHsgdXNlQ2FsbFN0YXRzUmVwb3J0IH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGxTdGF0c1JlcG9ydCA9IHVzZUNhbGxTdGF0c1JlcG9ydCgpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbFN0YXRzUmVwb3J0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoIXByZXZpb3VzU3RhdHMuY3VycmVudCkge1xuICAgICAgICAgICAgcHJldmlvdXNTdGF0cy5jdXJyZW50ID0gY2FsbFN0YXRzUmVwb3J0O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0ID0gcHJldmlvdXNTdGF0cy5jdXJyZW50O1xuICAgICAgICBzZXRQdWJsaXNoQml0cmF0ZSgoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY2FsY3VsYXRlUHVibGlzaEJpdHJhdGUocHJldmlvdXNDYWxsU3RhdHNSZXBvcnQsIGNhbGxTdGF0c1JlcG9ydCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRTdWJzY3JpYmVCaXRyYXRlKCgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVTdWJzY3JpYmVCaXRyYXRlKHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0LCBjYWxsU3RhdHNSZXBvcnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0TGF0ZW5jeUJ1ZmZlcigobGF0ZW5jeUJ1ZikgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3TGF0ZW5jeUJ1ZmZlciA9IGxhdGVuY3lCdWYuc2xpY2UoLTE5KTtcbiAgICAgICAgICAgIG5ld0xhdGVuY3lCdWZmZXIucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogY2FsbFN0YXRzUmVwb3J0LnRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB5OiBjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3TGF0ZW5jeUJ1ZmZlcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHByZXZpb3VzU3RhdHMuY3VycmVudCA9IGNhbGxTdGF0c1JlcG9ydDtcbiAgICB9LCBbY2FsbFN0YXRzUmVwb3J0XSk7XG4gICAgY29uc3QgbGF0ZW5jeUNvbXBhcmlzb24gPSB7XG4gICAgICAgIGxvd0JvdW5kOiBsYXRlbmN5TG93Qm91bmQsXG4gICAgICAgIGhpZ2hCb3VuZDogbGF0ZW5jeUhpZ2hCb3VuZCxcbiAgICAgICAgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydD8ucHVibGlzaGVyU3RhdHMuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zIHx8IDAsXG4gICAgfTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNcIiwgY2hpbGRyZW46IGNhbGxTdGF0c1JlcG9ydCAmJiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiaDNcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19oZWFkaW5nXCIsIGNoaWxkcmVuOiBbanN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19faWNvblwiLCBpY29uOiBcImNhbGwtbGF0ZW5jeVwiIH0pLCB0KCdDYWxsIExhdGVuY3knKV0gfSksIGpzeChcInBcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19kZXNjcmlwdGlvblwiLCBjaGlsZHJlbjogdCgnVmVyeSBoaWdoIGxhdGVuY3kgdmFsdWVzIG1heSByZWR1Y2UgY2FsbCBxdWFsaXR5LCBjYXVzZSBsYWcsIGFuZCBtYWtlIHRoZSBjYWxsIGxlc3MgZW5qb3lhYmxlLicpIH0pXSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fbGF0ZW5jeWNoYXJ0XCIsIGNoaWxkcmVuOiBqc3goU3VzcGVuc2UsIHsgZmFsbGJhY2s6IExhdGVuY3lDaGFydFN1c3BlbnNlRmFsbGJhY2ssIGNoaWxkcmVuOiBqc3goQ2FsbFN0YXRzTGF0ZW5jeUNoYXJ0LCB7IHZhbHVlczogbGF0ZW5jeUJ1ZmZlciB9KSB9KSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2hlYWRlclwiLCBjaGlsZHJlbjogW2pzeHMoXCJoM1wiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2hlYWRpbmdcIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19pY29uXCIsIGljb246IFwibmV0d29yay1xdWFsaXR5XCIgfSksIHQoJ0NhbGwgcGVyZm9ybWFuY2UnKV0gfSksIGpzeChcInBcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19kZXNjcmlwdGlvblwiLCBjaGlsZHJlbjogdCgnUmV2aWV3IHRoZSBrZXkgZGF0YSBwb2ludHMgYmVsb3cgdG8gYXNzZXNzIGNhbGwgcGVyZm9ybWFuY2UnKSB9KV0gfSksIGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX19jYXJkLWNvbnRhaW5lclwiLCBjaGlsZHJlbjogW2pzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVnaW9uJyksIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQuZGF0YWNlbnRlciB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdMYXRlbmN5JyksIHZhbHVlOiBgJHtjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMuYXZlcmFnZVJvdW5kVHJpcFRpbWVJbk1zfSBtcy5gLCBjb21wYXJpc29uOiBsYXRlbmN5Q29tcGFyaXNvbiB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWNlaXZlIGppdHRlcicpLCB2YWx1ZTogYCR7Y2FsbFN0YXRzUmVwb3J0LnN1YnNjcmliZXJTdGF0cy5hdmVyYWdlSml0dGVySW5Nc30gbXMuYCwgY29tcGFyaXNvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5sYXRlbmN5Q29tcGFyaXNvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNhbGxTdGF0c1JlcG9ydC5zdWJzY3JpYmVyU3RhdHMuYXZlcmFnZUppdHRlckluTXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdQdWJsaXNoIGppdHRlcicpLCB2YWx1ZTogYCR7Y2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VKaXR0ZXJJbk1zfSBtcy5gLCBjb21wYXJpc29uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmxhdGVuY3lDb21wYXJpc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLmF2ZXJhZ2VKaXR0ZXJJbk1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogYCR7dCgnUHVibGlzaCByZXNvbHV0aW9uJyl9JHtzaG93Q29kZWNJbmZvID8gZm9ybWF0Q29kZWMoY2FsbFN0YXRzUmVwb3J0KSA6ICcnfWAsIHZhbHVlOiB0b0ZyYW1lU2l6ZShjYWxsU3RhdHNSZXBvcnQucHVibGlzaGVyU3RhdHMpIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1B1Ymxpc2ggcXVhbGl0eSBkcm9wIHJlYXNvbicpLCB2YWx1ZTogY2FsbFN0YXRzUmVwb3J0LnB1Ymxpc2hlclN0YXRzLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdSZWNlaXZpbmcgcmVzb2x1dGlvbicpLCB2YWx1ZTogdG9GcmFtZVNpemUoY2FsbFN0YXRzUmVwb3J0LnN1YnNjcmliZXJTdGF0cykgfSksIGpzeChTdGF0Q2FyZCwgeyBsYWJlbDogdCgnUmVjZWl2ZSBxdWFsaXR5IGRyb3AgcmVhc29uJyksIHZhbHVlOiBjYWxsU3RhdHNSZXBvcnQuc3Vic2NyaWJlclN0YXRzLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29ucyB9KSwganN4KFN0YXRDYXJkLCB7IGxhYmVsOiB0KCdQdWJsaXNoIGJpdHJhdGUnKSwgdmFsdWU6IHB1Ymxpc2hCaXRyYXRlIH0pLCBqc3goU3RhdENhcmQsIHsgbGFiZWw6IHQoJ1JlY2VpdmluZyBiaXRyYXRlJyksIHZhbHVlOiBzdWJzY3JpYmVCaXRyYXRlIH0pXSB9KV0gfSkpIH0pKTtcbn07XG5jb25zdCBTdGF0Q2FyZEV4cGxhbmF0aW9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBkZXNjcmlwdGlvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2lzT3Blbiwgc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCB7IHJlZnMsIGZsb2F0aW5nU3R5bGVzLCBjb250ZXh0IH0gPSB1c2VGbG9hdGluZyh7XG4gICAgICAgIG9wZW46IGlzT3BlbixcbiAgICAgICAgb25PcGVuQ2hhbmdlOiBzZXRJc09wZW4sXG4gICAgfSk7XG4gICAgY29uc3QgaG92ZXIgPSB1c2VIb3Zlcihjb250ZXh0KTtcbiAgICBjb25zdCB7IGdldFJlZmVyZW5jZVByb3BzLCBnZXRGbG9hdGluZ1Byb3BzIH0gPSB1c2VJbnRlcmFjdGlvbnMoW2hvdmVyXSk7XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1leHBsYW5hdGlvblwiLCByZWY6IHJlZnMuc2V0UmVmZXJlbmNlLCAuLi5nZXRSZWZlcmVuY2VQcm9wcygpLCBjaGlsZHJlbjoganN4KEljb24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1leHBsYW5hdGlvbl9faWNvblwiLCBpY29uOiBcImluZm9cIiB9KSB9KSwgaXNPcGVuICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLWV4cGxhbmF0aW9uX19kZXNjcmlwdGlvblwiLCByZWY6IHJlZnMuc2V0RmxvYXRpbmcsIHN0eWxlOiBmbG9hdGluZ1N0eWxlcywgLi4uZ2V0RmxvYXRpbmdQcm9wcygpLCBjaGlsZHJlbjogZGVzY3JpcHRpb24gfSkpXSB9KSk7XG59O1xuY29uc3QgU3RhdHNUYWcgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBzdGF0dXMgfSA9IHByb3BzO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtc3RhdHNfX3RhZycsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX2NhbGwtc3RhdHNfX3RhZy0tZ29vZCc6IHN0YXR1cyA9PT0gU3RhdHVzLkdPT0QsXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWctLW9rJzogc3RhdHVzID09PSBTdGF0dXMuT0ssXG4gICAgICAgICAgICAnc3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWctLWJhZCc6IHN0YXR1cyA9PT0gU3RhdHVzLkJBRCxcbiAgICAgICAgfSksIGNoaWxkcmVuOiBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXN0YXRzX190YWdfX3RleHRcIiwgY2hpbGRyZW46IGNoaWxkcmVuIH0pIH0pKTtcbn07XG5jb25zdCBTdGF0Q2FyZCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgbGFiZWwsIHZhbHVlLCBkZXNjcmlwdGlvbiwgY29tcGFyaXNvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3Qgc3RhdHVzID0gY29tcGFyaXNvbiA/IHRvU3RhdHVzKGNvbXBhcmlzb24pIDogdW5kZWZpbmVkO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmRcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZC1jb250ZW50XCIsIGNoaWxkcmVuOiBbanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2NhcmQtbGFiZWxcIiwgY2hpbGRyZW46IFtsYWJlbCwgZGVzY3JpcHRpb24gJiYganN4KFN0YXRDYXJkRXhwbGFuYXRpb24sIHsgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH0pXSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1zdGF0c19fY2FyZC12YWx1ZVwiLCBjaGlsZHJlbjogdmFsdWUgfSldIH0pLCBzdGF0dXMgJiYganN4KFN0YXRzVGFnLCB7IHN0YXR1czogc3RhdHVzLCBjaGlsZHJlbjogdChzdGF0dXMpIH0pXSB9KSk7XG59O1xuY29uc3QgdG9TdGF0dXMgPSAoY29uZmlnKSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZSwgbG93Qm91bmQsIGhpZ2hCb3VuZCB9ID0gY29uZmlnO1xuICAgIGlmICh2YWx1ZSA8PSBsb3dCb3VuZClcbiAgICAgICAgcmV0dXJuIFN0YXR1cy5HT09EO1xuICAgIGlmICh2YWx1ZSA+PSBsb3dCb3VuZCAmJiB2YWx1ZSA8PSBoaWdoQm91bmQpXG4gICAgICAgIHJldHVybiBTdGF0dXMuT0s7XG4gICAgaWYgKHZhbHVlID49IGhpZ2hCb3VuZClcbiAgICAgICAgcmV0dXJuIFN0YXR1cy5CQUQ7XG4gICAgcmV0dXJuIFN0YXR1cy5HT09EO1xufTtcbmNvbnN0IHRvRnJhbWVTaXplID0gKHN0YXRzKSA9PiB7XG4gICAgY29uc3QgeyBoaWdoZXN0RnJhbWVXaWR0aDogdywgaGlnaGVzdEZyYW1lSGVpZ2h0OiBoLCBoaWdoZXN0RnJhbWVzUGVyU2Vjb25kOiBmcHMsIH0gPSBzdGF0cztcbiAgICBsZXQgc2l6ZSA9IGAtYDtcbiAgICBpZiAodyAmJiBoKSB7XG4gICAgICAgIHNpemUgPSBgJHt3fXgke2h9YDtcbiAgICAgICAgaWYgKGZwcykge1xuICAgICAgICAgICAgc2l6ZSArPSBgQCR7ZnBzfWZwcy5gO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzaXplO1xufTtcbmNvbnN0IGZvcm1hdENvZGVjID0gKGNhbGxTdGF0c1JlcG9ydCkgPT4ge1xuICAgIGNvbnN0IHsgY29kZWNQZXJUcmFja1R5cGUgfSA9IGNhbGxTdGF0c1JlcG9ydC5wdWJsaXNoZXJTdGF0cztcbiAgICBpZiAoIWNvZGVjUGVyVHJhY2tUeXBlIHx8ICFjb2RlY1BlclRyYWNrVHlwZVtTZnVNb2RlbHMuVHJhY2tUeXBlLlZJREVPXSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGNvbnN0IFssIG5hbWVdID0gY29kZWNQZXJUcmFja1R5cGVbU2Z1TW9kZWxzLlRyYWNrVHlwZS5WSURFT10uc3BsaXQoJy8nKTtcbiAgICByZXR1cm4gbmFtZSA/IGAgKCR7bmFtZX0pYCA6ICcnO1xufTtcbmNvbnN0IGNhbGN1bGF0ZVB1Ymxpc2hCaXRyYXRlID0gKHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0LCBjYWxsU3RhdHNSZXBvcnQpID0+IHtcbiAgICBjb25zdCB7IHB1Ymxpc2hlclN0YXRzOiB7IHRvdGFsQnl0ZXNTZW50OiBwcmV2aW91c1RvdGFsQnl0ZXNTZW50LCB0aW1lc3RhbXA6IHByZXZpb3VzVGltZXN0YW1wLCB9LCB9ID0gcHJldmlvdXNDYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgeyBwdWJsaXNoZXJTdGF0czogeyB0b3RhbEJ5dGVzU2VudCwgdGltZXN0YW1wIH0sIH0gPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgYnl0ZXNTZW50ID0gdG90YWxCeXRlc1NlbnQgLSBwcmV2aW91c1RvdGFsQnl0ZXNTZW50O1xuICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gdGltZXN0YW1wIC0gcHJldmlvdXNUaW1lc3RhbXA7XG4gICAgcmV0dXJuIGAkeygoYnl0ZXNTZW50ICogOCkgLyB0aW1lRWxhcHNlZCkudG9GaXhlZCgyKX0ga2Jwc2A7XG59O1xuY29uc3QgY2FsY3VsYXRlU3Vic2NyaWJlQml0cmF0ZSA9IChwcmV2aW91c0NhbGxTdGF0c1JlcG9ydCwgY2FsbFN0YXRzUmVwb3J0KSA9PiB7XG4gICAgY29uc3QgeyBzdWJzY3JpYmVyU3RhdHM6IHsgdG90YWxCeXRlc1JlY2VpdmVkOiBwcmV2aW91c1RvdGFsQnl0ZXNSZWNlaXZlZCwgdGltZXN0YW1wOiBwcmV2aW91c1RpbWVzdGFtcCwgfSwgfSA9IHByZXZpb3VzQ2FsbFN0YXRzUmVwb3J0O1xuICAgIGNvbnN0IHsgc3Vic2NyaWJlclN0YXRzOiB7IHRvdGFsQnl0ZXNSZWNlaXZlZCwgdGltZXN0YW1wIH0sIH0gPSBjYWxsU3RhdHNSZXBvcnQ7XG4gICAgY29uc3QgYnl0ZXNSZWNlaXZlZCA9IHRvdGFsQnl0ZXNSZWNlaXZlZCAtIHByZXZpb3VzVG90YWxCeXRlc1JlY2VpdmVkO1xuICAgIGNvbnN0IHRpbWVFbGFwc2VkID0gdGltZXN0YW1wIC0gcHJldmlvdXNUaW1lc3RhbXA7XG4gICAgcmV0dXJuIGAkeygoYnl0ZXNSZWNlaXZlZCAqIDgpIC8gdGltZUVsYXBzZWQpLnRvRml4ZWQoMil9IGticHNgO1xufTtcblxuY29uc3QgQ2FsbFN0YXRzQnV0dG9uID0gKCkgPT4gKGpzeChNZW51VG9nZ2xlLCB7IHBsYWNlbWVudDogXCJ0b3AtZW5kXCIsIFRvZ2dsZUJ1dHRvbjogVG9nZ2xlTWVudUJ1dHRvbiwgY2hpbGRyZW46IGpzeChDYWxsU3RhdHMsIHt9KSB9KSk7XG5jb25zdCBUb2dnbGVNZW51QnV0dG9uID0gZm9yd2FyZFJlZihmdW5jdGlvbiBUb2dnbGVNZW51QnV0dG9uKHByb3BzLCByZWYpIHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IGNhcHRpb24sIG1lbnVTaG93biB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goQ29tcG9zaXRlQnV0dG9uLCB7IHJlZjogcmVmLCBhY3RpdmU6IG1lbnVTaG93biwgY2FwdGlvbjogY2FwdGlvbiwgdGl0bGU6IGNhcHRpb24gfHwgdCgnU3RhdGlzdGljcycpLCBcImRhdGEtdGVzdGlkXCI6IFwic3RhdHMtYnV0dG9uXCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcInN0YXRzXCIgfSkgfSkpO1xufSk7XG5cbmNvbnN0IFRvZ2dsZUF1ZGlvT3V0cHV0QnV0dG9uID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgeyBjYXB0aW9uLCBNZW51ID0gRGV2aWNlU2VsZWN0b3JBdWRpb091dHB1dCwgbWVudVBsYWNlbWVudCA9ICd0b3AnLCBvbk1lbnVUb2dnbGUsIH0gPSBwcm9wcztcbiAgICBjb25zdCBbdG9vbHRpcERpc2FibGVkLCBzZXRUb29sdGlwRGlzYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IHRpdGxlOiBjYXB0aW9uIHx8IHQoJ1NwZWFrZXJzJyksIHRvb2x0aXBEaXNhYmxlZDogdG9vbHRpcERpc2FibGVkLCBjaGlsZHJlbjoganN4KENvbXBvc2l0ZUJ1dHRvbiwgeyBNZW51OiBNZW51LCBtZW51UGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBjYXB0aW9uOiBjYXB0aW9uLCBcImRhdGEtdGVzdGlkXCI6IFwiYXVkaW8tb3V0cHV0LWJ1dHRvblwiLCBvbk1lbnVUb2dnbGU6IChzaG93bikgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRvb2x0aXBEaXNhYmxlZChzaG93bik7XG4gICAgICAgICAgICAgICAgb25NZW51VG9nZ2xlPy4oc2hvd24pO1xuICAgICAgICAgICAgfSwgY2hpbGRyZW46IGpzeChJY29uLCB7IGljb246IFwic3BlYWtlclwiIH0pIH0pIH0pKTtcbn07XG5cbmNvbnN0IEJsb2NrZWRVc2VyTGlzdGluZyA9ICh7IGRhdGEgfSkgPT4ge1xuICAgIGlmICghZGF0YS5sZW5ndGgpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nXCIsIGNoaWxkcmVuOiBkYXRhLm1hcCgodXNlcklkKSA9PiAoanN4KEJsb2NrZWRVc2VyTGlzdGluZ0l0ZW0sIHsgdXNlcklkOiB1c2VySWQgfSwgdXNlcklkKSkpIH0pIH0pKTtcbn07XG5jb25zdCBCbG9ja2VkVXNlckxpc3RpbmdJdGVtID0gKHsgdXNlcklkIH0pID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHVuYmxvY2tVc2VyQ2xpY2tIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgICBpZiAodXNlcklkKVxuICAgICAgICAgICAgY2FsbD8udW5ibG9ja1VzZXIodXNlcklkKTtcbiAgICB9O1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbVwiLCBjaGlsZHJlbjogW2pzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9fZGlzcGxheS1uYW1lXCIsIGNoaWxkcmVuOiB1c2VySWQgfSksIGpzeChSZXN0cmljdGVkLCB7IHJlcXVpcmVkR3JhbnRzOiBbT3duQ2FwYWJpbGl0eS5CTE9DS19VU0VSU10sIGNoaWxkcmVuOiBqc3goVGV4dEJ1dHRvbiwgeyBvbkNsaWNrOiB1bmJsb2NrVXNlckNsaWNrSGFuZGxlciwgY2hpbGRyZW46IFwiVW5ibG9ja1wiIH0pIH0pXSB9KSk7XG59O1xuXG5jb25zdCBDYWxsUGFydGljaXBhbnRMaXN0SGVhZGVyID0gKHsgb25DbG9zZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlUGFydGljaXBhbnRzLCB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50IH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHVzZVBhcnRpY2lwYW50cygpO1xuICAgIGNvbnN0IGFub255bW91c1BhcnRpY2lwYW50Q291bnQgPSB1c2VBbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50KCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJfX3RpdGxlXCIsIGNoaWxkcmVuOiBbdCgnUGFydGljaXBhbnRzJyksICcgJywganN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0LWhlYWRlcl9fdGl0bGUtY291bnRcIiwgY2hpbGRyZW46IFtcIltcIiwgcGFydGljaXBhbnRzLmxlbmd0aCwgXCJdXCJdIH0pLCBhbm9ueW1vdXNQYXJ0aWNpcGFudENvdW50ID4gMCAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtaGVhZGVyX190aXRsZS1hbm9ueW1vdXNcIiwgY2hpbGRyZW46IHQoJ0Fub255bW91cycsIHsgY291bnQ6IGFub255bW91c1BhcnRpY2lwYW50Q291bnQgfSkgfSkpXSB9KSwganN4KEljb25CdXR0b24sIHsgb25DbGljazogb25DbG9zZSwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdC1oZWFkZXJfX2Nsb3NlLWJ1dHRvblwiLCBpY29uOiBcImNsb3NlXCIgfSldIH0pKTtcbn07XG5cbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RpbmdJdGVtID0gKHsgcGFydGljaXBhbnQsIERpc3BsYXlOYW1lID0gRGVmYXVsdERpc3BsYXlOYW1lLCB9KSA9PiB7XG4gICAgY29uc3QgaXNBdWRpb09uID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGlzVmlkZW9PbiA9IGhhc1ZpZGVvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBpc1Bpbm5lZE9uID0gaXNQaW5uZWQocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbVwiLCBjaGlsZHJlbjogW2pzeChBdmF0YXIsIHsgbmFtZTogcGFydGljaXBhbnQubmFtZSwgaW1hZ2VTcmM6IHBhcnRpY2lwYW50LmltYWdlIH0pLCBqc3goRGlzcGxheU5hbWUsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19tZWRpYS1pbmRpY2F0b3ItZ3JvdXBcIiwgY2hpbGRyZW46IFtqc3goTWVkaWFJbmRpY2F0b3IsIHsgdGl0bGU6IGlzQXVkaW9PbiA/IHQoJ01pY3JvcGhvbmUgb24nKSA6IHQoJ01pY3JvcGhvbmUgb2ZmJyksIGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24nLCBgc3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0aW5nLWl0ZW1fX2ljb24tJHtpc0F1ZGlvT24gPyAnbWljJyA6ICdtaWMtb2ZmJ31gKSB9KSwganN4KE1lZGlhSW5kaWNhdG9yLCB7IHRpdGxlOiBpc1ZpZGVvT24gPyB0KCdDYW1lcmEgb24nKSA6IHQoJ0NhbWVyYSBvZmYnKSwgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbicsIGBzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9faWNvbi0ke2lzVmlkZW9PbiA/ICdjYW1lcmEnIDogJ2NhbWVyYS1vZmYnfWApIH0pLCBpc1Bpbm5lZE9uICYmIChqc3goTWVkaWFJbmRpY2F0b3IsIHsgdGl0bGU6IHQoJ1Bpbm5lZCcpLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uJywgJ3N0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZy1pdGVtX19pY29uLXBpbm5lZCcpIH0pKSwganN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcImJvdHRvbS1lbmRcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24kMiwgY2hpbGRyZW46IGpzeChQYXJ0aWNpcGFudFZpZXdDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6ICdub25lJyB9LCBjaGlsZHJlbjoganN4KFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51LCB7fSkgfSkgfSldIH0pXSB9KSk7XG59O1xuY29uc3QgTWVkaWFJbmRpY2F0b3IgPSAocHJvcHMpID0+IChqc3goV2l0aFRvb2x0aXAsIHsgLi4ucHJvcHMgfSkpO1xuY29uc3QgRGVmYXVsdERpc3BsYXlOYW1lID0gKHsgcGFydGljaXBhbnQgfSkgPT4ge1xuICAgIGNvbnN0IGNvbm5lY3RlZFVzZXIgPSB1c2VDb25uZWN0ZWRVc2VyKCk7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgY29uc3QgbWVGbGFnID0gcGFydGljaXBhbnQudXNlcklkID09PSBjb25uZWN0ZWRVc2VyPy5pZCA/IHQoJ01lJykgOiAnJztcbiAgICBjb25zdCBuYW1lT3JJZCA9IHBhcnRpY2lwYW50Lm5hbWUgfHwgcGFydGljaXBhbnQudXNlcklkIHx8IHQoJ1Vua25vd24nKTtcbiAgICBsZXQgZGlzcGxheU5hbWU7XG4gICAgaWYgKCFwYXJ0aWNpcGFudC5uYW1lKSB7XG4gICAgICAgIGRpc3BsYXlOYW1lID0gbWVGbGFnIHx8IG5hbWVPcklkIHx8IHQoJ1Vua25vd24nKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobWVGbGFnKSB7XG4gICAgICAgIGRpc3BsYXlOYW1lID0gYCR7bmFtZU9ySWR9ICgke21lRmxhZ30pYDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRpc3BsYXlOYW1lID0gbmFtZU9ySWQ7XG4gICAgfVxuICAgIHJldHVybiAoanN4KFdpdGhUb29sdGlwLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RpbmctaXRlbV9fZGlzcGxheS1uYW1lXCIsIHRpdGxlOiBkaXNwbGF5TmFtZSwgY2hpbGRyZW46IGRpc3BsYXlOYW1lIH0pKTtcbn07XG5jb25zdCBUb2dnbGVCdXR0b24kMiA9IGZvcndhcmRSZWYoZnVuY3Rpb24gVG9nZ2xlQnV0dG9uKHByb3BzLCByZWYpIHtcbiAgICByZXR1cm4ganN4KEljb25CdXR0b24sIHsgZW5hYmxlZDogcHJvcHMubWVudVNob3duLCBpY29uOiBcImVsbGlwc2lzXCIsIHJlZjogcmVmIH0pO1xufSk7XG5cbmNvbnN0IENhbGxQYXJ0aWNpcGFudExpc3RpbmcgPSAoeyBkYXRhLCB9KSA9PiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdGluZ1wiLCBjaGlsZHJlbjogZGF0YS5tYXAoKHBhcnRpY2lwYW50KSA9PiAoanN4KENhbGxQYXJ0aWNpcGFudExpc3RpbmdJdGVtLCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudCB9LCBwYXJ0aWNpcGFudC5zZXNzaW9uSWQpKSkgfSkpO1xuXG5jb25zdCBFbXB0eVBhcnRpY2lwYW50U2VhcmNoTGlzdCA9ICgpID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3QtLWVtcHR5XCIsIGNoaWxkcmVuOiB0KCdObyBwYXJ0aWNpcGFudHMgZm91bmQnKSB9KSk7XG59O1xuXG5jb25zdCBTZWFyY2hJbnB1dCA9ICh7IGV4aXRTZWFyY2gsIGlzQWN0aXZlLCAuLi5yZXN0IH0pID0+IHtcbiAgICBjb25zdCBbaW5wdXRFbGVtZW50LCBzZXRJbnB1dEVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFpbnB1dEVsZW1lbnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGhhbmRsZUtleURvd24gPSAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5LnRvTG93ZXJDYXNlKCkgPT09ICdlc2NhcGUnKVxuICAgICAgICAgICAgICAgIGV4aXRTZWFyY2goKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVLZXlEb3duKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGlucHV0RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgaGFuZGxlS2V5RG93bik7XG4gICAgICAgIH07XG4gICAgfSwgW2V4aXRTZWFyY2gsIGlucHV0RWxlbWVudF0pO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX19zZWFyY2gtaW5wdXRfX2NvbnRhaW5lcicsIHtcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9fY29udGFpbmVyLS1hY3RpdmUnOiBpc0FjdGl2ZSxcbiAgICAgICAgfSksIGNoaWxkcmVuOiBbanN4KFwiaW5wdXRcIiwgeyBwbGFjZWhvbGRlcjogXCJTZWFyY2hcIiwgLi4ucmVzdCwgcmVmOiBzZXRJbnB1dEVsZW1lbnQgfSksIGlzQWN0aXZlID8gKGpzeChcImJ1dHRvblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9fY2xlYXItYnRuXCIsIG9uQ2xpY2s6IGV4aXRTZWFyY2gsIGNoaWxkcmVuOiBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLWlucHV0X19pY29uLS1hY3RpdmVcIiB9KSB9KSkgOiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NlYXJjaC1pbnB1dF9faWNvblwiIH0pKV0gfSkpO1xufTtcblxuZnVuY3Rpb24gU2VhcmNoUmVzdWx0cyh7IEVtcHR5U2VhcmNoUmVzdWx0Q29tcG9uZW50LCBMb2FkaW5nSW5kaWNhdG9yOiBMb2FkaW5nSW5kaWNhdG9yJDEgPSBMb2FkaW5nSW5kaWNhdG9yLCBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNlYXJjaFJlc3VsdHMsIFNlYXJjaFJlc3VsdExpc3QsIH0pIHtcbiAgICBpZiAoc2VhcmNoUXVlcnlJblByb2dyZXNzKSB7XG4gICAgICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2VhcmNoLXJlc3VsdHMtLWxvYWRpbmdcIiwgY2hpbGRyZW46IGpzeChMb2FkaW5nSW5kaWNhdG9yJDEsIHt9KSB9KSk7XG4gICAgfVxuICAgIGlmICghc2VhcmNoUmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGpzeChFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudCwge30pO1xuICAgIH1cbiAgICByZXR1cm4ganN4KFNlYXJjaFJlc3VsdExpc3QsIHsgZGF0YTogc2VhcmNoUmVzdWx0cyB9KTtcbn1cblxuY29uc3QgdXNlU2VhcmNoID0gKHsgZGVib3VuY2VJbnRlcnZhbCwgc2VhcmNoRm4sIHNlYXJjaFF1ZXJ5ID0gJycsIH0pID0+IHtcbiAgICBjb25zdCBbc2VhcmNoUmVzdWx0cywgc2V0U2VhcmNoUmVzdWx0c10gPSB1c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW3NlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2V0U2VhcmNoUXVlcnlJblByb2dyZXNzXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXNlYXJjaFF1ZXJ5Lmxlbmd0aCkge1xuICAgICAgICAgICAgc2V0U2VhcmNoUXVlcnlJblByb2dyZXNzKGZhbHNlKTtcbiAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMoW10pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcyh0cnVlKTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgc2VhcmNoRm4oc2VhcmNoUXVlcnkpO1xuICAgICAgICAgICAgICAgIHNldFNlYXJjaFJlc3VsdHMocmVzdWx0cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHNldFNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIGRlYm91bmNlSW50ZXJ2YWwpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9O1xuICAgIH0sIFtkZWJvdW5jZUludGVydmFsLCBzZWFyY2hGbiwgc2VhcmNoUXVlcnldKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsXG4gICAgICAgIHNlYXJjaFJlc3VsdHMsXG4gICAgfTtcbn07XG5cbmNvbnN0IFVzZXJMaXN0VHlwZXMgPSB7XG4gICAgYWN0aXZlOiAnQWN0aXZlIHVzZXJzJyxcbiAgICBibG9ja2VkOiAnQmxvY2tlZCB1c2VycycsXG59O1xuY29uc3QgREVGQVVMVF9ERUJPVU5DRV9TRUFSQ0hfSU5URVJWQUwgPSAyMDA7XG5jb25zdCBDYWxsUGFydGljaXBhbnRzTGlzdCA9ICh7IG9uQ2xvc2UsIGFjdGl2ZVVzZXJzU2VhcmNoRm4sIGJsb2NrZWRVc2Vyc1NlYXJjaEZuLCBkZWJvdW5jZVNlYXJjaEludGVydmFsLCB9KSA9PiB7XG4gICAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gICAgY29uc3QgW3VzZXJMaXN0VHlwZSwgc2V0VXNlckxpc3RUeXBlXSA9IHVzZVN0YXRlKCdhY3RpdmUnKTtcbiAgICBjb25zdCBleGl0U2VhcmNoID0gdXNlQ2FsbGJhY2soKCkgPT4gc2V0U2VhcmNoUXVlcnkoJycpLCBbXSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdFwiLCBjaGlsZHJlbjogW2pzeChDYWxsUGFydGljaXBhbnRMaXN0SGVhZGVyLCB7IG9uQ2xvc2U6IG9uQ2xvc2UgfSksIGpzeChTZWFyY2hJbnB1dCwgeyB2YWx1ZTogc2VhcmNoUXVlcnksIG9uQ2hhbmdlOiAoeyBjdXJyZW50VGFyZ2V0IH0pID0+IHNldFNlYXJjaFF1ZXJ5KGN1cnJlbnRUYXJnZXQudmFsdWUpLCBleGl0U2VhcmNoOiBleGl0U2VhcmNoLCBpc0FjdGl2ZTogISFzZWFyY2hRdWVyeSB9KSwganN4KENhbGxQYXJ0aWNpcGFudExpc3RDb250ZW50SGVhZGVyLCB7IHVzZXJMaXN0VHlwZTogdXNlckxpc3RUeXBlLCBzZXRVc2VyTGlzdFR5cGU6IHNldFVzZXJMaXN0VHlwZSB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWxpc3RfX2NvbnRlbnRcIiwgY2hpbGRyZW46IFt1c2VyTGlzdFR5cGUgPT09ICdhY3RpdmUnICYmIChqc3goQWN0aXZlVXNlcnNTZWFyY2hSZXN1bHRzLCB7IHNlYXJjaFF1ZXJ5OiBzZWFyY2hRdWVyeSwgYWN0aXZlVXNlcnNTZWFyY2hGbjogYWN0aXZlVXNlcnNTZWFyY2hGbiwgZGVib3VuY2VTZWFyY2hJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCB9KSksIHVzZXJMaXN0VHlwZSA9PT0gJ2Jsb2NrZWQnICYmIChqc3goQmxvY2tlZFVzZXJzU2VhcmNoUmVzdWx0cywgeyBzZWFyY2hRdWVyeTogc2VhcmNoUXVlcnksIGJsb2NrZWRVc2Vyc1NlYXJjaEZuOiBibG9ja2VkVXNlcnNTZWFyY2hGbiwgZGVib3VuY2VTZWFyY2hJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCB9KSldIH0pXSB9KSk7XG59O1xuY29uc3QgQ2FsbFBhcnRpY2lwYW50TGlzdENvbnRlbnRIZWFkZXIgPSAoeyB1c2VyTGlzdFR5cGUsIHNldFVzZXJMaXN0VHlwZSwgfSkgPT4ge1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgbXV0ZUFsbCA9ICgpID0+IHtcbiAgICAgICAgY2FsbD8ubXV0ZUFsbFVzZXJzKCdhdWRpbycpO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGFydGljaXBhbnQtbGlzdF9fY29udGVudC1oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1saXN0X19jb250ZW50LWhlYWRlci10aXRsZVwiLCBjaGlsZHJlbjogdXNlckxpc3RUeXBlID09PSAnYWN0aXZlJyAmJiAoanN4KFJlc3RyaWN0ZWQsIHsgcmVxdWlyZWRHcmFudHM6IFtPd25DYXBhYmlsaXR5Lk1VVEVfVVNFUlNdLCBoYXNQZXJtaXNzaW9uc09ubHk6IHRydWUsIGNoaWxkcmVuOiBqc3goVGV4dEJ1dHRvbiwgeyBvbkNsaWNrOiBtdXRlQWxsLCBjaGlsZHJlbjogXCJNdXRlIGFsbFwiIH0pIH0pKSB9KSwganN4KE1lbnVUb2dnbGUsIHsgcGxhY2VtZW50OiBcImJvdHRvbS1lbmRcIiwgVG9nZ2xlQnV0dG9uOiBUb2dnbGVCdXR0b24kMSwgY2hpbGRyZW46IGpzeChHZW5lcmljTWVudSwgeyBjaGlsZHJlbjogT2JqZWN0LmtleXMoVXNlckxpc3RUeXBlcykubWFwKChsdCkgPT4gKGpzeChHZW5lcmljTWVudUJ1dHRvbkl0ZW0sIHsgXCJhcmlhLXNlbGVjdGVkXCI6IGx0ID09PSB1c2VyTGlzdFR5cGUsIG9uQ2xpY2s6ICgpID0+IHNldFVzZXJMaXN0VHlwZShsdCksIGNoaWxkcmVuOiBVc2VyTGlzdFR5cGVzW2x0XSB9LCBsdCkpKSB9KSB9KV0gfSkpO1xufTtcbmNvbnN0IEFjdGl2ZVVzZXJzU2VhcmNoUmVzdWx0cyA9ICh7IHNlYXJjaFF1ZXJ5LCBhY3RpdmVVc2Vyc1NlYXJjaEZuOiBhY3RpdmVVc2Vyc1NlYXJjaEZuRnJvbVByb3BzLCBkZWJvdW5jZVNlYXJjaEludGVydmFsID0gREVGQVVMVF9ERUJPVU5DRV9TRUFSQ0hfSU5URVJWQUwsIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoeyBzb3J0Qnk6IG5hbWUgfSk7XG4gICAgY29uc3QgYWN0aXZlVXNlcnNTZWFyY2hGbiA9IHVzZUNhbGxiYWNrKChxdWVyeVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVJlZ0V4cCA9IG5ldyBSZWdFeHAocXVlcnlTdHJpbmcsICdpJyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGFydGljaXBhbnRzLmZpbHRlcigocGFydGljaXBhbnQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBwYXJ0aWNpcGFudC5uYW1lLm1hdGNoKHF1ZXJ5UmVnRXhwKTtcbiAgICAgICAgfSkpO1xuICAgIH0sIFtwYXJ0aWNpcGFudHNdKTtcbiAgICBjb25zdCB7IHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzcywgc2VhcmNoUmVzdWx0cyB9ID0gdXNlU2VhcmNoKHtcbiAgICAgICAgc2VhcmNoRm46IGFjdGl2ZVVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMgPz8gYWN0aXZlVXNlcnNTZWFyY2hGbixcbiAgICAgICAgZGVib3VuY2VJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCxcbiAgICAgICAgc2VhcmNoUXVlcnksXG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goU2VhcmNoUmVzdWx0cywgeyBFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudDogRW1wdHlQYXJ0aWNpcGFudFNlYXJjaExpc3QsIExvYWRpbmdJbmRpY2F0b3I6IExvYWRpbmdJbmRpY2F0b3IsIHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzczogc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzOiBzZWFyY2hRdWVyeSA/IHNlYXJjaFJlc3VsdHMgOiBwYXJ0aWNpcGFudHMsIFNlYXJjaFJlc3VsdExpc3Q6IENhbGxQYXJ0aWNpcGFudExpc3RpbmcgfSkpO1xufTtcbmNvbnN0IEJsb2NrZWRVc2Vyc1NlYXJjaFJlc3VsdHMgPSAoeyBibG9ja2VkVXNlcnNTZWFyY2hGbjogYmxvY2tlZFVzZXJzU2VhcmNoRm5Gcm9tUHJvcHMsIGRlYm91bmNlU2VhcmNoSW50ZXJ2YWwgPSBERUZBVUxUX0RFQk9VTkNFX1NFQVJDSF9JTlRFUlZBTCwgc2VhcmNoUXVlcnksIH0pID0+IHtcbiAgICBjb25zdCB7IHVzZUNhbGxCbG9ja2VkVXNlcklkcyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBibG9ja2VkVXNlcnMgPSB1c2VDYWxsQmxvY2tlZFVzZXJJZHMoKTtcbiAgICBjb25zdCBibG9ja2VkVXNlcnNTZWFyY2hGbiA9IHVzZUNhbGxiYWNrKChxdWVyeVN0cmluZykgPT4ge1xuICAgICAgICBjb25zdCBxdWVyeVJlZ0V4cCA9IG5ldyBSZWdFeHAocXVlcnlTdHJpbmcsICdpJyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoYmxvY2tlZFVzZXJzLmZpbHRlcigoYmxvY2tlZFVzZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBibG9ja2VkVXNlci5tYXRjaChxdWVyeVJlZ0V4cCk7XG4gICAgICAgIH0pKTtcbiAgICB9LCBbYmxvY2tlZFVzZXJzXSk7XG4gICAgY29uc3QgeyBzZWFyY2hRdWVyeUluUHJvZ3Jlc3MsIHNlYXJjaFJlc3VsdHMgfSA9IHVzZVNlYXJjaCh7XG4gICAgICAgIHNlYXJjaEZuOiBibG9ja2VkVXNlcnNTZWFyY2hGbkZyb21Qcm9wcyA/PyBibG9ja2VkVXNlcnNTZWFyY2hGbixcbiAgICAgICAgZGVib3VuY2VJbnRlcnZhbDogZGVib3VuY2VTZWFyY2hJbnRlcnZhbCxcbiAgICAgICAgc2VhcmNoUXVlcnksXG4gICAgfSk7XG4gICAgcmV0dXJuIChqc3goU2VhcmNoUmVzdWx0cywgeyBFbXB0eVNlYXJjaFJlc3VsdENvbXBvbmVudDogRW1wdHlQYXJ0aWNpcGFudFNlYXJjaExpc3QsIExvYWRpbmdJbmRpY2F0b3I6IExvYWRpbmdJbmRpY2F0b3IsIHNlYXJjaFF1ZXJ5SW5Qcm9ncmVzczogc2VhcmNoUXVlcnlJblByb2dyZXNzLCBzZWFyY2hSZXN1bHRzOiBzZWFyY2hRdWVyeSA/IHNlYXJjaFJlc3VsdHMgOiBibG9ja2VkVXNlcnMsIFNlYXJjaFJlc3VsdExpc3Q6IEJsb2NrZWRVc2VyTGlzdGluZyB9KSk7XG59O1xuY29uc3QgVG9nZ2xlQnV0dG9uJDEgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIGpzeChJY29uQnV0dG9uLCB7IGVuYWJsZWQ6IHByb3BzLm1lbnVTaG93biwgaWNvbjogXCJmaWx0ZXJcIiwgcmVmOiByZWYgfSk7XG59KTtcblxuY29uc3QgQ2FsbFByZXZpZXcgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZSwgc3R5bGUgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNhbGwgPSB1c2VDYWxsKCk7XG4gICAgY29uc3QgeyB1c2VDYWxsVGh1bWJuYWlsIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHRodW1ibmFpbCA9IHVzZUNhbGxUaHVtYm5haWwoKTtcbiAgICBjb25zdCBbaW1hZ2VSZWYsIHNldEltYWdlUmVmXSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaW1hZ2VSZWYgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLmJpbmRDYWxsVGh1bWJuYWlsRWxlbWVudChpbWFnZVJlZik7XG4gICAgICAgIHJldHVybiAoKSA9PiBjbGVhbnVwKCk7XG4gICAgfSwgW2ltYWdlUmVmLCBjYWxsXSk7XG4gICAgaWYgKCF0aHVtYm5haWwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4KFwiaW1nXCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX2NhbGwtcHJldmlldycsIGNsYXNzTmFtZSksIHN0eWxlOiBzdHlsZSwgYWx0OiBcIkNhbGwgUHJldmlldyBUaHVtYm5haWxcIiwgcmVmOiBzZXRJbWFnZVJlZiB9KSk7XG59O1xuXG5jb25zdCBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciA9ICh7IGNhbGxSZWNvcmRpbmdzLCBvblJlZnJlc2gsIH0pID0+IHtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19oZWFkZXJcIiwgY2hpbGRyZW46IFtqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGl0bGVcIiwgY2hpbGRyZW46IFtqc3goXCJzcGFuXCIsIHsgY2hpbGRyZW46IHQoJ0NhbGwgUmVjb3JkaW5ncycpIH0pLCBjYWxsUmVjb3JkaW5ncy5sZW5ndGggPyBqc3hzKFwic3BhblwiLCB7IGNoaWxkcmVuOiBbXCIoXCIsIGNhbGxSZWNvcmRpbmdzLmxlbmd0aCwgXCIpXCJdIH0pIDogbnVsbF0gfSksIG9uUmVmcmVzaCAmJiAoanN4KEljb25CdXR0b24sIHsgaWNvbjogXCJyZWZyZXNoXCIsIHRpdGxlOiB0KCdSZWZyZXNoJyksIG9uQ2xpY2s6IG9uUmVmcmVzaCB9KSldIH0pKTtcbn07XG5cbmNvbnN0IGRhdGVGb3JtYXQgPSAoZGF0ZSkgPT4ge1xuICAgIGNvbnN0IGZvcm1hdCA9IG5ldyBEYXRlKGRhdGUpO1xuICAgIHJldHVybiBmb3JtYXQudG9UaW1lU3RyaW5nKCkuc3BsaXQoJyAnKVswXTtcbn07XG5jb25zdCBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0gPSAoeyByZWNvcmRpbmcsIH0pID0+IHtcbiAgICByZXR1cm4gKGpzeHMoXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2l0ZW1cIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190YWJsZS1jZWxsIHN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fZmlsZW5hbWVcIiwgY2hpbGRyZW46IHJlY29yZGluZy5maWxlbmFtZSB9KSwganN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGFibGUtY2VsbCBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpbWVcIiwgY2hpbGRyZW46IGRhdGVGb3JtYXQocmVjb3JkaW5nLnN0YXJ0X3RpbWUpIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190YWJsZS1jZWxsIHN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fdGltZVwiLCBjaGlsZHJlbjogZGF0ZUZvcm1hdChyZWNvcmRpbmcuZW5kX3RpbWUpIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190YWJsZS1jZWxsIHN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fZG93bmxvYWRcIiwgY2hpbGRyZW46IGpzeChcImFcIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdC1pdGVtX19hY3Rpb24tYnV0dG9uJywgJ3N0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdC1pdGVtX19hY3Rpb24tYnV0dG9uLS1kb3dubG9hZCcpLCByb2xlOiBcImJ1dHRvblwiLCBocmVmOiByZWNvcmRpbmcudXJsLCBkb3dubG9hZDogcmVjb3JkaW5nLmZpbGVuYW1lLCB0aXRsZTogXCJEb3dubG9hZCB0aGUgcmVjb3JkaW5nXCIsIGNoaWxkcmVuOiBqc3goSWNvbiwgeyBpY29uOiBcImRvd25sb2FkXCIgfSkgfSkgfSldIH0pKTtcbn07XG5cbmNvbnN0IEVtcHR5Q2FsbFJlY29yZGluZ0xpc3RpbmcgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fbGlzdGluZyBzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmctLWVtcHR5XCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fbGlzdGluZy0taWNvbi1lbXB0eVwiIH0pLCBqc3goXCJwXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdF9fbGlzdGluZy0tdGV4dC1lbXB0eVwiLCBjaGlsZHJlbjogXCJObyByZWNvcmRpbmdzIGF2YWlsYWJsZVwiIH0pXSB9KSk7XG59O1xuXG5jb25zdCBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3RpbmcgPSAoeyBjYWxsUmVjb3JkaW5ncywgfSkgPT4ge1xuICAgIHJldHVybiAoanN4cyhGcmFnbWVudCwgeyBjaGlsZHJlbjogW2NhbGxSZWNvcmRpbmdzLm1hcCgocmVjb3JkaW5nKSA9PiAoanN4KENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgeyByZWNvcmRpbmc6IHJlY29yZGluZyB9LCByZWNvcmRpbmcuZmlsZW5hbWUpKSksIGpzeChMb2FkaW5nSW5kaWNhdG9yLCB7IHRleHQ6IFwiUmVjb3JkaW5nIGdldHRpbmcgcmVhZHlcIiB9KV0gfSkpO1xufTtcblxuY29uc3QgQ2FsbFJlY29yZGluZ0xpc3QgPSAoeyBjYWxsUmVjb3JkaW5ncywgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXI6IENhbGxSZWNvcmRpbmdMaXN0SGVhZGVyJDEgPSBDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciwgQ2FsbFJlY29yZGluZ0xpc3RJdGVtOiBDYWxsUmVjb3JkaW5nTGlzdEl0ZW0kMSA9IENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgRW1wdHlDYWxsUmVjb3JkaW5nTGlzdCA9IEVtcHR5Q2FsbFJlY29yZGluZ0xpc3RpbmcsIGxvYWRpbmcsIExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdCA9IExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdGluZywgb25SZWZyZXNoLCB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1yZWNvcmRpbmctbGlzdFwiLCBjaGlsZHJlbjogW2pzeChDYWxsUmVjb3JkaW5nTGlzdEhlYWRlciQxLCB7IGNhbGxSZWNvcmRpbmdzOiBjYWxsUmVjb3JkaW5ncywgb25SZWZyZXNoOiBvblJlZnJlc2ggfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RpbmdcIiwgY2hpbGRyZW46IGxvYWRpbmcgPyAoanN4KExvYWRpbmdDYWxsUmVjb3JkaW5nTGlzdCwgeyBjYWxsUmVjb3JkaW5nczogY2FsbFJlY29yZGluZ3MgfSkpIDogY2FsbFJlY29yZGluZ3MubGVuZ3RoID8gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RcIiwgY2hpbGRyZW46IGpzeHMoXCJsaVwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2l0ZW1cIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X19maWxlbmFtZVwiLCBjaGlsZHJlbjogXCJOYW1lXCIgfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX3RpbWVcIiwgY2hpbGRyZW46IFwiU3RhcnQgdGltZVwiIH0pLCBqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXJlY29yZGluZy1saXN0X190aW1lXCIsIGNoaWxkcmVuOiBcIkVuZCB0aW1lXCIgfSksIGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2Rvd25sb2FkXCIgfSldIH0pIH0pLCBqc3goXCJ1bFwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcmVjb3JkaW5nLWxpc3RfX2xpc3RcIiwgY2hpbGRyZW46IGNhbGxSZWNvcmRpbmdzLm1hcCgocmVjb3JkaW5nKSA9PiAoanN4KENhbGxSZWNvcmRpbmdMaXN0SXRlbSQxLCB7IHJlY29yZGluZzogcmVjb3JkaW5nIH0sIHJlY29yZGluZy5maWxlbmFtZSkpKSB9KV0gfSkpIDogKGpzeChFbXB0eUNhbGxSZWNvcmRpbmdMaXN0LCB7fSkpIH0pXSB9KSk7XG59O1xuXG5jb25zdCBOb2lzZUNhbmNlbGxhdGlvbkNvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuLyoqXG4gKiBFeHBvc2VzIHRoZSBOb2lzZUNhbmNlbGxhdGlvbiBBUEkuXG4gKiBUaHJvd3MgYW4gZXJyb3IgaWYgdXNlZCBvdXRzaWRlIDxOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyIC8+LlxuICovXG5jb25zdCB1c2VOb2lzZUNhbmNlbGxhdGlvbiA9ICgpID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChOb2lzZUNhbmNlbGxhdGlvbkNvbnRleHQpO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZU5vaXNlQ2FuY2VsbGF0aW9uIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyJyk7XG4gICAgfVxuICAgIHJldHVybiBjb250ZXh0O1xufTtcbmNvbnN0IE5vaXNlQ2FuY2VsbGF0aW9uUHJvdmlkZXIgPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNoaWxkcmVuLCBub2lzZUNhbmNlbGxhdGlvbiB9ID0gcHJvcHM7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUNhbGxTZXR0aW5ncywgdXNlSGFzUGVybWlzc2lvbnMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3Qgc2V0dGluZ3MgPSB1c2VDYWxsU2V0dGluZ3MoKTtcbiAgICBjb25zdCBub2lzZUNhbmNlbGxhdGlvbkFsbG93ZWQgPSAhIShzZXR0aW5ncyAmJlxuICAgICAgICBzZXR0aW5ncy5hdWRpby5ub2lzZV9jYW5jZWxsYXRpb24gJiZcbiAgICAgICAgc2V0dGluZ3MuYXVkaW8ubm9pc2VfY2FuY2VsbGF0aW9uLm1vZGUgIT09XG4gICAgICAgICAgICBOb2lzZUNhbmNlbGxhdGlvblNldHRpbmdzTW9kZUVudW0uRElTQUJMRUQpO1xuICAgIGNvbnN0IGhhc0NhcGFiaWxpdHkgPSB1c2VIYXNQZXJtaXNzaW9ucyhPd25DYXBhYmlsaXR5LkVOQUJMRV9OT0lTRV9DQU5DRUxMQVRJT04pO1xuICAgIGNvbnN0IFtpc1N1cHBvcnRlZEJ5QnJvd3Nlciwgc2V0SXNTdXBwb3J0ZWRCeUJyb3dzZXJdID0gdXNlU3RhdGUoKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBub2lzZUNhbmNlbGxhdGlvbi5pc1N1cHBvcnRlZCgpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICBzZXRJc1N1cHBvcnRlZEJ5QnJvd3NlcihyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgICAgICAgLnRoZW4oKHMpID0+IHNldElzU3VwcG9ydGVkQnlCcm93c2VyKHMpKVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmVycm9yKGBDYW4ndCBkZXRlcm1pbmUgaWYgbm9pc2UgY2FuY2VsbGF0aW9uIGlzIHN1cHBvcnRlZGAsIGVycikpO1xuICAgICAgICB9XG4gICAgfSwgW25vaXNlQ2FuY2VsbGF0aW9uXSk7XG4gICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBpc1N1cHBvcnRlZEJ5QnJvd3NlciAmJiBoYXNDYXBhYmlsaXR5ICYmIG5vaXNlQ2FuY2VsbGF0aW9uQWxsb3dlZDtcbiAgICBjb25zdCBbaXNFbmFibGVkLCBzZXRJc0VuYWJsZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IGRlaW5pdCA9IHVzZVJlZih1bmRlZmluZWQpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2FsbCB8fCAhaXNTdXBwb3J0ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uLmlzRW5hYmxlZCgpLnRoZW4oKGUpID0+IHNldElzRW5hYmxlZChlKSk7XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlID0gbm9pc2VDYW5jZWxsYXRpb24ub24oJ2NoYW5nZScsICh2KSA9PiBzZXRJc0VuYWJsZWQodikpO1xuICAgICAgICBjb25zdCBpbml0ID0gKGRlaW5pdC5jdXJyZW50IHx8IFByb21pc2UucmVzb2x2ZSgpKVxuICAgICAgICAgICAgLnRoZW4oKCkgPT4gbm9pc2VDYW5jZWxsYXRpb24uaW5pdCh7IHRyYWNlcjogY2FsbC50cmFjZXIgfSkpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBjYWxsLm1pY3JvcGhvbmUuZW5hYmxlTm9pc2VDYW5jZWxsYXRpb24obm9pc2VDYW5jZWxsYXRpb24pKVxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiBjb25zb2xlLmVycm9yKGBDYW4ndCBpbml0aWFsaXplIG5vaXNlIGNhbmNlbGxhdGlvbmAsIGUpKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGRlaW5pdC5jdXJyZW50ID0gaW5pdFxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IGNhbGwubWljcm9waG9uZS5kaXNhYmxlTm9pc2VDYW5jZWxsYXRpb24oKSlcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiBub2lzZUNhbmNlbGxhdGlvbi5kaXNwb3NlKCkpXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdW5zdWJzY3JpYmUoKSk7XG4gICAgICAgIH07XG4gICAgfSwgW2NhbGwsIGlzU3VwcG9ydGVkLCBub2lzZUNhbmNlbGxhdGlvbl0pO1xuICAgIGNvbnN0IGNvbnRleHRWYWx1ZSA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICAgICAgaXNTdXBwb3J0ZWQsXG4gICAgICAgIGlzRW5hYmxlZCxcbiAgICAgICAgc2V0U3VwcHJlc3Npb25MZXZlbDogKGxldmVsKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vaXNlQ2FuY2VsbGF0aW9uKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIG5vaXNlQ2FuY2VsbGF0aW9uLnNldFN1cHByZXNzaW9uTGV2ZWwobGV2ZWwpO1xuICAgICAgICB9LFxuICAgICAgICBzZXRFbmFibGVkOiAoZW5hYmxlZE9yU2V0dGVyKSA9PiB7XG4gICAgICAgICAgICBpZiAoIW5vaXNlQ2FuY2VsbGF0aW9uKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IGVuYWJsZSA9IHR5cGVvZiBlbmFibGVkT3JTZXR0ZXIgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IGVuYWJsZWRPclNldHRlcihpc0VuYWJsZWQpXG4gICAgICAgICAgICAgICAgOiBlbmFibGVkT3JTZXR0ZXI7XG4gICAgICAgICAgICBpZiAoZW5hYmxlKSB7XG4gICAgICAgICAgICAgICAgbm9pc2VDYW5jZWxsYXRpb24uZW5hYmxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2lzZUNhbmNlbGxhdGlvbi5kaXNhYmxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgfSksIFtpc0VuYWJsZWQsIGlzU3VwcG9ydGVkLCBub2lzZUNhbmNlbGxhdGlvbl0pO1xuICAgIHJldHVybiAoanN4KE5vaXNlQ2FuY2VsbGF0aW9uQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogY29udGV4dFZhbHVlLCBjaGlsZHJlbjogY2hpbGRyZW4gfSkpO1xufTtcblxuY29uc3QgUmluZ2luZ0NhbGxDb250cm9scyA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdXNlQ2FsbENhbGxpbmdTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsQ2FsbGluZ1N0YXRlID0gdXNlQ2FsbENhbGxpbmdTdGF0ZSgpO1xuICAgIGlmICghY2FsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgYnV0dG9uc0Rpc2FibGVkID0gY2FsbENhbGxpbmdTdGF0ZSAhPT0gQ2FsbGluZ1N0YXRlLlJJTkdJTkc7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZW5kaW5nLWNhbGwtY29udHJvbHNcIiwgY2hpbGRyZW46IGNhbGwuaXNDcmVhdGVkQnlNZSA/IChqc3goQ2FuY2VsQ2FsbEJ1dHRvbiwgeyBkaXNhYmxlZDogYnV0dG9uc0Rpc2FibGVkIH0pKSA6IChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbanN4KEFjY2VwdENhbGxCdXR0b24sIHsgZGlzYWJsZWQ6IGJ1dHRvbnNEaXNhYmxlZCB9KSwganN4KENhbmNlbENhbGxCdXR0b24sIHsgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhc29uID0gY2FsbC5pc0NyZWF0ZWRCeU1lID8gJ2NhbmNlbCcgOiAnZGVjbGluZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsLmxlYXZlKHsgcmVqZWN0OiB0cnVlLCByZWFzb24gfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGRpc2FibGVkOiBidXR0b25zRGlzYWJsZWQgfSldIH0pKSB9KSk7XG59O1xuXG5jb25zdCBDQUxMSU5HX1NUQVRFX1RPX0xBQkVMID0ge1xuICAgIFtDYWxsaW5nU3RhdGUuSk9JTklOR106ICdKb2luaW5nJyxcbiAgICBbQ2FsbGluZ1N0YXRlLlJJTkdJTkddOiAnUmluZ2luZycsXG4gICAgW0NhbGxpbmdTdGF0ZS5NSUdSQVRJTkddOiAnTWlncmF0aW5nJyxcbiAgICBbQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR106ICdSZS1jb25uZWN0aW5nJyxcbiAgICBbQ2FsbGluZ1N0YXRlLlJFQ09OTkVDVElOR19GQUlMRURdOiAnRmFpbGVkJyxcbiAgICBbQ2FsbGluZ1N0YXRlLk9GRkxJTkVdOiAnTm8gaW50ZXJuZXQgY29ubmVjdGlvbicsXG4gICAgW0NhbGxpbmdTdGF0ZS5JRExFXTogJycsXG4gICAgW0NhbGxpbmdTdGF0ZS5VTktOT1dOXTogJycsXG4gICAgW0NhbGxpbmdTdGF0ZS5KT0lORURdOiAnSm9pbmVkJyxcbiAgICBbQ2FsbGluZ1N0YXRlLkxFRlRdOiAnTGVmdCBjYWxsJyxcbn07XG5jb25zdCBSaW5naW5nQ2FsbCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgaW5jbHVkZVNlbGYgPSBmYWxzZSwgdG90YWxNZW1iZXJzVG9TaG93ID0gMyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICBjb25zdCB7IHVzZUNhbGxDYWxsaW5nU3RhdGUsIHVzZUNhbGxNZW1iZXJzIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGNhbGxpbmdTdGF0ZSA9IHVzZUNhbGxDYWxsaW5nU3RhdGUoKTtcbiAgICBjb25zdCBtZW1iZXJzID0gdXNlQ2FsbE1lbWJlcnMoKTtcbiAgICBjb25zdCBjb25uZWN0ZWRVc2VyID0gdXNlQ29ubmVjdGVkVXNlcigpO1xuICAgIGlmICghY2FsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgLy8gdGFrZSB0aGUgZmlyc3QgTiBtZW1iZXJzIHRvIHNob3cgdGhlaXIgYXZhdGFyc1xuICAgIGNvbnN0IG1lbWJlcnNUb1Nob3cgPSAobWVtYmVycyB8fCBbXSlcbiAgICAgICAgLnNsaWNlKDAsIHRvdGFsTWVtYmVyc1RvU2hvdylcbiAgICAgICAgLm1hcCgoeyB1c2VyIH0pID0+IHVzZXIpXG4gICAgICAgIC5maWx0ZXIoKHVzZXIpID0+IHVzZXIuaWQgIT09IGNvbm5lY3RlZFVzZXI/LmlkIHx8IGluY2x1ZGVTZWxmKTtcbiAgICBpZiAoaW5jbHVkZVNlbGYgJiZcbiAgICAgICAgIW1lbWJlcnNUb1Nob3cuZmluZCgodXNlcikgPT4gdXNlci5pZCA9PT0gY29ubmVjdGVkVXNlcj8uaWQpKSB7XG4gICAgICAgIC8vIGlmIHRoZSBjdXJyZW50IHVzZXIgaXMgbm90IGluIHRoZSBpbml0aWFsIGJhdGNoIG9mIG1lbWJlcnMsXG4gICAgICAgIC8vIHJlcGxhY2UgdGhlIGZpcnN0IGl0ZW0gaW4gbWVtYmVyc1RvU2hvdyBhcnJheSB3aXRoIHRoZSBjdXJyZW50IHVzZXJcbiAgICAgICAgY29uc3Qgc2VsZiA9IG1lbWJlcnMuZmluZCgoeyB1c2VyIH0pID0+IHVzZXIuaWQgPT09IGNvbm5lY3RlZFVzZXI/LmlkKTtcbiAgICAgICAgaWYgKHNlbGYpIHtcbiAgICAgICAgICAgIG1lbWJlcnNUb1Nob3cuc3BsaWNlKDAsIDEsIHNlbGYudXNlcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgY2FsbGluZ1N0YXRlTGFiZWwgPSBDQUxMSU5HX1NUQVRFX1RPX0xBQkVMW2NhbGxpbmdTdGF0ZV07XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fY2FsbC1wYW5lbCBzdHItdmlkZW9fX2NhbGwtcGFuZWwtLXJpbmdpbmdcIiwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19jYWxsLXBhbmVsX19tZW1iZXJzLWxpc3RcIiwgY2hpbGRyZW46IG1lbWJlcnNUb1Nob3cubWFwKCh1c2VyKSA9PiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcGFuZWxfX21lbWJlci1ib3hcIiwgY2hpbGRyZW46IFtqc3goQXZhdGFyLCB7IG5hbWU6IHVzZXIubmFtZSwgaW1hZ2VTcmM6IHVzZXIuaW1hZ2UgfSksIHVzZXIubmFtZSAmJiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbWVtYmVyX2RldGFpbHNcIiwgY2hpbGRyZW46IGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19tZW1iZXJfbmFtZVwiLCBjaGlsZHJlbjogdXNlci5uYW1lIH0pIH0pKV0gfSwgdXNlci5pZCkpKSB9KSwgY2FsbGluZ1N0YXRlTGFiZWwgJiYgKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtcGFuZWxfX2NhbGxpbmctc3RhdGUtbGFiZWxcIiwgY2hpbGRyZW46IHQoY2FsbGluZ1N0YXRlTGFiZWwpIH0pKSwgW0NhbGxpbmdTdGF0ZS5SSU5HSU5HLCBDYWxsaW5nU3RhdGUuSk9JTklOR10uaW5jbHVkZXMoY2FsbGluZ1N0YXRlKSAmJiAoanN4KFJpbmdpbmdDYWxsQ29udHJvbHMsIHt9KSldIH0pKTtcbn07XG5cbmNvbnN0IGJ5TmFtZU9ySWQgPSAoYSwgYikgPT4ge1xuICAgIGlmIChhLm5hbWUgJiYgYi5uYW1lICYmIGEubmFtZSA8IGIubmFtZSlcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIGlmIChhLm5hbWUgJiYgYi5uYW1lICYmIGEubmFtZSA+IGIubmFtZSlcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgaWYgKGEuaWQgPCBiLmlkKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgaWYgKGEuaWQgPiBiLmlkKVxuICAgICAgICByZXR1cm4gMTtcbiAgICByZXR1cm4gMDtcbn07XG5jb25zdCBQZXJtaXNzaW9uUmVxdWVzdHMgPSAoKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUxvY2FsUGFydGljaXBhbnQsIHVzZUhhc1Blcm1pc3Npb25zIH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IGxvY2FsUGFydGljaXBhbnQgPSB1c2VMb2NhbFBhcnRpY2lwYW50KCk7XG4gICAgY29uc3QgW2V4cGFuZGVkLCBzZXRFeHBhbmRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW3Blcm1pc3Npb25SZXF1ZXN0cywgc2V0UGVybWlzc2lvblJlcXVlc3RzXSA9IHVzZVN0YXRlKFtdKTtcbiAgICBjb25zdCBjYW5VcGRhdGVDYWxsUGVybWlzc2lvbnMgPSB1c2VIYXNQZXJtaXNzaW9ucyhPd25DYXBhYmlsaXR5LlVQREFURV9DQUxMX1BFUk1JU1NJT05TKTtcbiAgICBjb25zdCBsb2NhbFVzZXJJZCA9IGxvY2FsUGFydGljaXBhbnQ/LnVzZXJJZDtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbGwgfHwgIWNhblVwZGF0ZUNhbGxQZXJtaXNzaW9ucylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGNhbGwub24oJ2NhbGwucGVybWlzc2lvbl9yZXF1ZXN0JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudXNlci5pZCAhPT0gbG9jYWxVc2VySWQpIHtcbiAgICAgICAgICAgICAgICBzZXRQZXJtaXNzaW9uUmVxdWVzdHMoKHJlcXVlc3RzKSA9PiBbLi4ucmVxdWVzdHMsIGV2ZW50XS5zb3J0KChhLCBiKSA9PiBieU5hbWVPcklkKGEudXNlciwgYi51c2VyKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LCBbY2FsbCwgY2FuVXBkYXRlQ2FsbFBlcm1pc3Npb25zLCBsb2NhbFVzZXJJZF0pO1xuICAgIGNvbnN0IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24gPSAocmVxdWVzdCwgdHlwZSkgPT4ge1xuICAgICAgICByZXR1cm4gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyB1c2VyLCBwZXJtaXNzaW9ucyB9ID0gcmVxdWVzdDtcbiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2dyYW50JzpcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgY2FsbD8uZ3JhbnRQZXJtaXNzaW9ucyh1c2VyLmlkLCBwZXJtaXNzaW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Jldm9rZSc6XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGNhbGw/LnJldm9rZVBlcm1pc3Npb25zKHVzZXIuaWQsIHBlcm1pc3Npb25zKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXRQZXJtaXNzaW9uUmVxdWVzdHMoKHJlcXVlc3RzKSA9PiByZXF1ZXN0cy5maWx0ZXIoKHIpID0+IHIgIT09IHJlcXVlc3QpKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGNvbnN0IHsgcmVmcywgeCwgeSwgc3RyYXRlZ3kgfSA9IHVzZUZsb2F0aW5nVUlQcmVzZXQoe1xuICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20nLFxuICAgICAgICBzdHJhdGVneTogJ2Fic29sdXRlJyxcbiAgICB9KTtcbiAgICAvLyBkb24ndCByZW5kZXIgYW55dGhpbmcgaWYgdGhlcmUgYXJlIG5vIHBlcm1pc3Npb24gcmVxdWVzdHNcbiAgICBpZiAocGVybWlzc2lvblJlcXVlc3RzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0c1wiLCByZWY6IHJlZnMuc2V0UmVmZXJlbmNlLCBjaGlsZHJlbjogW2pzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RzX19ub3RpZmljYXRpb25cIiwgY2hpbGRyZW46IFtqc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdHNfX25vdGlmaWNhdGlvbl9fbWVzc2FnZVwiLCBjaGlsZHJlbjogW3Blcm1pc3Npb25SZXF1ZXN0cy5sZW5ndGgsIFwiIHBlbmRpbmcgcGVybWlzc2lvbiByZXF1ZXN0c1wiXSB9KSwganN4KEJ1dHRvbiwgeyB0eXBlOiBcImJ1dHRvblwiLCBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXhwYW5kZWQoKGUpID0+ICFlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGNoaWxkcmVuOiBleHBhbmRlZCA/ICdIaWRlIHJlcXVlc3RzJyA6ICdTaG93IHJlcXVlc3RzJyB9KV0gfSksIGV4cGFuZGVkICYmIChqc3goUGVybWlzc2lvblJlcXVlc3RMaXN0LCB7IHJlZjogcmVmcy5zZXRGbG9hdGluZywgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgICAgICAgICAgICAgICB0b3A6IHkgPz8gMCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogeCA/PyAwLFxuICAgICAgICAgICAgICAgICAgICBvdmVyZmxvd1k6ICdhdXRvJyxcbiAgICAgICAgICAgICAgICB9LCBwZXJtaXNzaW9uUmVxdWVzdHM6IHBlcm1pc3Npb25SZXF1ZXN0cywgaGFuZGxlVXBkYXRlUGVybWlzc2lvbjogaGFuZGxlVXBkYXRlUGVybWlzc2lvbiB9KSldIH0pKTtcbn07XG5jb25zdCBQZXJtaXNzaW9uUmVxdWVzdExpc3QgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFBlcm1pc3Npb25SZXF1ZXN0TGlzdChwcm9wcywgcmVmKSB7XG4gICAgY29uc3QgeyBwZXJtaXNzaW9uUmVxdWVzdHMsIGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24sIC4uLnJlc3QgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0cy1saXN0XCIsIHJlZjogcmVmLCAuLi5yZXN0LCBjaGlsZHJlbjogcGVybWlzc2lvblJlcXVlc3RzLm1hcCgocmVxdWVzdCwgcmVxSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlciwgcGVybWlzc2lvbnMgfSA9IHJlcXVlc3Q7XG4gICAgICAgICAgICByZXR1cm4gKGpzeChGcmFnbWVudCQxLCB7IGNoaWxkcmVuOiBwZXJtaXNzaW9ucy5tYXAoKHBlcm1pc3Npb24pID0+IChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0XCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0X19tZXNzYWdlXCIsIGNoaWxkcmVuOiBtZXNzYWdlRm9yUGVybWlzc2lvbih1c2VyLm5hbWUgfHwgdXNlci5pZCwgcGVybWlzc2lvbiwgdCkgfSksIGpzeChCdXR0b24sIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0X19idXR0b24tLWFsbG93XCIsIHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24ocmVxdWVzdCwgJ2dyYW50JyksIGNoaWxkcmVuOiB0KCdBbGxvdycpIH0pLCBqc3goQnV0dG9uLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3Blcm1pc3Npb24tcmVxdWVzdF9fYnV0dG9uLS1yZWplY3RcIiwgdHlwZTogXCJidXR0b25cIiwgb25DbGljazogaGFuZGxlVXBkYXRlUGVybWlzc2lvbihyZXF1ZXN0LCAncmV2b2tlJyksIGNoaWxkcmVuOiB0KCdSZXZva2UnKSB9KSwganN4KEJ1dHRvbiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wZXJtaXNzaW9uLXJlcXVlc3RfX2J1dHRvbi0tcmVqZWN0XCIsIHR5cGU6IFwiYnV0dG9uXCIsIG9uQ2xpY2s6IGhhbmRsZVVwZGF0ZVBlcm1pc3Npb24ocmVxdWVzdCwgJ2Rpc21pc3MnKSwgY2hpbGRyZW46IHQoJ0Rpc21pc3MnKSB9KV0gfSwgcGVybWlzc2lvbikpKSB9LCBgJHt1c2VyLmlkfS8ke3JlcUluZGV4fWApKTtcbiAgICAgICAgfSkgfSkpO1xufSk7XG5jb25zdCBCdXR0b24gPSAocHJvcHMpID0+IHtcbiAgICBjb25zdCB7IGNsYXNzTmFtZSwgLi4ucmVzdCB9ID0gcHJvcHM7XG4gICAgcmV0dXJuIChqc3goXCJidXR0b25cIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGVybWlzc2lvbi1yZXF1ZXN0X19idXR0b24nLCBjbGFzc05hbWUpLCAuLi5yZXN0IH0pKTtcbn07XG5jb25zdCBtZXNzYWdlRm9yUGVybWlzc2lvbiA9ICh1c2VyTmFtZSwgcGVybWlzc2lvbiwgdCkgPT4ge1xuICAgIHN3aXRjaCAocGVybWlzc2lvbikge1xuICAgICAgICBjYXNlIE93bkNhcGFiaWxpdHkuU0VORF9BVURJTzpcbiAgICAgICAgICAgIHJldHVybiB0KCd7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNwZWFrJywgeyB1c2VyTmFtZSB9KTtcbiAgICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNFTkRfVklERU86XG4gICAgICAgICAgICByZXR1cm4gdCgne3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzaGFyZSB0aGVpciBjYW1lcmEnLCB7XG4gICAgICAgICAgICAgICAgdXNlck5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBPd25DYXBhYmlsaXR5LlNDUkVFTlNIQVJFOlxuICAgICAgICAgICAgcmV0dXJuIHQoJ3t7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gcHJlc2VudCB0aGVpciBzY3JlZW4nLCB7XG4gICAgICAgICAgICAgICAgdXNlck5hbWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0KCd7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHBlcm1pc3Npb246IHt7IHBlcm1pc3Npb24gfX0nLCB7XG4gICAgICAgICAgICAgICAgdXNlck5hbWUsXG4gICAgICAgICAgICAgICAgcGVybWlzc2lvbixcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbn07XG5cbmNvbnN0IFN0cmVhbVRoZW1lID0gKHsgYXM6IENvbXBvbmVudCA9ICdkaXYnLCBjbGFzc05hbWUsIGNoaWxkcmVuLCAuLi5wcm9wcyB9KSA9PiB7XG4gICAgcmV0dXJuIChqc3goQ29tcG9uZW50LCB7IC4uLnByb3BzLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlbycsIGNsYXNzTmFtZSksIGNoaWxkcmVuOiBjaGlsZHJlbiB9KSk7XG59O1xuXG5jb25zdCBEZWZhdWx0RGlzYWJsZWRWaWRlb1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB0IH0gPSB1c2VJMThuKCk7XG4gICAgcmV0dXJuIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyX3ZpZGVvX192aWRlby1wcmV2aWV3X19kaXNhYmxlZC12aWRlby1wcmV2aWV3XCIsIGNoaWxkcmVuOiB0KCdWaWRlbyBpcyBkaXNhYmxlZCcpIH0pKTtcbn07XG5jb25zdCBEZWZhdWx0Tm9DYW1lcmFQcmV2aWV3ID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0cl92aWRlb19fdmlkZW8tcHJldmlld19fbm8tY2FtZXJhLXByZXZpZXdcIiwgY2hpbGRyZW46IHQoJ05vIGNhbWVyYSBmb3VuZCcpIH0pKTtcbn07XG5jb25zdCBWaWRlb1ByZXZpZXcgPSAoeyBjbGFzc05hbWUsIG1pcnJvciA9IHRydWUsIERpc2FibGVkVmlkZW9QcmV2aWV3ID0gRGVmYXVsdERpc2FibGVkVmlkZW9QcmV2aWV3LCBOb0NhbWVyYVByZXZpZXcgPSBEZWZhdWx0Tm9DYW1lcmFQcmV2aWV3LCBTdGFydGluZ0NhbWVyYVByZXZpZXcgPSBMb2FkaW5nSW5kaWNhdG9yLCB9KSA9PiB7XG4gICAgY29uc3QgeyB1c2VDYW1lcmFTdGF0ZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCB7IGRldmljZXMsIHN0YXR1cywgaXNNdXRlLCBtZWRpYVN0cmVhbSB9ID0gdXNlQ2FtZXJhU3RhdGUoKTtcbiAgICBsZXQgY29udGVudHM7XG4gICAgaWYgKGlzTXV0ZSAmJiBkZXZpY2VzPy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udGVudHMgPSBqc3goTm9DYW1lcmFQcmV2aWV3LCB7fSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHN0YXR1cyA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICAgIGNvbnN0IGxvYWRpbmcgPSAhbWVkaWFTdHJlYW07XG4gICAgICAgIGNvbnRlbnRzID0gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFttZWRpYVN0cmVhbSAmJiAoanN4KEJhc2VWaWRlbywgeyBzdHJlYW06IG1lZGlhU3RyZWFtLCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fdmlkZW8tcHJldmlldycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLXByZXZpZXctLW1pcnJvcic6IG1pcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICdzdHItdmlkZW9fX3ZpZGVvLXByZXZpZXctLWxvYWRpbmcnOiBsb2FkaW5nLFxuICAgICAgICAgICAgICAgICAgICB9KSB9KSksIGxvYWRpbmcgJiYganN4KFN0YXJ0aW5nQ2FtZXJhUHJldmlldywge30pXSB9KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb250ZW50cyA9IGpzeChEaXNhYmxlZFZpZGVvUHJldmlldywge30pO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogY2xzeCgnc3RyLXZpZGVvX192aWRlby1wcmV2aWV3LWNvbnRhaW5lcicsIGNsYXNzTmFtZSksIGNoaWxkcmVuOiBjb250ZW50cyB9KSk7XG59O1xuXG5jb25zdCBUb2dnbGVCdXR0b24gPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIFRvZ2dsZUJ1dHRvbihwcm9wcywgcmVmKSB7XG4gICAgcmV0dXJuIGpzeChJY29uQnV0dG9uLCB7IGVuYWJsZWQ6IHByb3BzLm1lbnVTaG93biwgaWNvbjogXCJlbGxpcHNpc1wiLCByZWY6IHJlZiB9KTtcbn0pO1xuY29uc3QgRGVmYXVsdFNjcmVlblNoYXJlT3ZlcmxheSA9ICgpID0+IHtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHN0b3BTY3JlZW5TaGFyZSA9ICgpID0+IHtcbiAgICAgICAgY2FsbD8uc2NyZWVuU2hhcmUuZGlzYWJsZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc2NyZWVuLXNoYXJlLW92ZXJsYXlcIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcInNjcmVlbi1zaGFyZS1vZmZcIiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NjcmVlbi1zaGFyZS1vdmVybGF5X190aXRsZVwiLCBjaGlsZHJlbjogdCgnWW91IGFyZSBwcmVzZW50aW5nIHlvdXIgc2NyZWVuJykgfSksIGpzeHMoXCJidXR0b25cIiwgeyBvbkNsaWNrOiBzdG9wU2NyZWVuU2hhcmUsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NjcmVlbi1zaGFyZS1vdmVybGF5X19idXR0b25cIiwgY2hpbGRyZW46IFtqc3goSWNvbiwgeyBpY29uOiBcImNsb3NlXCIgfSksIFwiIFwiLCB0KCdTdG9wIFNjcmVlbiBTaGFyaW5nJyldIH0pXSB9KSk7XG59O1xuY29uc3QgRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJID0gKHsgaW5kaWNhdG9yc1Zpc2libGUgPSB0cnVlLCBtZW51UGxhY2VtZW50ID0gJ2JvdHRvbS1zdGFydCcsIHNob3dNZW51QnV0dG9uID0gdHJ1ZSwgUGFydGljaXBhbnRBY3Rpb25zQ29udGV4dE1lbnU6IFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51JDEgPSBQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQsIHRyYWNrVHlwZSB9ID0gdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCgpO1xuICAgIGNvbnN0IGlzU2NyZWVuU2hhcmluZyA9IGhhc1NjcmVlblNoYXJlKHBhcnRpY2lwYW50KTtcbiAgICBpZiAocGFydGljaXBhbnQuaXNMb2NhbFBhcnRpY2lwYW50ICYmXG4gICAgICAgIGlzU2NyZWVuU2hhcmluZyAmJlxuICAgICAgICB0cmFja1R5cGUgPT09ICdzY3JlZW5TaGFyZVRyYWNrJykge1xuICAgICAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goRGVmYXVsdFNjcmVlblNoYXJlT3ZlcmxheSwge30pLCBqc3goUGFydGljaXBhbnREZXRhaWxzLCB7IGluZGljYXRvcnNWaXNpYmxlOiBpbmRpY2F0b3JzVmlzaWJsZSB9KV0gfSkpO1xuICAgIH1cbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtzaG93TWVudUJ1dHRvbiAmJiAoanN4KE1lbnVUb2dnbGUsIHsgc3RyYXRlZ3k6IFwiZml4ZWRcIiwgcGxhY2VtZW50OiBtZW51UGxhY2VtZW50LCBUb2dnbGVCdXR0b246IFRvZ2dsZUJ1dHRvbiwgY2hpbGRyZW46IGpzeChQYXJ0aWNpcGFudEFjdGlvbnNDb250ZXh0TWVudSQxLCB7fSkgfSkpLCBqc3goUmVhY3Rpb24sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50IH0pLCBqc3goUGFydGljaXBhbnREZXRhaWxzLCB7IGluZGljYXRvcnNWaXNpYmxlOiBpbmRpY2F0b3JzVmlzaWJsZSB9KV0gfSkpO1xufTtcbmNvbnN0IFBhcnRpY2lwYW50RGV0YWlscyA9ICh7IGluZGljYXRvcnNWaXNpYmxlID0gdHJ1ZSwgfSkgPT4ge1xuICAgIGNvbnN0IHsgcGFydGljaXBhbnQgfSA9IHVzZVBhcnRpY2lwYW50Vmlld0NvbnRleHQoKTtcbiAgICBjb25zdCB7IGlzTG9jYWxQYXJ0aWNpcGFudCwgY29ubmVjdGlvblF1YWxpdHksIHBpbiwgc2Vzc2lvbklkLCBuYW1lLCB1c2VySWQsIH0gPSBwYXJ0aWNpcGFudDtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25RdWFsaXR5QXNTdHJpbmcgPSAhIWNvbm5lY3Rpb25RdWFsaXR5ICYmXG4gICAgICAgIFNmdU1vZGVscy5Db25uZWN0aW9uUXVhbGl0eVtjb25uZWN0aW9uUXVhbGl0eV0udG9Mb3dlckNhc2UoKTtcbiAgICBjb25zdCBoYXNBdWRpb1RyYWNrID0gaGFzQXVkaW8ocGFydGljaXBhbnQpO1xuICAgIGNvbnN0IGhhc1ZpZGVvVHJhY2sgPSBoYXNWaWRlbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgY2FuVW5waW4gPSAhIXBpbiAmJiBwaW4uaXNMb2NhbFBpbjtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzXCIsIGNoaWxkcmVuOiBqc3hzKFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhcnRpY2lwYW50LWRldGFpbHNfX25hbWVcIiwgY2hpbGRyZW46IFtuYW1lIHx8IHVzZXJJZCwgaW5kaWNhdG9yc1Zpc2libGUgJiYgIWhhc0F1ZGlvVHJhY2sgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lLS1hdWRpby1tdXRlZFwiIH0pKSwgaW5kaWNhdG9yc1Zpc2libGUgJiYgIWhhc1ZpZGVvVHJhY2sgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lLS12aWRlby1tdXRlZFwiIH0pKSwgaW5kaWNhdG9yc1Zpc2libGUgJiYgY2FuVW5waW4gJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHRoaXMgbW9uc3Ryb3NpdHkgb25jZSB3ZSBoYXZlIGEgcHJvcGVyIGRlc2lnblxuICAgICAgICAgICAgICAgICAgICAgICAganN4KFwic3BhblwiLCB7IHRpdGxlOiB0KCdVbnBpbicpLCBvbkNsaWNrOiAoKSA9PiBjYWxsPy51bnBpbihzZXNzaW9uSWQpLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYXJ0aWNpcGFudC1kZXRhaWxzX19uYW1lLS1waW5uZWRcIiB9KSksIGluZGljYXRvcnNWaXNpYmxlICYmIGpzeChTcGVlY2hJbmRpY2F0b3IsIHt9KV0gfSkgfSksIGluZGljYXRvcnNWaXNpYmxlICYmIChqc3goTm90aWZpY2F0aW9uLCB7IGlzVmlzaWJsZTogaXNMb2NhbFBhcnRpY2lwYW50ICYmXG4gICAgICAgICAgICAgICAgICAgIGNvbm5lY3Rpb25RdWFsaXR5ID09PSBTZnVNb2RlbHMuQ29ubmVjdGlvblF1YWxpdHkuUE9PUiwgbWVzc2FnZTogdCgnUG9vciBjb25uZWN0aW9uIHF1YWxpdHknKSwgY2hpbGRyZW46IGNvbm5lY3Rpb25RdWFsaXR5QXNTdHJpbmcgJiYgKGpzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fY29ubmVjdGlvbi1xdWFsaXR5JywgYHN0ci12aWRlb19fcGFydGljaXBhbnQtZGV0YWlsc19fY29ubmVjdGlvbi1xdWFsaXR5LS0ke2Nvbm5lY3Rpb25RdWFsaXR5QXNTdHJpbmd9YCksIHRpdGxlOiBjb25uZWN0aW9uUXVhbGl0eUFzU3RyaW5nIH0pKSB9KSldIH0pKTtcbn07XG5jb25zdCBTcGVlY2hJbmRpY2F0b3IgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudCB9ID0gdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCgpO1xuICAgIGNvbnN0IHsgaXNTcGVha2luZywgaXNEb21pbmFudFNwZWFrZXIgfSA9IHBhcnRpY2lwYW50O1xuICAgIHJldHVybiAoanN4cyhcInNwYW5cIiwgeyBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fc3BlZWNoLWluZGljYXRvcicsIGlzU3BlYWtpbmcgJiYgJ3N0ci12aWRlb19fc3BlZWNoLWluZGljYXRvci0tc3BlYWtpbmcnLCBpc0RvbWluYW50U3BlYWtlciAmJiAnc3RyLXZpZGVvX19zcGVlY2gtaW5kaWNhdG9yLS1kb21pbmFudCcpLCBjaGlsZHJlbjogW2pzeChcInNwYW5cIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVlY2gtaW5kaWNhdG9yX19iYXJcIiB9KSwganN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWVjaC1pbmRpY2F0b3JfX2JhclwiIH0pLCBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlZWNoLWluZGljYXRvcl9fYmFyXCIgfSldIH0pKTtcbn07XG5cbmNvbnN0IFBhcnRpY2lwYW50VmlldyA9IGZvcndhcmRSZWYoZnVuY3Rpb24gUGFydGljaXBhbnRWaWV3KHsgcGFydGljaXBhbnQsIHRyYWNrVHlwZSA9ICd2aWRlb1RyYWNrJywgbWlycm9yLCBtdXRlQXVkaW8sIHJlZnM6IHsgc2V0VmlkZW9FbGVtZW50LCBzZXRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudCB9ID0ge30sIGNsYXNzTmFtZSwgVmlkZW9QbGFjZWhvbGRlciwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSSA9IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgfSwgcmVmKSB7XG4gICAgY29uc3QgeyBpc0xvY2FsUGFydGljaXBhbnQsIGlzU3BlYWtpbmcsIGlzRG9taW5hbnRTcGVha2VyLCBzZXNzaW9uSWQgfSA9IHBhcnRpY2lwYW50O1xuICAgIGNvbnN0IGhhc0F1ZGlvVHJhY2sgPSBoYXNBdWRpbyhwYXJ0aWNpcGFudCk7XG4gICAgY29uc3QgaGFzVmlkZW9UcmFjayA9IGhhc1ZpZGVvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBoYXNTY3JlZW5TaGFyZUF1ZGlvVHJhY2sgPSBoYXNTY3JlZW5TaGFyZUF1ZGlvKHBhcnRpY2lwYW50KTtcbiAgICBjb25zdCBbdHJhY2tlZEVsZW1lbnQsIHNldFRyYWNrZWRFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtjb250ZXh0VmlkZW9FbGVtZW50LCBzZXRDb250ZXh0VmlkZW9FbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IFtjb250ZXh0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQsIHNldENvbnRleHRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgICAvLyBUT0RPOiBhbGxvdyB0byBwYXNzIGN1c3RvbSBWaWV3cG9ydFRyYWNrZXIgaW5zdGFuY2UgZnJvbSBwcm9wc1xuICAgIHVzZVRyYWNrRWxlbWVudFZpc2liaWxpdHkoe1xuICAgICAgICBzZXNzaW9uSWQsXG4gICAgICAgIHRyYWNrZWRFbGVtZW50LFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgfSk7XG4gICAgY29uc3QgeyB1c2VJbmNvbWluZ1ZpZGVvU2V0dGluZ3MgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgeyBpc1BhcnRpY2lwYW50VmlkZW9FbmFibGVkIH0gPSB1c2VJbmNvbWluZ1ZpZGVvU2V0dGluZ3MoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudFZpZXdDb250ZXh0VmFsdWUgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHBhcnRpY2lwYW50LFxuICAgICAgICBwYXJ0aWNpcGFudFZpZXdFbGVtZW50OiB0cmFja2VkRWxlbWVudCxcbiAgICAgICAgdmlkZW9FbGVtZW50OiBjb250ZXh0VmlkZW9FbGVtZW50LFxuICAgICAgICB2aWRlb1BsYWNlaG9sZGVyRWxlbWVudDogY29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50LFxuICAgICAgICB0cmFja1R5cGUsXG4gICAgfSksIFtcbiAgICAgICAgY29udGV4dFZpZGVvRWxlbWVudCxcbiAgICAgICAgY29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50LFxuICAgICAgICBwYXJ0aWNpcGFudCxcbiAgICAgICAgdHJhY2tlZEVsZW1lbnQsXG4gICAgICAgIHRyYWNrVHlwZSxcbiAgICBdKTtcbiAgICBjb25zdCB2aWRlb1JlZnMgPSB1c2VNZW1vKCgpID0+ICh7XG4gICAgICAgIHNldFZpZGVvRWxlbWVudDogKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgIHNldFZpZGVvRWxlbWVudD8uKGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0Q29udGV4dFZpZGVvRWxlbWVudChlbGVtZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0VmlkZW9QbGFjZWhvbGRlckVsZW1lbnQ6IChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICBzZXRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudD8uKGVsZW1lbnQpO1xuICAgICAgICAgICAgc2V0Q29udGV4dFZpZGVvUGxhY2Vob2xkZXJFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9LFxuICAgIH0pLCBbc2V0VmlkZW9FbGVtZW50LCBzZXRWaWRlb1BsYWNlaG9sZGVyRWxlbWVudF0pO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgXCJkYXRhLXRlc3RpZFwiOiBcInBhcnRpY2lwYW50LXZpZXdcIiwgcmVmOiAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgYXBwbHlFbGVtZW50VG9SZWYocmVmLCBlbGVtZW50KTtcbiAgICAgICAgICAgIHNldFRyYWNrZWRFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICB9LCBjbGFzc05hbWU6IGNsc3goJ3N0ci12aWRlb19fcGFydGljaXBhbnQtdmlldycsIGlzRG9taW5hbnRTcGVha2VyICYmICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXctLWRvbWluYW50LXNwZWFrZXInLCBpc1NwZWFraW5nICYmICdzdHItdmlkZW9fX3BhcnRpY2lwYW50LXZpZXctLXNwZWFraW5nJywgIWhhc1ZpZGVvVHJhY2sgJiYgJ3N0ci12aWRlb19fcGFydGljaXBhbnQtdmlldy0tbm8tdmlkZW8nLCAhaGFzQXVkaW9UcmFjayAmJiAnc3RyLXZpZGVvX19wYXJ0aWNpcGFudC12aWV3LS1uby1hdWRpbycsIGNsYXNzTmFtZSksIGNoaWxkcmVuOiBqc3hzKFBhcnRpY2lwYW50Vmlld0NvbnRleHQuUHJvdmlkZXIsIHsgdmFsdWU6IHBhcnRpY2lwYW50Vmlld0NvbnRleHRWYWx1ZSwgY2hpbGRyZW46IFshaXNMb2NhbFBhcnRpY2lwYW50ICYmICFtdXRlQXVkaW8gJiYgKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtoYXNBdWRpb1RyYWNrICYmIChqc3goQXVkaW8sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6IFwiYXVkaW9UcmFja1wiIH0pKSwgaGFzU2NyZWVuU2hhcmVBdWRpb1RyYWNrICYmIChqc3goQXVkaW8sIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCB0cmFja1R5cGU6IFwic2NyZWVuU2hhcmVBdWRpb1RyYWNrXCIgfSkpXSB9KSksIGpzeChWaWRlbyQxLCB7IFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlcjogUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQsIHRyYWNrVHlwZTogdHJhY2tUeXBlLCByZWZzOiB2aWRlb1JlZnMsIGVuYWJsZWQ6IGlzTG9jYWxQYXJ0aWNpcGFudCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2tUeXBlICE9PSAndmlkZW9UcmFjaycgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzUGFydGljaXBhbnRWaWRlb0VuYWJsZWQocGFydGljaXBhbnQuc2Vzc2lvbklkKSwgbWlycm9yOiBtaXJyb3IsIGF1dG9QbGF5OiB0cnVlIH0pLCBpc0NvbXBvbmVudFR5cGUoUGFydGljaXBhbnRWaWV3VUkpID8gKGpzeChQYXJ0aWNpcGFudFZpZXdVSSwge30pKSA6IChQYXJ0aWNpcGFudFZpZXdVSSldIH0pIH0pKTtcbn0pO1xuUGFydGljaXBhbnRWaWV3LmRpc3BsYXlOYW1lID0gJ1BhcnRpY2lwYW50Vmlldyc7XG5cbi8vIHJlLWV4cG9ydGluZyB0aGUgU3RyZWFtQ2FsbFByb3ZpZGVyIGFzIFN0cmVhbUNhbGxcbmNvbnN0IFN0cmVhbUNhbGwgPSBTdHJlYW1DYWxsUHJvdmlkZXI7XG5TdHJlYW1DYWxsLmRpc3BsYXlOYW1lID0gJ1N0cmVhbUNhbGwnO1xuXG52YXIgSm9pbmluZyA9IFwiSm9pbmluZ1wiO1xudmFyIE1pYyA9IFwiTWljXCI7XG52YXIgUmluZ2luZyA9IFwiUmluZ2luZ1wiO1xudmFyIFNwZWFrZXJzID0gXCJTcGVha2Vyc1wiO1xudmFyIFZpZGVvID0gXCJWaWRlb1wiO1xudmFyIExpdmUgPSBcIkxpdmVcIjtcbnZhciBSZWFjdGlvbnMgPSBcIlJlYWN0aW9uc1wiO1xudmFyIFN0YXRpc3RpY3MgPSBcIlN0YXRpc3RpY3NcIjtcbnZhciBJbnZpdGUgPSBcIkludml0ZVwiO1xudmFyIEpvaW4gPSBcIkpvaW5cIjtcbnZhciBZb3UgPSBcIllvdVwiO1xudmFyIE1lID0gXCJNZVwiO1xudmFyIFVua25vd24gPSBcIlVua25vd25cIjtcbnZhciBEZWZhdWx0ID0gXCJEZWZhdWx0XCI7XG52YXIgUmVmcmVzaCA9IFwiUmVmcmVzaFwiO1xudmFyIEFsbG93ID0gXCJBbGxvd1wiO1xudmFyIFJldm9rZSA9IFwiUmV2b2tlXCI7XG52YXIgRGlzbWlzcyA9IFwiRGlzbWlzc1wiO1xudmFyIFBpbm5lZCA9IFwiUGlubmVkXCI7XG52YXIgVW5waW4gPSBcIlVucGluXCI7XG52YXIgUGluID0gXCJQaW5cIjtcbnZhciBCbG9jayA9IFwiQmxvY2tcIjtcbnZhciBFbnRlciA9IFwiRW50ZXJcIjtcbnZhciBMZWF2ZSA9IFwiTGVhdmVcIjtcbnZhciBQYXJ0aWNpcGFudHMgPSBcIlBhcnRpY2lwYW50c1wiO1xudmFyIEFub255bW91cyA9IFwiLCBhbmQgKHt7IGNvdW50IH19KSBhbm9ueW1vdXNcIjtcbnZhciBlbiA9IHtcblx0Sm9pbmluZzogSm9pbmluZyxcblx0TWljOiBNaWMsXG5cdFwiTm8gaW50ZXJuZXQgY29ubmVjdGlvblwiOiBcIk5vIGludGVybmV0IGNvbm5lY3Rpb25cIixcblx0XCJSZS1jb25uZWN0aW5nXCI6IFwiUmUtY29ubmVjdGluZ1wiLFxuXHRSaW5naW5nOiBSaW5naW5nLFxuXHRcIlNjcmVlbiBTaGFyZVwiOiBcIlNjcmVlbiBTaGFyZVwiLFxuXHRcIlNlbGVjdCBhIENhbWVyYVwiOiBcIlNlbGVjdCBhIENhbWVyYVwiLFxuXHRcIlNlbGVjdCBhIE1pY1wiOiBcIlNlbGVjdCBhIE1pY1wiLFxuXHRcIlNlbGVjdCBTcGVha2Vyc1wiOiBcIlNlbGVjdCBTcGVha2Vyc1wiLFxuXHRTcGVha2VyczogU3BlYWtlcnMsXG5cdFZpZGVvOiBWaWRlbyxcblx0XCJZb3UgYXJlIG11dGVkLiBVbm11dGUgdG8gc3BlYWsuXCI6IFwiWW91IGFyZSBtdXRlZC4gVW5tdXRlIHRvIHNwZWFrLlwiLFxuXHRMaXZlOiBMaXZlLFxuXHRcIkxpdmVzdHJlYW0gc3RhcnRzIHNvb25cIjogXCJMaXZlc3RyZWFtIHN0YXJ0cyBzb29uXCIsXG5cdFwiTGl2ZXN0cmVhbSBzdGFydHMgYXQge3sgc3RhcnRzQXQgfX1cIjogXCJMaXZlc3RyZWFtIHN0YXJ0cyBhdCB7eyBzdGFydHNBdCwgZGF0ZXRpbWUgfX1cIixcblx0XCJ7eyBjb3VudCB9fSBwYXJ0aWNpcGFudHMgam9pbmVkIGVhcmx5X29uZVwiOiBcInt7IGNvdW50IH19IHBhcnRpY2lwYW50IGpvaW5lZCBlYXJseVwiLFxuXHRcInt7IGNvdW50IH19IHBhcnRpY2lwYW50cyBqb2luZWQgZWFybHlfb3RoZXJcIjogXCJ7eyBjb3VudCB9fSBwYXJ0aWNpcGFudHMgam9pbmVkIGVhcmx5XCIsXG5cdFwiWW91IGNhbiBub3cgc3BlYWsuXCI6IFwiWW91IGNhbiBub3cgc3BlYWsuXCIsXG5cdFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNwZWFrLlwiOiBcIkF3YWl0aW5nIGZvciBhbiBhcHByb3ZhbCB0byBzcGVhay5cIixcblx0XCJZb3UgY2FuIG5vIGxvbmdlciBzcGVhay5cIjogXCJZb3UgY2FuIG5vIGxvbmdlciBzcGVhay5cIixcblx0XCJZb3UgY2FuIG5vdyBzaGFyZSB5b3VyIHZpZGVvLlwiOiBcIllvdSBjYW4gbm93IHNoYXJlIHlvdXIgdmlkZW8uXCIsXG5cdFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHlvdXIgdmlkZW8uXCI6IFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHlvdXIgdmlkZW8uXCIsXG5cdFwiWW91IGNhbiBubyBsb25nZXIgc2hhcmUgeW91ciB2aWRlby5cIjogXCJZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHZpZGVvLlwiLFxuXHRcIldhaXRpbmcgZm9yIHJlY29yZGluZyB0byBzdG9wLi4uXCI6IFwiV2FpdGluZyBmb3IgcmVjb3JkaW5nIHRvIHN0b3AuLi5cIixcblx0XCJXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RhcnQuLi5cIjogXCJXYWl0aW5nIGZvciByZWNvcmRpbmcgdG8gc3RhcnQuLi5cIixcblx0XCJSZWNvcmQgY2FsbFwiOiBcIlJlY29yZCBjYWxsXCIsXG5cdFJlYWN0aW9uczogUmVhY3Rpb25zLFxuXHRTdGF0aXN0aWNzOiBTdGF0aXN0aWNzLFxuXHRcIllvdSBjYW4gbm93IHNoYXJlIHlvdXIgc2NyZWVuLlwiOiBcIllvdSBjYW4gbm93IHNoYXJlIHlvdXIgc2NyZWVuLlwiLFxuXHRcIkF3YWl0aW5nIGZvciBhbiBhcHByb3ZhbCB0byBzaGFyZSBzY3JlZW4uXCI6IFwiQXdhaXRpbmcgZm9yIGFuIGFwcHJvdmFsIHRvIHNoYXJlIHNjcmVlbi5cIixcblx0XCJZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHNjcmVlbi5cIjogXCJZb3UgY2FuIG5vIGxvbmdlciBzaGFyZSB5b3VyIHNjcmVlbi5cIixcblx0XCJTaGFyZSBzY3JlZW5cIjogXCJTaGFyZSBzY3JlZW5cIixcblx0XCJJbmNvbWluZyBDYWxsLi4uXCI6IFwiSW5jb21pbmcgQ2FsbC4uLlwiLFxuXHRcIkNhbGxpbmcuLi5cIjogXCJDYWxsaW5nLi4uXCIsXG5cdFwiTXV0ZSBBbGxcIjogXCJNdXRlIEFsbFwiLFxuXHRJbnZpdGU6IEludml0ZSxcblx0Sm9pbjogSm9pbixcblx0WW91OiBZb3UsXG5cdE1lOiBNZSxcblx0VW5rbm93bjogVW5rbm93bixcblx0XCJUb2dnbGUgZGV2aWNlIG1lbnVcIjogXCJUb2dnbGUgZGV2aWNlIG1lbnVcIixcblx0RGVmYXVsdDogRGVmYXVsdCxcblx0XCJDYWxsIFJlY29yZGluZ3NcIjogXCJDYWxsIFJlY29yZGluZ3NcIixcblx0UmVmcmVzaDogUmVmcmVzaCxcblx0XCJDaGVjayB5b3VyIGJyb3dzZXIgdmlkZW8gcGVybWlzc2lvbnNcIjogXCJDaGVjayB5b3VyIGJyb3dzZXIgdmlkZW8gcGVybWlzc2lvbnNcIixcblx0XCJWaWRlbyBwdWJsaXNoaW5nIGlzIGRpc2FibGVkIGJ5IHRoZSBzeXN0ZW1cIjogXCJWaWRlbyBwdWJsaXNoaW5nIGlzIGRpc2FibGVkIGJ5IHRoZSBzeXN0ZW1cIixcblx0XCJZb3UgaGF2ZSBubyBwZXJtaXNzaW9uIHRvIHNoYXJlIHlvdXIgdmlkZW9cIjogXCJZb3UgaGF2ZSBubyBwZXJtaXNzaW9uIHRvIHNoYXJlIHlvdXIgdmlkZW9cIixcblx0XCJZb3UgaGF2ZSBubyBwZXJtaXNzaW9uIHRvIHNoYXJlIHlvdXIgYXVkaW9cIjogXCJZb3UgaGF2ZSBubyBwZXJtaXNzaW9uIHRvIHNoYXJlIHlvdXIgYXVkaW9cIixcblx0XCJZb3UgYXJlIHByZXNlbnRpbmcgeW91ciBzY3JlZW5cIjogXCJZb3UgYXJlIHByZXNlbnRpbmcgeW91ciBzY3JlZW5cIixcblx0XCJTdG9wIFNjcmVlbiBTaGFyaW5nXCI6IFwiU3RvcCBTY3JlZW4gU2hhcmluZ1wiLFxuXHRBbGxvdzogQWxsb3csXG5cdFJldm9rZTogUmV2b2tlLFxuXHREaXNtaXNzOiBEaXNtaXNzLFxuXHRcIk1pY3JvcGhvbmUgb25cIjogXCJNaWNyb3Bob25lIG9uXCIsXG5cdFwiTWljcm9waG9uZSBvZmZcIjogXCJNaWNyb3Bob25lIG9mZlwiLFxuXHRcIkNhbWVyYSBvblwiOiBcIkNhbWVyYSBvblwiLFxuXHRcIkNhbWVyYSBvZmZcIjogXCJDYW1lcmEgb2ZmXCIsXG5cdFwiTm8gY2FtZXJhIGZvdW5kXCI6IFwiTm8gY2FtZXJhIGZvdW5kXCIsXG5cdFwiVmlkZW8gaXMgZGlzYWJsZWRcIjogXCJWaWRlbyBpcyBkaXNhYmxlZFwiLFxuXHRQaW5uZWQ6IFBpbm5lZCxcblx0VW5waW46IFVucGluLFxuXHRQaW46IFBpbixcblx0XCJQaW4gZm9yIGV2ZXJ5b25lXCI6IFwiUGluIGZvciBldmVyeW9uZVwiLFxuXHRcIlVucGluIGZvciBldmVyeW9uZVwiOiBcIlVucGluIGZvciBldmVyeW9uZVwiLFxuXHRCbG9jazogQmxvY2ssXG5cdFwiVHVybiBvZmYgdmlkZW9cIjogXCJUdXJuIG9mZiB2aWRlb1wiLFxuXHRcIlR1cm4gb2ZmIHNjcmVlbiBzaGFyZVwiOiBcIlR1cm4gb2ZmIHNjcmVlbiBzaGFyZVwiLFxuXHRcIk11dGUgYXVkaW9cIjogXCJNdXRlIGF1ZGlvXCIsXG5cdFwiTXV0ZSBzY3JlZW4gc2hhcmUgYXVkaW9cIjogXCJNdXRlIHNjcmVlbiBzaGFyZSBhdWRpb1wiLFxuXHRcIkFsbG93IGF1ZGlvXCI6IFwiQWxsb3cgYXVkaW9cIixcblx0XCJBbGxvdyB2aWRlb1wiOiBcIkFsbG93IHZpZGVvXCIsXG5cdFwiQWxsb3cgc2NyZWVuIHNoYXJpbmdcIjogXCJBbGxvdyBzY3JlZW4gc2hhcmluZ1wiLFxuXHRcIkRpc2FibGUgYXVkaW9cIjogXCJEaXNhYmxlIGF1ZGlvXCIsXG5cdFwiRGlzYWJsZSB2aWRlb1wiOiBcIkRpc2FibGUgdmlkZW9cIixcblx0XCJEaXNhYmxlIHNjcmVlbiBzaGFyaW5nXCI6IFwiRGlzYWJsZSBzY3JlZW4gc2hhcmluZ1wiLFxuXHRFbnRlcjogRW50ZXIsXG5cdExlYXZlOiBMZWF2ZSxcblx0XCJMZWF2ZSBjYWxsXCI6IFwiTGVhdmUgY2FsbFwiLFxuXHRcIkVuZCBjYWxsIGZvciBhbGxcIjogXCJFbmQgY2FsbCBmb3IgYWxsXCIsXG5cdFwie3sgZGlyZWN0aW9uIH19IGZ1bGxzY3JlZW5cIjogXCJ7eyBkaXJlY3Rpb24gfX0gZnVsbHNjcmVlblwiLFxuXHRcInt7IGRpcmVjdGlvbiB9fSBwaWN0dXJlLWluLXBpY3R1cmVcIjogXCJ7eyBkaXJlY3Rpb24gfX0gcGljdHVyZS1pbi1waWN0dXJlXCIsXG5cdFwiRG9taW5hbnQgU3BlYWtlclwiOiBcIkRvbWluYW50IFNwZWFrZXJcIixcblx0XCJQb29yIGNvbm5lY3Rpb24gcXVhbGl0eVwiOiBcIlBvb3IgY29ubmVjdGlvbiBxdWFsaXR5LiBQbGVhc2UgY2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uLlwiLFxuXHRQYXJ0aWNpcGFudHM6IFBhcnRpY2lwYW50cyxcblx0QW5vbnltb3VzOiBBbm9ueW1vdXMsXG5cdFwiTm8gcGFydGljaXBhbnRzIGZvdW5kXCI6IFwiTm8gcGFydGljaXBhbnRzIGZvdW5kXCIsXG5cdFwiUGFydGljaXBhbnRzICh7eyBudW1iZXJPZlBhcnRpY2lwYW50cyB9fSlcIjogXCJQYXJ0aWNpcGFudHMgKHt7IG51bWJlck9mUGFydGljaXBhbnRzIH19KVwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHNoYXJpbmcgdGhlaXIgc2NyZWVuXCI6IFwie3sgdXNlck5hbWUgfX0gaXMgc2hhcmluZyB0aGVpciBzY3JlZW5cIixcblx0XCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHNwZWFrXCI6IFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzcGVha1wiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgdG8gc2hhcmUgdGhlaXIgY2FtZXJhXCI6IFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBzaGFyZSB0aGVpciBjYW1lcmFcIixcblx0XCJ7eyB1c2VyTmFtZSB9fSBpcyByZXF1ZXN0aW5nIHRvIHByZXNlbnQgdGhlaXIgc2NyZWVuXCI6IFwie3sgdXNlck5hbWUgfX0gaXMgcmVxdWVzdGluZyB0byBwcmVzZW50IHRoZWlyIHNjcmVlblwiLFxuXHRcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgcGVybWlzc2lvbjoge3sgcGVybWlzc2lvbiB9fVwiOiBcInt7IHVzZXJOYW1lIH19IGlzIHJlcXVlc3RpbmcgcGVybWlzc2lvbjoge3sgcGVybWlzc2lvbiB9fVwiXG59O1xuXG5jb25zdCB0cmFuc2xhdGlvbnMgPSB7IGVuIH07XG5cbmNvbnN0IFN0cmVhbVZpZGVvID0gKHByb3BzKSA9PiB7XG4gICAgcmV0dXJuIChqc3goU3RyZWFtVmlkZW9Qcm92aWRlciwgeyB0cmFuc2xhdGlvbnNPdmVycmlkZXM6IHRyYW5zbGF0aW9ucywgLi4ucHJvcHMgfSkpO1xufTtcblN0cmVhbVZpZGVvLmRpc3BsYXlOYW1lID0gJ1N0cmVhbVZpZGVvJztcblxuZnVuY3Rpb24gYXBwbHlGaWx0ZXIob2JqLCBmaWx0ZXIpIHtcbiAgICBpZiAoJyRhbmQnIGluIGZpbHRlcikge1xuICAgICAgICByZXR1cm4gZmlsdGVyLiRhbmQuZXZlcnkoKGYpID0+IGFwcGx5RmlsdGVyKG9iaiwgZikpO1xuICAgIH1cbiAgICBpZiAoJyRvcicgaW4gZmlsdGVyKSB7XG4gICAgICAgIHJldHVybiBmaWx0ZXIuJG9yLnNvbWUoKGYpID0+IGFwcGx5RmlsdGVyKG9iaiwgZikpO1xuICAgIH1cbiAgICBpZiAoJyRub3QnIGluIGZpbHRlcikge1xuICAgICAgICByZXR1cm4gIWFwcGx5RmlsdGVyKG9iaiwgZmlsdGVyLiRub3QpO1xuICAgIH1cbiAgICByZXR1cm4gY2hlY2tDb25kaXRpb25zKG9iaiwgZmlsdGVyKTtcbn1cbmZ1bmN0aW9uIGNoZWNrQ29uZGl0aW9ucyhvYmosIGNvbmRpdGlvbnMpIHtcbiAgICBsZXQgbWF0Y2ggPSB0cnVlO1xuICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKGNvbmRpdGlvbnMpKSB7XG4gICAgICAgIGNvbnN0IG9wZXJhdG9yID0gY29uZGl0aW9uc1trZXldO1xuICAgICAgICBjb25zdCBtYXliZU9wZXJhdG9yID0gb3BlcmF0b3IgJiYgdHlwZW9mIG9wZXJhdG9yID09PSAnb2JqZWN0JztcbiAgICAgICAgY29uc3QgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgaWYgKG1heWJlT3BlcmF0b3IgJiYgJyRlcScgaW4gb3BlcmF0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVxT3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgICAgIG1hdGNoICYmIChtYXRjaCA9IGVxT3BlcmF0b3IuJGVxID09PSB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWF5YmVPcGVyYXRvciAmJiAnJG5lcScgaW4gb3BlcmF0b3IpIHtcbiAgICAgICAgICAgIGNvbnN0IG5lcU9wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgICAgICBtYXRjaCAmJiAobWF0Y2ggPSBuZXFPcGVyYXRvci4kbmVxICE9PSB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWF5YmVPcGVyYXRvciAmJiAnJGluJyBpbiBvcGVyYXRvcikge1xuICAgICAgICAgICAgY29uc3QgaW5PcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICAgICAgbWF0Y2ggJiYgKG1hdGNoID0gaW5PcGVyYXRvci4kaW4uaW5jbHVkZXModmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChtYXliZU9wZXJhdG9yICYmICckY29udGFpbnMnIGluIG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250YWluc09wZXJhdG9yID0gb3BlcmF0b3I7XG4gICAgICAgICAgICAgICAgbWF0Y2ggJiYgKG1hdGNoID0gdmFsdWUuaW5jbHVkZXMoY29udGFpbnNPcGVyYXRvci4kY29udGFpbnMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlcVZhbHVlID0gb3BlcmF0b3I7XG4gICAgICAgICAgICBtYXRjaCAmJiAobWF0Y2ggPSBlcVZhbHVlID09PSB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5jb25zdCB1c2VGaWx0ZXJlZFBhcnRpY2lwYW50cyA9ICh7IGV4Y2x1ZGVMb2NhbFBhcnRpY2lwYW50ID0gZmFsc2UsIGZpbHRlclBhcnRpY2lwYW50cywgfSkgPT4ge1xuICAgIGNvbnN0IHsgdXNlUGFydGljaXBhbnRzLCB1c2VSZW1vdGVQYXJ0aWNpcGFudHMgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgYWxsUGFydGljaXBhbnRzID0gdXNlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgcmVtb3RlUGFydGljaXBhbnRzID0gdXNlUmVtb3RlUGFydGljaXBhbnRzKCk7XG4gICAgcmV0dXJuIHVzZU1lbW8oKCkgPT4ge1xuICAgICAgICBjb25zdCB1bmZpbHRlcmVkUGFydGljaXBhbnRzID0gZXhjbHVkZUxvY2FsUGFydGljaXBhbnRcbiAgICAgICAgICAgID8gcmVtb3RlUGFydGljaXBhbnRzXG4gICAgICAgICAgICA6IGFsbFBhcnRpY2lwYW50cztcbiAgICAgICAgcmV0dXJuIGZpbHRlclBhcnRpY2lwYW50c1xuICAgICAgICAgICAgPyBhcHBseVBhcnRpY2lwYW50c0ZpbHRlcih1bmZpbHRlcmVkUGFydGljaXBhbnRzLCBmaWx0ZXJQYXJ0aWNpcGFudHMpXG4gICAgICAgICAgICA6IHVuZmlsdGVyZWRQYXJ0aWNpcGFudHM7XG4gICAgfSwgW1xuICAgICAgICBhbGxQYXJ0aWNpcGFudHMsXG4gICAgICAgIHJlbW90ZVBhcnRpY2lwYW50cyxcbiAgICAgICAgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQsXG4gICAgICAgIGZpbHRlclBhcnRpY2lwYW50cyxcbiAgICBdKTtcbn07XG5jb25zdCBhcHBseVBhcnRpY2lwYW50c0ZpbHRlciA9IChwYXJ0aWNpcGFudHMsIGZpbHRlcikgPT4ge1xuICAgIGNvbnN0IGZpbHRlckNhbGxiYWNrID0gdHlwZW9mIGZpbHRlciA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICA/IGZpbHRlclxuICAgICAgICA6IChwYXJ0aWNpcGFudCkgPT4gYXBwbHlGaWx0ZXIoe1xuICAgICAgICAgICAgdXNlcklkOiBwYXJ0aWNpcGFudC51c2VySWQsXG4gICAgICAgICAgICBpc1NwZWFraW5nOiBwYXJ0aWNpcGFudC5pc1NwZWFraW5nLFxuICAgICAgICAgICAgaXNEb21pbmFudFNwZWFrZXI6IHBhcnRpY2lwYW50LmlzRG9taW5hbnRTcGVha2VyLFxuICAgICAgICAgICAgbmFtZTogcGFydGljaXBhbnQubmFtZSxcbiAgICAgICAgICAgIHJvbGVzOiBwYXJ0aWNpcGFudC5yb2xlcyxcbiAgICAgICAgICAgIGlzUGlubmVkOiBpc1Bpbm5lZChwYXJ0aWNpcGFudCksXG4gICAgICAgICAgICBoYXNWaWRlbzogaGFzVmlkZW8ocGFydGljaXBhbnQpLFxuICAgICAgICAgICAgaGFzQXVkaW86IGhhc0F1ZGlvKHBhcnRpY2lwYW50KSxcbiAgICAgICAgfSwgZmlsdGVyKTtcbiAgICByZXR1cm4gcGFydGljaXBhbnRzLmZpbHRlcihmaWx0ZXJDYWxsYmFjayk7XG59O1xuY29uc3QgdXNlUGFnaW5hdGVkTGF5b3V0U29ydFByZXNldCA9IChjYWxsKSA9PiB7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYWxsLnNldFNvcnRQYXJ0aWNpcGFudHNCeShwYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHJlc2V0U29ydFByZXNldChjYWxsKTtcbiAgICAgICAgfTtcbiAgICB9LCBbY2FsbF0pO1xufTtcbmNvbnN0IHVzZVNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0ID0gKGNhbGwsIGlzT25lT25PbmVDYWxsKSA9PiB7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKCFjYWxsKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAvLyBhbHdheXMgc2hvdyB0aGUgcmVtb3RlIHBhcnRpY2lwYW50IGluIHRoZSBzcG90bGlnaHRcbiAgICAgICAgaWYgKGlzT25lT25PbmVDYWxsKSB7XG4gICAgICAgICAgICBjYWxsLnNldFNvcnRQYXJ0aWNpcGFudHNCeShjb21iaW5lQ29tcGFyYXRvcnMoc2NyZWVuU2hhcmluZywgbG9nZ2VkSW4pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNhbGwuc2V0U29ydFBhcnRpY2lwYW50c0J5KHNwZWFrZXJMYXlvdXRTb3J0UHJlc2V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgcmVzZXRTb3J0UHJlc2V0KGNhbGwpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsLCBpc09uZU9uT25lQ2FsbF0pO1xufTtcbmNvbnN0IHVzZVJhd1JlbW90ZVBhcnRpY2lwYW50cyA9ICgpID0+IHtcbiAgICBjb25zdCB7IHVzZVJhd1BhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCByYXdQYXJpY2lwYW50cyA9IHVzZVJhd1BhcnRpY2lwYW50cygpO1xuICAgIHJldHVybiB1c2VNZW1vKCgpID0+IHJhd1BhcmljaXBhbnRzLmZpbHRlcigocCkgPT4gIXAuaXNMb2NhbFBhcnRpY2lwYW50KSwgW3Jhd1BhcmljaXBhbnRzXSk7XG59O1xuY29uc3QgcmVzZXRTb3J0UHJlc2V0ID0gKGNhbGwpID0+IHtcbiAgICAvLyByZXNldCB0aGUgc29ydGluZyB0byB0aGUgZGVmYXVsdCBmb3IgdGhlIGNhbGwgdHlwZVxuICAgIGNvbnN0IGNhbGxDb25maWcgPSBDYWxsVHlwZXMuZ2V0KGNhbGwudHlwZSk7XG4gICAgY2FsbC5zZXRTb3J0UGFydGljaXBhbnRzQnkoY2FsbENvbmZpZy5vcHRpb25zLnNvcnRQYXJ0aWNpcGFudHNCeSB8fCBkZWZhdWx0U29ydFByZXNldCk7XG59O1xuY29uc3QgbG9nZ2VkSW4gPSAoYSwgYikgPT4ge1xuICAgIGlmIChhLmlzTG9jYWxQYXJ0aWNpcGFudClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgaWYgKGIuaXNMb2NhbFBhcnRpY2lwYW50KVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgcmV0dXJuIDA7XG59O1xuXG5jb25zdCBMaXZlc3RyZWFtTGF5b3V0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudHMsIHVzZUhhc09uZ29pbmdTY3JlZW5TaGFyZSB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYWxsID0gdXNlQ2FsbCgpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50cyA9IHVzZVBhcnRpY2lwYW50cygpO1xuICAgIGNvbnN0IFtjdXJyZW50U3BlYWtlcl0gPSBwYXJ0aWNpcGFudHM7XG4gICAgY29uc3QgcmVtb3RlUGFydGljaXBhbnRzID0gdXNlUmF3UmVtb3RlUGFydGljaXBhbnRzKCk7XG4gICAgY29uc3QgaGFzT25nb2luZ1NjcmVlblNoYXJlID0gdXNlSGFzT25nb2luZ1NjcmVlblNoYXJlKCk7XG4gICAgY29uc3QgcHJlc2VudGVyID0gaGFzT25nb2luZ1NjcmVlblNoYXJlXG4gICAgICAgID8gcGFydGljaXBhbnRzLmZpbmQoaGFzU2NyZWVuU2hhcmUpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIHVzZVBhZ2luYXRlZExheW91dFNvcnRQcmVzZXQoY2FsbCk7XG4gICAgY29uc3Qgb3ZlcmxheSA9IChqc3goUGFydGljaXBhbnRPdmVybGF5LCB7IHNob3dQYXJ0aWNpcGFudENvdW50OiBwcm9wcy5zaG93UGFydGljaXBhbnRDb3VudCwgc2hvd0R1cmF0aW9uOiBwcm9wcy5zaG93RHVyYXRpb24sIHNob3dMaXZlQmFkZ2U6IHByb3BzLnNob3dMaXZlQmFkZ2UsIHNob3dTcGVha2VyTmFtZTogcHJvcHMuc2hvd1NwZWFrZXJOYW1lIH0pKTtcbiAgICBjb25zdCB7IGZsb2F0aW5nUGFydGljaXBhbnRQcm9wcywgbXV0ZWQgfSA9IHByb3BzO1xuICAgIGNvbnN0IGZsb2F0aW5nUGFydGljaXBhbnRPdmVybGF5ID0gaGFzT25nb2luZ1NjcmVlblNoYXJlICYmIChqc3goUGFydGljaXBhbnRPdmVybGF5XG4gICAgLy8gdGhlc2UgZWxlbWVudHMgYXJlbid0IG5lZWRlZCBmb3IgdGhlIHZpZGVvIGZlZWRcbiAgICAsIHsgXG4gICAgICAgIC8vIHRoZXNlIGVsZW1lbnRzIGFyZW4ndCBuZWVkZWQgZm9yIHRoZSB2aWRlbyBmZWVkXG4gICAgICAgIHNob3dQYXJ0aWNpcGFudENvdW50OiBmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnNob3dQYXJ0aWNpcGFudENvdW50ID8/IGZhbHNlLCBzaG93RHVyYXRpb246IGZsb2F0aW5nUGFydGljaXBhbnRQcm9wcz8uc2hvd0R1cmF0aW9uID8/IGZhbHNlLCBzaG93TGl2ZUJhZGdlOiBmbG9hdGluZ1BhcnRpY2lwYW50UHJvcHM/LnNob3dMaXZlQmFkZ2UgPz8gZmFsc2UsIHNob3dTcGVha2VyTmFtZTogZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5zaG93U3BlYWtlck5hbWUgPz8gdHJ1ZSB9KSk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3dyYXBwZXJcIiwgY2hpbGRyZW46IFshbXV0ZWQgJiYganN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pLCBoYXNPbmdvaW5nU2NyZWVuU2hhcmUgJiYgcHJlc2VudGVyICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19zY3JlZW4tc2hhcmVcIiwgcGFydGljaXBhbnQ6IHByZXNlbnRlciwgUGFydGljaXBhbnRWaWV3VUk6IG92ZXJsYXksIHRyYWNrVHlwZTogXCJzY3JlZW5TaGFyZVRyYWNrXCIsIG11dGVBdWRpbyAvLyBhdWRpbyBpcyByZW5kZXJlZCBieSBQYXJ0aWNpcGFudHNBdWRpb1xuICAgICAgICAgICAgICAgIDogdHJ1ZSB9KSksIGN1cnJlbnRTcGVha2VyICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IGNsYXNzTmFtZTogY2xzeChoYXNPbmdvaW5nU2NyZWVuU2hhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgY2xzeCgnc3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZmxvYXRpbmctcGFydGljaXBhbnQnLCBgc3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fZmxvYXRpbmctcGFydGljaXBhbnQtLSR7ZmxvYXRpbmdQYXJ0aWNpcGFudFByb3BzPy5wb3NpdGlvbiA/PyAndG9wLXJpZ2h0J31gKSksIHBhcnRpY2lwYW50OiBjdXJyZW50U3BlYWtlciwgUGFydGljaXBhbnRWaWV3VUk6IGZsb2F0aW5nUGFydGljaXBhbnRPdmVybGF5IHx8IG92ZXJsYXksIG1pcnJvcjogcHJvcHMubWlycm9yTG9jYWxQYXJ0aWNpcGFudFZpZGVvICE9PSBmYWxzZSA/IHVuZGVmaW5lZCA6IGZhbHNlLCBtdXRlQXVkaW8gLy8gYXVkaW8gaXMgcmVuZGVyZWQgYnkgUGFydGljaXBhbnRzQXVkaW9cbiAgICAgICAgICAgICAgICA6IHRydWUgfSkpXSB9KSk7XG59O1xuTGl2ZXN0cmVhbUxheW91dC5kaXNwbGF5TmFtZSA9ICdMaXZlc3RyZWFtTGF5b3V0JztcbmNvbnN0IEJhY2tzdGFnZUxheW91dCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgc2hvd0Vhcmx5UGFydGljaXBhbnRDb3VudCA9IHRydWUgfSA9IHByb3BzO1xuICAgIGNvbnN0IHsgdXNlUGFydGljaXBhbnRDb3VudCwgdXNlQ2FsbFN0YXJ0c0F0IH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50Q291bnQgPSB1c2VQYXJ0aWNpcGFudENvdW50KCk7XG4gICAgY29uc3Qgc3RhcnRzQXQgPSB1c2VDYWxsU3RhcnRzQXQoKTtcbiAgICBjb25zdCB7IHQgfSA9IHVzZUkxOG4oKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X193cmFwcGVyXCIsIGNoaWxkcmVuOiBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX2JhY2tzdGFnZVwiLCBjaGlsZHJlbjogW3N0YXJ0c0F0ICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3N0YXJ0cy1hdFwiLCBjaGlsZHJlbjogc3RhcnRzQXQuZ2V0VGltZSgpIDwgRGF0ZS5ub3coKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0KCdMaXZlc3RyZWFtIHN0YXJ0cyBzb29uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogdCgnTGl2ZXN0cmVhbSBzdGFydHMgYXQge3sgc3RhcnRzQXQgfX0nLCB7IHN0YXJ0c0F0IH0pIH0pKSwgc2hvd0Vhcmx5UGFydGljaXBhbnRDb3VudCAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19lYXJseS12aWV3ZXJzLWNvdW50XCIsIGNoaWxkcmVuOiB0KCd7eyBjb3VudCB9fSBwYXJ0aWNpcGFudHMgam9pbmVkIGVhcmx5Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgY291bnQ6IHBhcnRpY2lwYW50Q291bnQsXG4gICAgICAgICAgICAgICAgICAgIH0pIH0pKV0gfSkgfSkpO1xufTtcbkJhY2tzdGFnZUxheW91dC5kaXNwbGF5TmFtZSA9ICdCYWNrc3RhZ2VMYXlvdXQnO1xuY29uc3QgUGFydGljaXBhbnRPdmVybGF5ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyBlbmFibGVGdWxsU2NyZWVuID0gdHJ1ZSwgc2hvd1BhcnRpY2lwYW50Q291bnQgPSB0cnVlLCBzaG93RHVyYXRpb24gPSB0cnVlLCBzaG93TGl2ZUJhZGdlID0gdHJ1ZSwgc2hvd1NwZWFrZXJOYW1lID0gZmFsc2UsIH0gPSBwcm9wcztcbiAgICBjb25zdCB7IHBhcnRpY2lwYW50IH0gPSB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0KCk7XG4gICAgY29uc3QgeyB1c2VQYXJ0aWNpcGFudENvdW50IH0gPSB1c2VDYWxsU3RhdGVIb29rcygpO1xuICAgIGNvbnN0IHBhcnRpY2lwYW50Q291bnQgPSB1c2VQYXJ0aWNpcGFudENvdW50KCk7XG4gICAgY29uc3QgZHVyYXRpb24gPSB1c2VVcGRhdGVDYWxsRHVyYXRpb24oKTtcbiAgICBjb25zdCB0b2dnbGVGdWxsU2NyZWVuID0gdXNlVG9nZ2xlRnVsbFNjcmVlbigpO1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX292ZXJsYXlcIiwgY2hpbGRyZW46IGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19saXZlc3RyZWFtLWxheW91dF9fb3ZlcmxheV9fYmFyXCIsIGNoaWxkcmVuOiBbc2hvd0xpdmVCYWRnZSAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19saXZlLWJhZGdlXCIsIGNoaWxkcmVuOiB0KCdMaXZlJykgfSkpLCBzaG93UGFydGljaXBhbnRDb3VudCAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X192aWV3ZXJzLWNvdW50XCIsIGNoaWxkcmVuOiBwYXJ0aWNpcGFudENvdW50IH0pKSwgc2hvd1NwZWFrZXJOYW1lICYmIChqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fbGl2ZXN0cmVhbS1sYXlvdXRfX3NwZWFrZXItbmFtZVwiLCB0aXRsZTogcGFydGljaXBhbnQubmFtZSB8fCBwYXJ0aWNpcGFudC51c2VySWQgfHwgJycsIGNoaWxkcmVuOiBwYXJ0aWNpcGFudC5uYW1lIHx8IHBhcnRpY2lwYW50LnVzZXJJZCB8fCAnJyB9KSksIHNob3dEdXJhdGlvbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19kdXJhdGlvblwiLCBjaGlsZHJlbjogZm9ybWF0RHVyYXRpb24oZHVyYXRpb24pIH0pKSwgZW5hYmxlRnVsbFNjcmVlbiAmJiAoanN4KFwic3BhblwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2xpdmVzdHJlYW0tbGF5b3V0X19nby1mdWxsc2NyZWVuXCIsIG9uQ2xpY2s6IHRvZ2dsZUZ1bGxTY3JlZW4gfSkpXSB9KSB9KSk7XG59O1xuY29uc3QgdXNlVXBkYXRlQ2FsbER1cmF0aW9uID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgdXNlSXNDYWxsTGl2ZSwgdXNlQ2FsbFNlc3Npb24gfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgaXNDYWxsTGl2ZSA9IHVzZUlzQ2FsbExpdmUoKTtcbiAgICBjb25zdCBzZXNzaW9uID0gdXNlQ2FsbFNlc3Npb24oKTtcbiAgICBjb25zdCBbZHVyYXRpb24sIHNldER1cmF0aW9uXSA9IHVzZVN0YXRlKCgpID0+IHtcbiAgICAgICAgaWYgKCFzZXNzaW9uIHx8ICFzZXNzaW9uLmxpdmVfc3RhcnRlZF9hdClcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICBjb25zdCBsaXZlU3RhcnRUaW1lID0gbmV3IERhdGUoc2Vzc2lvbi5saXZlX3N0YXJ0ZWRfYXQpO1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGxpdmVTdGFydFRpbWUuZ2V0VGltZSgpKSAvIDEwMDApO1xuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaXNDYWxsTGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgICBzZXREdXJhdGlvbigoZCkgPT4gZCArIDEpO1xuICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgICAgICB9O1xuICAgIH0sIFtpc0NhbGxMaXZlXSk7XG4gICAgcmV0dXJuIGR1cmF0aW9uO1xufTtcbmNvbnN0IHVzZVRvZ2dsZUZ1bGxTY3JlZW4gPSAoKSA9PiB7XG4gICAgY29uc3QgeyBwYXJ0aWNpcGFudFZpZXdFbGVtZW50IH0gPSB1c2VQYXJ0aWNpcGFudFZpZXdDb250ZXh0KCk7XG4gICAgY29uc3QgW2lzRnVsbHNjcmVlbiwgc2V0SXNGdWxsc2NyZWVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICByZXR1cm4gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgICBpZiAoaXNGdWxsc2NyZWVuKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5leGl0RnVsbHNjcmVlbigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldElzRnVsbHNjcmVlbihmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHBhcnRpY2lwYW50Vmlld0VsZW1lbnQ/LnJlcXVlc3RGdWxsc2NyZWVuKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0SXNGdWxsc2NyZWVuKHRydWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCBbaXNGdWxsc2NyZWVuLCBwYXJ0aWNpcGFudFZpZXdFbGVtZW50XSk7XG59O1xuY29uc3QgZm9ybWF0RHVyYXRpb24gPSAoZHVyYXRpb25Jbk1zKSA9PiB7XG4gICAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IoZHVyYXRpb25Jbk1zIC8gODY0MDApO1xuICAgIGNvbnN0IGhvdXJzID0gTWF0aC5mbG9vcihkdXJhdGlvbkluTXMgLyAzNjAwKTtcbiAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcigoZHVyYXRpb25Jbk1zICUgMzYwMCkgLyA2MCk7XG4gICAgY29uc3Qgc2Vjb25kcyA9IGR1cmF0aW9uSW5NcyAlIDYwO1xuICAgIHJldHVybiBgJHtkYXlzID8gZGF5cyArICcgJyA6ICcnfSR7aG91cnMgPyBob3VycyArICc6JyA6ICcnfSR7bWludXRlcyA8IDEwID8gJzAnIDogJyd9JHttaW51dGVzfToke3NlY29uZHMgPCAxMCA/ICcwJyA6ICcnfSR7c2Vjb25kc31gO1xufTtcblxuY29uc3QgR1JPVVBfU0laRSA9IDE2O1xuY29uc3QgUGFnaW5hdGVkR3JpZExheW91dEdyb3VwID0gKHsgZ3JvdXAsIG1pcnJvciwgVmlkZW9QbGFjZWhvbGRlciwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSSwgfSkgPT4ge1xuICAgIHJldHVybiAoanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3BhZ2luYXRlZC1ncmlkLWxheW91dF9fZ3JvdXAnLCB7XG4gICAgICAgICAgICAnc3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXQtLW9uZSc6IGdyb3VwLmxlbmd0aCA9PT0gMSxcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3BhZ2luYXRlZC1ncmlkLWxheW91dC0tdHdvLWZvdXInOiBncm91cC5sZW5ndGggPj0gMiAmJiBncm91cC5sZW5ndGggPD0gNCxcbiAgICAgICAgICAgICdzdHItdmlkZW9fX3BhZ2luYXRlZC1ncmlkLWxheW91dC0tZml2ZS1uaW5lJzogZ3JvdXAubGVuZ3RoID49IDUgJiYgZ3JvdXAubGVuZ3RoIDw9IDksXG4gICAgICAgIH0pLCBjaGlsZHJlbjogZ3JvdXAubWFwKChwYXJ0aWNpcGFudCkgPT4gKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCBtdXRlQXVkaW86IHRydWUsIG1pcnJvcjogbWlycm9yLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJIH0sIHBhcnRpY2lwYW50LnNlc3Npb25JZCkpKSB9KSk7XG59O1xuY29uc3QgUGFnaW5hdGVkR3JpZExheW91dCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgZ3JvdXBTaXplID0gKHByb3BzLmdyb3VwU2l6ZSB8fCAwKSA+IDBcbiAgICAgICAgPyBwcm9wcy5ncm91cFNpemUgfHwgR1JPVVBfU0laRVxuICAgICAgICA6IEdST1VQX1NJWkUsIGV4Y2x1ZGVMb2NhbFBhcnRpY2lwYW50ID0gZmFsc2UsIGZpbHRlclBhcnRpY2lwYW50cywgbWlycm9yTG9jYWxQYXJ0aWNpcGFudFZpZGVvID0gdHJ1ZSwgcGFnZUFycm93c1Zpc2libGUgPSB0cnVlLCBWaWRlb1BsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSSA9IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCBtdXRlZCwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtwYWdlLCBzZXRQYWdlXSA9IHVzZVN0YXRlKDApO1xuICAgIGNvbnN0IFtwYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQsIHNldFBhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCxdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSYXdSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VGaWx0ZXJlZFBhcnRpY2lwYW50cyh7XG4gICAgICAgIGV4Y2x1ZGVMb2NhbFBhcnRpY2lwYW50LFxuICAgICAgICBmaWx0ZXJQYXJ0aWNpcGFudHMsXG4gICAgfSk7XG4gICAgdXNlUGFnaW5hdGVkTGF5b3V0U29ydFByZXNldChjYWxsKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIXBhZ2luYXRlZEdyaWRMYXlvdXRXcmFwcGVyRWxlbWVudCB8fCAhY2FsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY2xlYW51cCA9IGNhbGwuc2V0Vmlld3BvcnQocGFnaW5hdGVkR3JpZExheW91dFdyYXBwZXJFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFudXAoKTtcbiAgICB9LCBbcGFnaW5hdGVkR3JpZExheW91dFdyYXBwZXJFbGVtZW50LCBjYWxsXSk7XG4gICAgLy8gb25seSB1c2VkIHRvIHJlbmRlciB2aWRlbyBlbGVtZW50c1xuICAgIGNvbnN0IHBhcnRpY2lwYW50R3JvdXBzID0gdXNlTWVtbygoKSA9PiBjaHVuayhwYXJ0aWNpcGFudHMsIGdyb3VwU2l6ZSksIFtwYXJ0aWNpcGFudHMsIGdyb3VwU2l6ZV0pO1xuICAgIGNvbnN0IHBhZ2VDb3VudCA9IHBhcnRpY2lwYW50R3JvdXBzLmxlbmd0aDtcbiAgICAvLyB1cGRhdGUgcGFnZSB3aGVuIHBhZ2UgY291bnQgaXMgcmVkdWNlZCBhbmQgc2VsZWN0ZWQgcGFnZSBubyBsb25nZXIgZXhpc3RzXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKHBhZ2UgPiBwYWdlQ291bnQgLSAxKSB7XG4gICAgICAgICAgICBzZXRQYWdlKE1hdGgubWF4KDAsIHBhZ2VDb3VudCAtIDEpKTtcbiAgICAgICAgfVxuICAgIH0sIFtwYWdlLCBwYWdlQ291bnRdKTtcbiAgICBjb25zdCBzZWxlY3RlZEdyb3VwID0gcGFydGljaXBhbnRHcm91cHNbcGFnZV07XG4gICAgY29uc3QgbWlycm9yID0gbWlycm9yTG9jYWxQYXJ0aWNpcGFudFZpZGVvID8gdW5kZWZpbmVkIDogZmFsc2U7XG4gICAgaWYgKCFjYWxsKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gKGpzeHMoXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19wYWdpbmF0ZWQtZ3JpZC1sYXlvdXRfX3dyYXBwZXJcIiwgcmVmOiBzZXRQYWdpbmF0ZWRHcmlkTGF5b3V0V3JhcHBlckVsZW1lbnQsIGNoaWxkcmVuOiBbIW11dGVkICYmIGpzeChQYXJ0aWNpcGFudHNBdWRpbywgeyBwYXJ0aWNpcGFudHM6IHJlbW90ZVBhcnRpY2lwYW50cyB9KSwganN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BhZ2luYXRlZC1ncmlkLWxheW91dFwiLCBjaGlsZHJlbjogW3BhZ2VBcnJvd3NWaXNpYmxlICYmIHBhZ2VDb3VudCA+IDEgJiYgKGpzeChJY29uQnV0dG9uLCB7IGljb246IFwiY2FyZXQtbGVmdFwiLCBkaXNhYmxlZDogcGFnZSA9PT0gMCwgb25DbGljazogKCkgPT4gc2V0UGFnZSgoY3VycmVudFBhZ2UpID0+IE1hdGgubWF4KDAsIGN1cnJlbnRQYWdlIC0gMSkpIH0pKSwgc2VsZWN0ZWRHcm91cCAmJiAoanN4KFBhZ2luYXRlZEdyaWRMYXlvdXRHcm91cCwgeyBncm91cDogc2VsZWN0ZWRHcm91cCwgbWlycm9yOiBtaXJyb3IsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSSwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyOiBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIgfSkpLCBwYWdlQXJyb3dzVmlzaWJsZSAmJiBwYWdlQ291bnQgPiAxICYmIChqc3goSWNvbkJ1dHRvbiwgeyBkaXNhYmxlZDogcGFnZSA9PT0gcGFnZUNvdW50IC0gMSwgaWNvbjogXCJjYXJldC1yaWdodFwiLCBvbkNsaWNrOiAoKSA9PiBzZXRQYWdlKChjdXJyZW50UGFnZSkgPT4gTWF0aC5taW4ocGFnZUNvdW50IC0gMSwgY3VycmVudFBhZ2UgKyAxKSkgfSkpXSB9KV0gfSkpO1xufTtcblBhZ2luYXRlZEdyaWRMYXlvdXQuZGlzcGxheU5hbWUgPSAnUGFnaW5hdGVkR3JpZExheW91dCc7XG5cbmNvbnN0IHVzZUNhbGN1bGF0ZUhhcmRMaW1pdCA9IChcbi8qKlxuICogRWxlbWVudCB0aGF0IHN0cmV0Y2hlcyB0byAxMDAlIG9mIHRoZSB3aG9sZSBsYXlvdXQgY29tcG9uZW50XG4gKi9cbndyYXBwZXJFbGVtZW50LCBcbi8qKlxuICogRWxlbWVudCB0aGF0IGRpcmVjdGx5IGhvc3RzIGluZGl2aWR1YWwgYFBhcnRpY2lwYW50Vmlld2AgKG9yIHdyYXBwZXIpIGVsZW1lbnRzXG4gKi9cbmhvc3RFbGVtZW50LCBsaW1pdCkgPT4ge1xuICAgIGNvbnN0IFtjYWxjdWxhdGVkTGltaXQsIHNldENhbGN1bGF0ZWRMaW1pdF0gPSB1c2VTdGF0ZSh7XG4gICAgICAgIHZlcnRpY2FsOiB0eXBlb2YgbGltaXQgPT09ICdudW1iZXInID8gbGltaXQgOiBudWxsLFxuICAgICAgICBob3Jpem9udGFsOiB0eXBlb2YgbGltaXQgPT09ICdudW1iZXInID8gbGltaXQgOiBudWxsLFxuICAgIH0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghaG9zdEVsZW1lbnQgfHxcbiAgICAgICAgICAgICF3cmFwcGVyRWxlbWVudCB8fFxuICAgICAgICAgICAgdHlwZW9mIGxpbWl0ID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgdHlwZW9mIGxpbWl0ID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGNoaWxkV2lkdGggPSBudWxsO1xuICAgICAgICBsZXQgY2hpbGRIZWlnaHQgPSBudWxsO1xuICAgICAgICBjb25zdCByZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcigoZW50cmllcywgb2JzZXJ2ZXIpID0+IHtcbiAgICAgICAgICAgIC8vIHRoaXMgcGFydCBzaG91bGQgaWRlYWxseSBydW4gYXMgbGl0dGxlIHRpbWVzIGFzIHBvc3NpYmxlXG4gICAgICAgICAgICAvLyBnZXQgY2hpbGQgbWVhc3VyZW1lbnRzIGFuZCBkaXNjb25uZWN0XG4gICAgICAgICAgICAvLyBkb2VzIG5vdCBjb25zaWRlciBkeW5hbWljYWxseSBzaXplZCBjaGlsZHJlblxuICAgICAgICAgICAgLy8gdGhpcyBob29rIGlzIGZvciBTcGVha2VyTGF5b3V0IHVzZSBvbmx5LCB3aGVyZSBjaGlsZHJlbiBpbiB0aGUgYmFyIGFyZSBmaXhlZCBzaXplXG4gICAgICAgICAgICBpZiAoZW50cmllcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSBob3N0RWxlbWVudC5maXJzdENoaWxkO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZEhlaWdodCA9IGNoaWxkLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRXaWR0aCA9IGNoaWxkLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci51bm9ic2VydmUoaG9zdEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGtlZXAgdGhlIHN0YXRlIGF0IHsgdmVydGljYWw6IDEsIGhvcml6b250YWw6IDEgfVxuICAgICAgICAgICAgLy8gdW50aWwgd2UgZ2V0IHRoZSBwcm9wZXIgY2hpbGQgbWVhc3VyZW1lbnRzXG4gICAgICAgICAgICBpZiAoY2hpbGRIZWlnaHQgPT09IG51bGwgfHwgY2hpbGRXaWR0aCA9PT0gbnVsbClcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjb25zdCB2ZXJ0aWNhbCA9IE1hdGguZmxvb3Iod3JhcHBlckVsZW1lbnQuY2xpZW50SGVpZ2h0IC8gY2hpbGRIZWlnaHQpO1xuICAgICAgICAgICAgY29uc3QgaG9yaXpvbnRhbCA9IE1hdGguZmxvb3Iod3JhcHBlckVsZW1lbnQuY2xpZW50V2lkdGggLyBjaGlsZFdpZHRoKTtcbiAgICAgICAgICAgIHNldENhbGN1bGF0ZWRMaW1pdCgocHYpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocHYudmVydGljYWwgIT09IHZlcnRpY2FsIHx8IHB2Lmhvcml6b250YWwgIT09IGhvcml6b250YWwpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZlcnRpY2FsLCBob3Jpem9udGFsIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHB2O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXNpemVPYnNlcnZlci5vYnNlcnZlKHdyYXBwZXJFbGVtZW50KTtcbiAgICAgICAgcmVzaXplT2JzZXJ2ZXIub2JzZXJ2ZShob3N0RWxlbWVudCk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICByZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH07XG4gICAgfSwgW2hvc3RFbGVtZW50LCBsaW1pdCwgd3JhcHBlckVsZW1lbnRdKTtcbiAgICByZXR1cm4gY2FsY3VsYXRlZExpbWl0O1xufTtcblxuY29uc3QgRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJQmFyID0gKCkgPT4gKGpzeChEZWZhdWx0UGFydGljaXBhbnRWaWV3VUksIHsgbWVudVBsYWNlbWVudDogXCJ0b3AtZW5kXCIgfSkpO1xuY29uc3QgU3BlYWtlckxheW91dCA9ICh7IFBhcnRpY2lwYW50Vmlld1VJQmFyID0gRGVmYXVsdFBhcnRpY2lwYW50Vmlld1VJQmFyLCBQYXJ0aWNpcGFudFZpZXdVSVNwb3RsaWdodCA9IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgVmlkZW9QbGFjZWhvbGRlciwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyLCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9ICdib3R0b20nLCBwYXJ0aWNpcGFudHNCYXJMaW1pdCwgbWlycm9yTG9jYWxQYXJ0aWNpcGFudFZpZGVvID0gdHJ1ZSwgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQgPSBmYWxzZSwgZmlsdGVyUGFydGljaXBhbnRzLCBwYWdlQXJyb3dzVmlzaWJsZSA9IHRydWUsIG11dGVkLCB9KSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZVBhcnRpY2lwYW50cyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBhbGxQYXJ0aWNpcGFudHMgPSB1c2VQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSYXdSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICBjb25zdCBbcGFydGljaXBhbnRJblNwb3RsaWdodCwgLi4ub3RoZXJQYXJ0aWNpcGFudHNdID0gdXNlRmlsdGVyZWRQYXJ0aWNpcGFudHMoeyBleGNsdWRlTG9jYWxQYXJ0aWNpcGFudCwgZmlsdGVyUGFydGljaXBhbnRzIH0pO1xuICAgIGNvbnN0IFtwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCwgc2V0UGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW3BhcnRpY2lwYW50c0JhckVsZW1lbnQsIHNldFBhcnRpY2lwYW50c0JhckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgW2J1dHRvbnNXcmFwcGVyRWxlbWVudCwgc2V0QnV0dG9uc1dyYXBwZXJFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICAgIGNvbnN0IGlzU3BlYWtlclNjcmVlblNoYXJpbmcgPSBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0ICYmIGhhc1NjcmVlblNoYXJlKHBhcnRpY2lwYW50SW5TcG90bGlnaHQpO1xuICAgIGNvbnN0IGhhcmRMaW1pdCA9IHVzZUNhbGN1bGF0ZUhhcmRMaW1pdChidXR0b25zV3JhcHBlckVsZW1lbnQsIHBhcnRpY2lwYW50c0JhckVsZW1lbnQsIHBhcnRpY2lwYW50c0JhckxpbWl0KTtcbiAgICBjb25zdCBpc1ZlcnRpY2FsID0gcGFydGljaXBhbnRzQmFyUG9zaXRpb24gPT09ICdsZWZ0JyB8fCBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ3JpZ2h0JztcbiAgICBjb25zdCBpc0hvcml6b250YWwgPSBwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbiA9PT0gJ3RvcCcgfHwgcGFydGljaXBhbnRzQmFyUG9zaXRpb24gPT09ICdib3R0b20nO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGNsZWFudXAgPSBjYWxsLnNldFZpZXdwb3J0KHBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50KTtcbiAgICAgICAgcmV0dXJuICgpID0+IGNsZWFudXAoKTtcbiAgICB9LCBbcGFydGljaXBhbnRzQmFyV3JhcHBlckVsZW1lbnQsIGNhbGxdKTtcbiAgICBjb25zdCBpc09uZU9uT25lQ2FsbCA9IGFsbFBhcnRpY2lwYW50cy5sZW5ndGggPT09IDI7XG4gICAgdXNlU3BlYWtlckxheW91dFNvcnRQcmVzZXQoY2FsbCwgaXNPbmVPbk9uZUNhbGwpO1xuICAgIGxldCBwYXJ0aWNpcGFudHNXaXRoQXBwbGllZExpbWl0ID0gb3RoZXJQYXJ0aWNpcGFudHM7XG4gICAgY29uc3QgaGFyZExpbWl0VG9BcHBseSA9IGlzVmVydGljYWxcbiAgICAgICAgPyBoYXJkTGltaXQudmVydGljYWxcbiAgICAgICAgOiBoYXJkTGltaXQuaG9yaXpvbnRhbDtcbiAgICBpZiAodHlwZW9mIHBhcnRpY2lwYW50c0JhckxpbWl0ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICBoYXJkTGltaXRUb0FwcGx5ICE9PSBudWxsKSB7XG4gICAgICAgIHBhcnRpY2lwYW50c1dpdGhBcHBsaWVkTGltaXQgPSBvdGhlclBhcnRpY2lwYW50cy5zbGljZSgwLCBcbiAgICAgICAgLy8gc3VidHJhY3QgMSBpZiBzcGVha2VyIGlzIHNoYXJpbmcgc2NyZWVuIGFzXG4gICAgICAgIC8vIHRoYXQgb25lIGlzIHJlbmRlcmVkIGluZGVwZW5kZW50bHkgZnJvbSBvdGhlclBhcnRpY2lwYW50cyBhcnJheVxuICAgICAgICBoYXJkTGltaXRUb0FwcGx5IC0gKGlzU3BlYWtlclNjcmVlblNoYXJpbmcgPyAxIDogMCkpO1xuICAgIH1cbiAgICBjb25zdCBtaXJyb3IgPSBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPyB1bmRlZmluZWQgOiBmYWxzZTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHJlbmRlclBhcnRpY2lwYW50c0JhciA9IHBhcnRpY2lwYW50c0JhclBvc2l0aW9uICYmXG4gICAgICAgIChwYXJ0aWNpcGFudHNXaXRoQXBwbGllZExpbWl0Lmxlbmd0aCA+IDAgfHwgaXNTcGVha2VyU2NyZWVuU2hhcmluZyk7XG4gICAgcmV0dXJuIChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3dyYXBwZXJcIiwgY2hpbGRyZW46IFshbXV0ZWQgJiYganN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pLCBqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBjbHN4KCdzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0JywgcGFydGljaXBhbnRzQmFyUG9zaXRpb24gJiZcbiAgICAgICAgICAgICAgICAgICAgYHN0ci12aWRlb19fc3BlYWtlci1sYXlvdXQtLXZhcmlhbnQtJHtwYXJ0aWNpcGFudHNCYXJQb3NpdGlvbn1gKSwgY2hpbGRyZW46IFtqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fc3BvdGxpZ2h0XCIsIGNoaWxkcmVuOiBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0ICYmIChqc3goUGFydGljaXBhbnRWaWV3LCB7IHBhcnRpY2lwYW50OiBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0LCBtdXRlQXVkaW86IHRydWUsIG1pcnJvcjogbWlycm9yLCB0cmFja1R5cGU6IGlzU3BlYWtlclNjcmVlblNoYXJpbmcgPyAnc2NyZWVuU2hhcmVUcmFjaycgOiAndmlkZW9UcmFjaycsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSVNwb3RsaWdodCwgVmlkZW9QbGFjZWhvbGRlcjogVmlkZW9QbGFjZWhvbGRlciwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyOiBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIgfSkpIH0pLCByZW5kZXJQYXJ0aWNpcGFudHNCYXIgJiYgKGpzeHMoXCJkaXZcIiwgeyByZWY6IHNldEJ1dHRvbnNXcmFwcGVyRWxlbWVudCwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItYnV0dG9ucy13cmFwcGVyXCIsIGNoaWxkcmVuOiBbanN4KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItd3JhcHBlclwiLCByZWY6IHNldFBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50LCBjaGlsZHJlbjoganN4cyhcImRpdlwiLCB7IHJlZjogc2V0UGFydGljaXBhbnRzQmFyRWxlbWVudCwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXJcIiwgY2hpbGRyZW46IFtpc1NwZWFrZXJTY3JlZW5TaGFyaW5nICYmIChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnQtdGlsZVwiLCBjaGlsZHJlbjoganN4KFBhcnRpY2lwYW50VmlldywgeyBwYXJ0aWNpcGFudDogcGFydGljaXBhbnRJblNwb3RsaWdodCwgUGFydGljaXBhbnRWaWV3VUk6IFBhcnRpY2lwYW50Vmlld1VJQmFyLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXI6IFBpY3R1cmVJblBpY3R1cmVQbGFjZWhvbGRlciwgbWlycm9yOiBtaXJyb3IsIG11dGVBdWRpbzogdHJ1ZSB9KSB9LCBwYXJ0aWNpcGFudEluU3BvdGxpZ2h0LnNlc3Npb25JZCkpLCBwYXJ0aWNpcGFudHNXaXRoQXBwbGllZExpbWl0Lm1hcCgocGFydGljaXBhbnQpID0+IChqc3goXCJkaXZcIiwgeyBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnQtdGlsZVwiLCBjaGlsZHJlbjoganN4KFBhcnRpY2lwYW50VmlldywgeyBwYXJ0aWNpcGFudDogcGFydGljaXBhbnQsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSUJhciwgVmlkZW9QbGFjZWhvbGRlcjogVmlkZW9QbGFjZWhvbGRlciwgUGljdHVyZUluUGljdHVyZVBsYWNlaG9sZGVyOiBQaWN0dXJlSW5QaWN0dXJlUGxhY2Vob2xkZXIsIG1pcnJvcjogbWlycm9yLCBtdXRlQXVkaW86IHRydWUgfSkgfSwgcGFydGljaXBhbnQuc2Vzc2lvbklkKSkpXSB9KSB9KSwgcGFnZUFycm93c1Zpc2libGUgJiYgaXNWZXJ0aWNhbCAmJiAoanN4KFZlcnRpY2FsU2Nyb2xsQnV0dG9ucywgeyBzY3JvbGxXcmFwcGVyOiBwYXJ0aWNpcGFudHNCYXJXcmFwcGVyRWxlbWVudCB9KSksIHBhZ2VBcnJvd3NWaXNpYmxlICYmIGlzSG9yaXpvbnRhbCAmJiAoanN4KEhvcml6b250YWxTY3JvbGxCdXR0b25zLCB7IHNjcm9sbFdyYXBwZXI6IHBhcnRpY2lwYW50c0JhcldyYXBwZXJFbGVtZW50IH0pKV0gfSkpXSB9KV0gfSkpO1xufTtcblNwZWFrZXJMYXlvdXQuZGlzcGxheU5hbWUgPSAnU3BlYWtlckxheW91dCc7XG5jb25zdCBIb3Jpem9udGFsU2Nyb2xsQnV0dG9ucyA9ICh7IHNjcm9sbFdyYXBwZXIsIH0pID0+IHtcbiAgICBjb25zdCBzY3JvbGxQb3NpdGlvbiA9IHVzZUhvcml6b250YWxTY3JvbGxQb3NpdGlvbihzY3JvbGxXcmFwcGVyKTtcbiAgICBjb25zdCBzY3JvbGxTdGFydENsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyBsZWZ0OiAtMTUwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfTtcbiAgICBjb25zdCBzY3JvbGxFbmRDbGlja0hhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgIHNjcm9sbFdyYXBwZXI/LnNjcm9sbEJ5KHsgbGVmdDogMTUwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gKGpzeHMoRnJhZ21lbnQsIHsgY2hpbGRyZW46IFtzY3JvbGxQb3NpdGlvbiAmJiBzY3JvbGxQb3NpdGlvbiAhPT0gJ3N0YXJ0JyAmJiAoanN4KEljb25CdXR0b24sIHsgb25DbGljazogc2Nyb2xsU3RhcnRDbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtbGVmdFwiLCBjbGFzc05hbWU6IFwic3RyLXZpZGVvX19zcGVha2VyLWxheW91dF9fcGFydGljaXBhbnRzLWJhci0tYnV0dG9uLWxlZnRcIiB9KSksIHNjcm9sbFBvc2l0aW9uICYmIHNjcm9sbFBvc2l0aW9uICE9PSAnZW5kJyAmJiAoanN4KEljb25CdXR0b24sIHsgb25DbGljazogc2Nyb2xsRW5kQ2xpY2tIYW5kbGVyLCBpY29uOiBcImNhcmV0LXJpZ2h0XCIsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3NwZWFrZXItbGF5b3V0X19wYXJ0aWNpcGFudHMtYmFyLS1idXR0b24tcmlnaHRcIiB9KSldIH0pKTtcbn07XG5jb25zdCBWZXJ0aWNhbFNjcm9sbEJ1dHRvbnMgPSAoeyBzY3JvbGxXcmFwcGVyLCB9KSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsUG9zaXRpb24gPSB1c2VWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uKHNjcm9sbFdyYXBwZXIpO1xuICAgIGNvbnN0IHNjcm9sbFRvcENsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyB0b3A6IC0xNTAsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICB9O1xuICAgIGNvbnN0IHNjcm9sbEJvdHRvbUNsaWNrSGFuZGxlciA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsV3JhcHBlcj8uc2Nyb2xsQnkoeyB0b3A6IDE1MCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIChqc3hzKEZyYWdtZW50LCB7IGNoaWxkcmVuOiBbc2Nyb2xsUG9zaXRpb24gJiYgc2Nyb2xsUG9zaXRpb24gIT09ICd0b3AnICYmIChqc3goSWNvbkJ1dHRvbiwgeyBvbkNsaWNrOiBzY3JvbGxUb3BDbGlja0hhbmRsZXIsIGljb246IFwiY2FyZXQtdXBcIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItLWJ1dHRvbi10b3BcIiB9KSksIHNjcm9sbFBvc2l0aW9uICYmIHNjcm9sbFBvc2l0aW9uICE9PSAnYm90dG9tJyAmJiAoanN4KEljb25CdXR0b24sIHsgb25DbGljazogc2Nyb2xsQm90dG9tQ2xpY2tIYW5kbGVyLCBpY29uOiBcImNhcmV0LWRvd25cIiwgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fc3BlYWtlci1sYXlvdXRfX3BhcnRpY2lwYW50cy1iYXItLWJ1dHRvbi1ib3R0b21cIiB9KSldIH0pKTtcbn07XG5cbmNvbnN0IFBpcCA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgdCB9ID0gdXNlSTE4bigpO1xuICAgIGNvbnN0IHsgZXhjbHVkZUxvY2FsUGFydGljaXBhbnQgPSBmYWxzZSwgZmlsdGVyUGFydGljaXBhbnRzLCBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPSB0cnVlLCBWaWRlb1BsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSSA9IERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgfSA9IHByb3BzO1xuICAgIGNvbnN0IFtsYXlvdXRXcmFwcGVyRWxlbWVudCwgc2V0TGF5b3V0V3JhcHBlckVsZW1lbnRdID0gdXNlU3RhdGUobnVsbCk7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCBwYXJ0aWNpcGFudHMgPSB1c2VGaWx0ZXJlZFBhcnRpY2lwYW50cyh7XG4gICAgICAgIGV4Y2x1ZGVMb2NhbFBhcnRpY2lwYW50LFxuICAgICAgICBmaWx0ZXJQYXJ0aWNpcGFudHMsXG4gICAgfSk7XG4gICAgY29uc3Qgc2NyZWVuU2hhcmluZ1BhcnRpY2lwYW50ID0gcGFydGljaXBhbnRzLmZpbmQoKHApID0+IGhhc1NjcmVlblNoYXJlKHApKTtcbiAgICB1c2VQYWdpbmF0ZWRMYXlvdXRTb3J0UHJlc2V0KGNhbGwpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghbGF5b3V0V3JhcHBlckVsZW1lbnQgfHwgIWNhbGwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBjYWxsLnNldFZpZXdwb3J0KGxheW91dFdyYXBwZXJFbGVtZW50KTtcbiAgICB9LCBbbGF5b3V0V3JhcHBlckVsZW1lbnQsIGNhbGxdKTtcbiAgICBjb25zdCBtaXJyb3IgPSBtaXJyb3JMb2NhbFBhcnRpY2lwYW50VmlkZW8gPyB1bmRlZmluZWQgOiBmYWxzZTtcbiAgICBpZiAoIWNhbGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIHJldHVybiAoanN4cyhcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX3BpcC1sYXlvdXRcIiwgcmVmOiBzZXRMYXlvdXRXcmFwcGVyRWxlbWVudCwgY2hpbGRyZW46IFtzY3JlZW5TaGFyaW5nUGFydGljaXBhbnQgJiZcbiAgICAgICAgICAgICAgICAoc2NyZWVuU2hhcmluZ1BhcnRpY2lwYW50LmlzTG9jYWxQYXJ0aWNpcGFudCA/IChqc3hzKFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGlwLXNjcmVlbi1zaGFyZS1sb2NhbFwiLCBjaGlsZHJlbjogW2pzeChJY29uLCB7IGljb246IFwic2NyZWVuLXNoYXJlLW9mZlwiIH0pLCBqc3goXCJzcGFuXCIsIHsgY2xhc3NOYW1lOiBcInN0ci12aWRlb19fcGlwLXNjcmVlbi1zaGFyZS1sb2NhbF9fdGl0bGVcIiwgY2hpbGRyZW46IHQoJ1lvdSBhcmUgcHJlc2VudGluZyB5b3VyIHNjcmVlbicpIH0pXSB9KSkgOiAoanN4KFBhcnRpY2lwYW50VmlldywgeyBwYXJ0aWNpcGFudDogc2NyZWVuU2hhcmluZ1BhcnRpY2lwYW50LCB0cmFja1R5cGU6IFwic2NyZWVuU2hhcmVUcmFja1wiLCBtdXRlQXVkaW86IHRydWUsIG1pcnJvcjogZmFsc2UsIFZpZGVvUGxhY2Vob2xkZXI6IFZpZGVvUGxhY2Vob2xkZXIsIFBhcnRpY2lwYW50Vmlld1VJOiBQYXJ0aWNpcGFudFZpZXdVSSB9KSkpLCBwYXJ0aWNpcGFudHMubWFwKChwYXJ0aWNpcGFudCkgPT4gKGpzeChQYXJ0aWNpcGFudFZpZXcsIHsgcGFydGljaXBhbnQ6IHBhcnRpY2lwYW50LCBtdXRlQXVkaW86IHRydWUsIG1pcnJvcjogbWlycm9yLCBWaWRlb1BsYWNlaG9sZGVyOiBWaWRlb1BsYWNlaG9sZGVyLCBQYXJ0aWNpcGFudFZpZXdVSTogUGFydGljaXBhbnRWaWV3VUkgfSwgcGFydGljaXBhbnQuc2Vzc2lvbklkKSkpXSB9KSk7XG59O1xuUGlwLmRpc3BsYXlOYW1lID0gJ1BpcExheW91dC5QaXAnO1xuY29uc3QgSG9zdCA9ICgpID0+IHtcbiAgICBjb25zdCByZW1vdGVQYXJ0aWNpcGFudHMgPSB1c2VSYXdSZW1vdGVQYXJ0aWNpcGFudHMoKTtcbiAgICByZXR1cm4ganN4KFBhcnRpY2lwYW50c0F1ZGlvLCB7IHBhcnRpY2lwYW50czogcmVtb3RlUGFydGljaXBhbnRzIH0pO1xufTtcbkhvc3QuZGlzcGxheU5hbWUgPSAnUGlwTGF5b3V0Lkhvc3QnO1xuY29uc3QgUGlwTGF5b3V0ID0geyBQaXAsIEhvc3QgfTtcblxuZnVuY3Rpb24gdXNlRWZmZWN0RXZlbnQoY2IpIHtcbiAgICBjb25zdCBjYlJlZiA9IHVzZVJlZih1bmRlZmluZWQpO1xuICAgIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGNiUmVmLmN1cnJlbnQgPSBjYjtcbiAgICB9LCBbY2JdKTtcbiAgICByZXR1cm4gdXNlQ2FsbGJhY2soKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2sgPSBjYlJlZi5jdXJyZW50O1xuICAgICAgICBjYWxsYmFjaz8uKC4uLmFyZ3MpO1xuICAgIH0sIFtdKTtcbn1cblxuY29uc3QgTGl2ZXN0cmVhbVBsYXllciA9IChwcm9wcykgPT4ge1xuICAgIGNvbnN0IHsgY2FsbFR5cGUsIGNhbGxJZCwgLi4ucmVzdFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjbGllbnQgPSB1c2VTdHJlYW1WaWRlb0NsaWVudCgpO1xuICAgIGNvbnN0IFtjYWxsLCBzZXRDYWxsXSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3Qgb25FcnJvciA9IHVzZUVmZmVjdEV2ZW50KHByb3BzLm9uRXJyb3IpO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2xpZW50KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBteUNhbGwgPSBjbGllbnQuY2FsbChjYWxsVHlwZSwgY2FsbElkKTtcbiAgICAgICAgc2V0Q2FsbChteUNhbGwpO1xuICAgICAgICBteUNhbGwuZ2V0KCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBjYWxsJywgZSk7XG4gICAgICAgICAgICBvbkVycm9yKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIG15Q2FsbC5sZWF2ZSgpLmNhdGNoKChlKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGxlYXZlIGNhbGwnLCBlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0Q2FsbCh1bmRlZmluZWQpO1xuICAgICAgICB9O1xuICAgIH0sIFtjYWxsSWQsIGNhbGxUeXBlLCBjbGllbnQsIG9uRXJyb3JdKTtcbiAgICBpZiAoIWNhbGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAoanN4KFN0cmVhbUNhbGwsIHsgY2FsbDogY2FsbCwgY2hpbGRyZW46IGpzeChMaXZlc3RyZWFtQ2FsbCwgeyAuLi5yZXN0UHJvcHMgfSkgfSkpO1xufTtcbmNvbnN0IExpdmVzdHJlYW1DYWxsID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUxpdmVzdHJlYW1DYWxsKHByb3BzKTtcbiAgICBjb25zdCB7IHVzZUlzQ2FsbExpdmUgfSA9IHVzZUNhbGxTdGF0ZUhvb2tzKCk7XG4gICAgY29uc3QgaXNMaXZlID0gdXNlSXNDYWxsTGl2ZSgpO1xuICAgIGlmICghY2FsbClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKGlzTGl2ZSkge1xuICAgICAgICByZXR1cm4ganN4KExpdmVzdHJlYW1MYXlvdXQsIHsgLi4ucHJvcHMubGF5b3V0UHJvcHMgfSk7XG4gICAgfVxuICAgIHJldHVybiBqc3goQmFja3N0YWdlTGF5b3V0LCB7IC4uLnByb3BzLmJhY2tzdGFnZVByb3BzIH0pO1xufTtcbmNvbnN0IHVzZUxpdmVzdHJlYW1DYWxsID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgY2FsbCA9IHVzZUNhbGwoKTtcbiAgICBjb25zdCB7IHVzZUlzQ2FsbExpdmUsIHVzZU93bkNhcGFiaWxpdGllcyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBjYW5Kb2luTGl2ZSA9IHVzZUlzQ2FsbExpdmUoKTtcbiAgICBjb25zdCBjYW5Kb2luRWFybHkgPSB1c2VDYW5Kb2luRWFybHkoKTtcbiAgICBjb25zdCBjYW5Kb2luQmFja3N0YWdlID0gdXNlT3duQ2FwYWJpbGl0aWVzKCk/LmluY2x1ZGVzKCdqb2luLWJhY2tzdGFnZScpID8/IGZhbHNlO1xuICAgIGNvbnN0IGNhbkpvaW5Bc2FwID0gY2FuSm9pbkxpdmUgfHwgY2FuSm9pbkVhcmx5IHx8IGNhbkpvaW5CYWNrc3RhZ2U7XG4gICAgY29uc3Qgam9pbkJlaGF2aW9yID0gcHJvcHMuam9pbkJlaGF2aW9yID8/ICdhc2FwJztcbiAgICBjb25zdCBjYW5Kb2luID0gKGpvaW5CZWhhdmlvciA9PT0gJ2FzYXAnICYmIGNhbkpvaW5Bc2FwKSB8fFxuICAgICAgICAoam9pbkJlaGF2aW9yID09PSAnbGl2ZScgJiYgY2FuSm9pbkxpdmUpO1xuICAgIGNvbnN0IG9uRXJyb3IgPSB1c2VFZmZlY3RFdmVudChwcm9wcy5vbkVycm9yKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoY2FsbCAmJiBjYWxsLnN0YXRlLmNhbGxpbmdTdGF0ZSA9PT0gQ2FsbGluZ1N0YXRlLklETEUgJiYgY2FuSm9pbikge1xuICAgICAgICAgICAgY2FsbC5qb2luKCkuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gam9pbiBjYWxsJywgZSk7XG4gICAgICAgICAgICAgICAgb25FcnJvcihlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW2NhbGwsIGNhbkpvaW4sIG9uRXJyb3JdKTtcbiAgICByZXR1cm4gY2FsbDtcbn07XG5jb25zdCB1c2VDYW5Kb2luRWFybHkgPSAoKSA9PiB7XG4gICAgY29uc3QgeyB1c2VDYWxsU3RhcnRzQXQsIHVzZUNhbGxTZXR0aW5ncyB9ID0gdXNlQ2FsbFN0YXRlSG9va3MoKTtcbiAgICBjb25zdCBzdGFydHNBdCA9IHVzZUNhbGxTdGFydHNBdCgpO1xuICAgIGNvbnN0IHNldHRpbmdzID0gdXNlQ2FsbFNldHRpbmdzKCk7XG4gICAgY29uc3Qgam9pbkFoZWFkVGltZVNlY29uZHMgPSBzZXR0aW5ncz8uYmFja3N0YWdlLmpvaW5fYWhlYWRfdGltZV9zZWNvbmRzO1xuICAgIGNvbnN0IFtjYW5Kb2luRWFybHksIHNldENhbkpvaW5FYXJseV0gPSB1c2VTdGF0ZSgoKSA9PiBjaGVja0NhbkpvaW5FYXJseShzdGFydHNBdCwgam9pbkFoZWFkVGltZVNlY29uZHMpKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAoIWNhbkpvaW5FYXJseSkge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldENhbkpvaW5FYXJseShjaGVja0NhbkpvaW5FYXJseShzdGFydHNBdCwgam9pbkFoZWFkVGltZVNlY29uZHMpKTtcbiAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaGFuZGxlKTtcbiAgICAgICAgfVxuICAgIH0sIFtjYW5Kb2luRWFybHksIHN0YXJ0c0F0LCBqb2luQWhlYWRUaW1lU2Vjb25kc10pO1xuICAgIHJldHVybiBjYW5Kb2luRWFybHk7XG59O1xuY29uc3QgY2hlY2tDYW5Kb2luRWFybHkgPSAoc3RhcnRzQXQsIGpvaW5BaGVhZFRpbWVTZWNvbmRzKSA9PiB7XG4gICAgaWYgKCFzdGFydHNBdCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBEYXRlLm5vdygpID49ICtzdGFydHNBdCAtIChqb2luQWhlYWRUaW1lU2Vjb25kcyA/PyAwKSAqIDEwMDA7XG59O1xuXG5jb25zdCBbbWFqb3IsIG1pbm9yLCBwYXRjaF0gPSAoXCIxLjE4LjZcIikuc3BsaXQoJy4nKTtcbnNldFNka0luZm8oe1xuICAgIHR5cGU6IFNmdU1vZGVscy5TZGtUeXBlLlJFQUNULFxuICAgIG1ham9yLFxuICAgIG1pbm9yLFxuICAgIHBhdGNoLFxufSk7XG5cbmV4cG9ydCB7IEFjY2VwdENhbGxCdXR0b24sIEF1ZGlvLCBBdmF0YXIsIEF2YXRhckZhbGxiYWNrLCBCYWNrZ3JvdW5kRmlsdGVyc1Byb3ZpZGVyLCBCYWNrc3RhZ2VMYXlvdXQsIEJhc2VWaWRlbywgQ2FsbENvbnRyb2xzLCBDYWxsUGFydGljaXBhbnRMaXN0aW5nLCBDYWxsUGFydGljaXBhbnRMaXN0aW5nSXRlbSwgQ2FsbFBhcnRpY2lwYW50c0xpc3QsIENhbGxQcmV2aWV3LCBDYWxsUmVjb3JkaW5nTGlzdCwgQ2FsbFJlY29yZGluZ0xpc3RIZWFkZXIsIENhbGxSZWNvcmRpbmdMaXN0SXRlbSwgQ2FsbFN0YXRzLCBDYWxsU3RhdHNCdXR0b24sIENhbmNlbENhbGxCdXR0b24sIENhbmNlbENhbGxDb25maXJtQnV0dG9uLCBDb21wb3NpdGVCdXR0b24sIERlZmF1bHRQYXJ0aWNpcGFudFZpZXdVSSwgRGVmYXVsdFJlYWN0aW9uc01lbnUsIERlZmF1bHRTY3JlZW5TaGFyZU92ZXJsYXksIERlZmF1bHRWaWRlb1BsYWNlaG9sZGVyLCBEZXZpY2VTZWxlY3RvciwgRGV2aWNlU2VsZWN0b3JBdWRpb0lucHV0LCBEZXZpY2VTZWxlY3RvckF1ZGlvT3V0cHV0LCBEZXZpY2VTZWxlY3RvclZpZGVvLCBEZXZpY2VTZXR0aW5ncywgRHJvcERvd25TZWxlY3QsIERyb3BEb3duU2VsZWN0T3B0aW9uLCBFbXB0eUNhbGxSZWNvcmRpbmdMaXN0aW5nLCBHZW5lcmljTWVudSwgR2VuZXJpY01lbnVCdXR0b25JdGVtLCBJY29uLCBJY29uQnV0dG9uLCBMaXZlc3RyZWFtTGF5b3V0LCBMaXZlc3RyZWFtUGxheWVyLCBMb2FkaW5nQ2FsbFJlY29yZGluZ0xpc3RpbmcsIExvYWRpbmdJbmRpY2F0b3IsIE1lbnVUb2dnbGUsIE1lbnVWaXN1YWxUeXBlLCBOb2lzZUNhbmNlbGxhdGlvblByb3ZpZGVyLCBOb3RpZmljYXRpb24sIFBhZ2luYXRlZEdyaWRMYXlvdXQsIFBhcnRpY2lwYW50QWN0aW9uc0NvbnRleHRNZW51LCBQYXJ0aWNpcGFudERldGFpbHMsIFBhcnRpY2lwYW50VmlldywgUGFydGljaXBhbnRWaWV3Q29udGV4dCwgUGFydGljaXBhbnRzQXVkaW8sIFBlcm1pc3Npb25Ob3RpZmljYXRpb24sIFBlcm1pc3Npb25SZXF1ZXN0TGlzdCwgUGVybWlzc2lvblJlcXVlc3RzLCBQaXBMYXlvdXQsIFJlYWN0aW9uc0J1dHRvbiwgUmVjb3JkQ2FsbEJ1dHRvbiwgUmVjb3JkQ2FsbENvbmZpcm1hdGlvbkJ1dHRvbiwgUmVjb3JkaW5nSW5Qcm9ncmVzc05vdGlmaWNhdGlvbiwgUmluZ2luZ0NhbGwsIFJpbmdpbmdDYWxsQ29udHJvbHMsIFNjcmVlblNoYXJlQnV0dG9uLCBTZWFyY2hJbnB1dCwgU2VhcmNoUmVzdWx0cywgU3BlYWtlckxheW91dCwgU3BlYWtpbmdXaGlsZU11dGVkTm90aWZpY2F0aW9uLCBTcGVlY2hJbmRpY2F0b3IsIFN0YXRDYXJkLCBTdHJlYW1DYWxsLCBTdHJlYW1UaGVtZSwgU3RyZWFtVmlkZW8sIFRleHRCdXR0b24sIFRvZ2dsZUF1ZGlvT3V0cHV0QnV0dG9uLCBUb2dnbGVBdWRpb1ByZXZpZXdCdXR0b24sIFRvZ2dsZUF1ZGlvUHVibGlzaGluZ0J1dHRvbiwgVG9nZ2xlVmlkZW9QcmV2aWV3QnV0dG9uLCBUb2dnbGVWaWRlb1B1Ymxpc2hpbmdCdXR0b24sIFRvb2x0aXAsIFZpZGVvJDEgYXMgVmlkZW8sIFZpZGVvUHJldmlldywgV2l0aFRvb2x0aXAsIGRlZmF1bHRSZWFjdGlvbnMsIHRyYW5zbGF0aW9ucywgdXNlQmFja2dyb3VuZEZpbHRlcnMsIHVzZURldmljZUxpc3QsIHVzZUZpbHRlcmVkUGFydGljaXBhbnRzLCB1c2VIb3Jpem9udGFsU2Nyb2xsUG9zaXRpb24sIHVzZU1lbnVDb250ZXh0LCB1c2VOb2lzZUNhbmNlbGxhdGlvbiwgdXNlUGFydGljaXBhbnRWaWV3Q29udGV4dCwgdXNlUGVyc2lzdGVkRGV2aWNlUHJlZmVyZW5jZXMsIHVzZVJlcXVlc3RQZXJtaXNzaW9uLCB1c2VUcmFja0VsZW1lbnRWaXNpYmlsaXR5LCB1c2VWZXJ0aWNhbFNjcm9sbFBvc2l0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/index.es.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js":
/*!***********************************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ CallStatsLatencyChart)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-jsx-runtime.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var chart_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! chart.js */ \"(ssr)/./node_modules/chart.js/dist/chart.js\");\n/* harmony import */ var react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-chartjs-2 */ \"(ssr)/./node_modules/react-chartjs-2/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\n\n\n// NOTE: this is a side effect by definition, but this component is\n// isolated in a separate chunk, and it won't affect the rest of the app.\n// See CallStats.tsx for more details.\nchart_js__WEBPACK_IMPORTED_MODULE_2__.Chart.register(chart_js__WEBPACK_IMPORTED_MODULE_2__.CategoryScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LinearScale, chart_js__WEBPACK_IMPORTED_MODULE_2__.LineElement, chart_js__WEBPACK_IMPORTED_MODULE_2__.PointElement);\nconst CallStatsLatencyChart = (props) => {\n    const { values } = props;\n    let max = 0;\n    const data = {\n        labels: values.map((point) => {\n            const date = new Date(point.x * 1000);\n            return `${date.getHours()}:${date.getMinutes()}`;\n        }),\n        datasets: [\n            {\n                data: values.map((point) => {\n                    const { y } = point;\n                    max = Math.max(max, y);\n                    return point;\n                }),\n                borderColor: '#00e2a1',\n                backgroundColor: '#00e2a1',\n            },\n        ],\n    };\n    const options = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(() => getLineOptions(max), [max]);\n    return ((0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { className: \"str-video__call-stats-line-chart-container\", children: (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_chartjs_2__WEBPACK_IMPORTED_MODULE_3__.Line, { options: options, data: data, className: \"str-video__call-stats__latencychart\" }) }));\n};\nconst getLineOptions = (max) => ({\n    maintainAspectRatio: false,\n    animation: { duration: 0 },\n    elements: {\n        line: { borderWidth: 1 },\n        point: { radius: 2 },\n    },\n    scales: {\n        y: {\n            position: 'right',\n            stacked: true,\n            min: 0,\n            max: Math.max(180, Math.ceil((max + 10) / 10) * 10),\n            grid: { display: true, color: '#979ca0' },\n            ticks: { stepSize: 30 },\n        },\n        x: {\n            grid: { display: false },\n            ticks: { display: false },\n        },\n    },\n});\n\n\n//# sourceMappingURL=latency-chart-Bj5OSYzg.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9sYXRlbmN5LWNoYXJ0LUJqNU9TWXpnLmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBd0M7QUFDZ0Q7QUFDakQ7QUFDUDs7QUFFaEM7QUFDQTtBQUNBO0FBQ0EsMkNBQUssVUFBVSxtREFBYSxFQUFFLGlEQUFXLEVBQUUsaURBQVcsRUFBRSxrREFBWTtBQUNwRTtBQUNBLFlBQVksU0FBUztBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnQkFBZ0IsR0FBRyxrQkFBa0I7QUFDM0QsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixJQUFJO0FBQ2hDO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0Esb0JBQW9CLDhDQUFPO0FBQzNCLFlBQVksc0RBQUcsVUFBVSxtRUFBbUUsc0RBQUcsQ0FBQyxpREFBSSxJQUFJLGdGQUFnRixHQUFHO0FBQzNMO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixhQUFhO0FBQzlCO0FBQ0EsZ0JBQWdCLGdCQUFnQjtBQUNoQyxpQkFBaUIsV0FBVztBQUM1QixLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGlDQUFpQztBQUNyRCxxQkFBcUIsY0FBYztBQUNuQyxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0IsZ0JBQWdCO0FBQ3BDLHFCQUFxQixnQkFBZ0I7QUFDckMsU0FBUztBQUNULEtBQUs7QUFDTCxDQUFDOztBQUUyQztBQUM1QyIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20tY2xvbmUvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9sYXRlbmN5LWNoYXJ0LUJqNU9TWXpnLmVzLmpzPzc3OGMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4IH0gZnJvbSAncmVhY3QvanN4LXJ1bnRpbWUnO1xuaW1wb3J0IHsgQ2hhcnQsIENhdGVnb3J5U2NhbGUsIExpbmVhclNjYWxlLCBMaW5lRWxlbWVudCwgUG9pbnRFbGVtZW50IH0gZnJvbSAnY2hhcnQuanMnO1xuaW1wb3J0IHsgTGluZSB9IGZyb20gJ3JlYWN0LWNoYXJ0anMtMic7XG5pbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuXG4vLyBOT1RFOiB0aGlzIGlzIGEgc2lkZSBlZmZlY3QgYnkgZGVmaW5pdGlvbiwgYnV0IHRoaXMgY29tcG9uZW50IGlzXG4vLyBpc29sYXRlZCBpbiBhIHNlcGFyYXRlIGNodW5rLCBhbmQgaXQgd29uJ3QgYWZmZWN0IHRoZSByZXN0IG9mIHRoZSBhcHAuXG4vLyBTZWUgQ2FsbFN0YXRzLnRzeCBmb3IgbW9yZSBkZXRhaWxzLlxuQ2hhcnQucmVnaXN0ZXIoQ2F0ZWdvcnlTY2FsZSwgTGluZWFyU2NhbGUsIExpbmVFbGVtZW50LCBQb2ludEVsZW1lbnQpO1xuY29uc3QgQ2FsbFN0YXRzTGF0ZW5jeUNoYXJ0ID0gKHByb3BzKSA9PiB7XG4gICAgY29uc3QgeyB2YWx1ZXMgfSA9IHByb3BzO1xuICAgIGxldCBtYXggPSAwO1xuICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgIGxhYmVsczogdmFsdWVzLm1hcCgocG9pbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShwb2ludC54ICogMTAwMCk7XG4gICAgICAgICAgICByZXR1cm4gYCR7ZGF0ZS5nZXRIb3VycygpfToke2RhdGUuZ2V0TWludXRlcygpfWA7XG4gICAgICAgIH0pLFxuICAgICAgICBkYXRhc2V0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRhdGE6IHZhbHVlcy5tYXAoKHBvaW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgeSB9ID0gcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIG1heCA9IE1hdGgubWF4KG1heCwgeSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludDtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyMwMGUyYTEnLFxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMGUyYTEnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICB9O1xuICAgIGNvbnN0IG9wdGlvbnMgPSB1c2VNZW1vKCgpID0+IGdldExpbmVPcHRpb25zKG1heCksIFttYXhdKTtcbiAgICByZXR1cm4gKGpzeChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHMtbGluZS1jaGFydC1jb250YWluZXJcIiwgY2hpbGRyZW46IGpzeChMaW5lLCB7IG9wdGlvbnM6IG9wdGlvbnMsIGRhdGE6IGRhdGEsIGNsYXNzTmFtZTogXCJzdHItdmlkZW9fX2NhbGwtc3RhdHNfX2xhdGVuY3ljaGFydFwiIH0pIH0pKTtcbn07XG5jb25zdCBnZXRMaW5lT3B0aW9ucyA9IChtYXgpID0+ICh7XG4gICAgbWFpbnRhaW5Bc3BlY3RSYXRpbzogZmFsc2UsXG4gICAgYW5pbWF0aW9uOiB7IGR1cmF0aW9uOiAwIH0sXG4gICAgZWxlbWVudHM6IHtcbiAgICAgICAgbGluZTogeyBib3JkZXJXaWR0aDogMSB9LFxuICAgICAgICBwb2ludDogeyByYWRpdXM6IDIgfSxcbiAgICB9LFxuICAgIHNjYWxlczoge1xuICAgICAgICB5OiB7XG4gICAgICAgICAgICBwb3NpdGlvbjogJ3JpZ2h0JyxcbiAgICAgICAgICAgIHN0YWNrZWQ6IHRydWUsXG4gICAgICAgICAgICBtaW46IDAsXG4gICAgICAgICAgICBtYXg6IE1hdGgubWF4KDE4MCwgTWF0aC5jZWlsKChtYXggKyAxMCkgLyAxMCkgKiAxMCksXG4gICAgICAgICAgICBncmlkOiB7IGRpc3BsYXk6IHRydWUsIGNvbG9yOiAnIzk3OWNhMCcgfSxcbiAgICAgICAgICAgIHRpY2tzOiB7IHN0ZXBTaXplOiAzMCB9LFxuICAgICAgICB9LFxuICAgICAgICB4OiB7XG4gICAgICAgICAgICBncmlkOiB7IGRpc3BsYXk6IGZhbHNlIH0sXG4gICAgICAgICAgICB0aWNrczogeyBkaXNwbGF5OiBmYWxzZSB9LFxuICAgICAgICB9LFxuICAgIH0sXG59KTtcblxuZXhwb3J0IHsgQ2FsbFN0YXRzTGF0ZW5jeUNoYXJ0IGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxhdGVuY3ktY2hhcnQtQmo1T1NZemcuZXMuanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@stream-io/video-react-sdk/dist/latency-chart-Bj5OSYzg.es.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css":
/*!*********************************************************************!*\
  !*** ./node_modules/@stream-io/video-react-sdk/dist/css/styles.css ***!
  \*********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"10ef8ead6770\");\nif (false) {}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9jc3Mvc3R5bGVzLmNzcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsaUVBQWUsY0FBYztBQUM3QixJQUFJLEtBQVUsRUFBRSxFQUF1QiIsInNvdXJjZXMiOlsid2VicGFjazovL3pvb20tY2xvbmUvLi9ub2RlX21vZHVsZXMvQHN0cmVhbS1pby92aWRlby1yZWFjdC1zZGsvZGlzdC9jc3Mvc3R5bGVzLmNzcz80ZGZiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IFwiMTBlZjhlYWQ2NzcwXCJcbmlmIChtb2R1bGUuaG90KSB7IG1vZHVsZS5ob3QuYWNjZXB0KCkgfVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@stream-io/video-react-sdk/dist/css/styles.css\n");

/***/ }),

/***/ "(action-browser)/./node_modules/@stream-io/node-sdk/dist/index.es.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@stream-io/node-sdk/dist/index.es.mjs ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChannelOwnCapability: () => (/* binding */ ChannelOwnCapability),\n/* harmony export */   OwnCapability: () => (/* binding */ OwnCapability),\n/* harmony export */   StreamCall: () => (/* binding */ StreamCall),\n/* harmony export */   StreamChannel: () => (/* binding */ StreamChannel),\n/* harmony export */   StreamChatClient: () => (/* binding */ StreamChatClient),\n/* harmony export */   StreamClient: () => (/* binding */ StreamClient),\n/* harmony export */   StreamVideoClient: () => (/* binding */ StreamVideoClient)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"(action-browser)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! uuid */ \"(action-browser)/./node_modules/uuid/dist/esm-node/v4.js\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n\n\n\n\nconst ChannelOwnCapability = {\n    BAN_CHANNEL_MEMBERS: 'ban-channel-members',\n    CAST_POLL_VOTE: 'cast-poll-vote',\n    CONNECT_EVENTS: 'connect-events',\n    CREATE_ATTACHMENT: 'create-attachment',\n    DELETE_ANY_MESSAGE: 'delete-any-message',\n    DELETE_CHANNEL: 'delete-channel',\n    DELETE_OWN_MESSAGE: 'delete-own-message',\n    FLAG_MESSAGE: 'flag-message',\n    FREEZE_CHANNEL: 'freeze-channel',\n    JOIN_CHANNEL: 'join-channel',\n    LEAVE_CHANNEL: 'leave-channel',\n    MUTE_CHANNEL: 'mute-channel',\n    PIN_MESSAGE: 'pin-message',\n    QUERY_POLL_VOTES: 'query-poll-votes',\n    QUOTE_MESSAGE: 'quote-message',\n    READ_EVENTS: 'read-events',\n    SEARCH_MESSAGES: 'search-messages',\n    SEND_CUSTOM_EVENTS: 'send-custom-events',\n    SEND_LINKS: 'send-links',\n    SEND_MESSAGE: 'send-message',\n    SEND_POLL: 'send-poll',\n    SEND_REACTION: 'send-reaction',\n    SEND_REPLY: 'send-reply',\n    SEND_RESTRICTED_VISIBILITY_MESSAGE: 'send-restricted-visibility-message',\n    SEND_TYPING_EVENTS: 'send-typing-events',\n    SET_CHANNEL_COOLDOWN: 'set-channel-cooldown',\n    SKIP_SLOW_MODE: 'skip-slow-mode',\n    SLOW_MODE: 'slow-mode',\n    TYPING_EVENTS: 'typing-events',\n    UPDATE_ANY_MESSAGE: 'update-any-message',\n    UPDATE_CHANNEL: 'update-channel',\n    UPDATE_CHANNEL_MEMBERS: 'update-channel-members',\n    UPDATE_OWN_MESSAGE: 'update-own-message',\n    UPDATE_THREAD: 'update-thread',\n    UPLOAD_FILE: 'upload-file',\n};\nconst OwnCapability = {\n    BLOCK_USERS: 'block-users',\n    CHANGE_MAX_DURATION: 'change-max-duration',\n    CREATE_CALL: 'create-call',\n    CREATE_REACTION: 'create-reaction',\n    ENABLE_NOISE_CANCELLATION: 'enable-noise-cancellation',\n    END_CALL: 'end-call',\n    JOIN_BACKSTAGE: 'join-backstage',\n    JOIN_CALL: 'join-call',\n    JOIN_ENDED_CALL: 'join-ended-call',\n    MUTE_USERS: 'mute-users',\n    PIN_FOR_EVERYONE: 'pin-for-everyone',\n    READ_CALL: 'read-call',\n    REMOVE_CALL_MEMBER: 'remove-call-member',\n    SCREENSHARE: 'screenshare',\n    SEND_AUDIO: 'send-audio',\n    SEND_VIDEO: 'send-video',\n    START_BROADCAST_CALL: 'start-broadcast-call',\n    START_CLOSED_CAPTIONS_CALL: 'start-closed-captions-call',\n    START_FRAME_RECORD_CALL: 'start-frame-record-call',\n    START_RECORD_CALL: 'start-record-call',\n    START_TRANSCRIPTION_CALL: 'start-transcription-call',\n    STOP_BROADCAST_CALL: 'stop-broadcast-call',\n    STOP_CLOSED_CAPTIONS_CALL: 'stop-closed-captions-call',\n    STOP_FRAME_RECORD_CALL: 'stop-frame-record-call',\n    STOP_RECORD_CALL: 'stop-record-call',\n    STOP_TRANSCRIPTION_CALL: 'stop-transcription-call',\n    UPDATE_CALL: 'update-call',\n    UPDATE_CALL_MEMBER: 'update-call-member',\n    UPDATE_CALL_PERMISSIONS: 'update-call-permissions',\n    UPDATE_CALL_SETTINGS: 'update-call-settings',\n};\n\nfunction JWTUserToken(apiSecret, payload) {\n    // make sure we return a clear error when jwt is shimmed (ie. browser build)\n    if (jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ == null || jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign == null) {\n        throw Error(`Unable to find jwt crypto, if you are getting this error is probably because you are trying to generate tokens on browser or React Native (or other environment where crypto functions are not available). Please Note: token should only be generated server-side.`);\n    }\n    const opts = Object.assign({\n        algorithm: 'HS256',\n        noTimestamp: true,\n    });\n    if (payload.iat) {\n        opts.noTimestamp = false;\n    }\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\nfunction JWTServerToken(apiSecret, jwtOptions = {}) {\n    const payload = {\n        server: true,\n    };\n    const opts = Object.assign({ algorithm: 'HS256', noTimestamp: true }, jwtOptions);\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__.sign(payload, apiSecret, opts);\n}\n\nclass StreamError extends Error {\n    constructor(message, metadata, code, errorOptions) {\n        super(message, errorOptions);\n        this.metadata = metadata;\n        this.code = code;\n    }\n}\n\nconst getRateLimitFromResponseHeader = (responseHeaders) => {\n    const rateLimit = responseHeaders.has('x-ratelimit-limit')\n        ? +responseHeaders.get('x-ratelimit-limit')\n        : undefined;\n    const rateLimitRemaining = responseHeaders.has('x-ratelimit-remaining')\n        ? +responseHeaders.get('x-ratelimit-remaining')\n        : undefined;\n    const rateLimitReset = responseHeaders.has('x-ratelimit-reset')\n        ? new Date(+responseHeaders.get('x-ratelimit-reset') * 1000)\n        : undefined;\n    const result = {\n        rateLimit,\n        rateLimitRemaining,\n        rateLimitReset,\n    };\n    return result;\n};\n\nclass BaseApi {\n    constructor(apiConfig) {\n        this.apiConfig = apiConfig;\n        this.sendRequest = async (method, url, pathParams, queryParams, body) => {\n            queryParams = queryParams ?? {};\n            queryParams.api_key = this.apiConfig.apiKey;\n            const encodedParams = this.queryParamsStringify(queryParams);\n            if (pathParams) {\n                Object.keys(pathParams).forEach((paramName) => {\n                    url = url.replace(`{${paramName}}`, pathParams[paramName]);\n                });\n            }\n            url += `?${encodedParams}`;\n            const clientRequestId = (0,uuid__WEBPACK_IMPORTED_MODULE_2__[\"default\"])();\n            const headers = {\n                Authorization: this.apiConfig.token,\n                'stream-auth-type': 'jwt',\n                'Content-Type': 'application/json',\n                'X-Stream-Client': 'stream-node-' + \"0.4.25\",\n                'Accept-Encoding': 'gzip',\n                'x-client-request-id': clientRequestId,\n            };\n            const signal = AbortSignal.timeout(this.apiConfig.timeout);\n            try {\n                const response = await fetch(`${this.apiConfig.baseUrl}${url}`, {\n                    signal,\n                    method,\n                    body: JSON.stringify(body),\n                    headers,\n                    dispatcher: this.dispatcher,\n                });\n                const responseHeaders = response.headers;\n                const metadata = {\n                    clientRequestId,\n                    responseHeaders,\n                    responseCode: response.status,\n                    rateLimit: getRateLimitFromResponseHeader(responseHeaders),\n                };\n                if (response.status < 200 || response.status >= 300) {\n                    let error;\n                    try {\n                        error = (await response.json());\n                    }\n                    catch (_) {\n                        throw new StreamError(`Stream error: ${response.status} - ${response.statusText}`, metadata, response.status);\n                    }\n                    throw new StreamError(`Stream error code ${error.code}: ${error.message}`, metadata, error.code, undefined);\n                }\n                const responseBody = (await response.json());\n                return { body: responseBody, metadata };\n            }\n            catch (error) {\n                if (error instanceof StreamError) {\n                    throw error;\n                }\n                const metadata = {\n                    clientRequestId,\n                    responseCode: error.status,\n                };\n                if (error.name === 'AbortError' || error.name === 'TimeoutError') {\n                    throw new StreamError(`The request was aborted due to to the ${this.apiConfig.timeout}ms timeout, you can set the timeout in the StreamClient constructor`, metadata, undefined, error);\n                }\n                else {\n                    throw new StreamError(`The request failed due to an unexpected error`, metadata, error);\n                }\n            }\n        };\n        this.queryParamsStringify = (params) => {\n            const newParams = [];\n            for (const k in params) {\n                const param = params[k];\n                if (Array.isArray(param)) {\n                    newParams.push(`${k}=${encodeURIComponent(param.join(','))}`);\n                }\n                else if (param instanceof Date) {\n                    newParams.push(param.toISOString());\n                }\n                else if (typeof param === 'object') {\n                    newParams.push(`${k}=${encodeURIComponent(JSON.stringify(param))}`);\n                }\n                else {\n                    if (typeof param === 'string' ||\n                        typeof param === 'number' ||\n                        typeof param === 'boolean') {\n                        newParams.push(`${k}=${encodeURIComponent(param)}`);\n                    }\n                }\n            }\n            return newParams.join('&');\n        };\n        this.dispatcher = this.apiConfig.agent;\n    }\n}\n\nconst decoders = {};\nconst decodeDatetimeType = (input) => new Date(Math.floor(input / 1000000));\ndecoders.DatetimeType = decodeDatetimeType;\nconst decode = (typeMappings, input) => {\n    if (!input || Object.keys(typeMappings).length === 0)\n        return input;\n    Object.keys(typeMappings).forEach((key) => {\n        if (input[key] != null) {\n            if (typeMappings[key]) {\n                const decoder = decoders[typeMappings[key].type];\n                if (decoder) {\n                    if (typeMappings[key].isSingle) {\n                        input[key] = decoder(input[key]);\n                    }\n                    else {\n                        Object.keys(input[key]).forEach((k) => {\n                            input[key][k] = decoder(input[key][k]);\n                        });\n                    }\n                }\n            }\n        }\n    });\n    return input;\n};\ndecoders.ActionLog = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        target_user: { type: 'User', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ActionLogResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        target_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AppResponseFields = (input) => {\n    const typeMappings = {\n        event_hooks: { type: 'EventHook', isSingle: false },\n        call_types: { type: 'CallType', isSingle: false },\n        channel_configs: { type: 'ChannelConfig', isSingle: false },\n        push_notifications: { type: 'PushNotificationFields', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.AutomodDetails = (input) => {\n    const typeMappings = {\n        result: { type: 'MessageModerationResult', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Ban = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'Channel', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        target: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BanResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        banned_by: { type: 'UserResponse', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockListResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockUsersResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.BlockedUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        blocked_user: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Call = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        blocked_users: { type: 'User', isSingle: false },\n        egresses: { type: 'CallEgress', isSingle: false },\n        members: { type: 'CallMember', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        egress_updated_at: { type: 'DatetimeType', isSingle: true },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        last_heartbeat_at: { type: 'DatetimeType', isSingle: true },\n        starts_at: { type: 'DatetimeType', isSingle: true },\n        call_type: { type: 'CallType', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        session: { type: 'CallSession', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallEgress = (input) => {\n    const typeMappings = {\n        started_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        stopped_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallMember = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallParticipant = (input) => {\n    const typeMappings = {\n        joined_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallParticipantResponse = (input) => {\n    const typeMappings = {\n        joined_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallRecording = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallReportResponse = (input) => {\n    const typeMappings = {\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        starts_at: { type: 'DatetimeType', isSingle: true },\n        session: { type: 'CallSessionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSession = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        active_sf_us: { type: 'SFUIDLastSeen', isSingle: false },\n        participants: { type: 'CallParticipant', isSingle: false },\n        accepted_by: { type: 'DatetimeType', isSingle: false },\n        missed_by: { type: 'DatetimeType', isSingle: false },\n        rejected_by: { type: 'DatetimeType', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        live_ended_at: { type: 'DatetimeType', isSingle: true },\n        live_started_at: { type: 'DatetimeType', isSingle: true },\n        ring_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        timer_ends_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallSessionResponse = (input) => {\n    const typeMappings = {\n        participants: { type: 'CallParticipantResponse', isSingle: false },\n        accepted_by: { type: 'DatetimeType', isSingle: false },\n        missed_by: { type: 'DatetimeType', isSingle: false },\n        rejected_by: { type: 'DatetimeType', isSingle: false },\n        ended_at: { type: 'DatetimeType', isSingle: true },\n        live_ended_at: { type: 'DatetimeType', isSingle: true },\n        live_started_at: { type: 'DatetimeType', isSingle: true },\n        started_at: { type: 'DatetimeType', isSingle: true },\n        timer_ends_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallStatsReportSummaryResponse = (input) => {\n    const typeMappings = {\n        first_stats_time: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTranscription = (input) => {\n    const typeMappings = {\n        end_time: { type: 'DatetimeType', isSingle: true },\n        start_time: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallType = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        segments: { type: 'Segment', isSingle: false },\n        users: { type: 'UserResponse', isSingle: false },\n        stats: { type: 'CampaignStatsResponse', isSingle: true },\n        scheduled_for: { type: 'DatetimeType', isSingle: true },\n        stop_at: { type: 'DatetimeType', isSingle: true },\n        sender: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CampaignStatsResponse = (input) => {\n    const typeMappings = {\n        stats_completed_at: { type: 'DatetimeType', isSingle: true },\n        stats_started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Channel = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        invites: { type: 'ChannelMember', isSingle: false },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfig', isSingle: true },\n        created_by: { type: 'User', isSingle: true },\n        truncated_by: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelConfigWithInfo = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMember = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        archived_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        archived_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        invite_accepted_at: { type: 'DatetimeType', isSingle: true },\n        invite_rejected_at: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelPushPreferences = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        mute_expires_at: { type: 'DatetimeType', isSingle: true },\n        truncated_at: { type: 'DatetimeType', isSingle: true },\n        members: { type: 'ChannelMember', isSingle: false },\n        config: { type: 'ChannelConfigWithInfo', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        truncated_by: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        draft: { type: 'DraftResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n        push_preferences: { type: 'ChannelPushPreferences', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelStateResponseFields = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        messages: { type: 'MessageResponse', isSingle: false },\n        pinned_messages: { type: 'MessageResponse', isSingle: false },\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n        hide_messages_before: { type: 'DatetimeType', isSingle: true },\n        pending_messages: { type: 'PendingMessageResponse', isSingle: false },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        watchers: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        draft: { type: 'DraftResponse', isSingle: true },\n        membership: { type: 'ChannelMember', isSingle: true },\n        push_preferences: { type: 'ChannelPushPreferences', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChannelTypeConfig = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ChatActivityStatsResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageStatsResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CheckResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItem', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Command = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ConfigResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CountByMinuteResponse = (input) => {\n    const typeMappings = {\n        start_ts: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklist: { type: 'BlockListResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateGuestResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CreateRoleResponse = (input) => {\n    const typeMappings = {\n        role: { type: 'Role', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.CustomCheckResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteCallResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeleteReactionResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Device = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DeviceResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DraftPayloadResponse = (input) => {\n    const typeMappings = {\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.DraftResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        message: { type: 'DraftPayloadResponse', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EgressRTMPResponse = (input) => {\n    const typeMappings = {\n        started_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EntityCreator = (input) => {\n    const typeMappings = {\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EntityCreatorResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EventHook = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.EventResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'WSEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ExportUserResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n        reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Flag = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagDetails = (input) => {\n    const typeMappings = {\n        automod: { type: 'AutomodDetails', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FlagFeedback = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.FullUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        mutes: { type: 'UserMuteResponse', isSingle: false },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetApplicationResponse = (input) => {\n    const typeMappings = {\n        app: { type: 'AppResponseFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklist: { type: 'BlockListResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetBlockedUsersResponse = (input) => {\n    const typeMappings = {\n        blocks: { type: 'BlockedUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallReportResponse = (input) => {\n    const typeMappings = {\n        video_reactions: { type: 'VideoReactionsResponse', isSingle: false },\n        chat_activity: { type: 'ChatActivityStatsResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetCommandResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetDraftResponse = (input) => {\n    const typeMappings = {\n        draft: { type: 'DraftResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetImportResponse = (input) => {\n    const typeMappings = {\n        import_task: { type: 'ImportTask', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetManyMessagesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageWithChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetOrCreateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetPushTemplatesResponse = (input) => {\n    const typeMappings = {\n        templates: { type: 'PushTemplate', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'Reaction', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetRepliesResponse = (input) => {\n    const typeMappings = {\n        messages: { type: 'MessageResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetReviewQueueItemResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItemResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetSegmentResponse = (input) => {\n    const typeMappings = {\n        segment: { type: 'SegmentResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetTaskResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GetThreadResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadStateResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.GoLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTask = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        history: { type: 'ImportTaskHistory', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ImportTaskHistory = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklists: { type: 'BlockListResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCallTypeResponse = (input) => {\n    const typeMappings = {\n        call_types: { type: 'CallTypeResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListChannelTypesResponse = (input) => {\n    const typeMappings = {\n        channel_types: { type: 'ChannelTypeConfig', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListCommandsResponse = (input) => {\n    const typeMappings = {\n        commands: { type: 'Command', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListDevicesResponse = (input) => {\n    const typeMappings = {\n        devices: { type: 'DeviceResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListImportsResponse = (input) => {\n    const typeMappings = {\n        import_tasks: { type: 'ImportTask', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListPushProvidersResponse = (input) => {\n    const typeMappings = {\n        push_providers: { type: 'PushProviderResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRecordingsResponse = (input) => {\n    const typeMappings = {\n        recordings: { type: 'CallRecording', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListRolesResponse = (input) => {\n    const typeMappings = {\n        roles: { type: 'Role', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ListTranscriptionsResponse = (input) => {\n    const typeMappings = {\n        transcriptions: { type: 'CallTranscription', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MarkReadResponse = (input) => {\n    const typeMappings = {\n        event: { type: 'MessageReadEvent', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MemberResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Message = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'Reaction', isSingle: false },\n        mentioned_users: { type: 'User', isSingle: false },\n        own_reactions: { type: 'Reaction', isSingle: false },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'User', isSingle: false },\n        pinned_by: { type: 'User', isSingle: true },\n        poll: { type: 'Poll', isSingle: true },\n        quoted_message: { type: 'Message', isSingle: true },\n        reminder: { type: 'MessageReminder', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageFlagResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        approved_at: { type: 'DatetimeType', isSingle: true },\n        rejected_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n        details: { type: 'FlagDetails', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        moderation_feedback: { type: 'FlagFeedback', isSingle: true },\n        moderation_result: { type: 'MessageModerationResult', isSingle: true },\n        reviewed_by: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageHistoryEntryResponse = (input) => {\n    const typeMappings = {\n        message_updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageModerationResult = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageReadEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel_last_message_at: { type: 'DatetimeType', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserResponseCommonFields', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageReminder = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        remind_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'Channel', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        draft: { type: 'DraftResponse', isSingle: true },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageStatsResponse = (input) => {\n    const typeMappings = {\n        count_over_time: { type: 'CountByMinuteResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MessageWithChannelResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        draft: { type: 'DraftResponse', isSingle: true },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ModerationFlagResponse = (input) => {\n    const typeMappings = {\n        review_queue_item: { type: 'ReviewQueueItem', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteChannelResponse = (input) => {\n    const typeMappings = {\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        channel_mute: { type: 'ChannelMute', isSingle: true },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.MuteResponse = (input) => {\n    const typeMappings = {\n        mutes: { type: 'UserMute', isSingle: false },\n        own_user: { type: 'OwnUser', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.OwnUser = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'Device', isSingle: false },\n        mutes: { type: 'UserMute', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        push_preferences: { type: 'PushPreferences', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.OwnUserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        channel_mutes: { type: 'ChannelMute', isSingle: false },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        mutes: { type: 'UserMuteResponse', isSingle: false },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        push_preferences: { type: 'PushPreferences', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ParticipantCountByMinuteResponse = (input) => {\n    const typeMappings = {\n        start_ts: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ParticipantCountOverTimeResponse = (input) => {\n    const typeMappings = {\n        by_minute: { type: 'ParticipantCountByMinuteResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PendingMessageResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Poll = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_answers: { type: 'PollVote', isSingle: false },\n        own_votes: { type: 'PollVote', isSingle: false },\n        created_by: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponse = (input) => {\n    const typeMappings = {\n        poll: { type: 'PollResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_answers: { type: 'PollVoteResponseData', isSingle: false },\n        own_votes: { type: 'PollVoteResponseData', isSingle: false },\n        created_by: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVote = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponse = (input) => {\n    const typeMappings = {\n        vote: { type: 'PollVoteResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVoteResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PollVotesResponse = (input) => {\n    const typeMappings = {\n        votes: { type: 'PollVoteResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationFields = (input) => {\n    const typeMappings = {\n        providers: { type: 'PushProvider', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushNotificationSettingsResponse = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushPreferences = (input) => {\n    const typeMappings = {\n        disabled_until: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProvider = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n        push_templates: { type: 'PushTemplate', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushProviderResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        disabled_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.PushTemplate = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryBannedUsersResponse = (input) => {\n    const typeMappings = {\n        bans: { type: 'BanResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallParticipantsResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        participants: { type: 'CallParticipantResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallStatsResponse = (input) => {\n    const typeMappings = {\n        reports: { type: 'CallStatsReportSummaryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCallsResponse = (input) => {\n    const typeMappings = {\n        calls: { type: 'CallStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryCampaignsResponse = (input) => {\n    const typeMappings = {\n        campaigns: { type: 'CampaignResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryChannelsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'ChannelStateResponseFields', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryDraftsResponse = (input) => {\n    const typeMappings = {\n        drafts: { type: 'DraftResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplate = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryFeedModerationTemplatesResponse = (input) => {\n    const typeMappings = {\n        templates: { type: 'QueryFeedModerationTemplate', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageFlagsResponse = (input) => {\n    const typeMappings = {\n        flags: { type: 'MessageFlagResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryMessageHistoryResponse = (input) => {\n    const typeMappings = {\n        message_history: { type: 'MessageHistoryEntryResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationConfigsResponse = (input) => {\n    const typeMappings = {\n        configs: { type: 'ConfigResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationFlagsResponse = (input) => {\n    const typeMappings = {\n        flags: { type: 'ModerationFlagResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryModerationLogsResponse = (input) => {\n    const typeMappings = {\n        logs: { type: 'ActionLogResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryPollsResponse = (input) => {\n    const typeMappings = {\n        polls: { type: 'PollResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReactionsResponse = (input) => {\n    const typeMappings = {\n        reactions: { type: 'ReactionResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryRemindersResponse = (input) => {\n    const typeMappings = {\n        reminders: { type: 'ReminderResponseData', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryReviewQueueResponse = (input) => {\n    const typeMappings = {\n        items: { type: 'ReviewQueueItemResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QuerySegmentTargetsResponse = (input) => {\n    const typeMappings = {\n        targets: { type: 'SegmentTargetResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QuerySegmentsResponse = (input) => {\n    const typeMappings = {\n        segments: { type: 'SegmentResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryThreadsResponse = (input) => {\n    const typeMappings = {\n        threads: { type: 'ThreadStateResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.QueryUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Reaction = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionGroupResponse = (input) => {\n    const typeMappings = {\n        first_reaction_at: { type: 'DatetimeType', isSingle: true },\n        last_reaction_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactionResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReactivateUserResponse = (input) => {\n    const typeMappings = {\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReadStateResponse = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReminderResponseData = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        remind_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItem = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        actions: { type: 'ActionLog', isSingle: false },\n        bans: { type: 'Ban', isSingle: false },\n        flags: { type: 'Flag', isSingle: false },\n        assigned_to: { type: 'User', isSingle: true },\n        call: { type: 'Call', isSingle: true },\n        entity_creator: { type: 'EntityCreator', isSingle: true },\n        feeds_v2_reaction: { type: 'Reaction', isSingle: true },\n        message: { type: 'Message', isSingle: true },\n        reaction: { type: 'Reaction', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ReviewQueueItemResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        actions: { type: 'ActionLogResponse', isSingle: false },\n        bans: { type: 'Ban', isSingle: false },\n        completed_at: { type: 'DatetimeType', isSingle: true },\n        reviewed_at: { type: 'DatetimeType', isSingle: true },\n        assigned_to: { type: 'UserResponse', isSingle: true },\n        call: { type: 'CallResponse', isSingle: true },\n        entity_creator: { type: 'EntityCreatorResponse', isSingle: true },\n        feeds_v2_reaction: { type: 'Reaction', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'Reaction', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Role = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SFUIDLastSeen = (input) => {\n    const typeMappings = {\n        last_seen: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResult = (input) => {\n    const typeMappings = {\n        message: { type: 'SearchResultMessage', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SearchResultMessage = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_reactions: { type: 'ReactionResponse', isSingle: false },\n        mentioned_users: { type: 'UserResponse', isSingle: false },\n        own_reactions: { type: 'ReactionResponse', isSingle: false },\n        user: { type: 'UserResponse', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        message_text_updated_at: { type: 'DatetimeType', isSingle: true },\n        pin_expires: { type: 'DatetimeType', isSingle: true },\n        pinned_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'UserResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        draft: { type: 'DraftResponse', isSingle: true },\n        pinned_by: { type: 'UserResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        quoted_message: { type: 'MessageResponse', isSingle: true },\n        reaction_groups: { type: 'ReactionGroupResponse', isSingle: false },\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.Segment = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SegmentResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SegmentTargetResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SendReactionResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.StopLiveResponse = (input) => {\n    const typeMappings = {\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.SubmitActionResponse = (input) => {\n    const typeMappings = {\n        item: { type: 'ReviewQueueItem', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadParticipant = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        last_read_at: { type: 'DatetimeType', isSingle: true },\n        last_thread_message_at: { type: 'DatetimeType', isSingle: true },\n        left_thread_at: { type: 'DatetimeType', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.ThreadStateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        latest_replies: { type: 'MessageResponse', isSingle: false },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_message_at: { type: 'DatetimeType', isSingle: true },\n        read: { type: 'ReadStateResponse', isSingle: false },\n        thread_participants: { type: 'ThreadParticipant', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        draft: { type: 'DraftResponse', isSingle: true },\n        parent_message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.TruncateChannelResponse = (input) => {\n    const typeMappings = {\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsBatchResponse = (input) => {\n    const typeMappings = {\n        counts_by_user: { type: 'UnreadCountsResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsChannel = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UnreadCountsThread = (input) => {\n    const typeMappings = {\n        last_read: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateBlockListResponse = (input) => {\n    const typeMappings = {\n        blocklist: { type: 'BlockListResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallMembersResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'MemberResponse', isSingle: false },\n        call: { type: 'CallResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCallTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelPartialResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMemberResponse', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelResponse = (input) => {\n    const typeMappings = {\n        members: { type: 'ChannelMember', isSingle: false },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateChannelTypeResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateCommandResponse = (input) => {\n    const typeMappings = {\n        command: { type: 'Command', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMemberPartialResponse = (input) => {\n    const typeMappings = {\n        channel_member: { type: 'ChannelMemberResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessagePartialResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateMessageResponse = (input) => {\n    const typeMappings = {\n        message: { type: 'MessageResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateReminderResponse = (input) => {\n    const typeMappings = {\n        reminder: { type: 'ReminderResponseData', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateThreadPartialResponse = (input) => {\n    const typeMappings = {\n        thread: { type: 'ThreadResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpdateUsersResponse = (input) => {\n    const typeMappings = {\n        users: { type: 'FullUserResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertConfigResponse = (input) => {\n    const typeMappings = {\n        config: { type: 'ConfigResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertModerationTemplateResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertPushPreferencesResponse = (input) => {\n    const typeMappings = {\n        user_preferences: { type: 'PushPreferences', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertPushProviderResponse = (input) => {\n    const typeMappings = {\n        push_provider: { type: 'PushProviderResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UpsertPushTemplateResponse = (input) => {\n    const typeMappings = {\n        template: { type: 'PushTemplate', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.User = (input) => {\n    const typeMappings = {\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        created_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        last_engaged_at: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMute = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'User', isSingle: true },\n        user: { type: 'User', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserMuteResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        expires: { type: 'DatetimeType', isSingle: true },\n        target: { type: 'UserResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserResponse = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        ban_expires: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n        devices: { type: 'DeviceResponse', isSingle: false },\n        push_notifications: {\n            type: 'PushNotificationSettingsResponse',\n            isSingle: true,\n        },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.UserResponseCommonFields = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        updated_at: { type: 'DatetimeType', isSingle: true },\n        deactivated_at: { type: 'DatetimeType', isSingle: true },\n        deleted_at: { type: 'DatetimeType', isSingle: true },\n        last_active: { type: 'DatetimeType', isSingle: true },\n        revoke_tokens_issued_before: { type: 'DatetimeType', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.VideoReactionOverTimeResponse = (input) => {\n    const typeMappings = {\n        by_minute: { type: 'CountByMinuteResponse', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.VideoReactionsResponse = (input) => {\n    const typeMappings = {\n        count_over_time: { type: 'VideoReactionOverTimeResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WSEvent = (input) => {\n    const typeMappings = {\n        created_at: { type: 'DatetimeType', isSingle: true },\n        channel_last_message_at: { type: 'DatetimeType', isSingle: true },\n        channel: { type: 'ChannelResponse', isSingle: true },\n        created_by: { type: 'UserResponse', isSingle: true },\n        me: { type: 'OwnUserResponse', isSingle: true },\n        member: { type: 'ChannelMember', isSingle: true },\n        message: { type: 'MessageResponse', isSingle: true },\n        poll: { type: 'PollResponseData', isSingle: true },\n        poll_vote: { type: 'PollVoteResponseData', isSingle: true },\n        reaction: { type: 'ReactionResponse', isSingle: true },\n        thread: { type: 'ThreadResponse', isSingle: true },\n        user: { type: 'UserResponse', isSingle: true },\n    };\n    return decode(typeMappings, input);\n};\ndecoders.WrappedUnreadCountsResponse = (input) => {\n    const typeMappings = {\n        channels: { type: 'UnreadCountsChannel', isSingle: false },\n        threads: { type: 'UnreadCountsThread', isSingle: false },\n    };\n    return decode(typeMappings, input);\n};\n\nclass CommonApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.getApp = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/app', undefined, undefined);\n            decoders.GetApplicationResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateApp = async (request) => {\n            const body = {\n                async_url_enrich_enabled: request?.async_url_enrich_enabled,\n                auto_translation_enabled: request?.auto_translation_enabled,\n                before_message_send_hook_url: request?.before_message_send_hook_url,\n                cdn_expiration_seconds: request?.cdn_expiration_seconds,\n                channel_hide_members_only: request?.channel_hide_members_only,\n                custom_action_handler_url: request?.custom_action_handler_url,\n                disable_auth_checks: request?.disable_auth_checks,\n                disable_permissions_checks: request?.disable_permissions_checks,\n                enforce_unique_usernames: request?.enforce_unique_usernames,\n                feeds_moderation_enabled: request?.feeds_moderation_enabled,\n                feeds_v2_region: request?.feeds_v2_region,\n                guest_user_creation_disabled: request?.guest_user_creation_disabled,\n                image_moderation_enabled: request?.image_moderation_enabled,\n                migrate_permissions_to_v2: request?.migrate_permissions_to_v2,\n                moderation_enabled: request?.moderation_enabled,\n                moderation_webhook_url: request?.moderation_webhook_url,\n                multi_tenant_enabled: request?.multi_tenant_enabled,\n                permission_version: request?.permission_version,\n                reminders_interval: request?.reminders_interval,\n                reminders_max_members: request?.reminders_max_members,\n                revoke_tokens_issued_before: request?.revoke_tokens_issued_before,\n                sns_key: request?.sns_key,\n                sns_secret: request?.sns_secret,\n                sns_topic_arn: request?.sns_topic_arn,\n                sqs_key: request?.sqs_key,\n                sqs_secret: request?.sqs_secret,\n                sqs_url: request?.sqs_url,\n                webhook_url: request?.webhook_url,\n                allowed_flag_reasons: request?.allowed_flag_reasons,\n                event_hooks: request?.event_hooks,\n                image_moderation_block_labels: request?.image_moderation_block_labels,\n                image_moderation_labels: request?.image_moderation_labels,\n                user_search_disallowed_roles: request?.user_search_disallowed_roles,\n                webhook_events: request?.webhook_events,\n                apn_config: request?.apn_config,\n                async_moderation_config: request?.async_moderation_config,\n                datadog_info: request?.datadog_info,\n                file_upload_config: request?.file_upload_config,\n                firebase_config: request?.firebase_config,\n                grants: request?.grants,\n                huawei_config: request?.huawei_config,\n                image_upload_config: request?.image_upload_config,\n                moderation_dashboard_preferences: request?.moderation_dashboard_preferences,\n                push_config: request?.push_config,\n                xiaomi_config: request?.xiaomi_config,\n            };\n            const response = await this.sendRequest('PATCH', '/api/v2/app', undefined, undefined, body);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listBlockLists = async (request) => {\n            const queryParams = {\n                team: request?.team,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/blocklists', undefined, queryParams);\n            decoders.ListBlockListResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createBlockList = async (request) => {\n            const body = {\n                name: request?.name,\n                words: request?.words,\n                team: request?.team,\n                type: request?.type,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/blocklists', undefined, undefined, body);\n            decoders.CreateBlockListResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteBlockList = async (request) => {\n            const queryParams = {\n                team: request?.team,\n            };\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/blocklists/{name}', pathParams, queryParams);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getBlockList = async (request) => {\n            const queryParams = {\n                team: request?.team,\n            };\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/blocklists/{name}', pathParams, queryParams);\n            decoders.GetBlockListResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateBlockList = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const body = {\n                team: request?.team,\n                words: request?.words,\n            };\n            const response = await this.sendRequest('PUT', '/api/v2/blocklists/{name}', pathParams, undefined, body);\n            decoders.UpdateBlockListResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.checkPush = async (request) => {\n            const body = {\n                apn_template: request?.apn_template,\n                event_type: request?.event_type,\n                firebase_data_template: request?.firebase_data_template,\n                firebase_template: request?.firebase_template,\n                message_id: request?.message_id,\n                push_provider_name: request?.push_provider_name,\n                push_provider_type: request?.push_provider_type,\n                skip_devices: request?.skip_devices,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/check_push', undefined, undefined, body);\n            decoders.CheckPushResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.checkSNS = async (request) => {\n            const body = {\n                sns_key: request?.sns_key,\n                sns_secret: request?.sns_secret,\n                sns_topic_arn: request?.sns_topic_arn,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/check_sns', undefined, undefined, body);\n            decoders.CheckSNSResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.checkSQS = async (request) => {\n            const body = {\n                sqs_key: request?.sqs_key,\n                sqs_secret: request?.sqs_secret,\n                sqs_url: request?.sqs_url,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/check_sqs', undefined, undefined, body);\n            decoders.CheckSQSResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteDevice = async (request) => {\n            const queryParams = {\n                id: request?.id,\n                user_id: request?.user_id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/devices', undefined, queryParams);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listDevices = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/devices', undefined, queryParams);\n            decoders.ListDevicesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createDevice = async (request) => {\n            const body = {\n                id: request?.id,\n                push_provider: request?.push_provider,\n                push_provider_name: request?.push_provider_name,\n                user_id: request?.user_id,\n                voip_token: request?.voip_token,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/devices', undefined, undefined, body);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.exportUsers = async (request) => {\n            const body = {\n                user_ids: request?.user_ids,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/export/users', undefined, undefined, body);\n            decoders.ExportUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listExternalStorage = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/external_storage', undefined, undefined);\n            decoders.ListExternalStorageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createExternalStorage = async (request) => {\n            const body = {\n                bucket: request?.bucket,\n                name: request?.name,\n                storage_type: request?.storage_type,\n                gcs_credentials: request?.gcs_credentials,\n                path: request?.path,\n                aws_s3: request?.aws_s3,\n                azure_blob: request?.azure_blob,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/external_storage', undefined, undefined, body);\n            decoders.CreateExternalStorageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteExternalStorage = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/external_storage/{name}', pathParams, undefined);\n            decoders.DeleteExternalStorageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateExternalStorage = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const body = {\n                bucket: request?.bucket,\n                storage_type: request?.storage_type,\n                gcs_credentials: request?.gcs_credentials,\n                path: request?.path,\n                aws_s3: request?.aws_s3,\n                azure_blob: request?.azure_blob,\n            };\n            const response = await this.sendRequest('PUT', '/api/v2/external_storage/{name}', pathParams, undefined, body);\n            decoders.UpdateExternalStorageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.checkExternalStorage = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/external_storage/{name}/check', pathParams, undefined);\n            decoders.CheckExternalStorageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createGuest = async (request) => {\n            const body = {\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/guest', undefined, undefined, body);\n            decoders.CreateGuestResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createImportURL = async (request) => {\n            const body = {\n                filename: request?.filename,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/import_urls', undefined, undefined, body);\n            decoders.CreateImportURLResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listImports = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/imports', undefined, undefined);\n            decoders.ListImportsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createImport = async (request) => {\n            const body = {\n                mode: request?.mode,\n                path: request?.path,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/imports', undefined, undefined, body);\n            decoders.CreateImportResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getImport = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/imports/{id}', pathParams, undefined);\n            decoders.GetImportResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getOG = async (request) => {\n            const queryParams = {\n                url: request?.url,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/og', undefined, queryParams);\n            decoders.GetOGResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listPermissions = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/permissions', undefined, undefined);\n            decoders.ListPermissionsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getPermission = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/permissions/{id}', pathParams, undefined);\n            decoders.GetCustomPermissionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listPushProviders = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/push_providers', undefined, undefined);\n            decoders.ListPushProvidersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.upsertPushProvider = async (request) => {\n            const body = {\n                push_provider: request?.push_provider,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/push_providers', undefined, undefined, body);\n            decoders.UpsertPushProviderResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deletePushProvider = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                name: request?.name,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/push_providers/{type}/{name}', pathParams, undefined);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getRateLimits = async (request) => {\n            const queryParams = {\n                server_side: request?.server_side,\n                android: request?.android,\n                ios: request?.ios,\n                web: request?.web,\n                endpoints: request?.endpoints,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/rate_limits', undefined, queryParams);\n            decoders.GetRateLimitsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listRoles = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/roles', undefined, undefined);\n            decoders.ListRolesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createRole = async (request) => {\n            const body = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/roles', undefined, undefined, body);\n            decoders.CreateRoleResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteRole = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/roles/{name}', pathParams, undefined);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getTask = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/tasks/{id}', pathParams, undefined);\n            decoders.GetTaskResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteFile = async (request) => {\n            const queryParams = {\n                url: request?.url,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/uploads/file', undefined, queryParams);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.uploadFile = async (request) => {\n            const body = {\n                file: request?.file,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/uploads/file', undefined, undefined, body);\n            decoders.FileUploadResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteImage = async (request) => {\n            const queryParams = {\n                url: request?.url,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/uploads/image', undefined, queryParams);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.uploadImage = async (request) => {\n            const body = {\n                file: request?.file,\n                upload_sizes: request?.upload_sizes,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/uploads/image', undefined, undefined, body);\n            decoders.ImageUploadResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryUsers = async (request) => {\n            const queryParams = {\n                payload: request?.payload,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/users', undefined, queryParams);\n            decoders.QueryUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateUsersPartial = async (request) => {\n            const body = {\n                users: request?.users,\n            };\n            const response = await this.sendRequest('PATCH', '/api/v2/users', undefined, undefined, body);\n            decoders.UpdateUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateUsers = async (request) => {\n            const body = {\n                users: request?.users,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/users', undefined, undefined, body);\n            decoders.UpdateUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getBlockedUsers = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/users/block', undefined, queryParams);\n            decoders.GetBlockedUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.blockUsers = async (request) => {\n            const body = {\n                blocked_user_id: request?.blocked_user_id,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/users/block', undefined, undefined, body);\n            decoders.BlockUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deactivateUsers = async (request) => {\n            const body = {\n                user_ids: request?.user_ids,\n                created_by_id: request?.created_by_id,\n                mark_channels_deleted: request?.mark_channels_deleted,\n                mark_messages_deleted: request?.mark_messages_deleted,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/users/deactivate', undefined, undefined, body);\n            decoders.DeactivateUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteUsers = async (request) => {\n            const body = {\n                user_ids: request?.user_ids,\n                calls: request?.calls,\n                conversations: request?.conversations,\n                messages: request?.messages,\n                new_call_owner_id: request?.new_call_owner_id,\n                new_channel_owner_id: request?.new_channel_owner_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/users/delete', undefined, undefined, body);\n            decoders.DeleteUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.reactivateUsers = async (request) => {\n            const body = {\n                user_ids: request?.user_ids,\n                created_by_id: request?.created_by_id,\n                restore_channels: request?.restore_channels,\n                restore_messages: request?.restore_messages,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/users/reactivate', undefined, undefined, body);\n            decoders.ReactivateUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.restoreUsers = async (request) => {\n            const body = {\n                user_ids: request?.user_ids,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/users/restore', undefined, undefined, body);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.unblockUsers = async (request) => {\n            const body = {\n                blocked_user_id: request?.blocked_user_id,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/users/unblock', undefined, undefined, body);\n            decoders.UnblockUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deactivateUser = async (request) => {\n            const pathParams = {\n                user_id: request?.user_id,\n            };\n            const body = {\n                created_by_id: request?.created_by_id,\n                mark_messages_deleted: request?.mark_messages_deleted,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/users/{user_id}/deactivate', pathParams, undefined, body);\n            decoders.DeactivateUserResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.exportUser = async (request) => {\n            const pathParams = {\n                user_id: request?.user_id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/users/{user_id}/export', pathParams, undefined);\n            decoders.ExportUserResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.reactivateUser = async (request) => {\n            const pathParams = {\n                user_id: request?.user_id,\n            };\n            const body = {\n                created_by_id: request?.created_by_id,\n                name: request?.name,\n                restore_messages: request?.restore_messages,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/users/{user_id}/reactivate', pathParams, undefined, body);\n            decoders.ReactivateUserResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n    }\n}\n\nclass VideoApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.queryUserFeedback = async (request) => {\n            const queryParams = {\n                full: request?.full,\n            };\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n                filter_conditions: request?.filter_conditions,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/feedback', undefined, queryParams, body);\n            decoders.QueryUserFeedbackResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryCallMembers = async (request) => {\n            const body = {\n                id: request?.id,\n                type: request?.type,\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n                filter_conditions: request?.filter_conditions,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/members', undefined, undefined, body);\n            decoders.QueryCallMembersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryCallStats = async (request) => {\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n                filter_conditions: request?.filter_conditions,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/stats', undefined, undefined, body);\n            decoders.QueryCallStatsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getCall = async (request) => {\n            const queryParams = {\n                members_limit: request?.members_limit,\n                ring: request?.ring,\n                notify: request?.notify,\n                video: request?.video,\n            };\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/video/call/{type}/{id}', pathParams, queryParams);\n            decoders.GetCallResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateCall = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                starts_at: request?.starts_at,\n                custom: request?.custom,\n                settings_override: request?.settings_override,\n            };\n            const response = await this.sendRequest('PATCH', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body);\n            decoders.UpdateCallResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getOrCreateCall = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                members_limit: request?.members_limit,\n                notify: request?.notify,\n                ring: request?.ring,\n                video: request?.video,\n                data: request?.data,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}', pathParams, undefined, body);\n            decoders.GetOrCreateCallResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.blockUser = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                user_id: request?.user_id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/block', pathParams, undefined, body);\n            decoders.BlockUserResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteCall = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                hard: request?.hard,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/delete', pathParams, undefined, body);\n            decoders.DeleteCallResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.sendCallEvent = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                user_id: request?.user_id,\n                custom: request?.custom,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/event', pathParams, undefined, body);\n            decoders.SendCallEventResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.collectUserFeedback = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                rating: request?.rating,\n                sdk: request?.sdk,\n                sdk_version: request?.sdk_version,\n                reason: request?.reason,\n                user_session_id: request?.user_session_id,\n                custom: request?.custom,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/feedback', pathParams, undefined, body);\n            decoders.CollectUserFeedbackResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.goLive = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                recording_storage_name: request?.recording_storage_name,\n                start_closed_caption: request?.start_closed_caption,\n                start_hls: request?.start_hls,\n                start_recording: request?.start_recording,\n                start_transcription: request?.start_transcription,\n                transcription_storage_name: request?.transcription_storage_name,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/go_live', pathParams, undefined, body);\n            decoders.GoLiveResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.endCall = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mark_ended', pathParams, undefined);\n            decoders.EndCallResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateCallMembers = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                remove_members: request?.remove_members,\n                update_members: request?.update_members,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/members', pathParams, undefined, body);\n            decoders.UpdateCallMembersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.muteUsers = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                audio: request?.audio,\n                mute_all_users: request?.mute_all_users,\n                muted_by_id: request?.muted_by_id,\n                screenshare: request?.screenshare,\n                screenshare_audio: request?.screenshare_audio,\n                video: request?.video,\n                user_ids: request?.user_ids,\n                muted_by: request?.muted_by,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/mute_users', pathParams, undefined, body);\n            decoders.MuteUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryCallParticipants = async (request) => {\n            const queryParams = {\n                limit: request?.limit,\n            };\n            const pathParams = {\n                id: request?.id,\n                type: request?.type,\n            };\n            const body = {\n                filter_conditions: request?.filter_conditions,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/participants', pathParams, queryParams, body);\n            decoders.QueryCallParticipantsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.videoPin = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                session_id: request?.session_id,\n                user_id: request?.user_id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/pin', pathParams, undefined, body);\n            decoders.PinResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listRecordings = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/recordings', pathParams, undefined);\n            decoders.ListRecordingsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getCallReport = async (request) => {\n            const queryParams = {\n                session_id: request?.session_id,\n            };\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/report', pathParams, queryParams);\n            decoders.GetCallReportResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.startRTMPBroadcasts = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                broadcasts: request?.broadcasts,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts', pathParams, undefined, body);\n            decoders.StartRTMPBroadcastsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.stopAllRTMPBroadcasts = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/stop', pathParams, undefined);\n            decoders.StopAllRTMPBroadcastsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.stopRTMPBroadcast = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n                name: request?.name,\n            };\n            const body = {};\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/rtmp_broadcasts/{name}/stop', pathParams, undefined, body);\n            decoders.StopRTMPBroadcastsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.startHLSBroadcasting = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_broadcasting', pathParams, undefined);\n            decoders.StartHLSBroadcastingResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.startClosedCaptions = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                enable_transcription: request?.enable_transcription,\n                external_storage: request?.external_storage,\n                language: request?.language,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_closed_captions', pathParams, undefined, body);\n            decoders.StartClosedCaptionsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.startFrameRecording = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                recording_external_storage: request?.recording_external_storage,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_frame_recording', pathParams, undefined, body);\n            decoders.StartFrameRecordingResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.startRecording = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                recording_external_storage: request?.recording_external_storage,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_recording', pathParams, undefined, body);\n            decoders.StartRecordingResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.startTranscription = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                enable_closed_captions: request?.enable_closed_captions,\n                language: request?.language,\n                transcription_external_storage: request?.transcription_external_storage,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/start_transcription', pathParams, undefined, body);\n            decoders.StartTranscriptionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.stopHLSBroadcasting = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_broadcasting', pathParams, undefined);\n            decoders.StopHLSBroadcastingResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.stopClosedCaptions = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                stop_transcription: request?.stop_transcription,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_closed_captions', pathParams, undefined, body);\n            decoders.StopClosedCaptionsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.stopFrameRecording = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_frame_recording', pathParams, undefined);\n            decoders.StopFrameRecordingResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.stopLive = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                continue_closed_caption: request?.continue_closed_caption,\n                continue_hls: request?.continue_hls,\n                continue_recording: request?.continue_recording,\n                continue_rtmp_broadcasts: request?.continue_rtmp_broadcasts,\n                continue_transcription: request?.continue_transcription,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_live', pathParams, undefined, body);\n            decoders.StopLiveResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.stopRecording = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_recording', pathParams, undefined);\n            decoders.StopRecordingResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.stopTranscription = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                stop_closed_captions: request?.stop_closed_captions,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/stop_transcription', pathParams, undefined, body);\n            decoders.StopTranscriptionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listTranscriptions = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/video/call/{type}/{id}/transcriptions', pathParams, undefined);\n            decoders.ListTranscriptionsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.unblockUser = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                user_id: request?.user_id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unblock', pathParams, undefined, body);\n            decoders.UnblockUserResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.videoUnpin = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                session_id: request?.session_id,\n                user_id: request?.user_id,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/unpin', pathParams, undefined, body);\n            decoders.UnpinResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateUserPermissions = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                user_id: request?.user_id,\n                grant_permissions: request?.grant_permissions,\n                revoke_permissions: request?.revoke_permissions,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/call/{type}/{id}/user_permissions', pathParams, undefined, body);\n            decoders.UpdateUserPermissionsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteRecording = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n                session: request?.session,\n                filename: request?.filename,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/recordings/{filename}', pathParams, undefined);\n            decoders.DeleteRecordingResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteTranscription = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n                session: request?.session,\n                filename: request?.filename,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/video/call/{type}/{id}/{session}/transcriptions/{filename}', pathParams, undefined);\n            decoders.DeleteTranscriptionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryCalls = async (request) => {\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n                filter_conditions: request?.filter_conditions,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/calls', undefined, undefined, body);\n            decoders.QueryCallsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listCallTypes = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/video/calltypes', undefined, undefined);\n            decoders.ListCallTypeResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createCallType = async (request) => {\n            const body = {\n                name: request?.name,\n                external_storage: request?.external_storage,\n                grants: request?.grants,\n                notification_settings: request?.notification_settings,\n                settings: request?.settings,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/calltypes', undefined, undefined, body);\n            decoders.CreateCallTypeResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteCallType = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getCallType = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/video/calltypes/{name}', pathParams, undefined);\n            decoders.GetCallTypeResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateCallType = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const body = {\n                external_storage: request?.external_storage,\n                grants: request?.grants,\n                notification_settings: request?.notification_settings,\n                settings: request?.settings,\n            };\n            const response = await this.sendRequest('PUT', '/api/v2/video/calltypes/{name}', pathParams, undefined, body);\n            decoders.UpdateCallTypeResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getEdges = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/video/edges', undefined, undefined);\n            decoders.GetEdgesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryAggregateCallStats = async (request) => {\n            const body = {\n                from: request?.from,\n                to: request?.to,\n                report_types: request?.report_types,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/video/stats', undefined, undefined, body);\n            decoders.QueryAggregateCallStatsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n    }\n}\n\nclass CallApi {\n    constructor(videoApi, type, id) {\n        this.videoApi = videoApi;\n        this.type = type;\n        this.id = id;\n        this.get = (request) => {\n            return this.videoApi.getCall({ id: this.id, type: this.type, ...request });\n        };\n        this.update = (request) => {\n            return this.videoApi.updateCall({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.getOrCreate = (request) => {\n            return this.videoApi.getOrCreateCall({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.blockUser = (request) => {\n            return this.videoApi.blockUser({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.delete = (request) => {\n            return this.videoApi.deleteCall({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.sendCallEvent = (request) => {\n            return this.videoApi.sendCallEvent({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.collectUserFeedback = (request) => {\n            return this.videoApi.collectUserFeedback({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.goLive = (request) => {\n            return this.videoApi.goLive({ id: this.id, type: this.type, ...request });\n        };\n        this.end = () => {\n            return this.videoApi.endCall({ id: this.id, type: this.type });\n        };\n        this.updateCallMembers = (request) => {\n            return this.videoApi.updateCallMembers({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.muteUsers = (request) => {\n            return this.videoApi.muteUsers({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.queryCallParticipants = (request) => {\n            return this.videoApi.queryCallParticipants({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.videoPin = (request) => {\n            return this.videoApi.videoPin({ id: this.id, type: this.type, ...request });\n        };\n        this.listRecordings = () => {\n            return this.videoApi.listRecordings({ id: this.id, type: this.type });\n        };\n        this.getCallReport = (request) => {\n            return this.videoApi.getCallReport({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.startRTMPBroadcasts = (request) => {\n            return this.videoApi.startRTMPBroadcasts({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.stopAllRTMPBroadcasts = () => {\n            return this.videoApi.stopAllRTMPBroadcasts({\n                id: this.id,\n                type: this.type,\n            });\n        };\n        this.stopRTMPBroadcast = (request) => {\n            return this.videoApi.stopRTMPBroadcast({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.startHLSBroadcasting = () => {\n            return this.videoApi.startHLSBroadcasting({ id: this.id, type: this.type });\n        };\n        this.startClosedCaptions = (request) => {\n            return this.videoApi.startClosedCaptions({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.startFrameRecording = (request) => {\n            return this.videoApi.startFrameRecording({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.startRecording = (request) => {\n            return this.videoApi.startRecording({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.startTranscription = (request) => {\n            return this.videoApi.startTranscription({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.stopHLSBroadcasting = () => {\n            return this.videoApi.stopHLSBroadcasting({ id: this.id, type: this.type });\n        };\n        this.stopClosedCaptions = (request) => {\n            return this.videoApi.stopClosedCaptions({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.stopFrameRecording = () => {\n            return this.videoApi.stopFrameRecording({ id: this.id, type: this.type });\n        };\n        this.stopLive = (request) => {\n            return this.videoApi.stopLive({ id: this.id, type: this.type, ...request });\n        };\n        this.stopRecording = () => {\n            return this.videoApi.stopRecording({ id: this.id, type: this.type });\n        };\n        this.stopTranscription = (request) => {\n            return this.videoApi.stopTranscription({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.listTranscriptions = () => {\n            return this.videoApi.listTranscriptions({ id: this.id, type: this.type });\n        };\n        this.unblockUser = (request) => {\n            return this.videoApi.unblockUser({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.videoUnpin = (request) => {\n            return this.videoApi.videoUnpin({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.updateUserPermissions = (request) => {\n            return this.videoApi.updateUserPermissions({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.deleteRecording = (request) => {\n            return this.videoApi.deleteRecording({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.deleteTranscription = (request) => {\n            return this.videoApi.deleteTranscription({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n    }\n}\n\nclass StreamCall extends CallApi {\n    constructor() {\n        super(...arguments);\n        this.create = this.getOrCreate;\n        this.queryMembers = (request) => {\n            return this.videoApi.queryCallMembers({\n                id: this.id,\n                type: this.type,\n                ...(request ?? {}),\n            });\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n}\n\nclass StreamVideoClient extends VideoApi {\n    constructor({ streamClient, ...apiConfig }) {\n        super(apiConfig);\n        this.call = (type, id) => {\n            return new StreamCall(this, type, id);\n        };\n        this.connectOpenAi = async (options) => {\n            let doCreateRealtimeClient;\n            try {\n                doCreateRealtimeClient = (await __webpack_require__.e(/*! import() */ \"_9055\").then(__webpack_require__.t.bind(__webpack_require__, /*! @stream-io/openai-realtime-api */ \"?9055\", 19)))\n                    .createRealtimeClient;\n            }\n            catch {\n                throw new Error('Cannot create Realtime API client. Is @stream-io/openai-realtime-api installed?');\n            }\n            if (!options.agentUserId) {\n                throw new Error('\"agentUserId\" must by specified in options');\n            }\n            const token = this.streamClient.generateCallToken({\n                user_id: options.agentUserId,\n                call_cids: [options.call.cid],\n                validity_in_seconds: options.validityInSeconds,\n            });\n            const realtimeClient = doCreateRealtimeClient({\n                baseUrl: this.apiConfig.baseUrl,\n                call: options.call,\n                streamApiKey: this.apiConfig.apiKey,\n                streamUserToken: token,\n                openAiApiKey: options.openAiApiKey,\n                model: options.model,\n            });\n            await realtimeClient.connect();\n            return realtimeClient;\n        };\n        this.streamClient = streamClient;\n    }\n}\n\nclass ChatApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.queryCampaigns = async (request) => {\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                user_limit: request?.user_limit,\n                sort: request?.sort,\n                filter: request?.filter,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/campaigns/query', undefined, undefined, body);\n            decoders.QueryCampaignsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getCampaign = async (request) => {\n            const queryParams = {\n                prev: request?.prev,\n                next: request?.next,\n                limit: request?.limit,\n            };\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/campaigns/{id}', pathParams, queryParams);\n            decoders.GetCampaignResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.startCampaign = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                scheduled_for: request?.scheduled_for,\n                stop_at: request?.stop_at,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/campaigns/{id}/start', pathParams, undefined, body);\n            decoders.StartCampaignResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.scheduleCampaign = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {};\n            const response = await this.sendRequest('POST', '/api/v2/chat/campaigns/{id}/stop', pathParams, undefined, body);\n            decoders.CampaignResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryChannels = async (request) => {\n            const body = {\n                limit: request?.limit,\n                member_limit: request?.member_limit,\n                message_limit: request?.message_limit,\n                offset: request?.offset,\n                state: request?.state,\n                user_id: request?.user_id,\n                sort: request?.sort,\n                filter_conditions: request?.filter_conditions,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels', undefined, undefined, body);\n            decoders.QueryChannelsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteChannels = async (request) => {\n            const body = {\n                cids: request?.cids,\n                hard_delete: request?.hard_delete,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/delete', undefined, undefined, body);\n            decoders.DeleteChannelsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.markChannelsRead = async (request) => {\n            const body = {\n                user_id: request?.user_id,\n                read_by_channel: request?.read_by_channel,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/read', undefined, undefined, body);\n            decoders.MarkReadResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getOrCreateDistinctChannel = async (request) => {\n            const pathParams = {\n                type: request?.type,\n            };\n            const body = {\n                hide_for_creator: request?.hide_for_creator,\n                state: request?.state,\n                thread_unread_counts: request?.thread_unread_counts,\n                data: request?.data,\n                members: request?.members,\n                messages: request?.messages,\n                watchers: request?.watchers,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/query', pathParams, undefined, body);\n            decoders.ChannelStateResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteChannel = async (request) => {\n            const queryParams = {\n                hard_delete: request?.hard_delete,\n            };\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}', pathParams, queryParams);\n            decoders.DeleteChannelResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateChannelPartial = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                user_id: request?.user_id,\n                unset: request?.unset,\n                set: request?.set,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body);\n            decoders.UpdateChannelPartialResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateChannel = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                accept_invite: request?.accept_invite,\n                cooldown: request?.cooldown,\n                hide_history: request?.hide_history,\n                reject_invite: request?.reject_invite,\n                skip_push: request?.skip_push,\n                user_id: request?.user_id,\n                add_members: request?.add_members,\n                add_moderators: request?.add_moderators,\n                assign_roles: request?.assign_roles,\n                demote_moderators: request?.demote_moderators,\n                invites: request?.invites,\n                remove_members: request?.remove_members,\n                data: request?.data,\n                message: request?.message,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}', pathParams, undefined, body);\n            decoders.UpdateChannelResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteDraft = async (request) => {\n            const queryParams = {\n                parent_id: request?.parent_id,\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/draft', pathParams, queryParams);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getDraft = async (request) => {\n            const queryParams = {\n                parent_id: request?.parent_id,\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/channels/{type}/{id}/draft', pathParams, queryParams);\n            decoders.GetDraftResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.sendEvent = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                event: request?.event,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/event', pathParams, undefined, body);\n            decoders.EventResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteFile = async (request) => {\n            const queryParams = {\n                url: request?.url,\n            };\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/file', pathParams, queryParams);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.uploadFile = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                file: request?.file,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/file', pathParams, undefined, body);\n            decoders.FileUploadResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.hideChannel = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                clear_history: request?.clear_history,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/hide', pathParams, undefined, body);\n            decoders.HideChannelResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteImage = async (request) => {\n            const queryParams = {\n                url: request?.url,\n            };\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/channels/{type}/{id}/image', pathParams, queryParams);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.uploadImage = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                file: request?.file,\n                upload_sizes: request?.upload_sizes,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/image', pathParams, undefined, body);\n            decoders.ImageUploadResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateMemberPartial = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                unset: request?.unset,\n                set: request?.set,\n            };\n            const response = await this.sendRequest('PATCH', '/api/v2/chat/channels/{type}/{id}/member', pathParams, queryParams, body);\n            decoders.UpdateMemberPartialResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.sendMessage = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                message: request?.message,\n                force_moderation: request?.force_moderation,\n                keep_channel_hidden: request?.keep_channel_hidden,\n                pending: request?.pending,\n                skip_enrich_url: request?.skip_enrich_url,\n                skip_push: request?.skip_push,\n                pending_message_metadata: request?.pending_message_metadata,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/message', pathParams, undefined, body);\n            decoders.SendMessageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getManyMessages = async (request) => {\n            const queryParams = {\n                ids: request?.ids,\n            };\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/channels/{type}/{id}/messages', pathParams, queryParams);\n            decoders.GetManyMessagesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getOrCreateChannel = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                hide_for_creator: request?.hide_for_creator,\n                state: request?.state,\n                thread_unread_counts: request?.thread_unread_counts,\n                data: request?.data,\n                members: request?.members,\n                messages: request?.messages,\n                watchers: request?.watchers,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/query', pathParams, undefined, body);\n            decoders.ChannelStateResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.markRead = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                message_id: request?.message_id,\n                thread_id: request?.thread_id,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/read', pathParams, undefined, body);\n            decoders.MarkReadResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.showChannel = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/show', pathParams, undefined, body);\n            decoders.ShowChannelResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.truncateChannel = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                hard_delete: request?.hard_delete,\n                skip_push: request?.skip_push,\n                truncated_at: request?.truncated_at,\n                user_id: request?.user_id,\n                member_ids: request?.member_ids,\n                message: request?.message,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/truncate', pathParams, undefined, body);\n            decoders.TruncateChannelResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.markUnread = async (request) => {\n            const pathParams = {\n                type: request?.type,\n                id: request?.id,\n            };\n            const body = {\n                message_id: request?.message_id,\n                thread_id: request?.thread_id,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channels/{type}/{id}/unread', pathParams, undefined, body);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listChannelTypes = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/chat/channeltypes', undefined, undefined);\n            decoders.ListChannelTypesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createChannelType = async (request) => {\n            const body = {\n                automod: request?.automod,\n                automod_behavior: request?.automod_behavior,\n                max_message_length: request?.max_message_length,\n                name: request?.name,\n                blocklist: request?.blocklist,\n                blocklist_behavior: request?.blocklist_behavior,\n                connect_events: request?.connect_events,\n                custom_events: request?.custom_events,\n                mark_messages_pending: request?.mark_messages_pending,\n                message_retention: request?.message_retention,\n                mutes: request?.mutes,\n                partition_size: request?.partition_size,\n                partition_ttl: request?.partition_ttl,\n                polls: request?.polls,\n                push_notifications: request?.push_notifications,\n                reactions: request?.reactions,\n                read_events: request?.read_events,\n                replies: request?.replies,\n                search: request?.search,\n                skip_last_msg_update_for_system_msgs: request?.skip_last_msg_update_for_system_msgs,\n                typing_events: request?.typing_events,\n                uploads: request?.uploads,\n                url_enrichment: request?.url_enrichment,\n                user_message_reminders: request?.user_message_reminders,\n                blocklists: request?.blocklists,\n                commands: request?.commands,\n                permissions: request?.permissions,\n                grants: request?.grants,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/channeltypes', undefined, undefined, body);\n            decoders.CreateChannelTypeResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteChannelType = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getChannelType = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/channeltypes/{name}', pathParams, undefined);\n            decoders.GetChannelTypeResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateChannelType = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const body = {\n                automod: request?.automod,\n                automod_behavior: request?.automod_behavior,\n                max_message_length: request?.max_message_length,\n                blocklist: request?.blocklist,\n                blocklist_behavior: request?.blocklist_behavior,\n                connect_events: request?.connect_events,\n                custom_events: request?.custom_events,\n                mark_messages_pending: request?.mark_messages_pending,\n                mutes: request?.mutes,\n                partition_size: request?.partition_size,\n                partition_ttl: request?.partition_ttl,\n                polls: request?.polls,\n                push_notifications: request?.push_notifications,\n                quotes: request?.quotes,\n                reactions: request?.reactions,\n                read_events: request?.read_events,\n                reminders: request?.reminders,\n                replies: request?.replies,\n                search: request?.search,\n                skip_last_msg_update_for_system_msgs: request?.skip_last_msg_update_for_system_msgs,\n                typing_events: request?.typing_events,\n                uploads: request?.uploads,\n                url_enrichment: request?.url_enrichment,\n                user_message_reminders: request?.user_message_reminders,\n                allowed_flag_reasons: request?.allowed_flag_reasons,\n                blocklists: request?.blocklists,\n                commands: request?.commands,\n                permissions: request?.permissions,\n                automod_thresholds: request?.automod_thresholds,\n                grants: request?.grants,\n            };\n            const response = await this.sendRequest('PUT', '/api/v2/chat/channeltypes/{name}', pathParams, undefined, body);\n            decoders.UpdateChannelTypeResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.listCommands = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/chat/commands', undefined, undefined);\n            decoders.ListCommandsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createCommand = async (request) => {\n            const body = {\n                description: request?.description,\n                name: request?.name,\n                args: request?.args,\n                set: request?.set,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/commands', undefined, undefined, body);\n            decoders.CreateCommandResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteCommand = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/commands/{name}', pathParams, undefined);\n            decoders.DeleteCommandResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getCommand = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/commands/{name}', pathParams, undefined);\n            decoders.GetCommandResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateCommand = async (request) => {\n            const pathParams = {\n                name: request?.name,\n            };\n            const body = {\n                description: request?.description,\n                args: request?.args,\n                set: request?.set,\n            };\n            const response = await this.sendRequest('PUT', '/api/v2/chat/commands/{name}', pathParams, undefined, body);\n            decoders.UpdateCommandResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryDrafts = async (request) => {\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                user_id: request?.user_id,\n                sort: request?.sort,\n                filter: request?.filter,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/drafts/query', undefined, undefined, body);\n            decoders.QueryDraftsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.exportChannels = async (request) => {\n            const body = {\n                channels: request?.channels,\n                clear_deleted_message_text: request?.clear_deleted_message_text,\n                export_users: request?.export_users,\n                include_soft_deleted_channels: request?.include_soft_deleted_channels,\n                include_truncated_messages: request?.include_truncated_messages,\n                version: request?.version,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/export_channels', undefined, undefined, body);\n            decoders.ExportChannelsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryMembers = async (request) => {\n            const queryParams = {\n                payload: request?.payload,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/members', undefined, queryParams);\n            decoders.MembersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryMessageHistory = async (request) => {\n            const body = {\n                filter: request?.filter,\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/history', undefined, undefined, body);\n            decoders.QueryMessageHistoryResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteMessage = async (request) => {\n            const queryParams = {\n                hard: request?.hard,\n                deleted_by: request?.deleted_by,\n            };\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n            decoders.DeleteMessageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getMessage = async (request) => {\n            const queryParams = {\n                show_deleted_message: request?.show_deleted_message,\n            };\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/messages/{id}', pathParams, queryParams);\n            decoders.GetMessageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateMessage = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                message: request?.message,\n                skip_enrich_url: request?.skip_enrich_url,\n                skip_push: request?.skip_push,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/{id}', pathParams, undefined, body);\n            decoders.UpdateMessageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateMessagePartial = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                skip_enrich_url: request?.skip_enrich_url,\n                user_id: request?.user_id,\n                unset: request?.unset,\n                set: request?.set,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('PUT', '/api/v2/chat/messages/{id}', pathParams, undefined, body);\n            decoders.UpdateMessagePartialResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.runMessageAction = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                form_data: request?.form_data,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/{id}/action', pathParams, undefined, body);\n            decoders.MessageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.commitMessage = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {};\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/{id}/commit', pathParams, undefined, body);\n            decoders.MessageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.sendReaction = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                reaction: request?.reaction,\n                enforce_unique: request?.enforce_unique,\n                skip_push: request?.skip_push,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/{id}/reaction', pathParams, undefined, body);\n            decoders.SendReactionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteReaction = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                id: request?.id,\n                type: request?.type,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/messages/{id}/reaction/{type}', pathParams, queryParams);\n            decoders.DeleteReactionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getReactions = async (request) => {\n            const queryParams = {\n                limit: request?.limit,\n                offset: request?.offset,\n            };\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/messages/{id}/reactions', pathParams, queryParams);\n            decoders.GetReactionsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryReactions = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                user_id: request?.user_id,\n                sort: request?.sort,\n                filter: request?.filter,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/{id}/reactions', pathParams, undefined, body);\n            decoders.QueryReactionsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.translateMessage = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                language: request?.language,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/{id}/translate', pathParams, undefined, body);\n            decoders.MessageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.undeleteMessage = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                message: request?.message,\n                skip_enrich_url: request?.skip_enrich_url,\n                skip_push: request?.skip_push,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/{id}/undelete', pathParams, undefined, body);\n            decoders.UpdateMessageResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.castPollVote = async (request) => {\n            const pathParams = {\n                message_id: request?.message_id,\n                poll_id: request?.poll_id,\n            };\n            const body = {\n                user_id: request?.user_id,\n                user: request?.user,\n                vote: request?.vote,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote', pathParams, undefined, body);\n            decoders.PollVoteResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.removePollVote = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                message_id: request?.message_id,\n                poll_id: request?.poll_id,\n                vote_id: request?.vote_id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/messages/{message_id}/polls/{poll_id}/vote/{vote_id}', pathParams, queryParams);\n            decoders.PollVoteResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteReminder = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                message_id: request?.message_id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/messages/{message_id}/reminders', pathParams, queryParams);\n            decoders.DeleteReminderResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateReminder = async (request) => {\n            const pathParams = {\n                message_id: request?.message_id,\n            };\n            const body = {\n                remind_at: request?.remind_at,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('PATCH', '/api/v2/chat/messages/{message_id}/reminders', pathParams, undefined, body);\n            decoders.UpdateReminderResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createReminder = async (request) => {\n            const pathParams = {\n                message_id: request?.message_id,\n            };\n            const body = {\n                remind_at: request?.remind_at,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/messages/{message_id}/reminders', pathParams, undefined, body);\n            decoders.ReminderResponseData?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getReplies = async (request) => {\n            const queryParams = {\n                limit: request?.limit,\n                offset: request?.offset,\n                id_gte: request?.id_gte,\n                id_gt: request?.id_gt,\n                id_lte: request?.id_lte,\n                id_lt: request?.id_lt,\n                created_at_after_or_equal: request?.created_at_after_or_equal,\n                created_at_after: request?.created_at_after,\n                created_at_before_or_equal: request?.created_at_before_or_equal,\n                created_at_before: request?.created_at_before,\n                id_around: request?.id_around,\n                created_at_around: request?.created_at_around,\n                sort: request?.sort,\n            };\n            const pathParams = {\n                parent_id: request?.parent_id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/messages/{parent_id}/replies', pathParams, queryParams);\n            decoders.GetRepliesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryMessageFlags = async (request) => {\n            const queryParams = {\n                payload: request?.payload,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/moderation/flags/message', undefined, queryParams);\n            decoders.QueryMessageFlagsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.muteChannel = async (request) => {\n            const body = {\n                expiration: request?.expiration,\n                user_id: request?.user_id,\n                channel_cids: request?.channel_cids,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/moderation/mute/channel', undefined, undefined, body);\n            decoders.MuteChannelResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.unmuteChannel = async (request) => {\n            const body = {\n                expiration: request?.expiration,\n                user_id: request?.user_id,\n                channel_cids: request?.channel_cids,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/moderation/unmute/channel', undefined, undefined, body);\n            decoders.UnmuteResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createPoll = async (request) => {\n            const body = {\n                name: request?.name,\n                allow_answers: request?.allow_answers,\n                allow_user_suggested_options: request?.allow_user_suggested_options,\n                description: request?.description,\n                enforce_unique_vote: request?.enforce_unique_vote,\n                id: request?.id,\n                is_closed: request?.is_closed,\n                max_votes_allowed: request?.max_votes_allowed,\n                user_id: request?.user_id,\n                voting_visibility: request?.voting_visibility,\n                options: request?.options,\n                custom: request?.custom,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/polls', undefined, undefined, body);\n            decoders.PollResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updatePoll = async (request) => {\n            const body = {\n                id: request?.id,\n                name: request?.name,\n                allow_answers: request?.allow_answers,\n                allow_user_suggested_options: request?.allow_user_suggested_options,\n                description: request?.description,\n                enforce_unique_vote: request?.enforce_unique_vote,\n                is_closed: request?.is_closed,\n                max_votes_allowed: request?.max_votes_allowed,\n                user_id: request?.user_id,\n                voting_visibility: request?.voting_visibility,\n                options: request?.options,\n                custom: request?.custom,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('PUT', '/api/v2/chat/polls', undefined, undefined, body);\n            decoders.PollResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryPolls = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n                filter: request?.filter,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/polls/query', undefined, queryParams, body);\n            decoders.QueryPollsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deletePoll = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                poll_id: request?.poll_id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/polls/{poll_id}', pathParams, queryParams);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getPoll = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                poll_id: request?.poll_id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/polls/{poll_id}', pathParams, queryParams);\n            decoders.PollResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updatePollPartial = async (request) => {\n            const pathParams = {\n                poll_id: request?.poll_id,\n            };\n            const body = {\n                user_id: request?.user_id,\n                unset: request?.unset,\n                set: request?.set,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('PATCH', '/api/v2/chat/polls/{poll_id}', pathParams, undefined, body);\n            decoders.PollResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.createPollOption = async (request) => {\n            const pathParams = {\n                poll_id: request?.poll_id,\n            };\n            const body = {\n                text: request?.text,\n                position: request?.position,\n                user_id: request?.user_id,\n                custom: request?.custom,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/polls/{poll_id}/options', pathParams, undefined, body);\n            decoders.PollOptionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updatePollOption = async (request) => {\n            const pathParams = {\n                poll_id: request?.poll_id,\n            };\n            const body = {\n                id: request?.id,\n                text: request?.text,\n                user_id: request?.user_id,\n                custom: request?.custom,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('PUT', '/api/v2/chat/polls/{poll_id}/options', pathParams, undefined, body);\n            decoders.PollOptionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deletePollOption = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                poll_id: request?.poll_id,\n                option_id: request?.option_id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getPollOption = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                poll_id: request?.poll_id,\n                option_id: request?.option_id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/polls/{poll_id}/options/{option_id}', pathParams, queryParams);\n            decoders.PollOptionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryPollVotes = async (request) => {\n            const queryParams = {\n                user_id: request?.user_id,\n            };\n            const pathParams = {\n                poll_id: request?.poll_id,\n            };\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n                filter: request?.filter,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/polls/{poll_id}/votes', pathParams, queryParams, body);\n            decoders.PollVotesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updatePushNotificationPreferences = async (request) => {\n            const body = {\n                preferences: request?.preferences,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/push_preferences', undefined, undefined, body);\n            decoders.UpsertPushPreferencesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getPushTemplates = async (request) => {\n            const queryParams = {\n                push_provider_type: request?.push_provider_type,\n                push_provider_name: request?.push_provider_name,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/push_templates', undefined, queryParams);\n            decoders.GetPushTemplatesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.upsertPushTemplate = async (request) => {\n            const body = {\n                event_type: request?.event_type,\n                push_provider_type: request?.push_provider_type,\n                enable_push: request?.enable_push,\n                push_provider_name: request?.push_provider_name,\n                template: request?.template,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/push_templates', undefined, undefined, body);\n            decoders.UpsertPushTemplateResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryBannedUsers = async (request) => {\n            const queryParams = {\n                payload: request?.payload,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/query_banned_users', undefined, queryParams);\n            decoders.QueryBannedUsersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryReminders = async (request) => {\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                user_id: request?.user_id,\n                sort: request?.sort,\n                filter: request?.filter,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/reminders/query', undefined, undefined, body);\n            decoders.QueryRemindersResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.search = async (request) => {\n            const queryParams = {\n                payload: request?.payload,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/search', undefined, queryParams);\n            decoders.SearchResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.querySegments = async (request) => {\n            const body = {\n                filter: request?.filter,\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/segments/query', undefined, undefined, body);\n            decoders.QuerySegmentsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteSegment = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/chat/segments/{id}', pathParams, undefined);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getSegment = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/segments/{id}', pathParams, undefined);\n            decoders.GetSegmentResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteSegmentTargets = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                target_ids: request?.target_ids,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/segments/{id}/deletetargets', pathParams, undefined, body);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.segmentTargetExists = async (request) => {\n            const pathParams = {\n                id: request?.id,\n                target_id: request?.target_id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/segments/{id}/target/{target_id}', pathParams, undefined);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.querySegmentTargets = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n                filter: request?.filter,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/segments/{id}/targets/query', pathParams, undefined, body);\n            decoders.QuerySegmentTargetsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryThreads = async (request) => {\n            const body = {\n                limit: request?.limit,\n                member_limit: request?.member_limit,\n                next: request?.next,\n                participant_limit: request?.participant_limit,\n                prev: request?.prev,\n                reply_limit: request?.reply_limit,\n                user_id: request?.user_id,\n                sort: request?.sort,\n                filter: request?.filter,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/threads', undefined, undefined, body);\n            decoders.QueryThreadsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getThread = async (request) => {\n            const queryParams = {\n                reply_limit: request?.reply_limit,\n                participant_limit: request?.participant_limit,\n                member_limit: request?.member_limit,\n            };\n            const pathParams = {\n                message_id: request?.message_id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/chat/threads/{message_id}', pathParams, queryParams);\n            decoders.GetThreadResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.updateThreadPartial = async (request) => {\n            const pathParams = {\n                message_id: request?.message_id,\n            };\n            const body = {\n                user_id: request?.user_id,\n                unset: request?.unset,\n                set: request?.set,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('PATCH', '/api/v2/chat/threads/{message_id}', pathParams, undefined, body);\n            decoders.UpdateThreadPartialResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.unreadCounts = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/chat/unread', undefined, undefined);\n            decoders.WrappedUnreadCountsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.unreadCountsBatch = async (request) => {\n            const body = {\n                user_ids: request?.user_ids,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/unread_batch', undefined, undefined, body);\n            decoders.UnreadCountsBatchResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.sendUserCustomEvent = async (request) => {\n            const pathParams = {\n                user_id: request?.user_id,\n            };\n            const body = {\n                event: request?.event,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/chat/users/{user_id}/event', pathParams, undefined, body);\n            decoders.Response?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n    }\n}\n\nclass ChannelApi {\n    constructor(chatApi, type, id) {\n        this.chatApi = chatApi;\n        this.type = type;\n        this.id = id;\n        this.delete = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteChannel({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.updateChannelPartial = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateChannelPartial({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.update = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateChannel({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.deleteDraft = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteDraft({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.getDraft = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.getDraft({ id: this.id, type: this.type, ...request });\n        };\n        this.sendEvent = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.sendEvent({ id: this.id, type: this.type, ...request });\n        };\n        this.deleteFile = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteFile({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.uploadFile = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.uploadFile({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.hide = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.hideChannel({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.deleteImage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.deleteImage({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.uploadImage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.uploadImage({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.updateMemberPartial = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.updateMemberPartial({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.sendMessage = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.sendMessage({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.getManyMessages = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.getManyMessages({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.getOrCreate = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.getOrCreateChannel({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.markRead = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.markRead({ id: this.id, type: this.type, ...request });\n        };\n        this.show = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.showChannel({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.truncate = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.truncateChannel({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n        this.markUnread = (request) => {\n            if (!this.id) {\n                throw new Error(`Channel isn't yet created, call getOrCreateDistinctChannel() before this operation`);\n            }\n            return this.chatApi.markUnread({\n                id: this.id,\n                type: this.type,\n                ...request,\n            });\n        };\n    }\n}\n\nclass StreamChannel extends ChannelApi {\n    constructor() {\n        super(...arguments);\n        this.getOrCreate = (channel_get_or_create_request) => {\n            if (!this.id) {\n                return this.chatApi\n                    .getOrCreateDistinctChannel({\n                    type: this.type,\n                    ...channel_get_or_create_request,\n                })\n                    .then((response) => {\n                    this.id = response.channel?.id;\n                    return response;\n                });\n            }\n            else {\n                return this.chatApi.getOrCreateChannel({\n                    id: this.id,\n                    type: this.type,\n                    ...channel_get_or_create_request,\n                });\n            }\n        };\n    }\n    get cid() {\n        return `${this.type}:${this.id}`;\n    }\n    queryMembers(request) {\n        return this.chatApi.queryMembers({\n            payload: {\n                id: this.id,\n                type: this.type,\n                ...(request?.payload ?? { filter_conditions: {} }),\n            },\n        });\n    }\n}\n\nclass StreamChatClient extends ChatApi {\n    constructor() {\n        super(...arguments);\n        this.channel = (type, id) => {\n            return new StreamChannel(this, type, id);\n        };\n    }\n}\n\nclass ModerationApi extends BaseApi {\n    constructor() {\n        super(...arguments);\n        this.ban = async (request) => {\n            const body = {\n                target_user_id: request?.target_user_id,\n                banned_by_id: request?.banned_by_id,\n                channel_cid: request?.channel_cid,\n                delete_messages: request?.delete_messages,\n                ip_ban: request?.ip_ban,\n                reason: request?.reason,\n                shadow: request?.shadow,\n                timeout: request?.timeout,\n                banned_by: request?.banned_by,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/ban', undefined, undefined, body);\n            decoders.BanResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.bulkImageModeration = async (request) => {\n            const body = {\n                csv_file: request?.csv_file,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/bulk_image_moderation', undefined, undefined, body);\n            decoders.BulkImageModerationResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.check = async (request) => {\n            const body = {\n                config_key: request?.config_key,\n                entity_creator_id: request?.entity_creator_id,\n                entity_id: request?.entity_id,\n                entity_type: request?.entity_type,\n                config_team: request?.config_team,\n                test_mode: request?.test_mode,\n                user_id: request?.user_id,\n                moderation_payload: request?.moderation_payload,\n                options: request?.options,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/check', undefined, undefined, body);\n            decoders.CheckResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.upsertConfig = async (request) => {\n            const body = {\n                key: request?.key,\n                async: request?.async,\n                team: request?.team,\n                user_id: request?.user_id,\n                ai_image_config: request?.ai_image_config,\n                ai_text_config: request?.ai_text_config,\n                ai_video_config: request?.ai_video_config,\n                automod_platform_circumvention_config: request?.automod_platform_circumvention_config,\n                automod_semantic_filters_config: request?.automod_semantic_filters_config,\n                automod_toxicity_config: request?.automod_toxicity_config,\n                aws_rekognition_config: request?.aws_rekognition_config,\n                block_list_config: request?.block_list_config,\n                bodyguard_config: request?.bodyguard_config,\n                google_vision_config: request?.google_vision_config,\n                rule_builder_config: request?.rule_builder_config,\n                user: request?.user,\n                velocity_filter_config: request?.velocity_filter_config,\n                video_call_rule_config: request?.video_call_rule_config,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/config', undefined, undefined, body);\n            decoders.UpsertConfigResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.deleteConfig = async (request) => {\n            const queryParams = {\n                team: request?.team,\n            };\n            const pathParams = {\n                key: request?.key,\n            };\n            const response = await this.sendRequest('DELETE', '/api/v2/moderation/config/{key}', pathParams, queryParams);\n            decoders.DeleteModerationConfigResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getConfig = async (request) => {\n            const queryParams = {\n                team: request?.team,\n            };\n            const pathParams = {\n                key: request?.key,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/moderation/config/{key}', pathParams, queryParams);\n            decoders.GetConfigResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryModerationConfigs = async (request) => {\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                user_id: request?.user_id,\n                sort: request?.sort,\n                filter: request?.filter,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/configs', undefined, undefined, body);\n            decoders.QueryModerationConfigsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.customCheck = async (request) => {\n            const body = {\n                entity_id: request?.entity_id,\n                entity_type: request?.entity_type,\n                flags: request?.flags,\n                entity_creator_id: request?.entity_creator_id,\n                user_id: request?.user_id,\n                moderation_payload: request?.moderation_payload,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/custom_check', undefined, undefined, body);\n            decoders.CustomCheckResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.v2DeleteTemplate = async () => {\n            const response = await this.sendRequest('DELETE', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n            decoders.DeleteModerationTemplateResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.v2QueryTemplates = async () => {\n            const response = await this.sendRequest('GET', '/api/v2/moderation/feeds_moderation_template', undefined, undefined);\n            decoders.QueryFeedModerationTemplatesResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.v2UpsertTemplate = async (request) => {\n            const body = {\n                name: request?.name,\n                config: request?.config,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/feeds_moderation_template', undefined, undefined, body);\n            decoders.UpsertModerationTemplateResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.flag = async (request) => {\n            const body = {\n                entity_id: request?.entity_id,\n                entity_type: request?.entity_type,\n                entity_creator_id: request?.entity_creator_id,\n                reason: request?.reason,\n                user_id: request?.user_id,\n                custom: request?.custom,\n                moderation_payload: request?.moderation_payload,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/flag', undefined, undefined, body);\n            decoders.FlagResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryModerationFlags = async (request) => {\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                sort: request?.sort,\n                filter: request?.filter,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/flags', undefined, undefined, body);\n            decoders.QueryModerationFlagsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryModerationLogs = async (request) => {\n            const body = {\n                limit: request?.limit,\n                next: request?.next,\n                prev: request?.prev,\n                user_id: request?.user_id,\n                sort: request?.sort,\n                filter: request?.filter,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/logs', undefined, undefined, body);\n            decoders.QueryModerationLogsResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.mute = async (request) => {\n            const body = {\n                target_ids: request?.target_ids,\n                timeout: request?.timeout,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/mute', undefined, undefined, body);\n            decoders.MuteResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.queryReviewQueue = async (request) => {\n            const body = {\n                limit: request?.limit,\n                lock_count: request?.lock_count,\n                lock_duration: request?.lock_duration,\n                lock_items: request?.lock_items,\n                next: request?.next,\n                prev: request?.prev,\n                stats_only: request?.stats_only,\n                user_id: request?.user_id,\n                sort: request?.sort,\n                filter: request?.filter,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/review_queue', undefined, undefined, body);\n            decoders.QueryReviewQueueResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.getReviewQueueItem = async (request) => {\n            const pathParams = {\n                id: request?.id,\n            };\n            const response = await this.sendRequest('GET', '/api/v2/moderation/review_queue/{id}', pathParams, undefined);\n            decoders.GetReviewQueueItemResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.submitAction = async (request) => {\n            const body = {\n                action_type: request?.action_type,\n                item_id: request?.item_id,\n                user_id: request?.user_id,\n                ban: request?.ban,\n                custom: request?.custom,\n                delete_activity: request?.delete_activity,\n                delete_message: request?.delete_message,\n                delete_reaction: request?.delete_reaction,\n                delete_user: request?.delete_user,\n                mark_reviewed: request?.mark_reviewed,\n                unban: request?.unban,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/submit_action', undefined, undefined, body);\n            decoders.SubmitActionResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.unban = async (request) => {\n            const queryParams = {\n                target_user_id: request?.target_user_id,\n                channel_cid: request?.channel_cid,\n                created_by: request?.created_by,\n            };\n            const body = {\n                unbanned_by_id: request?.unbanned_by_id,\n                unbanned_by: request?.unbanned_by,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/unban', undefined, queryParams, body);\n            decoders.UnbanResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n        this.unmute = async (request) => {\n            const body = {\n                target_ids: request?.target_ids,\n                user_id: request?.user_id,\n                user: request?.user,\n            };\n            const response = await this.sendRequest('POST', '/api/v2/moderation/unmute', undefined, undefined, body);\n            decoders.UnmuteResponse?.(response.body);\n            return { ...response.body, metadata: response.metadata };\n        };\n    }\n}\n\nclass StreamModerationClient extends ModerationApi {\n}\n\nclass StreamClient extends CommonApi {\n    /**\n     *\n     * @param apiKey\n     * @param secret\n     * @param config config object\n     */\n    constructor(apiKey, secret, config) {\n        const token = JWTServerToken(secret);\n        const timeout = config?.timeout ?? StreamClient.DEFAULT_TIMEOUT;\n        const chatBaseUrl = config?.basePath ?? 'https://chat.stream-io-api.com';\n        const videoBaseUrl = config?.basePath ?? 'https://video.stream-io-api.com';\n        super({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: chatBaseUrl,\n            agent: config?.agent,\n        });\n        this.apiKey = apiKey;\n        this.secret = secret;\n        this.config = config;\n        this.options = {};\n        this.upsertUsers = (users) => {\n            const payload = {};\n            users.forEach((u) => {\n                payload[u.id] = u;\n            });\n            return this.updateUsers({ users: payload });\n        };\n        this.queryBannedUsers = (request) => {\n            return this.chat.queryBannedUsers(request);\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateUserToken = (payload) => {\n            const defaultIat = Math.floor((Date.now() - 1000) / 1000);\n            payload.iat = payload.iat ?? defaultIat;\n            const validityInSeconds = payload.validity_in_seconds ?? 60 * 60;\n            payload.exp = payload.exp ?? payload.iat + validityInSeconds;\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param payload\n         * - user_id - the id of the user the token is for\n         * - validity_in_seconds - how many seconds is the token valid for (starting from issued at), by default it's 1 hour, dicarded if exp is provided\n         * - exp - when the token expires, unix timestamp in seconds\n         * - iat - issued at date of the token, unix timestamp in seconds, by default it's now\n         */\n        this.generateCallToken = (payload) => {\n            return this.generateUserToken(payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param exp\n         * @param iat deprecated, the default date will be set internally\n         * @returns\n         *\n         * @deprecated use generateUserToken instead\n         */\n        this.createToken = (userID, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                user_id: userID,\n                exp,\n                iat,\n            };\n            return JWTUserToken(this.secret, payload);\n        };\n        /**\n         *\n         * @param userID\n         * @param call_cids\n         * @param exp\n         * @param iat this is deprecated, the current date will be set internally\n         * @returns\n         *\n         * @deprecated use generateCallToken instead\n         */\n        this.createCallToken = (userIdOrObject, call_cids, exp = Math.round(Date.now() / 1000) + 60 * 60, iat = Math.floor((Date.now() - 1000) / 1000)) => {\n            const payload = {\n                exp,\n                iat,\n                call_cids,\n                user_id: typeof userIdOrObject === 'string'\n                    ? userIdOrObject\n                    : userIdOrObject.user_id,\n            };\n            if (typeof userIdOrObject === 'object' && userIdOrObject.role) {\n                payload.role = userIdOrObject.role;\n            }\n            return JWTUserToken(this.secret, payload);\n        };\n        this.verifyWebhook = (requestBody, xSignature) => {\n            const key = Buffer.from(this.secret, 'utf8');\n            const hash = crypto__WEBPACK_IMPORTED_MODULE_1__.createHmac('sha256', key)\n                .update(requestBody)\n                .digest('hex');\n            try {\n                return crypto__WEBPACK_IMPORTED_MODULE_1__.timingSafeEqual(Buffer.from(hash), Buffer.from(xSignature));\n            }\n            catch (err) {\n                return false;\n            }\n        };\n        this.video = new StreamVideoClient({\n            streamClient: this,\n            apiKey,\n            token,\n            timeout,\n            baseUrl: videoBaseUrl,\n            agent: config?.agent,\n        });\n        this.chat = new StreamChatClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: chatBaseUrl,\n            agent: config?.agent,\n        });\n        this.moderation = new StreamModerationClient({\n            apiKey,\n            token,\n            timeout,\n            baseUrl: chatBaseUrl,\n            agent: config?.agent,\n        });\n    }\n}\nStreamClient.DEFAULT_TIMEOUT = 3000;\n\n\n//# sourceMappingURL=index.es.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFjdGlvbi1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL25vZGUtc2RrL2Rpc3QvaW5kZXguZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFDTDtBQUNFOztBQUU1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVEseUNBQUcsWUFBWSw4Q0FBUTtBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOENBQVE7QUFDbkI7QUFDQSxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLHVDQUF1QztBQUN4RSxXQUFXLDhDQUFRO0FBQ25COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLEVBQUUsV0FBVztBQUNyRCxpQkFBaUI7QUFDakI7QUFDQSx1QkFBdUIsY0FBYztBQUNyQyxvQ0FBb0Ms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Q0EsZ0ZBQWdGLEtBQUs7QUFDckY7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUZBQXlGLEtBQUs7QUFDOUY7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRkFBc0YsS0FBSztBQUMzRjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLEtBQUs7QUFDM0Y7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkVBQTZFLEdBQUc7QUFDaEY7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixHQUFHO0FBQ3BGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVGQUF1RixLQUFLLEVBQUUsS0FBSztBQUNuRztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4RUFBOEUsS0FBSztBQUNuRjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLEdBQUc7QUFDOUU7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsUUFBUTtBQUNwRjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkVBQTJFLFFBQVE7QUFDbkY7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0RUFBNEUsUUFBUTtBQUNwRjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywwQ0FBMEM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywwQ0FBMEM7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQywwQ0FBMEM7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFVBQVUsR0FBRyxRQUFRO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyx1QkFBdUI7QUFDakUsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRixJQUFJO0FBQzlGO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RkFBdUYsSUFBSTtBQUMzRjtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2RkFBNkYsR0FBRztBQUNoRztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHNDQUFzQyxnQkFBZ0I7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQ0U7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLG1EQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRTZIO0FBQzdIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vem9vbS1jbG9uZS8uL25vZGVfbW9kdWxlcy9Ac3RyZWFtLWlvL25vZGUtc2RrL2Rpc3QvaW5kZXguZXMubWpzP2QxYTQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nO1xuaW1wb3J0IHsgdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBjcnlwdG8gZnJvbSAnY3J5cHRvJztcblxuY29uc3QgQ2hhbm5lbE93bkNhcGFiaWxpdHkgPSB7XG4gICAgQkFOX0NIQU5ORUxfTUVNQkVSUzogJ2Jhbi1jaGFubmVsLW1lbWJlcnMnLFxuICAgIENBU1RfUE9MTF9WT1RFOiAnY2FzdC1wb2xsLXZvdGUnLFxuICAgIENPTk5FQ1RfRVZFTlRTOiAnY29ubmVjdC1ldmVudHMnLFxuICAgIENSRUFURV9BVFRBQ0hNRU5UOiAnY3JlYXRlLWF0dGFjaG1lbnQnLFxuICAgIERFTEVURV9BTllfTUVTU0FHRTogJ2RlbGV0ZS1hbnktbWVzc2FnZScsXG4gICAgREVMRVRFX0NIQU5ORUw6ICdkZWxldGUtY2hhbm5lbCcsXG4gICAgREVMRVRFX09XTl9NRVNTQUdFOiAnZGVsZXRlLW93bi1tZXNzYWdlJyxcbiAgICBGTEFHX01FU1NBR0U6ICdmbGFnLW1lc3NhZ2UnLFxuICAgIEZSRUVaRV9DSEFOTkVMOiAnZnJlZXplLWNoYW5uZWwnLFxuICAgIEpPSU5fQ0hBTk5FTDogJ2pvaW4tY2hhbm5lbCcsXG4gICAgTEVBVkVfQ0hBTk5FTDogJ2xlYXZlLWNoYW5uZWwnLFxuICAgIE1VVEVfQ0hBTk5FTDogJ211dGUtY2hhbm5lbCcsXG4gICAgUElOX01FU1NBR0U6ICdwaW4tbWVzc2FnZScsXG4gICAgUVVFUllfUE9MTF9WT1RFUzogJ3F1ZXJ5LXBvbGwtdm90ZXMnLFxuICAgIFFVT1RFX01FU1NBR0U6ICdxdW90ZS1tZXNzYWdlJyxcbiAgICBSRUFEX0VWRU5UUzogJ3JlYWQtZXZlbnRzJyxcbiAgICBTRUFSQ0hfTUVTU0FHRVM6ICdzZWFyY2gtbWVzc2FnZXMnLFxuICAgIFNFTkRfQ1VTVE9NX0VWRU5UUzogJ3NlbmQtY3VzdG9tLWV2ZW50cycsXG4gICAgU0VORF9MSU5LUzogJ3NlbmQtbGlua3MnLFxuICAgIFNFTkRfTUVTU0FHRTogJ3NlbmQtbWVzc2FnZScsXG4gICAgU0VORF9QT0xMOiAnc2VuZC1wb2xsJyxcbiAgICBTRU5EX1JFQUNUSU9OOiAnc2VuZC1yZWFjdGlvbicsXG4gICAgU0VORF9SRVBMWTogJ3NlbmQtcmVwbHknLFxuICAgIFNFTkRfUkVTVFJJQ1RFRF9WSVNJQklMSVRZX01FU1NBR0U6ICdzZW5kLXJlc3RyaWN0ZWQtdmlzaWJpbGl0eS1tZXNzYWdlJyxcbiAgICBTRU5EX1RZUElOR19FVkVOVFM6ICdzZW5kLXR5cGluZy1ldmVudHMnLFxuICAgIFNFVF9DSEFOTkVMX0NPT0xET1dOOiAnc2V0LWNoYW5uZWwtY29vbGRvd24nLFxuICAgIFNLSVBfU0xPV19NT0RFOiAnc2tpcC1zbG93LW1vZGUnLFxuICAgIFNMT1dfTU9ERTogJ3Nsb3ctbW9kZScsXG4gICAgVFlQSU5HX0VWRU5UUzogJ3R5cGluZy1ldmVudHMnLFxuICAgIFVQREFURV9BTllfTUVTU0FHRTogJ3VwZGF0ZS1hbnktbWVzc2FnZScsXG4gICAgVVBEQVRFX0NIQU5ORUw6ICd1cGRhdGUtY2hhbm5lbCcsXG4gICAgVVBEQVRFX0NIQU5ORUxfTUVNQkVSUzogJ3VwZGF0ZS1jaGFubmVsLW1lbWJlcnMnLFxuICAgIFVQREFURV9PV05fTUVTU0FHRTogJ3VwZGF0ZS1vd24tbWVzc2FnZScsXG4gICAgVVBEQVRFX1RIUkVBRDogJ3VwZGF0ZS10aHJlYWQnLFxuICAgIFVQTE9BRF9GSUxFOiAndXBsb2FkLWZpbGUnLFxufTtcbmNvbnN0IE93bkNhcGFiaWxpdHkgPSB7XG4gICAgQkxPQ0tfVVNFUlM6ICdibG9jay11c2VycycsXG4gICAgQ0hBTkdFX01BWF9EVVJBVElPTjogJ2NoYW5nZS1tYXgtZHVyYXRpb24nLFxuICAgIENSRUFURV9DQUxMOiAnY3JlYXRlLWNhbGwnLFxuICAgIENSRUFURV9SRUFDVElPTjogJ2NyZWF0ZS1yZWFjdGlvbicsXG4gICAgRU5BQkxFX05PSVNFX0NBTkNFTExBVElPTjogJ2VuYWJsZS1ub2lzZS1jYW5jZWxsYXRpb24nLFxuICAgIEVORF9DQUxMOiAnZW5kLWNhbGwnLFxuICAgIEpPSU5fQkFDS1NUQUdFOiAnam9pbi1iYWNrc3RhZ2UnLFxuICAgIEpPSU5fQ0FMTDogJ2pvaW4tY2FsbCcsXG4gICAgSk9JTl9FTkRFRF9DQUxMOiAnam9pbi1lbmRlZC1jYWxsJyxcbiAgICBNVVRFX1VTRVJTOiAnbXV0ZS11c2VycycsXG4gICAgUElOX0ZPUl9FVkVSWU9ORTogJ3Bpbi1mb3ItZXZlcnlvbmUnLFxuICAgIFJFQURfQ0FMTDogJ3JlYWQtY2FsbCcsXG4gICAgUkVNT1ZFX0NBTExfTUVNQkVSOiAncmVtb3ZlLWNhbGwtbWVtYmVyJyxcbiAgICBTQ1JFRU5TSEFSRTogJ3NjcmVlbnNoYXJlJyxcbiAgICBTRU5EX0FVRElPOiAnc2VuZC1hdWRpbycsXG4gICAgU0VORF9WSURFTzogJ3NlbmQtdmlkZW8nLFxuICAgIFNUQVJUX0JST0FEQ0FTVF9DQUxMOiAnc3RhcnQtYnJvYWRjYXN0LWNhbGwnLFxuICAgIFNUQVJUX0NMT1NFRF9DQVBUSU9OU19DQUxMOiAnc3RhcnQtY2xvc2VkLWNhcHRpb25zLWNhbGwnLFxuICAgIFNUQVJUX0ZSQU1FX1JFQ09SRF9DQUxMOiAnc3RhcnQtZnJhbWUtcmVjb3JkLWNhbGwnLFxuICAgIFNUQVJUX1JFQ09SRF9DQUxMOiAnc3RhcnQtcmVjb3JkLWNhbGwnLFxuICAgIFNUQVJUX1RSQU5TQ1JJUFRJT05fQ0FMTDogJ3N0YXJ0LXRyYW5zY3JpcHRpb24tY2FsbCcsXG4gICAgU1RPUF9CUk9BRENBU1RfQ0FMTDogJ3N0b3AtYnJvYWRjYXN0LWNhbGwnLFxuICAgIFNUT1BfQ0xPU0VEX0NBUFRJT05TX0NBTEw6ICdzdG9wLWNsb3NlZC1jYXB0aW9ucy1jYWxsJyxcbiAgICBTVE9QX0ZSQU1FX1JFQ09SRF9DQUxMOiAnc3RvcC1mcmFtZS1yZWNvcmQtY2FsbCcsXG4gICAgU1RPUF9SRUNPUkRfQ0FMTDogJ3N0b3AtcmVjb3JkLWNhbGwnLFxuICAgIFNUT1BfVFJBTlNDUklQVElPTl9DQUxMOiAnc3RvcC10cmFuc2NyaXB0aW9uLWNhbGwnLFxuICAgIFVQREFURV9DQUxMOiAndXBkYXRlLWNhbGwnLFxuICAgIFVQREFURV9DQUxMX01FTUJFUjogJ3VwZGF0ZS1jYWxsLW1lbWJlcicsXG4gICAgVVBEQVRFX0NBTExfUEVSTUlTU0lPTlM6ICd1cGRhdGUtY2FsbC1wZXJtaXNzaW9ucycsXG4gICAgVVBEQVRFX0NBTExfU0VUVElOR1M6ICd1cGRhdGUtY2FsbC1zZXR0aW5ncycsXG59O1xuXG5mdW5jdGlvbiBKV1RVc2VyVG9rZW4oYXBpU2VjcmV0LCBwYXlsb2FkKSB7XG4gICAgLy8gbWFrZSBzdXJlIHdlIHJldHVybiBhIGNsZWFyIGVycm9yIHdoZW4gand0IGlzIHNoaW1tZWQgKGllLiBicm93c2VyIGJ1aWxkKVxuICAgIGlmIChqd3QgPT0gbnVsbCB8fCBqd3Quc2lnbiA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IEVycm9yKGBVbmFibGUgdG8gZmluZCBqd3QgY3J5cHRvLCBpZiB5b3UgYXJlIGdldHRpbmcgdGhpcyBlcnJvciBpcyBwcm9iYWJseSBiZWNhdXNlIHlvdSBhcmUgdHJ5aW5nIHRvIGdlbmVyYXRlIHRva2VucyBvbiBicm93c2VyIG9yIFJlYWN0IE5hdGl2ZSAob3Igb3RoZXIgZW52aXJvbm1lbnQgd2hlcmUgY3J5cHRvIGZ1bmN0aW9ucyBhcmUgbm90IGF2YWlsYWJsZSkuIFBsZWFzZSBOb3RlOiB0b2tlbiBzaG91bGQgb25seSBiZSBnZW5lcmF0ZWQgc2VydmVyLXNpZGUuYCk7XG4gICAgfVxuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgYWxnb3JpdGhtOiAnSFMyNTYnLFxuICAgICAgICBub1RpbWVzdGFtcDogdHJ1ZSxcbiAgICB9KTtcbiAgICBpZiAocGF5bG9hZC5pYXQpIHtcbiAgICAgICAgb3B0cy5ub1RpbWVzdGFtcCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gand0LnNpZ24ocGF5bG9hZCwgYXBpU2VjcmV0LCBvcHRzKTtcbn1cbmZ1bmN0aW9uIEpXVFNlcnZlclRva2VuKGFwaVNlY3JldCwgand0T3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgc2VydmVyOiB0cnVlLFxuICAgIH07XG4gICAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oeyBhbGdvcml0aG06ICdIUzI1NicsIG5vVGltZXN0YW1wOiB0cnVlIH0sIGp3dE9wdGlvbnMpO1xuICAgIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBhcGlTZWNyZXQsIG9wdHMpO1xufVxuXG5jbGFzcyBTdHJlYW1FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBtZXRhZGF0YSwgY29kZSwgZXJyb3JPcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UsIGVycm9yT3B0aW9ucyk7XG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICB9XG59XG5cbmNvbnN0IGdldFJhdGVMaW1pdEZyb21SZXNwb25zZUhlYWRlciA9IChyZXNwb25zZUhlYWRlcnMpID0+IHtcbiAgICBjb25zdCByYXRlTGltaXQgPSByZXNwb25zZUhlYWRlcnMuaGFzKCd4LXJhdGVsaW1pdC1saW1pdCcpXG4gICAgICAgID8gK3Jlc3BvbnNlSGVhZGVycy5nZXQoJ3gtcmF0ZWxpbWl0LWxpbWl0JylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmF0ZUxpbWl0UmVtYWluaW5nID0gcmVzcG9uc2VIZWFkZXJzLmhhcygneC1yYXRlbGltaXQtcmVtYWluaW5nJylcbiAgICAgICAgPyArcmVzcG9uc2VIZWFkZXJzLmdldCgneC1yYXRlbGltaXQtcmVtYWluaW5nJylcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgcmF0ZUxpbWl0UmVzZXQgPSByZXNwb25zZUhlYWRlcnMuaGFzKCd4LXJhdGVsaW1pdC1yZXNldCcpXG4gICAgICAgID8gbmV3IERhdGUoK3Jlc3BvbnNlSGVhZGVycy5nZXQoJ3gtcmF0ZWxpbWl0LXJlc2V0JykgKiAxMDAwKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCByZXN1bHQgPSB7XG4gICAgICAgIHJhdGVMaW1pdCxcbiAgICAgICAgcmF0ZUxpbWl0UmVtYWluaW5nLFxuICAgICAgICByYXRlTGltaXRSZXNldCxcbiAgICB9O1xuICAgIHJldHVybiByZXN1bHQ7XG59O1xuXG5jbGFzcyBCYXNlQXBpIHtcbiAgICBjb25zdHJ1Y3RvcihhcGlDb25maWcpIHtcbiAgICAgICAgdGhpcy5hcGlDb25maWcgPSBhcGlDb25maWc7XG4gICAgICAgIHRoaXMuc2VuZFJlcXVlc3QgPSBhc3luYyAobWV0aG9kLCB1cmwsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zLCBib2R5KSA9PiB7XG4gICAgICAgICAgICBxdWVyeVBhcmFtcyA9IHF1ZXJ5UGFyYW1zID8/IHt9O1xuICAgICAgICAgICAgcXVlcnlQYXJhbXMuYXBpX2tleSA9IHRoaXMuYXBpQ29uZmlnLmFwaUtleTtcbiAgICAgICAgICAgIGNvbnN0IGVuY29kZWRQYXJhbXMgPSB0aGlzLnF1ZXJ5UGFyYW1zU3RyaW5naWZ5KHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGlmIChwYXRoUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocGF0aFBhcmFtcykuZm9yRWFjaCgocGFyYW1OYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKGB7JHtwYXJhbU5hbWV9fWAsIHBhdGhQYXJhbXNbcGFyYW1OYW1lXSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB1cmwgKz0gYD8ke2VuY29kZWRQYXJhbXN9YDtcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudFJlcXVlc3RJZCA9IHY0KCk7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IHRoaXMuYXBpQ29uZmlnLnRva2VuLFxuICAgICAgICAgICAgICAgICdzdHJlYW0tYXV0aC10eXBlJzogJ2p3dCcsXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnWC1TdHJlYW0tQ2xpZW50JzogJ3N0cmVhbS1ub2RlLScgKyBcIjAuNC4yNVwiLFxuICAgICAgICAgICAgICAgICdBY2NlcHQtRW5jb2RpbmcnOiAnZ3ppcCcsXG4gICAgICAgICAgICAgICAgJ3gtY2xpZW50LXJlcXVlc3QtaWQnOiBjbGllbnRSZXF1ZXN0SWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFsID0gQWJvcnRTaWduYWwudGltZW91dCh0aGlzLmFwaUNvbmZpZy50aW1lb3V0KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHt0aGlzLmFwaUNvbmZpZy5iYXNlVXJsfSR7dXJsfWAsIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmFsLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaGVyOiB0aGlzLmRpc3BhdGNoZXIsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gcmVzcG9uc2UuaGVhZGVycztcbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50UmVxdWVzdElkLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICByYXRlTGltaXQ6IGdldFJhdGVMaW1pdEZyb21SZXNwb25zZUhlYWRlcihyZXNwb25zZUhlYWRlcnMpLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA8IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPj0gMzAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdHJlYW1FcnJvcihgU3RyZWFtIGVycm9yOiAke3Jlc3BvbnNlLnN0YXR1c30gLSAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCwgbWV0YWRhdGEsIHJlc3BvbnNlLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbUVycm9yKGBTdHJlYW0gZXJyb3IgY29kZSAke2Vycm9yLmNvZGV9OiAke2Vycm9yLm1lc3NhZ2V9YCwgbWV0YWRhdGEsIGVycm9yLmNvZGUsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlQm9keSA9IChhd2FpdCByZXNwb25zZS5qc29uKCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IGJvZHk6IHJlc3BvbnNlQm9keSwgbWV0YWRhdGEgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFN0cmVhbUVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50UmVxdWVzdElkLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUNvZGU6IGVycm9yLnN0YXR1cyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicgfHwgZXJyb3IubmFtZSA9PT0gJ1RpbWVvdXRFcnJvcicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbUVycm9yKGBUaGUgcmVxdWVzdCB3YXMgYWJvcnRlZCBkdWUgdG8gdG8gdGhlICR7dGhpcy5hcGlDb25maWcudGltZW91dH1tcyB0aW1lb3V0LCB5b3UgY2FuIHNldCB0aGUgdGltZW91dCBpbiB0aGUgU3RyZWFtQ2xpZW50IGNvbnN0cnVjdG9yYCwgbWV0YWRhdGEsIHVuZGVmaW5lZCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbUVycm9yKGBUaGUgcmVxdWVzdCBmYWlsZWQgZHVlIHRvIGFuIHVuZXhwZWN0ZWQgZXJyb3JgLCBtZXRhZGF0YSwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeVBhcmFtc1N0cmluZ2lmeSA9IChwYXJhbXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1BhcmFtcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcmFtID0gcGFyYW1zW2tdO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBhcmFtKSkge1xuICAgICAgICAgICAgICAgICAgICBuZXdQYXJhbXMucHVzaChgJHtrfT0ke2VuY29kZVVSSUNvbXBvbmVudChwYXJhbS5qb2luKCcsJykpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChwYXJhbSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zLnB1c2gocGFyYW0udG9JU09TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwYXJhbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zLnB1c2goYCR7a309JHtlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkocGFyYW0pKX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcGFyYW0gPT09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcGFyYW0gPT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgcGFyYW0gPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3UGFyYW1zLnB1c2goYCR7a309JHtlbmNvZGVVUklDb21wb25lbnQocGFyYW0pfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ld1BhcmFtcy5qb2luKCcmJyk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hlciA9IHRoaXMuYXBpQ29uZmlnLmFnZW50O1xuICAgIH1cbn1cblxuY29uc3QgZGVjb2RlcnMgPSB7fTtcbmNvbnN0IGRlY29kZURhdGV0aW1lVHlwZSA9IChpbnB1dCkgPT4gbmV3IERhdGUoTWF0aC5mbG9vcihpbnB1dCAvIDEwMDAwMDApKTtcbmRlY29kZXJzLkRhdGV0aW1lVHlwZSA9IGRlY29kZURhdGV0aW1lVHlwZTtcbmNvbnN0IGRlY29kZSA9ICh0eXBlTWFwcGluZ3MsIGlucHV0KSA9PiB7XG4gICAgaWYgKCFpbnB1dCB8fCBPYmplY3Qua2V5cyh0eXBlTWFwcGluZ3MpLmxlbmd0aCA9PT0gMClcbiAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgIE9iamVjdC5rZXlzKHR5cGVNYXBwaW5ncykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmIChpbnB1dFtrZXldICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmICh0eXBlTWFwcGluZ3Nba2V5XSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZXIgPSBkZWNvZGVyc1t0eXBlTWFwcGluZ3Nba2V5XS50eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoZGVjb2Rlcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZU1hcHBpbmdzW2tleV0uaXNTaW5nbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0W2tleV0gPSBkZWNvZGVyKGlucHV0W2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoaW5wdXRba2V5XSkuZm9yRWFjaCgoaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0W2tleV1ba10gPSBkZWNvZGVyKGlucHV0W2tleV1ba10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXQ7XG59O1xuZGVjb2RlcnMuQWN0aW9uTG9nID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdfcXVldWVfaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0X3VzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQWN0aW9uTG9nUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldmlld19xdWV1ZV9pdGVtOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW0nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXRfdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQXBwUmVzcG9uc2VGaWVsZHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGV2ZW50X2hvb2tzOiB7IHR5cGU6ICdFdmVudEhvb2snLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbF90eXBlczogeyB0eXBlOiAnQ2FsbFR5cGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbF9jb25maWdzOiB7IHR5cGU6ICdDaGFubmVsQ29uZmlnJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczogeyB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQXV0b21vZERldGFpbHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlc3VsdDogeyB0eXBlOiAnTWVzc2FnZU1vZGVyYXRpb25SZXN1bHQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5CYW4gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWwnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmFuUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGV4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbm5lZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkJsb2NrVXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQmxvY2tlZFVzZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYmxvY2tlZF91c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBibG9ja2VkX3VzZXJzOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGVncmVzc2VzOiB7IHR5cGU6ICdDYWxsRWdyZXNzJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NhbGxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZWdyZXNzX3VwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2hlYXJ0YmVhdF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhcnRzX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjYWxsX3R5cGU6IHsgdHlwZTogJ0NhbGxUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHNlc3Npb246IHsgdHlwZTogJ0NhbGxTZXNzaW9uJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbEVncmVzcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc3RhcnRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RvcHBlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbE1lbWJlciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxQYXJ0aWNpcGFudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgam9pbmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2VuZ2FnZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGpvaW5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFJlY29yZGluZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZW5kX3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0X3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSZXBvcnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZW5kZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZW5kZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0c19hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc2Vzc2lvbjogeyB0eXBlOiAnQ2FsbFNlc3Npb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxTZXNzaW9uID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhY3RpdmVfc2ZfdXM6IHsgdHlwZTogJ1NGVUlETGFzdFNlZW4nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGFydGljaXBhbnRzOiB7IHR5cGU6ICdDYWxsUGFydGljaXBhbnQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgYWNjZXB0ZWRfYnk6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtaXNzZWRfYnk6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWplY3RlZF9ieTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGVuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsaXZlX2VuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsaXZlX3N0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJpbmdfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRpbWVyX2VuZHNfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxTZXNzaW9uUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHBhcnRpY2lwYW50czogeyB0eXBlOiAnQ2FsbFBhcnRpY2lwYW50UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgYWNjZXB0ZWRfYnk6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtaXNzZWRfYnk6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWplY3RlZF9ieTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGVuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsaXZlX2VuZGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsaXZlX3N0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRpbWVyX2VuZHNfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxTdGF0ZVJlc3BvbnNlRmllbGRzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DYWxsU3RhdHNSZXBvcnRTdW1tYXJ5UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGZpcnN0X3N0YXRzX3RpbWU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxUcmFuc2NyaXB0aW9uID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBlbmRfdGltZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgc3RhcnRfdGltZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FsbFR5cGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNhbXBhaWduUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHNlZ21lbnRzOiB7IHR5cGU6ICdTZWdtZW50JywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHVzZXJzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgc3RhdHM6IHsgdHlwZTogJ0NhbXBhaWduU3RhdHNSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHNjaGVkdWxlZF9mb3I6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0b3BfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHNlbmRlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2FtcGFpZ25TdGF0c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBzdGF0c19jb21wbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHN0YXRzX3N0YXJ0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWwgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaW52aXRlczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNvbmZpZzogeyB0eXBlOiAnQ2hhbm5lbENvbmZpZycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0cnVuY2F0ZWRfYnk6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsQ29uZmlnID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsQ29uZmlnV2l0aEluZm8gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNvbW1hbmRzOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxNZW1iZXIgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFyY2hpdmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaW52aXRlX2FjY2VwdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBpbnZpdGVfcmVqZWN0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbE1lbWJlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhcmNoaXZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgYmFuX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGludml0ZV9hY2NlcHRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaW52aXRlX3JlamVjdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxNdXRlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBleHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsUHVzaFByZWZlcmVuY2VzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBkaXNhYmxlZF91bnRpbDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBoaWRlX21lc3NhZ2VzX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtdXRlX2V4cGlyZXNfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRydW5jYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjb25maWc6IHsgdHlwZTogJ0NoYW5uZWxDb25maWdXaXRoSW5mbycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRydW5jYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhbm5lbFN0YXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwaW5uZWRfbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRzOiB7IHR5cGU6ICdUaHJlYWRTdGF0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGhpZGVfbWVzc2FnZXNfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwZW5kaW5nX21lc3NhZ2VzOiB7IHR5cGU6ICdQZW5kaW5nTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHJlYWQ6IHsgdHlwZTogJ1JlYWRTdGF0ZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHdhdGNoZXJzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZHJhZnQ6IHsgdHlwZTogJ0RyYWZ0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXJzaGlwOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9wcmVmZXJlbmNlczogeyB0eXBlOiAnQ2hhbm5lbFB1c2hQcmVmZXJlbmNlcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNoYW5uZWxTdGF0ZVJlc3BvbnNlRmllbGRzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdDaGFubmVsTWVtYmVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG1lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGlubmVkX21lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVGhyZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBoaWRlX21lc3NhZ2VzX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGVuZGluZ19tZXNzYWdlczogeyB0eXBlOiAnUGVuZGluZ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICByZWFkOiB7IHR5cGU6ICdSZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB3YXRjaGVyczogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRyYWZ0OiB7IHR5cGU6ICdEcmFmdFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVtYmVyc2hpcDogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHB1c2hfcHJlZmVyZW5jZXM6IHsgdHlwZTogJ0NoYW5uZWxQdXNoUHJlZmVyZW5jZXMnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5DaGFubmVsVHlwZUNvbmZpZyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY29tbWFuZHM6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hhdEFjdGl2aXR5U3RhdHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZXM6IHsgdHlwZTogJ01lc3NhZ2VTdGF0c1Jlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ2hlY2tSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ29tbWFuZCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ29uZmlnUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNvdW50QnlNaW51dGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc3RhcnRfdHM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkNyZWF0ZUJsb2NrTGlzdFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBibG9ja2xpc3Q6IHsgdHlwZTogJ0Jsb2NrTGlzdFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlQ2FsbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlQ2hhbm5lbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlQ29tbWFuZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb21tYW5kOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlR3Vlc3RSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlSW1wb3J0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGltcG9ydF90YXNrOiB7IHR5cGU6ICdJbXBvcnRUYXNrJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3JlYXRlUm9sZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByb2xlOiB7IHR5cGU6ICdSb2xlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuQ3VzdG9tQ2hlY2tSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWFjdGl2YXRlVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWxldGVDYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRlbGV0ZUNoYW5uZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGVsZXRlTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EZWxldGVSZWFjdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRldmljZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRGV2aWNlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkRyYWZ0UGF5bG9hZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5EcmFmdFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdEcmFmdFBheWxvYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBhcmVudF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRWdyZXNzUlRNUFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBzdGFydGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5FbnRpdHlDcmVhdG9yID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2VuZ2FnZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRW50aXR5Q3JlYXRvclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBiYW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRldmljZXM6IHsgdHlwZTogJ0RldmljZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczoge1xuICAgICAgICAgICAgdHlwZTogJ1B1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlJyxcbiAgICAgICAgICAgIGlzU2luZ2xlOiB0cnVlLFxuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5FdmVudEhvb2sgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkV2ZW50UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGV2ZW50OiB7IHR5cGU6ICdXU0V2ZW50JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRXhwb3J0VXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHJlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5GbGFnID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdfcXVldWVfaXRlbTogeyB0eXBlOiAnUmV2aWV3UXVldWVJdGVtJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZsYWdEZXRhaWxzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBhdXRvbW9kOiB7IHR5cGU6ICdBdXRvbW9kRGV0YWlscycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkZsYWdGZWVkYmFjayA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuRnVsbFVzZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbF9tdXRlczogeyB0eXBlOiAnQ2hhbm5lbE11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGV2aWNlczogeyB0eXBlOiAnRGV2aWNlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbXV0ZXM6IHsgdHlwZTogJ1VzZXJNdXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgYmFuX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlYWN0aXZhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2FjdGl2ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmV2b2tlX3Rva2Vuc19pc3N1ZWRfYmVmb3JlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRBcHBsaWNhdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBhcHA6IHsgdHlwZTogJ0FwcFJlc3BvbnNlRmllbGRzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0QmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrbGlzdDogeyB0eXBlOiAnQmxvY2tMaXN0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRCbG9ja2VkVXNlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmxvY2tzOiB7IHR5cGU6ICdCbG9ja2VkVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENhbGxSZXBvcnRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdmlkZW9fcmVhY3Rpb25zOiB7IHR5cGU6ICdWaWRlb1JlYWN0aW9uc1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYXRfYWN0aXZpdHk6IHsgdHlwZTogJ0NoYXRBY3Rpdml0eVN0YXRzUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRDYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENoYW5uZWxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNvbW1hbmRzOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldENvbW1hbmRSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0Q29uZmlnUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNvbmZpZzogeyB0eXBlOiAnQ29uZmlnUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXREcmFmdFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBkcmFmdDogeyB0eXBlOiAnRHJhZnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldEltcG9ydFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpbXBvcnRfdGFzazogeyB0eXBlOiAnSW1wb3J0VGFzaycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldE1hbnlNZXNzYWdlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlczogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldE1lc3NhZ2VSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVdpdGhDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRPckNyZWF0ZUNhbGxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnTWVtYmVyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0UHVzaFRlbXBsYXRlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0ZW1wbGF0ZXM6IHsgdHlwZTogJ1B1c2hUZW1wbGF0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRSZWFjdGlvbnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRSZXBsaWVzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2VzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0UmV2aWV3UXVldWVJdGVtUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGl0ZW06IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuR2V0U2VnbWVudFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBzZWdtZW50OiB7IHR5cGU6ICdTZWdtZW50UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5HZXRUYXNrUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkdldFRocmVhZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0aHJlYWQ6IHsgdHlwZTogJ1RocmVhZFN0YXRlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Hb0xpdmVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuSW1wb3J0VGFzayA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgaGlzdG9yeTogeyB0eXBlOiAnSW1wb3J0VGFza0hpc3RvcnknLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuSW1wb3J0VGFza0hpc3RvcnkgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RCbG9ja0xpc3RSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmxvY2tsaXN0czogeyB0eXBlOiAnQmxvY2tMaXN0UmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdENhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbGxfdHlwZXM6IHsgdHlwZTogJ0NhbGxUeXBlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdENoYW5uZWxUeXBlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsX3R5cGVzOiB7IHR5cGU6ICdDaGFubmVsVHlwZUNvbmZpZycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0Q29tbWFuZHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29tbWFuZHM6IHsgdHlwZTogJ0NvbW1hbmQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdERldmljZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZGV2aWNlczogeyB0eXBlOiAnRGV2aWNlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTGlzdEltcG9ydHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaW1wb3J0X3Rhc2tzOiB7IHR5cGU6ICdJbXBvcnRUYXNrJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RQdXNoUHJvdmlkZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHB1c2hfcHJvdmlkZXJzOiB7IHR5cGU6ICdQdXNoUHJvdmlkZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0UmVjb3JkaW5nc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZWNvcmRpbmdzOiB7IHR5cGU6ICdDYWxsUmVjb3JkaW5nJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLkxpc3RSb2xlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByb2xlczogeyB0eXBlOiAnUm9sZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5MaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdHJhbnNjcmlwdGlvbnM6IHsgdHlwZTogJ0NhbGxUcmFuc2NyaXB0aW9uJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1hcmtSZWFkUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGV2ZW50OiB7IHR5cGU6ICdNZXNzYWdlUmVhZEV2ZW50JywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVtYmVyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lbWJlcnNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVtYmVyczogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlcicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZV90ZXh0X3VwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHRocmVhZF9wYXJ0aWNpcGFudHM6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcGlubmVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbDogeyB0eXBlOiAnUG9sbCcsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHF1b3RlZF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVtaW5kZXI6IHsgdHlwZTogJ01lc3NhZ2VSZW1pbmRlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlRmxhZ1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhcHByb3ZlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVqZWN0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldmlld2VkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZXRhaWxzOiB7IHR5cGU6ICdGbGFnRGV0YWlscycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtb2RlcmF0aW9uX2ZlZWRiYWNrOiB7IHR5cGU6ICdGbGFnRmVlZGJhY2snLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtb2RlcmF0aW9uX3Jlc3VsdDogeyB0eXBlOiAnTWVzc2FnZU1vZGVyYXRpb25SZXN1bHQnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZpZXdlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTWVzc2FnZUhpc3RvcnlFbnRyeVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlX3VwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VNb2RlcmF0aW9uUmVzdWx0ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlUmVhZEV2ZW50ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsX2xhc3RfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZUNvbW1vbkZpZWxkcycsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VSZW1pbmRlciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVtaW5kX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9yZWFjdGlvbnM6IHsgdHlwZTogJ1JlYWN0aW9uUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgbWVudGlvbmVkX3VzZXJzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlX3RleHRfdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGluX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBpbm5lZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGRyYWZ0OiB7IHR5cGU6ICdEcmFmdFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcXVvdGVkX21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uX2dyb3VwczogeyB0eXBlOiAnUmVhY3Rpb25Hcm91cFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHJlbWluZGVyOiB7IHR5cGU6ICdSZW1pbmRlclJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk1lc3NhZ2VTdGF0c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb3VudF9vdmVyX3RpbWU6IHsgdHlwZTogJ0NvdW50QnlNaW51dGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5NZXNzYWdlV2l0aENoYW5uZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2VfdGV4dF91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZHJhZnQ6IHsgdHlwZTogJ0RyYWZ0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVtaW5kZXI6IHsgdHlwZTogJ1JlbWluZGVyUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuTW9kZXJhdGlvbkZsYWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgcmV2aWV3X3F1ZXVlX2l0ZW06IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk11dGVDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNoYW5uZWxfbXV0ZXM6IHsgdHlwZTogJ0NoYW5uZWxNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNoYW5uZWxfbXV0ZTogeyB0eXBlOiAnQ2hhbm5lbE11dGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBvd25fdXNlcjogeyB0eXBlOiAnT3duVXNlcicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLk11dGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbXV0ZXM6IHsgdHlwZTogJ1VzZXJNdXRlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl91c2VyOiB7IHR5cGU6ICdPd25Vc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuT3duVXNlciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbF9tdXRlczogeyB0eXBlOiAnQ2hhbm5lbE11dGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGV2aWNlczogeyB0eXBlOiAnRGV2aWNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG11dGVzOiB7IHR5cGU6ICdVc2VyTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfZW5nYWdlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9wcmVmZXJlbmNlczogeyB0eXBlOiAnUHVzaFByZWZlcmVuY2VzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuT3duVXNlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjaGFubmVsX211dGVzOiB7IHR5cGU6ICdDaGFubmVsTXV0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZXZpY2VzOiB7IHR5cGU6ICdEZXZpY2VSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtdXRlczogeyB0eXBlOiAnVXNlck11dGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF9wcmVmZXJlbmNlczogeyB0eXBlOiAnUHVzaFByZWZlcmVuY2VzJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUGFydGljaXBhbnRDb3VudEJ5TWludXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHN0YXJ0X3RzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QYXJ0aWNpcGFudENvdW50T3ZlclRpbWVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYnlfbWludXRlOiB7IHR5cGU6ICdQYXJ0aWNpcGFudENvdW50QnlNaW51dGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QZW5kaW5nTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXRlc3RfYW5zd2VyczogeyB0eXBlOiAnUG9sbFZvdGUnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgb3duX3ZvdGVzOiB7IHR5cGU6ICdQb2xsVm90ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFJlc3BvbnNlRGF0YSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X2Fuc3dlcnM6IHsgdHlwZTogJ1BvbGxWb3RlUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIG93bl92b3RlczogeyB0eXBlOiAnUG9sbFZvdGVSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUG9sbFZvdGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsVm90ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB2b3RlOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlBvbGxWb3RlUmVzcG9uc2VEYXRhID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Qb2xsVm90ZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdm90ZXM6IHsgdHlwZTogJ1BvbGxWb3RlUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlB1c2hOb3RpZmljYXRpb25GaWVsZHMgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHByb3ZpZGVyczogeyB0eXBlOiAnUHVzaFByb3ZpZGVyJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlB1c2hOb3RpZmljYXRpb25TZXR0aW5nc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBkaXNhYmxlZF91bnRpbDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaFByZWZlcmVuY2VzID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBkaXNhYmxlZF91bnRpbDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUHVzaFByb3ZpZGVyID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkaXNhYmxlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcHVzaF90ZW1wbGF0ZXM6IHsgdHlwZTogJ1B1c2hUZW1wbGF0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5QdXNoUHJvdmlkZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGlzYWJsZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlB1c2hUZW1wbGF0ZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlCYW5uZWRVc2Vyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBiYW5zOiB7IHR5cGU6ICdCYW5SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5Q2FsbFBhcnRpY2lwYW50c1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBwYXJ0aWNpcGFudHM6IHsgdHlwZTogJ0NhbGxQYXJ0aWNpcGFudFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5Q2FsbFN0YXRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlcG9ydHM6IHsgdHlwZTogJ0NhbGxTdGF0c1JlcG9ydFN1bW1hcnlSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbGxzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbGxzOiB7IHR5cGU6ICdDYWxsU3RhdGVSZXNwb25zZUZpZWxkcycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeUNhbXBhaWduc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjYW1wYWlnbnM6IHsgdHlwZTogJ0NhbXBhaWduUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlDaGFubmVsc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsczogeyB0eXBlOiAnQ2hhbm5lbFN0YXRlUmVzcG9uc2VGaWVsZHMnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlEcmFmdHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZHJhZnRzOiB7IHR5cGU6ICdEcmFmdFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5RmVlZE1vZGVyYXRpb25UZW1wbGF0ZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlGZWVkTW9kZXJhdGlvblRlbXBsYXRlc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0ZW1wbGF0ZXM6IHsgdHlwZTogJ1F1ZXJ5RmVlZE1vZGVyYXRpb25UZW1wbGF0ZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeU1lc3NhZ2VGbGFnc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmbGFnczogeyB0eXBlOiAnTWVzc2FnZUZsYWdSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeU1lc3NhZ2VIaXN0b3J5UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2VfaGlzdG9yeTogeyB0eXBlOiAnTWVzc2FnZUhpc3RvcnlFbnRyeVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5TW9kZXJhdGlvbkNvbmZpZ3NSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29uZmlnczogeyB0eXBlOiAnQ29uZmlnUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlNb2RlcmF0aW9uRmxhZ3NSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgZmxhZ3M6IHsgdHlwZTogJ01vZGVyYXRpb25GbGFnUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUXVlcnlNb2RlcmF0aW9uTG9nc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBsb2dzOiB7IHR5cGU6ICdBY3Rpb25Mb2dSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVBvbGxzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHBvbGxzOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5UmVhY3Rpb25zUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHJlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVJlbWluZGVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZW1pbmRlcnM6IHsgdHlwZTogJ1JlbWluZGVyUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5UmV2aWV3UXVldWVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgaXRlbXM6IHsgdHlwZTogJ1Jldmlld1F1ZXVlSXRlbVJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5U2VnbWVudFRhcmdldHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdGFyZ2V0czogeyB0eXBlOiAnU2VnbWVudFRhcmdldFJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlF1ZXJ5U2VnbWVudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgc2VnbWVudHM6IHsgdHlwZTogJ1NlZ21lbnRSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVRocmVhZHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVGhyZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5RdWVyeVVzZXJzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHVzZXJzOiB7IHR5cGU6ICdGdWxsVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJlYWN0aW9uID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhY3Rpb25Hcm91cFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBmaXJzdF9yZWFjdGlvbl9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9yZWFjdGlvbl9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhY3Rpb25SZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhY3RpdmF0ZVVzZXJSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVhZFN0YXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGxhc3RfcmVhZDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmVtaW5kZXJSZXNwb25zZURhdGEgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlbWluZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5SZXZpZXdRdWV1ZUl0ZW0gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFjdGlvbnM6IHsgdHlwZTogJ0FjdGlvbkxvZycsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBiYW5zOiB7IHR5cGU6ICdCYW4nLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZmxhZ3M6IHsgdHlwZTogJ0ZsYWcnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgYXNzaWduZWRfdG86IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjYWxsOiB7IHR5cGU6ICdDYWxsJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZW50aXR5X2NyZWF0b3I6IHsgdHlwZTogJ0VudGl0eUNyZWF0b3InLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBmZWVkc192Ml9yZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb24nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb246IHsgdHlwZTogJ1JlYWN0aW9uJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuUmV2aWV3UXVldWVJdGVtUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGFjdGlvbnM6IHsgdHlwZTogJ0FjdGlvbkxvZ1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGJhbnM6IHsgdHlwZTogJ0JhbicsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjb21wbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldmlld2VkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBhc3NpZ25lZF90bzogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2FsbDogeyB0eXBlOiAnQ2FsbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZW50aXR5X2NyZWF0b3I6IHsgdHlwZTogJ0VudGl0eUNyZWF0b3JSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGZlZWRzX3YyX3JlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvbicsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlJvbGUgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNGVUlETGFzdFNlZW4gPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGxhc3Rfc2VlbjogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VhcmNoUmVzdWx0ID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdTZWFyY2hSZXN1bHRNZXNzYWdlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VhcmNoUmVzdWx0TWVzc2FnZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGF0ZXN0X3JlYWN0aW9uczogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBtZW50aW9uZWRfdXNlcnM6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBvd25fcmVhY3Rpb25zOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lc3NhZ2VfdGV4dF91cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5fZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGlubmVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZHJhZnQ6IHsgdHlwZTogJ0RyYWZ0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwaW5uZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBvbGw6IHsgdHlwZTogJ1BvbGxSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBxdW90ZWRfbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcmVhY3Rpb25fZ3JvdXBzOiB7IHR5cGU6ICdSZWFjdGlvbkdyb3VwUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcmVtaW5kZXI6IHsgdHlwZTogJ1JlbWluZGVyUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VnbWVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuU2VnbWVudFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5TZWdtZW50VGFyZ2V0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNlbmRNZXNzYWdlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlNlbmRSZWFjdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFjdGlvbjogeyB0eXBlOiAnUmVhY3Rpb25SZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlN0b3BMaXZlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlN1Ym1pdEFjdGlvblJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBpdGVtOiB7IHR5cGU6ICdSZXZpZXdRdWV1ZUl0ZW0nLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5UaHJlYWRQYXJ0aWNpcGFudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9yZWFkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X3RocmVhZF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsZWZ0X3RocmVhZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXNlcjogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVGhyZWFkUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfbWVzc2FnZV9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkX3BhcnRpY2lwYW50czogeyB0eXBlOiAnVGhyZWFkUGFydGljaXBhbnQnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY3JlYXRlZF9ieTogeyB0eXBlOiAnVXNlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcGFyZW50X21lc3NhZ2U6IHsgdHlwZTogJ01lc3NhZ2VSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlRocmVhZFN0YXRlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhdGVzdF9yZXBsaWVzOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9tZXNzYWdlX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZWFkOiB7IHR5cGU6ICdSZWFkU3RhdGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICB0aHJlYWRfcGFydGljaXBhbnRzOiB7IHR5cGU6ICdUaHJlYWRQYXJ0aWNpcGFudCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBjcmVhdGVkX2J5OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkcmFmdDogeyB0eXBlOiAnRHJhZnRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHBhcmVudF9tZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5UcnVuY2F0ZUNoYW5uZWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVW5yZWFkQ291bnRzQmF0Y2hSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY291bnRzX2J5X3VzZXI6IHsgdHlwZTogJ1VucmVhZENvdW50c1Jlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVucmVhZENvdW50c0NoYW5uZWwgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGxhc3RfcmVhZDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVW5yZWFkQ291bnRzUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNoYW5uZWxzOiB7IHR5cGU6ICdVbnJlYWRDb3VudHNDaGFubmVsJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIHRocmVhZHM6IHsgdHlwZTogJ1VucmVhZENvdW50c1RocmVhZCcsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VbnJlYWRDb3VudHNUaHJlYWQgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGxhc3RfcmVhZDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQmxvY2tMaXN0UmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGJsb2NrbGlzdDogeyB0eXBlOiAnQmxvY2tMaXN0UmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZW1iZXJzOiB7IHR5cGU6ICdNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDYWxsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ01lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgICAgIGNhbGw6IHsgdHlwZTogJ0NhbGxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNhbGxUeXBlUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwZGF0ZUNoYW5uZWxQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgICAgICBjaGFubmVsOiB7IHR5cGU6ICdDaGFubmVsUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVDaGFubmVsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIG1lbWJlcnM6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgY2hhbm5lbDogeyB0eXBlOiAnQ2hhbm5lbFJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQ2hhbm5lbFR5cGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlQ29tbWFuZFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb21tYW5kOiB7IHR5cGU6ICdDb21tYW5kJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlTWVtYmVyUGFydGlhbFJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjaGFubmVsX21lbWJlcjogeyB0eXBlOiAnQ2hhbm5lbE1lbWJlclJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVBhcnRpYWxSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgbWVzc2FnZTogeyB0eXBlOiAnTWVzc2FnZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVSZW1pbmRlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICByZW1pbmRlcjogeyB0eXBlOiAnUmVtaW5kZXJSZXNwb25zZURhdGEnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVUaHJlYWRQYXJ0aWFsUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIHRocmVhZDogeyB0eXBlOiAnVGhyZWFkUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcGRhdGVVc2Vyc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB1c2VyczogeyB0eXBlOiAnRnVsbFVzZXJSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcHNlcnRDb25maWdSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY29uZmlnOiB7IHR5cGU6ICdDb25maWdSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwc2VydE1vZGVyYXRpb25UZW1wbGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5VcHNlcnRQdXNoUHJlZmVyZW5jZXNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgdXNlcl9wcmVmZXJlbmNlczogeyB0eXBlOiAnUHVzaFByZWZlcmVuY2VzJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwc2VydFB1c2hQcm92aWRlclJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBwdXNoX3Byb3ZpZGVyOiB7IHR5cGU6ICdQdXNoUHJvdmlkZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVwc2VydFB1c2hUZW1wbGF0ZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICB0ZW1wbGF0ZTogeyB0eXBlOiAnUHVzaFRlbXBsYXRlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlciA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgYmFuX2V4cGlyZXM6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlYWN0aXZhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWxldGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBsYXN0X2FjdGl2ZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9lbmdhZ2VkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJNdXRlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjcmVhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1cGRhdGVkX2F0OiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBleHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB0YXJnZXQ6IHsgdHlwZTogJ1VzZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuVXNlck11dGVSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZXhwaXJlczogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGFyZ2V0OiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICB1c2VyOiB7IHR5cGU6ICdVc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5Vc2VyUmVzcG9uc2UgPSAoaW5wdXQpID0+IHtcbiAgICBjb25zdCB0eXBlTWFwcGluZ3MgPSB7XG4gICAgICAgIGNyZWF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVwZGF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGJhbl9leHBpcmVzOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBkZWFjdGl2YXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVsZXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgbGFzdF9hY3RpdmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZTogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGV2aWNlczogeyB0eXBlOiAnRGV2aWNlUmVzcG9uc2UnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgcHVzaF9ub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICB0eXBlOiAnUHVzaE5vdGlmaWNhdGlvblNldHRpbmdzUmVzcG9uc2UnLFxuICAgICAgICAgICAgaXNTaW5nbGU6IHRydWUsXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlVzZXJSZXNwb25zZUNvbW1vbkZpZWxkcyA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdXBkYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgZGVhY3RpdmF0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGRlbGV0ZWRfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGxhc3RfYWN0aXZlOiB7IHR5cGU6ICdEYXRldGltZVR5cGUnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLlZpZGVvUmVhY3Rpb25PdmVyVGltZVJlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBieV9taW51dGU6IHsgdHlwZTogJ0NvdW50QnlNaW51dGVSZXNwb25zZScsIGlzU2luZ2xlOiBmYWxzZSB9LFxuICAgIH07XG4gICAgcmV0dXJuIGRlY29kZSh0eXBlTWFwcGluZ3MsIGlucHV0KTtcbn07XG5kZWNvZGVycy5WaWRlb1JlYWN0aW9uc1Jlc3BvbnNlID0gKGlucHV0KSA9PiB7XG4gICAgY29uc3QgdHlwZU1hcHBpbmdzID0ge1xuICAgICAgICBjb3VudF9vdmVyX3RpbWU6IHsgdHlwZTogJ1ZpZGVvUmVhY3Rpb25PdmVyVGltZVJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICB9O1xuICAgIHJldHVybiBkZWNvZGUodHlwZU1hcHBpbmdzLCBpbnB1dCk7XG59O1xuZGVjb2RlcnMuV1NFdmVudCA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY3JlYXRlZF9hdDogeyB0eXBlOiAnRGF0ZXRpbWVUeXBlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgY2hhbm5lbF9sYXN0X21lc3NhZ2VfYXQ6IHsgdHlwZTogJ0RhdGV0aW1lVHlwZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNoYW5uZWw6IHsgdHlwZTogJ0NoYW5uZWxSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIG1lOiB7IHR5cGU6ICdPd25Vc2VyUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZW1iZXI6IHsgdHlwZTogJ0NoYW5uZWxNZW1iZXInLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBtZXNzYWdlOiB7IHR5cGU6ICdNZXNzYWdlUmVzcG9uc2UnLCBpc1NpbmdsZTogdHJ1ZSB9LFxuICAgICAgICBwb2xsOiB7IHR5cGU6ICdQb2xsUmVzcG9uc2VEYXRhJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgcG9sbF92b3RlOiB7IHR5cGU6ICdQb2xsVm90ZVJlc3BvbnNlRGF0YScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHJlYWN0aW9uOiB7IHR5cGU6ICdSZWFjdGlvblJlc3BvbnNlJywgaXNTaW5nbGU6IHRydWUgfSxcbiAgICAgICAgdGhyZWFkOiB7IHR5cGU6ICdUaHJlYWRSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgICAgIHVzZXI6IHsgdHlwZTogJ1VzZXJSZXNwb25zZScsIGlzU2luZ2xlOiB0cnVlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcbmRlY29kZXJzLldyYXBwZWRVbnJlYWRDb3VudHNSZXNwb25zZSA9IChpbnB1dCkgPT4ge1xuICAgIGNvbnN0IHR5cGVNYXBwaW5ncyA9IHtcbiAgICAgICAgY2hhbm5lbHM6IHsgdHlwZTogJ1VucmVhZENvdW50c0NoYW5uZWwnLCBpc1NpbmdsZTogZmFsc2UgfSxcbiAgICAgICAgdGhyZWFkczogeyB0eXBlOiAnVW5yZWFkQ291bnRzVGhyZWFkJywgaXNTaW5nbGU6IGZhbHNlIH0sXG4gICAgfTtcbiAgICByZXR1cm4gZGVjb2RlKHR5cGVNYXBwaW5ncywgaW5wdXQpO1xufTtcblxuY2xhc3MgQ29tbW9uQXBpIGV4dGVuZHMgQmFzZUFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZ2V0QXBwID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9hcHAnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5HZXRBcHBsaWNhdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVBcHAgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBhc3luY191cmxfZW5yaWNoX2VuYWJsZWQ6IHJlcXVlc3Q/LmFzeW5jX3VybF9lbnJpY2hfZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBhdXRvX3RyYW5zbGF0aW9uX2VuYWJsZWQ6IHJlcXVlc3Q/LmF1dG9fdHJhbnNsYXRpb25fZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBiZWZvcmVfbWVzc2FnZV9zZW5kX2hvb2tfdXJsOiByZXF1ZXN0Py5iZWZvcmVfbWVzc2FnZV9zZW5kX2hvb2tfdXJsLFxuICAgICAgICAgICAgICAgIGNkbl9leHBpcmF0aW9uX3NlY29uZHM6IHJlcXVlc3Q/LmNkbl9leHBpcmF0aW9uX3NlY29uZHMsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF9oaWRlX21lbWJlcnNfb25seTogcmVxdWVzdD8uY2hhbm5lbF9oaWRlX21lbWJlcnNfb25seSxcbiAgICAgICAgICAgICAgICBjdXN0b21fYWN0aW9uX2hhbmRsZXJfdXJsOiByZXF1ZXN0Py5jdXN0b21fYWN0aW9uX2hhbmRsZXJfdXJsLFxuICAgICAgICAgICAgICAgIGRpc2FibGVfYXV0aF9jaGVja3M6IHJlcXVlc3Q/LmRpc2FibGVfYXV0aF9jaGVja3MsXG4gICAgICAgICAgICAgICAgZGlzYWJsZV9wZXJtaXNzaW9uc19jaGVja3M6IHJlcXVlc3Q/LmRpc2FibGVfcGVybWlzc2lvbnNfY2hlY2tzLFxuICAgICAgICAgICAgICAgIGVuZm9yY2VfdW5pcXVlX3VzZXJuYW1lczogcmVxdWVzdD8uZW5mb3JjZV91bmlxdWVfdXNlcm5hbWVzLFxuICAgICAgICAgICAgICAgIGZlZWRzX21vZGVyYXRpb25fZW5hYmxlZDogcmVxdWVzdD8uZmVlZHNfbW9kZXJhdGlvbl9lbmFibGVkLFxuICAgICAgICAgICAgICAgIGZlZWRzX3YyX3JlZ2lvbjogcmVxdWVzdD8uZmVlZHNfdjJfcmVnaW9uLFxuICAgICAgICAgICAgICAgIGd1ZXN0X3VzZXJfY3JlYXRpb25fZGlzYWJsZWQ6IHJlcXVlc3Q/Lmd1ZXN0X3VzZXJfY3JlYXRpb25fZGlzYWJsZWQsXG4gICAgICAgICAgICAgICAgaW1hZ2VfbW9kZXJhdGlvbl9lbmFibGVkOiByZXF1ZXN0Py5pbWFnZV9tb2RlcmF0aW9uX2VuYWJsZWQsXG4gICAgICAgICAgICAgICAgbWlncmF0ZV9wZXJtaXNzaW9uc190b192MjogcmVxdWVzdD8ubWlncmF0ZV9wZXJtaXNzaW9uc190b192MixcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uX2VuYWJsZWQ6IHJlcXVlc3Q/Lm1vZGVyYXRpb25fZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uX3dlYmhvb2tfdXJsOiByZXF1ZXN0Py5tb2RlcmF0aW9uX3dlYmhvb2tfdXJsLFxuICAgICAgICAgICAgICAgIG11bHRpX3RlbmFudF9lbmFibGVkOiByZXF1ZXN0Py5tdWx0aV90ZW5hbnRfZW5hYmxlZCxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uX3ZlcnNpb246IHJlcXVlc3Q/LnBlcm1pc3Npb25fdmVyc2lvbixcbiAgICAgICAgICAgICAgICByZW1pbmRlcnNfaW50ZXJ2YWw6IHJlcXVlc3Q/LnJlbWluZGVyc19pbnRlcnZhbCxcbiAgICAgICAgICAgICAgICByZW1pbmRlcnNfbWF4X21lbWJlcnM6IHJlcXVlc3Q/LnJlbWluZGVyc19tYXhfbWVtYmVycyxcbiAgICAgICAgICAgICAgICByZXZva2VfdG9rZW5zX2lzc3VlZF9iZWZvcmU6IHJlcXVlc3Q/LnJldm9rZV90b2tlbnNfaXNzdWVkX2JlZm9yZSxcbiAgICAgICAgICAgICAgICBzbnNfa2V5OiByZXF1ZXN0Py5zbnNfa2V5LFxuICAgICAgICAgICAgICAgIHNuc19zZWNyZXQ6IHJlcXVlc3Q/LnNuc19zZWNyZXQsXG4gICAgICAgICAgICAgICAgc25zX3RvcGljX2FybjogcmVxdWVzdD8uc25zX3RvcGljX2FybixcbiAgICAgICAgICAgICAgICBzcXNfa2V5OiByZXF1ZXN0Py5zcXNfa2V5LFxuICAgICAgICAgICAgICAgIHNxc19zZWNyZXQ6IHJlcXVlc3Q/LnNxc19zZWNyZXQsXG4gICAgICAgICAgICAgICAgc3FzX3VybDogcmVxdWVzdD8uc3FzX3VybCxcbiAgICAgICAgICAgICAgICB3ZWJob29rX3VybDogcmVxdWVzdD8ud2ViaG9va191cmwsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF9mbGFnX3JlYXNvbnM6IHJlcXVlc3Q/LmFsbG93ZWRfZmxhZ19yZWFzb25zLFxuICAgICAgICAgICAgICAgIGV2ZW50X2hvb2tzOiByZXF1ZXN0Py5ldmVudF9ob29rcyxcbiAgICAgICAgICAgICAgICBpbWFnZV9tb2RlcmF0aW9uX2Jsb2NrX2xhYmVsczogcmVxdWVzdD8uaW1hZ2VfbW9kZXJhdGlvbl9ibG9ja19sYWJlbHMsXG4gICAgICAgICAgICAgICAgaW1hZ2VfbW9kZXJhdGlvbl9sYWJlbHM6IHJlcXVlc3Q/LmltYWdlX21vZGVyYXRpb25fbGFiZWxzLFxuICAgICAgICAgICAgICAgIHVzZXJfc2VhcmNoX2Rpc2FsbG93ZWRfcm9sZXM6IHJlcXVlc3Q/LnVzZXJfc2VhcmNoX2Rpc2FsbG93ZWRfcm9sZXMsXG4gICAgICAgICAgICAgICAgd2ViaG9va19ldmVudHM6IHJlcXVlc3Q/LndlYmhvb2tfZXZlbnRzLFxuICAgICAgICAgICAgICAgIGFwbl9jb25maWc6IHJlcXVlc3Q/LmFwbl9jb25maWcsXG4gICAgICAgICAgICAgICAgYXN5bmNfbW9kZXJhdGlvbl9jb25maWc6IHJlcXVlc3Q/LmFzeW5jX21vZGVyYXRpb25fY29uZmlnLFxuICAgICAgICAgICAgICAgIGRhdGFkb2dfaW5mbzogcmVxdWVzdD8uZGF0YWRvZ19pbmZvLFxuICAgICAgICAgICAgICAgIGZpbGVfdXBsb2FkX2NvbmZpZzogcmVxdWVzdD8uZmlsZV91cGxvYWRfY29uZmlnLFxuICAgICAgICAgICAgICAgIGZpcmViYXNlX2NvbmZpZzogcmVxdWVzdD8uZmlyZWJhc2VfY29uZmlnLFxuICAgICAgICAgICAgICAgIGdyYW50czogcmVxdWVzdD8uZ3JhbnRzLFxuICAgICAgICAgICAgICAgIGh1YXdlaV9jb25maWc6IHJlcXVlc3Q/Lmh1YXdlaV9jb25maWcsXG4gICAgICAgICAgICAgICAgaW1hZ2VfdXBsb2FkX2NvbmZpZzogcmVxdWVzdD8uaW1hZ2VfdXBsb2FkX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBtb2RlcmF0aW9uX2Rhc2hib2FyZF9wcmVmZXJlbmNlczogcmVxdWVzdD8ubW9kZXJhdGlvbl9kYXNoYm9hcmRfcHJlZmVyZW5jZXMsXG4gICAgICAgICAgICAgICAgcHVzaF9jb25maWc6IHJlcXVlc3Q/LnB1c2hfY29uZmlnLFxuICAgICAgICAgICAgICAgIHhpYW9taV9jb25maWc6IHJlcXVlc3Q/LnhpYW9taV9jb25maWcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL2FwcCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5saXN0QmxvY2tMaXN0cyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0ZWFtOiByZXF1ZXN0Py50ZWFtLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvYmxvY2tsaXN0cycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuTGlzdEJsb2NrTGlzdFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jcmVhdGVCbG9ja0xpc3QgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgICAgIHdvcmRzOiByZXF1ZXN0Py53b3JkcyxcbiAgICAgICAgICAgICAgICB0ZWFtOiByZXF1ZXN0Py50ZWFtLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvYmxvY2tsaXN0cycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkNyZWF0ZUJsb2NrTGlzdFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVCbG9ja0xpc3QgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdGVhbTogcmVxdWVzdD8udGVhbSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9ibG9ja2xpc3RzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRCbG9ja0xpc3QgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdGVhbTogcmVxdWVzdD8udGVhbSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9ibG9ja2xpc3RzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldEJsb2NrTGlzdFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVCbG9ja0xpc3QgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdGVhbTogcmVxdWVzdD8udGVhbSxcbiAgICAgICAgICAgICAgICB3b3JkczogcmVxdWVzdD8ud29yZHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi9ibG9ja2xpc3RzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5VcGRhdGVCbG9ja0xpc3RSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hlY2tQdXNoID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYXBuX3RlbXBsYXRlOiByZXF1ZXN0Py5hcG5fdGVtcGxhdGUsXG4gICAgICAgICAgICAgICAgZXZlbnRfdHlwZTogcmVxdWVzdD8uZXZlbnRfdHlwZSxcbiAgICAgICAgICAgICAgICBmaXJlYmFzZV9kYXRhX3RlbXBsYXRlOiByZXF1ZXN0Py5maXJlYmFzZV9kYXRhX3RlbXBsYXRlLFxuICAgICAgICAgICAgICAgIGZpcmViYXNlX3RlbXBsYXRlOiByZXF1ZXN0Py5maXJlYmFzZV90ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogcmVxdWVzdD8ucHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfdHlwZTogcmVxdWVzdD8ucHVzaF9wcm92aWRlcl90eXBlLFxuICAgICAgICAgICAgICAgIHNraXBfZGV2aWNlczogcmVxdWVzdD8uc2tpcF9kZXZpY2VzLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGVja19wdXNoJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuQ2hlY2tQdXNoUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNoZWNrU05TID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc25zX2tleTogcmVxdWVzdD8uc25zX2tleSxcbiAgICAgICAgICAgICAgICBzbnNfc2VjcmV0OiByZXF1ZXN0Py5zbnNfc2VjcmV0LFxuICAgICAgICAgICAgICAgIHNuc190b3BpY19hcm46IHJlcXVlc3Q/LnNuc190b3BpY19hcm4sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hlY2tfc25zJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuQ2hlY2tTTlNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hlY2tTUVMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBzcXNfa2V5OiByZXF1ZXN0Py5zcXNfa2V5LFxuICAgICAgICAgICAgICAgIHNxc19zZWNyZXQ6IHJlcXVlc3Q/LnNxc19zZWNyZXQsXG4gICAgICAgICAgICAgICAgc3FzX3VybDogcmVxdWVzdD8uc3FzX3VybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGVja19zcXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5DaGVja1NRU1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVEZXZpY2UgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9kZXZpY2VzJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdERldmljZXMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2RldmljZXMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkxpc3REZXZpY2VzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNyZWF0ZURldmljZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyOiByZXF1ZXN0Py5wdXNoX3Byb3ZpZGVyLFxuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogcmVxdWVzdD8ucHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdm9pcF90b2tlbjogcmVxdWVzdD8udm9pcF90b2tlbixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2RldmljZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZXhwb3J0VXNlcnMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkczogcmVxdWVzdD8udXNlcl9pZHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZXhwb3J0L3VzZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuRXhwb3J0VXNlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdEV4dGVybmFsU3RvcmFnZSA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvZXh0ZXJuYWxfc3RvcmFnZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkxpc3RFeHRlcm5hbFN0b3JhZ2VSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3JlYXRlRXh0ZXJuYWxTdG9yYWdlID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgYnVja2V0OiByZXF1ZXN0Py5idWNrZXQsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgICAgICBzdG9yYWdlX3R5cGU6IHJlcXVlc3Q/LnN0b3JhZ2VfdHlwZSxcbiAgICAgICAgICAgICAgICBnY3NfY3JlZGVudGlhbHM6IHJlcXVlc3Q/Lmdjc19jcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBwYXRoOiByZXF1ZXN0Py5wYXRoLFxuICAgICAgICAgICAgICAgIGF3c19zMzogcmVxdWVzdD8uYXdzX3MzLFxuICAgICAgICAgICAgICAgIGF6dXJlX2Jsb2I6IHJlcXVlc3Q/LmF6dXJlX2Jsb2IsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvZXh0ZXJuYWxfc3RvcmFnZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkNyZWF0ZUV4dGVybmFsU3RvcmFnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVFeHRlcm5hbFN0b3JhZ2UgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvZXh0ZXJuYWxfc3RvcmFnZS97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuRGVsZXRlRXh0ZXJuYWxTdG9yYWdlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZUV4dGVybmFsU3RvcmFnZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBidWNrZXQ6IHJlcXVlc3Q/LmJ1Y2tldCxcbiAgICAgICAgICAgICAgICBzdG9yYWdlX3R5cGU6IHJlcXVlc3Q/LnN0b3JhZ2VfdHlwZSxcbiAgICAgICAgICAgICAgICBnY3NfY3JlZGVudGlhbHM6IHJlcXVlc3Q/Lmdjc19jcmVkZW50aWFscyxcbiAgICAgICAgICAgICAgICBwYXRoOiByZXF1ZXN0Py5wYXRoLFxuICAgICAgICAgICAgICAgIGF3c19zMzogcmVxdWVzdD8uYXdzX3MzLFxuICAgICAgICAgICAgICAgIGF6dXJlX2Jsb2I6IHJlcXVlc3Q/LmF6dXJlX2Jsb2IsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi9leHRlcm5hbF9zdG9yYWdlL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5VcGRhdGVFeHRlcm5hbFN0b3JhZ2VSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hlY2tFeHRlcm5hbFN0b3JhZ2UgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvZXh0ZXJuYWxfc3RvcmFnZS97bmFtZX0vY2hlY2snLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuQ2hlY2tFeHRlcm5hbFN0b3JhZ2VSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3JlYXRlR3Vlc3QgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2d1ZXN0JywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuQ3JlYXRlR3Vlc3RSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3JlYXRlSW1wb3J0VVJMID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJlcXVlc3Q/LmZpbGVuYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ltcG9ydF91cmxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuQ3JlYXRlSW1wb3J0VVJMUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxpc3RJbXBvcnRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9pbXBvcnRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuTGlzdEltcG9ydHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3JlYXRlSW1wb3J0ID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbW9kZTogcmVxdWVzdD8ubW9kZSxcbiAgICAgICAgICAgICAgICBwYXRoOiByZXF1ZXN0Py5wYXRoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2ltcG9ydHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5DcmVhdGVJbXBvcnRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0SW1wb3J0ID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvaW1wb3J0cy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldEltcG9ydFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRPRyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHJlcXVlc3Q/LnVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL29nJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5HZXRPR1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5saXN0UGVybWlzc2lvbnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3Blcm1pc3Npb25zJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuTGlzdFBlcm1pc3Npb25zUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFBlcm1pc3Npb24gPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9wZXJtaXNzaW9ucy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldEN1c3RvbVBlcm1pc3Npb25SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdFB1c2hQcm92aWRlcnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3B1c2hfcHJvdmlkZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuTGlzdFB1c2hQcm92aWRlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBzZXJ0UHVzaFByb3ZpZGVyID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgcHVzaF9wcm92aWRlcjogcmVxdWVzdD8ucHVzaF9wcm92aWRlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9wdXNoX3Byb3ZpZGVycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwc2VydFB1c2hQcm92aWRlclJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVQdXNoUHJvdmlkZXIgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9wdXNoX3Byb3ZpZGVycy97dHlwZX0ve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRSYXRlTGltaXRzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHNlcnZlcl9zaWRlOiByZXF1ZXN0Py5zZXJ2ZXJfc2lkZSxcbiAgICAgICAgICAgICAgICBhbmRyb2lkOiByZXF1ZXN0Py5hbmRyb2lkLFxuICAgICAgICAgICAgICAgIGlvczogcmVxdWVzdD8uaW9zLFxuICAgICAgICAgICAgICAgIHdlYjogcmVxdWVzdD8ud2ViLFxuICAgICAgICAgICAgICAgIGVuZHBvaW50czogcmVxdWVzdD8uZW5kcG9pbnRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvcmF0ZV9saW1pdHMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldFJhdGVMaW1pdHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdFJvbGVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9yb2xlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkxpc3RSb2xlc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jcmVhdGVSb2xlID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9yb2xlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkNyZWF0ZVJvbGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlUm9sZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9yb2xlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFRhc2sgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi90YXNrcy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldFRhc2tSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlRmlsZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHJlcXVlc3Q/LnVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3VwbG9hZHMvZmlsZScsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwbG9hZEZpbGUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBmaWxlOiByZXF1ZXN0Py5maWxlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXBsb2Fkcy9maWxlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuRmlsZVVwbG9hZFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVJbWFnZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1cmw6IHJlcXVlc3Q/LnVybCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3VwbG9hZHMvaW1hZ2UnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGxvYWRJbWFnZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbGU6IHJlcXVlc3Q/LmZpbGUsXG4gICAgICAgICAgICAgICAgdXBsb2FkX3NpemVzOiByZXF1ZXN0Py51cGxvYWRfc2l6ZXMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91cGxvYWRzL2ltYWdlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuSW1hZ2VVcGxvYWRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlVc2VycyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkOiByZXF1ZXN0Py5wYXlsb2FkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdXNlcnMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlF1ZXJ5VXNlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlVXNlcnNQYXJ0aWFsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcnM6IHJlcXVlc3Q/LnVzZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi91c2VycycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwZGF0ZVVzZXJzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcnM6IHJlcXVlc3Q/LnVzZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuVXBkYXRlVXNlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0QmxvY2tlZFVzZXJzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi91c2Vycy9ibG9jaycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuR2V0QmxvY2tlZFVzZXJzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJsb2NrVXNlcnMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBibG9ja2VkX3VzZXJfaWQ6IHJlcXVlc3Q/LmJsb2NrZWRfdXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvYmxvY2snLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5CbG9ja1VzZXJzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlYWN0aXZhdGVVc2VycyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0Py51c2VyX2lkcyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2J5X2lkOiByZXF1ZXN0Py5jcmVhdGVkX2J5X2lkLFxuICAgICAgICAgICAgICAgIG1hcmtfY2hhbm5lbHNfZGVsZXRlZDogcmVxdWVzdD8ubWFya19jaGFubmVsc19kZWxldGVkLFxuICAgICAgICAgICAgICAgIG1hcmtfbWVzc2FnZXNfZGVsZXRlZDogcmVxdWVzdD8ubWFya19tZXNzYWdlc19kZWxldGVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL2RlYWN0aXZhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5EZWFjdGl2YXRlVXNlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlVXNlcnMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkczogcmVxdWVzdD8udXNlcl9pZHMsXG4gICAgICAgICAgICAgICAgY2FsbHM6IHJlcXVlc3Q/LmNhbGxzLFxuICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbnM6IHJlcXVlc3Q/LmNvbnZlcnNhdGlvbnMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHJlcXVlc3Q/Lm1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIG5ld19jYWxsX293bmVyX2lkOiByZXF1ZXN0Py5uZXdfY2FsbF9vd25lcl9pZCxcbiAgICAgICAgICAgICAgICBuZXdfY2hhbm5lbF9vd25lcl9pZDogcmVxdWVzdD8ubmV3X2NoYW5uZWxfb3duZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi91c2Vycy9kZWxldGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5EZWxldGVVc2Vyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZWFjdGl2YXRlVXNlcnMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkczogcmVxdWVzdD8udXNlcl9pZHMsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9ieV9pZDogcmVxdWVzdD8uY3JlYXRlZF9ieV9pZCxcbiAgICAgICAgICAgICAgICByZXN0b3JlX2NoYW5uZWxzOiByZXF1ZXN0Py5yZXN0b3JlX2NoYW5uZWxzLFxuICAgICAgICAgICAgICAgIHJlc3RvcmVfbWVzc2FnZXM6IHJlcXVlc3Q/LnJlc3RvcmVfbWVzc2FnZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvcmVhY3RpdmF0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlYWN0aXZhdGVVc2Vyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZXN0b3JlVXNlcnMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkczogcmVxdWVzdD8udXNlcl9pZHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvcmVzdG9yZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51bmJsb2NrVXNlcnMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBibG9ja2VkX3VzZXJfaWQ6IHJlcXVlc3Q/LmJsb2NrZWRfdXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdXNlcnMvdW5ibG9jaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVuYmxvY2tVc2Vyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWFjdGl2YXRlVXNlciA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2J5X2lkOiByZXF1ZXN0Py5jcmVhdGVkX2J5X2lkLFxuICAgICAgICAgICAgICAgIG1hcmtfbWVzc2FnZXNfZGVsZXRlZDogcmVxdWVzdD8ubWFya19tZXNzYWdlc19kZWxldGVkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL3t1c2VyX2lkfS9kZWFjdGl2YXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkRlYWN0aXZhdGVVc2VyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmV4cG9ydFVzZXIgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdXNlcnMve3VzZXJfaWR9L2V4cG9ydCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5FeHBvcnRVc2VyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJlYWN0aXZhdGVVc2VyID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYnlfaWQ6IHJlcXVlc3Q/LmNyZWF0ZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgICAgICByZXN0b3JlX21lc3NhZ2VzOiByZXF1ZXN0Py5yZXN0b3JlX21lc3NhZ2VzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3VzZXJzL3t1c2VyX2lkfS9yZWFjdGl2YXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlYWN0aXZhdGVVc2VyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgVmlkZW9BcGkgZXh0ZW5kcyBCYXNlQXBpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5xdWVyeVVzZXJGZWVkYmFjayA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBmdWxsOiByZXF1ZXN0Py5mdWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiByZXF1ZXN0Py5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL2ZlZWRiYWNrJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcywgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeVVzZXJGZWVkYmFja1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeUNhbGxNZW1iZXJzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiByZXF1ZXN0Py5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL21lbWJlcnMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeUNhbGxNZW1iZXJzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5Q2FsbFN0YXRzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiByZXF1ZXN0Py5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3N0YXRzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUXVlcnlDYWxsU3RhdHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0Q2FsbCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBtZW1iZXJzX2xpbWl0OiByZXF1ZXN0Py5tZW1iZXJzX2xpbWl0LFxuICAgICAgICAgICAgICAgIHJpbmc6IHJlcXVlc3Q/LnJpbmcsXG4gICAgICAgICAgICAgICAgbm90aWZ5OiByZXF1ZXN0Py5ub3RpZnksXG4gICAgICAgICAgICAgICAgdmlkZW86IHJlcXVlc3Q/LnZpZGVvLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuR2V0Q2FsbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBzdGFydHNfYXQ6IHJlcXVlc3Q/LnN0YXJ0c19hdCxcbiAgICAgICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgICAgICAgICBzZXR0aW5nc19vdmVycmlkZTogcmVxdWVzdD8uc2V0dGluZ3Nfb3ZlcnJpZGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuVXBkYXRlQ2FsbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRPckNyZWF0ZUNhbGwgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIG1lbWJlcnNfbGltaXQ6IHJlcXVlc3Q/Lm1lbWJlcnNfbGltaXQsXG4gICAgICAgICAgICAgICAgbm90aWZ5OiByZXF1ZXN0Py5ub3RpZnksXG4gICAgICAgICAgICAgICAgcmluZzogcmVxdWVzdD8ucmluZyxcbiAgICAgICAgICAgICAgICB2aWRlbzogcmVxdWVzdD8udmlkZW8sXG4gICAgICAgICAgICAgICAgZGF0YTogcmVxdWVzdD8uZGF0YSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldE9yQ3JlYXRlQ2FsbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5ibG9ja1VzZXIgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ibG9jaycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5CbG9ja1VzZXJSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlQ2FsbCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaGFyZDogcmVxdWVzdD8uaGFyZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L2RlbGV0ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5EZWxldGVDYWxsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbmRDYWxsRXZlbnQgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L2V2ZW50JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlNlbmRDYWxsRXZlbnRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29sbGVjdFVzZXJGZWVkYmFjayA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgcmF0aW5nOiByZXF1ZXN0Py5yYXRpbmcsXG4gICAgICAgICAgICAgICAgc2RrOiByZXF1ZXN0Py5zZGssXG4gICAgICAgICAgICAgICAgc2RrX3ZlcnNpb246IHJlcXVlc3Q/LnNka192ZXJzaW9uLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogcmVxdWVzdD8ucmVhc29uLFxuICAgICAgICAgICAgICAgIHVzZXJfc2Vzc2lvbl9pZDogcmVxdWVzdD8udXNlcl9zZXNzaW9uX2lkLFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZmVlZGJhY2snLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuQ29sbGVjdFVzZXJGZWVkYmFja1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nb0xpdmUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlY29yZGluZ19zdG9yYWdlX25hbWU6IHJlcXVlc3Q/LnJlY29yZGluZ19zdG9yYWdlX25hbWUsXG4gICAgICAgICAgICAgICAgc3RhcnRfY2xvc2VkX2NhcHRpb246IHJlcXVlc3Q/LnN0YXJ0X2Nsb3NlZF9jYXB0aW9uLFxuICAgICAgICAgICAgICAgIHN0YXJ0X2hsczogcmVxdWVzdD8uc3RhcnRfaGxzLFxuICAgICAgICAgICAgICAgIHN0YXJ0X3JlY29yZGluZzogcmVxdWVzdD8uc3RhcnRfcmVjb3JkaW5nLFxuICAgICAgICAgICAgICAgIHN0YXJ0X3RyYW5zY3JpcHRpb246IHJlcXVlc3Q/LnN0YXJ0X3RyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgdHJhbnNjcmlwdGlvbl9zdG9yYWdlX25hbWU6IHJlcXVlc3Q/LnRyYW5zY3JpcHRpb25fc3RvcmFnZV9uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vZ29fbGl2ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5Hb0xpdmVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW5kQ2FsbCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vbWFya19lbmRlZCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5FbmRDYWxsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZUNhbGxNZW1iZXJzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICByZW1vdmVfbWVtYmVyczogcmVxdWVzdD8ucmVtb3ZlX21lbWJlcnMsXG4gICAgICAgICAgICAgICAgdXBkYXRlX21lbWJlcnM6IHJlcXVlc3Q/LnVwZGF0ZV9tZW1iZXJzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vbWVtYmVycycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5VcGRhdGVDYWxsTWVtYmVyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tdXRlVXNlcnMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGF1ZGlvOiByZXF1ZXN0Py5hdWRpbyxcbiAgICAgICAgICAgICAgICBtdXRlX2FsbF91c2VyczogcmVxdWVzdD8ubXV0ZV9hbGxfdXNlcnMsXG4gICAgICAgICAgICAgICAgbXV0ZWRfYnlfaWQ6IHJlcXVlc3Q/Lm11dGVkX2J5X2lkLFxuICAgICAgICAgICAgICAgIHNjcmVlbnNoYXJlOiByZXF1ZXN0Py5zY3JlZW5zaGFyZSxcbiAgICAgICAgICAgICAgICBzY3JlZW5zaGFyZV9hdWRpbzogcmVxdWVzdD8uc2NyZWVuc2hhcmVfYXVkaW8sXG4gICAgICAgICAgICAgICAgdmlkZW86IHJlcXVlc3Q/LnZpZGVvLFxuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0Py51c2VyX2lkcyxcbiAgICAgICAgICAgICAgICBtdXRlZF9ieTogcmVxdWVzdD8ubXV0ZWRfYnksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9tdXRlX3VzZXJzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLk11dGVVc2Vyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeUNhbGxQYXJ0aWNpcGFudHMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJfY29uZGl0aW9uczogcmVxdWVzdD8uZmlsdGVyX2NvbmRpdGlvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9wYXJ0aWNpcGFudHMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcywgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeUNhbGxQYXJ0aWNpcGFudHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmlkZW9QaW4gPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHJlcXVlc3Q/LnNlc3Npb25faWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3BpbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5QaW5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubGlzdFJlY29yZGluZ3MgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vcmVjb3JkaW5ncycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5MaXN0UmVjb3JkaW5nc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRDYWxsUmVwb3J0ID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHJlcXVlc3Q/LnNlc3Npb25faWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vcmVwb3J0JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuR2V0Q2FsbFJlcG9ydFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGFydFJUTVBCcm9hZGNhc3RzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBicm9hZGNhc3RzOiByZXF1ZXN0Py5icm9hZGNhc3RzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vcnRtcF9icm9hZGNhc3RzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlN0YXJ0UlRNUEJyb2FkY2FzdHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcEFsbFJUTVBCcm9hZGNhc3RzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9ydG1wX2Jyb2FkY2FzdHMvc3RvcCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5TdG9wQWxsUlRNUEJyb2FkY2FzdHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcFJUTVBCcm9hZGNhc3QgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7fTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vcnRtcF9icm9hZGNhc3RzL3tuYW1lfS9zdG9wJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlN0b3BSVE1QQnJvYWRjYXN0c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGFydEhMU0Jyb2FkY2FzdGluZyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RhcnRfYnJvYWRjYXN0aW5nJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlN0YXJ0SExTQnJvYWRjYXN0aW5nUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0Q2xvc2VkQ2FwdGlvbnMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGVuYWJsZV90cmFuc2NyaXB0aW9uOiByZXF1ZXN0Py5lbmFibGVfdHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBleHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0Py5leHRlcm5hbF9zdG9yYWdlLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiByZXF1ZXN0Py5sYW5ndWFnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0YXJ0X2Nsb3NlZF9jYXB0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5TdGFydENsb3NlZENhcHRpb25zUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0RnJhbWVSZWNvcmRpbmcgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlY29yZGluZ19leHRlcm5hbF9zdG9yYWdlOiByZXF1ZXN0Py5yZWNvcmRpbmdfZXh0ZXJuYWxfc3RvcmFnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0YXJ0X2ZyYW1lX3JlY29yZGluZycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5TdGFydEZyYW1lUmVjb3JkaW5nUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0UmVjb3JkaW5nID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICByZWNvcmRpbmdfZXh0ZXJuYWxfc3RvcmFnZTogcmVxdWVzdD8ucmVjb3JkaW5nX2V4dGVybmFsX3N0b3JhZ2UsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdGFydF9yZWNvcmRpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuU3RhcnRSZWNvcmRpbmdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhcnRUcmFuc2NyaXB0aW9uID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBlbmFibGVfY2xvc2VkX2NhcHRpb25zOiByZXF1ZXN0Py5lbmFibGVfY2xvc2VkX2NhcHRpb25zLFxuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiByZXF1ZXN0Py5sYW5ndWFnZSxcbiAgICAgICAgICAgICAgICB0cmFuc2NyaXB0aW9uX2V4dGVybmFsX3N0b3JhZ2U6IHJlcXVlc3Q/LnRyYW5zY3JpcHRpb25fZXh0ZXJuYWxfc3RvcmFnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0YXJ0X3RyYW5zY3JpcHRpb24nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuU3RhcnRUcmFuc2NyaXB0aW9uUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BITFNCcm9hZGNhc3RpbmcgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfYnJvYWRjYXN0aW5nJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlN0b3BITFNCcm9hZGNhc3RpbmdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcENsb3NlZENhcHRpb25zID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBzdG9wX3RyYW5zY3JpcHRpb246IHJlcXVlc3Q/LnN0b3BfdHJhbnNjcmlwdGlvbixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfY2xvc2VkX2NhcHRpb25zJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlN0b3BDbG9zZWRDYXB0aW9uc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wRnJhbWVSZWNvcmRpbmcgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3N0b3BfZnJhbWVfcmVjb3JkaW5nJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlN0b3BGcmFtZVJlY29yZGluZ1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wTGl2ZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY29udGludWVfY2xvc2VkX2NhcHRpb246IHJlcXVlc3Q/LmNvbnRpbnVlX2Nsb3NlZF9jYXB0aW9uLFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlX2hsczogcmVxdWVzdD8uY29udGludWVfaGxzLFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlX3JlY29yZGluZzogcmVxdWVzdD8uY29udGludWVfcmVjb3JkaW5nLFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlX3J0bXBfYnJvYWRjYXN0czogcmVxdWVzdD8uY29udGludWVfcnRtcF9icm9hZGNhc3RzLFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlX3RyYW5zY3JpcHRpb246IHJlcXVlc3Q/LmNvbnRpbnVlX3RyYW5zY3JpcHRpb24sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS9zdG9wX2xpdmUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuU3RvcExpdmVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcFJlY29yZGluZyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RvcF9yZWNvcmRpbmcnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuU3RvcFJlY29yZGluZ1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wVHJhbnNjcmlwdGlvbiA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgc3RvcF9jbG9zZWRfY2FwdGlvbnM6IHJlcXVlc3Q/LnN0b3BfY2xvc2VkX2NhcHRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0vc3RvcF90cmFuc2NyaXB0aW9uJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlN0b3BUcmFuc2NyaXB0aW9uUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxpc3RUcmFuc2NyaXB0aW9ucyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS90cmFuc2NyaXB0aW9ucycsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5MaXN0VHJhbnNjcmlwdGlvbnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudW5ibG9ja1VzZXIgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS91bmJsb2NrJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVuYmxvY2tVc2VyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZpZGVvVW5waW4gPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHNlc3Npb25faWQ6IHJlcXVlc3Q/LnNlc3Npb25faWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi92aWRlby9jYWxsL3t0eXBlfS97aWR9L3VucGluJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVucGluUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBncmFudF9wZXJtaXNzaW9uczogcmVxdWVzdD8uZ3JhbnRfcGVybWlzc2lvbnMsXG4gICAgICAgICAgICAgICAgcmV2b2tlX3Blcm1pc3Npb25zOiByZXF1ZXN0Py5yZXZva2VfcGVybWlzc2lvbnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS91c2VyX3Blcm1pc3Npb25zJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwZGF0ZVVzZXJQZXJtaXNzaW9uc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVSZWNvcmRpbmcgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiByZXF1ZXN0Py5zZXNzaW9uLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiByZXF1ZXN0Py5maWxlbmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3ZpZGVvL2NhbGwve3R5cGV9L3tpZH0ve3Nlc3Npb259L3JlY29yZGluZ3Mve2ZpbGVuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5EZWxldGVSZWNvcmRpbmdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlVHJhbnNjcmlwdGlvbiA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHJlcXVlc3Q/LnNlc3Npb24sXG4gICAgICAgICAgICAgICAgZmlsZW5hbWU6IHJlcXVlc3Q/LmZpbGVuYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvdmlkZW8vY2FsbC97dHlwZX0ve2lkfS97c2Vzc2lvbn0vdHJhbnNjcmlwdGlvbnMve2ZpbGVuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5EZWxldGVUcmFuc2NyaXB0aW9uUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5Q2FsbHMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyX2NvbmRpdGlvbnM6IHJlcXVlc3Q/LmZpbHRlcl9jb25kaXRpb25zLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUXVlcnlDYWxsc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5saXN0Q2FsbFR5cGVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9jYWxsdHlwZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5MaXN0Q2FsbFR5cGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3JlYXRlQ2FsbFR5cGUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgICAgIGV4dGVybmFsX3N0b3JhZ2U6IHJlcXVlc3Q/LmV4dGVybmFsX3N0b3JhZ2UsXG4gICAgICAgICAgICAgICAgZ3JhbnRzOiByZXF1ZXN0Py5ncmFudHMsXG4gICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uX3NldHRpbmdzOiByZXF1ZXN0Py5ub3RpZmljYXRpb25fc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHJlcXVlc3Q/LnNldHRpbmdzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGx0eXBlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkNyZWF0ZUNhbGxUeXBlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGV0ZUNhbGxUeXBlID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL3ZpZGVvL2NhbGx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldENhbGxUeXBlID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL3ZpZGVvL2NhbGx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuR2V0Q2FsbFR5cGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlQ2FsbFR5cGUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZXh0ZXJuYWxfc3RvcmFnZTogcmVxdWVzdD8uZXh0ZXJuYWxfc3RvcmFnZSxcbiAgICAgICAgICAgICAgICBncmFudHM6IHJlcXVlc3Q/LmdyYW50cyxcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25fc2V0dGluZ3M6IHJlcXVlc3Q/Lm5vdGlmaWNhdGlvbl9zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogcmVxdWVzdD8uc2V0dGluZ3MsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi92aWRlby9jYWxsdHlwZXMve25hbWV9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwZGF0ZUNhbGxUeXBlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldEVkZ2VzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi92aWRlby9lZGdlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldEVkZ2VzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5QWdncmVnYXRlQ2FsbFN0YXRzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZnJvbTogcmVxdWVzdD8uZnJvbSxcbiAgICAgICAgICAgICAgICB0bzogcmVxdWVzdD8udG8sXG4gICAgICAgICAgICAgICAgcmVwb3J0X3R5cGVzOiByZXF1ZXN0Py5yZXBvcnRfdHlwZXMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvdmlkZW8vc3RhdHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeUFnZ3JlZ2F0ZUNhbGxTdGF0c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIENhbGxBcGkge1xuICAgIGNvbnN0cnVjdG9yKHZpZGVvQXBpLCB0eXBlLCBpZCkge1xuICAgICAgICB0aGlzLnZpZGVvQXBpID0gdmlkZW9BcGk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5nZXQgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZ2V0Q2FsbCh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUsIC4uLnJlcXVlc3QgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnVwZGF0ZUNhbGwoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZ2V0T3JDcmVhdGVDYWxsKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmJsb2NrVXNlciA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5ibG9ja1VzZXIoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmRlbGV0ZUNhbGwoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZENhbGxFdmVudCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zZW5kQ2FsbEV2ZW50KHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbGxlY3RVc2VyRmVlZGJhY2sgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuY29sbGVjdFVzZXJGZWVkYmFjayh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nb0xpdmUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZ29MaXZlKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSwgLi4ucmVxdWVzdCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5lbmQgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5lbmRDYWxsKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVDYWxsTWVtYmVycyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS51cGRhdGVDYWxsTWVtYmVycyh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tdXRlVXNlcnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkubXV0ZVVzZXJzKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5Q2FsbFBhcnRpY2lwYW50cyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5xdWVyeUNhbGxQYXJ0aWNpcGFudHMoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmlkZW9QaW4gPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudmlkZW9QaW4oeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlLCAuLi5yZXF1ZXN0IH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxpc3RSZWNvcmRpbmdzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkubGlzdFJlY29yZGluZ3MoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldENhbGxSZXBvcnQgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuZ2V0Q2FsbFJlcG9ydCh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGFydFJUTVBCcm9hZGNhc3RzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0YXJ0UlRNUEJyb2FkY2FzdHMoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcEFsbFJUTVBCcm9hZGNhc3RzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcEFsbFJUTVBCcm9hZGNhc3RzKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wUlRNUEJyb2FkY2FzdCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wUlRNUEJyb2FkY2FzdCh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGFydEhMU0Jyb2FkY2FzdGluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0YXJ0SExTQnJvYWRjYXN0aW5nKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdGFydENsb3NlZENhcHRpb25zID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0YXJ0Q2xvc2VkQ2FwdGlvbnMoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RhcnRGcmFtZVJlY29yZGluZyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdGFydEZyYW1lUmVjb3JkaW5nKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0UmVjb3JkaW5nID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0YXJ0UmVjb3JkaW5nKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0VHJhbnNjcmlwdGlvbiA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdGFydFRyYW5zY3JpcHRpb24oe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcEhMU0Jyb2FkY2FzdGluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BITFNCcm9hZGNhc3RpbmcoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BDbG9zZWRDYXB0aW9ucyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wQ2xvc2VkQ2FwdGlvbnMoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcEZyYW1lUmVjb3JkaW5nID0gKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkuc3RvcEZyYW1lUmVjb3JkaW5nKHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9wTGl2ZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS5zdG9wTGl2ZSh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUsIC4uLnJlcXVlc3QgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcFJlY29yZGluZyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BSZWNvcmRpbmcoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0b3BUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLnN0b3BUcmFuc2NyaXB0aW9uKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxpc3RUcmFuc2NyaXB0aW9ucyA9ICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmxpc3RUcmFuc2NyaXB0aW9ucyh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudW5ibG9ja1VzZXIgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkudW5ibG9ja1VzZXIoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmlkZW9VbnBpbiA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS52aWRlb1VucGluKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZVVzZXJQZXJtaXNzaW9ucyA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52aWRlb0FwaS51cGRhdGVVc2VyUGVybWlzc2lvbnMoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlUmVjb3JkaW5nID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmRlbGV0ZVJlY29yZGluZyh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVUcmFuc2NyaXB0aW9uID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZGVvQXBpLmRlbGV0ZVRyYW5zY3JpcHRpb24oe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBTdHJlYW1DYWxsIGV4dGVuZHMgQ2FsbEFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY3JlYXRlID0gdGhpcy5nZXRPckNyZWF0ZTtcbiAgICAgICAgdGhpcy5xdWVyeU1lbWJlcnMgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlkZW9BcGkucXVlcnlDYWxsTWVtYmVycyh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLihyZXF1ZXN0ID8/IHt9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBnZXQgY2lkKCkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy50eXBlfToke3RoaXMuaWR9YDtcbiAgICB9XG59XG5cbmNsYXNzIFN0cmVhbVZpZGVvQ2xpZW50IGV4dGVuZHMgVmlkZW9BcGkge1xuICAgIGNvbnN0cnVjdG9yKHsgc3RyZWFtQ2xpZW50LCAuLi5hcGlDb25maWcgfSkge1xuICAgICAgICBzdXBlcihhcGlDb25maWcpO1xuICAgICAgICB0aGlzLmNhbGwgPSAodHlwZSwgaWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3RyZWFtQ2FsbCh0aGlzLCB0eXBlLCBpZCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29ubmVjdE9wZW5BaSA9IGFzeW5jIChvcHRpb25zKSA9PiB7XG4gICAgICAgICAgICBsZXQgZG9DcmVhdGVSZWFsdGltZUNsaWVudDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZG9DcmVhdGVSZWFsdGltZUNsaWVudCA9IChhd2FpdCBpbXBvcnQoJ0BzdHJlYW0taW8vb3BlbmFpLXJlYWx0aW1lLWFwaScpKVxuICAgICAgICAgICAgICAgICAgICAuY3JlYXRlUmVhbHRpbWVDbGllbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY3JlYXRlIFJlYWx0aW1lIEFQSSBjbGllbnQuIElzIEBzdHJlYW0taW8vb3BlbmFpLXJlYWx0aW1lLWFwaSBpbnN0YWxsZWQ/Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW9wdGlvbnMuYWdlbnRVc2VySWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiYWdlbnRVc2VySWRcIiBtdXN0IGJ5IHNwZWNpZmllZCBpbiBvcHRpb25zJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHRoaXMuc3RyZWFtQ2xpZW50LmdlbmVyYXRlQ2FsbFRva2VuKHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiBvcHRpb25zLmFnZW50VXNlcklkLFxuICAgICAgICAgICAgICAgIGNhbGxfY2lkczogW29wdGlvbnMuY2FsbC5jaWRdLFxuICAgICAgICAgICAgICAgIHZhbGlkaXR5X2luX3NlY29uZHM6IG9wdGlvbnMudmFsaWRpdHlJblNlY29uZHMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlYWx0aW1lQ2xpZW50ID0gZG9DcmVhdGVSZWFsdGltZUNsaWVudCh7XG4gICAgICAgICAgICAgICAgYmFzZVVybDogdGhpcy5hcGlDb25maWcuYmFzZVVybCxcbiAgICAgICAgICAgICAgICBjYWxsOiBvcHRpb25zLmNhbGwsXG4gICAgICAgICAgICAgICAgc3RyZWFtQXBpS2V5OiB0aGlzLmFwaUNvbmZpZy5hcGlLZXksXG4gICAgICAgICAgICAgICAgc3RyZWFtVXNlclRva2VuOiB0b2tlbixcbiAgICAgICAgICAgICAgICBvcGVuQWlBcGlLZXk6IG9wdGlvbnMub3BlbkFpQXBpS2V5LFxuICAgICAgICAgICAgICAgIG1vZGVsOiBvcHRpb25zLm1vZGVsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCByZWFsdGltZUNsaWVudC5jb25uZWN0KCk7XG4gICAgICAgICAgICByZXR1cm4gcmVhbHRpbWVDbGllbnQ7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RyZWFtQ2xpZW50ID0gc3RyZWFtQ2xpZW50O1xuICAgIH1cbn1cblxuY2xhc3MgQ2hhdEFwaSBleHRlbmRzIEJhc2VBcGkge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnF1ZXJ5Q2FtcGFpZ25zID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICAgICAgcHJldjogcmVxdWVzdD8ucHJldixcbiAgICAgICAgICAgICAgICB1c2VyX2xpbWl0OiByZXF1ZXN0Py51c2VyX2xpbWl0LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeUNhbXBhaWduc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRDYW1wYWlnbiA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgICAgIG5leHQ6IHJlcXVlc3Q/Lm5leHQsXG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMve2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldENhbXBhaWduUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN0YXJ0Q2FtcGFpZ24gPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZWRfZm9yOiByZXF1ZXN0Py5zY2hlZHVsZWRfZm9yLFxuICAgICAgICAgICAgICAgIHN0b3BfYXQ6IHJlcXVlc3Q/LnN0b3BfYXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMve2lkfS9zdGFydCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5TdGFydENhbXBhaWduUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNjaGVkdWxlQ2FtcGFpZ24gPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jYW1wYWlnbnMve2lkfS9zdG9wJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkNhbXBhaWduUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5Q2hhbm5lbHMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICAgICAgbWVtYmVyX2xpbWl0OiByZXF1ZXN0Py5tZW1iZXJfbGltaXQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZV9saW1pdDogcmVxdWVzdD8ubWVzc2FnZV9saW1pdCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHJlcXVlc3Q/Lm9mZnNldCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogcmVxdWVzdD8uc3RhdGUsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcl9jb25kaXRpb25zOiByZXF1ZXN0Py5maWx0ZXJfY29uZGl0aW9ucyxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeUNoYW5uZWxzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGV0ZUNoYW5uZWxzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgY2lkczogcmVxdWVzdD8uY2lkcyxcbiAgICAgICAgICAgICAgICBoYXJkX2RlbGV0ZTogcmVxdWVzdD8uaGFyZF9kZWxldGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy9kZWxldGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5EZWxldGVDaGFubmVsc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYXJrQ2hhbm5lbHNSZWFkID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICByZWFkX2J5X2NoYW5uZWw6IHJlcXVlc3Q/LnJlYWRfYnlfY2hhbm5lbCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMvcmVhZCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLk1hcmtSZWFkUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGhpZGVfZm9yX2NyZWF0b3I6IHJlcXVlc3Q/LmhpZGVfZm9yX2NyZWF0b3IsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHJlcXVlc3Q/LnN0YXRlLFxuICAgICAgICAgICAgICAgIHRocmVhZF91bnJlYWRfY291bnRzOiByZXF1ZXN0Py50aHJlYWRfdW5yZWFkX2NvdW50cyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXF1ZXN0Py5kYXRhLFxuICAgICAgICAgICAgICAgIG1lbWJlcnM6IHJlcXVlc3Q/Lm1lbWJlcnMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHJlcXVlc3Q/Lm1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHdhdGNoZXJzOiByZXF1ZXN0Py53YXRjaGVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS9xdWVyeScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5DaGFubmVsU3RhdGVSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlQ2hhbm5lbCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBoYXJkX2RlbGV0ZTogcmVxdWVzdD8uaGFyZF9kZWxldGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5EZWxldGVDaGFubmVsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZUNoYW5uZWxQYXJ0aWFsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0Py51bnNldCxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3Q/LnNldCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwZGF0ZUNoYW5uZWxQYXJ0aWFsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZUNoYW5uZWwgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGFjY2VwdF9pbnZpdGU6IHJlcXVlc3Q/LmFjY2VwdF9pbnZpdGUsXG4gICAgICAgICAgICAgICAgY29vbGRvd246IHJlcXVlc3Q/LmNvb2xkb3duLFxuICAgICAgICAgICAgICAgIGhpZGVfaGlzdG9yeTogcmVxdWVzdD8uaGlkZV9oaXN0b3J5LFxuICAgICAgICAgICAgICAgIHJlamVjdF9pbnZpdGU6IHJlcXVlc3Q/LnJlamVjdF9pbnZpdGUsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0Py5za2lwX3B1c2gsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBhZGRfbWVtYmVyczogcmVxdWVzdD8uYWRkX21lbWJlcnMsXG4gICAgICAgICAgICAgICAgYWRkX21vZGVyYXRvcnM6IHJlcXVlc3Q/LmFkZF9tb2RlcmF0b3JzLFxuICAgICAgICAgICAgICAgIGFzc2lnbl9yb2xlczogcmVxdWVzdD8uYXNzaWduX3JvbGVzLFxuICAgICAgICAgICAgICAgIGRlbW90ZV9tb2RlcmF0b3JzOiByZXF1ZXN0Py5kZW1vdGVfbW9kZXJhdG9ycyxcbiAgICAgICAgICAgICAgICBpbnZpdGVzOiByZXF1ZXN0Py5pbnZpdGVzLFxuICAgICAgICAgICAgICAgIHJlbW92ZV9tZW1iZXJzOiByZXF1ZXN0Py5yZW1vdmVfbWVtYmVycyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXF1ZXN0Py5kYXRhLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3Q/Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwZGF0ZUNoYW5uZWxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlRHJhZnQgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGFyZW50X2lkOiByZXF1ZXN0Py5wYXJlbnRfaWQsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9kcmFmdCcsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXREcmFmdCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYXJlbnRfaWQ6IHJlcXVlc3Q/LnBhcmVudF9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2RyYWZ0JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuR2V0RHJhZnRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZEV2ZW50ID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBldmVudDogcmVxdWVzdD8uZXZlbnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9ldmVudCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5FdmVudFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVGaWxlID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVybDogcmVxdWVzdD8udXJsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2ZpbGUnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBsb2FkRmlsZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZmlsZTogcmVxdWVzdD8uZmlsZSxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vZmlsZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5GaWxlVXBsb2FkUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhpZGVDaGFubmVsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjbGVhcl9oaXN0b3J5OiByZXF1ZXN0Py5jbGVhcl9oaXN0b3J5LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2hpZGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuSGlkZUNoYW5uZWxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlSW1hZ2UgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXJsOiByZXF1ZXN0Py51cmwsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHMve3R5cGV9L3tpZH0vaW1hZ2UnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBsb2FkSW1hZ2UgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbGU6IHJlcXVlc3Q/LmZpbGUsXG4gICAgICAgICAgICAgICAgdXBsb2FkX3NpemVzOiByZXF1ZXN0Py51cGxvYWRfc2l6ZXMsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L2ltYWdlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkltYWdlVXBsb2FkUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZU1lbWJlclBhcnRpYWwgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdW5zZXQ6IHJlcXVlc3Q/LnVuc2V0LFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdD8uc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L21lbWJlcicsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwZGF0ZU1lbWJlclBhcnRpYWxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3Q/Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgZm9yY2VfbW9kZXJhdGlvbjogcmVxdWVzdD8uZm9yY2VfbW9kZXJhdGlvbixcbiAgICAgICAgICAgICAgICBrZWVwX2NoYW5uZWxfaGlkZGVuOiByZXF1ZXN0Py5rZWVwX2NoYW5uZWxfaGlkZGVuLFxuICAgICAgICAgICAgICAgIHBlbmRpbmc6IHJlcXVlc3Q/LnBlbmRpbmcsXG4gICAgICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0Py5za2lwX2VucmljaF91cmwsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0Py5za2lwX3B1c2gsXG4gICAgICAgICAgICAgICAgcGVuZGluZ19tZXNzYWdlX21ldGFkYXRhOiByZXF1ZXN0Py5wZW5kaW5nX21lc3NhZ2VfbWV0YWRhdGEsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9tZXNzYWdlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlNlbmRNZXNzYWdlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldE1hbnlNZXNzYWdlcyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZHM6IHJlcXVlc3Q/LmlkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9tZXNzYWdlcycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldE1hbnlNZXNzYWdlc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRPckNyZWF0ZUNoYW5uZWwgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0eXBlOiByZXF1ZXN0Py50eXBlLFxuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGhpZGVfZm9yX2NyZWF0b3I6IHJlcXVlc3Q/LmhpZGVfZm9yX2NyZWF0b3IsXG4gICAgICAgICAgICAgICAgc3RhdGU6IHJlcXVlc3Q/LnN0YXRlLFxuICAgICAgICAgICAgICAgIHRocmVhZF91bnJlYWRfY291bnRzOiByZXF1ZXN0Py50aHJlYWRfdW5yZWFkX2NvdW50cyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXF1ZXN0Py5kYXRhLFxuICAgICAgICAgICAgICAgIG1lbWJlcnM6IHJlcXVlc3Q/Lm1lbWJlcnMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZXM6IHJlcXVlc3Q/Lm1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHdhdGNoZXJzOiByZXF1ZXN0Py53YXRjaGVycyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWxzL3t0eXBlfS97aWR9L3F1ZXJ5JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkNoYW5uZWxTdGF0ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYXJrUmVhZCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdD8ubWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgICB0aHJlYWRfaWQ6IHJlcXVlc3Q/LnRocmVhZF9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9yZWFkJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLk1hcmtSZWFkUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNob3dDaGFubmVsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdHlwZTogcmVxdWVzdD8udHlwZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS9zaG93JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlNob3dDaGFubmVsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRydW5jYXRlQ2hhbm5lbCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaGFyZF9kZWxldGU6IHJlcXVlc3Q/LmhhcmRfZGVsZXRlLFxuICAgICAgICAgICAgICAgIHNraXBfcHVzaDogcmVxdWVzdD8uc2tpcF9wdXNoLFxuICAgICAgICAgICAgICAgIHRydW5jYXRlZF9hdDogcmVxdWVzdD8udHJ1bmNhdGVkX2F0LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgbWVtYmVyX2lkczogcmVxdWVzdD8ubWVtYmVyX2lkcyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXF1ZXN0Py5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS90cnVuY2F0ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5UcnVuY2F0ZUNoYW5uZWxSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFya1VucmVhZCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdD8ubWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgICB0aHJlYWRfaWQ6IHJlcXVlc3Q/LnRocmVhZF9pZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVscy97dHlwZX0ve2lkfS91bnJlYWQnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmxpc3RDaGFubmVsVHlwZXMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuTGlzdENoYW5uZWxUeXBlc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jcmVhdGVDaGFubmVsVHlwZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGF1dG9tb2Q6IHJlcXVlc3Q/LmF1dG9tb2QsXG4gICAgICAgICAgICAgICAgYXV0b21vZF9iZWhhdmlvcjogcmVxdWVzdD8uYXV0b21vZF9iZWhhdmlvcixcbiAgICAgICAgICAgICAgICBtYXhfbWVzc2FnZV9sZW5ndGg6IHJlcXVlc3Q/Lm1heF9tZXNzYWdlX2xlbmd0aCxcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgICAgIGJsb2NrbGlzdDogcmVxdWVzdD8uYmxvY2tsaXN0LFxuICAgICAgICAgICAgICAgIGJsb2NrbGlzdF9iZWhhdmlvcjogcmVxdWVzdD8uYmxvY2tsaXN0X2JlaGF2aW9yLFxuICAgICAgICAgICAgICAgIGNvbm5lY3RfZXZlbnRzOiByZXF1ZXN0Py5jb25uZWN0X2V2ZW50cyxcbiAgICAgICAgICAgICAgICBjdXN0b21fZXZlbnRzOiByZXF1ZXN0Py5jdXN0b21fZXZlbnRzLFxuICAgICAgICAgICAgICAgIG1hcmtfbWVzc2FnZXNfcGVuZGluZzogcmVxdWVzdD8ubWFya19tZXNzYWdlc19wZW5kaW5nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VfcmV0ZW50aW9uOiByZXF1ZXN0Py5tZXNzYWdlX3JldGVudGlvbixcbiAgICAgICAgICAgICAgICBtdXRlczogcmVxdWVzdD8ubXV0ZXMsXG4gICAgICAgICAgICAgICAgcGFydGl0aW9uX3NpemU6IHJlcXVlc3Q/LnBhcnRpdGlvbl9zaXplLFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvbl90dGw6IHJlcXVlc3Q/LnBhcnRpdGlvbl90dGwsXG4gICAgICAgICAgICAgICAgcG9sbHM6IHJlcXVlc3Q/LnBvbGxzLFxuICAgICAgICAgICAgICAgIHB1c2hfbm90aWZpY2F0aW9uczogcmVxdWVzdD8ucHVzaF9ub3RpZmljYXRpb25zLFxuICAgICAgICAgICAgICAgIHJlYWN0aW9uczogcmVxdWVzdD8ucmVhY3Rpb25zLFxuICAgICAgICAgICAgICAgIHJlYWRfZXZlbnRzOiByZXF1ZXN0Py5yZWFkX2V2ZW50cyxcbiAgICAgICAgICAgICAgICByZXBsaWVzOiByZXF1ZXN0Py5yZXBsaWVzLFxuICAgICAgICAgICAgICAgIHNlYXJjaDogcmVxdWVzdD8uc2VhcmNoLFxuICAgICAgICAgICAgICAgIHNraXBfbGFzdF9tc2dfdXBkYXRlX2Zvcl9zeXN0ZW1fbXNnczogcmVxdWVzdD8uc2tpcF9sYXN0X21zZ191cGRhdGVfZm9yX3N5c3RlbV9tc2dzLFxuICAgICAgICAgICAgICAgIHR5cGluZ19ldmVudHM6IHJlcXVlc3Q/LnR5cGluZ19ldmVudHMsXG4gICAgICAgICAgICAgICAgdXBsb2FkczogcmVxdWVzdD8udXBsb2FkcyxcbiAgICAgICAgICAgICAgICB1cmxfZW5yaWNobWVudDogcmVxdWVzdD8udXJsX2VucmljaG1lbnQsXG4gICAgICAgICAgICAgICAgdXNlcl9tZXNzYWdlX3JlbWluZGVyczogcmVxdWVzdD8udXNlcl9tZXNzYWdlX3JlbWluZGVycyxcbiAgICAgICAgICAgICAgICBibG9ja2xpc3RzOiByZXF1ZXN0Py5ibG9ja2xpc3RzLFxuICAgICAgICAgICAgICAgIGNvbW1hbmRzOiByZXF1ZXN0Py5jb21tYW5kcyxcbiAgICAgICAgICAgICAgICBwZXJtaXNzaW9uczogcmVxdWVzdD8ucGVybWlzc2lvbnMsXG4gICAgICAgICAgICAgICAgZ3JhbnRzOiByZXF1ZXN0Py5ncmFudHMsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jaGFubmVsdHlwZXMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5DcmVhdGVDaGFubmVsVHlwZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVDaGFubmVsVHlwZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L2NoYW5uZWx0eXBlcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldENoYW5uZWxUeXBlID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5HZXRDaGFubmVsVHlwZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVDaGFubmVsVHlwZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBhdXRvbW9kOiByZXF1ZXN0Py5hdXRvbW9kLFxuICAgICAgICAgICAgICAgIGF1dG9tb2RfYmVoYXZpb3I6IHJlcXVlc3Q/LmF1dG9tb2RfYmVoYXZpb3IsXG4gICAgICAgICAgICAgICAgbWF4X21lc3NhZ2VfbGVuZ3RoOiByZXF1ZXN0Py5tYXhfbWVzc2FnZV9sZW5ndGgsXG4gICAgICAgICAgICAgICAgYmxvY2tsaXN0OiByZXF1ZXN0Py5ibG9ja2xpc3QsXG4gICAgICAgICAgICAgICAgYmxvY2tsaXN0X2JlaGF2aW9yOiByZXF1ZXN0Py5ibG9ja2xpc3RfYmVoYXZpb3IsXG4gICAgICAgICAgICAgICAgY29ubmVjdF9ldmVudHM6IHJlcXVlc3Q/LmNvbm5lY3RfZXZlbnRzLFxuICAgICAgICAgICAgICAgIGN1c3RvbV9ldmVudHM6IHJlcXVlc3Q/LmN1c3RvbV9ldmVudHMsXG4gICAgICAgICAgICAgICAgbWFya19tZXNzYWdlc19wZW5kaW5nOiByZXF1ZXN0Py5tYXJrX21lc3NhZ2VzX3BlbmRpbmcsXG4gICAgICAgICAgICAgICAgbXV0ZXM6IHJlcXVlc3Q/Lm11dGVzLFxuICAgICAgICAgICAgICAgIHBhcnRpdGlvbl9zaXplOiByZXF1ZXN0Py5wYXJ0aXRpb25fc2l6ZSxcbiAgICAgICAgICAgICAgICBwYXJ0aXRpb25fdHRsOiByZXF1ZXN0Py5wYXJ0aXRpb25fdHRsLFxuICAgICAgICAgICAgICAgIHBvbGxzOiByZXF1ZXN0Py5wb2xscyxcbiAgICAgICAgICAgICAgICBwdXNoX25vdGlmaWNhdGlvbnM6IHJlcXVlc3Q/LnB1c2hfbm90aWZpY2F0aW9ucyxcbiAgICAgICAgICAgICAgICBxdW90ZXM6IHJlcXVlc3Q/LnF1b3RlcyxcbiAgICAgICAgICAgICAgICByZWFjdGlvbnM6IHJlcXVlc3Q/LnJlYWN0aW9ucyxcbiAgICAgICAgICAgICAgICByZWFkX2V2ZW50czogcmVxdWVzdD8ucmVhZF9ldmVudHMsXG4gICAgICAgICAgICAgICAgcmVtaW5kZXJzOiByZXF1ZXN0Py5yZW1pbmRlcnMsXG4gICAgICAgICAgICAgICAgcmVwbGllczogcmVxdWVzdD8ucmVwbGllcyxcbiAgICAgICAgICAgICAgICBzZWFyY2g6IHJlcXVlc3Q/LnNlYXJjaCxcbiAgICAgICAgICAgICAgICBza2lwX2xhc3RfbXNnX3VwZGF0ZV9mb3Jfc3lzdGVtX21zZ3M6IHJlcXVlc3Q/LnNraXBfbGFzdF9tc2dfdXBkYXRlX2Zvcl9zeXN0ZW1fbXNncyxcbiAgICAgICAgICAgICAgICB0eXBpbmdfZXZlbnRzOiByZXF1ZXN0Py50eXBpbmdfZXZlbnRzLFxuICAgICAgICAgICAgICAgIHVwbG9hZHM6IHJlcXVlc3Q/LnVwbG9hZHMsXG4gICAgICAgICAgICAgICAgdXJsX2VucmljaG1lbnQ6IHJlcXVlc3Q/LnVybF9lbnJpY2htZW50LFxuICAgICAgICAgICAgICAgIHVzZXJfbWVzc2FnZV9yZW1pbmRlcnM6IHJlcXVlc3Q/LnVzZXJfbWVzc2FnZV9yZW1pbmRlcnMsXG4gICAgICAgICAgICAgICAgYWxsb3dlZF9mbGFnX3JlYXNvbnM6IHJlcXVlc3Q/LmFsbG93ZWRfZmxhZ19yZWFzb25zLFxuICAgICAgICAgICAgICAgIGJsb2NrbGlzdHM6IHJlcXVlc3Q/LmJsb2NrbGlzdHMsXG4gICAgICAgICAgICAgICAgY29tbWFuZHM6IHJlcXVlc3Q/LmNvbW1hbmRzLFxuICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zOiByZXF1ZXN0Py5wZXJtaXNzaW9ucyxcbiAgICAgICAgICAgICAgICBhdXRvbW9kX3RocmVzaG9sZHM6IHJlcXVlc3Q/LmF1dG9tb2RfdGhyZXNob2xkcyxcbiAgICAgICAgICAgICAgICBncmFudHM6IHJlcXVlc3Q/LmdyYW50cyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2NoYXQvY2hhbm5lbHR5cGVzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5VcGRhdGVDaGFubmVsVHlwZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5saXN0Q29tbWFuZHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvY29tbWFuZHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5MaXN0Q29tbWFuZHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY3JlYXRlQ29tbWFuZCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0Py5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3M6IHJlcXVlc3Q/LmFyZ3MsXG4gICAgICAgICAgICAgICAgc2V0OiByZXF1ZXN0Py5zZXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9jb21tYW5kcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkNyZWF0ZUNvbW1hbmRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlQ29tbWFuZCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L2NvbW1hbmRzL3tuYW1lfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5EZWxldGVDb21tYW5kUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldENvbW1hbmQgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9jb21tYW5kcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuR2V0Q29tbWFuZFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVDb21tYW5kID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogcmVxdWVzdD8ubmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0Py5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBhcmdzOiByZXF1ZXN0Py5hcmdzLFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdD8uc2V0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvY2hhdC9jb21tYW5kcy97bmFtZX0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuVXBkYXRlQ29tbWFuZFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeURyYWZ0cyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9kcmFmdHMvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeURyYWZ0c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5leHBvcnRDaGFubmVscyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNoYW5uZWxzOiByZXF1ZXN0Py5jaGFubmVscyxcbiAgICAgICAgICAgICAgICBjbGVhcl9kZWxldGVkX21lc3NhZ2VfdGV4dDogcmVxdWVzdD8uY2xlYXJfZGVsZXRlZF9tZXNzYWdlX3RleHQsXG4gICAgICAgICAgICAgICAgZXhwb3J0X3VzZXJzOiByZXF1ZXN0Py5leHBvcnRfdXNlcnMsXG4gICAgICAgICAgICAgICAgaW5jbHVkZV9zb2Z0X2RlbGV0ZWRfY2hhbm5lbHM6IHJlcXVlc3Q/LmluY2x1ZGVfc29mdF9kZWxldGVkX2NoYW5uZWxzLFxuICAgICAgICAgICAgICAgIGluY2x1ZGVfdHJ1bmNhdGVkX21lc3NhZ2VzOiByZXF1ZXN0Py5pbmNsdWRlX3RydW5jYXRlZF9tZXNzYWdlcyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiByZXF1ZXN0Py52ZXJzaW9uLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvZXhwb3J0X2NoYW5uZWxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuRXhwb3J0Q2hhbm5lbHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlNZW1iZXJzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHJlcXVlc3Q/LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L21lbWJlcnMnLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLk1lbWJlcnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlNZXNzYWdlSGlzdG9yeSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL2hpc3RvcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeU1lc3NhZ2VIaXN0b3J5UmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGV0ZU1lc3NhZ2UgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaGFyZDogcmVxdWVzdD8uaGFyZCxcbiAgICAgICAgICAgICAgICBkZWxldGVkX2J5OiByZXF1ZXN0Py5kZWxldGVkX2J5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuRGVsZXRlTWVzc2FnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRNZXNzYWdlID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHNob3dfZGVsZXRlZF9tZXNzYWdlOiByZXF1ZXN0Py5zaG93X2RlbGV0ZWRfbWVzc2FnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldE1lc3NhZ2VSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcXVlc3Q/Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgc2tpcF9lbnJpY2hfdXJsOiByZXF1ZXN0Py5za2lwX2VucmljaF91cmwsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0Py5za2lwX3B1c2gsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwZGF0ZU1lc3NhZ2VSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlTWVzc2FnZVBhcnRpYWwgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBza2lwX2VucmljaF91cmw6IHJlcXVlc3Q/LnNraXBfZW5yaWNoX3VybCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0Py51bnNldCxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3Q/LnNldCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUFVUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwZGF0ZU1lc3NhZ2VQYXJ0aWFsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnJ1bk1lc3NhZ2VBY3Rpb24gPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBmb3JtX2RhdGE6IHJlcXVlc3Q/LmZvcm1fZGF0YSxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L2FjdGlvbicsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5NZXNzYWdlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNvbW1pdE1lc3NhZ2UgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHt9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L2NvbW1pdCcsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5NZXNzYWdlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbmRSZWFjdGlvbiA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlYWN0aW9uOiByZXF1ZXN0Py5yZWFjdGlvbixcbiAgICAgICAgICAgICAgICBlbmZvcmNlX3VuaXF1ZTogcmVxdWVzdD8uZW5mb3JjZV91bmlxdWUsXG4gICAgICAgICAgICAgICAgc2tpcF9wdXNoOiByZXF1ZXN0Py5za2lwX3B1c2gsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97aWR9L3JlYWN0aW9uJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlNlbmRSZWFjdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVSZWFjdGlvbiA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHJlcXVlc3Q/LnR5cGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vcmVhY3Rpb24ve3R5cGV9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuRGVsZXRlUmVhY3Rpb25SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0UmVhY3Rpb25zID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IHJlcXVlc3Q/Lm9mZnNldCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfS9yZWFjdGlvbnMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5HZXRSZWFjdGlvbnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlSZWFjdGlvbnMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve2lkfS9yZWFjdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUXVlcnlSZWFjdGlvbnNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudHJhbnNsYXRlTWVzc2FnZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxhbmd1YWdlOiByZXF1ZXN0Py5sYW5ndWFnZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vdHJhbnNsYXRlJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLk1lc3NhZ2VSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudW5kZWxldGVNZXNzYWdlID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogcmVxdWVzdD8ubWVzc2FnZSxcbiAgICAgICAgICAgICAgICBza2lwX2VucmljaF91cmw6IHJlcXVlc3Q/LnNraXBfZW5yaWNoX3VybCxcbiAgICAgICAgICAgICAgICBza2lwX3B1c2g6IHJlcXVlc3Q/LnNraXBfcHVzaCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3tpZH0vdW5kZWxldGUnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuVXBkYXRlTWVzc2FnZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jYXN0UG9sbFZvdGUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3Q/LnBvbGxfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICAgICAgdm90ZTogcmVxdWVzdD8udm90ZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3ttZXNzYWdlX2lkfS9wb2xscy97cG9sbF9pZH0vdm90ZScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5Qb2xsVm90ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5yZW1vdmVQb2xsVm90ZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdD8ubWVzc2FnZV9pZCxcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0Py5wb2xsX2lkLFxuICAgICAgICAgICAgICAgIHZvdGVfaWQ6IHJlcXVlc3Q/LnZvdGVfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdERUxFVEUnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3ttZXNzYWdlX2lkfS9wb2xscy97cG9sbF9pZH0vdm90ZS97dm90ZV9pZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5Qb2xsVm90ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVSZW1pbmRlciA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdD8ubWVzc2FnZV9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve21lc3NhZ2VfaWR9L3JlbWluZGVycycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkRlbGV0ZVJlbWluZGVyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZVJlbWluZGVyID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdD8ubWVzc2FnZV9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlbWluZF9hdDogcmVxdWVzdD8ucmVtaW5kX2F0LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BBVENIJywgJy9hcGkvdjIvY2hhdC9tZXNzYWdlcy97bWVzc2FnZV9pZH0vcmVtaW5kZXJzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwZGF0ZVJlbWluZGVyUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNyZWF0ZVJlbWluZGVyID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdD8ubWVzc2FnZV9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHJlbWluZF9hdDogcmVxdWVzdD8ucmVtaW5kX2F0LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L21lc3NhZ2VzL3ttZXNzYWdlX2lkfS9yZW1pbmRlcnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUmVtaW5kZXJSZXNwb25zZURhdGE/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFJlcGxpZXMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbGltaXQ6IHJlcXVlc3Q/LmxpbWl0LFxuICAgICAgICAgICAgICAgIG9mZnNldDogcmVxdWVzdD8ub2Zmc2V0LFxuICAgICAgICAgICAgICAgIGlkX2d0ZTogcmVxdWVzdD8uaWRfZ3RlLFxuICAgICAgICAgICAgICAgIGlkX2d0OiByZXF1ZXN0Py5pZF9ndCxcbiAgICAgICAgICAgICAgICBpZF9sdGU6IHJlcXVlc3Q/LmlkX2x0ZSxcbiAgICAgICAgICAgICAgICBpZF9sdDogcmVxdWVzdD8uaWRfbHQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdF9hZnRlcl9vcl9lcXVhbDogcmVxdWVzdD8uY3JlYXRlZF9hdF9hZnRlcl9vcl9lcXVhbCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0X2FmdGVyOiByZXF1ZXN0Py5jcmVhdGVkX2F0X2FmdGVyLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXRfYmVmb3JlX29yX2VxdWFsOiByZXF1ZXN0Py5jcmVhdGVkX2F0X2JlZm9yZV9vcl9lcXVhbCxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0X2JlZm9yZTogcmVxdWVzdD8uY3JlYXRlZF9hdF9iZWZvcmUsXG4gICAgICAgICAgICAgICAgaWRfYXJvdW5kOiByZXF1ZXN0Py5pZF9hcm91bmQsXG4gICAgICAgICAgICAgICAgY3JlYXRlZF9hdF9hcm91bmQ6IHJlcXVlc3Q/LmNyZWF0ZWRfYXRfYXJvdW5kLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwYXJlbnRfaWQ6IHJlcXVlc3Q/LnBhcmVudF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbWVzc2FnZXMve3BhcmVudF9pZH0vcmVwbGllcycsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldFJlcGxpZXNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlNZXNzYWdlRmxhZ3MgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdD8ucGF5bG9hZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvbW9kZXJhdGlvbi9mbGFncy9tZXNzYWdlJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeU1lc3NhZ2VGbGFnc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tdXRlQ2hhbm5lbCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGV4cGlyYXRpb246IHJlcXVlc3Q/LmV4cGlyYXRpb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjaGFubmVsX2NpZHM6IHJlcXVlc3Q/LmNoYW5uZWxfY2lkcyxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvbW9kZXJhdGlvbi9tdXRlL2NoYW5uZWwnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5NdXRlQ2hhbm5lbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51bm11dGVDaGFubmVsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZXhwaXJhdGlvbjogcmVxdWVzdD8uZXhwaXJhdGlvbixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGNoYW5uZWxfY2lkczogcmVxdWVzdD8uY2hhbm5lbF9jaWRzLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9tb2RlcmF0aW9uL3VubXV0ZS9jaGFubmVsJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuVW5tdXRlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNyZWF0ZVBvbGwgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgICAgIGFsbG93X2Fuc3dlcnM6IHJlcXVlc3Q/LmFsbG93X2Fuc3dlcnMsXG4gICAgICAgICAgICAgICAgYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9uczogcmVxdWVzdD8uYWxsb3dfdXNlcl9zdWdnZXN0ZWRfb3B0aW9ucyxcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVxdWVzdD8uZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgZW5mb3JjZV91bmlxdWVfdm90ZTogcmVxdWVzdD8uZW5mb3JjZV91bmlxdWVfdm90ZSxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICAgICAgaXNfY2xvc2VkOiByZXF1ZXN0Py5pc19jbG9zZWQsXG4gICAgICAgICAgICAgICAgbWF4X3ZvdGVzX2FsbG93ZWQ6IHJlcXVlc3Q/Lm1heF92b3Rlc19hbGxvd2VkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdm90aW5nX3Zpc2liaWxpdHk6IHJlcXVlc3Q/LnZvdGluZ192aXNpYmlsaXR5LFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHJlcXVlc3Q/Lm9wdGlvbnMsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3BvbGxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUG9sbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2xsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgICAgIG5hbWU6IHJlcXVlc3Q/Lm5hbWUsXG4gICAgICAgICAgICAgICAgYWxsb3dfYW5zd2VyczogcmVxdWVzdD8uYWxsb3dfYW5zd2VycyxcbiAgICAgICAgICAgICAgICBhbGxvd191c2VyX3N1Z2dlc3RlZF9vcHRpb25zOiByZXF1ZXN0Py5hbGxvd191c2VyX3N1Z2dlc3RlZF9vcHRpb25zLFxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXF1ZXN0Py5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICBlbmZvcmNlX3VuaXF1ZV92b3RlOiByZXF1ZXN0Py5lbmZvcmNlX3VuaXF1ZV92b3RlLFxuICAgICAgICAgICAgICAgIGlzX2Nsb3NlZDogcmVxdWVzdD8uaXNfY2xvc2VkLFxuICAgICAgICAgICAgICAgIG1heF92b3Rlc19hbGxvd2VkOiByZXF1ZXN0Py5tYXhfdm90ZXNfYWxsb3dlZCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHZvdGluZ192aXNpYmlsaXR5OiByZXF1ZXN0Py52b3RpbmdfdmlzaWJpbGl0eSxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiByZXF1ZXN0Py5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQVVQnLCAnL2FwaS92Mi9jaGF0L3BvbGxzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUG9sbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeVBvbGxzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wb2xscy9xdWVyeScsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUXVlcnlQb2xsc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVQb2xsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0Py5wb2xsX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0UG9sbCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdD8ucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUG9sbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2xsUGFydGlhbCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3Q/LnBvbGxfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHVuc2V0OiByZXF1ZXN0Py51bnNldCxcbiAgICAgICAgICAgICAgICBzZXQ6IHJlcXVlc3Q/LnNldCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUEFUQ0gnLCAnL2FwaS92Mi9jaGF0L3BvbGxzL3twb2xsX2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5Qb2xsUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNyZWF0ZVBvbGxPcHRpb24gPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0Py5wb2xsX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdGV4dDogcmVxdWVzdD8udGV4dCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVxdWVzdD8ucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBjdXN0b206IHJlcXVlc3Q/LmN1c3RvbSxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9L29wdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUG9sbE9wdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVQb2xsT3B0aW9uID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcG9sbF9pZDogcmVxdWVzdD8ucG9sbF9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgICAgICB0ZXh0OiByZXF1ZXN0Py50ZXh0LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BVVCcsICcvYXBpL3YyL2NoYXQvcG9sbHMve3BvbGxfaWR9L29wdGlvbnMnLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUG9sbE9wdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVQb2xsT3B0aW9uID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0Py5wb2xsX2lkLFxuICAgICAgICAgICAgICAgIG9wdGlvbl9pZDogcmVxdWVzdD8ub3B0aW9uX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vb3B0aW9ucy97b3B0aW9uX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRQb2xsT3B0aW9uID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBwb2xsX2lkOiByZXF1ZXN0Py5wb2xsX2lkLFxuICAgICAgICAgICAgICAgIG9wdGlvbl9pZDogcmVxdWVzdD8ub3B0aW9uX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vb3B0aW9ucy97b3B0aW9uX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlBvbGxPcHRpb25SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlQb2xsVm90ZXMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBvbGxfaWQ6IHJlcXVlc3Q/LnBvbGxfaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wb2xscy97cG9sbF9pZH0vdm90ZXMnLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcywgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5Qb2xsVm90ZXNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlUHVzaE5vdGlmaWNhdGlvblByZWZlcmVuY2VzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgcHJlZmVyZW5jZXM6IHJlcXVlc3Q/LnByZWZlcmVuY2VzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvcHVzaF9wcmVmZXJlbmNlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwc2VydFB1c2hQcmVmZXJlbmNlc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRQdXNoVGVtcGxhdGVzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfdHlwZTogcmVxdWVzdD8ucHVzaF9wcm92aWRlcl90eXBlLFxuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfbmFtZTogcmVxdWVzdD8ucHVzaF9wcm92aWRlcl9uYW1lLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9wdXNoX3RlbXBsYXRlcycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuR2V0UHVzaFRlbXBsYXRlc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cHNlcnRQdXNoVGVtcGxhdGUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBldmVudF90eXBlOiByZXF1ZXN0Py5ldmVudF90eXBlLFxuICAgICAgICAgICAgICAgIHB1c2hfcHJvdmlkZXJfdHlwZTogcmVxdWVzdD8ucHVzaF9wcm92aWRlcl90eXBlLFxuICAgICAgICAgICAgICAgIGVuYWJsZV9wdXNoOiByZXF1ZXN0Py5lbmFibGVfcHVzaCxcbiAgICAgICAgICAgICAgICBwdXNoX3Byb3ZpZGVyX25hbWU6IHJlcXVlc3Q/LnB1c2hfcHJvdmlkZXJfbmFtZSxcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogcmVxdWVzdD8udGVtcGxhdGUsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9wdXNoX3RlbXBsYXRlcycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwc2VydFB1c2hUZW1wbGF0ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeUJhbm5lZFVzZXJzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHJlcXVlc3Q/LnBheWxvYWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9jaGF0L3F1ZXJ5X2Jhbm5lZF91c2VycycsIHVuZGVmaW5lZCwgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUXVlcnlCYW5uZWRVc2Vyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeVJlbWluZGVycyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvY2hhdC9yZW1pbmRlcnMvcXVlcnknLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeVJlbWluZGVyc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZDogcmVxdWVzdD8ucGF5bG9hZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvc2VhcmNoJywgdW5kZWZpbmVkLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5TZWFyY2hSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlTZWdtZW50cyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3NlZ21lbnRzL3F1ZXJ5JywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUXVlcnlTZWdtZW50c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVTZWdtZW50ID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnREVMRVRFJywgJy9hcGkvdjIvY2hhdC9zZWdtZW50cy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRTZWdtZW50ID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9zZWdtZW50cy97aWR9JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldFNlZ21lbnRSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlU2VnbWVudFRhcmdldHMgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdD8uaWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfaWRzOiByZXF1ZXN0Py50YXJnZXRfaWRzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvc2VnbWVudHMve2lkfS9kZWxldGV0YXJnZXRzJywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZWdtZW50VGFyZ2V0RXhpc3RzID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3Q/LmlkLFxuICAgICAgICAgICAgICAgIHRhcmdldF9pZDogcmVxdWVzdD8udGFyZ2V0X2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC9zZWdtZW50cy97aWR9L3RhcmdldC97dGFyZ2V0X2lkfScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlTZWdtZW50VGFyZ2V0cyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3NlZ21lbnRzL3tpZH0vdGFyZ2V0cy9xdWVyeScsIHBhdGhQYXJhbXMsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeVNlZ21lbnRUYXJnZXRzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5VGhyZWFkcyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBtZW1iZXJfbGltaXQ6IHJlcXVlc3Q/Lm1lbWJlcl9saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50X2xpbWl0OiByZXF1ZXN0Py5wYXJ0aWNpcGFudF9saW1pdCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgICAgIHJlcGx5X2xpbWl0OiByZXF1ZXN0Py5yZXBseV9saW1pdCxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIHNvcnQ6IHJlcXVlc3Q/LnNvcnQsXG4gICAgICAgICAgICAgICAgZmlsdGVyOiByZXF1ZXN0Py5maWx0ZXIsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3RocmVhZHMnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeVRocmVhZHNSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0VGhyZWFkID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHJlcGx5X2xpbWl0OiByZXF1ZXN0Py5yZXBseV9saW1pdCxcbiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudF9saW1pdDogcmVxdWVzdD8ucGFydGljaXBhbnRfbGltaXQsXG4gICAgICAgICAgICAgICAgbWVtYmVyX2xpbWl0OiByZXF1ZXN0Py5tZW1iZXJfbGltaXQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlX2lkOiByZXF1ZXN0Py5tZXNzYWdlX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvY2hhdC90aHJlYWRzL3ttZXNzYWdlX2lkfScsIHBhdGhQYXJhbXMsIHF1ZXJ5UGFyYW1zKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkdldFRocmVhZFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGRhdGVUaHJlYWRQYXJ0aWFsID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZV9pZDogcmVxdWVzdD8ubWVzc2FnZV9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdW5zZXQ6IHJlcXVlc3Q/LnVuc2V0LFxuICAgICAgICAgICAgICAgIHNldDogcmVxdWVzdD8uc2V0LFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQQVRDSCcsICcvYXBpL3YyL2NoYXQvdGhyZWFkcy97bWVzc2FnZV9pZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuVXBkYXRlVGhyZWFkUGFydGlhbFJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51bnJlYWRDb3VudHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL2NoYXQvdW5yZWFkJywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuV3JhcHBlZFVucmVhZENvdW50c1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51bnJlYWRDb3VudHNCYXRjaCA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHVzZXJfaWRzOiByZXF1ZXN0Py51c2VyX2lkcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9jaGF0L3VucmVhZF9iYXRjaCcsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVucmVhZENvdW50c0JhdGNoUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNlbmRVc2VyQ3VzdG9tRXZlbnQgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZXZlbnQ6IHJlcXVlc3Q/LmV2ZW50LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL2NoYXQvdXNlcnMve3VzZXJfaWR9L2V2ZW50JywgcGF0aFBhcmFtcywgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIENoYW5uZWxBcGkge1xuICAgIGNvbnN0cnVjdG9yKGNoYXRBcGksIHR5cGUsIGlkKSB7XG4gICAgICAgIHRoaXMuY2hhdEFwaSA9IGNoYXRBcGk7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5kZWxldGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmRlbGV0ZUNoYW5uZWwoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlQ2hhbm5lbFBhcnRpYWwgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnVwZGF0ZUNoYW5uZWxQYXJ0aWFsKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVwZGF0ZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBkYXRlQ2hhbm5lbCh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5kZWxldGVEcmFmdCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuZGVsZXRlRHJhZnQoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0RHJhZnQgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmdldERyYWZ0KHsgaWQ6IHRoaXMuaWQsIHR5cGU6IHRoaXMudHlwZSwgLi4ucmVxdWVzdCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZW5kRXZlbnQgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnNlbmRFdmVudCh7IGlkOiB0aGlzLmlkLCB0eXBlOiB0aGlzLnR5cGUsIC4uLnJlcXVlc3QgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlRmlsZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuZGVsZXRlRmlsZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGxvYWRGaWxlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS51cGxvYWRGaWxlKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmhpZGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmhpZGVDaGFubmVsKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmRlbGV0ZUltYWdlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5kZWxldGVJbWFnZSh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cGxvYWRJbWFnZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBsb2FkSW1hZ2Uoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudXBkYXRlTWVtYmVyUGFydGlhbCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkudXBkYXRlTWVtYmVyUGFydGlhbCh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zZW5kTWVzc2FnZSA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuc2VuZE1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0TWFueU1lc3NhZ2VzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS5nZXRNYW55TWVzc2FnZXMoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZ2V0T3JDcmVhdGUgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLmdldE9yQ3JlYXRlQ2hhbm5lbCh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tYXJrUmVhZCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkubWFya1JlYWQoeyBpZDogdGhpcy5pZCwgdHlwZTogdGhpcy50eXBlLCAuLi5yZXF1ZXN0IH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnNob3cgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDaGFubmVsIGlzbid0IHlldCBjcmVhdGVkLCBjYWxsIGdldE9yQ3JlYXRlRGlzdGluY3RDaGFubmVsKCkgYmVmb3JlIHRoaXMgb3BlcmF0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnNob3dDaGFubmVsKHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5pZCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnRydW5jYXRlID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2hhbm5lbCBpc24ndCB5ZXQgY3JlYXRlZCwgY2FsbCBnZXRPckNyZWF0ZURpc3RpbmN0Q2hhbm5lbCgpIGJlZm9yZSB0aGlzIG9wZXJhdGlvbmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaS50cnVuY2F0ZUNoYW5uZWwoe1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmlkLFxuICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMubWFya1VucmVhZCA9IChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENoYW5uZWwgaXNuJ3QgeWV0IGNyZWF0ZWQsIGNhbGwgZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoKSBiZWZvcmUgdGhpcyBvcGVyYXRpb25gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkubWFya1VucmVhZCh7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIFN0cmVhbUNoYW5uZWwgZXh0ZW5kcyBDaGFubmVsQXBpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5nZXRPckNyZWF0ZSA9IChjaGFubmVsX2dldF9vcl9jcmVhdGVfcmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2hhdEFwaVxuICAgICAgICAgICAgICAgICAgICAuZ2V0T3JDcmVhdGVEaXN0aW5jdENoYW5uZWwoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAgICAgICAgIC4uLmNoYW5uZWxfZ2V0X29yX2NyZWF0ZV9yZXF1ZXN0LFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkID0gcmVzcG9uc2UuY2hhbm5lbD8uaWQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXRBcGkuZ2V0T3JDcmVhdGVDaGFubmVsKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHRoaXMudHlwZSxcbiAgICAgICAgICAgICAgICAgICAgLi4uY2hhbm5lbF9nZXRfb3JfY3JlYXRlX3JlcXVlc3QsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldCBjaWQoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnR5cGV9OiR7dGhpcy5pZH1gO1xuICAgIH1cbiAgICBxdWVyeU1lbWJlcnMocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGF0QXBpLnF1ZXJ5TWVtYmVycyh7XG4gICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgaWQ6IHRoaXMuaWQsXG4gICAgICAgICAgICAgICAgdHlwZTogdGhpcy50eXBlLFxuICAgICAgICAgICAgICAgIC4uLihyZXF1ZXN0Py5wYXlsb2FkID8/IHsgZmlsdGVyX2NvbmRpdGlvbnM6IHt9IH0pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5jbGFzcyBTdHJlYW1DaGF0Q2xpZW50IGV4dGVuZHMgQ2hhdEFwaSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuY2hhbm5lbCA9ICh0eXBlLCBpZCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW1DaGFubmVsKHRoaXMsIHR5cGUsIGlkKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIE1vZGVyYXRpb25BcGkgZXh0ZW5kcyBCYXNlQXBpIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5iYW4gPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogcmVxdWVzdD8udGFyZ2V0X3VzZXJfaWQsXG4gICAgICAgICAgICAgICAgYmFubmVkX2J5X2lkOiByZXF1ZXN0Py5iYW5uZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF9jaWQ6IHJlcXVlc3Q/LmNoYW5uZWxfY2lkLFxuICAgICAgICAgICAgICAgIGRlbGV0ZV9tZXNzYWdlczogcmVxdWVzdD8uZGVsZXRlX21lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIGlwX2JhbjogcmVxdWVzdD8uaXBfYmFuLFxuICAgICAgICAgICAgICAgIHJlYXNvbjogcmVxdWVzdD8ucmVhc29uLFxuICAgICAgICAgICAgICAgIHNoYWRvdzogcmVxdWVzdD8uc2hhZG93LFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IHJlcXVlc3Q/LnRpbWVvdXQsXG4gICAgICAgICAgICAgICAgYmFubmVkX2J5OiByZXF1ZXN0Py5iYW5uZWRfYnksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9iYW4nLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5CYW5SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuYnVsa0ltYWdlTW9kZXJhdGlvbiA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGNzdl9maWxlOiByZXF1ZXN0Py5jc3ZfZmlsZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2J1bGtfaW1hZ2VfbW9kZXJhdGlvbicsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkJ1bGtJbWFnZU1vZGVyYXRpb25SZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hlY2sgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBjb25maWdfa2V5OiByZXF1ZXN0Py5jb25maWdfa2V5LFxuICAgICAgICAgICAgICAgIGVudGl0eV9jcmVhdG9yX2lkOiByZXF1ZXN0Py5lbnRpdHlfY3JlYXRvcl9pZCxcbiAgICAgICAgICAgICAgICBlbnRpdHlfaWQ6IHJlcXVlc3Q/LmVudGl0eV9pZCxcbiAgICAgICAgICAgICAgICBlbnRpdHlfdHlwZTogcmVxdWVzdD8uZW50aXR5X3R5cGUsXG4gICAgICAgICAgICAgICAgY29uZmlnX3RlYW06IHJlcXVlc3Q/LmNvbmZpZ190ZWFtLFxuICAgICAgICAgICAgICAgIHRlc3RfbW9kZTogcmVxdWVzdD8udGVzdF9tb2RlLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbl9wYXlsb2FkOiByZXF1ZXN0Py5tb2RlcmF0aW9uX3BheWxvYWQsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogcmVxdWVzdD8ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vY2hlY2snLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5DaGVja1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51cHNlcnRDb25maWcgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IHJlcXVlc3Q/LmtleSxcbiAgICAgICAgICAgICAgICBhc3luYzogcmVxdWVzdD8uYXN5bmMsXG4gICAgICAgICAgICAgICAgdGVhbTogcmVxdWVzdD8udGVhbSxcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGFpX2ltYWdlX2NvbmZpZzogcmVxdWVzdD8uYWlfaW1hZ2VfY29uZmlnLFxuICAgICAgICAgICAgICAgIGFpX3RleHRfY29uZmlnOiByZXF1ZXN0Py5haV90ZXh0X2NvbmZpZyxcbiAgICAgICAgICAgICAgICBhaV92aWRlb19jb25maWc6IHJlcXVlc3Q/LmFpX3ZpZGVvX2NvbmZpZyxcbiAgICAgICAgICAgICAgICBhdXRvbW9kX3BsYXRmb3JtX2NpcmN1bXZlbnRpb25fY29uZmlnOiByZXF1ZXN0Py5hdXRvbW9kX3BsYXRmb3JtX2NpcmN1bXZlbnRpb25fY29uZmlnLFxuICAgICAgICAgICAgICAgIGF1dG9tb2Rfc2VtYW50aWNfZmlsdGVyc19jb25maWc6IHJlcXVlc3Q/LmF1dG9tb2Rfc2VtYW50aWNfZmlsdGVyc19jb25maWcsXG4gICAgICAgICAgICAgICAgYXV0b21vZF90b3hpY2l0eV9jb25maWc6IHJlcXVlc3Q/LmF1dG9tb2RfdG94aWNpdHlfY29uZmlnLFxuICAgICAgICAgICAgICAgIGF3c19yZWtvZ25pdGlvbl9jb25maWc6IHJlcXVlc3Q/LmF3c19yZWtvZ25pdGlvbl9jb25maWcsXG4gICAgICAgICAgICAgICAgYmxvY2tfbGlzdF9jb25maWc6IHJlcXVlc3Q/LmJsb2NrX2xpc3RfY29uZmlnLFxuICAgICAgICAgICAgICAgIGJvZHlndWFyZF9jb25maWc6IHJlcXVlc3Q/LmJvZHlndWFyZF9jb25maWcsXG4gICAgICAgICAgICAgICAgZ29vZ2xlX3Zpc2lvbl9jb25maWc6IHJlcXVlc3Q/Lmdvb2dsZV92aXNpb25fY29uZmlnLFxuICAgICAgICAgICAgICAgIHJ1bGVfYnVpbGRlcl9jb25maWc6IHJlcXVlc3Q/LnJ1bGVfYnVpbGRlcl9jb25maWcsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgICAgICB2ZWxvY2l0eV9maWx0ZXJfY29uZmlnOiByZXF1ZXN0Py52ZWxvY2l0eV9maWx0ZXJfY29uZmlnLFxuICAgICAgICAgICAgICAgIHZpZGVvX2NhbGxfcnVsZV9jb25maWc6IHJlcXVlc3Q/LnZpZGVvX2NhbGxfcnVsZV9jb25maWcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9jb25maWcnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5VcHNlcnRDb25maWdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZGVsZXRlQ29uZmlnID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIHRlYW06IHJlcXVlc3Q/LnRlYW0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcGF0aFBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICBrZXk6IHJlcXVlc3Q/LmtleSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL21vZGVyYXRpb24vY29uZmlnL3trZXl9JywgcGF0aFBhcmFtcywgcXVlcnlQYXJhbXMpO1xuICAgICAgICAgICAgZGVjb2RlcnMuRGVsZXRlTW9kZXJhdGlvbkNvbmZpZ1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5nZXRDb25maWcgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcXVlcnlQYXJhbXMgPSB7XG4gICAgICAgICAgICAgICAgdGVhbTogcmVxdWVzdD8udGVhbSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGtleTogcmVxdWVzdD8ua2V5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnR0VUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9jb25maWcve2tleX0nLCBwYXRoUGFyYW1zLCBxdWVyeVBhcmFtcyk7XG4gICAgICAgICAgICBkZWNvZGVycy5HZXRDb25maWdSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlNb2RlcmF0aW9uQ29uZmlncyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9jb25maWdzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUXVlcnlNb2RlcmF0aW9uQ29uZmlnc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5jdXN0b21DaGVjayA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGVudGl0eV9pZDogcmVxdWVzdD8uZW50aXR5X2lkLFxuICAgICAgICAgICAgICAgIGVudGl0eV90eXBlOiByZXF1ZXN0Py5lbnRpdHlfdHlwZSxcbiAgICAgICAgICAgICAgICBmbGFnczogcmVxdWVzdD8uZmxhZ3MsXG4gICAgICAgICAgICAgICAgZW50aXR5X2NyZWF0b3JfaWQ6IHJlcXVlc3Q/LmVudGl0eV9jcmVhdG9yX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgbW9kZXJhdGlvbl9wYXlsb2FkOiByZXF1ZXN0Py5tb2RlcmF0aW9uX3BheWxvYWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2N1c3RvbV9jaGVjaycsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLkN1c3RvbUNoZWNrUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnYyRGVsZXRlVGVtcGxhdGUgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0RFTEVURScsICcvYXBpL3YyL21vZGVyYXRpb24vZmVlZHNfbW9kZXJhdGlvbl90ZW1wbGF0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgIGRlY29kZXJzLkRlbGV0ZU1vZGVyYXRpb25UZW1wbGF0ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52MlF1ZXJ5VGVtcGxhdGVzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdHRVQnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZlZWRzX21vZGVyYXRpb25fdGVtcGxhdGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeUZlZWRNb2RlcmF0aW9uVGVtcGxhdGVzUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnYyVXBzZXJ0VGVtcGxhdGUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiByZXF1ZXN0Py5uYW1lLFxuICAgICAgICAgICAgICAgIGNvbmZpZzogcmVxdWVzdD8uY29uZmlnLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vZmVlZHNfbW9kZXJhdGlvbl90ZW1wbGF0ZScsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVwc2VydE1vZGVyYXRpb25UZW1wbGF0ZVJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mbGFnID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgZW50aXR5X2lkOiByZXF1ZXN0Py5lbnRpdHlfaWQsXG4gICAgICAgICAgICAgICAgZW50aXR5X3R5cGU6IHJlcXVlc3Q/LmVudGl0eV90eXBlLFxuICAgICAgICAgICAgICAgIGVudGl0eV9jcmVhdG9yX2lkOiByZXF1ZXN0Py5lbnRpdHlfY3JlYXRvcl9pZCxcbiAgICAgICAgICAgICAgICByZWFzb246IHJlcXVlc3Q/LnJlYXNvbixcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiByZXF1ZXN0Py51c2VyX2lkLFxuICAgICAgICAgICAgICAgIGN1c3RvbTogcmVxdWVzdD8uY3VzdG9tLFxuICAgICAgICAgICAgICAgIG1vZGVyYXRpb25fcGF5bG9hZDogcmVxdWVzdD8ubW9kZXJhdGlvbl9wYXlsb2FkLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9mbGFnJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuRmxhZ1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeU1vZGVyYXRpb25GbGFncyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICAgICAgc29ydDogcmVxdWVzdD8uc29ydCxcbiAgICAgICAgICAgICAgICBmaWx0ZXI6IHJlcXVlc3Q/LmZpbHRlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL2ZsYWdzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUXVlcnlNb2RlcmF0aW9uRmxhZ3NSZXNwb25zZT8uKHJlc3BvbnNlLmJvZHkpO1xuICAgICAgICAgICAgcmV0dXJuIHsgLi4ucmVzcG9uc2UuYm9keSwgbWV0YWRhdGE6IHJlc3BvbnNlLm1ldGFkYXRhIH07XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMucXVlcnlNb2RlcmF0aW9uTG9ncyA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGxpbWl0OiByZXF1ZXN0Py5saW1pdCxcbiAgICAgICAgICAgICAgICBuZXh0OiByZXF1ZXN0Py5uZXh0LFxuICAgICAgICAgICAgICAgIHByZXY6IHJlcXVlc3Q/LnByZXYsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9sb2dzJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuUXVlcnlNb2RlcmF0aW9uTG9nc1Jlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5tdXRlID0gYXN5bmMgKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0X2lkczogcmVxdWVzdD8udGFyZ2V0X2lkcyxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiByZXF1ZXN0Py50aW1lb3V0LFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgdXNlcjogcmVxdWVzdD8udXNlcixcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ1BPU1QnLCAnL2FwaS92Mi9tb2RlcmF0aW9uL211dGUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5NdXRlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnF1ZXJ5UmV2aWV3UXVldWUgPSBhc3luYyAocmVxdWVzdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICBsaW1pdDogcmVxdWVzdD8ubGltaXQsXG4gICAgICAgICAgICAgICAgbG9ja19jb3VudDogcmVxdWVzdD8ubG9ja19jb3VudCxcbiAgICAgICAgICAgICAgICBsb2NrX2R1cmF0aW9uOiByZXF1ZXN0Py5sb2NrX2R1cmF0aW9uLFxuICAgICAgICAgICAgICAgIGxvY2tfaXRlbXM6IHJlcXVlc3Q/LmxvY2tfaXRlbXMsXG4gICAgICAgICAgICAgICAgbmV4dDogcmVxdWVzdD8ubmV4dCxcbiAgICAgICAgICAgICAgICBwcmV2OiByZXF1ZXN0Py5wcmV2LFxuICAgICAgICAgICAgICAgIHN0YXRzX29ubHk6IHJlcXVlc3Q/LnN0YXRzX29ubHksXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICBzb3J0OiByZXF1ZXN0Py5zb3J0LFxuICAgICAgICAgICAgICAgIGZpbHRlcjogcmVxdWVzdD8uZmlsdGVyLFxuICAgICAgICAgICAgICAgIHVzZXI6IHJlcXVlc3Q/LnVzZXIsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCdQT1NUJywgJy9hcGkvdjIvbW9kZXJhdGlvbi9yZXZpZXdfcXVldWUnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgYm9keSk7XG4gICAgICAgICAgICBkZWNvZGVycy5RdWVyeVJldmlld1F1ZXVlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmdldFJldmlld1F1ZXVlSXRlbSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXRoUGFyYW1zID0ge1xuICAgICAgICAgICAgICAgIGlkOiByZXF1ZXN0Py5pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoJ0dFVCcsICcvYXBpL3YyL21vZGVyYXRpb24vcmV2aWV3X3F1ZXVlL3tpZH0nLCBwYXRoUGFyYW1zLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgZGVjb2RlcnMuR2V0UmV2aWV3UXVldWVJdGVtUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnN1Ym1pdEFjdGlvbiA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIGFjdGlvbl90eXBlOiByZXF1ZXN0Py5hY3Rpb25fdHlwZSxcbiAgICAgICAgICAgICAgICBpdGVtX2lkOiByZXF1ZXN0Py5pdGVtX2lkLFxuICAgICAgICAgICAgICAgIHVzZXJfaWQ6IHJlcXVlc3Q/LnVzZXJfaWQsXG4gICAgICAgICAgICAgICAgYmFuOiByZXF1ZXN0Py5iYW4sXG4gICAgICAgICAgICAgICAgY3VzdG9tOiByZXF1ZXN0Py5jdXN0b20sXG4gICAgICAgICAgICAgICAgZGVsZXRlX2FjdGl2aXR5OiByZXF1ZXN0Py5kZWxldGVfYWN0aXZpdHksXG4gICAgICAgICAgICAgICAgZGVsZXRlX21lc3NhZ2U6IHJlcXVlc3Q/LmRlbGV0ZV9tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGRlbGV0ZV9yZWFjdGlvbjogcmVxdWVzdD8uZGVsZXRlX3JlYWN0aW9uLFxuICAgICAgICAgICAgICAgIGRlbGV0ZV91c2VyOiByZXF1ZXN0Py5kZWxldGVfdXNlcixcbiAgICAgICAgICAgICAgICBtYXJrX3Jldmlld2VkOiByZXF1ZXN0Py5tYXJrX3Jldmlld2VkLFxuICAgICAgICAgICAgICAgIHVuYmFuOiByZXF1ZXN0Py51bmJhbixcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vc3VibWl0X2FjdGlvbicsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlN1Ym1pdEFjdGlvblJlc3BvbnNlPy4ocmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICByZXR1cm4geyAuLi5yZXNwb25zZS5ib2R5LCBtZXRhZGF0YTogcmVzcG9uc2UubWV0YWRhdGEgfTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy51bmJhbiA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICB0YXJnZXRfdXNlcl9pZDogcmVxdWVzdD8udGFyZ2V0X3VzZXJfaWQsXG4gICAgICAgICAgICAgICAgY2hhbm5lbF9jaWQ6IHJlcXVlc3Q/LmNoYW5uZWxfY2lkLFxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYnk6IHJlcXVlc3Q/LmNyZWF0ZWRfYnksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgICAgICB1bmJhbm5lZF9ieV9pZDogcmVxdWVzdD8udW5iYW5uZWRfYnlfaWQsXG4gICAgICAgICAgICAgICAgdW5iYW5uZWRfYnk6IHJlcXVlc3Q/LnVuYmFubmVkX2J5LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vdW5iYW4nLCB1bmRlZmluZWQsIHF1ZXJ5UGFyYW1zLCBib2R5KTtcbiAgICAgICAgICAgIGRlY29kZXJzLlVuYmFuUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnVubXV0ZSA9IGFzeW5jIChyZXF1ZXN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgICAgIHRhcmdldF9pZHM6IHJlcXVlc3Q/LnRhcmdldF9pZHMsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogcmVxdWVzdD8udXNlcl9pZCxcbiAgICAgICAgICAgICAgICB1c2VyOiByZXF1ZXN0Py51c2VyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgnUE9TVCcsICcvYXBpL3YyL21vZGVyYXRpb24vdW5tdXRlJywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGJvZHkpO1xuICAgICAgICAgICAgZGVjb2RlcnMuVW5tdXRlUmVzcG9uc2U/LihyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3BvbnNlLmJvZHksIG1ldGFkYXRhOiByZXNwb25zZS5tZXRhZGF0YSB9O1xuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgU3RyZWFtTW9kZXJhdGlvbkNsaWVudCBleHRlbmRzIE1vZGVyYXRpb25BcGkge1xufVxuXG5jbGFzcyBTdHJlYW1DbGllbnQgZXh0ZW5kcyBDb21tb25BcGkge1xuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGFwaUtleVxuICAgICAqIEBwYXJhbSBzZWNyZXRcbiAgICAgKiBAcGFyYW0gY29uZmlnIGNvbmZpZyBvYmplY3RcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcGlLZXksIHNlY3JldCwgY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gSldUU2VydmVyVG9rZW4oc2VjcmV0KTtcbiAgICAgICAgY29uc3QgdGltZW91dCA9IGNvbmZpZz8udGltZW91dCA/PyBTdHJlYW1DbGllbnQuREVGQVVMVF9USU1FT1VUO1xuICAgICAgICBjb25zdCBjaGF0QmFzZVVybCA9IGNvbmZpZz8uYmFzZVBhdGggPz8gJ2h0dHBzOi8vY2hhdC5zdHJlYW0taW8tYXBpLmNvbSc7XG4gICAgICAgIGNvbnN0IHZpZGVvQmFzZVVybCA9IGNvbmZpZz8uYmFzZVBhdGggPz8gJ2h0dHBzOi8vdmlkZW8uc3RyZWFtLWlvLWFwaS5jb20nO1xuICAgICAgICBzdXBlcih7XG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgICAgICBiYXNlVXJsOiBjaGF0QmFzZVVybCxcbiAgICAgICAgICAgIGFnZW50OiBjb25maWc/LmFnZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBhcGlLZXk7XG4gICAgICAgIHRoaXMuc2VjcmV0ID0gc2VjcmV0O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgICAgIHRoaXMudXBzZXJ0VXNlcnMgPSAodXNlcnMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7fTtcbiAgICAgICAgICAgIHVzZXJzLmZvckVhY2goKHUpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkW3UuaWRdID0gdTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlVXNlcnMoeyB1c2VyczogcGF5bG9hZCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5xdWVyeUJhbm5lZFVzZXJzID0gKHJlcXVlc3QpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoYXQucXVlcnlCYW5uZWRVc2VycyhyZXF1ZXN0KTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwYXlsb2FkXG4gICAgICAgICAqIC0gdXNlcl9pZCAtIHRoZSBpZCBvZiB0aGUgdXNlciB0aGUgdG9rZW4gaXMgZm9yXG4gICAgICAgICAqIC0gdmFsaWRpdHlfaW5fc2Vjb25kcyAtIGhvdyBtYW55IHNlY29uZHMgaXMgdGhlIHRva2VuIHZhbGlkIGZvciAoc3RhcnRpbmcgZnJvbSBpc3N1ZWQgYXQpLCBieSBkZWZhdWx0IGl0J3MgMSBob3VyLCBkaWNhcmRlZCBpZiBleHAgaXMgcHJvdmlkZWRcbiAgICAgICAgICogLSBleHAgLSB3aGVuIHRoZSB0b2tlbiBleHBpcmVzLCB1bml4IHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAgICAgICAqIC0gaWF0IC0gaXNzdWVkIGF0IGRhdGUgb2YgdGhlIHRva2VuLCB1bml4IHRpbWVzdGFtcCBpbiBzZWNvbmRzLCBieSBkZWZhdWx0IGl0J3Mgbm93XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlbmVyYXRlVXNlclRva2VuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRJYXQgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gMTAwMCkgLyAxMDAwKTtcbiAgICAgICAgICAgIHBheWxvYWQuaWF0ID0gcGF5bG9hZC5pYXQgPz8gZGVmYXVsdElhdDtcbiAgICAgICAgICAgIGNvbnN0IHZhbGlkaXR5SW5TZWNvbmRzID0gcGF5bG9hZC52YWxpZGl0eV9pbl9zZWNvbmRzID8/IDYwICogNjA7XG4gICAgICAgICAgICBwYXlsb2FkLmV4cCA9IHBheWxvYWQuZXhwID8/IHBheWxvYWQuaWF0ICsgdmFsaWRpdHlJblNlY29uZHM7XG4gICAgICAgICAgICByZXR1cm4gSldUVXNlclRva2VuKHRoaXMuc2VjcmV0LCBwYXlsb2FkKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSBwYXlsb2FkXG4gICAgICAgICAqIC0gdXNlcl9pZCAtIHRoZSBpZCBvZiB0aGUgdXNlciB0aGUgdG9rZW4gaXMgZm9yXG4gICAgICAgICAqIC0gdmFsaWRpdHlfaW5fc2Vjb25kcyAtIGhvdyBtYW55IHNlY29uZHMgaXMgdGhlIHRva2VuIHZhbGlkIGZvciAoc3RhcnRpbmcgZnJvbSBpc3N1ZWQgYXQpLCBieSBkZWZhdWx0IGl0J3MgMSBob3VyLCBkaWNhcmRlZCBpZiBleHAgaXMgcHJvdmlkZWRcbiAgICAgICAgICogLSBleHAgLSB3aGVuIHRoZSB0b2tlbiBleHBpcmVzLCB1bml4IHRpbWVzdGFtcCBpbiBzZWNvbmRzXG4gICAgICAgICAqIC0gaWF0IC0gaXNzdWVkIGF0IGRhdGUgb2YgdGhlIHRva2VuLCB1bml4IHRpbWVzdGFtcCBpbiBzZWNvbmRzLCBieSBkZWZhdWx0IGl0J3Mgbm93XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlbmVyYXRlQ2FsbFRva2VuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlVXNlclRva2VuKHBheWxvYWQpO1xuICAgICAgICB9O1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICogQHBhcmFtIHVzZXJJRFxuICAgICAgICAgKiBAcGFyYW0gZXhwXG4gICAgICAgICAqIEBwYXJhbSBpYXQgZGVwcmVjYXRlZCwgdGhlIGRlZmF1bHQgZGF0ZSB3aWxsIGJlIHNldCBpbnRlcm5hbGx5XG4gICAgICAgICAqIEByZXR1cm5zXG4gICAgICAgICAqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIHVzZSBnZW5lcmF0ZVVzZXJUb2tlbiBpbnN0ZWFkXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNyZWF0ZVRva2VuID0gKHVzZXJJRCwgZXhwID0gTWF0aC5yb3VuZChEYXRlLm5vdygpIC8gMTAwMCkgKyA2MCAqIDYwLCBpYXQgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gMTAwMCkgLyAxMDAwKSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICB1c2VyX2lkOiB1c2VySUQsXG4gICAgICAgICAgICAgICAgZXhwLFxuICAgICAgICAgICAgICAgIGlhdCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gSldUVXNlclRva2VuKHRoaXMuc2VjcmV0LCBwYXlsb2FkKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqIEBwYXJhbSB1c2VySURcbiAgICAgICAgICogQHBhcmFtIGNhbGxfY2lkc1xuICAgICAgICAgKiBAcGFyYW0gZXhwXG4gICAgICAgICAqIEBwYXJhbSBpYXQgdGhpcyBpcyBkZXByZWNhdGVkLCB0aGUgY3VycmVudCBkYXRlIHdpbGwgYmUgc2V0IGludGVybmFsbHlcbiAgICAgICAgICogQHJldHVybnNcbiAgICAgICAgICpcbiAgICAgICAgICogQGRlcHJlY2F0ZWQgdXNlIGdlbmVyYXRlQ2FsbFRva2VuIGluc3RlYWRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY3JlYXRlQ2FsbFRva2VuID0gKHVzZXJJZE9yT2JqZWN0LCBjYWxsX2NpZHMsIGV4cCA9IE1hdGgucm91bmQoRGF0ZS5ub3coKSAvIDEwMDApICsgNjAgKiA2MCwgaWF0ID0gTWF0aC5mbG9vcigoRGF0ZS5ub3coKSAtIDEwMDApIC8gMTAwMCkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSB7XG4gICAgICAgICAgICAgICAgZXhwLFxuICAgICAgICAgICAgICAgIGlhdCxcbiAgICAgICAgICAgICAgICBjYWxsX2NpZHMsXG4gICAgICAgICAgICAgICAgdXNlcl9pZDogdHlwZW9mIHVzZXJJZE9yT2JqZWN0ID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgICAgICA/IHVzZXJJZE9yT2JqZWN0XG4gICAgICAgICAgICAgICAgICAgIDogdXNlcklkT3JPYmplY3QudXNlcl9pZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVzZXJJZE9yT2JqZWN0ID09PSAnb2JqZWN0JyAmJiB1c2VySWRPck9iamVjdC5yb2xlKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5yb2xlID0gdXNlcklkT3JPYmplY3Qucm9sZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBKV1RVc2VyVG9rZW4odGhpcy5zZWNyZXQsIHBheWxvYWQpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZlcmlmeVdlYmhvb2sgPSAocmVxdWVzdEJvZHksIHhTaWduYXR1cmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IEJ1ZmZlci5mcm9tKHRoaXMuc2VjcmV0LCAndXRmOCcpO1xuICAgICAgICAgICAgY29uc3QgaGFzaCA9IGNyeXB0b1xuICAgICAgICAgICAgICAgIC5jcmVhdGVIbWFjKCdzaGEyNTYnLCBrZXkpXG4gICAgICAgICAgICAgICAgLnVwZGF0ZShyZXF1ZXN0Qm9keSlcbiAgICAgICAgICAgICAgICAuZGlnZXN0KCdoZXgnKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNyeXB0by50aW1pbmdTYWZlRXF1YWwoQnVmZmVyLmZyb20oaGFzaCksIEJ1ZmZlci5mcm9tKHhTaWduYXR1cmUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudmlkZW8gPSBuZXcgU3RyZWFtVmlkZW9DbGllbnQoe1xuICAgICAgICAgICAgc3RyZWFtQ2xpZW50OiB0aGlzLFxuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgYmFzZVVybDogdmlkZW9CYXNlVXJsLFxuICAgICAgICAgICAgYWdlbnQ6IGNvbmZpZz8uYWdlbnQsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNoYXQgPSBuZXcgU3RyZWFtQ2hhdENsaWVudCh7XG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgIHRpbWVvdXQsXG4gICAgICAgICAgICBiYXNlVXJsOiBjaGF0QmFzZVVybCxcbiAgICAgICAgICAgIGFnZW50OiBjb25maWc/LmFnZW50LFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5tb2RlcmF0aW9uID0gbmV3IFN0cmVhbU1vZGVyYXRpb25DbGllbnQoe1xuICAgICAgICAgICAgYXBpS2V5LFxuICAgICAgICAgICAgdG9rZW4sXG4gICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgYmFzZVVybDogY2hhdEJhc2VVcmwsXG4gICAgICAgICAgICBhZ2VudDogY29uZmlnPy5hZ2VudCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuU3RyZWFtQ2xpZW50LkRFRkFVTFRfVElNRU9VVCA9IDMwMDA7XG5cbmV4cG9ydCB7IENoYW5uZWxPd25DYXBhYmlsaXR5LCBPd25DYXBhYmlsaXR5LCBTdHJlYW1DYWxsLCBTdHJlYW1DaGFubmVsLCBTdHJlYW1DaGF0Q2xpZW50LCBTdHJlYW1DbGllbnQsIFN0cmVhbVZpZGVvQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(action-browser)/./node_modules/@stream-io/node-sdk/dist/index.es.mjs\n");

/***/ })

};
;